/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["/js/vendor"],{

/***/ "./node_modules/zego-express-engine-webrtc/ZegoExpressWebRTC.js":
/*!**********************************************************************!*\
  !*** ./node_modules/zego-express-engine-webrtc/ZegoExpressWebRTC.js ***!
  \**********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("!function(e,t){if(true)module.exports=t(__webpack_require__(/*! zego-express-engine-webrtm */ \"./node_modules/zego-express-engine-webrtm/ZegoExpressWebRTM.js\"));else { var i, r; }}(\"undefined\"!=typeof self?self:this,(function(__WEBPACK_EXTERNAL_MODULE__4119__){return function(){var __webpack_modules__={5467:function(e){\"use strict\";e.exports=function(e,t){var r=new Array(arguments.length-1),i=0,o=2,n=!0;for(;o<arguments.length;)r[i++]=arguments[o++];return new Promise((function(o,s){r[i]=function(e){if(n)if(n=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){n&&(n=!1,s(e))}}))}},4927:function(e,t){\"use strict\";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&\"=\"===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),o=new Array(123),n=0;n<64;)o[i[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;r.encode=function(e,t,r){for(var o,n=null,s=[],a=0,c=0;t<r;){var u=e[t++];switch(c){case 0:s[a++]=i[u>>2],o=(3&u)<<4,c=1;break;case 1:s[a++]=i[o|u>>4],o=(15&u)<<2,c=2;break;case 2:s[a++]=i[o|u>>6],s[a++]=i[63&u],c=0}a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[o],s[a++]=61,1===c&&(s[a++]=61)),n?(a&&n.push(String.fromCharCode.apply(String,s.slice(0,a))),n.join(\"\")):String.fromCharCode.apply(String,s.slice(0,a))};var s=\"invalid encoding\";r.decode=function(e,t,r){for(var i,n=r,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error(s);switch(a){case 0:i=u,a=1;break;case 1:t[r++]=i<<2|(48&u)>>4,i=u,a=2;break;case 2:t[r++]=(15&i)<<4|(60&u)>>2,i=u,a=3;break;case 3:t[r++]=(3&i)<<6|u,a=0}}if(1===a)throw Error(s);return r-n},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},121:function(e){\"use strict\";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}},7333:function(e){\"use strict\";function t(e){return\"undefined\"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=128===r[3];function o(e,i,o){t[0]=e,i[o]=r[0],i[o+1]=r[1],i[o+2]=r[2],i[o+3]=r[3]}function n(e,i,o){t[0]=e,i[o]=r[3],i[o+1]=r[2],i[o+2]=r[1],i[o+3]=r[0]}function s(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],t[0]}function a(e,i){return r[3]=e[i],r[2]=e[i+1],r[1]=e[i+2],r[0]=e[i+3],t[0]}e.writeFloatLE=i?o:n,e.writeFloatBE=i?n:o,e.readFloatLE=i?s:a,e.readFloatBE=i?a:s}():function(){function t(e,t,r,i){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,i);else if(isNaN(t))e(2143289344,r,i);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,i);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,i);else{var n=Math.floor(Math.log(t)/Math.LN2);e((o<<31|n+127<<23|8388607&Math.round(t*Math.pow(2,-n)*8388608))>>>0,r,i)}}function s(e,t,r){var i=e(t,r),o=2*(i>>31)+1,n=i>>>23&255,s=8388607&i;return 255===n?s?NaN:o*(1/0):0===n?1401298464324817e-60*o*s:o*Math.pow(2,n-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,i),e.readFloatLE=s.bind(null,o),e.readFloatBE=s.bind(null,n)}(),\"undefined\"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=128===r[7];function o(e,i,o){t[0]=e,i[o]=r[0],i[o+1]=r[1],i[o+2]=r[2],i[o+3]=r[3],i[o+4]=r[4],i[o+5]=r[5],i[o+6]=r[6],i[o+7]=r[7]}function n(e,i,o){t[0]=e,i[o]=r[7],i[o+1]=r[6],i[o+2]=r[5],i[o+3]=r[4],i[o+4]=r[3],i[o+5]=r[2],i[o+6]=r[1],i[o+7]=r[0]}function s(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],r[4]=e[i+4],r[5]=e[i+5],r[6]=e[i+6],r[7]=e[i+7],t[0]}function a(e,i){return r[7]=e[i],r[6]=e[i+1],r[5]=e[i+2],r[4]=e[i+3],r[3]=e[i+4],r[2]=e[i+5],r[1]=e[i+6],r[0]=e[i+7],t[0]}e.writeDoubleLE=i?o:n,e.writeDoubleBE=i?n:o,e.readDoubleLE=i?s:a,e.readDoubleBE=i?a:s}():function(){function t(e,t,r,i,o,n){var s=i<0?1:0;if(s&&(i=-i),0===i)e(0,o,n+t),e(1/i>0?0:2147483648,o,n+r);else if(isNaN(i))e(0,o,n+t),e(2146959360,o,n+r);else if(i>17976931348623157e292)e(0,o,n+t),e((s<<31|2146435072)>>>0,o,n+r);else{var a;if(i<22250738585072014e-324)e((a=i/5e-324)>>>0,o,n+t),e((s<<31|a/4294967296)>>>0,o,n+r);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=i*Math.pow(2,-c))>>>0,o,n+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,o,n+r)}}}function s(e,t,r,i,o){var n=e(i,o+t),s=e(i,o+r),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+n;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=s.bind(null,o,0,4),e.readDoubleBE=s.bind(null,n,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function n(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},3330:function(module){\"use strict\";function inquire(moduleName){try{var mod=eval(\"quire\".replace(/^/,\"re\"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},7219:function(e){\"use strict\";e.exports=function(e,t,r){var i=r||8192,o=i>>>1,n=null,s=i;return function(r){if(r<1||r>o)return e(r);s+r>i&&(n=e(i),s=0);var a=t.call(n,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},4505:function(e,t){\"use strict\";var r=t;r.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return\"\";for(var i,o=null,n=[],s=0;t<r;)(i=e[t++])<128?n[s++]=i:i>191&&i<224?n[s++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[s++]=55296+(i>>10),n[s++]=56320+(1023&i)):n[s++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,n)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,n.slice(0,s))),o.join(\"\")):String.fromCharCode.apply(String,n.slice(0,s))},r.write=function(e,t,r){for(var i,o,n=r,s=0;s<e.length;++s)(i=e.charCodeAt(s))<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(o=e.charCodeAt(s+1)))?(++s,t[r++]=(i=65536+((1023&i)<<10)+(1023&o))>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128);return r-n}},4799:function(e,t,r){\"use strict\";e.exports=r(3388)},3388:function(e,t,r){\"use strict\";var i=t;function o(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build=\"minimal\",i.Writer=r(420),i.BufferWriter=r(9461),i.Reader=r(8350),i.BufferReader=r(9115),i.util=r(1990),i.rpc=r(5375),i.roots=r(4765),i.configure=o,o()},8350:function(e,t,r){\"use strict\";e.exports=c;var i,o=r(1990),n=o.LongBits,s=o.utf8;function a(e,t){return RangeError(\"index out of range: \"+e.pos+\" + \"+(t||1)+\" > \"+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,d=\"undefined\"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error(\"illegal buffer\")}:function(e){if(Array.isArray(e))return new c(e);throw Error(\"illegal buffer\")},l=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new i(e):d(e)})(e)}:d};function h(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error(\"invalid varint encoding\")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw a(this,8);return new n(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if(\"number\"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(\"invalid wire type \"+e+\" at offset \"+this.pos)}return this},c._configure=function(e){i=e,c.create=l(),i._configure();var t=o.Long?\"toLong\":\"toNumber\";o.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return g.call(this)[t](!0)},sfixed64:function(){return g.call(this)[t](!1)}})}},9115:function(e,t,r){\"use strict\";e.exports=n;var i=r(8350);(n.prototype=Object.create(i.prototype)).constructor=n;var o=r(1990);function n(e){i.call(this,e)}n._configure=function(){o.Buffer&&(n.prototype._slice=o.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString(\"utf-8\",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},4765:function(e){\"use strict\";e.exports={}},5375:function(e,t,r){\"use strict\";t.Service=r(1909)},1909:function(e,t,r){\"use strict\";e.exports=o;var i=r(1990);function o(e,t,r){if(\"function\"!=typeof e)throw TypeError(\"rpcImpl must be a function\");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(i.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,n,s){if(!n)throw TypeError(\"request must be specified\");var a=this;if(!s)return i.asPromise(e,a,t,r,o,n);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?\"encodeDelimited\":\"encode\"](n).finish(),(function(e,r){if(e)return a.emit(\"error\",e,t),s(e);if(null!==r){if(!(r instanceof o))try{r=o[a.responseDelimited?\"decodeDelimited\":\"decode\"](r)}catch(e){return a.emit(\"error\",e,t),s(e)}return a.emit(\"data\",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit(\"error\",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error(\"already ended\"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit(\"end\").off()),this}},9129:function(e,t,r){\"use strict\";e.exports=o;var i=r(1990);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=o.zero=new o(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var s=o.zeroHash=\"\\0\\0\\0\\0\\0\\0\\0\\0\";o.fromNumber=function(e){if(0===e)return n;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new o(r,i)},o.from=function(e){if(\"number\"==typeof e)return o.fromNumber(e);if(i.isString(e)){if(!i.Long)return o.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):n},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?n:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},1990:function(e,t,r){\"use strict\";var i=t;function o(e,t,r){for(var i=Object.keys(t),o=0;o<i.length;++o)void 0!==e[i[o]]&&r||(e[i[o]]=t[i[o]]);return e}function n(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,\"message\",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,\"stack\",{value:(new Error).stack||\"\"}),r&&o(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,\"name\",{get:function(){return e}}),t.prototype.toString=function(){return this.name+\": \"+this.message},t}i.asPromise=r(5467),i.base64=r(4927),i.EventEmitter=r(121),i.float=r(7333),i.inquire=r(3330),i.utf8=r(4505),i.pool=r(7219),i.LongBits=r(9129),i.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),i.global=i.isNode&&r.g||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return\"string\"==typeof e||e instanceof String},i.isObject=function(e){return e&&\"object\"==typeof e},i.isset=i.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&(\"object\"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},i.Buffer=function(){try{var e=i.inquire(\"buffer\").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return\"number\"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):\"undefined\"==typeof Uint8Array?e:new Uint8Array(e)},i.Array=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire(\"long\"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},i.merge=o,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=n,i.ProtocolError=n(\"ProtocolError\"),i.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&null!=this[e[r]])return e[r]}},i.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},420:function(e,t,r){\"use strict\";e.exports=l;var i,o=r(1990),n=o.LongBits,s=o.base64,a=o.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function d(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var h=function(){return o.Buffer?function(){return(l.create=function(){return new i})()}:function(){return new l}};function p(e,t,r){t[r]=255&e}function g(e,t){this.len=e,this.next=void 0,this.val=t}function f(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}l.create=h(),l.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},(g.prototype=Object.create(c.prototype)).fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new g((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(f,10,n.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.int64=l.prototype.uint64=function(e){var t=n.from(e);return this._push(f,t.length(),t)},l.prototype.sint64=function(e){var t=n.from(e).zzEncode();return this._push(f,t.length(),t)},l.prototype.bool=function(e){return this._push(p,1,e?1:0)},l.prototype.sfixed32=l.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},l.prototype.sfixed64=l.prototype.fixed64=function(e){var t=n.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},l.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var _=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(o.isString(e)){var r=l.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(_,t,e)},l.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},l.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new c(u,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},l._configure=function(e){i=e,l.create=h(),i._configure()}},9461:function(e,t,r){\"use strict\";e.exports=n;var i=r(420);(n.prototype=Object.create(i.prototype)).constructor=n;var o=r(1990);function n(){i.call(this)}function s(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}n._configure=function(){n.alloc=o._Buffer_allocUnsafe,n.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&\"set\"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}},n.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,\"base64\"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},n._configure()},4327:function(e,t){\"use strict\";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoAudioEffectPlayer=void 0;var i=function(){function e(e,t){this.zegoWebRTC=e,this.stream=t}return e.prototype.start=function(e,t,i,o){this.zegoWebRTC.playEffect(r({stream:this.stream,effectID:e},t||{}),i,o)},e.prototype.stop=function(e){return this.zegoWebRTC.stopEffect(this.stream,e)},e.prototype.pause=function(e){return this.zegoWebRTC.pauseEffect(this.stream,e)},e.prototype.resume=function(e){return this.zegoWebRTC.resumeEffect(this.stream,e)},e.prototype.setVolume=function(e,t){return this.zegoWebRTC.setEffectVolume(this.stream,t,e)},e.prototype.getTotalDuration=function(e){return this.zegoWebRTC.getEffectDuration(e)},e.prototype.getCurrentProgress=function(e){return this.zegoWebRTC.getEffectCurrentProgress(this.stream,e)},e.prototype.seekTo=function(e,t){return this.zegoWebRTC.seekAudioEffect(this.stream,e,t)},e}();t.ZegoAudioEffectPlayer=i},8318:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoRealTimeSequentialDataManager=void 0;var i=r(7166),o=function(){function e(e,t){this.dataChannelManager=new i.DataChannelListener(e,t)}return e.prototype.startBroadcasting=function(e){return this.dataChannelManager.startBroadcasting(e)},e.prototype.stopBroadcasting=function(e){return this.dataChannelManager.stopBroadcasting(e)},e.prototype.sendRealTimeSequentialData=function(e,t){return this.dataChannelManager.sendRealTimeSequentialData(e,t)},e.prototype.startSubscribing=function(e){return this.dataChannelManager.startSubscribing(e)},e.prototype.stopSubscribing=function(e){return this.dataChannelManager.stopSubscribing(e)},e.prototype.on=function(e,t){this.dataChannelManager.on(e,t)},e.prototype.off=function(e,t){this.dataChannelManager.off(e,t)},e}();t.ZegoRealTimeSequentialDataManager=o},2195:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoSEIType=t.ZegoRangeAudioMode=t.ZegoRangeAudioMicrophoneState=t.ZegoMixStreamRenderMode=t.ZegoLowlightEnhancementMode=void 0,function(e){e[e.Off=0]=\"Off\",e[e.On=1]=\"On\"}(t.ZegoLowlightEnhancementMode||(t.ZegoLowlightEnhancementMode={})),function(e){e[e.AspectFill=0]=\"AspectFill\",e[e.AspectFit=1]=\"AspectFit\"}(t.ZegoMixStreamRenderMode||(t.ZegoMixStreamRenderMode={})),function(e){e[e.Off=0]=\"Off\",e[e.TurningOn=1]=\"TurningOn\",e[e.On=2]=\"On\"}(t.ZegoRangeAudioMicrophoneState||(t.ZegoRangeAudioMicrophoneState={})),function(e){e[e.World=0]=\"World\",e[e.Team=1]=\"Team\"}(t.ZegoRangeAudioMode||(t.ZegoRangeAudioMode={})),function(e){e[e.ZegoDefined=0]=\"ZegoDefined\",e[e.UserUnregister=1]=\"UserUnregister\"}(t.ZegoSEIType||(t.ZegoSEIType={}))},1939:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoExpressRangeAudio=void 0;var s=n(r(2036)),a=function(){function e(e,t){this.zegoAudioListener=s.default.getInstance(e,t)}return e.getInstance=function(t,r){if(!e.instance){if(!t)throw Error(\"create instance failed.\");e.instance=new e(t,r)}return e.instance},e.prototype.on=function(e,t){return this.zegoAudioListener.on(e,t)},e.prototype.off=function(e,t){return this.zegoAudioListener.off(e,t)},e.prototype.setAudioReceiveRange=function(e){this.zegoAudioListener.setAudioReceiveRange(e)},e.prototype.updateSelfPosition=function(e,t,r,i){this.zegoAudioListener.updateSelfPosition(e,t,r,i)},e.prototype.updateAudioSource=function(e,t){this.zegoAudioListener.updateAudioSource(e,t)},e.prototype.enableSpatializer=function(e){return this.zegoAudioListener.enableSpatializer(e)},e.prototype.enableMicrophone=function(e){return this.zegoAudioListener.enableMicrophone(e)},e.prototype.selectMicrophone=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.zegoAudioListener.selectMic(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.selectSpeaker=function(e){return this.zegoAudioListener.selectSpeaker(e)},e.prototype.enableSpeaker=function(e){return this.zegoAudioListener.enableSpeaker(e)},e.prototype.setRangeAudioMode=function(e){this.zegoAudioListener.setRangeAudioMode(e)},e.prototype.setTeamID=function(e){this.zegoAudioListener.setRangeAudioTeamID(e)},e.prototype.setPositionUpdateFrequency=function(e){return this.zegoAudioListener.setPositionUpdateFrequency(e)},e.prototype.setRangeAudioVolume=function(e){return this.zegoAudioListener.setAudioVolume(e)},e.prototype.isAudioContextRunning=function(){return\"running\"===this.zegoAudioListener.getAudioContextState()},e.prototype.resumeAudioContext=function(){return this.zegoAudioListener.resumeAudioContext()},e}();t.ZegoExpressRangeAudio=a},7980:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoStreamView=void 0;var r=function(){function e(e){this.v=e}return e.prototype.takeStreamSnapshot=function(e){return this.v.takeStreamSnapshot(e)},e.prototype.play=function(e,t){return this.v.play(e,t)},e.prototype.stop=function(){return this.v.stop()},e.prototype.resume=function(){this.v.resume()},e.prototype.setAudioMuted=function(e){return this.v.setAudioMuted(e)},e.prototype.setVideoMuted=function(e){return this.v.setVideoMuted(e)},e.prototype.useAudioOutputDevice=function(e){return this.v.useAudioOut(e)},e.prototype.setVolume=function(e){return this.v.setVolume(e)},e.prototype.on=function(e,t){return this.v.on(e,t)},e.prototype.off=function(e,t){return this.v.off(e,t)},e}();t.ZegoStreamView=r},8307:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoExpressEngine=t.WebRTCUtil=void 0;var s=r(2665),a=n(r(3126)),c=n(r(9869)),u=n(r(8143)),d=n(r(2656)),l=n(r(792)),h=n(r(3392)),p=r(6383),g=r(5863),f=r(9978);s.ZegoExpressEngine.use(a.default),s.ZegoExpressEngine.use(c.default),s.ZegoExpressEngine.use(u.default),s.ZegoExpressEngine.use(d.default),s.ZegoExpressEngine.use(l.default),s.ZegoExpressEngine.use(h.default),s.ZegoExpressEngine.use(p.RangeAudio),s.ZegoExpressEngine.use(g.DataChannel),s.ZegoExpressEngine.use(f.BeautyEffect);var m=r(2665);Object.defineProperty(t,\"WebRTCUtil\",{enumerable:!0,get:function(){return m.WebRTCUtil}});var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(s.ZegoExpressEngine);t.ZegoExpressEngine=_},2665:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0}),t.WebRTCUtil=t.ZegoExpressEngine=void 0;var n=r(4119),s=r(8466),a=r(4327),c=function(e){function t(t,r){var i=this;return n.ZegoExpressWebRTMEngine.version=\"2.19.0\",(i=e.call(this,t,r,0,arguments[2])||this).zegoWebRTC=new s.ZegoWebRTC(i.logger,i.dataReport,i.zegoWebRTM),i}return o(t,e),t.prototype.setSEIConfig=function(e){this.zegoWebRTC.setSEIConfig(e)},t.use=function(e){n.ZegoExpressWebRTMEngine.use(e),s.ZegoWebRTC.use(e)},t.prototype.checkSystemRequirements=function(e,t){return void 0===t&&(t=0),this.zegoWebRTC.checkSystemRequirements(t,e)},t.prototype.off=function(e,t){return this.zegoWebRTM.stateCenter.listenerList[e]?this.zegoWebRTM.off(e,t):!!this.zegoWebRTC.stateCenter.listenerList[e]&&this.zegoWebRTC.off(e,t)},t.prototype.on=function(e,t){return this.zegoWebRTM.stateCenter.listenerList[e]?this.zegoWebRTM.on(e,t):!!this.zegoWebRTC.stateCenter.listenerList[e]&&this.zegoWebRTC.on(e,t)},t.prototype.createStream=function(e){return this.zegoWebRTC.createStream(e)},t.prototype.enableAiDenoise=function(e,t){return this.zegoWebRTC.enableAiDenoise(e,t)},t.prototype.getPublishingStreamQuality=function(e){return this.zegoWebRTC.getPublishingStreamQuality(e)},t.prototype.sendSEI=function(e,t){return this.zegoWebRTC.sendSEI(e,t)},t.prototype.getElectronScreenSources=function(){return this.zegoWebRTC.getElectronScreenSources()},t.prototype.destroyStream=function(e){return this.zegoWebRTC.destroyStream(e)},t.prototype.startPublishingStream=function(e,t,r){return this.zegoWebRTC.startPublishingStream(e,t,r)},t.prototype.stopPublishingStream=function(e){return this.zegoWebRTC.stopPublishingStream(e)},t.prototype.setVideoConfig=function(e,t){return this.zegoWebRTC.setVideoConfig(e,t)},t.prototype.setAudioConfig=function(e,t){return this.zegoWebRTC.setAudioConfig(e,t)},t.prototype.replaceTrack=function(e,t){return this.zegoWebRTC.replaceTrack(e,t)},t.prototype.setCaptureVolume=function(e,t){return this.zegoWebRTC.setCaptureVolume(e,t)},t.prototype.setDummyCaptureImagePath=function(e,t){return this.zegoWebRTC.setDummyCaptureImagePath(e,t)},t.prototype.setStreamExtraInfo=function(e,t){return this.zegoWebRTC.setStreamExtraInfo(e,t)},t.prototype.addPublishCdnUrl=function(e,t){return 3===arguments.length?this.zegoWebRTC.addPublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.addPublishCdnUrl(e,t)},t.prototype.removePublishCdnUrl=function(e,t){return 3===arguments.length?this.zegoWebRTC.removePublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.removePublishCdnUrl(e,t)},t.prototype.mutePublishStreamVideo=function(e,t,r){return this.zegoWebRTC.mutePublishStreamVideo(e,t,r)},t.prototype.mutePublishStreamAudio=function(e,t){return this.zegoWebRTC.mutePublishStreamAudio(e,t)},t.prototype.setEffectsBeauty=function(e,t,r){return this.zegoWebRTC.setBeautyEffect(e,t,r)},t.prototype.setLowlightEnhancement=function(e,t){return this.zegoWebRTC.setLowlightEnhance(e,t)},t.prototype.enableDualStream=function(e){return this.zegoWebRTC.enableDualStream(e)},t.prototype.setLowStreamParameter=function(e,t){return this.zegoWebRTC.setLowStreamParameter(e,t)},t.prototype.startPlayingStream=function(e,t){return this.zegoWebRTC.startPlayingStream(e,t)},t.prototype.stopPlayingStream=function(e){return this.zegoWebRTC.stopPlayingStream(e)},t.prototype.mutePlayStreamVideo=function(e,t){return this.zegoWebRTC.mutePlayStreamVideo(e,t)},t.prototype.mutePlayStreamAudio=function(e,t){return this.zegoWebRTC.mutePlayStreamAudio(e,t)},t.prototype.getPlayingStreamQuality=function(e){return this.zegoWebRTC.getPlayingStreamQuality(e)},t.prototype.createLocalStreamView=function(e){return this.zegoWebRTC.createLocalViewer(e)},t.prototype.createRemoteStreamView=function(e){return this.zegoWebRTC.createRemoteViewer(e)},t.prototype.startMixerTask=function(e){return this.zegoWebRTC.startMixerTask(e)},t.prototype.stopMixerTask=function(e){return this.zegoWebRTC.stopMixerTask(e)},t.prototype.setMixerTaskConfig=function(e){return this.zegoWebRTC.setMixerTaskConfig(e)},t.prototype.startMixingAudio=function(e,t){return this.zegoWebRTC.startMixingAudio(e,t)},t.prototype.stopMixingAudio=function(e,t){return this.zegoWebRTC.stopMixingAudio(e,t)},t.prototype.setMixingAudioVolume=function(e,t,r){return this.zegoWebRTC.setMixingAudioVolume(e,t,r)},t.prototype.createAudioEffectPlayer=function(e){if(e instanceof MediaStream)return new a.ZegoAudioEffectPlayer(this.zegoWebRTC,e);throw Error(\"Param localStream is not instance of MediaStream.\")},t.prototype.loadAudioEffect=function(e,t){var r=this;return new Promise((function(i,o){r.zegoWebRTC.preloadEffect(e,t,(function(t){t&&o(t),i(e)}))}))},t.prototype.unloadAudioEffect=function(e){return this.zegoWebRTC.unloadEffect(e)},t.prototype.enumDevices=function(){return this.zegoWebRTC.enumDevices()},t.prototype.getCameras=function(){return this.zegoWebRTC.getCameras()},t.prototype.getMicrophones=function(){return this.zegoWebRTC.getMicrophones()},t.prototype.getSpeakers=function(){return this.zegoWebRTC.getSpeakers()},t.prototype.useVideoDevice=function(e,t){return this.zegoWebRTC.useVideoDevice(e,t)},t.prototype.useAudioDevice=function(e,t){return this.zegoWebRTC.useAudioDevice(e,t)},t.prototype.useAudioOutputDevice=function(e,t){return this.zegoWebRTC.setAudioOutputDevice(e,t)},t.prototype.setSoundLevelDelegate=function(e,t,r){return this.zegoWebRTC.setSoundLevelDelegate(e,t,null==r?void 0:r.enableInBackground)},t.prototype.isMicrophoneMuted=function(){return this.zegoWebRTC.isMicrophoneMuted()},t.prototype.muteMicrophone=function(e){return this.zegoWebRTC.muteMicrophone(e)},t.prototype.enableVideoCaptureDevice=function(e,t){return this.zegoWebRTC.enableCameraCapturing(e,t)},t.prototype.createRangeAudioInstance=function(){return this.zegoWebRTC.createRangeAudioInstance()},t.prototype.createRealTimeSequentialDataManager=function(e){return this.zegoWebRTC.createRealTimeSequentialDataManager(e)},t.prototype.destroyRealTimeSequentialDataManager=function(e){this.zegoWebRTC.destroyRealTimeSequentialDataManager(e)},t}(n.ZegoExpressWebRTMEngine);t.ZegoExpressEngine=c;var u=r(3364);Object.defineProperty(t,\"WebRTCUtil\",{enumerable:!0,get:function(){return u.WebRTCUtil}})},6262:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZEGO_WEBRTC_ACTION=void 0,function(e){e.CONSTRUCTOR=\"zc.0\",e.CHECK_SUPPORT=\"zc.csr\",e.CREATE_STREAM=\"zc.cs\",e.DESTROY_STREAM=\"zc.ds\",e.START_PUBLISHING_STREAM=\"zc.sps.0\",e.START_PLAYING_STREAM=\"zc.sps.1\",e.STOP_PUBLISHING_STREAM=\"zc.sps.0.0\",e.STOP_PLAYING_STREAM=\"zc.sps.1.0\",e.SET_MEDIA_SIDE_FLAGS=\"zc.smsg.0\",e.SEND_MEDIA_SIDE_INFO=\"zc.smsi.0\",e.ON_STREAM=\"zc.os\",e.ON_PUSH_STREAM_UPDATE=\"zc.opsu\",e.BIND_WINDOW_LISTENER=\"zc.wl\",e.SET_AUDIO_OUTPUT=\"zc.sao\",e.SET_CUSTOM_SIGNAL_URL=\"zc.scsu\",e.SET_TURN_OVER_TCP_ONLY=\"zc.stoto\",e.RDH_ACTIVE=\"zc.rdh.a\",e.RDH_MAX_TIME=\"zc.rdh.m\",e.RDH_WEBRTC_URL_RSP=\"zc.rdh.hfwur\",e.PUBLISH_STATE_HANDLE=\"zc.psh.0\",e.PLAY_STATE_HANDLE=\"zc.psh.1\",e.STATECENTER_ACTION_LISTENER=\"zc.sc.al\",e.STATECENTER_SET_SETTING=\"zc.sc.ss\",e.SIGNAL_SET_SESSION_INFO=\"zc.s.ssi\",e.SIGNAL_RESET_CONNECT_TIMER=\"zc.s.rct\",e.SIGNAL_BIND_WEBSOCKET_HANDLE=\"zc.s.bwh\",e.SIGNAL_RESET_CHECK_MESSAGE=\"zc.s.rcm\",e.SIGNAL_UPDATE_TOKEN=\"zc.s.ut\",e.SIGNAL_SEND_MESSAGE_WITH_CALLBACK=\"zc.s.smwc\",e.SIGNAL_CONNECT_SERVER=\"zc.s.cs.0\",e.SIGNAL_START_CONNECT_TIMER=\"zc.s.sct\",e.SIGNAL_DISCONNECT_SERVER=\"zc.s.dc\",e.SIGNAL_CREATE_SESSION=\"zc.s.cs.1\",e.SIGNAL_REMOVE_SESSION=\"zc.s.rs\",e.SIGNAL_SEND_REMOVE_SESSION=\"zc.s.srs\",e.SIGNAL_SEND_MESSAGE=\"zc.s.sm\",e.SIGNAL_HANDLE_RESPOND_DATA=\"zc.s.hrd\",e.SIGNAL_ADD_SESSION=\"zc.s.as\",e.SIGNAL_HANDLE_PUSH_DATA=\"zc.s.hpd\",e.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA=\"zc.s.hprsd\",e.SIGNAL_SEND_MEDIA_DESC=\"zc.s.smd\",e.SIGNAL_SEND_CANDIDATE_INFO=\"zc.s.sci\",e.SIGNAL_SEND_MEDIA_DESC_ACK=\"zc.s.smda\",e.SIGNAL_SEND_CANDIDATE_INFO_ACK=\"zc.s.scia\",e.SIGNAL_SEND_CLOSE_SESSION_ACK=\"zc.s.scsa\",e.SIGNAL_SEND_RESET_SESSION_ACK=\"zc.s.srsa\",e.SIGNAL_REGISTER_PUSH_CALLBACK=\"zc.s.rpc\",e.SIGNAL_CHECK_MESSAGE_TIMEOUT=\"zc.s.cmt\",e.SIGNAL_SEND_HEARTBEAT=\"zc.s.sh\",e.SIGNAL_QUALITY_REPORT=\"zc.s.qr\",e.SIGNAL_SEND_STREAM_STATUS=\"zc.s.sss\",e.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM=\"zc.s.apvs\",e.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM=\"zc.s.apas\",e.SIGNAL_SEND_BROADCAST_STATUS=\"zc.s.sbs\",e.SIGNAL_SEND_NET_PROBE=\"zc.s.snp\",e.SIGNAL_SEND_NET_QUALITY_INFO_PUSH_ACK=\"zc.s.npa\",e.PUBLISHER_START_PUBLISH=\"zc.p.0.sp.0\",e.PUBLISHER_PUBLISH_SUCCESS=\"zc.p.ps\",e.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS=\"zc.p.0.ocpss\",e.PUBLISHER_HANDLE_CREATE_SESSION_WITH_SDP=\"zc.p.0.hcsws\",e.PUBLISHER_ON_CREATE_OFFER_SUCCESS=\"zc.p.0.ocos\",e.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS=\"zc.p.0.oslds\",e.PUBLISHER_ON_GET_REMOTE_DESCRIPTION=\"zc.p.0.ogrd\",e.PUBLISHER_ON_RECV_MEDIA_DESC=\"zc.p.0.ormd\",e.PUBLISHER_ON_RECV_CANDIDATE_INFO=\"zc.p.0.orci.0\",e.PUBLISHER_ON_RECV_PUBLISH_EVENT=\"zc.p.0.orpe\",e.PUBLISHER_ON_RECV_CLIENT_INFO=\"zc.p.0.orci.1\",e.PUBLISHER_ON_ICE_CANDIDATE=\"zc.p.0.oic\",e.PUBLISHER_ON_CONNECTION_STATE_CHANGE=\"zc.p.0.ocsc\",e.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE=\"zc.p.0.oicsc\",e.PUBLISHER_RESET_PUBLISH=\"zc.p.0.rp\",e.PUBLISHER_SET_PLAYER_QUALITY_TIMER=\"zc.p.0.spqt\",e.PUBLISHER_UPLOAD_PUBLISH_QUALITY=\"zc.p.0.upq\",e.PUBLISHER_ON_RECV_RESET_SESSION=\"zc.p.0.orrs\",e.PUBLISHER_ON_RECV_CLOSE_SESSION=\"zc.p.0.orcs\",e.PUBLISHER_SEND_CANDIDATE_INFO=\"zc.p.0.sci\",e.PUBLISHER_STATE_ERROR=\"zc.p.0.psr\",e.PUBLISHER_STOP_PUBLISH=\"zc.p.0.sp.1\",e.PUBLISHER_ON_DISCONNECT=\"zc.p.0.od\",e.PUBLISHER_START_SOUND_LEVEL=\"zc.p.0.ssl.0\",e.PUBLISHER_STOP_SOUND_LEVEL=\"zc.p.0.ssl.1\",e.PUBLISHER_HANDLE_ENC_BITRATE=\"zc.p.0.heb\",e.PUBLISHER_ON_RECV_NET_QUALITY_INFO=\"zc.p.0.nqi\",e.PUBLISHER_ON_RECV_UPDATE_MEDIA_DESC=\"zc.p.0.orumd\",e.PUBLISHER_SEND_SEI=\"zc.p.0.ss\",e.PLAYER_START_PLAY=\"zc.p.1.sp.0\",e.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS=\"zc.p.ocpss.1\",e.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP=\"zc.p.hcsws.1\",e.PLAYER_ON_CREATE_OFFER_SUCCESS=\"zc.p.ocos.1\",e.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS=\"zc.p.oslds.1\",e.PLAYER_ON_RECV_MEDIA_DESC=\"zc.p.ormd.1\",e.PLAYER_ON_RECV_CANDIDATE_INFO=\"zc.p.orci.1\",e.PLAYER_ON_RECV_PLAY_EVENT=\"zc.p.orpe.1\",e.PLAYER_ON_RECV_CLIENT_INFO=\"zc.p.orci.1.1\",e.PLAYER_ON_ICE_CANDIDATE=\"zc.p.oic.1\",e.PLAYER_ON_CONNECTION_STATE_CHANGE=\"zc.p.ocsc.1\",e.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE=\"zc.p.oicsc.1\",e.PLAYER_RESET_PLAY=\"zc.p.rp.1\",e.PLAYER_SET_PLAYER_QUALITY_TIMER=\"zc.p.spqt.1\",e.PLAYER_UPLOAD_PLAYER_QUALITY=\"zc.p.upq.1\",e.PLAYER_ON_RECV_RESET_SESSION=\"zc.p.orrs.1\",e.PLAYER_ON_RECV_CLOSE_SESSION=\"zc.p.orcs.1\",e.PLAYER_ON_RECV_STREAM_STATUS=\"zc.p.orss.1\",e.PLAYER_ON_GOT_REMOTE_STREAM=\"zc.p.ogrs.1\",e.PAYER_GET_VIDEO_CODEC=\"zc.p.gvc\",e.PLAYER_SEND_CANDIDATE_INFO=\"zc.p.sci.1\",e.PLAYER_STATE_ERROR=\"zc.p.psr.1\",e.PLAYER_STOP_PLAY=\"zc.p.1.sp.1\",e.PLAYER_ON_DISCONNECT=\"zc.p.od.1\",e.PLAYER_START_SOUND_LEVEL=\"zc.p.ssl.1\",e.PLAYER_STOP_SOUND_LEVEL=\"zc.p.ssl.1.1\",e.PLAYER_ON_RECV_NET_QUALITY_INFO=\"zc.p.1.nqi\",e.UPLOAD_SPEED_LOG_QUALITY=\"zc.uslq\",e.PUBLISH_SET_CAPTURE_VOLUME=\"zc.p.scv\",e.PUBLISH_SET_BEAUTY_EFFECT=\"zc.p.0.sbe\",e.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ=\"zc.sh.msbss\",e.STREAMHANDLER_MERGE_STREAM=\"zc.sh.ms\",e.STREAMHANDLER_PATCH_STREAM_LIST=\"zc.sh.psl\",e.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV2=\"zc.sh.sbr\",e.ANALOGSOCKET_UPDATE_MEDIA_READY_STATE=\"zc.as.umrs\",e.ANALOGSOCKET_UPDATE_ACCESS_READY_STATE=\"zc.as.uars\",e.ANALOGSOCKET_SET_MEDIA_SERVER_STATE=\"zc.as.smss\",e.ANALOGSOCKET_SET_ACCESS_SERVER_STATE=\"zc.as.sass\",e.ANALOGSOCKET_SEND=\"zc.as.s.0\",e.ANALOGSOCKET_OPEN=\"zc.as.op\"}(t.ZEGO_WEBRTC_ACTION||(t.ZEGO_WEBRTC_ACTION={}))},9261:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RTC=t.ZegoSettingConfig=void 0;var r=function(){function e(){this.defaultSetting={publish_video_codec:\"H264\",camera_video_bitrate:800,screen_video_bitrate:1500,custom_video_bitrate:0,l3_play_buffer_ms:500,AEC:!0,AGC:!0,ANS:!0,resource_mode:0,bitrate_mode:\"default\",auto_to_tcp:!1,udp_max_fail_num:2,probe_started_num:3},this.setting=JSON.parse(JSON.stringify(this.defaultSetting))}return e.prototype.setSetting=function(e,t){var r=Array.isArray(t)&&t.length>0;for(var i in e)for(var o in e[i])if(!o.endsWith(\"_ctrlmode\")){if(r&&-1==t.indexOf(o))continue;var n=e[i][o+\"_ctrlmode\"];1===n||2===n?this.setting[o]=e[i][o]:this.defaultSetting[o]&&(this.setting[o]=this.defaultSetting[o]),\"number\"==typeof n&&(this.setting[o+\"_ctrlmode\"]=e[i][o+\"_ctrlmode\"])}},e.prototype.getSetting=function(e,t){return void 0===t&&(t=!1),t?2==this.setting[e+\"_ctrlmode\"]?this.setting[e]:void 0:this.setting[e]},e}();t.ZegoSettingConfig=r,t.RTC=\"rtc\"},2399:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.StateCenter=void 0;var i=r(9887),o=r(3608),n=r(6262),s=r(9887),a=r(8335),c=function(){function e(e,t){this.logger=e,this.dataReport=t,this.debug=!1,this.testEnvironment=!1,this.pullLimited=!0,this.useNetAgent=!0,this.configOK=!1,this.relateService=[],this.role=2,this.maxMemberCount=0,this.roomCreateFlag=1,this.callbackList={},this.publishStreamList={},this.waitPublishStreamList={},this.streamUrlMap={},this.cmdCallback={},this.customUrl=[],this.customPlayUrl=[],this.turnOverTcpOnly=!1,this.customSetTcpOrUdp=!1,this.supportUdp=!1,this.audioEffectBuffer={},this.audioBitRate=48e3,this.cdnSeq=0,this.listenerList={roomStreamUpdate:[],streamExtraInfoUpdate:[],playerStateUpdate:[],publisherStateUpdate:[],screenSharingEnded:[],publishQualityUpdate:[],playQualityUpdate:[],remoteCameraStatusUpdate:[],remoteMicStatusUpdate:[],soundLevelUpdate:[],capturedSoundLevelUpdate:[],videoDeviceStateChanged:[],audioDeviceStateChanged:[],deviceError:[],_deviceError:[],_remoteCameraStatusUpdate:[],_remoteMicStatusUpdate:[],_streamUpdated:[],receiveRealTimeSequentialData:[],beautyEffectOverload:[],playerRecvSEI:[],beautyEffectError:[]},this.reportList={},this.reportSeqList={startPublish:{},rePublish:{},startPlay:{},rePlay:{},stopPublish:{},stopPlay:{}},this.streamTrigger={},this.audioStreamList={},this.deviceInfos=null,this.deviceChangeTimer=null,this.deviceStateOut=!1,this.networkState=s.ENUM_NETWORK_STATE.offline,this.streamRetryTime=300,this.checkList=[],this.anchor_info={anchor_id:\"\",anchor_id_name:\"\",anchor_nick_name:\"\"},this.streamConnectTime=0,this.clientIP=\"\",this.type=\"PUBLIC\",this.roomList=[],this.tempRoomList=[],this.isMultiRoom=!1,this.browser=\"\",this.unregisterSeiFilter=\"\",this.isTestMode=!1,this.playAccelerate=!0,this.hardwareEncoder=!1,this.screenHardwareEncoder=!1,this.connectChanged=!1,this.logReportCallback=o.ClientUtil.logReportCallback,this.unregisterCallback=o.ClientUtil.unregisterCallback,this.checkIllegalCharacters=o.ClientUtil.checkIllegalCharacters,this.decodeServerError=o.ClientUtil.decodeServerError,this.getLiveRoomError=o.ClientUtil.getLiveRoomError,this.getServerError=o.ClientUtil.getServerError,this.mergeStreamList=o.ClientUtil.mergeStreamList,this.checkInteger=o.ClientUtil.checkInteger,this.isUrl=o.ClientUtil.isUrl,this.actionSuccessCallback=o.ClientUtil.actionSuccessCallback,this.checkValidNumber=o.ClientUtil.checkValidNumber,this.getDevices=o.ClientUtil.getDevices,this.uint8arrayToBase64=o.ClientUtil.uint8arrayToBase64,this.getSeq=s.getSeq,this.getReportSeq=i.getReportSeq}return e.prototype.getRequestId=function(){return this.idName+\"-\"+(0,s.getSeq)()},e.prototype.getSignalCmdContent=function(e,t,r,i){var o={request_id:t,room_id:e,from_userid:this.idName,from_username:this.nickName,to_userid:r};return null!=i&&(o.result=i),JSON.stringify(o)},e.prototype.actionListener=function(e){for(var t=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(![\"playQualityUpdate\",\"publishQualityUpdate\",\"soundLevelUpdate\",\"capturedSoundLevelUpdate\",\"playerRecvSEI\"].includes(e)&&this.listenerList[e]){var s=(0,i.getReportSeq)();this.dataReport.newReport(s,a.ZegoRTCLogEvent.kZegoListener.event),this.dataReport.addMsgInfo(s,{listener:e,params:r}),this.dataReport.uploadReport(s),[\"deviceError\",\"streamExtraInfoUpdate\",\"publisherStateUpdate\",\"playerStateUpdate\"].includes(e)&&this.logger.info(\"zc.al \".concat(e,\" \").concat(JSON.stringify(r)))}this.listenerList[e]&&this.listenerList[e].forEach((function(i){try{setTimeout((function(){i.apply(void 0,r)}),0)}catch(r){t.logger.error(n.ZEGO_WEBRTC_ACTION.STATECENTER_ACTION_LISTENER+\" \"+e+\" \"+r)}}))},e.prototype.getRoomByRoomID=function(e){return this.roomList.find((function(t){return t.roomID==e}))},e.prototype.getPlayRoom=function(e){return this.roomList.find((function(t){return!!t.streamList.find((function(t){return t.stream_id==e}))}))},e}();t.StateCenter=c},1390:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoStreamCenter=void 0,t.ZegoStreamCenter=function(){this.publisherList={},this.playerList={},this.stopedPlayerList={}}},1856:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.StreamHandler=void 0;var i=r(9887),o=r(7716),n=r(6262),s=function(){function e(e,t,r,i,o){this.logger=e,this.stateCenter=t,this.rtm=r,this.streamCenter=i,this.roomID=o,this.minStreamSeq=0,this.streamSeq=0,this.streamQuerying=!1,this.streamSeqMergeMap=null,this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3}return e.prototype.setCDNInfo=function(e,t){e.urlFlv=t.urls_flv instanceof Array?t.urls_flv[0]||\"\":\"string\"==typeof t.urls_flv?t.urls_flv:\"\",e.urlHls=t.urls_m3u8 instanceof Array?t.urls_m3u8[0]||\"\":\"string\"==typeof t.urls_m3u8?t.urls_m3u8:\"\",e.urlHttpsFlv=t.urls_https_flv instanceof Array?t.urls_https_flv[0]||\"\":\"string\"==typeof t.urls_https_flv?t.urls_https_flv:\"\",e.urlHttpsHls=t.urls_https_m3u8 instanceof Array?t.urls_https_m3u8[0]||\"\":\"string\"==typeof t.urls_https_m3u8?t.urls_https_m3u8:\"\",e.urlRtmp=t.urls_rtmp instanceof Array?t.urls_rtmp[0]||\"\":\"string\"==typeof t.urls_rtmp?t.urls_rtmp:\"\"},e.prototype.onStreamUpdated=function(e,t,r){},e.prototype.onStreamExtraInfoUpdated=function(e,t){},e.prototype.handleStreamStart=function(e,t){this.logger.info(\"zb.sh.hss call stream update\"),this.room=t,e.body?(this.streamListHBMergeInterval=e.body.stream_list_hb_wait_merge_time||2e3,this.streamListMergeInterval=e.body.stream_list_push_merge_timeout||5e3,this.streamQuerying=!1,this.handleFullUpdateStream(e.body.stream_seq,e.body.stream_info||[]),this.handleReconnectStream(e.body.stream_info),this.logger.info(\"zb.sh.hss call end\")):this.logger.error(\"zb.sh.hss server response wrong\")},e.prototype.onPublishStateUpdate=function(e,t,r){},e.prototype.updateStreamInfo=function(e,t,r,n){var s,a,c=this;void 0===r&&(r=\"\"),this.logger.info(\"zb.sh.usi call\");var u=r,d=null===(s=this.room)||void 0===s?void 0:s.streamList.find((function(t){return t.stream_id===e}));d||this.logger.warn(\"zb.sh.usi stream not in room cmd \"+t);var l={stream_id:e,extra_info:u};2002!==t&&2003!==t||(l.stream_sid=(null==d?void 0:d.stream_sid)||\"\");var h=JSON.stringify(l),p={sub_cmd:t,stream_msg:h,third_token:null===(a=this.room)||void 0===a?void 0:a.token},g=this.room;this.room.streamInfoList[e]={};var f=function(r,i){c.handleStreamUpdateRsp(r,e,t)},m=function(s,a){var u=c.room;if(u&&!u.isResetRoom&&!c.rtm.isDisConnect()&&s.code&&s.code==o.errorCodeList.TIMEOUT.code&&u.streamInfoList[e].seq==a)2001==t&&c.stateCenter.publishStreamList[e]&&c.stateCenter.publishStreamList[e].state==i.ENUM_PUBLISH_STREAM_STATE.update_info||2002==t?setTimeout((function(){c.updateStreamInfo(e,t,r,n)}),0):n&&n(o.errorCodeList.TIMEOUT);else if(s.body&&s.body.err_code){var d=c.stateCenter.getServerError(s.body.err_code,c.stateCenter.useNetAgent,s.body.err_message);[1011,1000002002].includes(d.code)&&(d=o.errorCodeList.TOKEN_EXPIRED),n&&n(d,a),t===i.ENUM_STREAM_SUB_CMD.liveBegin&&c.onPublishStateUpdate(i.ENUM_PUBLISH_STATE_UPDATE.error,e,d)}};this.room.streamInfoList[e].seq=this.stateCenter.useNetAgent?this.rtm.liveRoomHandler.sendStreamUpdate(p,f,m,{sessionID:null==g?void 0:g.sessionID,roomID:null==g?void 0:g.roomID,roomSessionID:null==g?void 0:g.roomSessionID}):this.rtm.service.sendMessage(\"stream\",p,f,m,void 0,{sessionID:null==g?void 0:g.sessionID,roomID:null==g?void 0:g.roomID,roomSessionID:null==g?void 0:g.roomSessionID}),this.logger.info(\"zb.sh.usi call success cmd \"+t)},e.prototype.handleStreamUpdateRsp=function(e,t,r){var i,o,n;if(this.rtm.isDisConnect())this.logger.warn(\"zb.sh.hsur not login\");else if(0==e.body.err_code){this.logger.info(\"zb.sh.hsur stream seq \"+this.streamSeq+\" server seq \"+e.body.stream_seq),this.streamSeq=this.streamSeq+1;var s=this.room;if(s){if(null===(i=null==e?void 0:e.body)||void 0===i?void 0:i.token_remain_time)this.stateCenter.getRoomByRoomID(null===(o=null==e?void 0:e.header)||void 0===o?void 0:o.room_id)?this.rtm.resetRoomTokenTimer(e.header.room_id,e.body.token_remain_time):this.logger.error(\"zb.sh.hsur room no found ignore \"+JSON.stringify(null===(n=e.header)||void 0===n?void 0:n.room_id));if(this.stateCenter.useNetAgent)this.handleStreamSync(e,t,r),delete s.streamInfoList[t];else{e.body.stream_seq>this.streamSeq&&(this.logger.info(\"zb.sh.hsur seq diff, server: \"+e.body.stream_seq+\" client: \"+this.streamSeq),this.fetchStreamList());for(var a=0;a<e.body.stream_info.length;a++){var c=e.body.stream_info[a].stream_id;this.handleStreamRsp(s,c,e.body.stream_info[a],r),delete s.streamInfoList[c]}}}else this.logger.info(\"hsur.0 room no found\")}else this.logger.error(\"zb.sh.hsur stream update error \"+e.body.err_code)},e.prototype.handleStreamSync=function(e,t,r){if(this.handleStreamRsp(this.room,t,{stream_id:t,stream_sid:e.body.stream_sid,stream_ver:e.body.stream_ver,stream_nid:e.body.stream_nid},r),e.body.stream_seq>this.streamSeq)return this.logger.info(\"zb.sh.hss.1 seq diff server: \"+e.body.stream_seq+\" client \"+this.streamSeq),void this.fetchStreamList();var i=this.room.streamList.find((function(e){return e.stream_id==t}));i&&e.body.stream_ver>i.stream_ver&&this.fetchStreamList(t)},e.prototype.handleStreamRsp=function(e,t,r,o){var n=this.stateCenter.publishStreamList[t];n?n.state==i.ENUM_PUBLISH_STREAM_STATE.update_info&&(n.state=i.ENUM_PUBLISH_STREAM_STATE.publishing,this.logger.info(\"hsur.0 cmd \"+o),2001===o||e.streamList.find((function(e){return e.stream_id==t}))||e.streamList.push(r),this.onPublishStateUpdate(i.ENUM_PUBLISH_STATE_UPDATE.start,t,{code:0,message:\"\"})):this.logger.info(\"hsur.0 stream is not exist\")},e.prototype.handleFetchStreamListRsp=function(e,t){if(this.logger.info(\"zb.sh.hfslr call\"),this.streamQuerying=!1,0===e.body.err_code)if(this.streamSeq!==e.body.stream_seq){var r=e.body.stream_info;t&&(r=e.body.stream_info.filter((function(e){return e.stream_id===t}))),this.handleFullUpdateStream(e.body.stream_seq,r),this.logger.info(\"zb.sh.hfslr call success\")}else this.logger.info(\"zb.sh.hfslr same seq\");else this.logger.info(\"zb.sh.hfslr server error=\",e.body.err_code)},e.prototype.handleFullUpdateStream=function(e,t){var r=this;this.logger.info(\"zb.sh.hfus call\"),this.streamSeq=e,this.logger.debug(\"zb.sh.hfus server seq \"+this.streamSeq),this.stateCenter.mergeStreamList(this.stateCenter.idName,this.room.streamList,t,(function(e,t,o){0!==e.length&&(r.logger.debug(\"zb.sh.hfus callback addstream\"),r.onStreamUpdated(r.roomID,i.ENUM_STREAM_UPDATE_TYPE.added,r.makeCallbackStreamList(e))),0!==t.length&&(r.logger.debug(\"zb.sh.hfus callback delstream\"),r.onStreamUpdated(r.roomID,i.ENUM_STREAM_UPDATE_TYPE.deleted,r.makeCallbackStreamList(t))),0!==o.length&&(r.logger.debug(\"zb.sh.hfus callback updatestream\"),r.onStreamExtraInfoUpdated(r.roomID,r.makeCallbackStreamList(o)))})),this.logger.info(\"zb.sh.hfus call success\")},e.prototype.handlePushStreamUpdateMsg=function(e){if(this.logger.warn(\"zb.sh.hpsum call \"+JSON.stringify(e)),e.body.stream_info&&0!==e.body.stream_info.length){if(e.body.stream_info.length+this.streamSeq!==e.body.stream_seq)return this.logger.info(\"zb.sh.hpsum call updatestream\"),void this.fetchStreamList();switch(this.streamSeq=e.body.stream_seq,e.body.stream_cmd){case i.ENUM_STREAM_UPDATE_CMD.added:this.handleAddedStreamList(e.body.stream_info);break;case i.ENUM_STREAM_UPDATE_CMD.deleted:this.handleDeletedStreamList(e.body.stream_info);break;case i.ENUM_STREAM_UPDATE_CMD.updated:this.handleUpdatedStreamList(e.body.stream_info)}this.logger.info(\"zb.sh.hpsum call success\")}else this.logger.info(\"zb.sh.hpsum, emtpy list\")},e.prototype.handlePriPushStreamUpdateMsg=function(e){if(this.logger.info(\"zb.sh.hpsum call\"),e.body.streams_info&&0!==e.body.streams_info.length){if(e.body.streams_info.length+this.streamSeq!==e.body.stream_seq)return this.logger.info(\"zb.sh.hpsum call updatestream\"),void this.mergeStreamByStreamSeq(e.body.stream_cmd,e.body.stream_seq,e.body.streams_info);switch(this.streamSeq=e.body.stream_seq,e.body.stream_cmd){case i.ENUM_STREAM_UPDATE_CMD_PRI.added:this.handleAddedStreamList(e.body.streams_info);break;case i.ENUM_STREAM_UPDATE_CMD_PRI.deleted:this.handleDeletedStreamList(e.body.streams_info);break;case i.ENUM_STREAM_UPDATE_CMD_PRI.updated:this.handleUpdatedStreamList(e.body.streams_info)}this.logger.info(\"zb.sh.hpsum call success\")}else this.logger.info(\"zb.sh.hpsum, emtpy list\")},e.prototype.handleAddedStreamList=function(e){this.logger.debug(\"zb.sh.hasl call\");for(var t,r=[],o=0;o<e.length;o++)if(e[o].anchor_id_name!=this.stateCenter.idName&&e[o].id_name!=this.stateCenter.idName&&e[o].user_id!==this.stateCenter.idName){t=!1;for(var n=0;n<this.room.streamList.length;n++)if(e[o].stream_id===this.room.streamList[n].stream_id){t=!0;break}t||r.push(e[o])}else this.logger.debug(\"hdsl.0 have self stream added\");if(0!==r.length){this.logger.debug(\"zb.sh.hasl callback addstream\");for(var s=0;s<r.length;s++)this.room.streamList.push(r[s]);this.onStreamUpdated(this.roomID,i.ENUM_STREAM_UPDATE_TYPE.added,this.makeCallbackStreamList(r))}this.logger.info(\"zb.sh.hasl call success\")},e.prototype.handleDeletedStreamList=function(e){this.logger.debug(\"zb.sh.hdsl call\");for(var t=[],r=0;r<e.length;r++)if(e[r].anchor_id_name!=this.stateCenter.idName&&e[r].id_name!=this.stateCenter.idName&&e[r].user_id!==this.stateCenter.idName){for(var o=this.room.streamList.length-1;o>=0;o--)if(e[r].stream_id===this.room.streamList[o].stream_id){!this.stateCenter.connectChanged&&this.room.streamList.splice(o--,1),t.push(e[r]);break}}else this.logger.debug(\"zb.sh.hdsl have self stream deleted\");0!==t.length&&(this.logger.debug(\"zb.sh.hdsl callback delstream\"),this.onStreamUpdated(this.roomID,i.ENUM_STREAM_UPDATE_TYPE.deleted,this.makeCallbackStreamList(t))),this.logger.info(\"zb.sh.hdsl call\")},e.prototype.handleUpdatedStreamList=function(e){this.logger.debug(\"zb.sh.husl call\");for(var t=[],r=0;r<e.length;r++)if(e[r].anchor_id_name!=this.stateCenter.idName&&e[r].id_name!=this.stateCenter.idName&&e[r].user_id!==this.stateCenter.idName){for(var i=0;i<this.room.streamList.length;i++)if(e[r].stream_id===this.room.streamList[i].stream_id){e[r].extra_info!==this.room.streamList[i].extra_info&&(this.room.streamList[i]=e[r],t.push(e[r]));break}}else this.logger.debug(\"hsul.0 have self stream updated\");0!==t.length&&(this.logger.debug(\"zb.sh.husl callback updatestream\"),this.onStreamExtraInfoUpdated(this.roomID,this.makeCallbackStreamList(t))),this.logger.info(\"zb.sh.husl call success\")},e.prototype.fetchStreamList=function(e){var t,r,i,o=this;if(this.logger.info(\"zb.sh.fsl call\"),this.rtm.isDisConnect())this.logger.info(\"zb.sh.fsl state error\");else if(this.streamQuerying)this.logger.info(\"zb.sh.fsl already doing\");else{if(this.streamQuerying=!0,this.logger.debug(\"zb.sh.fsl send fetch request\"),this.stateCenter.useNetAgent)this.rtm.liveRoomHandler.getStreamList({},(function(t){o.handleFetchStreamListRsp(t,e)}),(function(e){}),{roomID:null===(t=this.room)||void 0===t?void 0:t.roomID,sessionID:null===(r=this.room)||void 0===r?void 0:r.sessionID,roomSessionID:null===(i=this.room)||void 0===i?void 0:i.roomSessionID});else{var n=this.room;this.rtm.service.sendMessage(\"stream_info\",{reserve:0},(function(e){o.handleFetchStreamListRsp(e)}),(function(e,t){}),void 0,{roomID:null==n?void 0:n.roomID,sessionID:null==n?void 0:n.sessionID,roomSessionID:null==n?void 0:n.roomSessionID})}this.logger.info(\"zb.sh.fsl call success\")}},e.prototype.handleReconnectStream=function(e){var t,r,o,n;this.logger.info(\"zb.sh.hrs call\");var s=this.streamCenter.publisherList,a=this.streamCenter.playerList,c=function(a){if((null===(r=null===(t=s[a])||void 0===t?void 0:t.room)||void 0===r?void 0:r.roomID)!==u.roomID)return\"continue\";var c=e.find((function(e){return e.stream_id==a}));if(s[a].publisher.state==i.ENUM_PUBLISH_STATE.publishing&&(!c||c&&c.anchor_id_name!==u.stateCenter.idName))u.updateStreamInfo(a,i.ENUM_STREAM_SUB_CMD.liveBegin,u.stateCenter.publishStreamList[a].extra_info);else if(s[a].publisher.state==i.ENUM_PUBLISH_STATE.stop&&!(null===(n=null===(o=s[a])||void 0===o?void 0:o.retryStreamHandler)||void 0===n?void 0:n.maxTimer)&&e.find((function(e){return e.stream_id==a}))){u.updateStreamInfo(a,i.ENUM_STREAM_SUB_CMD.liveEnd);for(var d=0;d<u.room.streamList.length;d++)if(u.room.streamList[d].stream_id==a){u.room.streamList.splice(d--,1);break}}},u=this;for(var d in s)c(d);for(var d in s){if(s[d].room.roomID===this.roomID)if(s[d].isReDispatch)this.logger.info(\"zb.sh.hrs \"+d+\"retry dispatch\"),(l=s[d].retryDispatchHandler).stopMaxTime(),l.invalid(),l.initStream(d,s[d].publishOption,!0),l.active(0),s[d].isReDispatch=!1}for(var d in a){var l;if(a[d].room.roomID===this.roomID)if(a[d].isReDispatch)this.logger.info(\"zb.sh.hrs \"+d+\"retry dispatch\"),(l=a[d].retryDispatchHandler).stopMaxTime(),l.invalid(),l.initStream(d,a[d].playOption,!1),l.active(0),a[d].isReDispatch=!1}var h=this.streamCenter.stopedPlayerList,p=function(e){if(h[e].roomID!==g.roomID)return\"continue\";var t=g.streamCenter,r=h[e],o=r.playOption,n=r.playStream;t.setPlayStateStart(e,o,r.isDataChannel);var s=t.playerList[e].retryDispatchHandler;t.playSuccessCallBackList[e]=h[e].sucCallBack?h[e].sucCallBack:function(e){for(var t=document.querySelectorAll(\"video, audio\"),r=0;r<t.length;r++){n&&t[r].srcObject===n&&(n.getTracks().forEach((function(e){return n.removeTrack(e)})),e.clone().getTracks().forEach((function(e){return n.addTrack(e)})))}},h[e].errCallBack&&(t.playErrorCallBackList[e]=h[e].errCallBack),t.onPlayStateUpdate(i.ENUM_PLAY_STATE_UPDATE.retry,e,{code:0,message:\"\"}),s.stopMaxTime(),s.invalid(),s.initStream(e,o,!1),s.startMaxTime(),s.active(0),delete h[e]},g=this;for(var d in h)p(d);this.logger.info(\"zb.sh.hrs end\")},e.prototype.makeCallbackStreamList=function(e){var t,r=[];this.stateCenter.useNetAgent&&this.stateCenter.appConfig&&(t=this.stateCenter.appConfig.media_config.play_config.resource_info.find((function(e){return e.resource_type===i.SignalResourceType.CDN})));if(e&&e.length>0)for(var o=0;o<e.length;o++){var n=[],s=[],a=[],c=e[o].stream_id;if(t){for(var u=0;u<t.service_info.length;u++){var d=t.service_info[u],l=d.url_template;switch(d.protocol){case i.ProtocolType.FLV:var h=l.replace(\"{STREAM_NAME}\",c);n.push(h);break;case i.ProtocolType.HLS:var p=l.replace(\"{STREAM_NAME}\",c);s.push(p);break;case i.ProtocolType.RTMP:var g=l.replace(\"{STREAM_NAME}\",c);a.push(g)}}e[o].urls_flv=n,e[o].urls_m3u8=s,e[o].urls_rtmp=a}var f={user:{userID:e[o].anchor_id_name||e[o].id_name,userName:e[o].anchor_nick_name||e[o].nick_name},extraInfo:e[o].extra_info,streamID:e[o].stream_id,roomID:\"\",urlFlv:\"\",urlRtmp:\"\",urlHls:\"\",urlHttpsFlv:\"\",urlHttpsHls:\"\",streamGID:e[o].stream_gid,closeType:e[o].close_type};this.setCDNInfo(f,e[o]),r.push(f)}return r},e.prototype.sendBizChannelRequest=function(e,t,r,i){var o=this;void 0===i&&(i=!1),e=Object.assign(e,{is_retry_req:i?1:0});var n=this.room;this.rtm.service.sendMessage(\"biz_channel\",e,(function(e,r){t(e.header.seq,e.body.cmd,e.body.rsp_body)}),(function(i,n){var s=i.body.err_code;\"number\"!=typeof s||2002!==s?r(s,n,i.body.rsp_body):o.sendBizChannelRequest(e,t,r,!0)}),void 0,{roomID:null==n?void 0:n.roomID,sessionID:null==n?void 0:n.sessionID,roomSessionID:null==n?void 0:n.roomSessionID})},e.prototype.sendBizChannelRequestV2=function(e,t,r,i){var o=this,s=e.server,a=e.location,c=e.cmd,u=e.channel,d=this.rtm.netAgent,l=this.room,h=void 0,p=t.timestamp;t&&(h=JSON.stringify(t));var g={cmd:c,req_body:h,appid:this.stateCenter.appid,timestamp:p||Math.ceil((new Date).getTime()/1e3),token:null==l?void 0:l.token,user_id:this.stateCenter.idName,channel:u||\"media\"};this.logger.info(n.ZEGO_WEBRTC_ACTION.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV2+\" \"+JSON.stringify(g)+\" request \"+JSON.stringify(e)),d.startHttpRequest({service:s,headers:[],body:g,idName:this.stateCenter.idName,method_no:2,ack:!1,location:a},(function(e){o.logger.info(n.ZEGO_WEBRTC_ACTION.STREAMHANDLER_SEND_BIZCHANNEL_REQUESTV2+\" rsp \"+JSON.stringify(e.body));var s=e.status_code,a=e.body;if(200===s){var c=a;if(\"string\"==typeof a)try{c=JSON.parse(a)}catch(e){throw i(s),e}var u=c.err_code,d=c.rsp_body,l=void 0;try{l=JSON.parse(d)}catch(e){l=d}if(0!==u)return\"number\"==typeof u&&2002===u?void o.sendBizChannelRequest(t,r,i,!0):void i(s,u,l);r(l)}else i(s)}),(function(e){i(-1,null==e?void 0:e.code,void 0,e)}))},e.prototype.updateStreamExtraInfo=function(e,t,r,i){},e.prototype.setStreamExtraInfo=function(e,t,r,i){},e.prototype._publishTarget=function(e,t,r){},e.prototype.patchStreamList=function(e){var t=this;if(\"number\"==typeof e.body.StreamRefresh&&0!==e.body.StreamRefresh)return this.logger.info(n.ZEGO_WEBRTC_ACTION.STREAMHANDLER_PATCH_STREAM_LIST+\" stream refresh \"),void this.fetchStreamList();e.body.stream_seq===this.streamSeq||this.streamSeqMergeMap||(this.logger.info(n.ZEGO_WEBRTC_ACTION.STREAMHANDLER_PATCH_STREAM_LIST+\" call update stream \"+this.streamSeq+\" server \"+e.body.stream_seq),this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout((function(){t.handleMergeTimeout()}),this.streamListHBMergeInterval)),this.minStreamSeq=e.body.stream_seq},e.prototype.getStreamSeq=function(){return this.streamSeq},e.prototype.mergeStreamByStreamSeq=function(e,t,r){var i=this;this.streamSeqMergeMap||(this.logger.warn(n.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ+\" new merge stream list \"+this.streamSeq+\" server \"+t),this.streamSeqMergeMap={},this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout((function(){i.handleMergeTimeout()}),this.streamListMergeInterval)),this.logger.info(n.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ+\" \".concat(this.streamSeqMergeMap,\" \").concat(e,\" \").concat(t,\" \").concat(r)),this.streamSeqMergeMap[t]={cmd:e,streamList:r}},e.prototype.handleMergeTimeout=function(){if(this.streamSeqMergeMap){var e=Object.keys(this.streamSeqMergeMap).map((function(e){return+e})).sort((function(e,t){return e-t}));e[e.length-1]-e[0]+1===e.length||e[e.length-1]>=this.minStreamSeq?this.mergeStream(e):(this.streamSeqMergeMap=null,this.fetchStreamList())}},e.prototype.mergeStream=function(e){var t=this;this.logger.info(n.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM+\" merge streamList \"+this.streamSeq+\" streamSeqList \"+e.join(\",\"));var r=e[e.length-1],o=[];e.forEach((function(e){if(t.streamSeqMergeMap&&t.streamSeqMergeMap[e])switch(t.streamSeqMergeMap[e].cmd){case i.ENUM_STREAM_UPDATE_CMD.added:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=o.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&o.splice(t),o.push(e)}));break;case i.ENUM_STREAM_UPDATE_CMD.deleted:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=o.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&o.splice(t)}));break;case i.ENUM_STREAM_UPDATE_CMD.updated:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=o.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&o.splice(t),o.push(e)}))}})),this.streamSeqMergeMap=null,this.logger.info(n.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM+\" \"+o),this.handleFullUpdateStream(r,o)},e.prototype.reset=function(){this.minStreamSeq=0,this.streamSeqMergeMap=null,this.streamSeqMergeTimer&&(clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=void 0),this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3},e}();t.StreamHandler=s},9887:function(e,t,r){\"use strict\";var i;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ENUM_SOURCE_TYPE=t.ENUM_DISPATCH_TYPE=t.ENUM_BROADCASTER_STATUS=t.ENUM_PLAY_SOURCE_TYPE=t.ENUM_PUBLISH_STATE_NEGO=t.ENUM_PUSH_SIGNAL_SUB_CMD=t.ENUM_SIGNAL_SUB_CMD=t.QUALITYLEVEL=t.SERVER_ERROR_CODE=t.ENUM_STREAM_UPDATE_CMD_PRI=t.ENUM_STREAM_UPDATE_CMD=t.MINIUM_HEARTBEAT_INTERVAL=t.STREAM_DELETE_REASON=t.ENUM_NETWORK_STATE=t.ENUM_RUN_STATE=t.ENUM_STREAM_UPDATE_TYPE=t.ENUM_STREAM_CMD_PRI=t.ENUM_STREAM_SUB_CMD=t.ENUM_PUBLISH_STREAM_STATE=t.MAX_RETRY_CONNECT_INTERVAL=t.MAX_TRANS_DATA_LENGTH=t.MAX_TRANS_TYPE_LENGTH=t.MAX_MIX_TASK_ID_LENGTH=t.MAX_MESSAGE_LENGTH=t.MAX_ROOM_ID_LENGTH=t.MAX_USER_NAME_LENGTH=t.MAX_USER_ID_LENGTH=t.MAX_STREAM_ID_LENGTH=t.MAX_TRY_HEARTBEAT_COUNT=t.SEND_MSG_TIMEOUT=t.SEND_MSG_RESET=t.MAX_TRY_CONNECT_COUNT=t.streamMap=t.ENUM_CONNECT_STATE=t.ProtocolType=t.SignalResourceType=t.ENUM_PROBE_STATE=t.ENUM_PLAY_STATE_NEGO=t.ENUM_PLAYER_STATE=t.ENUM_PLAY_STATE=t.ENUM_PUBLISH_STATE=t.ENUM_SCREEM_RESOLUTION_TYPE=t.ENUM_RESOLUTION_TYPE=t.ENUM_SIGNAL_STATE=t.ERROR_CODES=t.ENUM_REMOTE_TYPE=t.LOG_LEVEL=t.ENUM_LOG_LEVEL=t.ROOMVERSION=t.PROTO_VERSION=void 0,t.BusinessService=t.NetConnection=t.ZegoExpressWebRTM=t.ZegoDataReport=t.ZegoLogger=t.ZegoExpressWebRTMEngine=t.getReportSeq=t.getSeq=t.ZegoSEIType=t.QUALITY_CONSTANT=t.QualityGrade=t.REPORT_ACTION=t.ENUM_RETRY_STATE=t.ENUM_PLAY_STATE_UPDATE=t.ENUM_PUBLISH_STATE_UPDATE=t.LinkedList=t.ListNode=t.E_CLIENT_TYPE=void 0,t.PROTO_VERSION=\"2.19.0\",t.ROOMVERSION=\"V1\",function(e){e[e.debug=0]=\"debug\",e[e.info=1]=\"info\",e[e.warn=2]=\"warn\",e[e.error=3]=\"error\",e[e.report=99]=\"report\",e[e.disable=100]=\"disable\"}(t.ENUM_LOG_LEVEL||(t.ENUM_LOG_LEVEL={})),t.LOG_LEVEL={debug:0,info:1,warn:2,error:3,report:99,disable:100},function(e){e[e.disable=0]=\"disable\",e[e.websocket=1]=\"websocket\",e[e.https=2]=\"https\"}(t.ENUM_REMOTE_TYPE||(t.ENUM_REMOTE_TYPE={})),t.ERROR_CODES={ROOM_SESSION_ID_ERR:1000000152,FETCH_TRANS_UNKNOWN_CHANNEL:1000001108,FETCH_TRANS_UNKNOWN_TYPE:1000001109,FETCH_TRANS_WRONG_SEQ:1000001110},function(e){e[e.disconnected=0]=\"disconnected\",e[e.connecting=1]=\"connecting\",e[e.connected=2]=\"connected\"}(t.ENUM_SIGNAL_STATE||(t.ENUM_SIGNAL_STATE={})),t.ENUM_RESOLUTION_TYPE={LOW:{width:320,height:240,frameRate:15,bitRate:300},MEDIUM:{width:640,height:480,frameRate:15,bitRate:800},HIGH:{width:1280,height:720,frameRate:20,bitRate:1500}},t.ENUM_SCREEM_RESOLUTION_TYPE={LOW:{frameRate:20,bitRate:800},MEDIUM:{frameRate:15,bitRate:1500},HIGH:{frameRate:5,bitRate:2e3}},t.ENUM_PUBLISH_STATE={start:0,waitingSessionRsp:1,waitingOfferRsp:2,waitingServerAnswer:3,waitingServerICE:4,connecting:5,publishing:6,stop:7,didNotStart:8},t.ENUM_PLAY_STATE={start:0,waitingSessionRsp:1,waitingOfferRsp:2,waitingServerAnswer:3,waitingServerICE:4,connecting:5,playing:6,stop:7,didNotStart:8},t.ENUM_PLAYER_STATE={start:0,playing:1,stop:2},t.ENUM_PLAY_STATE_NEGO={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6,iceClosed:7,iceFailed:8},function(e){e[e.tryProbe=0]=\"tryProbe\",e[e.probed=2]=\"probed\"}(t.ENUM_PROBE_STATE||(t.ENUM_PROBE_STATE={})),function(e){e[e.CDN=0]=\"CDN\",e[e.RTC=1]=\"RTC\",e[e.L3=2]=\"L3\"}(t.SignalResourceType||(t.SignalResourceType={})),function(e){e[e.UDP=0]=\"UDP\",e[e.RTMP=1]=\"RTMP\",e[e.FLV=2]=\"FLV\",e[e.HLS=3]=\"HLS\",e[e.WEBRTC=4]=\"WEBRTC\"}(t.ProtocolType||(t.ProtocolType={})),t.ENUM_CONNECT_STATE={disconnect:0,connecting:1,connected:2},t.streamMap={\"/lr/push/stream_add\":12001,\"/lr/push/stream_delete\":12002,\"/lr/push/stream_update\":12003},t.MAX_TRY_CONNECT_COUNT=3,t.SEND_MSG_RESET=2,t.SEND_MSG_TIMEOUT=1,t.MAX_TRY_HEARTBEAT_COUNT=5,t.MAX_STREAM_ID_LENGTH=256,t.MAX_USER_ID_LENGTH=64,t.MAX_USER_NAME_LENGTH=256,t.MAX_ROOM_ID_LENGTH=128,t.MAX_MESSAGE_LENGTH=1024,t.MAX_MIX_TASK_ID_LENGTH=256,t.MAX_TRANS_TYPE_LENGTH=128,t.MAX_TRANS_DATA_LENGTH=4096,t.MAX_RETRY_CONNECT_INTERVAL=12,t.ENUM_PUBLISH_STREAM_STATE={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},t.ENUM_STREAM_SUB_CMD={liveNone:0,liveBegin:2001,liveEnd:2002,liveUpdate:2003},t.ENUM_STREAM_CMD_PRI={liveBegin:\"zegochat_js.room_stream_create_req\",liveEnd:\"zegochat_js.room_stream_delete_req\",liveUpdate:\"zegochat_js.room_stream_update_req\"},t.ENUM_STREAM_UPDATE_TYPE={added:1,deleted:0},function(e){e[e.logout=0]=\"logout\",e[e.trylogin=1]=\"trylogin\",e[e.login=2]=\"login\"}(t.ENUM_RUN_STATE||(t.ENUM_RUN_STATE={})),function(e){e[e.offline=0]=\"offline\",e[e.online=1]=\"online\"}(t.ENUM_NETWORK_STATE||(t.ENUM_NETWORK_STATE={})),t.STREAM_DELETE_REASON={0:{code:1,description:\"user_stop_publishing_stream_normal\"},1:{code:2,description:\"user_heart_beat_timeout\"},2:{code:3,description:\"user_repeat_login\"},3:{code:4,description:\"user_kicked_out\"},4:{code:5,description:\"user_offline\"},100:{code:6,description:\"remove_by_server\"}},function(e){e[e.UNKNOWN=0]=\"UNKNOWN\",e[e.CDN=1]=\"CDN\",e[e.RTC=2]=\"RTC\",e[e.L3=3]=\"L3\"}(i||(i={})),t.MINIUM_HEARTBEAT_INTERVAL=3e3,t.ENUM_STREAM_UPDATE_CMD={added:12001,deleted:12002,updated:12003},t.ENUM_STREAM_UPDATE_CMD_PRI={added:1,updated:2,deleted:3},t.SERVER_ERROR_CODE=1e4,function(e){e[e.low=1]=\"low\",e[e.stantard=2]=\"stantard\",e[e.hight=3]=\"hight\",e[e.custome=4]=\"custome\"}(t.QUALITYLEVEL||(t.QUALITYLEVEL={})),t.ENUM_SIGNAL_SUB_CMD={none:0,joinLiveRequest:1001,joinLiveResult:1002,joinLiveInvite:1003,joinLiveStop:1004},t.ENUM_PUSH_SIGNAL_SUB_CMD={none:0,pushJoinLiveRequest:11001,pushJoinLiveResult:11002,pushJoinLiveInvite:11003,pushJoinLiveStop:11004},t.ENUM_PUBLISH_STATE_NEGO={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6,iceClosed:7,iceFailed:8},function(e){e[e.cdn=0]=\"cdn\",e[e.ultra=1]=\"ultra\"}(t.ENUM_PLAY_SOURCE_TYPE||(t.ENUM_PLAY_SOURCE_TYPE={})),function(e){e[e.stop=0]=\"stop\",e[e.start=1]=\"start\"}(t.ENUM_BROADCASTER_STATUS||(t.ENUM_BROADCASTER_STATUS={})),function(e){e[e.cdn=0]=\"cdn\",e[e.ultra=1]=\"ultra\",e[e.customUrl=2]=\"customUrl\"}(t.ENUM_DISPATCH_TYPE||(t.ENUM_DISPATCH_TYPE={})),function(e){e[e.CDN=0]=\"CDN\",e[e.BGP=1]=\"BGP\"}(t.ENUM_SOURCE_TYPE||(t.ENUM_SOURCE_TYPE={})),function(e){e[e.ClientType_None=0]=\"ClientType_None\",e[e.ClientType_H5=1]=\"ClientType_H5\",e[e.ClientType_SmallPragram=2]=\"ClientType_SmallPragram\",e[e.ClientType_Webrtc=3]=\"ClientType_Webrtc\"}(t.E_CLIENT_TYPE||(t.E_CLIENT_TYPE={}));var o=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._id=null,this.next=null,this.prev=null,this._id=e,this._data=t}return Object.defineProperty(e.prototype,\"id\",{get:function(){return this._id?this._id:null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"data\",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),e.prototype.hasNext=function(){return this.next&&this.next.id},e.prototype.hasPrev=function(){return this.prev&&this.prev.id},e}();t.ListNode=o;var n=function(){function e(){this.start=new o,this.end=new o,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}return e.prototype.insertBefore=function(e,t){var r=new o(this._idCounter,t);return r.next=e,r.prev=e.prev,e.prev&&(e.prev.next=r),e.prev=r,++this._idCounter,++this._numNodes,r},e.prototype.addLast=function(e){return this.insertBefore(this.end,e)},e.prototype.add=function(e){return this.addLast(e)},e.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},e.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},e.prototype.size=function(){return this._numNodes},e.prototype.getFromFirst=function(e){var t=0,r=this.start.next;if(e>=0)for(;t<e&&null!==r;)r=r.next,++t;else r=null;if(null===r)throw\"Index out of bounds.\";return r},e.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},e.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},e.prototype.removeFirst=function(){var e=null;return this._numNodes>0&&this.start.next&&(e=this.remove(this.start.next)),e},e.prototype.removeLast=function(){var e=null;return this._numNodes>0&&this.end.prev&&(e=this.remove(this.end.prev)),e},e.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},e.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},e.prototype.find=function(e){for(var t=this.start,r=!1,i=null;t.hasNext()&&!r;)e(t=t.next)&&(i=t,r=!0);return i},e.prototype.map=function(e){for(var t=this.start,r=[];t.hasNext();)e(t=t.next)&&r.push(t);return r},e.prototype.push=function(e){return this.addLast(e)},e.prototype.unshift=function(e){this.insertBefore(this._numNodes>0?this.start.next:this.end,e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(){return this.removeFirst()},e}();t.LinkedList=n,t.ENUM_PUBLISH_STATE_UPDATE={start:0,error:1,retry:2},t.ENUM_PLAY_STATE_UPDATE={start:0,error:1,retry:2,stop:3},t.ENUM_RETRY_STATE={didNotStart:0,retrying:1,finished:2},t.REPORT_ACTION={eventStart:\"eventStart\",eventEndWithMsgInfo:\"eventEndWithMsgInfo\",addEventMsg:\"addEventMsg\",addEvent:\"addEvent\",eventEnd:\"eventEnd\",addMsgInfo:\"addMsgInfo\"},function(e){e[e.Unknown=-1]=\"Unknown\",e[e.Excellent=0]=\"Excellent\",e[e.Good=1]=\"Good\",e[e.Middle=2]=\"Middle\",e[e.Poor=3]=\"Poor\",e[e.Die=4]=\"Die\"}(t.QualityGrade||(t.QualityGrade={})),function(e){e[e.MinQuality=0]=\"MinQuality\",e[e.DieQuality=0]=\"DieQuality\",e[e.PoorMinQuality=1]=\"PoorMinQuality\",e[e.MiddleMinQuality=30]=\"MiddleMinQuality\",e[e.GoodMinQuality=60]=\"GoodMinQuality\",e[e.ExcellentMinQuality=85]=\"ExcellentMinQuality\",e[e.MaxQuality=100]=\"MaxQuality\"}(t.QUALITY_CONSTANT||(t.QUALITY_CONSTANT={})),function(e){e[e.ZegoDefined=0]=\"ZegoDefined\",e[e.UserUnregister=1]=\"UserUnregister\"}(t.ZegoSEIType||(t.ZegoSEIType={}));var s=r(4119);Object.defineProperty(t,\"getSeq\",{enumerable:!0,get:function(){return s.getSeq}}),Object.defineProperty(t,\"getReportSeq\",{enumerable:!0,get:function(){return s.getReportSeq}}),Object.defineProperty(t,\"ZegoExpressWebRTMEngine\",{enumerable:!0,get:function(){return s.ZegoExpressWebRTMEngine}}),Object.defineProperty(t,\"ZegoLogger\",{enumerable:!0,get:function(){return s.ZegoLogger}}),Object.defineProperty(t,\"ZegoDataReport\",{enumerable:!0,get:function(){return s.ZegoDataReport}}),Object.defineProperty(t,\"ZegoExpressWebRTM\",{enumerable:!0,get:function(){return s.ZegoExpressWebRTM}}),Object.defineProperty(t,\"NetConnection\",{enumerable:!0,get:function(){return s.NetConnection}}),Object.defineProperty(t,\"BusinessService\",{enumerable:!0,get:function(){return s.BusinessService}})},7716:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={NOT_LOGIN:{code:1000002,message:\"not login room\"},STREAMID_TOO_LONG:{code:1000014,message:\"stream ID is too long\"},STREAM_ID_NULL:{code:1000015,message:\"streamID is empty\"},STREAM_ID_INVALID_CHARACTER:{code:1000016,message:\"stream ID contains illegal characters\"},NETWORK_BROKEN:{code:1000017,message:\"network is broken\"},LOCALSTREAM_WRONG:{code:1000018,message:\"local stream wrong\"},INPUT_PARAM:{code:1100001,message:\"input param error.\"},TIMEOUT:{code:1100002,message:\"network timeout.\"},SOCKET_CLOSE:{code:1100003,msg:\"socket close\"},INIT_SDK_WRONG:{code:1101e3,message:\"init sdk wrong\"},WX_GET_SETTING_FAIL:{code:1101001,message:\"wx get setting fail\"},GET_CONFIG_FAIL:{code:1101002,message:\"get app config fail\"},USER_ID_NULL:{code:1002005,message:\"user ID is empty\"},USER_ID_INVALID_CHARACTER:{code:1002006,message:\"user ID contains illegal characters\"},USER_ID_TOO_LONG:{code:1002007,message:\"user ID is too long\"},USER_NAME_NULL:{code:1002008,message:\"username is empty\"},USER_NAME_TOO_LONG:{code:1002010,message:\"username is too long\"},ROOM_ID_NULL:{code:1002011,message:\"room ID is empty\"},ROOM_ID_INVALID_CHARACTER:{code:1002012,message:\"room ID contains illegal characters\"},ROOM_ID_TOO_LONG:{code:1002013,message:\"room ID is too long\"},LOGIN_TIMEOUT:{code:1002031,message:\"login timeout\"},ROOM_MAX_USER_COUNT:{code:1002034,message:\"users logging into the room exceeds the maximum number\"},MULTIPLE_LOGIN_KICKOUT:{code:1002050,message:\"kickout may be the same user ID login other\"},ROOM_RETRY_TIMEOUT:{code:1002053,message:\"network is broken and login fail.\"},MANUAL_KICKOUT:{code:1002055,message:\"server has sent a signal to kick out\"},ROOM_INNER_ERROR:{code:1002099,message:\"room inner error\"},HEARTBEAT_TIMEOUT:{code:1102001,message:\"heartbeat timeout.\"},PARSE_JSON_ERROR:{code:1102011,message:\"parse json error.\"},LOGIN_PROCESSING:{code:1102012,message:\"login is processing.\"},LIVEROOM_REQUEST_ERROR:{code:1102013,message:\"liveroom request error.\"},ZPUSH_REQUEST_FAIL:{code:1102014,message:\"zpush request fail.\"},LOGIN_STATE_WRONG:{code:1102015,message:\"user login state is wrong.\"},TOKEN_ERROR:{code:1102016,message:\"token error\"},DISPATCH_ERROR:{code:1102017,message:\"dispatch error\"},TOKEN_EXPIRED:{code:1102018,message:\"token expired\"},SUBCMD_ERROR:{code:1102019,message:\"subcmd error.\"},ZEGO_AUTH_ERROR:{code:1102020,message:\"zego auth error.\"},BIZ_CHANNEL_ERROR:{code:1102021,message:\"biz channel error.\"},DISPATCH_TIMEOUT:{code:1102022,message:\"dispatch request timeout\"},CONNECT_FAILED:{code:1102023,message:\"connect signal fail\"},PUBLISHER_MEDIA_SERVER_FORBID:{code:1003025,message:\"stream is forbided by media server\"},PUBLISHER_EXTRA_INFO_TOO_LONG:{code:1003051,message:\"stream extra info is too long\"},PUBLISHER_PARAM:{code:1103001,message:\"input param error\"},PUBLISHER_BROWSER_NOT_SUPPORT:{code:1103002,message:\"browser do not support\"},PUBLISHER_DISPATCH_FAIL:{code:1103003,message:\"dispatch request error\"},PUBLISHER_SCREEN_FAILED:{code:1103010,message:\"screen fail\"},ENUMERATE_DEVICES_FAIL:{code:1103011,message:\"enumerate devices fail\"},PUBLISHER_DISPATCH_REQUEST_FAIL:{code:1103020,message:\"dispatch request fail\"},PUBLISHER_SESSION_REQUEST_FAIL:{code:1103021,message:\"session request fail\"},PUBLISHER_CREATE_OFFER_ERROR:{code:1103022,message:\"create offer error\"},PUBLISHER_SET_LOCAL_DESC_ERROR:{code:1103023,message:\"setLocalDescription error\"},PUBLISHER_MEDIA_DESC_ERROR:{code:1103024,message:\"mediaDesc error\"},PUBLISHER_SET_REMOTE_DESC_ERROR:{code:1103025,message:\"other side offer error\"},PUBLISHER_CANDIDATE_ERROR:{code:1103026,message:\"candidate error\"},PUBLISHER_SESSION_CLOSED:{code:1103027,message:\"server session closed\"},PUBLISHER_MEDIA_CONNECTION_ERROR:{code:1103028,message:\"ice connection error\"},PUBLISHER_SERVER_NEGO_TIMEOUT:{code:1103030,message:\"negotiation timeout\"},PUBLISH_DEVICE_OUT_ERR:{code:1103041,message:\"device change \"},PUBLISH_SCREEN_CANCELED:{code:1103042,message:\"screen canceled\"},PUBLISH_SCREEN_NOT_SUPPORT:{code:1103043,message:\"screen not support\"},PUBLISH_NO_PREVIEW:{code:1103044,message:\"stream is not from zego\"},REPEATED_PULL:{code:1103049,message:\"repeated pull same stream\"},PUBLISHER_WEBSOCKET_DISCONNECTED:{code:1103050,message:\"websocket disconnected\"},PUBLISHER_RETRY_TIMEOUT:{code:1103051,message:\"publisher retry timeout\"},PUBLISHER_HTTPS_REQUIRED:{code:1103053,message:\"https is required\"},PUBLISHER_NO_PREVIEW:{code:1103054,message:\"no preview\"},PUBLISHER_STREAM_NO_FOUND:{code:1103055,message:\"publish stream no found\"},PUBLISHER_IS_PUBLISHING:{code:1103056,message:\"publish is publishing\"},PUBLISHER_CLIENT_IP_CHANGED:{code:1103058,message:\"client ip changed\"},PUBLISHER_TTL_OVERTIME:{code:1103059,message:\"ttl over time\"},PUBLISHER_SESSION_TIMEOUT:{code:1103060,message:\"session request timeout\"},PUBLISHER_GET_USER_MEDIA_FAIL:{code:1103061,message:\"get media fail\"},PUBLISHER_DEVICE_NO_ALLOWED:{code:1103064,message:\"get device not allowed\"},PUBLISHER_DEVICE_NO_READABLE:{code:1103065,message:\"device is not readable\"},PUBLISHER_OVER_CONSTRAINED:{code:1103066,message:\"device does not meet constraints\"},PUBLISHER_UPDATE_SDP_TIMEOUT:{code:1103067,message:\"update sdp time out\"},PUBLISHER_UPDATE_SDP_FAIL:{code:1103068,message:\"update sdp fail\"},VIDEO_EFFECT_IS_STARTING:{code:1103073,message:\"video effect is starting, please operate after video effect is started\"},PLAYER_PARAM:{code:1104001,message:\"input parm error\"},PLAYER_DISPATCH_REQUEST_FAIL:{code:1104020,message:\"dispatch request fail\"},PLAYER_SESSION_REQUEST_FAIL:{code:1104021,message:\"session request fail\"},PLAYER_CREATE_OFFER_ERROR:{code:1104022,message:\"create offer error\"},PLAYER_SET_LOCAL_DESC_ERROR:{code:1104023,message:\"setLocalDescription error\"},PLAYER_MEDIA_DESC_ERROR:{code:1104024,message:\"mediaDesc error\"},PLAYER_SET_REMOTE_DESC_ERROR:{code:1104025,message:\"other side offer error\"},PLAYER_CANDIDATE_ERROR:{code:1104026,message:\"candidate error\"},PLAYER_SESSION_CLOSED:{code:1104027,message:\"server session closed\"},PLAYER_MEDIA_CONNECTION_ERROR:{code:1104028,message:\"ice connection error\"},PLAYER_WEBSOCKET_DISCONNECTED:{code:1104029,message:\"websocket disconnected\"},PLAYER_SERVER_NEGO_TIMEOUT:{code:1104030,message:\"negotiation timeout\"},PLAYER_RETRY_TIMEOUT:{code:1104031,message:\"player retry timeout\"},PLAYER_IS_PLAYING:{code:1104032,message:\"player is playing\"},PLAYER_CLIENT_IP_CHANGED:{code:1104033,message:\"client ip changed\"},PLAYER_TTL_OVERTIME:{code:1104034,message:\"ttl is over time\"},PLAYER_SESSION_RESET:{code:1104035,message:\"reset session push\"},PLAYER_SESSION_TIMEOUT:{code:1104036,message:\"session request timeout\"},PLAYER_PROBE_TIMEOUT:{code:1104037,message:\"probe time out\"},PLAYER_UNSUPPORTED_PROTOCOL:{code:1104038,message:\"resource mode is not supported\"},PLAYER_STREAM_NOT_EXIST:{code:1104039,message:\"play stream not found\"},DEVICE_ERROR_TYPE_UNPLUGGED:{code:1006006,message:\"the device is unplugged\"},IM_CONTENT_NULL:{code:1009001,message:\"message content is empty\"},IM_CONTENT_TOO_LONG:{code:1009002,message:\"message content is too long\"},IM_SEND_FAILED:{code:1009010,message:\"failed to send message\"},FREQ_LIMITED:{code:1109001,message:\"frequency limited.\"}}},8335:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoWechatLogEvent=t.ZegoRTCLogEvent=void 0;var i=r(7716),o=function(e){return e};t.ZegoRTCLogEvent={kZegoTaskCreateStream:{event:\"/sdk/create_stream\",error:{kBrowserNotSupportError:i.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kParamError:i.errorCodeList.PUBLISHER_PARAM,kScreenCancelError:i.errorCodeList.PUBLISH_SCREEN_CANCELED,kScreenFailedError:i.errorCodeList.PUBLISHER_SCREEN_FAILED,kScreenNotSupportError:i.errorCodeList.PUBLISH_SCREEN_NOT_SUPPORT,kHttpsRequiredError:i.errorCodeList.PUBLISHER_HTTPS_REQUIRED,kGetUserMediaError:i.errorCodeList.PUBLISHER_GET_USER_MEDIA_FAIL,kDeviceNoAllowedError:i.errorCodeList.PUBLISHER_DEVICE_NO_ALLOWED,kDeviceNoReadableError:i.errorCodeList.PUBLISHER_DEVICE_NO_READABLE,kDeviceOverConstrainedError:i.errorCodeList.PUBLISHER_OVER_CONSTRAINED},stream_type:o,screen:o,camera:o,custom:o},kZegoTaskPublishStart:{event:\"/sdk/api/publish_request\",error:{kPublishParamError:i.errorCodeList.PUBLISHER_PARAM,kPublishNetworkTimeoutError:i.errorCodeList.TIMEOUT,kPublishDispatchTimeoutError:i.errorCodeList.DISPATCH_TIMEOUT,kPublishDispatchError:i.errorCodeList.DISPATCH_ERROR,kPublishNetworkBrokenError:i.errorCodeList.NETWORK_BROKEN,kPublishNoPreviewError:i.errorCodeList.PUBLISH_NO_PREVIEW,kPublishEffectIsStarting:i.errorCodeList.VIDEO_EFFECT_IS_STARTING,kPublishNoLoginError:i.errorCodeList.NOT_LOGIN,kPublishRetryTimeoutError:i.errorCodeList.PUBLISHER_RETRY_TIMEOUT,kMediaServerForbidError:i.errorCodeList.PUBLISHER_MEDIA_SERVER_FORBID,kPublishTokenExpiredError:i.errorCodeList.TOKEN_EXPIRED,kPublishSessionClosedError:i.errorCodeList.PUBLISHER_SESSION_CLOSED,kPublishNegoTimeoutError:i.errorCodeList.PUBLISHER_SERVER_NEGO_TIMEOUT,kCreateOfferError:i.errorCodeList.PUBLISHER_CREATE_OFFER_ERROR,kSetLocalDescError:i.errorCodeList.PUBLISHER_SET_LOCAL_DESC_ERROR,kSessionTimeoutError:i.errorCodeList.PUBLISHER_SESSION_TIMEOUT,kSessionRequestError:i.errorCodeList.PUBLISHER_SESSION_REQUEST_FAIL,kSetRemoteDescError:i.errorCodeList.PUBLISHER_SET_REMOTE_DESC_ERROR,kMediaConnectionError:i.errorCodeList.PUBLISHER_MEDIA_CONNECTION_ERROR,kWebsocketDisconnectedError:i.errorCodeList.PUBLISHER_WEBSOCKET_DISCONNECTED,kMediaDescError:i.errorCodeList.PUBLISHER_MEDIA_DESC_ERROR,kCandidateError:i.errorCodeList.PUBLISHER_CANDIDATE_ERROR,kIsPublishing:i.errorCodeList.PUBLISHER_IS_PUBLISHING,kClientIPChangedError:i.errorCodeList.PUBLISHER_CLIENT_IP_CHANGED,kTTLOverTimeError:i.errorCodeList.PUBLISHER_TTL_OVERTIME,kUpdateMediaDescriptionTimeOut:i.errorCodeList.PUBLISHER_UPDATE_SDP_TIMEOUT,kUpdateMediaDescriptionError:i.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL},publishOption:o,message:o,session_id:o,stream:o,video_en_codec_id:o,cap_w:o,cap_h:o,w:o,h:o,video_en_fps:o,video_en_bps:o,audio_c_channel_count:o,audio_en_bps:o,aec_level:o,ans_level:o,agc:o,traffic_control_min_video_bitrate:o,use_na:o},kZegoTaskVideoCaptureSize:{event:\"/sdk/api/publish_video_c_size\",session_id:o,w:o,h:o},kZegoTaskVideoPlaySize:{event:\"/sdk/play_video_size_changed\",session_id:o,w:o,h:o},kZegoTaskRePublish:{event:\"/sdk/republish\",stream:o},kZegoTaskPublishStop:{event:\"/sdk/stop_publish\",error:{kParamError:i.errorCodeList.PUBLISHER_PARAM},stream:o},kZegoTaskPlayStart:{event:\"/sdk/api/play_request\",error:{kStreamIDNullError:i.errorCodeList.STREAM_ID_NULL,kPlayParamError:i.errorCodeList.PLAYER_PARAM,kPlayStreamIDToLongError:i.errorCodeList.STREAMID_TOO_LONG,kPlayStreamIDInvalidCharacterError:i.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPlayNoLoginError:i.errorCodeList.NOT_LOGIN,kPlayRepeatedPullError:i.errorCodeList.REPEATED_PULL,kPlayNetworkTimeoutError:i.errorCodeList.TIMEOUT,kPlayDispatchTimeoutError:i.errorCodeList.DISPATCH_TIMEOUT,kPlayDispatchError:i.errorCodeList.DISPATCH_ERROR,kPlayNetworkBrokenError:i.errorCodeList.NETWORK_BROKEN,kPlayUnsupportedResourceMode:i.errorCodeList.PLAYER_UNSUPPORTED_PROTOCOL,kPlayStreamNotFound:i.errorCodeList.PLAYER_STREAM_NOT_EXIST,kPlayRetryTimeoutError:i.errorCodeList.PLAYER_RETRY_TIMEOUT,kPlaySessionClosedError:i.errorCodeList.PLAYER_SESSION_CLOSED,kPlaySessionResetError:i.errorCodeList.PLAYER_SESSION_RESET,kPlayNegoTimeoutError:i.errorCodeList.PLAYER_SERVER_NEGO_TIMEOUT,kCreateOfferError:i.errorCodeList.PLAYER_CREATE_OFFER_ERROR,kSetLocalDescError:i.errorCodeList.PLAYER_SET_LOCAL_DESC_ERROR,kSessionRequestError:i.errorCodeList.PLAYER_SESSION_REQUEST_FAIL,kSessionTimeoutError:i.errorCodeList.PLAYER_SESSION_TIMEOUT,kSetRemoteDescError:i.errorCodeList.PLAYER_SET_REMOTE_DESC_ERROR,kMediaConnectionError:i.errorCodeList.PLAYER_MEDIA_CONNECTION_ERROR,kWebsocketDisconnectedError:i.errorCodeList.PLAYER_WEBSOCKET_DISCONNECTED,kCandidateError:i.errorCodeList.PLAYER_CANDIDATE_ERROR,kMediaDescError:i.errorCodeList.PLAYER_MEDIA_DESC_ERROR,kIsPlaying:i.errorCodeList.PLAYER_IS_PLAYING,kClientIPChangedError:i.errorCodeList.PLAYER_CLIENT_IP_CHANGED,kTTLOverTimeError:i.errorCodeList.PLAYER_TTL_OVERTIME,kProbeTimeOutError:i.errorCodeList.PLAYER_PROBE_TIMEOUT},playOption:o,message:o,session_id:o,stream:o,audio_activate:o,video_activate:o,use_na:o},kZegoTaskRePlay:{event:\"/sdk/replay\",stream:o},kZegoTaskPlayStop:{event:\"/sdk/stop_play\",error:{kParamError:i.errorCodeList.PUBLISHER_PARAM},stream:o},kZegoTaskEnumDevices:{event:\"/device/list\",error:{kBrowserNotSupportError:i.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:i.errorCodeList.ENUMERATE_DEVICES_FAIL},dev_list:o},kZegoTaskAudioOutput:{event:\"/device/audio_capture\",error:{kBrowserNotSupportError:i.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:i.errorCodeList.ENUMERATE_DEVICES_FAIL},session_id:o,device:o},kZegoTaskVideoCapture:{event:\"/device/video_capture\",error:{kBrowserNotSupportError:i.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:i.errorCodeList.ENUMERATE_DEVICES_FAIL},session_id:o,device:o},kZegoTaskDeviceInterrupt:{event:\"/device/interrupt\",error:{kBrowserNotSupportError:i.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:i.errorCodeList.ENUMERATE_DEVICES_FAIL},session_id:o,interrupt:o},kZegoTaskSetDebug:\"/sdk/set_debug\",kZegoTaskSetLog:\"/sdk/set_log_config\",kZegoTaskCheckSystemRequirements:{event:\"/sdk/check_system\",capability:o},kZegoTaskRemoteCameraUpdate:{event:\"/sdk/remote_camera_update\",stream:o,status:o},kZegoTaskRemoteMicUpdate:{event:\"/sdk/remote_mic_update\",stream:o,status:o},kZegoTaskDestroyStream:{event:\"/sdk/destroy_stream\",error:{kLocalStreamError:i.errorCodeList.LOCALSTREAM_WRONG}},kZegoTaskScreenSharingEnded:\"/sdk/screen_share_end\",kZegoTaskAudioOutputChanged:{event:\"/device/api/audio_output\",session_id:o,stream:o,device:o,reason:o},kZegoEventPublishStat:\"/sdk/publish_stat_report\",kZegoEventPlayStat:\"/sdk/play_stat_report\",kZegoTaskLiveRoomGetStreamUpdateInfo:{event:\"/liveroom/get_stream_update_info\",stream_update_type:o,update_stream:o},kZegoTaskLiveRoomGetStreamExtraInfo:{event:\"/liveroom/get_stream_extra_info\",update_stream:o},kZegoTaskPlayDecodeFirstVideoFrame:{event:\"/sdk/play_decode_first_video_frame\",session_id:o,fft_consumed:o},kZegoVisibilityChange:{event:\"/app/background\"},kZegoSetCaptureVolume:{event:\"/sdk/set_capture_volume\",error:{kParamError:i.errorCodeList.INPUT_PARAM}},kZegoListener:{event:\"/sdk/listener\"},kZegoNetProbe:{event:\"/sdk/net_probe\"},kZegoNetProbeResult:{event:\"/sdk/net_probe_result\"},kZegoTaskCloudSettingCache:{event:\"/cloud_setting/cache\"},kZegoTaskCloudSettingRefresh:{event:\"/cloud_setting/refresh\"}},t.ZegoWechatLogEvent={kZegoTaskCheckSystemRequirements:{event:\"/sdk/check_system\",error:{kCheckSystemGetSettingFailError:i.errorCodeList.WX_GET_SETTING_FAIL},capability:o},kZegoTaskPublishStart:{event:\"/sdk/api/publish_request\",error:{kPublishStreamIDNullError:i.errorCodeList.STREAM_ID_NULL,kPublishParamError:i.errorCodeList.PUBLISHER_PARAM,kPublishStreamIDTooLongError:i.errorCodeList.STREAMID_TOO_LONG,kPublishStreamIDInvalidCharacterError:i.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPublishNetworkTimeoutError:i.errorCodeList.TIMEOUT,kPublishDispatchTimeoutError:i.errorCodeList.DISPATCH_TIMEOUT,kPublishDispatchError:i.errorCodeList.DISPATCH_ERROR,kPublishNetworkBrokenError:i.errorCodeList.NETWORK_BROKEN,kPublishNoLoginError:i.errorCodeList.NOT_LOGIN,kPublishRetryTimeoutError:i.errorCodeList.PUBLISHER_RETRY_TIMEOUT,kIsPublishing:i.errorCodeList.PUBLISHER_IS_PUBLISHING},publishOption:o,stream:o,message:o},kZegoTaskPlayStart:{event:\"/sdk/api/play_request\",error:{kPlayStreamIDNullError:i.errorCodeList.STREAM_ID_NULL,kPlayParamError:i.errorCodeList.PLAYER_PARAM,kPlayStreamIDTooLongError:i.errorCodeList.STREAMID_TOO_LONG,kPlayStreamIDInvalidCharacterError:i.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPlayNoLoginError:i.errorCodeList.NOT_LOGIN,kPlayRepeatedPullError:i.errorCodeList.REPEATED_PULL,kPlayNetworkTimeoutError:i.errorCodeList.TIMEOUT,kPlayDispatchTimeoutError:i.errorCodeList.DISPATCH_TIMEOUT,kPlayDispatchError:i.errorCodeList.DISPATCH_ERROR,kPlayNetworkBrokenError:i.errorCodeList.NETWORK_BROKEN,kPlayRetryTimeoutError:i.errorCodeList.PLAYER_RETRY_TIMEOUT,kIsPlaying:i.errorCodeList.PLAYER_IS_PLAYING},playOption:o,message:o,session_id:o,stream:o,audio_activate:o,video_activate:o},kZegoEventPublishStat:\"/sdk/publish_stat_report\",kZegoEventPlayStat:\"/sdk/play_stat_report\",kZegoTaskRePublish:\"/sdk/republish\",kZegoTaskRePlay:\"/sdk/replay\",kZegoTaskPublishStop:{event:\"/sdk/stop_publish\",error:{kParamError:i.errorCodeList.PUBLISHER_PARAM},stream:o},kZegoTaskPlayStop:{event:\"/sdk/stop_play\",error:{kParamError:i.errorCodeList.PUBLISHER_PARAM},stream:o},kZegoTaskLiveRoomGetStreamUpdateInfo:{event:\"/liveroom/get_stream_update_info\",stream_update_type:o,update_stream:o},kZegoTaskLiveRoomGetStreamExtraInfo:{event:\"/liveroom/get_stream_extra_info\",update_stream:o}}},6045:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZEGO_WEBRTC_ACTION=void 0,function(e){e.SET_VIDEO_CONFIG=\"zc.svc\",e.SET_AUDIO_CONFIG=\"zc.sac\",e.REPLACE_TRACK=\"zc.rp\",e.SET_BEAUTY_EFFECT=\"zc.sbe\",e.ENABLE_STREAM=\"zc.es\",e.ENABLE_MIC_ONLY=\"zc.emo\",e.ACTIVATE_SEI_INSERT=\"zc.asi\",e.MUTE_PUBLISH_STREAM_VIDEO=\"zc.mpsv.0\",e.MUTE_PUBLISH_STREAM_AUDIO=\"zc.mpsa.0\",e.MUTE_MIC=\"zc.mm\",e.MUTE_PLAY_STREAM_VIDEO=\"zc.mpsv.1\",e.MUTE_PLAY_STREAM_AUDIO=\"zc.mpsa.1\",e.ADD_TRACK=\"zc.at\",e.REMOVE_TRACK=\"zc.rt\",e.HANDLE_TRACK=\"zc.ht\"}(t.ZEGO_WEBRTC_ACTION||(t.ZEGO_WEBRTC_ACTION={}))},6485:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.AdvancedModule=void 0;var s=r(6045),a=r(6887),c=r(3649),u=r(3608),d=function(){function e(e,t,r,i){this.logger=e,this.dataReport=t,this.streamCenter=r,this.stateCenter=i,this.screenShotReady=!1}return e.prototype.setVideoConfig=function(e,t){var r=this;return this.logger.info(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" call\"),new Promise((function(i,o){var n,a,d=c.ZegoRTCLogEvent.kZegoSetVideoConfig.error,l=d.kLocalStreamError,h=d.kParamError,p=r.stateCenter.getReportSeq();if(r.dataReport.newReport(p,c.ZegoRTCLogEvent.kZegoSetVideoConfig.event),!(e instanceof MediaStream))return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" localStream not found\"),r.dataReport.addMsgInfo(p,l),r.dataReport.uploadReport(p),void o({errorCode:h.code,extendedData:h.message+\" localStream no found\"});if(!t||\"object\"!=typeof t||0==Object.keys(t).length)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints wrong\"),r.dataReport.addMsgInfo(p,h),r.dataReport.uploadReport(p),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"});if(t.width&&\"number\"==typeof t.width&&!r.stateCenter.checkValidNumber(t.width,0,7680))return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints width integer number, range[0, 7680]\"),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+\" constraints width integer number, range[0, 7680]\"}),r.dataReport.uploadReport(p),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"});if(t.width&&\"object\"==typeof t.width){if(!(a=u.ClientUtil.checkConstraintExtendWithMessage(t.width,\"width\",0,7680)).result)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints width: \"+a.message),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+\" constraints width: \"+a.message}),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"})}else if(t.width&&\"number\"!=typeof t.width&&\"object\"!=typeof t.width)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints width must be a number or an object. \"),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+\" constraints width must be a number or an object.\"}),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"});if(t.height&&\"number\"==typeof t.height&&!r.stateCenter.checkValidNumber(t.height,0,4320))return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints height integer number, range[0, 4320]\"),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+\" constraints height integer number, range[0, 4320]\"}),r.dataReport.uploadReport(p),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"});if(t.height&&\"object\"==typeof t.height){if(!(a=u.ClientUtil.checkConstraintExtendWithMessage(t.height,\"height\",0,4320)).result)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints height: \"+a.message),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+\" constraints height: \"+a.message}),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"})}else if(t.height&&\"number\"!=typeof t.height&&\"object\"!=typeof t.height)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints height must be a number or an object. \"),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+\" constraints height must be a number or an object.\"}),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"});if(t.maxBitrate&&\"number\"!=typeof t.maxBitrate)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+(n=\" constraints maxBitrate is not a number\")),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+n}),r.dataReport.uploadReport(p),void o({errorCode:h.code,extendedData:h.message+n});if(void 0!==t.frameRate&&\"number\"!=typeof t.frameRate&&\"object\"!=typeof t.frameRate)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+(n=\" constraints frameRate is not a number or an object\")),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+n}),r.dataReport.uploadReport(p),void o({errorCode:h.code,extendedData:h.message+n});if(\"number\"==typeof t.frameRate&&!(t.frameRate>0&&t.frameRate%1==0))return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints frameRate must be positive integer number\"),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+\" constraints frameRate must be positive integer number\"}),r.dataReport.uploadReport(p),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"});if(t.frameRate&&\"object\"==typeof t.frameRate&&!(a=u.ClientUtil.checkConstraintExtendWithMessage(t.frameRate,\"frameRate\")).result)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+\" constraints frameRate: \"+a.message),r.dataReport.addMsgInfo(p,{error:h.code,message:h.message+\" constraints frameRate: \"+a.message}),void o({errorCode:h.code,extendedData:h.message+\" constraints wrong\"});r.setPublishStreamConstraints(e,t,(function(e){r.dataReport.uploadReport(p),i(e)}))}))},e.prototype.setAudioConfig=function(e,t){var r=this;return this.logger.info(s.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+\" call\"),new Promise((function(i){var o=r.stateCenter.getReportSeq();if(r.dataReport.newReport(o,c.ZegoRTCLogEvent.kZegoSetAudioConfig.event),!(e instanceof MediaStream))return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+\" localStream not found\"),r.dataReport.addMsgInfo(o,c.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError),r.dataReport.uploadReport(o),void i({errorCode:c.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.code,extendedData:c.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.message+\" localStream no found\"});if(!t||\"object\"!=typeof t||0==Object.keys(t).length||void 0!==t.AEC&&\"boolean\"!=typeof t.AEC||void 0!==t.AGC&&\"boolean\"!=typeof t.AGC||void 0!==t.ANS&&\"boolean\"!=typeof t.ANS)return r.logger.error(s.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+\" constraints wrong\"),r.dataReport.addMsgInfo(o,c.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError),r.dataReport.uploadReport(o),void i({errorCode:c.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.code,extendedData:c.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.message+\" constraints wrong\"});r.setPublishStreamConstraints(e,t,(function(e){r.dataReport.uploadReport(o),i(e)}))}))},e.prototype.enableStream=function(e,t){if(this.logger.info(s.ZEGO_WEBRTC_ACTION.ENABLE_STREAM+\" call\"),\"boolean\"!=typeof t.video&&\"boolean\"!=typeof t.audio)return this.logger.error(s.ZEGO_WEBRTC_ACTION.ENABLE_STREAM+\" option error\"),!1;var r=!0,i=!0;return\"boolean\"==typeof t.video&&(r=this.enableCamera(e,t.video,t.retain)),\"boolean\"==typeof t.audio&&(i=this.enableMicrophone(e,t.audio)),r&&i},e.prototype.enableMicrophoneOnly=function(e){if(this.logger.info(s.ZEGO_WEBRTC_ACTION.ENABLE_MIC_ONLY+\" call\"),\"boolean\"!=typeof e)return!1;for(var t=0;t<this.streamCenter.previewStreamList.length;t++){if(!this.streamCenter.previewStreamList[t].enableMicrophoneOnly(e,this.streamCenter))return this.logger.error(\"zsc.emo.0 previewer \".concat(t,\" change mic mute state failed\")),!1;0}return this.streamCenter.isMicEnabled=e,!0},e.prototype.replaceTrack=function(e,t,r){return o(this,void 0,void 0,(function(){var i,o,a;return n(this,(function(n){return i=this.stateCenter.getReportSeq(),this.dataReport.newReport(i,c.ZegoRTCLogEvent.kZegoReplaceTrack.event),o=c.ZegoRTCLogEvent.kZegoReplaceTrack.error.kParamError,e instanceof MediaStream?t&&t instanceof MediaStreamTrack?(a=this._replaceTrack(e,t,r),this.dataReport.uploadReport(i),[2,a]):(this.logger.error(s.ZEGO_WEBRTC_ACTION.REPLACE_TRACK+\" mediastream track no found\"),this.dataReport.uploadReport(i,void 0,o),[2,{errorCode:o.code,extendedData:o.message+\" mediastream track no found\"}]):(this.logger.error(s.ZEGO_WEBRTC_ACTION.REPLACE_TRACK+\" localStream not found\"),this.dataReport.uploadReport(i,void 0,o),[2,{errorCode:o.code,extendedData:o.message+\" localStream no found\"}])}))}))},e.prototype.setPublishStreamConstraints=function(e,t,r){var i=this;this.logger.info(\"zsc.spsc.0 constraints\",JSON.stringify(t));var s=this.streamCenter.checkPreview(e);if(!s)return this.logger.error(\"zsc.spsc.0 preview no found\"),void(r&&r({errorCode:a.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:a.errorCodeList.PUBLISH_NO_PREVIEW.message}));var c=s.videoTrack,u=s.audioTrack,d=!1,l=!1;c&&(t.width||t.height||t.frameRate||t.videoQuality)&&(t.videoQuality||(s.mediaStreamConfig.videoQuality=4),d=!0),void 0===t.ANS&&void 0===t.AGC&&void 0===t.AEC||(l=!0),d&&!c?(this.logger.error(\"zsc.spsc.0 video track not found\"),r&&r({errorCode:a.errorCodeList.TRACK_NOT_FOUND.code,extendedData:a.errorCodeList.TRACK_NOT_FOUND.message})):t.video=!0,l&&!u?(this.logger.error(\"zsc.spsc.0 audio track not found\"),r&&r({errorCode:a.errorCodeList.TRACK_NOT_FOUND.code,extendedData:a.errorCodeList.TRACK_NOT_FOUND.message})):t.audio=!0;var h,p=JSON.parse(JSON.stringify(s.mediaStreamConfig)),g=Object.assign(s.mediaStreamConfig,t);\"screen\"==s.previewType?(h=this.streamCenter.getScreenConstrains(g)).bitRate!==p.bitRate&&(t.maxBitrate=h.bitRate):h=s.getMediaStreamConstraints(g,!0),this.logger.info(\"zsc.spsc.0 applyConstraints \",JSON.stringify(h));var f=[];d&&c&&f.push(c.applyConstraints(h.video));var m=!0;l&&(m=(null==u?void 0:u.enabled)||!1,null==u||u.stop(),f.push(navigator.mediaDevices.getUserMedia({video:!1,audio:h.audio})));var _=this.streamCenter.getPublishList(e);_.forEach((function(e){var r,o=null==e?void 0:e.publisher,n=(null===(r=null==o?void 0:o.peerConnection)||void 0===r?void 0:r.getSenders())||[];if(n.length>0&&t.maxBitrate){var a=n.filter((function(e){return e.track&&\"video\"===e.track.kind}));a||i.logger.error(\"zsc.spsc.0 video sender no found\");var c=a.length>1?a[1]:a[0]?a[0]:null;if(c){var u=c.getParameters();u.encodings||(u.encodings=[{}]),u.encodings[0].maxBitrate=1e3*t.maxBitrate,f.push(c.setParameters(u))}else i.logger.error(\"zsc.spsc.0 video sender no found\")}else t.maxBitrate&&(s.videoInfo.bitRate=t.maxBitrate)})),f.length>0?Promise.all(f).then((function(e){var o,n,a=e[1];if(l){var c=(n=d?e[1]:e[0]).getVideoTracks()[0];null==c||c.stop();var u=n.getAudioTracks()[0];u.enabled=m,a=JSON.stringify(u.getSettings()),s.replacePreviewTrack(u),s.gainNode||s.onAudioTrackChange(u)}if(t.maxBitrate&&(s.videoInfo.bitRate=t.maxBitrate,_.forEach((function(e){var r=null==e?void 0:e.publisher;r&&(r.videoInfo.bitRate=t.maxBitrate)}))),null===(o=null==h?void 0:h.video)||void 0===o?void 0:o.frameRate){var p=h.video.frameRate;s.videoInfo.frameRate=p,_.forEach((function(e){var t=null==e?void 0:e.publisher;t&&(t.videoInfo.frameRate=p)}))}i.logger.info(\"zsc.spsc.0 set constraints success\",a),r&&r({errorCode:0,extendedData:\"\"})})).catch((function(t){return o(i,void 0,void 0,(function(){var i,o,c,u,d=this;return n(this,(function(n){switch(n.label){case 0:return this.logger.error(\"zsc.spsc.0 fail reason \",t.name,t.toString()),l?(i=s.getMediaStreamConstraints(p),this.logger.info(\"zsc.spsc.0 oldMediaStreamConstraints \",JSON.stringify(i)),[4,navigator.mediaDevices.getUserMedia({video:!1,audio:i.audio}).catch((function(e){d.logger.error(\"zsc.spsc.0.1 setbackup fail \"+e.name)}))]):[3,2];case 1:(o=n.sent())&&(null==(c=e.getVideoTracks()[0])||c.stop(),u=o.getAudioTracks()[0],s.replacePreviewTrack(u),s.gainNode||s.onAudioTrackChange(u)),this.logger.info(\"zsc.spsc.0.1 setbackup suc \"),n.label=2;case 2:return r&&r({errorCode:a.errorCodeList.PUBLISHER_CONSTRAINTS_ERROR.code,extendedData:\"\".concat(t.name,\" \").concat(t.constraint?\"constraint:\"+t.constraint:\"\")}),[2]}}))}))})):(this.logger.warn(\"zsc.spsc.0 constaints is no changes\"),r&&r({errorCode:a.errorCodeList.PUBLISHER_CONSTRAINTS_ERROR.code,extendedData:\"constraints is no changes\"}))},e.prototype.useVideoDevice=function(e,t){var r=this;return this.logger.info(\"zc.uvd.0 call\"),new Promise((function(i){var o=r.stateCenter.getReportSeq();if(r.dataReport.newReport(o,c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.event),r.dataReport.addMsgInfo(o,{device:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.device(t)}),!(e instanceof MediaStream))return r.logger.error(\"zc.uvd.0 localStream not found\"),r.dataReport.addMsgInfo(o,c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kLocalStreamError),r.dataReport.uploadReport(o),void i({errorCode:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.code,extendedData:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.message});if(\"string\"!=typeof t)return r.logger.error(\"zc.uvd.0 deviceID must be string\"),r.dataReport.addMsgInfo(o,{error:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.code,message:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.message+\" deviceID must be string\"}),r.dataReport.uploadReport(o),void i({errorCode:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.code,extendedData:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.message});var n=function(t){r.dataReport.uploadReport(o),r.streamCenter.getPublishList(e).forEach((function(e){var t,r;e.cameraLabel=(null===(r=null===(t=e.publisher.previewer)||void 0===t?void 0:t.videoTrack)||void 0===r?void 0:r.label)||e.cameraLabel})),i(t)};r.stateCenter.getDevices((function(o){if(!o.cameras.find((function(e){return e.deviceID==t})))return r.logger.error(\"zc.uvd.0 device is not found\"),void i({errorCode:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kDevicesNoFoundError.code,extendedData:c.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kDevicesNoFoundError.message});r.switchDevice(\"video\",e,t,n)}),(function(i){r.logger.warn(\"zc.uvd.0 getDevices err:\",i),r.switchDevice(\"video\",e,t,n)}))}))},e.prototype.useAudioDevice=function(e,t){var r=this;return this.logger.info(\"zc.uad.1 call\"),new Promise((function(i){var o=r.stateCenter.getReportSeq();r.dataReport.newReport(o,c.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.event),r.dataReport.addMsgInfo(o,{device:c.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.device(t)});var n=function(e,t){r.logger.error(\"zc.uad.1 \"+t);var n=e;n.message=n.message+(t?\" \"+t:\"\"),r.dataReport.addMsgInfo(o,n),r.dataReport.uploadReport(o),i({errorCode:n.code,extendedData:n.message})},s=function(t){r.dataReport.uploadReport(o),r.streamCenter.getPublishList(e).forEach((function(t){var r;t.microLabel=(null===(r=e.getAudioTracks()[0])||void 0===r?void 0:r.label)||t.microLabel})),i(t)};e instanceof MediaStream?\"string\"==typeof t?r.stateCenter.getDevices((function(o){if(!o.microphones.find((function(e){return e.deviceID==t})))return r.logger.error(\"zc.uad.1 device is not found\"),void i({errorCode:c.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kDevicesNoFoundError.code,extendedData:c.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kDevicesNoFoundError.message});r.switchDevice(\"audio\",e,t,s)}),(function(i){r.logger.warn(\"zc.uad.1 getDevices err:\",i),r.switchDevice(\"audio\",e,t,s)})):n(c.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kParamError,\"deviceID must be string\"):n(c.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kLocalStreamError,\"localStream not found\")}))},e.prototype.enableDualStream=function(e){this.logger.info(\"zsc.eds call\");var t=this.streamCenter.checkPreview(e);t&&!t.lowStream?navigator.userAgent.toLowerCase().indexOf(\"firefox\")>-1&&\"custom\"==t.previewType?this.logger.error(\"zsc.eds can not support firefox\"):this.streamCenter.checkPublish(e)?this.logger.error(\"zsc.eds is publishing\"):(t.enableDualStream=!0,t.createLowStream()):this.logger.error(\"zsc.eds preview no found\")},e.prototype.setLowStreamParameter=function(e,t){var r=this.streamCenter.checkPreview(e);if(r){var i=r.videoInfo;t.width&&i.width&&t.width>i.width?this.logger.error(\"zsc.slsp.0 low stream width can not larger than high stream\"):t.height&&i.height&&t.height>i.height?this.logger.error(\"zsc.slsp.0 low stream height can not larger than high stream\"):t.frameRate&&i.frameRate&&t.frameRate>i.frameRate||t.height&&i.bitRate&&t.bitRate>i.bitRate||(r.lowStreamConfig=Object.assign(r.lowStreamConfig,t))}else this.logger.error(\"zsc.slsp.0 preview no found\")},e.prototype.handleTrack=function(e,t,r,i,c){var u;return o(this,void 0,void 0,(function(){var d,l,h,p,g,f,m,_,v,E,S,T=this;return n(this,(function(C){switch(C.label){case 0:return t instanceof MediaStream?r instanceof MediaStreamTrack&&\"audio\"!=r.kind?(d=this.streamCenter.checkPreview(t))?\"video\"===r.kind&&(null===(u=d.videoEffect)||void 0===u?void 0:u.enabled)?(this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" need to disable video beauty effect first\"),c&&c({errorCode:a.errorCodeList.VIDEO_EFFECT_IS_RUNNING.code,extendedData:\"need to disable video beauty effect before add or remove track\"}),[2]):\"ADD\"==e&&(t.getTracks().length>=2||t.getTracks().find((function(e){return e.kind==r.kind})))?(this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" only stream which have one track and kind no exist can add track\"),c&&c({errorCode:a.errorCodeList.TRACK_CAN_NOT_ADD.code,extendedData:a.errorCodeList.TRACK_CAN_NOT_ADD.message}),[2]):\"REMOVE\"!=e||1!=t.getTracks().length&&t.getTracks().includes(r)?!(l=this.streamCenter.checkPublish(t))||5===l.publisher.stateNego&&1!=l.publisher.isUpdateSDP?(h=d.rtcViewer,l?(p=l.publisher,g=d,(f=l.publisher.peerConnection)?(p.isUpdateSDP=!0,\"ADD\"!=e?[3,1]:(f.addTrack(r,t),[3,4])):[2]):[3,6]):(this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" publish state wrong\"),c&&c({errorCode:a.errorCodeList.PUBLISHER_STATE_WRONG.code,extendedData:a.errorCodeList.PUBLISHER_STATE_WRONG.message}),[2]):(this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" not supported\"),c({errorCode:a.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.code,extendedData:a.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.message}),[2]):(this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" stream no found\"),c&&c({errorCode:a.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:a.errorCodeList.PUBLISH_NO_PREVIEW.message}),[2]):(this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" only can handle video track\"),c({errorCode:a.errorCodeList.INPUT_PARAM.code,extendedData:a.errorCodeList.INPUT_PARAM.message}),[2]):(this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" stream wrong\"),c({errorCode:a.errorCodeList.INPUT_PARAM.code,extendedData:a.errorCodeList.INPUT_PARAM.message}),[2]);case 1:return window.RTCPeerConnection&&window.RTCPeerConnection.prototype.getTransceivers&&window.RTCRtpTransceiver.prototype.stop?[4,f.getSenders().find((function(e){return e.track&&e.track==r}))]:(this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" not supported getTransceivers\"),c({errorCode:a.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.code,extendedData:a.errorCodeList.HANDLE_TRACK_NOT_SUPPORTED.message}),[2]);case 2:return m=C.sent(),[4,f.getTransceivers().find((function(e){return e.sender==m}))];case 3:if(_=C.sent(),!(m&&_&&_.stop))return this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" sender no found\"),c&&c({errorCode:a.errorCodeList.TRACK_NOT_FOUND.code,extendedData:a.errorCodeList.TRACK_NOT_FOUND.message}),[2];try{f.removeTrack(m),_.stop()}catch(e){this.logger.error(s.ZEGO_WEBRTC_ACTION.HANDLE_TRACK+\" \"+e),c&&c({errorCode:a.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL.code,extendedData:a.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL.message+\" \"+e})}C.label=4;case 4:return v={},E=this.streamCenter.previewStreamList.find((function(e){return e.localStream.getTracks().find((function(e){return e==r}))})),v=E&&\"ADD\"==e?E.videoInfo:{},[4,f.createOffer()];case 5:return S=C.sent(),p.onCreateOfferSuccess(S,!0,v,(function(s){return o(T,void 0,void 0,(function(){var o;return n(this,(function(n){return 0!==s?c&&c({errorCode:a.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL.code,extendedData:a.errorCodeList.PUBLISHER_UPDATE_SDP_FAIL.message}):(o=\"video\"==r.kind?\"videoTrack\":\"audioTrack\",\"ADD\"==e?(t.addTrack(r),g[o]=r,h&&h.setTrack(\"video\"==r.kind,r),\"video\"==r.kind&&1==r.enabled?p.sendStreamStatus(0,p.mic_status,!0):1==r.enabled&&p.sendStreamStatus(p.camera_status,0,!0)):(\"video\"==r.kind?p.sendStreamStatus(2,p.mic_status,!0):p.sendStreamStatus(p.camera_status,2,!0),t.removeTrack(r),g[o]=null,h&&h.setTrack(\"video\"==r.kind,null)),d.mediaStreamConfig.video=\"ADD\"==e,i({errorCode:0,extendedData:\"\"})),[2]}))}))})),[3,7];case 6:\"ADD\"==e?(t.addTrack(r),h&&h.setTrack(\"video\"==r.kind,r)):(t.removeTrack(r),h&&h.setTrack(\"video\"==r.kind,null)),i({errorCode:0,extendedData:\"\"}),d.mediaStreamConfig.video=\"ADD\"==e,C.label=7;case 7:return[2]}}))}))},e.prototype.switchDevice=function(e,t,r,o){var n=this,s=this.streamCenter.checkPreview(t);if(!s)return this.logger.error(\"zsc.sd.0 preview no found\"),void(o&&o({errorCode:a.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:a.errorCodeList.PUBLISH_NO_PREVIEW.message}));if(\"video\"===e&&0==s.mediaStreamConfig.video)return this.logger.error(\"zsc.sd.0 camera can not be changed when video is false\"),void(o&&o({errorCode:a.errorCodeList.VIDEO_DEVICE_FALSE.code,extendedData:a.errorCodeList.VIDEO_DEVICE_FALSE.message}));if(\"audio\"===e&&0==s.mediaStreamConfig.audio)return this.logger.error(\"zsc.sd.0 microphone can not be changed when audio is false\"),void(o&&o({errorCode:a.errorCodeList.AUDIO_DEVICE_FALSE.code,extendedData:a.errorCodeList.AUDIO_DEVICE_FALSE.message}));s.mediaStreamConfig.videoInput!==r&&delete s.mediaStreamConfig.facingMode;var c,u={};\"video\"===e?(u.videoInput=r,c=s.videoTrack):(u.audioInput=r,c=s.audioTrack);var d=this.stateCenter.browser;this.logger.info(\"zsc.sd.0 browser \"+d),\"firefox\"===d&&(null==c||c.stop());var l=i(i({},s.mediaStreamConfig),u),h=s.getMediaStreamConstraints(l),p=function(r,i){i.getTracks().forEach((function(r){if(r.kind===e){var i=\"video\"===e,o=i?\"videoTrack\":\"audioTrack\",a=s[o];r.enabled=a.enabled,i&&s.lowStream&&s.lowStream.getTracks().forEach((function(e){return e.stop()}));var c=n.streamCenter.getPublishList(t);c.length>0&&(!s.muteImage||r.enabled||!i)?c.map((function(e){return e.publisher})).forEach((function(e){e.replacePublishedTrack(r)})):s&&s.muteImage&&!r.enabled&&i?s[o]=r:s&&s.replacePreviewTrack(r),a&&a.stop()}})),s.restartSoundLevel()};\"audio\"==e?h.video=!1:h.audio=!1,navigator.mediaDevices.getUserMedia(h).then((function(t){Object.assign(s.mediaStreamConfig,u),p(0,t),n.logger.info(\"zsc.sd.0 switch \"+e+\" device success\"),o&&o({errorCode:0,extendedData:\"\"})}),(function(t){var r,i;\"video\"==e?null===(r=s.videoTrack)||void 0===r||r.stop():null===(i=s.audioTrack)||void 0===i||i.stop(),n.logger.warn(\"zsc.sd.0 switch \"+e+\" device failed, stop last device and retry. \",t+\"\"),navigator.mediaDevices.getUserMedia(h).then((function(t){Object.assign(s.mediaStreamConfig,u),p(0,t),n.logger.info(\"zsc.sd.0 swtich \"+e+\" device success\"),o&&o({errorCode:0,extendedData:\"\"})}),(function(t){n.logger.warn(\"zsc.sd.0 swtich \"+e+\" device failed and recover last device. \",t+\"\");var r=s.getMediaStreamConstraints(s.mediaStreamConfig),i=a.errorCodeList.VIDEO_DEVICE_FALSE;\"audio\"===e&&(i=a.errorCodeList.AUDIO_DEVICE_FALSE),navigator.mediaDevices.getUserMedia(r).then((function(r){p(0,r),n.logger.info(\"zsc.sd.0 recover last \"+e+\" device success\"),o&&o({errorCode:i.code,extendedData:i.message+\" \"+JSON.stringify(t)})}),(function(t){n.logger.error(\"zsc.sd.0 swtich \"+e+\" device and recover failed, please recreate stream. \",t+\"\"),o&&o({errorCode:i.code,extendedData:i.message+\" \"+JSON.stringify(t)})}))}))}))},e.prototype._replaceTrack=function(e,t,r){var i=this.streamCenter.checkPreview(e),o=this.streamCenter.getPublishList(e);if(o.length){var n=null;return o.forEach((function(e){var i;n=null===(i=e.publisher)||void 0===i?void 0:i.replacePublishedTrack(t,!1,{isTrackProcessedFromOriginalStream:r})})),n}return i?i.localStream.getTracks().find((function(e){return e.kind===t.kind}))?(i.replacePreviewTrack(t,!1,{isTrackProcessedFromOriginalStream:r}),{errorCode:0,extendedData:\"\"}):(this.logger.error(\"zc.rt.0 track no found\"),{errorCode:a.errorCodeList.TRACK_NOT_FOUND.code,extendedData:a.errorCodeList.TRACK_NOT_FOUND.message}):(this.logger.error(\"zc.rt.0 preview no found\"),{errorCode:a.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:a.errorCodeList.PUBLISH_NO_PREVIEW.message})},e.prototype.enableMicrophone=function(e,t){var r=this.streamCenter.checkPreview(e);return r?r.enableMicrophone(t,this.streamCenter):(this.logger.error(\"zsc.em.0 no preview\"),!1)},e.prototype.enableCamera=function(e,t,r){var i=this.streamCenter.checkPreview(e);return i?i.enableCamera(t,this.streamCenter,r):(this.logger.error(\"zsc.ec.0 no preview\"),!1)},e.prototype.setDummyCaptureImagePath=function(e,t){var r=this;return new Promise((function(i,o){var n=r.streamCenter.checkPreview(t);if(!n)return r.logger.error(\"zc.sdcp.0 preview no found\"),void i(!1);if(\"string\"!=typeof e)return r.logger.error(\"zc.sdcp.0 filePath type error\"),void i(!1);var s=new Image;s.src=e,s.crossOrigin=\"anonymous\",s.onload=function(){n.loadImgTimer&&clearTimeout(n.loadImgTimer),n.loadImgTimer=void 0,r.logger.info(\"zc.sdcp.0 load file path success\"),n.muteImage=s,i(!0)},n.loadImgTimer=setTimeout((function(){r.logger.error(\"zc.sdcp.0 load img timeout\"),i(!1)}),5e3)}))},e}();t.AdvancedModule=d},2193:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.signal=t.publisher=t.publishModule=t.playModule=t.preview=t.streamHandler=t.zegoWebRTC=t.ENUM_PUBLISH_STREAM_STATE=t.ENUM_STREAM_CMD_PRI=t.ENUM_STREAM_SUB_CMD=t.PROTO_VERSION=void 0;var s=r(6045),a=r(6887),c=r(3649),u=r(3656);function d(e,t){return e&&\"live\"===e.readyState?!0===e.enabled?0:\"video\"===e.kind&&\"firefox\"===t?2:20:2}t.PROTO_VERSION=\"2.19.0\",t.ENUM_STREAM_SUB_CMD={liveNone:0,liveBegin:2001,liveEnd:2002,liveUpdate:2003},t.ENUM_STREAM_CMD_PRI={liveBegin:\"zegochat_js.room_stream_create_req\",liveEnd:\"zegochat_js.room_stream_delete_req\",liveUpdate:\"zegochat_js.room_stream_update_req\"},t.ENUM_PUBLISH_STREAM_STATE={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},t.zegoWebRTC={mutePublishStreamVideo:function(e,t,r){this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+\" call\");var i=this.stateCenter.getReportSeq();if(this.dataReport.newReport(i,c.ZegoRTCLogEvent.kZegoTaskMutePublishVideo),\"boolean\"!=typeof t||void 0!==r&&\"boolean\"!=typeof r)return this.logger.error(s.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+\" option error\"),!1;var o=this.rtcModules.advancedModule.enableStream(e,{video:!t,retain:r});return this.dataReport.uploadReport(i),this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+\" end\"),o},mutePublishStreamAudio:function(e,t){this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+\" call\");var r=this.stateCenter.getReportSeq();if(this.dataReport.newReport(r,c.ZegoRTCLogEvent.kZegoTaskMutePublishAudio),\"boolean\"!=typeof t)return this.logger.error(s.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+\" option error\"),!1;var i=this.rtcModules.advancedModule.enableStream(e,{audio:!t});return this.dataReport.uploadReport(r),this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+\" end\"),i},mutePlayStreamVideo:function(e,t){this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_VIDEO+\" call \"+e+\" \"+t);var r=this.stateCenter.getReportSeq();this.dataReport.newReport(r,c.ZegoRTCLogEvent.kZegoTaskMutePlayVideo);var i=this.rtcModules.playModule.mutePlayStream(e,\"video\",t);return this.dataReport.uploadReport(r),this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_VIDEO+\" end\"),i},mutePlayStreamAudio:function(e,t){this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_AUDIO+\" call \"+e+\" \"+t);var r=this.stateCenter.getReportSeq();this.dataReport.newReport(r,c.ZegoRTCLogEvent.kZegoTaskMutePlayAudio);var i=this.rtcModules.playModule.mutePlayStream(e,\"audio\",t);return this.dataReport.uploadReport(r),this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_AUDIO+\"end\"),i},muteMicrophone:function(e){this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_MIC+\" call\");var t=this.stateCenter.getReportSeq();if(this.dataReport.newReport(t,c.ZegoRTCLogEvent.kZegoTaskMuteMicrophone),\"boolean\"!=typeof e)return this.logger.error(s.ZEGO_WEBRTC_ACTION.MUTE_MIC+\" option error\"),!1;var r=this.rtcModules.advancedModule.enableMicrophoneOnly(!e);return this.dataReport.uploadReport(t),this.logger.info(s.ZEGO_WEBRTC_ACTION.MUTE_MIC+\" end\"),r},activateSEIInsert:function(e){return this.rtcModules.publishModule.activateSEIInsert(e.stream,e.action,e.infoType)},getAudioInfo:function(e,t,r){if(!e)return this.logger.error(\"localStream is empty!\"),!1;var o=i({},r);return new u.MediaUtil(this.ac,o).connectToSource(e,(function(e){t(e)}))},startRecord:function(e){var t=this,r=this.streamCenter.checkPreview(e);if(r){var i=e.clone(),o=i.getAudioTracks();o.length>0&&r.hasEmptyAudioTrack&&o.forEach((function(e){i.removeTrack(e)})),this.recordedBlobs=[];var n={mimeType:\"video/webm;codecs=vp9\"};MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:\"video/webm;codecs=vp8,opus\"},MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:\"video/webm;codecs=vp8\"},MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:\"video/webm\"},MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:\"\"}))));try{this.mediaRecorder=new MediaRecorder(i,n)}catch(e){return void this.logger.error(\"Exception while creating ZegoMediaRecorder:\",e)}this.mediaRecorder.onstop=function(e){t.logger.warn(\"Recorder stopped: \"+e)},this.mediaRecorder.ondataavailable=this.handleDataAvailable.bind(this),this.mediaRecorder.start(10)}else this.logger.error(\"stream is not from zego!\")},stopRecord:function(){this.mediaRecorder?this.mediaRecorder.stop():this.logger.warn(\"please invoke startRecord first\")},resumeRecord:function(){this.mediaRecorder?this.mediaRecorder.resume():this.logger.warn(\"please invoke startRecord first\")},pauseRecord:function(){this.mediaRecorder?this.mediaRecorder.pause():this.logger.warn(\"please invoke startRecord first\")},saveRecord:function(e){if(this.mediaRecorder&&this.recordedBlobs){var t=new Blob(this.recordedBlobs,{type:\"video/webm\"}),r=window.URL.createObjectURL(t),i=document.createElement(\"a\");i.style.display=\"none\",i.href=r,i.download=e+\".webm\",document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)}),100)}else this.logger.warn(\"please invoke startRecord first\")},handleDataAvailable:function(e){e.data&&e.data.size>0&&this.recordedBlobs.push(e.data)},addTrack:function(e,t){var r=this;return new Promise((function(i,o){r.logger.info(s.ZEGO_WEBRTC_ACTION.ADD_TRACK+\" call\"),r.rtcModules.advancedModule.handleTrack(\"ADD\",e,t,i,o)}))},removeTrack:function(e,t){var r=this;return new Promise((function(i,o){r.logger.info(s.ZEGO_WEBRTC_ACTION.REMOVE_TRACK+\" call\"),r.rtcModules.advancedModule.handleTrack(\"REMOVE\",e,t,i,o)}))},enableCameraCapturing:function(e,t){return void 0===t&&(t=!0),o(this,void 0,void 0,(function(){var r;return n(this,(function(i){return(r=this.streamCenter.checkPreview(e))?[2,r.enableCameraCapturing(t)]:(this.logger.error(\"zsc.ecc no preview\"),[2,!1])}))}))}},t.streamHandler={},t.preview={enableCamera:function(e,t,r){var i,o,n,s=this;if(!this.localStream||0==this.localStream.getVideoTracks().length)return this.logger.error(\"zp.ec.2 video track no found\"),!1;var a,c=this.videoTrack;if(!e&&this.muteImage){var u=document.createElement(\"canvas\");u.width=this.muteImage.width,u.height=this.muteImage.height;var l=u.getContext(\"2d\");this.muteImageAnID=setInterval((function(){l.drawImage(s.muteImage,0,0)}),100),a=u.captureStream().getVideoTracks()[0],this.localStream.removeTrack(this.localStream.getVideoTracks()[0]),this.localStream.addTrack(a),this.rtcViewer&&this.rtcViewer.setVideo(a)}else e&&this.muteImage&&((null===(i=null==this?void 0:this.videoEffect)||void 0===i?void 0:i.enabled)?this.replacePreviewTrack(this.videoEffect.output,!0):this.replacePreviewTrack(this.videoTrack));var h=this.stateCenter.browser;if(r&&!e||!c){if(r&&!e)if(null===(o=this.videoEffect)||void 0===o?void 0:o.enabled)this.logger.warn(\"zp.ec.2 Unable to keep the preview screen when beauty is turned on\");else{var p=this.cloneVideoTrack;this.cloneVideoTrack=this.videoTrack.clone(),this.cloneVideoTrack.enabled=!0,this.replacePreviewTrack(this.cloneVideoTrack,!1,{retainTrack:!0}),p&&p.stop()}}else if(c.enabled=e,\"chrome\"===h&&e&&void 0!==typeof c.getSettings().width&&c.getSettings().width>0&&navigator.userAgent){var g=0,f=navigator.userAgent.toLowerCase().match(/chrome\\/([\\d.]+)/)[1];if(f&&(g=parseInt(f.split(\",\")[0])),g&&g>=87&&g<92){var m=c.getSettings().width-1,_=c.getSettings().height-1,v=c.getSettings().frameRate;c.applyConstraints({width:m,height:_,frameRate:v}).then((function(){c.applyConstraints({width:s.videoInfo.width,height:s.videoInfo.height,frameRate:v})}))}}c&&(c.enabled=e),null===(n=this.lowStream)||void 0===n||n.getVideoTracks().forEach((function(t){t.enabled=e}));var E=t.getPublishList(this.localStream).map((function(e){return e.publisher}));return E.length&&E.forEach((function(t){var r,i=null===(r=t.peerConnection)||void 0===r?void 0:r.getSenders().filter((function(e){var t;return\"video\"===(null===(t=e.track)||void 0===t?void 0:t.kind)}));i&&i.forEach((function(t){var r;!e&&s.muteImage&&a?null==t||t.replaceTrack(a):e&&((null===(r=null==s?void 0:s.videoEffect)||void 0===r?void 0:r.enabled)&&s.videoEffect.output?t.track!==s.videoEffect.output&&(null==t||t.replaceTrack(s.videoEffect.output)):t.track!==s.videoTrack&&(null==t||t.replaceTrack(s.videoTrack)),s.muteImageAnID&&clearInterval(s.muteImageAnID))}));var o=s.muteImage&&!e?0:d(s.videoTrack,h);t.sendStreamStatus(o,t.mic_status)})),this.isVideoEnabled=e,this.logger.info(\"zp.ec.2 call success\"),!0},enableMicrophone:function(e,t){if(!this.localStream)return this.logger.error(\"zp.em.2 no localStream\"),!1;this.localStream.getAudioTracks().forEach((function(t){t.enabled=e})),this.audioTrack&&(this.audioTrack.enabled=e&&t.isMicEnabled);var r=t.getPublishList(this.localStream).map((function(e){return e.publisher}));return r.length&&r.forEach((function(r){r.signal&&r.sendStreamStatus(r.camera_status,e&&t.isMicEnabled?0:2)})),this.isAudioEnabled=e,this.logger.debug(\"zp.em.2 call success\"),!0},replacePreviewTrack:function(e,t,r){var i;return void 0===t&&(t=!1),void 0===r&&(r={}),o(this,void 0,void 0,(function(){var o,s,a,c,u;return n(this,(function(n){switch(n.label){case 0:return this.logger.info(\"zsc.rpt.0 call\"),e&&e.kind&&this.localStream?(o=!0===(null==r?void 0:r.retainTrack),s=\"audio\"===e.kind?\"audioTrack\":\"videoTrack\",t||!(null===(i=this.videoEffect)||void 0===i?void 0:i.enabled)||\"video\"!==e.kind?[3,3]:o?[3,2]:[4,this.videoEffect.setInput(e)]):[2];case 1:n.sent(),n.label=2;case 2:return[3,4];case 3:\"audio\"===e.kind&&this.audioNodeQueue&&!r.isTrackProcessedFromOriginalStream?((a=new MediaStream).addTrack(e),c=this.ac.createMediaStreamSource(a),this.audioNodeQueue.replaceSource(c)):(this.logger.info(\"zsc.rpt.0 replace local track\"),(u=this.localStream.getTracks().find((function(t){return t.kind===e.kind})))!==e&&(u&&this.localStream.removeTrack(u),this.localStream.addTrack(e)),this.localStream.addTrack(e),this.rtcViewer&&(this.rtcViewer.setTrack(\"video\"===e.kind,e),\"safari\"===this.stateCenter.browser&&this.rtcViewer.resume(!0)),!o&&\"video\"===e.kind&&this.enableDualStream&&this.createLowStream()),n.label=4;case 4:return t||o||(this[s]=e),this.logger.info(\"zsc.rpt.0 end\"),[2]}}))}))},enableCameraCapturing:function(e){return o(this,void 0,void 0,(function(){var t,r,o,s,a,c,u,l,h,p;return n(this,(function(n){switch(n.label){case 0:return this.localStream&&this.videoTrack&&\"camera\"===this.previewType?(t=this.streamCenter.getPublishList(this.localStream).map((function(e){return e.publisher})),e?\"live\"!==this.videoTrack.readyState?[3,1]:(this.logger.warn(\"zp.ecc camera is already capturing\"),[3,12]):[3,13]):(this.logger.error(\"zp.ecc not camera stream\"),[2,!1]);case 1:r=this.getMediaStreamConstraints(i(i({},this.mediaStreamConfig),{audio:!1})),n.label=2;case 2:return n.trys.push([2,11,,12]),[4,navigator.mediaDevices.getUserMedia(r)];case 3:return o=n.sent(),(s=o.getVideoTracks()[0]).enabled=this.isVideoEnabled,!1===s.enabled&&this.logger.warn(\"zp.ecc video is not enabled\"),!this.muteImage||this.isVideoEnabled?[3,4]:(this.videoTrack=s,s.enabled=!this.isVideoEnabled,[3,10]);case 4:if(!t.length)return[3,9];a=0,n.label=5;case 5:return a<t.length?[4,t[a].replacePublishedTrack(s)]:[3,8];case 6:if(0!==(null==(c=n.sent())?void 0:c.errorCode))throw c;n.label=7;case 7:return a++,[3,5];case 8:return[3,10];case 9:this.replacePreviewTrack(s),n.label=10;case 10:return[3,12];case 11:return u=n.sent(),this.logger.error(\"zsc.ecc resume camera capturing failed. \"+JSON.stringify(u)),[2,!1];case 12:return[3,16];case 13:return l=this.videoTrack.enabled,\"safari\"===(h=this.stateCenter.browser)?[3,15]:(this.videoTrack.enabled=!1,[4,new Promise((function(e){setTimeout((function(){e(void 0)}),200)}))]);case 14:n.sent(),n.label=15;case 15:this.videoTrack.stop(),this.videoTrack.enabled=l,t.length&&(p=this.muteImage&&!this.isVideoEnabled?0:d(this.videoTrack,h),t.forEach((function(e){e.sendStreamStatus(p,e.mic_status)}))),n.label=16;case 16:return[2,!0]}}))}))}},t.playModule={mutePlayStream:function(e,t,r){var i=this;return this.logger.info(\"zsc.mps.0 call \"+t+\" \"+r),new Promise((function(o,n){if(\"string\"!=typeof e||\"\"==e)return i.logger.error(\"zsc.mps.0 streamID must be string and not empty\"),void n(!1);if(\"boolean\"!=typeof r)return i.logger.error(\"zsc.mps.0 mute must be boolean\"),void n(!1);var s=i.streamCenter.playerList[e];if(!s)return i.logger.error(\"zsc.mps.0 player not found\"),void n(!1);if(\"video\"===t){if(s.playOption&&!1===s.playOption.video||s.player&&0!==s.player.cameraStatus)return i.logger.error(\"zsc.mps.0 stream no contain video\"),void n(!1);s.player.signal.ActivatePlayVideoStream(i.stateCenter.getSeq(),s.player.sessionId,r,(function(){i.logger.info(\"zsc.mps.0 suc\");var e=i.stateCenter.getReportSeq();s.player.playMediaStatus.video=!r,i.dataReport.newReport(e,c.ZegoRTCLogEvent.kZegoPlayContentChanged.event),i.dataReport.addMsgInfo(e,{session_id:c.ZegoRTCLogEvent.kZegoPlayContentChanged.session_id(s.player.sessionId),video_activate:c.ZegoRTCLogEvent.kZegoPlayContentChanged.video_activate(s.player.playMediaStatus.video?1:0),audio_activate:c.ZegoRTCLogEvent.kZegoPlayContentChanged.audio_activate(s.player.playMediaStatus.audio?1:0)}),i.playVideoStatus=i.dataReport.uploadReport(e),o(!0)}),(function(){i.logger.error(\"zsc.mps.0 fail\"),n(!1)}))}else if(\"audio\"===t){if(s.playOption&&!1===s.playOption.audio||s.player&&0!==s.player.micStatus)return i.logger.error(\"zsc.mps.0 stream no contain audio\"),void n(!1);s.player.signal.ActivatePlayAudioStream(i.stateCenter.getSeq(),s.player.sessionId,r,(function(){i.logger.info(\"zsc.mps.0 suc\");var e=i.stateCenter.getReportSeq();s.player.playMediaStatus.audio=!r,i.dataReport.newReport(e,c.ZegoRTCLogEvent.kZegoPlayContentChanged.event),i.dataReport.addMsgInfo(e,{session_id:c.ZegoRTCLogEvent.kZegoPlayContentChanged.session_id(s.player.sessionId),video_activate:c.ZegoRTCLogEvent.kZegoPlayContentChanged.video_activate(s.player.playMediaStatus.video?1:0),audio_activate:c.ZegoRTCLogEvent.kZegoPlayContentChanged.audio_activate(s.player.playMediaStatus.audio?1:0)}),i.dataReport.uploadReport(e),o(!0)}),(function(){i.logger.error(\"zsc.mps.0 fail\"),n(!1)}))}else n(!1)}))},setStreamAudioOutput:function(e,t){var r=this;return!(null==t||0==t.length||!e)&&(this.logger.debug(\"zsc.ssao.0 device \"+t),e?\"undefined\"!==e.sinkId?(e.setSinkId(t).then((function(){r.logger.info(\"zsc.ssao.0 success device: \"+t)})).catch((function(e){r.logger.info(\"zsc.ssao.0 \"+e.name)})),!0):(this.logger.error(\"zsc.ssao.0 browser does not suppport\"),!1):(this.logger.error(\"zsc.ssao.0 no localVideo\"),!1))}},t.publishModule={activateSEIInsert:function(e,t,r){void 0===r&&(r=0);var i=this.streamCenter.checkPreview(e);return i?0!==t&&1!==t?(this.logger.error(s.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+\" value of “action” should be 0 or 1\"),!1):(i.activatesSEIConfig={action:t,infoType:r},this.streamCenter.getPublishList(e).map((function(e){return e.publisher})).forEach((function(e){e.activateSEIInsert(t,r)})),!0):(this.logger.error(s.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+\" stream is not created\"),!1)}},t.publisher={activateSEIInsert:function(e,t){var r=this;return new Promise((function(i,o){return r.signal?(r.signal&&r.signal.activateSEIInsert(r.stateCenter.getSeq(),r.sessionId,r.peerID,e,t,(function(e,t,o){var n=!1;0===o.result?(r.logger.info(s.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+\" called success\"),n=!0):1===o.result?(r.logger.error(s.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+\" \"+o.peer_id+\" invalid param.\"),n=!1):2===o.result&&(r.logger.error(s.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+\" peer not exist\"),n=!1),i(n)}),(function(e){1===e&&r.logger.error(s.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+\" request timeout\")})),!1):i(!1)}))},replacePublishedTrack:function(e,t,r){var i;return void 0===t&&(t=!1),o(this,void 0,void 0,(function(){var o,s,c,u,l,h,p,g;return n(this,(function(n){switch(n.label){case 0:return s=null==(o=this.previewer)?void 0:o.videoEffect,u=o[\"\".concat(c=e.kind,\"Track\")],l=null===(i=this.peerConnection)||void 0===i?void 0:i.getSenders().filter((function(e){return e.track.kind===c})),h=this.stateCenter.browser,u?(p=0,g=0,\"video\"===c?(p=d(t?u:e,h),g=this.mic_status):\"audio\"===c&&(g=d(e,h),p=this.camera_status),[4,o.replacePreviewTrack(e,t,r)]):[3,2];case 1:return n.sent(),l?(l.forEach((function(r,i){\"audio\"!==c&&!t&&(null==s?void 0:s.enabled)||(\"video\"==c&&o.lowStream&&l.length>1&&0==i?r.replaceTrack(o.lowStream.getVideoTracks()[0]):\"audio\"===c&&o.audioNodeQueue||r.replaceTrack(e))})),this.sendStreamStatus(p,g)):this.logger.info(\"zc.rt.1 replace remote track will work after stream published\"),this.logger.info(\"zc.rt.1 replace remote track success\"),[2,{errorCode:0,extendedData:\"\"}];case 2:return this.logger.error(\"zc.rt.1 publisher track no found\"),[2,{errorCode:a.errorCodeList.TRACK_NOT_FOUND.code,extendedData:a.errorCodeList.TRACK_NOT_FOUND.message}]}}))}))}},t.signal={activateSEIInsert:function(e,t,r,i,o,n,a){this.logger.info(s.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+\" call \"+t);this.sendMessageWithCallback(\"ActivateSEIInsertReq\",e,t,{peer_id:r,action:i,info_type:o},n,a)}}},6887:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={NOT_LOGIN:{code:1000002,message:\"not login room\"},INPUT_PARAM:{code:1100001,message:\"input param error.\"},PUBLISH_NOT_PUBLISH:{code:1103040,message:\"publisher not found\"},PUBLISH_NO_PREVIEW:{code:1103044,message:\"stream is not from zego\"},TRACK_NOT_FOUND:{code:1103047,message:\"track is not found\"},DEVICE_NOT_FOUND:{code:1103048,message:\"device is not found\"},PUBLISHER_CONSTRAINTS_ERROR:{code:1103029,message:\"constraint error\"},PUBLISHER_CDN_PUSH_ERROR:{code:1103052,message:\"publisher cdn push error\"},VIDEO_DEVICE_FALSE:{code:1103045,message:\"video is false\"},AUDIO_DEVICE_FALSE:{code:1103046,message:\"audio is false\"},UNKNOWN_SERVER_ERROR:{code:1100999,message:\"unknown server error\"},LOCALSTREAM_WRONG:{code:1000018,message:\"local stream wrong\"},PUBLISHER_STREAM_NO_FOUND:{code:1103055,message:\"publish stream no found\"},PUBLISH_TARGET_NO_RESPONSE:{code:1103063,message:\"publish target no response\"},BIZ_CHANNEL_ERROR:{code:1102021,message:\"biz channel error.\"},INVALID_CHANNEL:{code:1102024,message:\"invalid channel\"},PUBLISHER_EXTRA_INFO_NULL:{code:1003050,message:\"extra info of publishing stream is null\"},PUBLISHER_UPDATE_STREAM_INFO_FAIL:{code:1103062,message:\"update stream info fail\"},TRACK_CAN_NOT_ADD:{code:1103063,message:\"only stream which have one track and kind no exist can add track\"},TRACK_CAN_NOT_REMOVE:{code:1103064,message:\"stream which only has one track can not remove \"},PUBLISHER_UPDATE_SDP_FAIL:{code:1103068,message:\"update sdp fail\"},PUBLISHER_STATE_WRONG:{code:1103069,message:\"publisher state wrong\"},HANDLE_TRACK_NOT_SUPPORTED:{code:1103070,message:\"not support remove track\"},VIDEO_EFFECT_IS_RUNNING:{code:1103071,message:\"video effect processor is running\"}}},8143:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6485),o=r(2193);t.default={type:\"Advance\",install:function(e,t,r,n,s,a,c,u){for(var d in Object.defineProperty(t.prototype,\"initAdvance\",{value:function(){this.advancedModule=new i.AdvancedModule(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),o.zegoWebRTC)Object.defineProperty(e.prototype,d,{value:o.zegoWebRTC[d],writable:!1});for(var d in o.streamHandler)Object.defineProperty(r.prototype,d,{value:o.streamHandler[d],writable:!1});for(var d in o.preview)Object.defineProperty(n.prototype,d,{value:o.preview[d],writable:!1});for(var d in o.playModule)Object.defineProperty(s.prototype,d,{value:o.playModule[d],writable:!1});for(var d in o.publishModule)Object.defineProperty(a.prototype,d,{value:o.publishModule[d],writable:!1});for(var d in o.publisher)Object.defineProperty(c.prototype,d,{value:o.publisher[d],writable:!1});for(var d in o.signal)Object.defineProperty(u.prototype,d,{value:o.signal[d],writable:!1})}}},3649:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoRTCLogEvent=void 0;var i=r(6887),o=function(e){return e};t.ZegoRTCLogEvent={kZegoSetVideoConfig:{event:\"/sdk/set_video_config\",error:{kParamError:i.errorCodeList.INPUT_PARAM,kLocalStreamError:i.errorCodeList.LOCALSTREAM_WRONG}},kZegoSetAudioConfig:{event:\"/sdk/set_audio_config\",error:{kParamError:i.errorCodeList.INPUT_PARAM}},kZegoReplaceTrack:{event:\"/sdk/replace_track\",error:{kParamError:i.errorCodeList.INPUT_PARAM}},kZegoTaskUseVideoDevice:{event:\"/device/api/video_c\",error:{kParamError:i.errorCodeList.INPUT_PARAM,kDevicesNoFoundError:i.errorCodeList.DEVICE_NOT_FOUND,kLocalStreamError:i.errorCodeList.LOCALSTREAM_WRONG},device:o},kZegoTaskUseAudioDevice:{event:\"/device/api/audio_c\",error:{kParamError:i.errorCodeList.INPUT_PARAM,kDevicesNoFoundError:i.errorCodeList.DEVICE_NOT_FOUND,kLocalStreamError:i.errorCodeList.LOCALSTREAM_WRONG},device:o},kZegoPlayContentChanged:{event:\"/sdk/play_content_changed\",session_id:o,video_activate:o,audio_activate:o},kZegoTaskMutePublishVideo:\"/sdk/mute_publish_video\",kZegoTaskMutePublishAudio:\"/sdk/mute_publish_audio\",kZegoTaskMuteMicrophone:\"/sdk/mute_microphone\",kZegoTaskMutePlayVideo:\"/sdk/mute_play_video\",kZegoTaskMutePlayAudio:\"/sdk/mute_play_audio\"}},3656:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.MediaUtil=void 0;var r=function(){function e(e,t){var r=t.type,i=t.channels,o=void 0===i?1:i,n=t.bufferSize,s=void 0===n?0:n,a=t.sampleBit,c=void 0===a?16:a,u=t.sampleRate,d=void 0===u?44100:u,l=this;this.instant=0,this.slow=0,this.clip=0,this.context=e,this.type=r,this.channels=o,this.bufferSize=s,this.sampleBit=c,this.sampleRate=d,this.script=e.createScriptProcessor(s,o,o);(new Date).getTime();this.script.addEventListener(\"audioprocess\",(function(e){var t,i=e.inputBuffer.getChannelData(0),o=0,n=0;for(t=0;t<i.length;++t)o+=i[t]*i[t],Math.abs(i[t])>.99&&(n+=1);if(l.instant=Math.sqrt(o/i.length),l.slow=.95*l.slow+.05*l.instant,l.clip=n/i.length,\"pcm\"===r||\"wav\"===r){for(var s=[],a=0;a<l.channels;a++)s.push(e.inputBuffer.getChannelData(a));l.recorderBuffer(s)}})),\"pcm\"!==r&&\"wav\"!==r||this.initRecorderBuffer(r)}return e.prototype.connectToSource=function(e,t){try{this.mic=this.context.createMediaStreamSource(e),this.mic.connect(this.script),this.script.connect(this.context.destination),void 0!==t&&t(null)}catch(e){console.error(e),void 0!==t&&t(e)}return this},e.prototype.recorderBuffer=function(e){this.worker.postMessage({command:\"record\",val:e})},e.prototype.initRecorderBuffer=function(e){var t=this;this.worker=this.inlineWorker((function(){var e,t,r,i,o,n,s=[];function a(e,t,r){for(var i=0;i<r.length;i++,t+=2){var o=Math.max(-1,Math.min(1,r[i]));e.setInt16(t,o<0?32768*o:32767*o,!0)}}function c(e,t,r){for(var i=0;i<r.length;i++,t++){var o=Math.max(-1,Math.min(1,r[i])),n=o<0?128*o:127*o;e.setInt8(t,n+=128)}}function u(e,t,r){for(var i=0;i<r.length;i++)e.setUint8(t+i,r.charCodeAt(i))}function d(e,t){for(var r=new Float32Array(t.length/e),i=0,o=0;i<r.length;)r[i]=t[o],o+=e,i++;return r}function l(e,t,r){for(var i=new Float32Array(t*e.length),o=0,n=0;n<r[0].length;n++)i.set(r[0][n],o),o+=r[0][n].length;return i}function h(e,t){for(var r=new Float32Array(e.length+t.length),i=0;i<e.length+t.length;i+=2)r[i]=e[i/2>>0],r[i+1]=t[i/2>>0];return r}function p(t){var r,i;if(1==e)r=l(s[0],o,s),1!=t&&(i=d(t,r));else if(2==e){var n=l(s[0],o,s),a=l(s[1],o,s);1!=t?i=h(d(t,n),d(t,a)):r=h(n,a)}return 1!=t?i:r}function g(e){var r=function(e,r){var i;8==r?i=e.length:16==r&&(i=e.length,i*=2);var o=new ArrayBuffer(i),n=new DataView(o);return 8==r?c(n,0,e):16==t&&a(n,0,e),n}(p(e),t);self.postMessage({command:\"exportPcmLive\",val:r})}function f(i){var o=function(i,o){var n;8==o?n=i.length:16==t&&(n=i.length,n*=2);var s=new ArrayBuffer(n+44),d=new DataView(s),l=r,h=t,p=e;return u(d,0,\"RIFF\"),d.setUint32(4,36+n,!0),u(d,8,\"WAVE\"),u(d,12,\"fmt \"),d.setUint32(16,16,!0),d.setUint16(20,1,!0),d.setUint16(22,p,!0),d.setUint32(24,l,!0),d.setUint32(28,l*p*(h/8),!0),d.setUint16(32,p*(h/8),!0),d.setUint16(34,h,!0),u(d,36,\"data\"),d.setUint32(40,n,!0),8==t?c(d,44,i):16==t&&a(d,44,i),d}(p(i),t);self.postMessage({command:\"exportWav\",val:o})}this.onmessage=function(a){switch(a.data.command){case\"init\":e=(c=a.data.val).sampleChannel,t=c.sampleBit,r=c.sampleRate,i=c.oldSampleRate,o=c.bufferSize,n=c.type;break;case\"record\":!function(t){for(var o=0;o<e;o++)s[o]||(s[o]=[]),s[o].push(t[o]);var a=Math.round(i/r);\"pcm\"===n?g(a):\"wav\"===n&&f(a),s=[]}(a.data.val)}var c}})),this.worker.postMessage({command:\"init\",val:{sampleChannel:this.channels,sampleBit:this.sampleBit,sampleRate:this.sampleRate,oldSampleRate:this.context.sampleRate,bufferSize:this.bufferSize,type:e}}),this.worker.onmessage=function(e){switch(e.data.command){case\"exportPcmLive\":t.onReceiveBuffer(e.data.val);break;case\"exportWav\":t.onReceiveWav(e.data.val)}}},e.prototype.onReceiveBuffer=function(e){},e.prototype.onReceiveWav=function(e){},e.prototype.writeString=function(e,t,r){for(var i=0;i<r.length;i++)e.setUint8(t+i,r.charCodeAt(i))},e.prototype.writeBuffer=function(e,t,r){for(var i=0;i<r.byteLength;i++)e.setUint8(t+i,r[i])},e.prototype.concatenation=function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].buffer.byteLength;var i=new Uint8Array(t),o=0;for(r=0;r<e.length;++r)i.set(new Uint8Array(e[r].buffer),o),o+=e[r].buffer.byteLength;return i},e.prototype.encodeWave=function(e){var t=this.concatenation(e),r=t.byteLength,i=new ArrayBuffer(r+44),o=new DataView(i),n=this.sampleRate,s=this.sampleBit,a=this.channels;return this.writeString(o,0,\"RIFF\"),o.setUint32(4,36+r,!0),this.writeString(o,8,\"WAVE\"),this.writeString(o,12,\"fmt \"),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,a,!0),o.setUint32(24,n,!0),o.setUint32(28,n*a*(s/8),!0),o.setUint16(32,a*(s/8),!0),o.setUint16(34,s,!0),this.writeString(o,36,\"data\"),o.setUint32(40,r,!0),this.writeBuffer(o,44,t),o},e.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()},e.prototype.inlineWorker=function(e){if(Worker&&e){var t=e.toString().trim().match(/^function\\s*\\w*\\s*\\([\\w\\s,]*\\)\\s*{([\\w\\W]*?)}$/)[1],r=URL.createObjectURL(new window.Blob([t],{type:\"text/javascript\"}));return new Worker(r)}return null},e}();t.MediaUtil=r},5423:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZEGO_WEBRTC_ACTION=void 0,function(e){e.PRELOAD_EFFECT=\"zc.pe.0\",e.PLAY_EFFECT=\"zc.pe.1\",e.PAUSE_EFFECT=\"zc.pe.2\",e.RESUME_EFFECT=\"zc.re\",e.STOP_EFFECT=\"zc.se\",e.UNLOAD_EFFECT=\"zc.ue\",e.AUDIO_EFFECT_PROCESS=\"zc.aep\",e.SET_EFFECT_VOLUME=\"zc.sev\",e.START_MIXING_AUDIO=\"zc.sma.0\",e.STOP_MIXING_AUDIO=\"zc.sma.1\",e.MIXING_BUFFER=\"zc.mb\",e.STOP_MIXING_BUFFER=\"zc.smb\",e.PUBLISHER_PLAY_EFFECT=\"zc.p.0.pe.0\",e.PUBLISHER_PAUSE_EFFECT=\"zc.p.0.pe.1\",e.PUBLISHER_RESUME_EFFECT=\"zc.p.0.re\",e.PUBLISHER_STOP_EFFECT=\"zc.p.0.se\",e.PUBLISHER_START_MIXING_AUDIO=\"zc.p.0.sma.0\",e.PUBLISHER_STOP_MIXING_AUDIO=\"zc.p.0.sma.1\",e.SET_MIXING_AUDIO_VOLUME=\"zc.smav\",e.PUBLISHER_MIXING_BUFFER=\"zc.p.0.mb\",e.PUBLISHER_SET_MIXING_AUDIO_VOLUME=\"zc.p.0.smav\"}(t.ZEGO_WEBRTC_ACTION||(t.ZEGO_WEBRTC_ACTION={}))},8606:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AudioBufferProcessor=void 0;var i=r(8892),o=function(){function e(e,t,r,i){this.logger=e,this.ac=t,this.localStream=r,this.rtcViewer=i,this.audioBufferList=[],this.replace=!1,this.effectEndedCallBack=null,this.effectEndedListener=null,this.startTimes=0,this.startOffset=0,this.pauseTimes=0,this.resumeOffset=0,this.paused=!1,this.isMixAudio=!1,this.isMixingBuffer=!1,this.loop=!1}return e.prototype.playEffect=function(e,t,r,i,o){var n=this;!0!==this.isMixAudio?this.audioBuffer?(this.startOffset=e||0,this.loop=t||!1,this.replace=r||!1,this.effectEndedCallBack=o,this.mixEffect(this.audioBuffer,(function(){n.buffSource.loop=!!t,e?n.buffSource.start(0,e/1e3):n.buffSource.start(0),n.startTimes=Date.now(),n.effectEndedListener=n.effectEndedHandler.bind(n),n.buffSource.addEventListener(\"ended\",n.effectEndedListener),i&&i()}))):this.logger.error(\"amu.pe.1 no audio buffer found\"):this.logger.warn(\"amu.pe.1 audio is mixing\")},e.prototype.stopMixingBuffer=function(){return this.isMixingBuffer=!1,this.stopMixingAudio()},e.prototype.playRealTimeEffect=function(e){var t=this;this.mixEffect(e,(function(){t.buffSource&&t.buffSource.start(0),t.buffSource&&t.buffSource.addEventListener(\"ended\",(function(){t.audioBufferList.shift(),t.audioBufferList.length>0&&t.isMixAudio&&t.playRealTimeEffect(t.audioBufferList[0])}))}))},e.prototype.pauseEffect=function(){this.audioBufferList.length>0?this.logger.error(\"amu.pe.0 real time buffer can not be paused\"):(this.stopMixingAudio(!0),this.resumeOffset=(this.pauseTimes-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration),this.paused=!0)},e.prototype.resumeEffect=function(){return this.audioBufferList.length>0?(this.logger.error(\"amu.pe.0 real time buffer can not be resume\"),!1):(this.playEffect(this.resumeOffset,this.loop,this.replace,void 0,this.effectEndedCallBack),this.startOffset=this.resumeOffset,this.paused=!1,!0)},e.prototype.mixEffect=function(e,t){this.localStream?(this.ac.resume(),this.gainNode=this.ac.createGain(),this.buffSource=this.ac.createBufferSource(),this.buffSource.buffer=e,this.buffSource.connect(this.gainNode),this.gainNode.connect(this.ac.destination),this.replaceTrack()&&t()):this.logger.error(\"amu.me.0 localStream can not be found\")},e.prototype.replaceTrack=function(){if(!this.destination||!this.streamSource)return!1;!this.replace&&this.streamSource.connect(this.destination),this.gainNode.connect(this.destination);var e=this.destination.stream.getAudioTracks()[0];return this.micTrack=this.localStream.getAudioTracks()[0],this.localStream.removeTrack(this.micTrack),this.localStream.addTrack(e),this.rtcViewer&&this.rtcViewer.setAudio(e),this.isMixAudio=!0,!0},e.prototype.effectEndedHandler=function(){this.stopMixingAudio(),this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null},e.prototype.stopMixingAudio=function(e){return void 0===e&&(e=!1),this.paused?(this.logger.info(\"amu.sma.1 audioEffect is paused\"),!e&&this.effectEndedListener&&(this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null),!0):this.isMixAudio?this.localStream?(this.buffSource&&(this.buffSource.removeEventListener(\"ended\",this.effectEndedListener),this.buffSource.stop(),this.pauseTimes=Date.now(),this.buffSource.disconnect(this.gainNode),this.buffSource=null),this.gainNode.disconnect(this.destination),this.gainNode.disconnect(this.ac.destination),this.isMixAudio=!1,this.audioBufferList=[],!e&&this.effectEndedListener&&(this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null),!0):(this.logger.error(\"amu.sma.1 localStream can not be found\"),!1):(this.logger.warn(\"amu.sma.1 no mixing audio found\"),!0)},e.prototype.getProcess=function(){var e=Date.now();return this.paused&&(e=this.pauseTimes),(e-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration)},e.prototype.seekTo=function(e){void 0===e&&(e=0),this.startOffset=e,this.paused?this.resumeOffset=e:(this.stopMixingAudio(!0),this.playEffect(e,this.loop,this.replace,void 0,this.effectEndedCallBack))},e.prototype.mixingBuffer=function(e,t){var r=this;!0!==this.isMixAudio||0!=this.audioBufferList.length||0!=this.isMixingBuffer?(this.ac.resume(),this.ac.decodeAudioData(e,(function(e){r.audioBufferList.push(e),1==r.audioBufferList.length&&r.playRealTimeEffect(r.audioBufferList[0]),r.isMixingBuffer=!0,t&&t()}),(function(e){r.logger.error(\"amu.mb.0 \"+e),t&&t({code:i.errorCodeList.PUBLISHER_DECODE_AUDIO_FAIL.code,message:i.errorCodeList.PUBLISHER_DECODE_AUDIO_FAIL.message+\" \"+e})}))):this.logger.error(\"amu.mb.0 audio is mixing\")},e.prototype.setMixingAudioVolume=function(e){return this.gainNode?(this.gainNode.gain.value=e,!0):(this.logger.error(\"amu.sma.2 no mixing audio found\"),!1)},e}();t.AudioBufferProcessor=o},6624:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AudioMix=void 0;var r=function(){function e(e,t,r,i,o,n){this.logger=e,this.ac=t,this.localStream=r,this.mediaEleSources=i,this.browser=o,this.rtcViewer=n,this.replace=!1,this.isMixAudio=!1,this.audioCurrentTimer=null,this.audioResumedTimer=null}return e.prototype.startMixingAudio=function(e,t){if(this.replace=t||!1,this.isMixAudio)return this.logger.error(\"amu.sma.0 audio is mixing\"),!1;if(!this.localStream)return this.logger.error(\"amu.sma.0 localStream can not be found\"),!1;if(e.captureStream=e.captureStream||e.mozCaptureStream||e.webkitCaptureStream,this.ac.resume(),this.gainNode=this.ac.createGain(),\"safari\"===this.browser){var r=this.mediaEleSources.find((function(t){return t.audio===e}));if(r)this.audioNode=r.node;else{var i=this.ac.createMediaElementSource(e);this.audioNode=i,this.mediaEleSources.push({audio:e,node:i})}this.getBrowserInfo();this.audioResumedTimer=setInterval((function(){e.currentTime=e.currentTime+.45}),6e3)}else this.audioNode=this.ac.createMediaStreamSource(e.captureStream());return this.audioNode.connect(this.gainNode),this.replaceTrack()},e.prototype.getBrowserInfo=function(){var e,t={},r=navigator.userAgent.toLowerCase();e=(r.match(/x [\\d._]+/gi)+\"\").replace(/[^0-9|_.]/gi,\"\").replace(/_/gi,\".\"),t.sysVer=e;var i=r.match(/(msie|firefox|chrome|opera|version).*?([\\d.]+)/);return i&&(t.browser=i[1].replace(/version/,\"'safari\"),t.ver=i[2]),t},e.prototype.replaceTrack=function(){if(!this.destination||!this.streamSource)return!1;!this.replace&&this.streamSource.connect(this.destination),this.gainNode.connect(this.destination);var e=this.destination.stream.getAudioTracks()[0];return this.micTrack=this.localStream.getAudioTracks()[0],this.localStream.removeTrack(this.micTrack),this.localStream.addTrack(e),this.rtcViewer&&this.rtcViewer.setAudio(e),this.isMixAudio=!0,!0},e.prototype.stopMixingAudio=function(){return this.isMixAudio?this.localStream?(this.audioNode&&(this.audioNode.disconnect(this.gainNode),this.audioNode=null,this.audioCurrentTimer&&(clearInterval(this.audioCurrentTimer),this.audioCurrentTimer=null),this.audioResumedTimer&&(clearInterval(this.audioResumedTimer),this.audioResumedTimer=null)),this.gainNode.disconnect(this.destination),this.isMixAudio=!1,!0):(this.logger.error(\"amu.sma.1 localStream can not be found\"),!1):(this.logger.warn(\"amu.sma.1 no mixing audio found\"),!0)},e.prototype.setMixingAudioVolume=function(e){return this.gainNode?(this.gainNode.gain.value=e,!0):(this.logger.error(\"amu.sma.2 no mixing audio found\"),!1)},e}();t.AudioMix=r},7104:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.AudioMixModule=void 0;var n=r(5423),s=r(4321),a=r(1830),c=function(){function e(e,t,r,i,o){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=i,this.ac=o,this.buffer=null,this.blank=null,\"safari\"==this.stateCenter.browser&&null==this.blank&&null==this.buffer&&(this.ac.resume(),this.buffer=this.ac.createBuffer(1,1,this.ac.sampleRate),this.blank=this.ac.createBufferSource(),this.blank.buffer=this.buffer,this.blank.connect(this.ac.destination),this.blank.start())}return e.prototype.preloadEffect=function(e,t,r){if(this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT,{effectID:e},{effectID:!0}))if(t&&\"string\"==typeof t){if(this.stateCenter.audioEffectBuffer[e])return this.logger.warn(n.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+\" audio buffer already exists\"),void(r&&r());this.logger.info(n.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+\" start preload effect\"),this._preloadEffect(this.ac,e,t,r)}else this.logger.error(n.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+\" params error\")},e.prototype.checkPreviewer=function(e,t,r){void 0===t&&(t={});var i=!!(null==r?void 0:r.effectID),o=!!(null==r?void 0:r.previewer),n=t.effectID,s=t.streamID;if((!!(null==r?void 0:r.streamID)||s)&&\"string\"!=typeof s&&!(s instanceof MediaStream))return this.logger.error(e+\" stream type error\"),!1;if(i&&!n)return this.logger.error(e+\" effectID required\"),!1;if(n&&\"string\"!=typeof n)return this.logger.error(e+\" effectID type error\"),!1;if(o){var a=this.streamCenter.getPreviewer(s);return a||(this.logger.error(\"string\"==typeof s?e+\" \"+s+\" stream is not publishing\":e+\" stream doesn't exist\"),!1)}return!0},e.prototype.getEffectDuration=function(e){if(!this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS,{effectID:e},{effectID:!0}))return 0;var t=this.stateCenter.audioEffectBuffer[e];return t?t.duration?Math.floor(1e3*t.duration):0:(this.logger.error(n.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS+\" effect not found\"),0)},e.prototype.getEffectProgress=function(e,t){var r=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS,{streamID:e,effectID:t},{effectID:!0,streamID:!0,previewer:!0});return\"boolean\"==typeof r?0:this.getAudioManager(r).getEffectProgress(t)},e.prototype.seekAudioEffect=function(e,t,r){if(r<0)return this.logger.error(n.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS+\" param time error \"),!1;var i=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS,{streamID:e,effectID:t},{effectID:!0,streamID:!0,previewer:!0});return\"boolean\"!=typeof i&&this.getAudioManager(i).seekAudioEffect(t,r)},e.prototype.playEffect=function(e,t,r){return i(this,void 0,void 0,(function(){var i,s,a,c=this;return o(this,(function(o){switch(o.label){case 0:return i=e.path,this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.PLAY_EFFECT,{streamID:e.stream||e.streamID,effectID:s=e.effectID},{streamID:!0,effectID:!0})?(a=this.stateCenter.audioEffectBuffer[s],i?a?(this.logger.warn(n.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+\" audio effect already exists\"),[3,3]):[3,1]:[3,4]):[2];case 1:return[4,new Promise((function(e,t){c.preloadEffect(s,i,(function(r){r?(c.logger.error(n.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+\" preload audio effect failed\"),t(r)):e(void 0)}))}))];case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:if(!a)return this.logger.error(n.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+\" audio effect doesn't exists\"),[2];o.label=5;case 5:return this._playEffect(e,t,r),[2]}}))}))},e.prototype.pauseEffect=function(e,t){return this._pauseEffect(e,t)},e.prototype.resumeEffect=function(e,t){return this._resumeEffect(e,t)},e.prototype.stopEffect=function(e,t){return this._stopEffect(e,t)},e.prototype.unloadEffect=function(e){return!!this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.UNLOAD_EFFECT,{effectID:e},{effectID:!0})&&(delete this.stateCenter.audioEffectBuffer[e],!0)},e.prototype.setEffectVolume=function(e,t,r){if(\"number\"!=typeof t||t<0||t>200)return this.logger.error(n.ZEGO_WEBRTC_ACTION.SET_EFFECT_VOLUME+\" volume must be a number between 0 and 200\"),!1;var i=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.SET_EFFECT_VOLUME,{streamID:e,effectID:r},{streamID:!0,previewer:!0});return\"boolean\"!=typeof i&&this.getAudioManager(i).setEffectVolume(t/100,r)},e.prototype.startMixingAudio=function(e,t){return this.logger.info(n.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+\" call \"+e),e?t?(this.logger.info(n.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+\" end \"+e),Array.isArray(t)&&0!==t.length&&t.every((function(e){return e instanceof HTMLMediaElement}))?this._startMixingAudio(e,t):(this.logger.error(n.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+\" audio list param type error\"),!1)):(this.logger.error(n.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+\" no audio\"),!1):(this.logger.error(n.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+\" stream not found\"),!1)},e.prototype.stopMixingAudio=function(e,t){return e?Array.isArray(t)&&0!==t.length||void 0===t?this._stopMixingAudio(e,t):(this.logger.error(n.ZEGO_WEBRTC_ACTION.STOP_MIXING_AUDIO+\" audio param type error\"),!1):(this.logger.error(n.ZEGO_WEBRTC_ACTION.STOP_MIXING_AUDIO+\" stream not found\"),!1)},e.prototype.mixingBuffer=function(e,t,r,i){this.logger.info(n.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+\" call streamID: \"+JSON.stringify(e)+\" sourceID:\"+t),e?t&&\"string\"==typeof t?(this._mixingBuffer(e,t,r,i),this.logger.info(n.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+\" end\")):this.logger.error(n.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+\" param source id format error\"):this.logger.error(n.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+\" param streamid format error\")},e.prototype.stopMixingBuffer=function(e,t){return this._stopMixingBuffer(e,t)},e.prototype.setMixingAudioVolume=function(e,t,r){return this.logger.info(n.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+\" call\"),e?\"number\"!=typeof t||t<0||t>200?(this.logger.error(n.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+\" volume must be a number between 0 and 200\"),!1):r&&r instanceof HTMLMediaElement?this._setMixingAudioVolume(e,t,r):(this.logger.error(n.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+\" no audio\"),!1):(this.logger.error(n.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+\" stream not found\"),!1)},e.prototype.getSoundLevel=function(e,t,r){this.logger.info(\"zc.gsl call\");var i=this.stateCenter.getReportSeq();this.dataReport.newReport(i,s.ZegoRTCLogEvent.kZegoTaskGetSoundLevel.event);try{this.ac.resume();var o=this.ac.createMediaStreamSource(e),n=this.ac.createScriptProcessor(4096,1,1);this.stateCenter.audioStreamList[e.id]={mic:o,script:n},o.connect(n),n.connect(this.ac.destination),n.onaudioprocess=function(e){for(var r=e.inputBuffer.getChannelData(0),i=0,o=0;o<r.length;o++)i<r[o]&&(i=r[o]);t(i)},this.dataReport.uploadReport(i)}catch(e){r(e),this.dataReport.addMsgInfo(i,s.ZegoRTCLogEvent.kZegoTaskGetSoundLevel.error.kGetSoundLevelError),this.dataReport.uploadReport(i)}this.logger.info(\"zc.gsl call success\")},e.prototype.stopSoundLevel=function(e){this.logger.info(\"zc.ssl call\");var t=this.stateCenter.getReportSeq();this.dataReport.newReport(t,s.ZegoRTCLogEvent.kZegoTaskStopSoundLevel);var r=this.stateCenter.audioStreamList[e.id];r.mic.disconnect(),r.script.disconnect(),delete this.stateCenter.audioStreamList[e.id],this.dataReport.uploadReport(t)},e.prototype._preloadEffect=function(e,t,r,i){var o=this,n=new XMLHttpRequest;n.open(\"GET\",r,!0),n.setRequestHeader(\"Range\",\"none\"),n.responseType=\"arraybuffer\",n.onload=function(){if(200==n.status||304==n.status){e.decodeAudioData(n.response,(function(e){o.logger.info(\"zc.pe.0 effect '\".concat(t,\"' preload success\")),o.stateCenter.audioEffectBuffer[t]=e,i&&i()}),(function(e){o.logger.error(\"zc.pe.0 effect '\".concat(t,\"' preload fail. \")+e),i&&i(e)}))}else{var r=n.statusText;o.logger.error(\"zc.pe.0 effect '\".concat(t,\"' preload fail.\")+r),i&&i(r)}},n.send()},e.prototype._playEffect=function(e,t,r){var i=this.stateCenter.audioEffectBuffer[e.effectID];if(i){var o=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.PLAY_EFFECT,{streamID:e.stream||e.streamID,effectID:e.effectID},{streamID:!0,effectID:!0,previewer:!0});\"boolean\"!=typeof o&&this.getAudioManager(o).playEffect(e,i,t,r)}else this.logger.error(n.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+\" no audio buffer found\")},e.prototype._pauseEffect=function(e,t){var r=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.PAUSE_EFFECT,{streamID:e,effectID:t},{streamID:!0,previewer:!0});return\"boolean\"!=typeof r&&this.getAudioManager(r).pauseEffect(t)},e.prototype._resumeEffect=function(e,t){var r=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.RESUME_EFFECT,{streamID:e,effectID:t},{streamID:!0,previewer:!0});return\"boolean\"!=typeof r&&this.getAudioManager(r).resumeEffect(t)},e.prototype._stopEffect=function(e,t){var r=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.STOP_EFFECT,{streamID:e,effectID:t},{streamID:!0,previewer:!0});return\"boolean\"!=typeof r&&this.getAudioManager(r).stopEffect(t)},e.prototype._setMixingAudioVolume=function(e,t,r){var i=this.streamCenter.getPreviewer(e);return i?this.getAudioManager(i).setMixingAudioVolume(t/100,r):(this.logger.error(\"zc.sma.2 publisher doesn't exist\"),!1)},e.prototype._startMixingAudio=function(e,t){var r=this.streamCenter.getPreviewer(e);return r?this.getAudioManager(r).startMixingAudio(t):(this.logger.error(\"string\"==typeof e?\"zc.sma.0 \"+e+\" stream is not publishing\":\"zc.sma.0 stream doesn't exist\"),!1)},e.prototype._stopMixingAudio=function(e,t){var r=this.streamCenter.getPreviewer(e);return r?this.getAudioManager(r).stopMixingAudio(t):(this.logger.error(\"zc.sma.0 stream doesn't exist\"),!1)},e.prototype._mixingBuffer=function(e,t,r,i){var o=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.STOP_MIXING_BUFFER,{streamID:e,effectID:t},{effectID:!0,streamID:!0,previewer:!0});\"boolean\"!=typeof o&&(r instanceof ArrayBuffer?this.getAudioManager(o).mixingBuffer(t,r,i):this.logger.error(\"zc.mb.0 array buffer not found\"))},e.prototype._stopMixingBuffer=function(e,t){var r=this.checkPreviewer(n.ZEGO_WEBRTC_ACTION.STOP_MIXING_BUFFER,{streamID:e,effectID:t},{effectID:!0,streamID:!0,previewer:!0});return\"boolean\"!=typeof r&&this.getAudioManager(r).stopMixingBuffer(t)},e.prototype.getAudioManager=function(e){var t=e.audioMixManager;return t||(t=new a.PreviewAudioManager(e),e.audioMixManager=t),t},e}();t.AudioMixModule=c},8892:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={GET_SOUND_LEVEL_FAIL:{code:1000019,message:\"get sound level error\"},PUBLISHER_DECODE_AUDIO_FAIL:{code:1103057,message:\"decode audio data fail\"}}},792:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(7104);t.default={type:\"AudioMix\",install:function(e){Object.defineProperty(e.prototype,\"initAudioMix\",{value:function(){this.audioMixModule=new i.AudioMixModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.ac)}})}}},4321:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoRTCLogEvent=void 0;var i=r(8892);t.ZegoRTCLogEvent={kZegoTaskGetSoundLevel:{event:\"/sdk/get_sound_level\",error:{kGetSoundLevelError:i.errorCodeList.GET_SOUND_LEVEL_FAIL}},kZegoTaskStopSoundLevel:\"/sdk/stop_sound_level\"}},1830:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PreviewAudioManager=void 0;var i=r(5423),o=r(8606),n=r(6624),s=function(){function e(e){this.previewer=e,this.audioSrcNode=void 0,this.audioDestNode=void 0,this.audioMixList=[],this.arrayBufferMap={},this.effectList=[],this.mediaEleSources=e.streamCenter.mediaEleSources}return Object.defineProperty(e.prototype,\"logger\",{get:function(){return this.previewer.logger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"localStream\",{get:function(){return this.previewer.localStream},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"streamCenter\",{get:function(){return this.previewer.streamCenter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"ac\",{get:function(){return this.previewer.ac},enumerable:!1,configurable:!0}),e.prototype.startMixingAudio=function(e){var t=this;return this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+\" call\"),this.localStream?(e.forEach((function(e){var r;if(t.audioMixList.find((function(t){return t.media==e})))t.logger.warn(i.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+\" mix audio already exist\");else if(t.localStream){t.streamCenter.soundLevelDelegate&&t.previewer.stopSoundLevel();var o=new n.AudioMix(t.logger,t.ac,t.localStream,t.mediaEleSources,t.previewer.stateCenter.browser,t.previewer.rtcViewer);t.audioSrcNode||(t.audioSrcNode=t.ac.createMediaStreamSource(t.localStream));var s=!1;t.audioDestNode||(t.audioDestNode=t.ac.createMediaStreamDestination(),s=!0),o.destination=t.audioDestNode,o.streamSource=t.audioSrcNode,t.audioMixList.push({audioMix:o,media:e}),o.startMixingAudio(e),s&&(null===(r=t.audioDestNode)||void 0===r?void 0:r.stream)&&t.previewer.onAudioTrackChange(t.audioDestNode.stream.getAudioTracks()[0]),t.streamCenter.soundLevelDelegate&&t.previewer.startSoundLevel()}})),!0):(this.logger.error(i.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+\" localStream not found\"),!1)},e.prototype.stopMixingAudio=function(e){var t=this;return this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_MIXING_AUDIO+\" call\"),e?e.forEach((function(e){for(var r=0;r<t.audioMixList.length;r++)if(t.audioMixList[r].media==e){t.audioMixList[r].audioMix.stopMixingAudio()&&t.audioMixList.splice(r--,1);break}})):(this.audioMixList.forEach((function(e){return e.audioMix.stopMixingAudio()})),this.audioMixList=[]),!0},e.prototype.setMixingAudioVolume=function(e,t){this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+\" call\");var r=this.audioMixList.find((function(e){return e.media===t}));return r?(r.audioMix.setMixingAudioVolume(e),this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+\" call success\"),!0):(this.logger.error(i.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+\" audio is not mixing\"),!1)},e.prototype.playEffect=function(e,t,r,n){var s=this;if(this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+\" call\"),this.localStream)if(this.effectList.find((function(r){return r.effectID==e.effectID&&r.audioBuffer==t})))this.logger.warn(i.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+\" effect already exist \");else{this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var a=new o.AudioBufferProcessor(this.logger,this.ac,this.localStream,this.previewer.rtcViewer);this.audioSrcNode||(this.audioSrcNode=this.ac.createMediaStreamSource(this.localStream));var c=!1;this.audioDestNode||(this.audioDestNode=this.ac.createMediaStreamDestination(),c=!0),a.destination=this.audioDestNode,a.streamSource=this.audioSrcNode,a.audioBuffer=t;var u={processor:a,effectID:e.effectID,audioBuffer:t};this.effectList.push(u);a.playEffect(e.playTime,e.loop,!1,(function(){var e;c&&(null===(e=s.audioDestNode)||void 0===e?void 0:e.stream)&&s.previewer.onAudioTrackChange(s.audioDestNode.stream.getAudioTracks()[0]),r&&r()}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.effectList=s.effectList.filter((function(e){return e!==u})),n&&n.apply(void 0,e)})),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+\" play effect \"+e.effectID+\" success\")}else this.logger.warn(i.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+\" stream not found\")},e.prototype.pauseEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t)this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),t.processor.pauseEffect(),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_PAUSE_EFFECT+\" pause \"+e+\" success\");else{if(void 0!==e)return this.logger.error(i.ZEGO_WEBRTC_ACTION.PUBLISHER_PAUSE_EFFECT+\" effect not found\"),!1;this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach((function(e){return e.processor.pauseEffect()})),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel()}return!0},e.prototype.resumeEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t){this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var r=t.processor.resumeEffect();return this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_RESUME_EFFECT+\" resume \"+e+\" success\"),r}return void 0===e?(this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach((function(e){return e.processor.resumeEffect()})),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0):(this.logger.error(i.ZEGO_WEBRTC_ACTION.PUBLISHER_RESUME_EFFECT+\" no effect found\"),!1)},e.prototype.stopEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t)this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),t.processor.stopMixingAudio(),this.effectList=this.effectList.filter((function(e){return e!==t})),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_EFFECT+\" pause \"+e+\" success\");else{if(void 0!==e)return this.logger.error(i.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_EFFECT+\" effect not found\"),!1;this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach((function(e){return e.processor.stopMixingAudio()})),this.effectList=[],this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel()}return!0},e.prototype.setEffectVolume=function(e,t){var r=this.effectList.find((function(e){return e.effectID==t}));if(r)r.processor.setMixingAudioVolume(e),this.logger.info(\"zp.sev.0 set volume \"+t+\" success\");else{if(void 0!==t)return this.logger.error(\"zp.sev.0 effect not found\"),!1;this.effectList.forEach((function(t){return t.processor.setMixingAudioVolume(e)}))}return!0},e.prototype.mixingBuffer=function(e,t,r){var n=this;if(this.logger.info(i.ZEGO_WEBRTC_ACTION.PUBLISHER_MIXING_BUFFER+\" call\"),this.localStream)if(this.arrayBufferMap[e])this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap[e].mixingBuffer(t,(function(){n.streamCenter.soundLevelDelegate&&n.previewer.startSoundLevel(),r&&r()}));else{this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var s=new o.AudioBufferProcessor(this.logger,this.ac,this.localStream,this.previewer.rtcViewer);this.audioSrcNode||(this.audioSrcNode=this.ac.createMediaStreamSource(this.localStream));var a=!1;this.audioDestNode||(this.audioDestNode=this.ac.createMediaStreamDestination(),a=!0),s.destination=this.audioDestNode,s.streamSource=this.audioSrcNode,this.arrayBufferMap[e]=s,s.mixingBuffer(t,(function(){var e;n.streamCenter.soundLevelDelegate&&n.previewer.startSoundLevel(),a&&(null===(e=n.audioDestNode)||void 0===e?void 0:e.stream)&&n.previewer.onAudioTrackChange(n.audioDestNode.stream.getAudioTracks()[0]),r&&r()}))}},e.prototype.stopMixingBuffer=function(e){if(e&&this.arrayBufferMap[e])return this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap[e].stopMixingBuffer(),delete this.arrayBufferMap[e],this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0;if(void 0===e){for(var t in this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap)this.arrayBufferMap[t].stopMixingBuffer();return this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0}return this.logger.warn(i.ZEGO_WEBRTC_ACTION.PUBLISHER_MIXING_BUFFER+\" arrayBuffer no found\"),!1},e.prototype.getEffectProgress=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));return t?t.processor.getProcess():(this.logger.error(i.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS+\"  effect not found\"),0)},e.prototype.seekAudioEffect=function(e,t){var r=this.effectList.find((function(t){return t.effectID==e}));return r?(this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),r.processor.seekTo(t),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0):(this.logger.error(i.ZEGO_WEBRTC_ACTION.AUDIO_EFFECT_PROCESS+\" effect not found\"),!1)},e.prototype.stopAudioManager=function(){this.stopMixingAudio(),this.stopMixingBuffer(),this.stopEffect()},e}();t.PreviewAudioManager=s},5863:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DataChannel=void 0;var i=r(8318);t.DataChannel={type:\"DataChannel\",install:function(e){Object.defineProperty(e.prototype,\"createRealTimeSequentialDataManager\",{value:function(e){this.enableDataChannel(!0);var t=this.stateCenter.getRoomByRoomID(e);return t?t.dataChannelManager?null:(t.dataChannelManager=new i.ZegoRealTimeSequentialDataManager(this,e),t.dataChannelManager):(this.logger.error(\"zc.crsdm room no exist\"),null)},writable:!1}),Object.defineProperty(e.prototype,\"destroyRealTimeSequentialDataManager\",{value:function(e){var t=this.stateCenter.roomList.find((function(t){return t.dataChannelManager==e}));t&&(e.dataChannelManager.reset(),t.dataChannelManager=null)},writable:!1})}}},7166:function(e,t){\"use strict\";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.DataChannelListener=void 0;var o=function(){function e(e,t){this.zegoWebRTC=e,this.roomID=t,this.pubDataChannelList=[],this.subDataChannelList=[],this.listenerList={receiveRealTimeSequentialData:[]},this.logger=e.logger}return e.prototype.startBroadcasting=function(e,t){return r(this,void 0,void 0,(function(){var t,r,o,n;return i(this,(function(i){switch(i.label){case 0:return this.logger.info(\"dc.sb.0 call\"),this.pubDataChannelList.includes(e)?(this.logger.error(\"dc.sb.0 datachannel already exist\"),[2,!1]):(t=this.zegoWebRTC.streamCenter.publisherList[e])&&t.publisher.dataChannel?(this.pubDataChannelList.push(e),[2,!0]):t&&!t.publisher.dataChannel?(this.logger.error(\"dc.sb.0 publish datachannel no exist, try other stream ID\"),[2,!1]):this.broadcastStream?[3,2]:(r=document.createElement(\"canvas\"),o=this,[4,this.zegoWebRTC.createStream({custom:{source:r}})]);case 1:o.broadcastStream=i.sent(),i.label=2;case 2:return(n=this.zegoWebRTC.startPublishingStream(e,this.broadcastStream,{roomID:this.roomID},!0))&&this.pubDataChannelList.push(e),this.logger.info(\"dc.sb.0 end\"),[2,n]}}))}))},e.prototype.stopBroadcasting=function(e){this.logger.info(\"dc.sb.1 call\"),this.pubDataChannelList=this.pubDataChannelList.filter((function(t){return t!==e}));var t=this.zegoWebRTC.streamCenter.publisherList[e];return t?(t.room.roomID==this.roomID&&t.isDataChannel&&this.zegoWebRTC.stopPublishingStream(e),this.logger.info(\"dc.sb.1 end\"),!0):(this.logger.error(\"dc.sb.1 datachannel no found\"),!1)},e.prototype.sendRealTimeSequentialData=function(e,t){if(!t instanceof ArrayBuffer)return this.logger.error(\"dc.srsd data type wrong\"),!1;var r=this.zegoWebRTC.streamCenter.publisherList[e];return r&&this.pubDataChannelList.includes(e)?this.sendBCMessage(r.publisher,t):(this.logger.error(\"dc.srsd datachannel no found\"),!1)},e.prototype.sendBCMessage=function(e,t){var r;if(!e.dataChannelState)return!1;for(var i=new Uint8Array(t),o=0,n=t.byteLength,s=e.send_seq,a=0,c=(new Date).getTime(),u=0;n>0;){n>1151?u=1141:(u=n,a=1);var d=new Uint8Array(u+10);d[0]=1,d[1]=a,d[2]=e.send_seq>>8&255,d[3]=255&e.send_seq,d[4]=s>>8&255,d[5]=255&s,d[6]=c>>24&255,d[7]=c>>16&255,d[8]=c>>8&255,d[9]=255&c;for(var l=0;l<u;l++)d[l+10]=i[l+o];n-=u,o+=u,e.send_seq++,e.send_seq>=65536&&(e.send_seq=0),null===(r=e.dataChannel)||void 0===r||r.send(d)}return!0},e.prototype.startSubscribing=function(e,t){var o,n;return r(this,void 0,void 0,(function(){var t,r;return i(this,(function(i){switch(i.label){case 0:return this.logger.info(\"dc.ss.0 call\"),this.subDataChannelList.includes(e)?(this.logger.error(\"dc.ss.0 datachannel already exist\"),[2,!1]):(t=this.zegoWebRTC.streamCenter.playerList[e])?[3,2]:[4,this.zegoWebRTC.startPlayingStream(e,void 0,!0)];case 1:i.sent(),t=this.zegoWebRTC.streamCenter.playerList[e],i.label=2;case 2:return(r=t.player).dataChannel?(!(null===(o=r.onDataChannelList)||void 0===o?void 0:o.includes(this.onReceivedDataChannel.bind(this)))&&(null===(n=r.onDataChannelList)||void 0===n||n.push(this.onReceivedDataChannel.bind(this))),this.subDataChannelList.push(e),this.logger.info(\"dc.ss.0 end\"),[2,!0]):(this.logger.error(\"dc.ss.0 datachannel no exist, try other stream ID\"),[2,!1])}}))}))},e.prototype.stopSubscribing=function(e){this.logger.info(\"dc.ss.1 call\"),this.subDataChannelList=this.subDataChannelList.filter((function(t){return t!==e}));var t=this.zegoWebRTC.streamCenter.playerList[e];return t?(t.room.roomID==this.roomID&&t.isDataChannel&&this.zegoWebRTC.stopPlayingStream(e),this.logger.info(\"dc.ss.1 end\"),!0):(this.logger.error(\"dc.ss.1 datachannel no subscribe\"),!1)},e.prototype.on=function(e,t){this.bindListener(e,t)},e.prototype.off=function(e,t){this.deleteListener(e,t)},e.prototype.bindListener=function(e,t){return this.listenerList[e]?\"function\"!=typeof t?(this.logger.error(\"zc.o.0 listener callBack must be funciton\"),!1):(-1==this.listenerList[e].indexOf(t)&&this.listenerList[e].push(t),!0):(this.logger.error(\"dc.o.0 event \"+e+\" no found\"),!1)},e.prototype.deleteListener=function(e,t){if(!this.listenerList[e])return this.logger.error(\"dc.o.1 listener no found\"),!1;var r=this.listenerList[e];return t?r.splice(r.indexOf(t),1):this.listenerList[e]=[],!0},e.prototype.actionListener=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.listenerList[e]&&this.listenerList[e].forEach((function(i){try{setTimeout((function(){i.apply(void 0,r)}),0)}catch(r){t.logger.error(\"dc.al \"+e+\" \"+r)}}))},e.prototype.onReceivedDataChannel=function(e,t,r){this.actionListener(\"receiveRealTimeSequentialData\",e,t,r)},e.prototype.reset=function(){var e=this;for(var t in this.logger.info(\"dc.rs call\"),this.pubDataChannelList.forEach((function(t){var r=e.zegoWebRTC.streamCenter.publisherList[t];r&&r.room.roomID==e.roomID&&r.isDataChannel&&e.zegoWebRTC.stopPublishingStream(t)})),this.subDataChannelList.forEach((function(t){var r=e.zegoWebRTC.streamCenter.playerList[t];r&&r.room.roomID==e.roomID&&r.isDataChannel&&e.zegoWebRTC.stopPlayingStream(t)})),this.listenerList)this.listenerList[t]=[];this.broadcastStream&&this.zegoWebRTC.destroyStream(this.broadcastStream),this.broadcastStream=void 0,this.logger.info(\"dc.rs end\")},e}();t.DataChannelListener=o},8454:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.streamHandler=t.zegoWebRTC=void 0;var o=r(6548),n=r(6304),s=\"2.19.0\",a=1e4,c={},u=\"addMsgInfo\",d=1005027,l=\"mix stream input parameters are wrong\";function h(e,t){var r,i,n,s,c=\"\",u=o.errorCodeList;return t.errorCode<2e9&&t.errorCode>1e9?(n={1:\"MIXER_START_REQUEST_ERROR\",2:\"MIXER_START_REQUEST_ERROR\",3:\"MIXER_AUTHENTICATION_FAILED\",150:\"MIXER_INPUT_STREAM_NOT_EXISTS\",151:\"MIXER_START_REQUEST_ERROR\",152:\"MIXER_STOP_REQUEST_ERROR\",153:\"MIXER_INPUT_PARAMETERS_ERROR\",154:\"MIXER_EXCEED_MAX_OUTPUT_COUNT\",155:\"MIXER_INPUT_PARAMETERS_ERROR\",156:\"MIXER_VIDEO_CONFIG_INVALID\",157:\"MIXER_NO_SERVICES\",158:\"MIXER_EXCEED_MAX_INPUT_COUNT\",159:\"MIXER_START_REQUEST_ERROR\",160:\"MIXER_NOT_OWNER_STOPMIXER\",170:\"MIXER_WATERMARK_PARAMETERS_ERROR\",171:\"MIXER_WATERMARK_NULL\",175:\"MIXER_REPEAT_INPUT\",190:\"MIXER_START_REQUEST_ERROR\"},s=\"MIXER_INNER_ERROR\",(i=t.errorCode-a)>1e9&&n[i-1e9]&&(s=n[i-1e9]),r=u[c=s]):t.errorCode<1e6&&(r=e.decodeServerError(t.errorCode,t.extendedData),c=e.getLiveRoomError(t.errorCode,this.stateCenter.useNetAgent)),{reportErr:r,actualError:u[c]}}t.zegoWebRTC={startMixerTask:function(e){var t=this;return new Promise((function(r,i){var o=t.stateCenter.getReportSeq();t.dataReport.newReport(o,n.ZegoRTCLogEvent.kZegoTaskMixStart.event),t.stateCenter.logReportCallback(\"kZegoTaskMixStart\"+e.taskID,t.dataReport,o,t.stateCenter.reportList);var s={errorCode:d,extendedData:l};if(!!(null==e?void 0:e.inputList.find((function(e){return null==e.streamID&&(s.extendedData=s.extendedData+\". streamID should be of string type\",!0)}))))return t.dataReport.addMsgInfo(o,s),t.dataReport.uploadReport(o),t.stateCenter.unregisterCallback(\"kZegoTaskMixStart\"+e.taskID,t.stateCenter.reportList),void i(s);e.outputConfig&&e.outputConfig.outputFps&&(e.outputConfig.outputFPS=e.outputConfig.outputFps);var a=function(r){var n=h(t.stateCenter,r),s=n.reportErr,a=n.actualError;t.dataReport.addMsgInfo(o,s||r),t.dataReport.uploadReport(o),t.stateCenter.unregisterCallback(\"kZegoTaskMixStart\"+e.taskID,t.stateCenter.reportList),a&&(r.errorCode=null==a?void 0:a.code,r.extendedData=(null==a?void 0:a.message)||\"\"),i(r)},c=t.stateCenter.roomList[0];c?c.streamHandler.updateMixStream(e,(function(i){t.dataReport.uploadReport(o),t.stateCenter.unregisterCallback(\"kZegoTaskMixStart\"+e.taskID,t.stateCenter.reportList),r(i)}),a):a({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kNoLoginError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kNoLoginError.message})}))},setMixerTaskConfig:function(e){var t=this;return new Promise((function(r,i){var o=t.stateCenter.getReportSeq();t.dataReport.newReport(o,n.ZegoRTCLogEvent.kZegoTaskMixConfig.event),t.stateCenter.logReportCallback(\"kZegoTaskMixConfig\",t.dataReport,o,t.stateCenter.reportList);var s=t.stateCenter.roomList[0];s?s.streamHandler.setMixerTaskConfig(e).then((function(e){t.dataReport.uploadReport(o),t.stateCenter.unregisterCallback(\"kZegoTaskMixConfig\",t.stateCenter.reportList),r(e)})).catch((function(e){t.dataReport.addMsgInfo(o,e),t.dataReport.uploadReport(o),t.stateCenter.unregisterCallback(\"kZegoTaskMixConfig\",t.stateCenter.reportList),i(e)})):i({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kNoLoginError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kNoLoginError.message})}))},stopMixerTask:function(e){var t=this;return new Promise((function(r,i){var o=t.stateCenter.getReportSeq();if(t.dataReport.newReport(o,n.ZegoRTCLogEvent.kZegoTaskMixStop.event),!e||\"string\"!=typeof e||e.length>256||!t.stateCenter.checkIllegalCharacters(e))return t.logger.error(\"zb.rh.lg taskID must be string less 256\"),t.dataReport.addMsgInfo(o,{error:n.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.code,message:n.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.message+\" param taskID error\"}),t.dataReport.uploadReport(o),void i({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.message+\" param taskID error\"});var s=function(e){var r=h(t.stateCenter,e),n=r.reportErr,s=r.actualError;t.dataReport.addMsgInfo(o,n||e),t.dataReport.uploadReport(o),s&&(e.errorCode=null==s?void 0:s.code,e.extendedData=(null==s?void 0:s.message)||\"\"),i(e)},a=t.stateCenter.roomList[0];a?a.streamHandler.stopMixStream(e,(function(e){t.dataReport.uploadReport(o),r(e)}),s):s({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStop.error.kNoLoginError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStop.error.kNoLoginError.message})}))}},t.streamHandler={setMixerTaskConfig:function(e){var t=this;return new Promise((function(r,i){var o,s={},a={};if(e&&e.videoCodec){var d=e.videoCodec.toLowerCase();if(-1==[\"vp8\",\"h264\"].indexOf(d))return t.logger.error(\"zb.sh.ums param videoCode error\"),i({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kVideoConfigInvalidError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kVideoConfigInvalidError.message}),!1;s.videoCodec=d,a.video_codec=d}if(e.backgroundColor){if(!t.stateCenter.checkInteger(e.backgroundColor))return t.logger.error(\"zb.sh.ums param backgroundColor must be integer number\"),i({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;s.backgroundColor=e.backgroundColor,a.background_color=e.backgroundColor}if(e.backgroundImage){if(\"string\"!=typeof e.backgroundImage)return t.logger.error(\"zb.sh.ums param outputBgImage error\"),i({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;if(!e.backgroundImage.startsWith(\"preset-id://\")||!e.backgroundImage.endsWith(\".jpg\")&&!e.backgroundImage.endsWith(\".png\"))return t.logger.error(\"zb.sh.ums illegal input background image URL\"),i({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kBackgroundImageUrlInvalidError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kBackgroundImageUrlInvalidError.message}),!1;s.backgroundImage=e.backgroundImage,a.background_image=e.backgroundImage}if(e.waterMark&&(s.waterMark=e.waterMark,a.water_mark=e.waterMark),e&&e.userData){if(!(e.userData instanceof Uint8Array))return t.logger.error(\"zb.sh.ums param userData required Uint8Array\"),i({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;if(e.userData.byteLength>1e3)return t.logger.error(\"zb.sh.ums param userData should shorter than 1000\"),i({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;s.userData=e.userData}e.extraParams&&(s.extraParams||(s.extraParams=[]),(o=s.extraParams).push.apply(o,e.extraParams)),c=s,t.stateCenter.actionSuccessCallback(\"kZegoTaskMixConfig\",t.stateCenter.reportList)&&t.stateCenter.actionSuccessCallback(\"kZegoTaskMixConfig\",t.stateCenter.reportList)(u,void 0,{config:n.ZegoRTCLogEvent.kZegoTaskMixConfig.config(a)}),r({errorCode:0,extendedData:\"\"})}))},stopMixStream:function(e,t,r,i,c){var u=this;this.logger.info(\"zb.sh.sms call\");var d={id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:s};if(\"string\"==typeof e&&(d.task_id=e),null!=i?d.stream_id=this.stateCenter.testEnvironment?\"zegotest-\"+this.stateCenter.appid+\"-\"+i:i:null!=c&&(d.mixurl=c),this.stateCenter.useNetAgent)this.sendBizChannelRequestV2({server:12,location:\"/interface/command\",cmd:\"stop_mix\"},d,(function(e){t&&t({errorCode:0,extendedData:\"\"})}),(function(e,t,i,s){var c=\"\";if(s)return s==o.errorCodeList.TIMEOUT&&(s=n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kRequestError),s.code&&20010===s.code&&(s=JSON.parse(JSON.stringify(o.errorCodeList.MIXER_NO_SERVICES))),void(r&&r(s,c));if(s=n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError,200===e){if(\"number\"==typeof t)return u.logger.debug(\"zb.sh.sms error: \"+t),t+=1e9,void(r&&r({errorCode:u.stateCenter.getServerError(a+t).code,extendedData:c}));u.logger.error(\"zb.sh.sms stop mix fail \"+JSON.stringify(error));var d=n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError;r&&r({errorCode:d.code,extendedData:d.message})}else u.logger.error(\"zb.sh.sms \"+(c=\"request mix server fail, error: \"+e)),r&&r(s,c)}));else{var l={channel:\"zeus\",cmd:\"stop_mix\",req_body:JSON.stringify(d)};this.sendBizChannelRequest(l,(function(){t&&t({errorCode:0,extendedData:\"\"})}),(function(e){if(\"number\"==typeof e)r&&r({errorCode:u.stateCenter.getServerError(a+e).code,extendedData:\"\"});else{u.logger.error(\"zb.sh.sms stop mix fail \"+JSON.stringify(e));var t=void 0;t=e==o.errorCodeList.TIMEOUT?n.ZegoRTCLogEvent.kZegoTaskMixStop.error.kRequestError:n.ZegoRTCLogEvent.kZegoTaskMixStop.error.kInternalError,r&&r({errorCode:t.code,extendedData:t.message})}}))}return!0},updateMixStream:function(e,t,r){var d,l=this;this.logger.info(\"zb.sh.ums call\");var h;if(!e.noTaskID&&!e.taskID)return this.logger.error(\"zb.sh.ums no taskId found\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDNullError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDNullError.message}),!1;if(!e.noTaskID&&\"string\"!=typeof e.taskID)return this.logger.error(\"zb.rh.lg taskId must be string\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!e.noTaskID&&e.taskID.length>256)return this.logger.error(\"zb.sh.ums taskId is too long\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDToLongError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDToLongError.message}),!1;if(!e.noTaskID&&!this.stateCenter.checkIllegalCharacters(e.taskID))return this.logger.error(\"zb.sh.ums task ID contains illegal characters\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDInvalidCharacterError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDInvalidCharacterError.message}),!1;if(!e.inputList||0==e.inputList.length)return this.logger.error(\"zb.sh.ums input list wrong\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputListNullError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputListNullError.message}),!1;e.inputList.forEach((function(e){\"AUDIO\"===e.contentType&&(!e.layout&&(e.layout={top:0,left:0,bottom:0,right:0}),e.layout.top=0,e.layout.left=0,e.layout.bottom=1,e.layout.right=1)}));for(var p=0;p<e.inputList.length;p++){var g=e.inputList[p],f={errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message};if(\"object\"!=typeof g.layout)return this.logger.error(\"zb.sh.ums input layout must be object\"),r(f),!1;if(!(this.stateCenter.checkInteger(g.layout.top,!1)&&this.stateCenter.checkInteger(g.layout.bottom,!1)&&this.stateCenter.checkInteger(g.layout.left,!1)&&this.stateCenter.checkInteger(g.layout.right,!1)))return this.logger.error(\"zb.sh.ums top、left、bottom、right must be integer number\"),r(f),!1;if(void 0!==g.renderMode&&![0,1].includes(g.renderMode))return this.logger.error(\"zb.sh.ums render_mode is wrong\"),r(f),!1}if(!e.outputList||0==e.outputList.length)return this.logger.error(\"zb.sh.ums no output list found\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputListNullError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputListNullError.message}),!1;if(e.outputList.some((function(e){return\"string\"==typeof e&&!l.stateCenter.isUrl(e)&&!l.stateCenter.checkIllegalCharacters(e)||\"object\"==typeof e&&e.target&&!l.stateCenter.isUrl(e.target)&&!l.stateCenter.checkIllegalCharacters(e.target)})))return this.logger.error(\"zb.sh.ums stream output target is incorrect\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.message}),!1;if(!((h=e.inputList.every((function(e){return\"AUDIO\"===e.contentType})))||e.outputConfig&&\"object\"==typeof e.outputConfig))return this.logger.error(\"zb.sh.ums no output config found\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputNoTargetError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputNoTargetError.message}),!1;if(h&&(e.outputConfig=i(i({},e.outputConfig||{}),{outputBitrate:.001,outputFPS:1,outputWidth:1,outputHeight:1})),!(h||e.outputConfig.outputBitrate&&this.stateCenter.checkInteger(e.outputConfig.outputBitrate)))return this.logger.error(\"zb.sh.ums bitrate param is required and must be integer number\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!e.outputConfig.outputFPS||!this.stateCenter.checkInteger(e.outputConfig.outputFPS))return this.logger.error(\"zb.sh.ums fps param is required and must be integer number\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!e.outputConfig.outputWidth||!this.stateCenter.checkInteger(e.outputConfig.outputWidth))return this.logger.error(\"zb.sh.ums width param is required and must be integer number\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!e.outputConfig.outputHeight||!this.stateCenter.checkInteger(e.outputConfig.outputHeight))return this.logger.error(\"zb.sh.ums height param is required and must be integer number\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==e.outputConfig.outputAudioCodecID&&!this.stateCenter.checkInteger(e.outputConfig.outputAudioCodecID,!1))return this.logger.error(\"zb.sh.ums AudioCodecID param must be integer number\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==e.outputConfig.outputAudioBitrate&&!this.stateCenter.checkInteger(e.outputConfig.outputAudioBitrate))return this.logger.error(\"zb.sh.ums AudioBitrate param must be integer number\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==e.outputConfig.outputAudioChannels&&!this.stateCenter.checkInteger(e.outputConfig.outputAudioChannels,!1))return this.logger.error(\"zb.sh.ums AudioChannels param must be integer number\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;var m={},_=0;e.outputConfig.singleStreamPassThrough&&\"boolean\"==typeof e.outputConfig.singleStreamPassThrough&&(_=e.outputConfig.singleStreamPassThrough?1:0),m={task_id:e.taskID,id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:s,bypass:_,timestamp:Math.ceil((new Date).getTime()/1e3)};var v=c;v&&(v.videoCodec&&(m.extra_params=[{key:\"video_encode\",value:v.videoCodec}]),v.backgroundColor&&(m.output_bg_color=v.backgroundColor),v.backgroundImage&&(m.output_bg_image=v.backgroundImage),v.waterMark&&(m.watermark=v.waterMark),v.userData&&(m.userdata=this.stateCenter.uint8arrayToBase64(v.userData)),v.extraParams&&(!m.extra_params&&(m.extra_params=[]),(d=m.extra_params).push.apply(d,v.extraParams))),m.MixInput=e.inputList.map((function(e,t){var r=e.streamID;return l.stateCenter.testEnvironment&&(r=\"zegotest-\"+l.stateCenter.appid+\"-\"+e.streamID),{stream_id:r,content_control:\"AUDIO\"===e.contentType?1:0,rect:{layer:t,top:e.layout.top,left:e.layout.left,bottom:e.layout.bottom,right:e.layout.right},render_mode:e.renderMode}})),this.stateCenter.actionSuccessCallback(\"kZegoTaskMixStart\"+e.taskID,this.stateCenter.reportList)&&this.stateCenter.actionSuccessCallback(\"kZegoTaskMixStart\"+e.taskID,this.stateCenter.reportList)(u,void 0,{mix_stream_id:n.ZegoRTCLogEvent.kZegoTaskMixStart.mix_stream_id(e.taskID),stream_cnt:n.ZegoRTCLogEvent.kZegoTaskMixStart.stream_cnt(m.MixInput.length),input_stream_list:n.ZegoRTCLogEvent.kZegoTaskMixStart.input_stream_list(m.MixInput)}),m.MixOutput=e.outputList.map((function(t){var i={},o=\"\";if(\"string\"==typeof t)o=t;else{if(\"object\"!=typeof t||!t.target)return l.logger.error(\"zb.sh.ums output target required\"),r({errorCode:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.code,extendedData:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.message}),!1;o=t.target}return o.startsWith(\"rtmp://\")||o.startsWith(\"https://\")&&o.endsWith(\".flv\")||o.startsWith(\"https://\")&&o.endsWith(\".m3u8\")?i.mixurl=o:i.stream_id=l.stateCenter.testEnvironment?\"zegotest-\"+l.stateCenter.appid+\"-\"+o:o,i.bitrate=1e3*e.outputConfig.outputBitrate,i.fps=e.outputConfig.outputFPS,i.width=e.outputConfig.outputWidth,i.height=e.outputConfig.outputHeight,e.outputConfig.outputAudioCodecID&&(i.audio_enc_id=e.outputConfig.outputAudioCodecID),\"vp8\"===v.videoCodec?i.audio_enc_id=3:\"h264\"===v.videoCodec&&(i.audio_enc_id=0),e.outputConfig.outputAudioBitrate&&(i.audio_bitrate=1e3*e.outputConfig.outputAudioBitrate),e.outputConfig.outputAudioChannels&&(i.audio_channel_cnt=e.outputConfig.outputAudioChannels),i.testenv=l.stateCenter.testEnvironment?1:0,i})),this.stateCenter.actionSuccessCallback(\"kZegoTaskMixStart\"+e.taskID,this.stateCenter.reportList)&&this.stateCenter.actionSuccessCallback(\"kZegoTaskMixStart\"+e.taskID,this.stateCenter.reportList)(u,void 0,{output_target_list:n.ZegoRTCLogEvent.kZegoTaskMixStart.output_target_list(m.MixOutput)}),this.logger.debug(\"zb.sh.ums send command\");var E=\"zegotest-\"+this.stateCenter.appid+\"-\";if(this.stateCenter.useNetAgent)this.sendBizChannelRequestV2({server:12,location:\"/interface/command\",cmd:\"start_mix\"},m,(function(e){var r=e.play.map((function(e){var t={rtmpURL:\"\",hlsURL:\"\",flvURL:\"\"},r=e.stream_alias||\"\";return l.stateCenter.testEnvironment&&r&&r.startsWith(E)&&(r=r.slice(E.length)),t.streamID=r,e.rtmp_url&&e.rtmp_url.length>0&&(t.rtmpURL=e.rtmp_url),e.hls_url&&e.hls_url.length>0&&(t.hlsURL=e.hls_url),e.hdl_url&&e.hdl_url.length>0&&(t.flvURL=e.hdl_url),t}));t&&t({errorCode:0,extendedData:JSON.stringify({mixerOutputList:r})})}),(function(e,t,i,s){var c=\"\";if(s)return s==o.errorCodeList.TIMEOUT&&(s=n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kRequestError),s.code&&20010===s.code&&(s=JSON.parse(JSON.stringify(o.errorCodeList.MIXER_NO_SERVICES))),void(r&&r(s,c));if(s=n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError,200===e){if(\"number\"==typeof t){if(l.logger.debug(\"zb.sh.ums error: \"+t),1000000150==(t+=1e9)&&i){var u=i,d=(null==u?void 0:u.non_exist_streams.map((function(e){return l.stateCenter.testEnvironment&&e.startsWith(E)?e.slice(E.length):e})))||[];d.length>0&&(l.logger.debug(\"zb.sh.ums not exist streams: \"+d),c=d.join(\",\"))}return void(r&&r({errorCode:l.stateCenter.getServerError(a+t).code,extendedData:c}))}l.logger.debug(\"zb.sh.ums error code \"+t);var h=n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError;r&&r({errorCode:h.code,extendedData:h.message})}else l.logger.error(\"zb.sh.ums \"+(c=\"request mix server fail, error: \"+e)),r&&r(s,c)}));else{var S={channel:\"zeus\",cmd:\"start_mix\",req_body:JSON.stringify(m)};this.sendBizChannelRequest(S,(function(e,i,o){if(l.logger.debug(\"zb.sh.ums receive message\"),0!=o.length){for(var n=JSON.parse(o),s=[],a=0;a<n.play.length;a++){var c={rtmpURL:\"\",hlsURL:\"\",flvURL:\"\"},u=n.play[a].stream_alias||\"\";l.stateCenter.testEnvironment&&u&&u.startsWith(E)&&(u=u.slice(E.length)),c.streamID=u,n.play[a].rtmp_url&&n.play[a].rtmp_url.length>0&&(c.rtmpURL=n.play[a].rtmp_url),n.play[a].hls_url&&n.play[a].hls_url.length>0&&(c.hlsURL=n.play[a].hls_url),n.play[a].hdl_url&&n.play[a].hdl_url.length>0&&(c.flvURL=n.play[a].hdl_url),s.push(c)}if(t)t({errorCode:0,extendedData:JSON.stringify({mixerOutputList:s})})}else r&&r({errorCode:l.stateCenter.getServerError(10001).code,extendedData:\"\"})}),(function(e,t,i){if(\"number\"==typeof e){l.logger.debug(\"zb.sh.ums error: \"+e);var s=[];if(1000000150==e&&0!=i.length)for(var c=JSON.parse(i),u=0;u<c.non_exist_streams.length;u++){var d=c.non_exist_streams[u];l.stateCenter.testEnvironment&&d.startsWith(E)?s.push(d.slice(E.length)):s.push(d)}r&&r({errorCode:l.stateCenter.getServerError(a+e).code,extendedData:\"\"})}else{l.logger.debug(\"zb.sh.ums error code \"+e.code);var h=void 0;h=e==o.errorCodeList.TIMEOUT?n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kRequestError:n.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError,r&&r({errorCode:h.code,extendedData:h.message})}}))}return!0}}},6548:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={NOT_LOGIN:{code:1000002,message:\"not login room\"},INPUT_PARAM:{code:1100001,message:\"input param error.\"},TIMEOUT:{code:1100002,message:\"network timeout.\"},MIXER_NO_SERVICES:{code:1005e3,message:\"no mix stream service\"},MIXER_TASK_ID_NULL:{code:1005001,message:\"mixer task is null\"},MIXER_TASK_ID_TOO_LONG:{code:1005002,message:\"task ID is too long\"},MIXER_TASK_ID_INVALID_CHARACTER:{code:1005003,message:\"task ID contains illegal characters\"},MIXER_NO_OUTPUT_TARGET:{code:1005005,message:\"task configuration does not specify output\"},MIXER_OUTPUT_TARGET_INVALID:{code:1005006,message:\"stream output target is incorrect\"},MIXER_START_REQUEST_ERROR:{code:1005010,message:\"start mixer task fail, possibly due to network reasons\"},MIXER_STOP_REQUEST_ERROR:{code:1005011,message:\"stop mixer task fail, possibly due to network reasons\"},MIXER_NOT_OWNER_STOP_MIXER:{code:1005012,message:\" maxed task must be stopped by the start user of the task\"},MIXER_INPUTLIST_NULL:{code:1005020,message:\"Mixed stream task input list is null\"},MIXER_OUTPUTLIST_NULL:{code:1005021,message:\"Mixed stream task output list is null\"},MIXER_VIDEO_CONFIG_INVALID:{code:1005023,message:\"invalid mixed stream task video configuration\"},MIXER_EXCEED_MAX_INPUT_COUNT:{code:1005025,message:\"more than the maximum number of input streams\"},MIXER_INPUT_STREAM_NOT_EXISTS:{code:1005026,message:\"Input stream does not exist\"},MIXER_EXCEED_MAX_OUTPUT_COUNT:{code:1005030,message:\"more than the maximum number of output streams\"},MIXER_AUTHENTICATION_FAILED:{code:1005050,message:\"mixed stream authentication failed\"},MIXER_WATERMARK_NULL:{code:1005061,mag:\"input watermark is null\"},MIXER_WATERMARK_PARAMETERS_ERROR:{code:1005062,message:\"input watermark parameter is wrong\"},MIXER_WATERMARK_URL_INVALID:{code:1005063,message:\"illegal input watermark URL\"},MIXER_BACKGROUND_IMAGE_URL_INVALID:{code:1005067,message:\"illegal input background image URL\"},MIXER_REPEAT_INPUT:{code:1005099,message:\"mix stream input repeat\"},MIXER_INNER_ERROR:{code:1005099,message:\"mixer internal error\"}}},3392:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(8454);t.default={type:\"MixStream\",install:function(e,t){for(var r in i.zegoWebRTC)Object.defineProperty(e.prototype,r,{value:i.zegoWebRTC[r],writable:!1});for(var r in i.streamHandler)Object.defineProperty(t.prototype,r,{value:i.streamHandler[r],writable:!1})}}},6304:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoRTCLogEvent=void 0;var i=r(6548),o=function(e){return e};t.ZegoRTCLogEvent={kZegoTaskMixStart:{event:\"/mix/start_mix\",error:{kParamError:i.errorCodeList.INPUT_PARAM,kTaskIDNullError:i.errorCodeList.MIXER_TASK_ID_NULL,kTaskIDToLongError:i.errorCodeList.MIXER_TASK_ID_TOO_LONG,kTaskIDInvalidCharacterError:i.errorCodeList.MIXER_TASK_ID_INVALID_CHARACTER,kInputListNullError:i.errorCodeList.MIXER_INPUTLIST_NULL,kOutputListNullError:i.errorCodeList.MIXER_OUTPUTLIST_NULL,kOutputTargetInvalidError:i.errorCodeList.MIXER_OUTPUT_TARGET_INVALID,kOutputNoTargetError:i.errorCodeList.MIXER_NO_OUTPUT_TARGET,kRequestError:i.errorCodeList.MIXER_START_REQUEST_ERROR,kInternalError:i.errorCodeList.MIXER_INNER_ERROR,kNoLoginError:i.errorCodeList.NOT_LOGIN},mix_stream_id:o,stream_cnt:o,input_stream_list:o,output_target_list:o},kZegoTaskMixStop:{event:\"/mix/stop_mix\",error:{kParamError:i.errorCodeList.INPUT_PARAM,kTaskIDNullError:i.errorCodeList.MIXER_TASK_ID_NULL,kRequestError:i.errorCodeList.MIXER_STOP_REQUEST_ERROR,kInternalError:i.errorCodeList.MIXER_INNER_ERROR,kNoLoginError:i.errorCodeList.NOT_LOGIN}},kZegoTaskMixConfig:{event:\"/mix/config_mix\",error:{kParamError:i.errorCodeList.INPUT_PARAM,kVideoConfigInvalidError:i.errorCodeList.MIXER_VIDEO_CONFIG_INVALID,kBackgroundImageUrlInvalidError:i.errorCodeList.MIXER_BACKGROUND_IMAGE_URL_INVALID,kNoLoginError:i.errorCodeList.NOT_LOGIN},config:o}}},2036:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.RANGE_AUDIO=void 0;var a=s(r(8152)),c=s(r(6098)),u=s(r(644)),d=s(r(956)),l=r(2586);t.RANGE_AUDIO=\"zc.ra.0\";var h=function(){function e(e,r){var o=this;this.logger=r,this.isSpatial=!1,this.audioSourceList=[],this.audioSourceUpdate=!1,this.localUserList=[],this.speakingUserIdList=[],this.volume=1,this.speaker=\"\",this._audioCtx=null,this.supportSpeakerSet=!1,this.zegoRTC=e,this.zegoRTC.on(\"roomStreamUpdate\",(function(e,r,n){o.logger.info(t.RANGE_AUDIO+\" roomStreamUpdate: \"+JSON.stringify(n.map((function(e){return{extraInfo:e.extraInfo,streamID:e.streamID}}))));var s=n.map((function(e){var t=o.getStreamInfo(e.extraInfo,e.streamID),r=t.isRangeAudioStream,n=t.teamID,s=t.sendMode;return i(i({},e),{isRangeAudioStream:r,teamID:n,sendMode:s})})).filter((function(e){return e.isRangeAudioStream})),c=s.map((function(e){return e.user.userID}));\"DELETE\"===r?o.speakingUserIdList=o.speakingUserIdList.filter((function(e){var t=!c.includes(e);if(!t){var r=o.audioSourceMap[e];if(r&&r.isPlaying){r.stopPlayingAudio(\"stop for stream delete\")}}return t})):\"ADD\"===r&&(o.speakingUserIdList=o.speakingUserIdList.concat(c),s.forEach((function(e){var t=e.user.userID,r=o.audioSourceMap[t],i=e.teamID,n=e.sendMode,s=!(![\"\",void 0].includes(i)&&o.rangeListener.teamID===i)&&o.isSpatial;if(r)r.streamID=e.streamID,void 0!==n&&(r.sendMode=n),i!==r.teamID&&(r.teamID=i),r.enableSpatializer(s);else{var c=new a.default(o.logger,{userID:t,teamID:i,sendMode:n},{audioCtx:o.audioCtx,zegoRTC:o.zegoRTC,isSpatial:s,maxDistance:o.rangeListener.recvRange,volume:o.volume,speaker:o.speaker});c.streamID=e.streamID,o.audioSourceList.push(c),o.playStreamHandler.hasChanged=!0}}))),o.playStreamHandler.setAudioSourceList(o.speakingAudioSourceList)})),this.zegoRTC.on(\"playerStateUpdate\",(function(e){var t=o.audioSourceList.find((function(t){return t.streamID===e.streamID}));t&&(\"NO_PLAY\"===e.state?t.isPlaying=!1:(\"PLAYING\"===e.state&&t.checkTrackChanged(),t.isPlaying=!0))})),this.zegoRTC.on(\"streamExtraInfoUpdate\",(function(e,r){o.logger.info(t.RANGE_AUDIO+\" recv extra info: \"+JSON.stringify(r)),r.forEach((function(e){var t=o.audioSourceMap[e.user.userID];if(t&&t.streamID){var r=o.getStreamInfo(e.extraInfo,e.streamID),i=r.teamID,n=r.sendMode;i!==t.teamID&&(t.teamID=i,o.enableSpatializer(o.isSpatial)),void 0!==n&&(t.sendMode=n),o.playStreamHandler.hasChanged=!0}}))})),this.zegoRTC.RTM._on(\"_roomStateUpdate\",(function(e,t){\"CONNECTED\"===t?(o.roomID=e,o.rangeListener.userID=o.zegoRTC.RTM.getUserID(),o.playStreamHandler.hasChanged=!0):\"DISCONNECTED\"===t&&(o.roomID=void 0,o.rangeListener.reset(),o.enableSpeaker(!1),o.audioSourceList=[],o.playStreamHandler.setAudioSourceList([]),o.localUserList=[],o.playStreamHandler.setLocalUserList([]))})),this.zegoRTC.RTM.on(\"roomUserUpdate\",(function(e,r,i){var n;o.logger.info(t.RANGE_AUDIO+\" roomUserUpdate: \",e,r,JSON.stringify(i)),\"ADD\"===r?(n=o.localUserList).push.apply(n,i):\"DELETE\"===r&&i.forEach((function(e){o.localUserList=o.localUserList.filter((function(t){return t.userID!==e.userID}))})),o.playStreamHandler.setLocalUserList(o.localUserList)}));var n=window.AudioContext||window.webkitAudioContext;this._audioCtx=this.zegoRTC&&this.zegoRTC.ac||new n,this.rangeListener=c.default.getInstance(this.audioCtx,this.zegoRTC),this.playStreamHandler=u.default.getInstance(this.logger,this.rangeListener),this.eventManager=d.default.getInstance()}return Object.defineProperty(e.prototype,\"audioSourceMap\",{get:function(){return this.audioSourceList.reduce((function(e,t){return t.userID&&(e[t.userID]=t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"speakingAudioSourceList\",{get:function(){var e=this;return this.audioSourceList.filter((function(t){return e.speakingUserIdList.includes(t.userID)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"playingAudioSourceList\",{get:function(){return this.audioSourceList.filter((function(e){return e.isPlaying}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"audioCtx\",{get:function(){if(!this._audioCtx){var e=window.AudioContext||window.webkitAudioContext;this._audioCtx=new e}return this._audioCtx},enumerable:!1,configurable:!0}),e.getInstance=function(t,r){return e.instance||(e.instance=new e(t,r)),e.instance},e.prototype.resumeAudioContext=function(){return o(this,void 0,void 0,(function(){var e=this;return n(this,(function(t){return[2,new Promise((function(t){e.audioCtx.onstatechange=function(){\"running\"===e.audioCtx.state&&t(!0)},e.audioCtx.suspend(),e.audioCtx.resume(),setTimeout((function(){t(!1)}),3e3)}))]}))}))},e.prototype.getAudioContextState=function(){return this.audioCtx.state},e.prototype.getStreamInfo=function(e,r){var i=void 0,o=null;try{o=JSON.parse(e)}catch(e){return this.logger.warn(t.RANGE_AUDIO+\" parse room extra info failed. \".concat(r,\" is not ra stream.\")),{isRangeAudioStream:!1}}if(!o.hasOwnProperty(\"range_audio_team_id\")||!o.hasOwnProperty(\"range_audio_mode\"))return this.logger.warn(t.RANGE_AUDIO+\" extra info has no mode. \".concat(r,\" is not ra stream.\")),{isRangeAudioStream:!1};i={1:0,2:1,3:2}[o.range_audio_mode];var n=o.r_a_s_flag,s={teamID:o.range_audio_team_id||void 0,sendMode:i,isRangeAudioStream:void 0===n||1===n};return this.logger.info(\"\".concat(t.RANGE_AUDIO,\" \").concat(r,\" parse extra info: \").concat(JSON.stringify(s),\".\")),s},e.prototype.setAudioReceiveRange=function(e){if(!(0,l.checkNumber)(e))throw Error(\"Failed to execute 'setAudioReceiveRange': Argument 'range' requires to be type number.\");if((e=Number(e))<0)throw Error(\"Failed to execute 'setAudioReceiveRange': Argument 'range' can not be less than 0.\");this.logger.info(t.RANGE_AUDIO+\" set receive range: \"+e),this.rangeListener.recvRange=e,this.audioSourceList.forEach((function(t){t.setMaxDistance(e)})),this.playStreamHandler.hasChanged=!0},e.prototype.updateSelfPosition=function(e,r,i,o){var n=function(e){return\"Failed to execute 'updateSelfPosition': Argument '\".concat(e,\"' requires an array of type number.\\\"\")};if(!(0,l.checkCoordinate)(e))throw new Error(n(\"position\"));if(!(0,l.checkCoordinate)(r))throw new Error(n(\"axisForward\"));if(!(0,l.checkCoordinate)(i))throw new Error(n(\"axisRight\"));if(!(0,l.checkCoordinate)(o))throw new Error(n(\"axisUp\"));this.logger.info(t.RANGE_AUDIO+\" set self position [\".concat(e,\"]\")),this.rangeListener&&this.rangeListener.updateSelfPosition(e,r,o),this.playStreamHandler.setListener(this.rangeListener)},e.prototype.updateAudioSource=function(e,r){if(e=String(e),!(0,l.checkCoordinate)(r))throw new Error(\"Failed to execute 'updateAudioSource': Arguments 'position' must be an array of type number.\");this.logger.info(t.RANGE_AUDIO+\" set source \".concat(e,\" position [\").concat(r,\"]\"));var i=this.audioSourceMap[e];i?i.setPosition(r):(i=new a.default(this.logger,{userID:e,position:r},{audioCtx:this.audioCtx,zegoRTC:this.zegoRTC,isSpatial:this.isSpatial,maxDistance:this.rangeListener.recvRange,volume:this.volume,speaker:this.speaker}),this.enableSpatializer(this.isSpatial),this.audioSourceList.push(i)),this.playStreamHandler.setAudioSourceList(this.speakingAudioSourceList,this.audioSourceList)},e.prototype.enableMicrophone=function(e){if(void 0===e&&(e=!0),!this.rangeListener.userID)throw new Error(\"Enable mic failed. Please log in room first.\");return e?this.rangeListener.startPublishingStream():this.rangeListener.stopPublishingStream()},e.prototype.selectMic=function(e){return o(this,void 0,void 0,(function(){var r,i,o,s;return n(this,(function(n){switch(n.label){case 0:if(\"string\"!=typeof e&&void 0!==e)throw new Error(\"Select mic failed. DeviceID error.\");if(i=(r=this.rangeListener).audioStream,o=r.isPublishing,this.logger.info(t.RANGE_AUDIO+\" select mic: \"+e),!i||!o)return[3,5];s={errorCode:0},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.zegoRTC.useAudioDevice(i,e||\"\")];case 2:return s=n.sent(),[3,4];case 3:return n.sent(),[2,!1];case 4:return 0===s.errorCode?(this.rangeListener.micID=e,[2,!0]):[2,!1];case 5:return this.rangeListener.micID=e,[2,!0];case 6:return[2]}}))}))},e.prototype.enableSpeaker=function(e){if(void 0===e&&(e=!0),e&&!this.roomID)throw new Error(\"Enable speaker failed. Please log in room first.\");this.playStreamHandler.isEnable=e,e?this.playStreamHandler.startPlayingAudioStream():this.playStreamHandler.stopPlayingAudioStream()},e.prototype.enableSpatializer=function(e){var r=this;void 0===e&&(e=!0),this.logger.info(t.RANGE_AUDIO+\" set spatializer: \"+e),this.isSpatial=!!e,this.audioSourceList.forEach((function(t){var i=!(![\"\",void 0].includes(t.teamID)&&r.rangeListener.teamID===t.teamID)&&e;t.enableSpatializer(i)})),e&&this.rangeListener.updateListenerEffect()},e.prototype.setRangeAudioTeamID=function(e){this.logger.info(t.RANGE_AUDIO+\" set team id: \"+e),this.rangeListener.setTeamID(e),this.enableSpatializer(this.isSpatial),this.playStreamHandler.hasChanged=!0},e.prototype.setRangeAudioMode=function(e){this.logger.info(t.RANGE_AUDIO+\" set mode \"+e),this.rangeListener.setSendMode(e),this.rangeListener.setRecvMode(e),this.playStreamHandler.hasChanged=!0},e.prototype.setAudioVolume=function(e){var r=this;if(this.logger.info(t.RANGE_AUDIO+\" set volume \".concat(e)),e<0)throw new Error(\"Failed to execute 'setVolume': The volume provided is outside the range [0, 200].\");this.volume=e/100,this.audioSourceList.forEach((function(e){e.setVolume(r.volume)}))},e.prototype.selectSpeaker=function(e){var r=this;if(void 0===e&&(e=\"\"),\"string\"!=typeof e)throw new Error(\"Select speaker failed. Device ID error.\");if(!this.supportSpeakerSet){if(!!!document.createElement(\"audio\").setSinkId)throw new Error(\"Failed to execute 'selectSpeaker': browser not support.\");this.supportSpeakerSet=!0}this.speaker=e,this.logger.info(t.RANGE_AUDIO+\" set speaker: \"+e),\"\"===e&&this.logger.warn(t.RANGE_AUDIO+\" set speaker to be default. \");this.audioSourceList.find((function(i){return o(r,void 0,void 0,(function(){var r;return n(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,i.setSpeaker(e)];case 1:return o.sent(),[3,3];case 2:return r=o.sent(),this.logger.warn(t.RANGE_AUDIO+\" set speaker failed. id: \".concat(e,\", error: \").concat(r)),[2,!0];case 3:return[2,!1]}}))}))}))},e.prototype.setPositionUpdateFrequency=function(e){if(!(e>=15))throw new Error(\"Failed to execute 'setPositionUpdateFrequency': The frequency provided is outside the range [15, +].\");this.playStreamHandler.interval=Number(e)||100},e.prototype.on=function(e,t){return this.eventManager.addEventHandler(e,t)},e.prototype.off=function(e,t){return this.eventManager.removeEventHandler(e,t)},e.prototype.enableAudioSourceUpdateChecker=function(e){this.logger.info(t.RANGE_AUDIO+\" set source update: \"+e),this.audioSourceUpdate=e,this.playStreamHandler.setAudioSourceUpdate(e)},e}();t.default=h},6383:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RangeAudio=void 0;var i=r(1939);t.RangeAudio={type:\"RangeAudio\",install:function(e){Object.defineProperty(e.prototype,\"createRangeAudioInstance\",{value:function(){return this.rangeAudio||(this.rangeAudio=i.ZegoExpressRangeAudio.getInstance(this,this.logger)),this.rangeAudio},writable:!1})}}},8152:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.RANGE_AUDIO=void 0;var s=r(2195);t.RANGE_AUDIO=\"zc.ra.1\";var a=n(r(2188)),c=function(){function e(e,t,r){this.logger=e,this.streamID=null,this.panner=null,this.gainNode=null,this.volume=1,this.isSpatial=!1,this.autoPlay=!0,this.loopbackConn=null,this.speaker=\"\",this.position=null,this.stream=null,this.sourceNode=null,this.isPlaying=!1,this.distance=null,this.audioTrack=null,this.audioEl=null,this.playOnAudioContext=!1,this.audioCtx=r.audioCtx,this.zegoRTC=r.zegoRTC,this.isSpatial=r.isSpatial,this.maxDistance=r.maxDistance||1e5,this.setVolume(r.volume),this.setSpeaker(r.speaker).catch((function(e){})),this.userID=t.userID,this.teamID=t.teamID,this.sendMode=void 0!==t.sendMode?t.sendMode:s.ZegoRangeAudioMode.World,t.position&&(this.position=t.position),this.destNode=this.audioCtx.createMediaStreamDestination()}return e.prototype.createPanner=function(){var e=this.position||[0,0,0],t=this.maxDistance,r=this.audioCtx.createPanner(),i=this.audioCtx.createGain();return r.panningModel=\"HRTF\",r.distanceModel=\"linear\",r.refDistance=1,r.maxDistance=2.6*t,r.rolloffFactor=1,r.coneOuterGain=.4,void 0!==r.positionX?(r.positionX.value=e[1],r.positionY.value=e[2],r.positionZ.value=-e[0]):r.setPosition(e[1],e[2],-e[0]),{panner:r,gainNode:i}},e.prototype.setVolume=function(e){isNaN(e)||(this.volume=e,this.gainNode&&(this.gainNode.gain.value=this.volume))},e.prototype.setSpeaker=function(e){var r;return i(this,void 0,void 0,(function(){var i,n;return o(this,(function(o){switch(o.label){case 0:if(\"string\"!=typeof e)return[2];if(this.speaker=e,!this.audioEl)return[3,10];if(!(i=null===(r=this.audioEl)||void 0===r?void 0:r.setSinkId))return[3,8];o.label=1;case 1:return o.trys.push([1,6,,7]),this.playOnAudioContext?[3,3]:[4,i.call(this.audioEl,e||\"\")];case 2:return o.sent(),[3,5];case 3:return[4,i.call(this.audioEl,\"\")];case 4:o.sent(),o.label=5;case 5:return this.logger.info(t.RANGE_AUDIO+\" \".concat(this.userID,\" set speaker success. id: \").concat(e,\".\")),[3,7];case 6:throw n=o.sent(),this.logger.error(t.RANGE_AUDIO+\" \".concat(this.userID,\" set speaker failed. id: \").concat(e,\"  error: \").concat(n,\".\")),n;case 7:return[3,9];case 8:throw\"setting speaker not support.\";case 9:return[3,11];case 10:this.logger.info(t.RANGE_AUDIO+\" \".concat(this.userID,\" no element.\")),o.label=11;case 11:return[2]}}))}))},e.prototype.checkTrackChanged=function(){var e;if(this.stream){var r=this.stream.getAudioTracks()[0];r&&r!==this.audioTrack&&(this.logger.info(t.RANGE_AUDIO+\" retry play success, render stream.\"),null===(e=this.sourceNode)||void 0===e||e.disconnect(),this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream),this.enableSpatializer(this.isSpatial,!0),this.audioTrack=r)}},e.prototype.startPlayingAudio=function(e){return i(this,void 0,void 0,(function(){var r,i,n,s,a;return o(this,(function(o){switch(o.label){case 0:if(!this.streamID)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),r=this,[4,this.zegoRTC.startPlayingStream(this.streamID)];case 2:return r.stream=o.sent(),e&&this.logger.info(t.RANGE_AUDIO+\" \".concat(this.streamID,\" \")+e),this.audioTrack=this.stream.getAudioTracks()[0],[3,4];case 3:if(1103049===(i=o.sent()).code)return[2];throw i;case 4:return(n=this.audioEl=document.createElement(\"audio\")).setAttribute(\"autoplay\",\"autoplay\"),n.setAttribute(\"id\",\"zg-audio-source-\"+this.userID),n.muted=!0,this.stream&&(this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream)),this.panner||(s=this.createPanner(),a=s.gainNode,this.panner=s.panner,this.gainNode=a,a.gain.value=this.volume),this.sourceNode?[4,this.enableSpatializer(this.isSpatial,!0)]:[3,6];case 5:o.sent(),o.label=6;case 6:return\"suspended\"===this.audioCtx.state&&this.audioCtx.resume(),[2]}}))}))},e.prototype.stopPlayingAudio=function(e){this.isPlaying&&this.streamID?(this.logger.info(t.RANGE_AUDIO+\" \".concat(this.streamID,\" \")+e),this.zegoRTC.stopPlayingStream(this.streamID),this.isPlaying=!1):this.logger.info(t.RANGE_AUDIO+\" \".concat(this.streamID,\" not playing, \")+e),this.stream=null,this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=null),this.audioEl&&(this.audioEl.srcObject=null,this.audioEl.parentNode&&this.audioEl.parentNode.removeChild(this.audioEl),this.audioEl=null),this.loopbackConn&&(this.loopbackConn.close(),this.loopbackConn.onError=null)},e.prototype.setPosition=function(e){this.position=e,this.panner&&(void 0!==this.panner.positionX?(this.panner.positionX.value=e[1],this.panner.positionY.value=e[2],this.panner.positionZ.value=-e[0]):this.panner.setPosition(e[1],e[2],-e[0]))},e.prototype.setMaxDistance=function(e){this.maxDistance=e,this.panner&&(e<10&&(e=10),this.panner.maxDistance=2.6*e)},e.prototype.getDistanceFromListener=function(e){var t=this.position,r=e.position;if(!r||!t)return null;var i=[t[0]-r[0],t[1]-r[1],t[2]-r[2]];return this.distance=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),this.distance},e.prototype.enableSpatializer=function(e,r,n){var s,c;return void 0===r&&(r=!1),void 0===n&&(n=!1),i(this,void 0,void 0,(function(){var i,u,d,l,h,p=this;return o(this,(function(o){switch(o.label){case 0:return r||this.isSpatial!==e?(this.isSpatial=e,i=navigator.userAgent.toLocaleLowerCase(),u=i.includes(\"safari\")&&!i.includes(\"chrome\"),d=i.includes(\"micromessenger\")&&new RegExp(/(iphone|ipad|ipod|ios)/i).test(i),this.playOnAudioContext=n,this.sourceNode?(this.sourceNode.disconnect(),null===(s=this.panner)||void 0===s||s.disconnect(),null===(c=this.gainNode)||void 0===c||c.disconnect(),this.gainNode?(l=this.sourceNode.connect(this.gainNode),this.panner&&e&&(l=this.gainNode.connect(this.panner)),l.connect(n?this.audioCtx.destination:this.destNode),this.position&&this.setPosition(this.position),this.logger.info(t.RANGE_AUDIO+\" play \".concat(e?\"3d\":\"normal\",\" stream '\").concat(this.streamID,\"' on \").concat(n?\"audio ctx\":\"element\")),this.audioEl?n?(this.audioEl.srcObject!==this.stream&&(this.audioEl.srcObject=this.stream),this.audioEl.muted=!0,[3,4]):[3,1]:[3,4]):[3,4]):[3,4]):[2];case 1:return h=this.destNode.stream,!d&&!u?(this.loopbackConn&&(this.loopbackConn.close(),this.loopbackConn.onError=null),this.loopbackConn=this.loopbackConn||new a.default(this.streamID||\"\",this.logger),this.loopbackConn.onError=function(){p.logger.warn(t.RANGE_AUDIO+\" \".concat(p.streamID,\" loopback failed!\")),p.enableSpatializer(p.isSpatial,!0,!0)},[4,this.loopbackConn.bindStream(this.destNode.stream)]):[3,3];case 2:h=o.sent(),o.label=3;case 3:this.audioEl.muted=!0,this.audioEl.srcObject=h,this.setSpeaker(this.speaker).catch((function(e){})),this.audioEl.oncanplay=function(){p.audioEl&&(p.audioEl.muted=!1,p.audioEl.play().then((function(){p.logger.info(t.RANGE_AUDIO+\" \".concat(p.streamID,\" autoplay success.\"))})).catch((function(e){p.logger.error(t.RANGE_AUDIO+\" \".concat(p.streamID,\"' autoplay failed. error: \").concat(e)),p.enableSpatializer(p.isSpatial,!0,!0)})))},o.label=4;case 4:return[2]}}))}))},e}();t.default=c},956:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this.handlerListMap={microphoneStateUpdate:[],audioSourceWithinRangeUpdate:[]}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.addEventHandler=function(e,t){if(!this.handlerListMap[e])return!1;if(\"function\"!=typeof t)throw new Error(\"Params callBack is not a Function\");return-1==this.handlerListMap[e].indexOf(t)&&this.handlerListMap[e].push(t),!0},e.prototype.removeEventHandler=function(e,t){return!!this.handlerListMap[e]&&(this.handlerListMap[e]=t?this.handlerListMap[e].filter((function(e){return e!==t})):[],!0)},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.handlerListMap[e]&&this.handlerListMap[e].forEach((function(r){try{setTimeout((function(){r.apply(void 0,t)}),0)}catch(t){console.error('Fail to execute callback of event \"'.concat(e,'\" : ').concat(t))}}))},e}();t.default=r},2188:function(e,t){\"use strict\";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.RANGE_AUDIO=void 0,t.RANGE_AUDIO=\"zc.ra.3\";var o=function(){function e(e,t){this.streamID=e,this.logger=t,this.rtcConn=null,this.loopbackConn=null,this.destStream=new MediaStream,this.onError=null}return e.prototype.bindStream=function(e){var o,n;return r(this,void 0,void 0,(function(){var r,s,a,c,u,d=this;return i(this,(function(i){switch(i.label){case 0:return r=[\"completed\",\"connected\"],this.rtcConn&&this.loopbackConn&&r.includes(this.rtcConn.connectionState)?(s=null===(o=this.rtcConn)||void 0===o?void 0:o.getSenders().find((function(e){var t;return\"audio\"===(null===(t=e.track)||void 0===t?void 0:t.kind)})),e.getTracks().forEach((function(e){\"audio\"===e.kind&&(null==s||s.replaceTrack(e))})),[3,10]):[3,1];case 1:this.rtcConn=new RTCPeerConnection,this.loopbackConn=new RTCPeerConnection,a={offerVideo:!0,offerAudio:!0,offerToReceiveAudio:!1,offerToReceiveVideo:!1},this.rtcConn.onicecandidate=function(e){var r,i=e.candidate;i&&(d.logger.info(t.RANGE_AUDIO+\" \".concat(d.streamID,\" loopback add out candidate: \").concat(i)),null===(r=d.loopbackConn)||void 0===r||r.addIceCandidate(new RTCIceCandidate(i)))},this.loopbackConn.onicecandidate=function(e){var r,i=e.candidate;i&&(d.logger.info(t.RANGE_AUDIO+\" \".concat(d.streamID,\" loopback add in candidate: \").concat(i)),null===(r=d.rtcConn)||void 0===r||r.addIceCandidate(new RTCIceCandidate(i)))},window.setTimeout((function(){d.rtcConn&&d.loopbackConn&&(r.includes(d.rtcConn.iceConnectionState)&&r.includes(d.loopbackConn.iceConnectionState)?d.logger.info(t.RANGE_AUDIO+\" \".concat(d.streamID,\" loopback connect ok.\")):(d.logger.error(t.RANGE_AUDIO+\" \".concat(d.streamID,\" loopback connect failed. state: \").concat(d.rtcConn.iceConnectionState)),d.close(),d.onError&&d.onError()))}),2e3),this.loopbackConn.ontrack=function(e){var r=e.track;d.logger.info(t.RANGE_AUDIO+\" \".concat(d.streamID,\" loopback receive track\")),d.replaceTrack(r)},e.getTracks().find((function(e){var t;if(\"audio\"===e.kind)return null===(t=d.rtcConn)||void 0===t||t.addTrack(e),!0})),i.label=2;case 2:return i.trys.push([2,9,,10]),[4,this.rtcConn.createOffer(a)];case 3:return c=i.sent(),[4,this.rtcConn.setLocalDescription(c)];case 4:return i.sent(),[4,this.loopbackConn.setRemoteDescription(c)];case 5:return i.sent(),[4,this.loopbackConn.createAnswer()];case 6:return(u=i.sent()).sdp=null===(n=u.sdp)||void 0===n?void 0:n.replace(/useinbandfec=/,\"stereo=1;useinbandfec=\"),[4,this.loopbackConn.setLocalDescription(u)];case 7:return i.sent(),[4,this.rtcConn.setRemoteDescription(u)];case 8:return i.sent(),[3,10];case 9:return i.sent(),this.logger.error(t.RANGE_AUDIO+\" \".concat(this.streamID,\" loopback connect failed.\")),this.close(),this.onError&&this.onError(),this.onError=null,[3,10];case 10:return[2,this.destStream]}}))}))},e.prototype.replaceTrack=function(e){var t=this;\"audio\"===e.kind&&(this.destStream.getTracks().forEach((function(e){t.destStream.removeTrack(e)})),this.destStream.addTrack(e))},e.prototype.close=function(){var e=this,t=this.rtcConn,r=this.loopbackConn;this.destStream.getTracks().forEach((function(t){e.destStream.removeTrack(t)})),null==t||t.close(),null==r||r.close(),this.rtcConn=null,this.loopbackConn=null},e}();t.default=o},644:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RANGE_AUDIO=void 0;var i=r(2195);t.RANGE_AUDIO=\"zc.ra.2\";var o=function(){function e(e,t){this.logger=e,this.isEnable=!1,this.interval=100,this.timer=null,this.audioSourceList=[],this.hasChanged=!1,this.audioSourceUpdate=!1,this.maxPlayingQuantity=20,this.allAudioSourceList=[],this.audioSourceWithinRangeList=[],this.localUserList=[],this.rangeListener=t}return e.getInstance=function(t,r){return e.instance||(e.instance=new e(t,r)),e.instance},e.prototype.setAudioSourceUpdate=function(e){this.audioSourceUpdate=e},e.prototype.setListener=function(e){this.rangeListener=e,this.hasChanged=!0},e.prototype.setAudioSourceList=function(e,t){this.audioSourceList=e,t&&(this.allAudioSourceList=t),this.hasChanged=!0},e.prototype.startPlayingAudioStream=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.hasChanged=!0,this.playAudioTask()},e.prototype.playAudioTask=function(){var e=this;this.hasChanged&&(this.hasChanged=!1,this.handlePlayAudioTask()),this.timer=window.setTimeout((function(){e.playAudioTask()}),this.interval)},e.prototype.handlePlayAudioTask=function(){var e=this;if(this.isEnable){var r=[],o=this.getTeamAudioSourceGroup(),n=o.otherList,s=0;o.teamList.forEach((function(t){s<e.maxPlayingQuantity&&(t.isPlaying||t.startPlayingAudio(\"play for team\"),s++)}));var a=this.rangeListener.recvMode===i.ZegoRangeAudioMode.World;if(a&&(n.forEach((function(t){t.distance=t.getDistanceFromListener(e.rangeListener)})),n.sort((function(e,t){return null===e.distance?1:null===t.distance||e.distance<t.distance?-1:e.distance>t.distance?1:0}))),n.forEach((function(t){if(a&&s<e.maxPlayingQuantity&&(t.sendMode===i.ZegoRangeAudioMode.World&&null!==t.distance&&(null===e.rangeListener.recvRange||t.distance<=e.rangeListener.recvRange)))t.isPlaying||t.startPlayingAudio(\"play for range\"),s++;else{var r=\"stop for mode or range. mode: \".concat(t.sendMode,\", range: \").concat(t.distance,\" > \").concat(e.rangeListener.recvRange);t.stopPlayingAudio(r)}})),this.logger.info(t.RANGE_AUDIO+\" playing quantity: \".concat(s,\".\")),this.audioSourceUpdate)this.allAudioSourceList.forEach((function(t){t.distance=t.getDistanceFromListener(e.rangeListener);var i=null!==t.distance&&(null===e.rangeListener.recvRange||t.distance<=e.rangeListener.recvRange),o=!!e.localUserList.find((function(e){return e.userID===t.userID}));i&&o&&r.push({userID:t.userID,position:t.position})})),this.checkAudioSourceListDiff(r,this.audioSourceWithinRangeList)&&this.rangeListener.eventHandler.emit(\"audioSourceWithinRangeUpdate\",r),this.audioSourceWithinRangeList=r}else this.stopPlayingAudioStream()},e.prototype.getTeamAudioSourceGroup=function(){var e=this,t=[],r=[];return this.audioSourceList.forEach((function(i){[i.teamID,e.rangeListener.teamID].includes(void 0)||\"\"===i.teamID||i.teamID!==e.rangeListener.teamID?r.push(i):t.push(i)})),{teamList:t,otherList:r}},e.prototype.stopPlayingAudioStream=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.audioSourceList.forEach((function(e){e.stopPlayingAudio(\"stop for all stream\")}))},e.prototype.setLocalUserList=function(e){this.localUserList=e,this.hasChanged=!0},e.prototype.checkAudioSourceListDiff=function(e,t){for(var r,i=0;i<e.length;i++){r=!1;for(var o=0;o<t.length;o++)if(e[i].userID===t[o].userID){r=!0;break}if(!r)return!0}for(var n=0;n<t.length;n++){r=!1;for(var s=0;s<e.length;s++)if(t[n].userID===e[s].userID){r=!0;break}if(!r)return!0}return!1},e}();t.default=o},6098:function(e,t,r){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var o=r(2195),n=r(8152),s=i(r(956));function a(e){return{0:1,1:2,2:3}[e]}var c=function(){function e(e,t){var r=this;this.recvMode=o.ZegoRangeAudioMode.World,this.sendMode=o.ZegoRangeAudioMode.World,this.recvRange=null,this.position=null,this.forwardAxis=[1,0,0],this.upAxis=[0,0,1],this.audioStream=null,this.enableMic=!1,this.isPublishing=!1,this.streamID=null,this.zegoRTC=t,this.audioCtx=e,this.audioListener=this.audioCtx.listener,this.eventHandler=s.default.getInstance(),this.zegoRTC.on(\"publisherStateUpdate\",(function(e){var t=e.state,i=e.errorCode,n=e.extendedData;e.streamID===r.streamID&&(\"NO_PUBLISH\"===t?(r.isPublishing=!1,r.stopPublishingStream()):r.isPublishing=!0),r.eventHandler.emit(\"microphoneStateUpdate\",{NO_PUBLISH:o.ZegoRangeAudioMicrophoneState.Off,PUBLISH_REQUESTING:o.ZegoRangeAudioMicrophoneState.TurningOn,PUBLISHING:o.ZegoRangeAudioMicrophoneState.On}[t],i,n)}))}return Object.defineProperty(e.prototype,\"logger\",{get:function(){return this.zegoRTC.logger},enumerable:!1,configurable:!0}),e.getInstance=function(t,r){return e.instance||(e.instance=new e(t,r)),e.instance},e.prototype.updateSelfPosition=function(e,t,r){this.position=e,this.forwardAxis=t,Array.isArray(r)&&(this.upAxis=r),this.updateListenerEffect()},e.prototype.updateListenerEffect=function(){this.position&&(this.audioListener.positionX?(this.audioListener.positionX.value=this.position[1],this.audioListener.positionY.value=this.position[2],this.audioListener.positionZ.value=-this.position[0]):this.audioListener.setPosition(this.position[1],this.position[2],-this.position[0]),this.audioListener.forwardX?(this.audioListener.forwardX.value=this.forwardAxis[1],this.audioListener.forwardY.value=this.forwardAxis[2],this.audioListener.forwardZ.value=-this.forwardAxis[0],this.audioListener.upX.value=this.upAxis[1],this.audioListener.upY.value=this.upAxis[2],this.audioListener.upZ.value=-this.upAxis[0]):this.audioListener.setOrientation(this.forwardAxis[1],this.forwardAxis[2],-this.forwardAxis[0],this.upAxis[1],this.upAxis[2],-this.upAxis[0]))},e.prototype.startPublishingStream=function(){var e=this;this.enableMic?this.logger.warn(n.RANGE_AUDIO+\" mic is already enabled\"):(this.enableMic=!0,this.zegoRTC.createStream({camera:{video:!1,audio:!0,audioInput:this.micID||void 0,audioBitrate:30}}).then((function(t){if(!e.userID)throw e.zegoRTC.destroyStream(t),e.enableMic=!1,Error(\"Enable mic failed. Please log in room first.\");e.audioStream&&e.audioStream!==t&&e.zegoRTC.destroyStream(e.audioStream),e.audioStream=t;var r={range_audio_team_id:e.teamID||\"\",range_audio_mode:a(e.sendMode),r_a_s_flag:1};e.streamID=e.userID+\"_\"+Date.now(),e.zegoRTC.startPublishingStream(e.streamID,t,{extraInfo:JSON.stringify(r)})})).catch((function(t){throw e.audioStream=null,e.enableMic=!1,t})))},e.prototype.stopPublishingStream=function(){this.isPublishing&&this.streamID&&this.zegoRTC.stopPublishingStream(this.streamID),this.isPublishing=!1,this.audioStream&&(this.zegoRTC.destroyStream(this.audioStream),this.audioStream=null),this.enableMic=!1},e.prototype.setRecvMode=function(e){this.recvMode=e},e.prototype.setSendMode=function(e){this.sendMode=e,this.updateSteamExtraInfo()},e.prototype.setTeamID=function(e){this.teamID=e,this.updateSteamExtraInfo()},e.prototype.updateSteamExtraInfo=function(){this.streamID&&this.isPublishing&&this.zegoRTC.setStreamExtraInfo(this.streamID,JSON.stringify({range_audio_team_id:this.teamID||\"\",range_audio_mode:a(this.sendMode),r_a_s_flag:1}))},e.prototype.reset=function(){this.audioStream&&this.stopPublishingStream(),this.userID=void 0,this.streamID=null},e}();t.default=c},2586:function(e,t){\"use strict\";function r(e){return!isNaN(Number(e))&&Number.MAX_SAFE_INTEGER>=Number(e)&&Number(e)>=-Number.MAX_SAFE_INTEGER}Object.defineProperty(t,\"__esModule\",{value:!0}),t.checkCoordinate=t.checkBoolean=t.checkNumber=void 0,t.checkNumber=r,t.checkBoolean=function(e){return!1},t.checkCoordinate=function(e){if(Array.isArray(e)){for(var t=0;t<3;t++){if(!r(e[t]))return!1}return!0}return!1}},6755:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AdvancedModule=void 0;var i=r(6305),o=r(9304),n=function(){function e(e,t,r,i){this.logger=e,this.dataReport=t,this.streamCenter=r,this.stateCenter=i,this.screenShotReady=!1}return e.prototype.publishTarget=function(e){var t=this,r=this.stateCenter.getReportSeq();switch(e.type){case\"addpush\":this.dataReport.newReport(r,o.ZegoRTCLogEvent.kZegoTaskAddPublishCdnUrl.event);break;case\"delpush\":case\"clearpush\":this.dataReport.newReport(r,o.ZegoRTCLogEvent.kZegoTaskRemovePublishCdnUrl.event)}return this.dataReport.addMsgInfo(r,{stream:o.ZegoRTCLogEvent.kZegoTaskRemovePublishCdnUrl.stream(e.streamID),target_url:o.ZegoRTCLogEvent.kZegoTaskRemovePublishCdnUrl.target_url(e.pushUrl)}),new Promise((function(n,s){var a=function(e,i){t.logger.error(\"zb.pt\"+(i||e.message)),t.dataReport.addMsgInfo(r,{error:e.code,message:e.message+(i||\"\")}),t.dataReport.uploadReport(r),s({errorCode:e.code,extendedData:e.message+(i?\" \"+i:\"\")})};if(-1==[\"addpush\",\"delpush\",\"clearpush\"].indexOf(e.type))return t.logger.error(\"zb.sh.pt cdn push type error\"),void a(i.errorCodeList.PUBLISHER_CDN_PUSH_ERROR,\"type error\");if(e.streamID&&\"string\"==typeof e.streamID)if(e.pushUrl&&\"string\"==typeof e.pushUrl)if(t.stateCenter.publishStreamList[e.streamID]){var c=t.streamCenter.getRoomByStreamID(e.streamID);if(c){c.streamHandler._publishTarget(e,(function(e){t.dataReport.uploadReport(r),n(e)}),a)}else a(o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kNoLoginError)}else a(o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kPublishStreamNoFoundError);else a(o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kParamError,\"push url error\");else a(o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kParamError,\"stream id type error\")}))},e}();t.AdvancedModule=n},5610:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.streamHandler=t.zegoWebRTC=t.ENUM_PUBLISH_STREAM_STATE=t.ENUM_STREAM_CMD_PRI=t.ENUM_STREAM_SUB_CMD=t.PROTO_VERSION=void 0;var i=r(6305),o=r(9304);t.PROTO_VERSION=\"2.19.0\",t.ENUM_STREAM_SUB_CMD={liveNone:0,liveBegin:2001,liveEnd:2002,liveUpdate:2003},t.ENUM_STREAM_CMD_PRI={liveBegin:\"zegochat_js.room_stream_create_req\",liveEnd:\"zegochat_js.room_stream_delete_req\",liveUpdate:\"zegochat_js.room_stream_update_req\"},t.ENUM_PUBLISH_STREAM_STATE={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},t.zegoWebRTC={setStreamExtraInfo:function(e,t){var r=this;return new Promise((function(i,n){var s=r.stateCenter.getReportSeq();r.dataReport.newReport(s,o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.event),r.dataReport.addMsgInfo(s,{stream:o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.stream(e),stream_extra_info:o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.stream_extra_info(t)});var a=function(e,t){r.logger.error(\"zb.ssei \"+t),r.dataReport.addMsgInfo(s,{error:e.code,message:e.message+\" \"+t}),r.dataReport.uploadReport(s),n({errorCode:e.code,extendedData:e.message+\" \"+t})};if(\"string\"==typeof e&&\"\"!=e)if(\"string\"==typeof t&&\"\"!=t)if(r.RTM.isDisConnect())a(o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kNoLoginError,\"not login\");else if(r.stateCenter.publishStreamList[e]){var c=r.streamCenter.getRoomByStreamID(e);c?(r.dataReport.addMsgInfo(s,{room_sid:o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.room_sid(c.sessionID)}),c.streamHandler.setStreamExtraInfo(e,t,i,a),r.dataReport.uploadReport(s)):a(o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kNoLoginError,\"not login\")}else a(o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kPublishStreamNoFoundError,\"publish stream no found\");else a(o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kParamError,\"extraInfo must be string and no empty\");else a(o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kParamError,\"streamID must be string and not empty\")}))}},t.streamHandler={_publishTarget:function(e,r,n){var s=this;this.logger.info(\"zb.sh.ptcall\");var a=Math.ceil((new Date).getTime()/1e3),c=e.streamID;this.stateCenter.testEnvironment&&(c=\"zegotest-\"+this.stateCenter.appid+\"-\"+e.streamID);var u={appid:this.stateCenter.appid,biz_type:0,timestamp:a,seq:this.stateCenter.cdnSeq++,version:1*t.PROTO_VERSION,stream_id:c,pushurl:e.pushUrl};if(this.logger.debug(\"zb.sh.pt send command\"),this.stateCenter.useNetAgent)this.sendBizChannelRequestV2({server:1,location:\"/liveroomcmd/push\",cmd:e.type},u,(function(t){s.logger.info(\"zb.sh.pt receive message\");var o=t||{},a=o.code,c=o.message;a&&0!=a?(s.logger.error(\"zb.sh.pt \"+e.type+\" error code: \"+a+\" \"+c),n(i.errorCodeList.UNKNOWN_SERVER_ERROR,\" cmd: \".concat(e.type,\" \").concat(a,\" \").concat(c))):(s.logger.info(\"zb.sh.pt \"+e.type+\" success\"),r&&r({errorCode:0,extendedData:\"\"}))}),(function(t,r,i,a){var c=\"\";a||(a=o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kUnknownServerError,200===t?(s.logger.info(\"zb.sh.pt error: \"+r),a=o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kUnknownServerError,2001==r?a=o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kInvalidChannelError:2002==r&&(a=o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kBizChannelError),c=\"cmd: \".concat(e.type,\", biz_code: \").concat(r)):c=\"request media server fail, error: \"+t,s.logger.error(\"zb.sh.pt \"+c)),n&&n(a,c)}));else{var d={channel:\"media\",cmd:e.type,req_body:JSON.stringify(u)};this.sendBizChannelRequest(d,(function(t,a,c){if(s.logger.info(\"zb.sh.pt receive message\"),0!=c.length){var u=JSON.parse(c),d=u.code,l=u.message;d&&0!=d?(s.logger.error(\"zb.sh.pt \"+e.type+\" error code: \"+d+\" \"+l),n(i.errorCodeList.UNKNOWN_SERVER_ERROR,\" cmd: \".concat(e.type,\" \").concat(d,\" \").concat(l))):(s.logger.info(\"zb.sh.pt \"+e.type+\" success\"),r&&r({errorCode:0,extendedData:\"\"}))}else n(o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kNoResponseError)}),(function(t,r,i){s.logger.info(\"zb.sh.pt error: \"+t);var a=o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kUnknownServerError;2001==t?a=o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kInvalidChannelError:2002==t&&(a=o.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kBizChannelError),s.logger.error(\"zb.sh.pt \"),n(a,\" cmd: \".concat(e.type,\" \").concat(t,\" \").concat(\"\",\"  \"))}))}},updateStreamExtraInfo:function(e,r,i,n){this.logger.info(\"zb.sh.usei call\");var s=t.ENUM_STREAM_SUB_CMD.liveUpdate;this.stateCenter.publishStreamList[e]&&this.stateCenter.publishStreamList[e].state>=t.ENUM_PUBLISH_STREAM_STATE.update_info?(this.stateCenter.publishStreamList[e].extra_info=r,this.updateStreamInfo(e,s,r),i({errorCode:0})):this.stateCenter.publishStreamList[e]&&this.stateCenter.publishStreamList[e].state===t.ENUM_PUBLISH_STREAM_STATE.tryPublish?(this.stateCenter.publishStreamList[e].extra_info=r,i({errorCode:0})):n(o.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kUpdateStreamInfoFailError)},setStreamExtraInfo:function(e,t,r,i){this.updateStreamExtraInfo(e,t,r,i)}}},6305:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={NOT_LOGIN:{code:1000002,message:\"not login room\"},INPUT_PARAM:{code:1100001,message:\"input param error.\"},PUBLISH_NOT_PUBLISH:{code:1103040,message:\"publisher not found\"},PUBLISH_NO_PREVIEW:{code:1103044,message:\"stream is not from zego\"},TRACK_NOT_FOUND:{code:1103047,message:\"track is not found\"},DEVICE_NOT_FOUND:{code:1103048,message:\"device is not found\"},PUBLISHER_CONSTRAINTS_ERROR:{code:1103029,message:\"constraint error\"},PUBLISHER_CDN_PUSH_ERROR:{code:1103052,message:\"publisher cdn push error\"},VIDEO_DEVICE_FALSE:{code:1103045,message:\"video is false\"},AUDIO_DEVICE_FALSE:{code:1103046,message:\"audio is false\"},UNKNOWN_SERVER_ERROR:{code:1100999,message:\"unknown server error\"},LOCALSTREAM_WRONG:{code:1000018,message:\"local stream wrong\"},PUBLISHER_STREAM_NO_FOUND:{code:1103055,message:\"publish stream no found\"},PUBLISH_TARGET_NO_RESPONSE:{code:1103063,message:\"publish target no response\"},BIZ_CHANNEL_ERROR:{code:1102021,message:\"biz channel error.\"},INVALID_CHANNEL:{code:1102024,message:\"invalid channel\"},PUBLISHER_EXTRA_INFO_NULL:{code:1003050,message:\"extra info of publishing stream is null\"},PUBLISHER_UPDATE_STREAM_INFO_FAIL:{code:1103062,message:\"update stream info fail\"},TRACK_CAN_NOT_ADD:{code:1103063,message:\"only stream which have one track and kind no exist can add track\"},TRACK_CAN_NOT_REMOVE:{code:1103064,message:\"stream which only has one track can not remove \"},PUBLISHER_UPDATE_SDP_FAIL:{code:1103068,message:\"update sdp fail\"},PUBLISHER_STATE_WRONG:{code:1103069,message:\"publisher state wrong\"},HANDLE_TRACK_NOT_SUPPORTED:{code:1103070,message:\"not support remove track\"},VIDEO_EFFECT_IS_RUNNING:{code:1103071,message:\"video effect processor is running\"}}},2656:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(6755),o=r(5610);t.default={type:\"StreamCommon\",install:function(e,t,r){for(var n in Object.defineProperty(t.prototype,\"initStreamCommon\",{value:function(){this.streamCommonModule=new i.AdvancedModule(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),o.zegoWebRTC)Object.defineProperty(e.prototype,n,{value:o.zegoWebRTC[n],writable:!1});for(var n in o.streamHandler)Object.defineProperty(r.prototype,n,{value:o.streamHandler[n],writable:!1})}}},9304:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoRTCLogEvent=void 0;var i=r(6305),o=function(e){return e};t.ZegoRTCLogEvent={kZegoTaskPublishTarget:{event:\"/sdk/publish_target\",error:{kParamError:i.errorCodeList.INPUT_PARAM,kPublishStreamNoFoundError:i.errorCodeList.PUBLISHER_STREAM_NO_FOUND,kNoLoginError:i.errorCodeList.NOT_LOGIN,kNoResponseError:i.errorCodeList.PUBLISH_TARGET_NO_RESPONSE,kBizChannelError:i.errorCodeList.BIZ_CHANNEL_ERROR,kInvalidChannelError:i.errorCodeList.INVALID_CHANNEL,kUnknownServerError:i.errorCodeList.UNKNOWN_SERVER_ERROR}},kZegoTaskAddPublishCdnUrl:{event:\"/sdk/add_publish_cdn_url\",error:{kParamError:i.errorCodeList.INPUT_PARAM}},kZegoTaskRemovePublishCdnUrl:{event:\"/sdk/remove_publish_cdn_url\",error:{kParamError:i.errorCodeList.INPUT_PARAM},stream:o,target_url:o},kZegoTaskClearPublishCdnUrl:{event:\"/sdk/clear_publish_cdn_url\",error:{kParamError:i.errorCodeList.INPUT_PARAM}},kZegoTaskLiveRoomSendStreamExtraInfo:{event:\"/liveroom/send_stream_extra_info\",error:{kParamError:i.errorCodeList.INPUT_PARAM,kExtraInfoNullError:i.errorCodeList.PUBLISHER_EXTRA_INFO_NULL,kNoLoginError:i.errorCodeList.NOT_LOGIN,kPublishStreamNoFoundError:i.errorCodeList.PUBLISHER_STREAM_NO_FOUND,kUpdateStreamInfoFailError:i.errorCodeList.PUBLISHER_UPDATE_STREAM_INFO_FAIL},stream:o,stream_extra_info:o,room_sid:o}}},3734:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.preview=t.zegoWebRTC=void 0;var a=s(r(434)),c=r(3788);t.zegoWebRTC={setBeautyEffect:function(e,t,r,o){var n=this;return void 0===o&&(o=!0),new Promise((function(s,a){var u,d;if(!(e instanceof MediaStream))return n.logger.error(\"zc.p.0.sbe.0 localStream not found\"),void a({errorCode:1100001,extendedData:\" localStream no found\"});var l=function(e){s(e)},h=n.streamCenter.checkPreview(e);if(!h)return n.logger.error(\"zc.sbe.0 preview no found\"),void l({errorCode:c.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:c.errorCodeList.PUBLISH_NO_PREVIEW.message});var p=(null===(u=h.videoEffect)||void 0===u?void 0:u.stateFlag)||{base:!1,lowLight:!1};if(o)!(t=!!t)&&p.lowLight?r={sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:p.lowLight?1:0}:t&&(r=i({lowlightEnhancement:p.lowLight?1:0},r)),p.base=t;else{var g=r.lowlightEnhancement;r=(null===(d=h.videoEffect)||void 0===d?void 0:d.enabled)||1!==g?{lowlightEnhancement:g}:{sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:g},p.lowLight=1===g}h.setBeautyEffect(p.base||p.lowLight,r,p).then((function(){l({errorCode:0,extendedData:\"\"})})).catch((function(e){a({errorCode:e.errorCode||-1,extendedData:e.extendedData||e.toString()})}))}))},setLowlightEnhance:function(e,t){return this.setBeautyEffect(e,!0,{lowlightEnhancement:t},!1)}},t.preview={setBeautyEffect:function(e,t,r){return o(this,void 0,void 0,(function(){var i,s=this;return n(this,(function(u){switch(u.label){case 0:if(!this.videoTrack)return this.logger.error(\"zc.p.0.sbe.0 video track no found\"),[2];if(!(\"undefined\"!=typeof WebGLRenderingContext))throw{errorCode:(i=c.errorCodeList.VIDEO_EFFECT_NOT_SUPPORT).code,extendedData:i.message};return a.default?this.videoEffect?this.videoTrack===this.videoEffect.input?[3,2]:[4,this.videoEffect.setInput(this.videoTrack)]:[3,4]:[3,7];case 1:u.sent(),u.label=2;case 2:return[4,this.videoEffect.setBeautyEffectOptions(e,t)];case 3:return u.sent(),this.videoEffect.stateFlag=r,[3,6];case 4:return this.videoEffect=new a.default(this.logger,this.videoTrack),this.videoEffect.onError=function(e,t){s.stateCenter.actionListener(\"beautyEffectError\",s.localStream,e.errorCode,e.extendedData,t)},this.videoEffect.onOutputChange=function(e){return o(s,void 0,void 0,(function(){var t,r;return n(this,(function(i){return this.videoTrack&&this.localStream&&(t=this.videoTrack,e&&(t=e),this.localStream.getVideoTracks()[0]!==t&&((r=this.streamCenter.getPublishList(this.localStream)).map((function(e){return e.publisher})).forEach((function(e){e&&e.previewer&&e.replacePublishedTrack(t,!0)})),0===r.length&&this.replacePreviewTrack(t,!!e))),[2]}))}))},[4,this.videoEffect.setBeautyEffectOptions(e,t)];case 5:u.sent(),this.videoEffect.stateFlag=r,u.label=6;case 6:return[3,8];case 7:this.logger.error(\"zc.p.0.sbe.0 beauty effect module no found\"),u.label=8;case 8:return[2]}}))}))}}},7895:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.PUBLISH_SET_BEAUTY_EFFECT=void 0;var s=n(r(9720)),a=n(r(7341)),c=n(r(1640)),u=n(r(8841));t.PUBLISH_SET_BEAUTY_EFFECT=\"zc.p.0.sbe.2\";var d=r(3788).errorCodeList.VIDEO_EFFECT_NOT_SUPPORT,l={errorCode:d.code,extendedData:d.message},h=function(){function e(e){this.logger=e,this.gl=null,this.effectConfig={sharpenIntensity:.5,whitenIntensity:.5,rosyIntensity:.5,smoothIntensity:.5,lowlightEnhancement:0},this.originResolution={width:0,height:0},this.shaderList=[],this.frameBufferList=[],this.outputTextureList=[],this.inputTexture=null,this.failedTimes=0,this.onRenderError=function(e){},this.enableBeauty=!1}return e.prototype.setEnableBeauty=function(e){this.enableBeauty=!!e},e.prototype.handleInitError=function(){this.failedTimes++,this.failedTimes>30&&(this.failedTimes=0,this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" get webgl context failed\"),this.onRenderError(l))},e.prototype.init=function(e,r,n){return i(this,void 0,void 0,(function(){var i,d,h,p;return o(this,(function(o){switch(o.label){case 0:return void 0!==window.WebGLRenderingContext?(this.canvasEl=n,this.gl=n.getContext(\"webgl\"),this.gl?(this.initGL(e,r),this.inputTexture?[4,(i=new c.default(this.gl,e,r)).setConstUniforms()]:(this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" input texture not found\"),this.handleInitError(),[2])):(this.handleInitError(),[2])):(this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" not support webgl!\"),this.onRenderError(l),[2]);case 1:return o.sent(),(d=new s.default(this.gl,e,r)).setConstUniforms(),(h=new a.default(this.gl,e,r)).setConstUniforms(),(p=new u.default(this.gl,e,r)).setConstUniforms(),this.shaderList=[i,d,h,p],this.setEffectConfig(this.effectConfig),[2]}}))}))},e.prototype.render=function(e){return i(this,void 0,void 0,(function(){var r,i,n,s,a=this;return o(this,(function(o){switch(o.label){case 0:return(r=this.gl)&&this.canvasEl&&!r.isContextLost()?[3,4]:this.canvasEl?(this.logger.warn(t.PUBLISH_SET_BEAUTY_EFFECT+\" gl lost, restart effect\"),this.release(),[4,this.init(e.videoWidth,e.videoHeight,this.canvasEl)]):[3,2];case 1:return o.sent(),[3,3];case 2:this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" canvas lost\"),this.onRenderError(l),o.label=3;case 3:return[2];case 4:return(this.originResolution.height!==e.videoHeight||this.originResolution.width!==e.videoWidth)&&(Math.abs(this.originResolution.height-e.videoHeight)>2||Math.abs(this.originResolution.width-e.videoWidth)>2)?0===e.videoHeight||0===e.videoWidth?[2]:(this.canvasEl.width=e.videoWidth,this.canvasEl.height=e.videoHeight,e.setAttribute(\"width\",e.videoWidth.toString()),e.setAttribute(\"height\",e.videoHeight.toString()),!this.gl||this.gl.isContextLost()?[3,5]:(this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" resolution changed to \".concat(e.videoWidth,\"x\").concat(e.videoHeight,\", reset resolution.\")),this.resetResolution(e.videoWidth,e.videoHeight),this.shaderList.forEach((function(t){t.resetResolution(e.videoWidth,e.videoHeight)})),[3,7])):[3,7];case 5:return this.logger.warn(t.PUBLISH_SET_BEAUTY_EFFECT+\" resolution changed and gl context lost, restart effect\"),this.release(),[4,this.init(e.videoWidth,e.videoHeight,this.canvasEl)];case 6:o.sent(),o.label=7;case 7:return i=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],n=[0,1,2,0,2,3],s=[0,0,1,0,1,1,0,1],r.viewport(0,0,e.width,e.height),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.inputTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),this.shaderList.forEach((function(e,t){var o=e.program;if(o){e.renderPreTextures&&e.renderPreTextures(i,n,s),r.useProgram(o),e.render();var c=r.getUniformLocation(o,\"uTexture\"),u=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,new Float32Array(i),r.STATIC_DRAW);var d=r.createBuffer();r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,d),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),r.STATIC_DRAW);var l=r.getAttribLocation(o,\"aPosition\");r.enableVertexAttribArray(l),r.vertexAttribPointer(l,3,r.FLOAT,!1,0,0);var h=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,h),r.bufferData(r.ARRAY_BUFFER,new Float32Array(s),r.STATIC_DRAW);var p=r.getAttribLocation(o,\"aTexCoordinate\");r.enableVertexAttribArray(p),r.vertexAttribPointer(p,2,r.FLOAT,!1,0,0);var g=t===a.shaderList.length-1?null:a.outputTextureList[t];r.bindFramebuffer(r.FRAMEBUFFER,t===a.shaderList.length-1?null:a.frameBufferList[t]),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),r.activeTexture(r.TEXTURE0),g&&r.bindTexture(r.TEXTURE_2D,g),r.uniform1i(c,0)}})),[2]}}))}))},e.prototype.setEffectConfig=function(e){var t=this;isNaN(e.sharpenIntensity)||(this.effectConfig.sharpenIntensity=e.sharpenIntensity),isNaN(e.whitenIntensity)||(this.effectConfig.whitenIntensity=e.whitenIntensity),isNaN(e.rosyIntensity)||(this.effectConfig.rosyIntensity=e.rosyIntensity),isNaN(e.smoothIntensity)||(this.effectConfig.smoothIntensity=e.smoothIntensity),isNaN(e.lowlightEnhancement)||(this.effectConfig.lowlightEnhancement=e.lowlightEnhancement),this.shaderList.forEach((function(e){e.setEffectConfig(t.effectConfig)}))},e.prototype.release=function(){var e,t=this;this.shaderList.forEach((function(e){var r;e.program&&(null===(r=t.gl)||void 0===r||r.deleteProgram(e.program))})),this.outputTextureList.forEach((function(e){var r;e&&(null===(r=t.gl)||void 0===r||r.deleteTexture(e))})),this.frameBufferList.forEach((function(e){var r;e&&(null===(r=t.gl)||void 0===r||r.deleteFramebuffer(e))})),this.inputTexture&&(null===(e=this.gl)||void 0===e||e.deleteTexture(this.inputTexture)),this.inputTexture=this.gl=null,this.shaderList.forEach((function(e){e.release()})),this.shaderList=[],this.outputTextureList=[],this.frameBufferList=[]},e.prototype.initGL=function(e,r){var i=this.gl;if(!i)return this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" webgl context not found\");this.inputTexture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.inputTexture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR);for(var o=0;4>o;o++){var n=i.createTexture();if(!n)return this.logger.warn(t.PUBLISH_SET_BEAUTY_EFFECT+\" create texture failed\");i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e,r,0,i.RGBA,i.UNSIGNED_BYTE,null);var s=i.createFramebuffer();if(!s)return this.logger.warn(t.PUBLISH_SET_BEAUTY_EFFECT+\" create frame buffer failed\");i.bindFramebuffer(i.FRAMEBUFFER,s),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n,0),this.outputTextureList.push(n),this.frameBufferList.push(s)}i.viewport(0,0,e,r),this.originResolution.width=e,this.originResolution.height=r},e.prototype.resetResolution=function(e,r){var i=this.gl;if(!i)return this.logger.warn(t.PUBLISH_SET_BEAUTY_EFFECT+\" can not find webgl context\");for(var o=0;o<this.outputTextureList.length;o++){i.bindTexture(i.TEXTURE_2D,this.outputTextureList[o]),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e,r,0,i.RGBA,i.UNSIGNED_BYTE,null)}i.viewport(0,0,e,r),this.originResolution.width=e,this.originResolution.height=r},e}();t.default=h},3788:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={VIDEO_EFFECT_NOT_SUPPORT:{code:1103072,message:\"not support beauty effect\"},VIDEO_TRACK_NOT_READABLE:{code:1103074,message:\"video track is not readable\"},VIDEO_TRACK_OVERLOAD:{code:1103075,message:\"beauty effect overload\"},PUBLISH_NO_PREVIEW:{code:1103044,message:\"stream is not from zego\"}}},9978:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BeautyEffect=void 0;var i=r(3734);t.BeautyEffect={type:\"BeautyEffect\",install:function(e,t){for(var r in i.preview)Object.defineProperty(t.prototype,r,{value:i.preview[r],writable:!1});for(var r in i.zegoWebRTC)Object.defineProperty(e.prototype,r,{value:i.zegoWebRTC[r],writable:!1})}}},102:function(e,t){\"use strict\";var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e){this.logger=e,this.recordedFrameCount=0,this.targetFrameRate=0,this.recordingDuration=0}return e.prototype.startRecordBeautyEffectOutput=function(e){return r(this,void 0,void 0,(function(){var t,r,o,n=this;return i(this,(function(i){switch(i.label){case 0:return t=6,this.recordID?(this.logger.warn(\"zc.p.0.sbe.3 detector is already recording\"),[2,{result:!0}]):(r=(new Date).getTime(),this.recordID=r,this.targetFrameRate=e,this.recordedFrameCount=0,this.recordingDuration=t,[4,new Promise((function(e){window.setTimeout(e,1e3*n.recordingDuration)}))]);case 1:return i.sent(),this.recordID!==r?(this.recordID=void 0,[2,{result:!0}]):(this.recordID=void 0,o=this.recordedFrameCount/t,this.recordedFrameCount<this.targetFrameRate*this.recordingDuration/2?(this.logger.warn(\"zc.p.0.sbe.3 detect effect overload: current fps: \"+o),[2,{result:!1,targetFPS:this.targetFrameRate,currentFPS:o}]):(this.logger.info(\"zc.p.0.sbe.3 detect effect current fps: \"+o),[2,{result:!0}]))}}))}))},e.prototype.stopRecordBeautyEffectOutput=function(){this.recordedFrameCount=this.targetFrameRate=0,this.recordID=void 0},e.prototype.addFrame=function(){this.recordID&&(this.recordedFrameCount+=1)},e}();t.default=o},2573:function(e,t){\"use strict\";function r(e){for(var t=e,r=\"\",i=0;i<t.length;i++){var o=t.charCodeAt(i),n=o;o>=65&&o<=90&&(n=(o-65-13+26)%26+65),o>=97&&o<=122&&(n=(o-97-13+26)%26+97),r+=String.fromCharCode(n)}return r}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t,r){this.gl=e,this.width=t,this.height=r,this.type=\"baseShader\",this.program=null,this.program=null}return e.prototype.setEffectConfig=function(e){},e.prototype.setConstUniforms=function(){},e.prototype.resetResolution=function(e,t){this.width=e||this.width,this.height=t||this.height},e.prototype.render=function(){},e.prototype.renderPreTextures=function(e,t,r){},e.prototype.makeProgram=function(e,t){var i=this.gl,o=r(e),n=r(t),s=this.makeShader(o,i.VERTEX_SHADER),a=this.makeShader(n,i.FRAGMENT_SHADER),c=i.createProgram();return i.attachShader(c,s),i.attachShader(c,a),i.linkProgram(c),i.getProgramParameter(c,i.LINK_STATUS),c},e.prototype.release=function(){},e.prototype.makeShader=function(e,t){var r=this.gl,i=r.createShader(t);return r.shaderSource(i,e),r.compileShader(i),r.getShaderParameter(i,r.COMPILE_STATUS),i},e}();t.default=i},9720:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var s=n(r(2573)),a=r(7236),c=function(e){function t(t,r,i){var o=e.call(this,t,r,i)||this;return o.width=r,o.height=i,o.type=\"BlurShader\",o.blurXProgram=null,o.blurYProgram=null,o.diffProgram=null,o.uIntensity=null,o.smoothIntensity=.5,o.blurTextureList=[],o.blurBufferList=[],o.blurXProgram=o.makeProgram(a.borderBlurVS,a.borderBlurFS),o.setBorderBlurProgram(o.blurXProgram,1/(r||1),0),o.blurYProgram=o.makeProgram(a.borderBlurVS,a.borderBlurFS),o.setBorderBlurProgram(o.blurYProgram,0,1/(i||1)),o.diffProgram=o.makeProgram(a.diffBlurVS,a.diffBlurFS),o.setDiffBlurProgram(o.diffProgram),o.program=o.makeProgram(a.mixBlurVS,a.mixBlurFS),o.initBlurBuffer(),o}return o(t,e),t.prototype.setEffectConfig=function(e){isNaN(e.smoothIntensity)||(this.smoothIntensity=e.smoothIntensity/100)},t.prototype.render=function(){this.gl.uniform1f(this.uIntensity,this.smoothIntensity)},t.prototype.initBlurBuffer=function(){var e=this,t=this.gl;this.blurTextureList.forEach((function(t){var r;t&&(null===(r=e.gl)||void 0===r||r.deleteTexture(t))})),this.blurBufferList.forEach((function(t){var r;t&&(null===(r=e.gl)||void 0===r||r.deleteFramebuffer(t))})),this.blurTextureList=[],this.blurBufferList=[];for(var r=0;r<3;r++){var i=t.createTexture();if(!i)return;t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null);var o=t.createFramebuffer();if(!o)return;t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),this.blurTextureList.push(i),this.blurBufferList.push(o)}},t.prototype.renderPreTextures=function(e,t,r){var i=this,o=this.gl,n=[0,1,0],s=[1,1,2];[this.blurXProgram,this.blurYProgram,this.diffProgram].forEach((function(a,c){if(a){o.useProgram(a);var u=o.getUniformLocation(a,\"uTexture\");o.uniform1i(u,n[c]);var d=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,d),o.bufferData(o.ARRAY_BUFFER,new Float32Array(e),o.STATIC_DRAW);var l=o.createBuffer();o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,l),o.bufferData(o.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),o.STATIC_DRAW);var h=o.getAttribLocation(a,\"aPosition\");o.enableVertexAttribArray(h),o.vertexAttribPointer(h,3,o.FLOAT,!1,0,0);var p=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,p),o.bufferData(o.ARRAY_BUFFER,new Float32Array(r),o.STATIC_DRAW);var g=o.getAttribLocation(a,\"aTexCoordinate\");o.enableVertexAttribArray(g),o.vertexAttribPointer(g,2,o.FLOAT,!1,0,0),o.bindFramebuffer(o.FRAMEBUFFER,i.blurBufferList[c]),o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0),o.activeTexture(o.TEXTURE0+s[c]),o.bindTexture(o.TEXTURE_2D,i.blurTextureList[c])}}))},t.prototype.setConstUniforms=function(){var e=this.width,t=this.height,r=this.program;if(r){var i=this.gl;i.useProgram(r);var o=i.getUniformLocation(r,\"widthOffset\");i.uniform1f(o,1/e);var n=i.getUniformLocation(r,\"heightOffset\");i.uniform1f(n,1/t),this.uIntensity=i.getUniformLocation(r,\"blurAlpha\"),i.uniform1f(this.uIntensity,this.smoothIntensity);var s=i.getUniformLocation(r,\"blurTexture\");i.uniform1i(s,1);var a=i.getUniformLocation(r,\"blurDiffTexture\");i.uniform1i(a,2)}},t.prototype.resetResolution=function(e,t){this.width=e||this.width,this.height=t||this.height},t.prototype.setBorderBlurProgram=function(e,t,r){var i=this.gl;i.useProgram(e);var o=i.getUniformLocation(e,\"texBlurWidthOffset\");i.uniform1f(o,t);var n=i.getUniformLocation(e,\"texBlurHeightOffset\");i.uniform1f(n,r)},t.prototype.setDiffBlurProgram=function(e){var t=this.gl;t.useProgram(e);var r=t.getUniformLocation(e,\"blurTexture\");t.uniform1i(r,1)},t}(s.default);t.default=c},8688:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.lightLut=void 0,t.lightLut=\"\\ndata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAAAAAB5Gfe6AAAM3mlDQ1BJQ0MgUHJvZmlsZQAAWIWlVwdYU8kWnluS0BJ6lRI60gwoXUqkBpBeBFGJIZBACDEFAbEhiyu4dhHBsqKiKIsdgcWGBQtrB7sLuigo6+IqNixvEopYdt/7vnfzzb3/nXPOnDpnbgBQ5TAFAh4KAMjki4WBUfSEKQmJVNJdIAe0gTKwB8pMlkhAj4gIhSyAn8Vng2+uV+0AkT6v2UnX+pb+rxchhS1iwedxOHJTRKxMAJCJAJC6WQKhGAB5MzhvOlsskOIgiDUyYqJ8IU4CQE5pSFZ6GQWy+Wwhl0UNFDJzqYHMzEwm1dHekRohzErl8r5j9f97ZfIkI7rhUBJlRIfApz20vzCF6SfFrhDvZzH9o4fwk2xuXBjEPgCgJgLxpCiIgyGeKcmIpUNsC3FNqjAgFmIviG9yJEFSPAEATCuPExMPsSHEwfyZYeEQu0PMYYl8EyG2griSw2ZI8wRjhp3nihkxEEN92DNhVpSU3xoAfGIK289/cB5PzcgKkdpgAvFBUXa0/7DNeRzfsEFdeHs6MzgCYguIX7J5gVGD6xD0BOII6ZrwneDH54WFDvpFKGWLZP7Cd0K7mBMjzZkjAEQTsTAmatA2YkwqN4ABcQDEORxhUNSgv8SjAp6szmBMiO+FkqjYQR9JAWx+rHRNaV0sYAr9AwdjRWoCcQgTsEEWmAnvLMAHnYAKRIALsmUoDTBBJhxUaIEtHIGQiw+HEHKIQIaMQwi6RujDElIZAaRkgVTIyYNyw7NUkALlB+Wka2TBIX2Trtstm2MN6bOHw9dwO5DANw7ohXQORJNBh2wmB9qXCZ++cFYCaWkQj9YyKB8hs3XQBuqQ9T1DWrJktjBH5D7b5gvpfJAHZ0TDnuHaOA0fD4cHHop74jSZlBBy5AI72fxE2dyw1s+eS33rGdE6C9o62vvR8RqO4QkoJYbvPOghfyg+ImjNeyiTMST9lZ8r9CRWAkHpskjG9KoRK6gFwhlc1qXlff+StW+1232Rt/DRdSGrlJRv6gLqIlwlXCbcJ1wHVPj8g9BG6IboDuEu/N36blSyRmKQBkfWSAWwv8gNG3LyZFq+tfNzzgbX+WoFBBvhpMtWkVIz4eDKeEQj+ZNALIb3VJm03Ve5C/xab0t+kw6gti89fg5Qa1Qazn6Odhten3RNqSU/lb9CTyCYXpU/wBZ8pkrzwF4c9ioMFNjS9tJ6adtoNbQXtPufOWg3aH/S2mhbIOUptho7hB3BGrBGrBVQ4VsjdgJrkKEarAn+9v1Dhad9p8KlFcMaqmgpVTxUU6Nrf3Rk6aOiJeUfjnD6P9Tr6IqRZux/s2j0Ol92BPbnXUcxpThQSBRrihOFTkEoxvDnSPGByJRiQgmlaENqEMWS4kcZMxKP4VrnDWWY+8X+HrQ4AVKHK4Ev6y5MyCnlYA75+7WP1C+8lHrGHb2rEDLcVdxRPeF7vYj6xc6KhbJcMFsmL5Ltdr5MTvBF/YlkXQjOIFNlOfyObbgh7oAzYAcKB1ScjjvhPkN4sCsN9yVZpnBvSPXC/XBXaR/7oi+w/qv1o3cGm+hOtCT6Ey0/04l+xCBiAHw6SOeJ44jBELtJucTsHLH0kPfNEuQKuWkcMZUOv3LYVAafZW9LdaQ5wNNN+s00+CnwIlL2LYRotbIkwuzBOVx6IwAF+D2lAXThqWoKT2s7qNUFeMAz0x+ed+EgBuZ1OvSDA+0Wwsjmg4WgCJSAFWAtKAebwTZQDWrBfnAYNMEeewZcAJdBG7gDz5Mu8BT0gVdgAEEQEkJG1BFdxAgxR2wQR8QV8UL8kVAkCklAkpE0hI9IkHxkEVKCrELKkS1INbIPaUBOIOeQK8gtpBPpQf5G3qEYqoRqoAaoBToOdUXpaAgag05D09BZaB5aiC5Dy9BKtAatQ0+gF9A2tAN9ivZjAFPEtDBjzA5zxXyxcCwRS8WE2DysGCvFKrFa2ANasGtYB9aLvcWJuDpOxe1gFoPwWJyFz8Ln4UvxcnwnXoefwq/hnXgf/pFAJugTbAjuBAZhCiGNMJtQRCglVBEOEU7DDt1FeEUkErVgflxg3hKI6cQ5xKXEjcQ9xOPEK8SHxH4SiaRLsiF5ksJJTJKYVERaT6ohHSNdJXWR3sgpyhnJOcoFyCXK8eUK5Erldskdlbsq91huQF5F3lzeXT5cPkU+V365/Db5RvlL8l3yAwqqCpYKngoxCukKCxXKFGoVTivcVXihqKhoouimGKnIVVygWKa4V/GsYqfiWyU1JWslX6UkJYnSMqUdSseVbim9IJPJFmQfciJZTF5GriafJN8nv6GoU+wpDEoKZT6lglJHuUp5piyvbK5MV56unKdcqnxA+ZJyr4q8ioWKrwpTZZ5KhUqDyg2VflV1VQfVcNVM1aWqu1TPqXarkdQs1PzVUtQK1baqnVR7qI6pm6r7qrPUF6lvUz+t3qVB1LDUYGika5Ro/KJxUaNPU01zgmacZo5mheYRzQ4tTMtCi6HF01qutV+rXeudtoE2XZutvUS7Vvuq9mudMTo+OmydYp09Om0673Spuv66GbordQ/r3tPD9az1IvVm623SO63XO0ZjjMcY1pjiMfvH3NZH9a31o/Tn6G/Vb9XvNzA0CDQQGKw3OGnQa6hl6GOYbrjG8Khhj5G6kZcR12iN0TGjJ1RNKp3Ko5ZRT1H7jPWNg4wlxluMLxoPmFiaxJoUmOwxuWeqYOpqmmq6xrTZtM/MyGyyWb7ZbrPb5vLmruYc83XmLeavLSwt4i0WWxy26LbUsWRY5lnutrxrRbbytpplVWl1fSxxrOvYjLEbx162Rq2drDnWFdaXbFAbZxuuzUabK7YEWzdbvm2l7Q07JTu6XbbdbrtOey37UPsC+8P2z8aZjUsct3Jcy7iPNCcaD55udxzUHIIdChwaHf52tHZkOVY4Xh9PHh8wfv74+vHPJ9hMYE/YNOGmk7rTZKfFTs1OH5xdnIXOtc49LmYuyS4bXG64arhGuC51PetGcJvkNt+tye2tu7O72H2/+18edh4ZHrs8uidaTmRP3DbxoaeJJ9Nzi2eHF9Ur2etnrw5vY2+md6X3Ax9TnxSfKp/H9LH0dHoN/dkk2iThpEOTXvu6+871Pe6H+QX6Fftd9Ffzj/Uv978fYBKQFrA7oC/QKXBO4PEgQlBI0MqgGwwDBotRzegLdgmeG3wqRCkkOqQ85EGodagwtHEyOjl48urJd8PMw/hhh8NBOCN8dfi9CMuIWRG/RhIjIyIrIh9FOUTlR7VEq0fPiN4V/SpmUszymDuxVrGS2OY45bikuOq41/F+8aviO6aMmzJ3yoUEvQRuQn0iKTEusSqxf6r/1LVTu5KckoqS2qdZTsuZdm663nTe9CMzlGcwZxxIJiTHJ+9Kfs8MZ1Yy+2cyZm6Y2cfyZa1jPU3xSVmT0sP2ZK9iP071TF2V2p3mmbY6rYfjzSnl9HJ9ueXc5+lB6ZvTX2eEZ+zI+MSL5+3JlMtMzmzgq/Ez+KeyDLNysq4IbARFgo5Z7rPWzuoThgirRIhomqherAH/YLZKrCQ/SDqzvbIrst/Mjpt9IEc1h5/TmmuduyT3cV5A3vY5+BzWnOZ84/yF+Z1z6XO3zEPmzZzXPN90fuH8rgWBC3YuVFiYsfC3AlrBqoKXi+IXNRYaFC4ofPhD4A+7iyhFwqIbiz0Wb/4R/5H748Ul45esX/KxOKX4fAmtpLTk/VLW0vM/OfxU9tOnZanLLi53Xr5pBXEFf0X7Su+VO1eprspb9XD15NV1a6hrite8XDtj7bnSCaWb1ymsk6zrKAstq19vtn7F+vflnPK2ikkVezbob1iy4fXGlI1XN/lsqt1ssLlk87ufuT/f3BK4pa7SorJ0K3Fr9tZH2+K2tWx33V5dpVdVUvVhB39Hx86onaeqXaqrd+nvWr4b3S3Z3VOTVHP5F79f6mvtarfs0dpTshfslex9si95X/v+kP3NB1wP1B40P7jhkPqh4jqkLreu7zDncEd9Qv2VhuCG5kaPxkO/2v+6o8m4qeKI5pHlRxWOFh79dCzvWP9xwfHeE2knHjbPaL5zcsrJ66ciT108HXL67JmAMydb6C3HznqebTrnfq7hvOv5wxecL9S1OrUe+s3pt0MXnS/WXXK5VH/Z7XLjlYlXjl71vnrimt+1M9cZ1y+0hbVdaY9tv3kj6UbHzZSb3bd4t57fzr49cGcB/Igvvqdyr/S+/v3K38f+vqfDueNIp19n64PoB3cesh4+/UP0x/uuwkfkR6WPjR5Xdzt2N/UE9Fx+MvVJ11PB04Heoj9V/9zwzOrZwb98/mrtm9LX9Vz4/NPfS1/ovtjxcsLL5v6I/vuvMl8NvC5+o/tm51vXty3v4t89Hpj9nvS+7MPYD40fQz7e/ZT56dN/AC1d8Bx8dIG+AAAAHGlET1QAAAACAAAAAAAAAIAAAAAoAAAAgAAAAIAAAB7VdMrVpAAAHqFJREFUeAHsnHmsnmWZxj9nnBlFUUFcx1FxQ0GsuCG77IsKLavKDrJoQYggIOBgpBQKjYBsEWgxhQoGaiUUSmgpDdghyBIEQpGwhqWhQKCEAoE231zXdd/P897Pu3zntD2HZDJ+f7SHAn/4y7Xdz0fs9f75+SeBfxL4f0zgHb13vvNfm59/WcXPO/7vfHrvfve73vWu/7DPv+fPv9nnna2fJrBBf7KKLEf7X++9D5/V38vPe96z2mqrvds+gJKoiE0m4z84IP3WCqn8w0GAVvDvjTSQ3ofWWuuDa665xhprfOAD73+/aBgO8BCRhERKqWEhmzqaFkLEVAIZxl+tIJeV/sd7n/jPj3/sox/9yIc/BBKOQiwE432r4yN5UCBOpEICtVAq/JiHyl872NgfRw2ln4fBZdA/slIQep9Ze+1PffK/PmEcPvqRRMJUQV1AGAYDVqlwOBC6pjKO+ydTacUiSAPZdBMSqUEMVvzv9db94jpf+PxngeHTzoGCIAjTxFofBAo6RCYJMEQjqcMipNJIzpKEJGilQy5ZPMNg4/9IEk7778Nk0dtgzFfWXw8U1vn85xIG6gHGIIhAIqKgMAgjScPEkd0i0whHck1TJYZG9km/ZAZdPwyfzbAQCVxv4w2/+fWvfXXMV7683pdA4QsJg+RAYxQgmBOMiiALuaSE0YZDLWNMZBr9EvQRf0xA/PcuHOWfrzAc/xd6W26+6cYbbfjNbxDC+hUFqQGuYDxIEBmEzFGRoEPcIsZCMCppsGXt42Gaf0sSsbIxLJFD7ecalu58KcHwrwbB6e24/TZbbbHZJgZhgzGksC61YGJANiAcIIfAQdaQNxATToKiKFBEGAWNhCPGhzGpgHi0DsmkKqFAp/m/f+Cf9Hbd5Xs7br/tVt/ZfNNNNv42lbDBV8eMgRRAwSyBaBAGycE5yBkJBCRBEhFFGwtTRogNjo5uHMEzJFP5Bj/VtNH4y4Aj/9hFofejvXYftzMZbL3lFptturEgMBRkiHW/pGBAMlQYaAtxYFIyIgwEJFEjIVUIRbaIVYkHaMxQwahwNOUhkQSNlESGZgJImUXxQ++g/ff54Z67jd35ezttv+02EALdQCV8XVJgLBgFWAIBmdUAW1Qc6iDqJAKKyEJd0k0jq6Nsl5whaYokLIVIhqETE05v/GEHH7Dvj/baY1cy2GG7bbbacgu6oYAQKEgMhmHtTzMdmhxcES6Jwh7WIJYWVXSmkZG6tehX10ZQRyePOpG6Slqt0zv2qPGHH3IgZLDX7onB1ltCCHADIHyLSmAqQApZCxJDUoMwSA7mCxjDBRFAUBJ1ElEWhS48P21oEEYZonW3DODRINJAstpqvZNPOPaoI35yKGSw9w/23H3cLtLBtltv9R0JQRCSH5yCxeM6X6AnMoYODoyIBIKSqEikzPRd4SUSKlW6SC4ZgkZwy0AeTSLv6U38NRAcfeRPDv3xgfvtAyvsNm6X78MLDAQJYRNTgkGgFEwLTqGJIdnC9eCCaIBoJ2GqSBap6aIFRqs2CrcMweO97+2dPek0IPjF0Uf+9LBDDoIMfpgY7Lj9dttICJshErISFI2QAmJhvXU9Hp1CVAMwWDwEDnRGAUKSCCSiKGoo6iwqGKldO5xCw/gQa59jvYt+99szJpwCBD//2fjDDz2YMoAVdpUOwABm2DK7AZkAJbAfIIVIgcMpi8EjEguKKVlyoCCaIAaSSCisUBseyc0aI3QAjRLH6qv3pl1y4bmTMwI44aD9KQMwGEsv7LjDdttug1TcArEoIQhCikYaImshU1A0AAP3U8LQwaFUhIEwTWhb5XXFpMCHexMfULCP5UT8lRj8w/j0D3XQ8eldfcXUi88/56zTTz3lJKjgqCPghIMPgAxohcQAgWBCqEFIUlAsmCNEQWIoMVRywHzwIaUjwwRRAzEkiYRiEItgk+CTeqf0Zv35ymlTLjrv7DMnEsFxxxx15E/phP33pRWcwXd33CGbYbNNKyWYH9iSY2SIlAsc0bSEegLRkNVADG6LBofsjKo2dI7n7nBNFElRqWKgLnKzShxJF/q9N2/2X66eftklF/7ut5MmnvrfJ/3yuGOOPnI8nXDAfmaF3cbRC8YgCgG5SDskCEoFGsIp6JTowOByoC0KDjkhJIgWEIU76v7IDqlk0chOuSV5RL/3bp9/06wZV14+9ffnnzt50mm/MQQ/G/8TOOHA/c0KuzuDnRiKxsAjwSAgGREKNpgghUyBJWGWSJ4o1JDk0M5BgmiCcHM4iQ5RVCiGYrHGGr2//+22uTdABH+49KLzzjnrDENw7NE/OwJOMBn86Ad77YFakA4QihnC5pspEgIErUYzREkhJQM8gWhwDJaRSknaoslBgugC0U6i7o+AooNF75H771ow78brZlx1+VT44OyMgHl4+KEmg71/qDgYN3ZneCEwUDcwEgoIlEJBQfEYxDAkhtIXxsFAtEiig0QTRQ7OEBdrrtl75tEH7759/pzrZ179x2lTfn/Bub898/QJNMLxx/78KITBYYdABkxENCMisWRg1cCCDBAUCgGCayFRiGJoqqGwhTikJeWV4aUxAERyR7JHC4mA4oO9l559bOG9d9x282yI4IrLLr3ofCH4NRGgFY8cTycoDfaGFfbcvWRgiUAh1CFwLwUK61s6lhSsJ0iBpqiqwlyRbVHnEJxhy7JIy9wcfnf4EcYXmzYUa/XefHnREw/dd+eCW26SCKZefOF550yeNHGCIThGYYBAdBkwDgIDDwSORcai3CA7qB4KCApHdQQoKB49H5sYUjhkOSge2jm4M9oUwSdt++gWTfdoDUWv/+aS5558+P67b7917uxrZ1w1/Q/wAaIAnVghgBMQiCiFffeWFchgF+ZBCgRVA4SQIGzEitzwW6oHKCFLoU4BwZBrgqshqiFjGIJDEREOIh+g0AM/3SQ+1Ov333pl8VOPPHjPHbfNu3HWzKuvvPyyS+ADpGGFgGHAQJQMZAXqYCwZpFCkGVwIyQ0JAkvS/eDZiFgIWqgouBi6McgWQQ8hIPh0nQ4NP7rCJW4cWkh8GAD6y159/ulHF/4dNphzw7Uz/jR92hT4AFFwxmmuAuYhOoGBeCD2ERIRcWDVuPP3vRjUjkhFc0MHhCiFJoXSE+0YJIdhcCitUVdEReIjBNBftvSFZx5/6L67br/1ZokAYfj7CxAFhuDkE084DgiwDOgEymC/fWCFFAe77OzlqEAwISQ3qBwKJUQpwBCqCGxH5gKCoRQDPVFgKF1hGLr04IKogWiSEID+8qUvPvvEw/ffc8df591EEfxx2tRLLkIUTD7zdKrAECAP5QSXQbYCJpIz0EqCGYIQvCEzhOwH3wpcjpmCxSMpBDEMwBDkEDkUxhgKhAHoL3/tpUVPPvLgvXcumD939qyZ11x5xR+mXMwomDypQoBKYC0mGWQrsBacgVYS9nISggqyhMDzAaFQSCGFIw+JJgVGQ4GBjVmpIbSmzUk7MKqTExMiJUSaESksP/YxB9Dvv/7yc08hCO66/bZ5N11PEVwOHzAKzgKC35wiFfzimKMZBnACAvFA7iNZAXEgBiqGncgAgRCEwJXgDSklsB4AwaMRUlA2mhQQjoFCmxiyKYQhcOClqVvTZ3UrhySIZI2PZwD915csfvqxh+6/+46/3jJn9nUzr7lqOnzAKACCiRMyAoYBnIBAVBq0MWA5IhAKIaggGQkbbwQI1pEJAqKxNESg4MGQLJHF0InBbBHzwQZE6YtKERWA/htLnn/m8X88cO/fFiALJQLzwe/OQSEkBMf/4hggMCeYDDwR99wj6gAMGAhioETQUqIQ6hCSH1QQJoWGFkgh5KOeGuSJ4WGwfHAOdRABQP/NV15AFD4oG8y5wURw2aUXX3g+0zAgOPbnCAM4AdOgLoPKCxwIwQzej+YGh+DJWPnBpDAEhUIMNQx1VxRyaOcQAfTffPXFRU8+uvA+2GD+XIjgz1cjDOEDREFAgCMBCBAGdAJ7EWmAcZDjIOcBGAQzZCEMgpBmo0MoteDxGIPBxFBh0FHRwFBw4CsMPnyY46cA0H9r6UvPPYUguOdv/3MrCpEiQBhOQSUqDZMKfnn8ccciDxEG7IQgA19Iu7UxUCpSCHRDE4KSMfghZ6MXZcqFtBiGiSGEpGMo4uGTnywBiMDTDAK0wS1zb5xFEUyfBh9cdD6igIVgcSgEFgYeiEEGXIm77cpuRC9wKFZm8I2QGeRMqOrBotGkUFHAWrDpqI5op1AmpJ2YpoaIoeTwqRqA/rLXXl78zOMIgrvvWDD/ZongT380HzQQIA8ZBnICZRAY7FljkALB67EmhJgJUEIKhToEGqKNwkAxBFMUGBKHOgAQWPL8s088spA2uG3enNkUwVXTkw/OnkwVnMpSPOmXJxxHBAwDTYMKgcdBqQMxUDNwJ/F0KtzQhNAuhUSBlsBqkhZSS+QB2YgGw9Aih7UbAPrLX1/yAqLwoQfuvfP2v5oIMIuumDYVPkAUMA0jAuYhw4CBWMhAB1OdgUIx12NmECIBOyENBSihgFAZIlLIGLwrAwV5IiRkG4YmgP7yN155cdFTj/1DNri1EoH6AD4oEaASmId1J1gr6GiMeVAFAs1QE0KeCRlCSkZO58oQoSLoiEY8yhK5LQer4TMtAPr9N1598bmnH3944X20AbIQdTDjTwzDKahERQFmQTYCETAPmzKQFRiJmYG9IDAU62ao52KEMEAKrVposYSJoamGz7YCwCB4afEzTzzy0P1mAyUBGhFhKB+wECoEJ55wPFoxhUHlBBsHakZjME69IAYeCDRDIQQvSC+HvJstGd0PTSl0U2gVQ8TwuXYA/TeXvvz8s08++o8H2Aa3QgTXQwRoxMsdwblnoxOzCohAeZidkNNAVmAcsBYwD8aNtcORz2k5EDIDj0VFQjcEuyU5G5kK0RCFI3JX1ilENXy+A0D/rddAgEFAGzALWQfXMAzNB0zDiADDQPuw5gTbiLQC46BgoCdFM0NNCO4GRYLKoVBC5QeXQshGSaFJQZbowNAFAARQBk8hCGiDBchCEwEakSJQFKgTJ06wUjxRCMow8GLUTqYVhsfAu0FuKCFYPVR+cCn4CZGksEIU1ukE0F/2+iuIQgTBA3+/i1mIVSQRVD5AFEw+c9LphuBXJ53IYaAwKGWgfUQrtDPwYuAjAgKhxQ0DIJSpEA2RY0EdkavStBDF0A1ABBCFj7IPOQmyCNwHXAUNBKoEq0WfBiYDJiLvpVYdWCCwGYIZJAS5IUVCtkOhhAChHgstFKrhZBS+OAAABgHK4NknH3sYQXCXsrAQASuRCFAIUQVeCUkFPo8oA1rB40C1UGUin9ftZMgMfCMoFuGGARA8FMJWKKQwmMKXBgEgAUahgoA2mH/znNnXX/eXGVejEaddxkrEKmAhVAhOhhGYhzaO8jSQDJiIbgWrhdwLOpoKBl6PvpghhBQJKIe6EjwUBkmhk8K6AwH0WYcvLHr6cQYBbXDrPKyiWdfOvAazSH2AdaxtSASnKQ5/lRFwI6d1pJWsaylaIepAr6rOIJhBQijcgEioQ8ALW4CQpNAwRBuF9YYAAAJLXkAUIghkA2ShRIBGtDCEDy44j/MYnZgR4E6SCjICOxSiDEIcBB3weu4UQnBDN4SaHzKEXBE1Cl8eCgDr8MXnnkEQoA/v5iRwEVQ+8CgoEWgbpUpwJ2QZZCukSNRU5kaiDgoGnoqFECwSBkOgH7qlUFFYf0gAIPDKi4sRBG4D7EKsIiSBiYC7iFHghYBxOOHUX5/y3786Ga3oKshO0EqmDDwRrRl9HnQxiPWoRIAQLBKQi3UIXg9dfijDURS+MjQA1uFLz2MTPWI2QBaiEJkEEgF2EU4kRgHSELOgQFA6wXqRKxlp4ImodaBI9JOppoM8FZWKSQgGQd3gDKpgDBDoh1YpVIYYMwwAIIAyWMQgkA2QhbfMzSKwPrAoUCEYAjyZSAURgTmBvegyMCsoDjoZ5HasdhKEkGKxcEMJwZOxAaEWC8MB0F/2BsrAgoBtcMcCFmISAcPwsilcx0pDdCLGYWoEzsOch9YJCsRKBtYKvpD8XLCbyfMgh6LMkITQ5YYmhOiHIhVkiK8OCwAGwVJFIYOAbaAsTCLAKJAPPApQCB0IPAzohLoMqjhoMsihqHasC6ElEhyCvyhQCYTQLoUNhgegv/xNlAGjEH3INsB5hEJ0EdgomHqpogBpSAQYhw0VHGO1KCcwECEDvqRqI2ok6mjU5cxqzDrIxeCBAAZBCNENVS4OASFL4WvDBIBJ9BqjEEGAPnQbzEtJgGVY+QBpiAuhDUG6lLSO6ARLg8QAt4LHQZ1BLkcPhGQGXU6WCIUQymBsU0KOxq8PGwDrkASwCGQDTIJKBJhFCEP2AXyAKGAhcBkVKshhoIHIZ9RKBihGJaKswMcDXc5BByWDwgyohmFBYD00/PCN4QPov4UyYBQiCB68TzZAIboI0IgIQ94HtgqwDRsIqjxUGNAJTRm4FfSAwjjIDPJIUijKDEEIsR+LlcDVHOzQgPDNFQCgOnzhOQUBbHDPncjCLALMIoUh+sCiQAgwC0wFaRuZCiwM6AQPREsDyUCt4OuAVhiSQUrFuhCqhqxOBz4t6dU9K+FbKwKAdcgoVBCwDSwLTQSYRQpD+ECVyG3IO7EVgW1k1qI7IaSBWyHEQZOBikGBkMyAVEQi1CFgKnkudkHYcIUAGAEFgdkAj2W0geoA21hhCB9YFDAN1YktKrA8ZBi4E3Ip5FYIcRB0kIdiwaA0gydClYsDIHx7xQCwDhmFDAL0YWUDbYKZMxSG2EWqRKWhCqFFBXo8Uy26E0IplFawSGwyUDkWgWD1WBdCFQksh7oSNlpBAEYAUchFsNBtoCzkJpAI+FJgPuCNZIXQYgTbh0TgTrB5pDRQMWYrcCWyFoZgADM0hYCR4ELwSKhD2HhFAeA/LGUZYBNhEaAP78Uy9izEiYgDiWGoPoAPeCPxsYCzoKGCKg/dCdaLKQ2CFRiJQzFIgQAGLUIYAGHFAYjAi4u5CBAEsAGzMIiAYchx7JUIBEzDFgR2JTAPWYsWiE0Z6BUtIKjrQAMhBUJqx4JBNRLcDYyEpIRNVgIACKAMPAgWPuAEVIgSARtRPrBKvJCXcisCGwbMQ3eCBWJKAz0c5IEUGOxRdaMysc7AzFBAwP1YuiFDWBkAKoOXnlcQRBtwFd0wC08lEoH5AJVoUeAITp+odei7QAhSHkYnpFLQ4wnfk/moPgwGKRTrDKp+DG4QhJUCAAIoA26iJzCMgw1wH7kIuAyTDywKpAKLAp5JhkDnsvKQ46h0gtIgy6CbgR9N0EEqBgRCNEOxEVwIdANzcfOVA9BfhjpkFDII0Aa0gbIwicDDEH1AH/BAYCGETkwI+HR2wvFE4GFg0yAFot5OKINohSIStZXFQGO5ZNAhhAhhJQGwDl99WVFofag2YBYGESgMVYlYx0IQo6BAwErwMDAn2KHgB6O/odWskKuxySCEYsWgEkJYSt9ZWQAg8PqrikIsgsoGPA48CSQC94EqsZGGbQiiE1plULOCz4NWBggEM0MFwQazJwKFsOVKA+AgWLpEUfgEbIAgsElg03j29ZxFCEOMAvqAV2KZhtrHjkCvh2xF5qHVYnKCetHTIFlhGAxSMbQwKIWw1SoA6L/1xlJFoQcBRxEnQSEChCFGgfmAz4aKgjALWhDkMEjTQL3INKgnYqgFzYNCB10MqnqkELZeFQCsQ0bhoqefDDbALtR95CKwUcBdpEO5C4HekEMehk6QE0IaWCIGGfhKbGUQQxHNUJnBhbDNKgFQHTIKeRooCFIW3nLzHNsEM3EjIgzNBykKWAgNFUQEpRMUiEEGLVYYggFCsW4GF8K2qwaAdYgy4CZiEOA6uvduLmNkIY/kIILgg9SJrQjYil4JKQzkhAEyyAtJtVDoIA1F6KDOwI+G7VYRgJUBohCLABeyjyJMgtvmJxFcOzOFofsAaZijIJ8IlgVUgSOwZZCcoMcjPSLyMZlpUJOBx4FXI55QUh50MXAzbL+qAPrLVQbaRMEGysIsAjQiwxDjWFHAPsgIzkqHohDo+yQg8EqwM0EXsx6PiIBp4Ecz0oADKceBLyRVY8kgjSTXQdWOO6wyABFAGTAIkg14ICoLlQS8kiUCjgKfhgWCM/1Wzgg4D20fhjBwJ3gvNmTgx8JABraWCzPsuOoAMAhYBopCEdBtgFcCFmIlghSGfDrmOi4RTLLnggEIdCfUZNCwgseBIrFdB3UGO40EAJaBopBBoDbwScBCTCLALGIjZh8MA4HlYQgDrSM+JbfJIFtBcTBcBt8dEQAqA65CI6A2sPOIWTj3JtbBdX9RI+pIVBRkArkTSxVwHpYI9HymZ1QiSGlQyMDjoIrEoXTwvZEBAAK4DGIQ4KUIj2UsxFIECkNEQc0HaRbkgcxrOSJIYZCdkHsxp0EeSDEOUjU2MtG98P0RAsA65C72KOQosklghViJgOdBuw98FtQRlHmoWvT3sw4ZuBUUB4rEgQx2HikAVgbcRB4EHEX33JWyMCcBG1EXkldiNgK3ob0cDkCgWsxO8IVovQgnhHEQrYA46Gawy4gBAAGVgRPgLJQNuAtDErARLQxDJYZZoGUUEfg2UisqDzUQgxNa0sDHgaxQRCJmor5mwnfveEPBRho7duQAsA5fi0GQbJALEdcBr2QPw3ofpDvRxiG/UmQpIguAoMxDPaJyHeVpkAMxJKKsUMVBqoUag3EjCUB1mKJQffjAfXgsy1noSSAR2IVU94EXgsZhJwLlod7SiYDToJEGeSfLCikO2hjsOqIAqjLIfeg2QBZqFWUReBjKB8UwsjtxAAI9nnkY5JFcIMgykBUKBooDVGPWwW4jC4AEuAotCHAfBhuoECkCvJzztYhhGPug2obqxIiAT8jJCI0wGEoGlRUQB6kWMoPdRxiA1aEI6DRAH9IGfCpSIWIaVyKwC6kQQTqS1Ik8EdwIQGDDILWi52GXE8pxUDVjikTUgjMYaQAsgyoKEQRqA74SKAuxirIIrBEhggLBBedbGg5GoPfDHAYxEItS8GJsWsGqkQxGHEAkwNMAfchR5FmIQkwi4DZ2HxiBEAX2ZMRZ0KkCRxDCoBGILgNPxGSFEInUwcgDyAQUBLgPow10IQYR2JkcRZCiQIXQjUBXgudhqMXcCfVi1E5ODPbmt2yIA+pgFADg/5YnRyGDAPchR5FsoOMA95ElgR4KPAyjD2wYZQS8lWtZkIaBXtL5lM4wMCdkBnw6ye9HkkFhBWcwKgAyAZ4GNRtYIZoI8FSSfYAkiKvA0lCdyGXUgcAroRYGGUGXDFIzksHoADACtokQBOpDbwNkIQpRIrgRwzA2oosgPZfYqxk7sQVB1Yo5DEonhHnkMlAiFlZAHOw9SgByECzmcRRtoF3IVdQUQYgCv5FUCG0I0jBQK+rLVX672uqEUgaFFTCU9xktAIkANxGCQH2oNtAkQBYWIvA3QxAIUWCPZiyEtIyiERoIwjIIYZAnYpsMYIV9Rw2AEdAqTEHgowiTwC5EPpdhGNqBlJahCKTnEqWhOpGzwLKA/4XFhFPTnaR3dK8EfsFc1WKxEF0GVTEmK+w3egD6y70M+EpCG6AP1QaaBHwy5SoCAkuCPAryLrKXU6UhC2EIBDkPW53g80gy0KmQrLD/KAJIdYh3IgSB+tBHEWzALOQqSiIoGjH7wKJAaegPJgNUoK+UTAVFGNRLQTJIiXjAqAJQGfCJIAUBryO0ASYBspCFOEAE9nXqxTaMmIYVgjPwYjLxNPyHNjKCjgQNAyKoL4PghDYZHDi6APrL7DJAFCoIog1wHqkQgwjyKEh9YOtYaTgMBLkSWmQwPj0bxDSADA4aZQBVFHoQ8DpCG+BA9CxMIuDLeTWLQh8oCnIaohB8H7epoBtBPhRqMjh4tAGIAJ8IEIUMAl5H0QYqxE4R2HeJlygKmIapE+1KqiHQNjoJ3yU087Dei5UMfjzqAECAlwFXIRcBZ6HaAAdiykKtIjViEAEfS0IlKgqYhj4LhkKQxlGtEzwQKxkcMvoArAwsClMQRBuoEGMdhCRIlah1zChwBOzEOgK9mejbFFOB5WFtILoTfB7xWno7ALAM8EiCd6IqCGADHIiYBMpCm8bVLCpGgfkgR4GpYKUQZCfoUJAMDntbAIAAnolqQYBR5DawQmwVgfvAKpFRwDT0QhikgqIVXQX5Yo4yOPztAZCiMAaB2cAnga8iDkNu46IP3AeqREaBp6GNw6YRdCTwqwQ6wYeBNnJeRz4NTAZvEwASsCjkIrD7kG3gNtBxgPuIz2UFAXs5Tk8FjIISATtR72ZVI/iXKQlBZlBdi+4EBeJP3y4AVgaIwhQE6kO3ASdBWkV1BHg7jz5gFHgaeieuKILSCePfNgB2G3kUahGoDzmKaAM7DhoiSM+m00MlehRUnZgOxVIFvpAblVA64Yj/BQAA//8grTFYAAAMPUlEQVTlm+eOVdcShP3CDAjDAIYBRLZBZGyBSQIHrOsoRzleXSfZBJFEEthYDCCSfEGEEUHH3dVh9Vp7nwH5x5wd5g2m1PVVda99XhrM3N/Tx48e3r/3/zu3b964dvXKX3/+cenC+XNnTp86cfzY0cO///brLz//+L///vD9d99+8/VXX37x+WeffvLxRx9+8P5/3nvv0LvvvP3WwYMH9u/bu3fP7jff3LXzjTde37F9+7atW7ds3rxp48YN69e/9uqr69atXbNm9epVK1euWLF8+bJlS5dOLFmyePErryxatHDhggXj4/Pnz5837+WX586dM2f27NljY7NmzXpp5v7/weDp4ylW4O/bt25cvzr51+U/Ll08f+7s6VMnTxw7euTw76TATyxBVEAlOPQuJDjAEuwhCXaRBK9PI8GqJMGES6AaiATQYGxsbEYFGDx9MvXwwb27qsCVy39eunjh3Nkzp0/SEJACNARQoDIENAU8BDQFB/azBLtJgp0iwbZtW7ds2bypMgWZBK6BjAFLYGMwswIMnj2ZesQK3Ll18/q1SbbBxWSDI7BBPgTJB4eSD4IEO3Zsdwk25EaYXgJ1wpwZFoAUePzowf27DoLSBr/9KjYohgAoiD4IKPh3EigM5s60AINnjkIFQbSBspCHwBQIMCx8oCggGk4nwUrDYcZDABFOmHEBWIGEQrLBZbfBSUqDwEKTQOJA8kB8wCjYpz4oaLhpY8UIdRI4D+fNvAASBg4Cz0OkwXFWgAPxpx89EFMiciQSCWIkJhpaJkKC10IoSioiFHUKYiyOQgAOA0GhNgIGgacBSSAKFJ0gKwWcB6EVVDJxw/qqBFwMJiYyJ4yPj49EAAkDRSE1gmgDqQR5K0q1SGCIPLBITMUIKLBmNEwC0iCWowWjEQBh4J1I8pBrodjAemHZCbQZ5j5IKAg0RDl8IQkWjkgADwNpBAQCtwGaMUgQAjF141COgw+8G4ZAYBzWGyFMwaJRCSBhoCik1YCKMechdgPqhYmFGQm0FgGG0QfaCgwFWTms4FCWBOPhyATwMEAnUhDABmdoN0Ag5iz0IZD1IMsD8oGgwCSgJSn14+kkWDxCASQMgELqRAoCSYNkA92PvBPojpiWRPVBgQJk4otIsGSUAiAMFIW0GjAIog10PUok8C1ZEpFhaD7QSBQUGA0RCLolDZuCiZEKkMKAliMFAbajs26DtB/ZEGg3BgyjD9KtAMeClIlaDuslWDpaAQIKqRMxCPhMwkcCupNoM85IYEMgiejHEvKBtuOAgheSYNmIBXAFCIUKAuShpQGWg0wCZqEMAWCIUqCnAlkQggR0MkIg8LkAK0J1CpaPWgAKA+7FhEK6kjAIOA/VBriTVAJRh0AS0WFI+4FWQzmX4GiGk5FKQGczPheUEqwYvQCqAF3KFARcjN0GfipiFqZOIAsSYGilQFckQUGgoQaClsNSgpUNEMBQSHciA8FzbBCHwGFY6wMEwnQSrGqCAKIAtUIFQcpDZqGUIk+DYkv2IdA9WbbEvBgpDbUW5EZY3QgBFIUFCKINShLo5Ry1yGGYTgXBB+iGwyVY0wwBoICjkBuB5KHvBlka2BDIloxEZBhyKRAfyO24SkNvRjYFa9eubYgApADCgFHIIOBirLUQlUCvBDEQyyGwUiB5ECIxBkJFgnVNEUDikHoxo5AbAUCAtyNRQO6FroA+IKUhYBhqOfY8CChQGnot8FBsjgAZCtEIJA+rNvDtQIYAtYhhONQHeEUZIkGDBGAF6OFIUSgg0Dx87hBwLWIYqg8IBdyL4ANDgdLQM5G3JGJBkwSwMNBOpCCot4Gdy6pDkHxgEtCtAMUoDwR5TtvQKAEsDBIIUIxxKbJz4ZHDdjenXigkkFNJGIJqHmBBUBp6JkKCZgkgYcAo5E4kIMB+yAdTXhCzVqSP6RgCdGNORIVhXSQqCnRD4JsRSdAwATgM6CsCboW8HMmGzLtBqUARBxgCrkUBhtKLzAdAQU5DSNA4ATQMGIW8HHke8sH0+UMQfMCfVVgvslagKPBAIAmaJ4CFAToRGgEeTgQEuQ30YBhIEIaAYBgk4M8K9HKqXxbswLVgawMFyFGoIEhHAgWBvyHqkuwkCEMgR0OLxCgBfWHDj8p0MGmiAAUKEwjqbKCtCBdDuxYpDFMpKFqB05AkaKQAqgBQqCAIeRhsYEuyXEp4CNCNEwwrPkA7xmdWfDqlKWimABYGQCGWI94Ps+3oeFoOhgyBNsPgA9sSvRiRBE0VIEdhAkGVhRqI+RAoDGMpqEMBTUFjBYACdCLQTmQbMn9JEPPQWCjVmEmAexktSApDWRJDHqQFgT+229lcASQM0AqtEaQzCRpB6oX6hSEuJUaCNARyLLFeBB84CnY1WIAMhQEE5RDYcpAPAXfjKgwLHxANmywAK8C9mD8u5dVAN2Q+mgcb2LVMWhEPAb405TigIUhrcupFaMfaCnY3WgCEAZ8IZD1EMc7yMK1HGojYj4wEaQjkUmB5gIc0RcGehgsQUCjLEe6leDkJQ3BUj8b5EIRaJOciKwXwgaJgb9MFyFA4BAS2I0sglkNQwNDyQH2wr/ECGAqlE8UNWUCQeqEcStCKjAQ6BDERCx/sb74ACYU4GAsIuBbWshCBWDMEAsNQCtQHB1ogABQQFOqVpAoCqwRg4ZAhkHMRSkHywcE2CCBhIK3QXg2wGugMoBUxCISFlSHIEhFDkHzwVjsEkDCQSxkaAX9IULGBrEcSiNyKAgmKREx58HZLBNAwSJ2oqkB2KEEg8n6knYCGgN9PQAIrBfDBO20RwMMgLUdxBvxcKL0QgVgdApOA35DwmEpXw9YIkKFQnw/FBTENpBIgEOMQ6ILk6wGGAD441B4BRIGEwpo81GYMFj5/CCQPWiSAhsFQFJoNAgs5EJUE1SEQH7RKgITCSidKC6JUAhxKOBADCfhUEnZE8UG7BIgo1A25yENtxmCht6I0BN6NrRl+0DIBShSWIFAbJBZaK9JOIHfjAMMP2yaAolAvZXg+9BlwG0glcBbmJCh80DoBTIGyE4XtSGwAFnogpmKYD8HH7RNgYL2YD8YCgqwW6s04sZADcegQfNJGAaooDArouVAqgbOQW1HtEHzaSgGGotCPBLIggoUxELM4QCJ+1k4BHATRBWE3EBskFnIg1g/B5y0VwBWoBUG0gbNQW1ExBF+0VQDvxVUF7FaWXo8sEGuG4Mv2CkBD8HgKzyZZGPiZJNiAWciBWDMEX7VYgBoUVtIAlcBZqIEY4+DrNgswDQjUBtKMUQnYBjVD8E2rBRiqgNVC2ACVgFnIgVgOwbftFqBeAc/D8HTCNtAh4ED0O8F3LRegphfzp4XxVgYboBIEFnox/L71AmQozFYDqYXyhso2MBZqK5Ih+KH9AtTbYNKeDWADrwTVIeiAALUKDLFBYKGSoAsCVBXwQ1GwgVeCFIhMgk4IUCiQHs+0FlZsoIHIQ9ANASgM6HOiSjGupIGxMAxBVwSoU0DzsLAB90JlIS/JnRGgqoCBQGqh24ArgbKQq3F3BCgUcBCEUuTNWHshV+MOCRAUCIcizUNsRyhFnAZqA96PuiRAHQq1GCcbeDOW5eBwtwQIQyBXEvnV0eQV5CHe0dkGcQg6JkChgIFA8tBtwM1YWXi0awJEBfxUFvOQ04BtoJXgWOcEcAX4C2N9ORIQ1NrgePcEgAJZK1QQIA9LG5zooABlGCgIJA9RC4MNTnZSALcBu8AeUAUEnIcxDU51U4CggIFAinHFBqc7KoApgB9b8AzopxTIw2iDM10VoEShgKBqg7OdFSBHYSUPLQ3OdVgAswEVggwEmQ3Od1kAV8A6kYAAeWhpcKHTAqgC/oQcQMC1kG1wsdsC5CiMIOA85DS41HEBBs/CtTRuyAwC2KDrAoQw0OUogQA26L4AhkLrRAAB9kPYoAcC5CgUEKAYwwZ9ECBDYQAB5+GVXghACvjDkXQigICL8WQ/BEgo1E7kILjaFwFyFCYQXOuNAKKAvp8mEFzvjwARhQkEN3okQEChdCIGwc0+CZB6MVAIENzqlQAWBrIeAgS3eyZARCFAcKdvAgQUAgR/906AhEIBQf8EcBRiPbzbQwEyFN7rpQABhff7KUBC4YOeCuAofNhXAQyFj3orgKJwqscCCAj6LAAr8KTXAjAK+y0AobDnAgwG/wCbrnNMhT0MDgAAAABJRU5ErkJggg==\"},7341:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var s=n(r(2573)),a=r(7236),c=function(e){function t(t,r,i){var o=e.call(this,t,r,i)||this;return o.width=r,o.height=i,o.type=\"LightShader\",o.uLightIntensity=null,o.uRedIntensity=null,o.whitenIntensity=.5,o.rosyIntensity=.5,o.program=o.makeProgram(a.lightVS,a.lightFS),o}return o(t,e),t.prototype.setEffectConfig=function(e){isNaN(e.whitenIntensity)||(this.whitenIntensity=e.whitenIntensity/100),isNaN(e.rosyIntensity)||(this.rosyIntensity=e.rosyIntensity/100)},t.prototype.render=function(){var e=this.gl;e.uniform1f(this.uLightIntensity,this.whitenIntensity),e.uniform1f(this.uRedIntensity,this.rosyIntensity)},t.prototype.setConstUniforms=function(){var e=this.program;if(e){var t=this.gl;t.useProgram(e),this.uLightIntensity=t.getUniformLocation(e,\"intensity\"),t.uniform1f(this.uLightIntensity,this.whitenIntensity),this.uRedIntensity=t.getUniformLocation(e,\"rosyIntensity\"),t.uniform1f(this.uRedIntensity,this.rosyIntensity);var r=t.getUniformLocation(e,\"uPMVMatrix\");t.uniformMatrix4fv(r,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},t}(s.default);t.default=c},1640:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var c=a(r(2573)),u=r(7236),d=r(8688),l=function(e){function t(t,r,i){var o=e.call(this,t,r,i)||this;return o.width=r,o.height=i,o.type=\"LowLightShader\",o.uIntensity=null,o.lowlightEnhancement=!1,o.lutTex=null,o.lutImg=null,o.lutTexIdx=10,o.uLutTex=null,o.program=o.makeProgram(u.lightEnhanceVS,u.lightEnhanceFS),o}return o(t,e),t.prototype.setEffectConfig=function(e){this.lowlightEnhancement=1===e.lowlightEnhancement},t.prototype.release=function(){this.gl.deleteTexture(this.lutTex)},t.prototype.render=function(){var e=this.gl;e.uniform1f(this.uIntensity,this.lowlightEnhancement?.6:0);var t=this,r=t.program,i=t.width,o=t.height,n=t.lutTex;if(r){var s=e.getUniformLocation(r,\"texelWidth\");e.uniform1f(s,1/i);var a=e.getUniformLocation(r,\"texelHeight\");e.uniform1f(a,1/o),e.activeTexture(e.TEXTURE0+this.lutTexIdx),e.bindTexture(e.TEXTURE_2D,n)}},t.prototype.setConstUniforms=function(){return n(this,void 0,void 0,(function(){var e,t,r,i,o,n,a,c,u,l,h=this;return s(this,(function(s){switch(s.label){case 0:return e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t=[1,1,1,0,-.344,1.772,1.402,-.714,0],r=[.298973,-.168721,.500019,.58706,-.331298,-.41873,.113967,.500019,-.081289],(i=this.program)?((o=this.gl).useProgram(i),this.uIntensity=o.getUniformLocation(i,\"uIntensity\"),n=o.getUniformLocation(i,\"matYUVtoRGB\"),o.uniformMatrix3fv(n,!1,t),a=o.getUniformLocation(i,\"matRGBtoYUV\"),o.uniformMatrix3fv(a,!1,r),c=o.getUniformLocation(i,\"uPMVMatrix\"),o.uniformMatrix4fv(c,!1,e),u=o.getUniformLocation(i,\"inputImageTexture2\"),l=this,[4,new Promise((function(e){var t=o.createTexture(),r=h.lutTexIdx,i=h.lutImg;i||(i=new Image);i.onload=function(){h.lutImg=i,o.activeTexture(o.TEXTURE0+r),o.bindTexture(o.TEXTURE_2D,t),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,o.LUMINANCE,o.UNSIGNED_BYTE,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.uniform1i(u,r),t&&e(t)},i.src=d.lightLut}))]):[2];case 1:return l.lutTex=s.sent(),[2]}}))}))},t}(c.default);t.default=l},7236:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.lightEnhanceFS=t.lightEnhanceVS=t.mixBlurFS=t.mixBlurVS=t.diffBlurFS=t.diffBlurVS=t.borderBlurFS=t.borderBlurVS=t.sharpnessFS=t.sharpnessVS=t.lightFS=t.lightVS=void 0,t.lightVS=\"cerpvfvba uvtuc sybng;\\nnggevohgr irp2 nGrkPbbeqvangr;\\nnggevohgr irp4 nCbfvgvba;\\nhavsbez zng4 hCZIZngevk;\\ninelvat irp2 iGrkPbbeq;\\nibvq znva() {\\n    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\\n    iGrkPbbeq = nGrkPbbeqvangr;\\n}\",t.lightFS=\"cerpvfvba uvtuc sybng;\\ninelvat irp2 iGrkPbbeq;\\nhavsbez fnzcyre2Q hGrkgher;\\nhavsbez sybng vagrafvgl;\\nhavsbez sybng ebflVagrafvgl;\\nirp3 oevtugarffNaqPbagenfg(irp3 pbybe){\\n  sybng v = vagrafvgl * 1.0;\\n  sybng CV = 3.1415926;\\n  sybng O = 0.12 * v;\\n  sybng p = 0.1 * v;\\n  sybng x = gna((45. + 44. * p) / 180.0 * CV);\\n  pbybe = ((pbybe*255.0 - 127.5 * (1.0 - O)) * x + 127.5 * (1.0 + O)) / 255.0;\\n  erghea pbybe;\\n}\\nibvq znva() {\\n  irp4 grkgherPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);\\n  grkgherPbybe = irp4(oevtugarffNaqPbagenfg(grkgherPbybe.eto), grkgherPbybe.j);\\n  grkgherPbybe.e = zva(grkgherPbybe.e + 0.06 * ebflVagrafvgl, 1.0);\\n  ty_SentPbybe = grkgherPbybe;\\n}\",t.sharpnessVS=\"\\nnggevohgr irp4 nCbfvgvba;\\nnggevohgr irp4 nGrkPbbeqvangr;\\nhavsbez sybng vzntrJvqguSnpgbe;\\nhavsbez sybng vzntrUrvtugSnpgbe;\\nhavsbez sybng funecarff; \\ninelvat irp2 iGrkPbbeq;\\ninelvat irp2 yrsgGrkgherPbbeqvangr;\\ninelvat irp2 evtugGrkgherPbbeqvangr;\\ninelvat irp2 gbcGrkgherPbbeqvangr;\\ninelvat irp2 obggbzGrkgherPbbeqvangr;\\ninelvat sybng pragreZhygvcyvre;\\ninelvat sybng rqtrZhygvcyvre;\\nibvq znva() {\\n  ty_Cbfvgvba = nCbfvgvba;\\n  irp2 jvqguFgrc = irp2(vzntrJvqguSnpgbe, 0.0);\\n  irp2 urvtugFgrc = irp2(0.0, vzntrUrvtugSnpgbe);\\n  iGrkPbbeq = nGrkPbbeqvangr.kl;\\n  yrsgGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - jvqguFgrc;\\n  evtugGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + jvqguFgrc;\\n  gbcGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + urvtugFgrc;\\n  obggbzGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - urvtugFgrc;\\n  pragreZhygvcyvre = 1.0 + 4.0 * funecarff;\\n  rqtrZhygvcyvre = funecarff;\\n}\\n\",t.sharpnessFS=\"\\ncerpvfvba uvtuc sybng;\\ninelvat uvtuc irp2 iGrkPbbeq;\\ninelvat uvtuc irp2 yrsgGrkgherPbbeqvangr;\\ninelvat uvtuc irp2 evtugGrkgherPbbeqvangr;\\ninelvat uvtuc irp2 gbcGrkgherPbbeqvangr;\\ninelvat uvtuc irp2 obggbzGrkgherPbbeqvangr;\\ninelvat uvtuc sybng pragreZhygvcyvre;\\ninelvat uvtuc sybng rqtrZhygvcyvre;\\nhavsbez fnzcyre2Q hGrkgher;\\nibvq znva() {\\n  zrqvhzc irp4 nPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);\\n  zrqvhzc irp3 grkgherPbybe = nPbybe.eto;\\n  zrqvhzc irp3 yrsgGrkgherPbybe = grkgher2Q(hGrkgher, yrsgGrkgherPbbeqvangr).eto;\\n  zrqvhzc irp3 evtugGrkgherPbybe = grkgher2Q(hGrkgher, evtugGrkgherPbbeqvangr).eto;\\n  zrqvhzc irp3 gbcGrkgherPbybe = grkgher2Q(hGrkgher, gbcGrkgherPbbeqvangr).eto;\\n  zrqvhzc irp3 obggbzGrkgherPbybe = grkgher2Q(hGrkgher, obggbzGrkgherPbbeqvangr).eto;\\n  ty_SentPbybe = irp4((grkgherPbybe * pragreZhygvcyvre - (yrsgGrkgherPbybe * rqtrZhygvcyvre + evtugGrkgherPbybe * rqtrZhygvcyvre + gbcGrkgherPbybe * rqtrZhygvcyvre + obggbzGrkgherPbybe * rqtrZhygvcyvre)), nPbybe.n);\\n}\",t.borderBlurVS=\"nggevohgr irp4 nCbfvgvba;\\nnggevohgr irp4 nGrkPbbeqvangr;\\nhavsbez uvtuc sybng grkOyheJvqguBssfrg;\\nhavsbez uvtuc sybng grkOyheUrvtugBssfrg;\\ninelvat irp2 i_grkpbbeq0;\\ninelvat irp4 grkgherFuvsg_1;\\ninelvat irp4 grkgherFuvsg_2;\\ninelvat irp4 grkgherFuvsg_3;\\ninelvat irp4 grkgherFuvsg_4;\\nibvq znva()\\n{\\n  ty_Cbfvgvba = nCbfvgvba;\\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\\n\\n  irp2 fvatyrFgrcBssfrg = irp2(grkOyheJvqguBssfrg, grkOyheUrvtugBssfrg)*2.5;\\n\\n  grkgherFuvsg_1 = irp4(nGrkPbbeqvangr.kl - fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + fvatyrFgrcBssfrg);\\n  grkgherFuvsg_2 = irp4(nGrkPbbeqvangr.kl - 2.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 2.0 * fvatyrFgrcBssfrg);\\n  grkgherFuvsg_3 = irp4(nGrkPbbeqvangr.kl - 3.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 3.0 * fvatyrFgrcBssfrg);\\n  grkgherFuvsg_4 = irp4(nGrkPbbeqvangr.kl - 4.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 4.0 * fvatyrFgrcBssfrg);\\n}\",t.borderBlurFS=\"cerpvfvba zrqvhzc sybng;\\nhavsbez fnzcyre2Q hGrkgher;\\ninelvat irp2 i_grkpbbeq0;\\ninelvat uvtuc irp4 grkgherFuvsg_1;\\ninelvat uvtuc irp4 grkgherFuvsg_2;\\ninelvat uvtuc irp4 grkgherFuvsg_3;\\ninelvat uvtuc irp4 grkgherFuvsg_4;\\nibvq znva(ibvq) { \\n  zrqvhzc irp3 fhz = grkgher2Q(hGrkgher, i_grkpbbeq0).eto;\\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.kl).eto;\\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.mj).eto;\\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.kl).eto;\\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.mj).eto;\\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.kl).eto;\\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.mj).eto;\\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.kl).eto;\\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.mj).eto;\\n  ty_SentPbybe = irp4(fhz * 0.1111, 1.0); \\n}\",t.diffBlurVS=\"nggevohgr irp4 nCbfvgvba;\\nnggevohgr irp4 nGrkPbbeqvangr;\\nhavsbez zng4 hCZIZngevk;\\ninelvat irp2 i_grkpbbeq0;\\nibvq znva()\\n{\\n  // ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\\n  ty_Cbfvgvba = nCbfvgvba;\\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\\n}\",t.diffBlurFS=\"cerpvfvba zrqvhzc sybng;\\nhavsbez fnzcyre2Q hGrkgher;\\ninelvat irp2 i_grkpbbeq0;\\nhavsbez fnzcyre2Q oyheGrkgher;\\nibvq znva(ibvq) {\\n  irp4 vPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);\\n  irp4 zrnaPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);\\n  irp4 qvssPbybe = vPbybe - zrnaPbybe;\\n  qvssPbybe.e = zva(qvssPbybe.e * 50.0 * qvssPbybe.e, 1.0);\\n  qvssPbybe.t = zva(qvssPbybe.t * 50.0 * qvssPbybe.t, 1.0);\\n  qvssPbybe.o = zva(qvssPbybe.o * 50.0 * qvssPbybe.o, 1.0);\\n  ty_SentPbybe = irp4(qvssPbybe.eto, 1.0);\\n}\",t.mixBlurVS=\"\\nnggevohgr irp4 nCbfvgvba;\\nnggevohgr irp4 nGrkPbbeqvangr;\\ninelvat irp2 i_grkpbbeq0;\\nhavsbez sybng jvqguBssfrg;\\nhavsbez sybng urvtugBssfrg;\\ninelvat irp2 grkgherFuvsg_1;\\ninelvat irp2 grkgherFuvsg_2;\\ninelvat irp2 grkgherFuvsg_3;\\ninelvat irp2 grkgherFuvsg_4;\\nibvq znva()\\n{\\n  ty_Cbfvgvba = nCbfvgvba;\\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\\n  grkgherFuvsg_1 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,urvtugBssfrg));\\n  grkgherFuvsg_2 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,-urvtugBssfrg));\\n  grkgherFuvsg_3 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,urvtugBssfrg));\\n  grkgherFuvsg_4 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,-urvtugBssfrg));\\n}\\n\",t.mixBlurFS=\"\\ncerpvfvba zrqvhzc sybng;\\nhavsbez fnzcyre2Q hGrkgher;\\ninelvat irp2 i_grkpbbeq0;\\nhavsbez fnzcyre2Q oyheGrkgher;\\nhavsbez fnzcyre2Q oyheQvssGrkgher;\\nhavsbez ybjc sybng oyheNycun;\\nibvq znva(ibvq) {\\n  ybjc irp4 vPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);\\n  ybjc irp4 zrnaPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);\\n  ybjc irp4 inePbybe = grkgher2Q(oyheQvssGrkgher, i_grkpbbeq0);\\n  ybjc sybng nycun = oyheNycun * 1.0;\\n  ybjc sybng gurgn = 0.1;\\n  zrqvhzc sybng c = pynzc((zva(vPbybe.e, zrnaPbybe.e - 0.1) - 0.2) * 4.0, 0.0, 1.0);\\n  zrqvhzc sybng zrnaIne = znk(znk(inePbybe.e, inePbybe.t), inePbybe.o);\\n  zrqvhzc sybng xZva = 0.1;\\n  ybjc irp3 erfhygPbybe;\\n  xZva = (1.0 - zrnaIne / (zrnaIne + gurgn)) * c * nycun;\\n  erfhygPbybe = zvk(vPbybe.eto, zrnaPbybe.eto, xZva);\\n  erfhygPbybe = zvk(vPbybe.eto, erfhygPbybe, zva(1.0,nycun));\\n  ty_SentPbybe = irp4(erfhygPbybe,1.0);\\n}\",t.lightEnhanceVS=\"\\nnggevohgr irp4 nCbfvgvba;\\nnggevohgr irp4 nGrkPbbeqvangr;\\nhavsbez sybng grkryJvqgu;\\nhavsbez sybng grkryUrvtug;\\ninelvat irp2 grkgherPbbeqvangr[9];\\ninelvat irp2 grkgherPbbeqvangr2;\\nhavsbez zng4 hCZIZngevk;\\nibvq znva(){\\n    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\\n    grkgherPbbeqvangr2 = nGrkPbbeqvangr.kl;\\n    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;\\n    irp2 jvqguFgrc = irp2(grkryJvqgu, 0.0);\\n    irp2 urvtugFgrc = irp2(0.0, grkryUrvtug);\\n    irp2 jvqguUrvtugFgrc = irp2(grkryJvqgu, grkryUrvtug);\\n    irp2 jvqguArtngvirUrvtugFgrc = irp2(grkryJvqgu, -grkryUrvtug);\\n    \\n    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;\\n    grkgherPbbeqvangr[1] = nGrkPbbeqvangr.kl - jvqguFgrc;\\n    grkgherPbbeqvangr[2] = nGrkPbbeqvangr.kl + jvqguFgrc;\\n    \\n    grkgherPbbeqvangr[3] = nGrkPbbeqvangr.kl - urvtugFgrc;\\n    grkgherPbbeqvangr[4] = nGrkPbbeqvangr.kl - jvqguUrvtugFgrc;\\n    grkgherPbbeqvangr[5] = nGrkPbbeqvangr.kl + jvqguArtngvirUrvtugFgrc;\\n    \\n    grkgherPbbeqvangr[6] = nGrkPbbeqvangr.kl + urvtugFgrc;\\n    grkgherPbbeqvangr[7] = nGrkPbbeqvangr.kl - jvqguArtngvirUrvtugFgrc;\\n    grkgherPbbeqvangr[8] = nGrkPbbeqvangr.kl + jvqguUrvtugFgrc;\\n}\\n\",t.lightEnhanceFS=\"cerpvfvba uvtuc sybng;\\ninelvat uvtuc irp2 grkgherPbbeqvangr[9];\\ninelvat uvtuc irp2 grkgherPbbeqvangr2;\\nhavsbez fnzcyre2Q hGrkgher;\\nhavsbez fnzcyre2Q vachgVzntrGrkgher2;\\nhavsbez uvtuc zng3 zngLHIgbETO;\\nhavsbez uvtuc zng3 zngETOgbLHI;\\nhavsbez sybng hVagrafvgl;\\npbafg irp3 pbzcIrp = irp3(-0.0/255.0, -128.0/255.0, -128.0/255.0);\\nirp4 eto2lhi(irp4 vachgETO) {\\n    irp3 bhgchgLHI;\\n    bhgchgLHI = zngETOgbLHI * vachgETO.eto;\\n    bhgchgLHI -= pbzcIrp;\\n    erghea irp4(pynzc(bhgchgLHI,\\n                        irp3(0.0, 0.0, 0.0),\\n                        irp3(1.0, 1.0, 1.0)),\\n                        vachgETO.n);\\n}\\nirp2 fnghengvba(irp2 bet, sybng snpgbe) {\\n    irp2 zbq = irp2((bet.k - 128.0/255.0) * snpgbe + 128.0/255.0,\\n                    (bet.l - 128.0/255.0) * snpgbe + 128.0/255.0);\\n    erghea pynzc(zbq, irp2(0.0, 0.0), irp2(1.0, 1.0));\\n}\\nirp4 lhi2eto(irp4 vachgLHI) {\\n    irp3 bhgchgETO;\\n    vachgLHI.eto += pbzcIrp;\\n    bhgchgETO = zngLHIgbETO * vachgLHI.eto;\\n    erghea irp4(pynzc(bhgchgETO,\\n                        irp3(0.0, 0.0, 0.0),\\n                        irp3(1.0, 1.0, 1.0)),\\n                        vachgLHI.n);\\n}\\nibvq znva(){\\n    irp4 lhi[9];\\n    sbe(vag v = 0; v < 9; v++){\\n        lhi[v] = eto2lhi(grkgher2Q(hGrkgher, grkgherPbbeqvangr[v]));\\n    }\\n    sybng fzbbguL = 0.0;\\n    fzbbguL += 1.0*lhi[4].e + 2.0*lhi[3].e + 1.0*lhi[5].e;\\n    fzbbguL += 2.0*lhi[1].e + 4.0*lhi[0].e + 2.0*lhi[2].e;\\n    fzbbguL += 1.0*lhi[7].e + 2.0*lhi[6].e + 1.0*lhi[8].e;\\n    fzbbguL = fzbbguL / 16.0;\\n    sybng bhgchgL = grkgher2Q(vachgVzntrGrkgher2, irp2(fzbbguL, lhi[0].e)).e;\\n    irp3 arjLHI = irp3(zvk(fzbbguL, bhgchgL, hVagrafvgl), lhi[0].to);\\n    ty_SentPbybe = lhi2eto(irp4(arjLHI.eto, lhi[0].n));\\n}\\n\"},8841:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});var s=n(r(2573)),a=r(7236),c=function(e){function t(t,r,i){var o=e.call(this,t,r,i)||this;return o.width=r,o.height=i,o.type=\"SharpnessShader\",o.uIntensity=null,o.sharpenIntensity=.5,o.program=o.makeProgram(a.sharpnessVS,a.sharpnessFS),o}return o(t,e),t.prototype.setEffectConfig=function(e){isNaN(e.sharpenIntensity)||(this.sharpenIntensity=e.sharpenIntensity/100)},t.prototype.render=function(){this.gl.uniform1f(this.uIntensity,.5*this.sharpenIntensity)},t.prototype.resetResolution=function(e,t){this.width=e||this.width,this.height=t||this.height,this.setConstUniforms()},t.prototype.setConstUniforms=function(){var e=this.width,t=this.height,r=this.program;if(r){var i=this.gl;i.useProgram(r);var o=i.getUniformLocation(r,\"imageWidthFactor\");i.uniform1f(o,1/e);var n=i.getUniformLocation(r,\"imageHeightFactor\");i.uniform1f(n,1/t),this.uIntensity=i.getUniformLocation(r,\"sharpness\"),i.uniform1f(this.uIntensity,.5*this.sharpenIntensity)}},t}(s.default);t.default=c},434:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.PUBLISH_SET_BEAUTY_EFFECT=void 0;var s=n(r(102)),a=n(r(7895)),c=r(3788),u=c.errorCodeList.VIDEO_TRACK_NOT_READABLE,d=c.errorCodeList.VIDEO_TRACK_OVERLOAD,l={errorCode:u.code,extendedData:u.message},h={errorCode:d.code,extendedData:d.message};t.PUBLISH_SET_BEAUTY_EFFECT=\"zc.p.0.sbe.1\";var p=function(){function e(e,t){var r=this;this.logger=e,this.kind=\"video\",this._enabled=!1,this.lastRenderTime=0,this.stateFlag={base:!1,lowLight:!1},this.isStarting=!1,this.animationFrameId=0,this.backgroundLoop=null,this.eventHandler={visibilitychange:function(){if(document.hidden){var e=function(){return i(r,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.backgroundLoop=window.setTimeout(e,Math.floor(1e3/this.fps)),!document.hidden&&this.backgroundLoop?(clearTimeout(this.backgroundLoop),this.backgroundLoop=null,[2]):[4,this.renderAFrame()];case 1:return t.sent(),[2]}}))}))};e()}else r.backgroundLoop&&(clearTimeout(r.backgroundLoop),r.backgroundLoop=null)}},this.setInput(t,!0),this.fps=15,this.detector=new s.default(e),this.backgroundLoop&&clearTimeout(this.backgroundLoop),this.backgroundLoop=null,this.lastRenderTime=0,this.manager=new a.default(e),this.manager.onRenderError=function(e){1103072===e.errorCode&&r.stopEffect(),r.onError(e)}}return Object.defineProperty(e.prototype,\"enabled\",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"output\",{get:function(){return this._output},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"options\",{get:function(){return this.manager.effectConfig||{}},enumerable:!1,configurable:!0}),e.prototype.setBeautyEffectOptions=function(e,r){return void 0===r&&(r={}),i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return e&&this.manager.setEffectConfig(r),this.enabled===e?[3,6]:(this.manager.setEnableBeauty(e),this.enabled!==e&&this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" effect enabled \"+e+\"; options: \"+JSON.stringify(r)),this.enabled=e,e?(i=this.input)?[4,this.startEffect()]:[3,2]:[3,3]);case 1:i=o.sent(),o.label=2;case 2:return i,[3,5];case 3:return[4,this.stopEffect()];case 4:o.sent(),o.label=5;case 5:o.label=6;case 6:return[2]}}))}))},e.prototype.startEffect=function(){return i(this,void 0,void 0,(function(){var e,r,n=this;return o(this,(function(s){switch(s.label){case 0:return this.isStarting=!0,this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" call start effect\"),this.input?this.input&&this.output&&this.input!==this.output?(this.logger.warn(t.PUBLISH_SET_BEAUTY_EFFECT+\" video effect is already enabled\"),[2]):[4,this.startWebGLProcessor().catch((function(e){throw n.stopEffect(),e}))]:(this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" start effect failed, input track is null\"),[2]);case 1:return e=s.sent(),[4,this.updateOutput(e)];case 2:return s.sent(),this.enabled=!0,this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" start effect success\"),this.detector.startRecordBeautyEffectOutput(this.fps).then((function(e){!e.result&&n.onError&&n.onError(h,{targetFPS:e.targetFPS,currentFPS:e.currentFPS})})),r=function(){return i(n,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.enabled&&(this.animationFrameId=requestAnimationFrame(r)),[4,this.renderAFrame()];case 1:return e.sent(),[2]}}))}))},this.animationFrameId=requestAnimationFrame(r),document.addEventListener(\"visibilitychange\",this.eventHandler.visibilitychange,!1),this.isStarting=!1,[2]}}))}))},e.prototype.renderAFrame=function(){return i(this,void 0,void 0,(function(){var e,t,r;return o(this,(function(i){switch(i.label){case 0:return e=Date.now(),t=1e3/this.fps,(r=this.lastRenderTime?e-this.lastRenderTime:t)>=t?(this.lastRenderTime=e-(r-t),this.videoEl&&this.videoEl.paused&&this.videoEl.play(),this.enabled&&this.videoEl?this.videoEl.videoWidth>6&&this.videoEl.videoHeight>6?[4,this.manager.render(this.videoEl)]:[3,2]:[3,3]):[3,3];case 1:i.sent(),i.label=2;case 2:this.output&&this.output.requestFrame&&this.output.requestFrame(),this.detector.addFrame(),i.label=3;case 3:return[2]}}))}))},e.prototype.stopEffect=function(){return i(this,void 0,void 0,(function(){var e=this;return o(this,(function(r){switch(r.label){case 0:return this.enabled=!1,this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" call stop effect\"),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this.detector.stopRecordBeautyEffectOutput(),this.manager.release(),[4,this.updateOutput()];case 1:return r.sent(),void 0===this.removeDomTimer&&(this.removeDomTimer=window.setTimeout((function(){!1===e.enabled&&e.destroy()}),18e4)),document.removeEventListener(\"visibilitychange\",this.eventHandler.visibilitychange),[2]}}))}))},e.prototype.destroy=function(){this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" destroy hidden elements\"),this.canvasEl&&this.canvasEl.remove(),this.videoEl&&this.videoEl.remove(),this.videoEl=this.canvasEl=void 0,this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0)},e.prototype.startWebGLProcessor=function(){return i(this,void 0,void 0,(function(){var e,r,i,n,s=this;return o(this,(function(o){switch(o.label){case 0:return this.input?(this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" start webgl processor\"),this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0),this.canvasEl&&this.videoEl?[3,2]:(this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" create elements\"),this.canvasEl&&(this.canvasEl.remove(),this.canvasEl=void 0),this.videoEl&&(this.videoEl.remove(),this.videoEl=void 0),this.canvasEl=document.createElement(\"canvas\"),this.videoEl=document.createElement(\"video\"),this.videoEl.setAttribute(\"autoplay\",\"\"),this.videoEl.setAttribute(\"muted\",\"\"),this.videoEl.muted=!0,this.videoEl.setAttribute(\"playsinline\",\"\"),this.videoEl.setAttribute(\"style\",\"display:none\"),e=new Promise((function(e,r){var i=null,o=function(){i&&clearTimeout(i),s.videoEl&&s.videoEl.removeEventListener(\"playing\",o),e(void 0)};s.videoEl&&s.videoEl.addEventListener(\"playing\",o),i=window.setTimeout((function(){s.logger.warn(t.PUBLISH_SET_BEAUTY_EFFECT+\" video track error\"),r(l)}),1e3)})),this.videoEl.srcObject=new MediaStream([this.input]),this.videoEl.play(),[4,e])):(this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" input track is null\"),[2]);case 1:o.sent(),o.label=2;case 2:if(r=this.input.getSettings(),i=r.width||this.videoEl.videoWidth,n=r.height||this.videoEl.videoHeight,r.frameRate&&this.fps!==r.frameRate&&(this.fps=r.frameRate,this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" set target fps: \"+this.fps)),this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" beauty video processor: width \"+r.width+\" height \"+r.height),!i||!n)throw this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" resolution of track is wrong\"),l;return this.canvasEl.width=i,this.canvasEl.height=n,this.videoEl.setAttribute(\"width\",i.toString()),this.videoEl.setAttribute(\"height\",n.toString()),this.manager.init(i,n,this.canvasEl),[2,this.canvasEl.captureStream().getVideoTracks()[0]]}}))}))},e.prototype.setInput=function(e,r){return void 0===r&&(r=!1),i(this,void 0,void 0,(function(){var i,n;return o(this,(function(o){switch(o.label){case 0:return e===this.input?[3,6]:e.kind!==this.kind?(this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" kind of track is not video\"),[2]):(this.output&&this.input===this.output&&this.logger.error(t.PUBLISH_SET_BEAUTY_EFFECT+\" input track is same as effect track\"),this.logger.info(t.PUBLISH_SET_BEAUTY_EFFECT+\" change input track\"),r?this.input?[4,this.removeInput()]:[3,2]:[3,5]);case 1:o.sent(),o.label=2;case 2:return this.input=e,this.enabled&&!this.videoEl?[4,this.startEffect()]:[3,4];case 3:o.sent(),o.label=4;case 4:return[3,6];case 5:this.input=e,(i=this.videoEl)&&(i.srcObject?((n=i.srcObject).getTracks().forEach((function(e){return n.removeTrack(e)})),n.addTrack(this.input)):i.srcObject=new MediaStream([this.input]),i.play()),o.label=6;case 6:return[2]}}))}))},e.prototype.removeInput=function(){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.input=void 0,[4,this.stopEffect()];case 1:return e.sent(),[2]}}))}))},e.prototype.updateOutput=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.output===e?[3,3]:(this._output=e,this.onOutputChange?[4,this.onOutputChange(this._output)]:[3,2]);case 1:t.sent(),t.label=2;case 2:t.label=3;case 3:return[2]}}))}))},e.prototype.onOutputChange=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))},e.prototype.onError=function(e,t){},e}();t.default=p},6920:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AudioNodeQueue=void 0;var r=function(){function e(e,t){this.source=e,this.destination=t,this.audioNodeList=[],this.source.connect(this.destination)}return Object.defineProperty(e.prototype,\"lastNode\",{get:function(){return this.isEmpty()?null:this.audioNodeList[this.audioNodeList.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"secondToLastNode\",{get:function(){return this.audioNodeList.length<2?null:this.audioNodeList[this.audioNodeList.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"firstNode\",{get:function(){return this.isEmpty()?null:this.audioNodeList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"secondNode\",{get:function(){return this.audioNodeList.length<2?null:this.audioNodeList[1]},enumerable:!1,configurable:!0}),e.prototype.pushBack=function(e){this.lastNode?(this.lastNode.disconnect(),this.lastNode.connect(e),e.connect(this.destination)):(this.source.disconnect(),this.source.connect(e),e.connect(this.destination)),this.audioNodeList.push(e)},e.prototype.popBack=function(){this.lastNode&&(this.lastNode.disconnect(),this.secondToLastNode?(this.secondToLastNode.disconnect(),this.secondToLastNode.connect(this.destination)):(this.source.disconnect(),this.source.connect(this.destination))),this.audioNodeList.pop()},e.prototype.pushFront=function(e){this.source.disconnect(),this.source.connect(e),e.connect(this.firstNode?this.firstNode:this.destination),this.audioNodeList.unshift(e)},e.prototype.popFront=function(){this.source.disconnect(),this.firstNode&&(this.firstNode.disconnect(),this.source.connect(this.secondNode?this.secondNode:this.destination)),this.audioNodeList.shift()},e.prototype.remove=function(e){var t=this.audioNodeList.indexOf(e);if(-1!==t){if(e.disconnect(),t-1>=0){var r=this.audioNodeList[t-1];r.disconnect(),r.connect(this.lastNode!=e?this.audioNodeList[t+1]:this.destination)}else this.source.disconnect(),this.source.connect(this.lastNode!=e?this.audioNodeList[t+1]:this.destination);this.audioNodeList.splice(t,1)}},e.prototype.isConnected=function(e){return-1!==this.audioNodeList.indexOf(e)},e.prototype.isEmpty=function(){return 0===this.audioNodeList.length},e.prototype.replaceSource=function(e){this.source.disconnect(),e.connect(this.firstNode?this.firstNode:this.destination),this.source=e},e.prototype.replaceDestination=function(e){this.lastNode?(this.lastNode.disconnect(),this.lastNode.connect(e)):(this.source.disconnect(),this.source.connect(e)),this.destination=e},e}();t.AudioNodeQueue=r},3608:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ClientUtil=void 0;var i=r(9887),o=r(8335),n=function(){function e(){}return e.checkIllegalCharacters=function(e){return/^([0-9a-zA-Z#!$%&()`'+-;<=.>@^_~,\\\\*])+$/.test(e)&&/^[^:/]*$/g.test(e)},e.isUrl=function(e){return!!(e.startsWith(\"rtmp://\")||e.startsWith(\"avertp://\")||e.startsWith(\"https://\")&&e.endsWith(\".flv\")||e.startsWith(\"https://\")&&e.endsWith(\".m3u8\"))},e.registerCallback=function(e,t,r){t.success&&(r[e+\"SuccessCallback\"]=t.success),t.error&&(r[e+\"ErrorCallback\"]=t.error)},e.actionErrorCallback=function(e,t){return t[e+\"ErrorCallback\"]},e.actionSuccessCallback=function(e,t){return t[e+\"SuccessCallback\"]},e.logReportCallback=function(t,r,i,o){e.registerCallback(t,{success:function(t,o){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];e.dataReportEvent(r,i,t,o,n)}},o)},e.actionLogReportCallback=function(t,r,i,o,n){e.actionSuccessCallback(t,r)&&e.actionSuccessCallback(t,r)(i,o)},e.getServerError=function(e,t,r){if(t)return{code:e,message:r||\"liveroom error\"};var i={1:\"parse json error.\",1001:\"login is processing.\",1002:\"liveroom request error.\",1003:\"zpush connect fail.\",1004:\"zpush handshake fail.\",1005:\"zpush login fail.\",1006:\"user login state is wrong.\",1007:\"got no zpush addr\",1008:\"token error\",1009:\"dispatch error\",1010:\"token expired\",1011:\"token format error\",1013:\"token03 format error\",2002:\"biz channel error\",1e9:\"liveroom cmd error, code:\",1000002001:\"need relogin\",1000002002:\"third token auth error\",1000002003:\"token nonce type should be int64\",1000002004:\"token appid type  should be uint32\",1000002005:\"token timeout type should be int64\",1000002006:\"token user_id type should be string\",1000002007:\"token room_id type should be string\",1000002008:\"token format error\",1000002009:\"token privilege type should be map\",1000002010:\"token expire_time type should be int64\",1000002011:\"token user_id type should be string\",1000002012:\"token not exist\",1000002013:\"token update error\",1000002014:\"token not need to check\"};if(0===e)return{code:0,message:\"\"};var o={code:0,message:\"liveroom cmd error\"};if(o.code=e,e>1e9){var n=i[e];o.message=n?\"liveroom cmd error, code: \"+e+\", message: \"+n:i[1e9]+e}else o.message=i[e]?i[e]+\" code:\"+e:\"unknown error code:\"+e;return o},e.unregisterCallback=function(e,t){delete t[e+\"SuccessCallback\"],delete t[e+\"ErrorCallback\"]},e.decodeServerError=function(e,t){var r={code:-1,message:\"server error\"};return e>1e9&&(r.code=e-1e9+52e6),t&&(r.message=t),r},e.getLiveRoomError=function(e,t){var r={1016:\"MULTI_ROOM_UNABLE\",1105:\"ROOM_MAX_USER_COUNT\",1012:\"PUBLISHER_ERROR_REPETITIVE_PUBLISH_STREAM\",2002:\"TOKEN_ERROR\",2003:\"ROOM_ERROR_LOGIN_TIMEOUT\",2010:\"TOKEN_ERROR\",5022:\"ROOM_COUNT_EXCEED\"};if(t)return e>2e5&&e<3e5?r[e-2e5]:e<2e5?{50116:\"TOKEN_ERROR\",50117:\"TOKEN_EXPIRED\",50118:\"TOKEN_ERROR\",50119:\"TOKEN_ERROR\",50120:\"TOKEN_ERROR\",50121:\"TOKEN_ERROR\",50122:\"TOKEN_ERROR\",50123:\"TOKEN_EXPIRED\",50124:\"TOKEN_ERROR\",50125:\"TOKEN_ERROR\",50126:\"TOKEN_ERROR\",50127:\"TOKEN_ERROR\",50128:\"TOKEN_ERROR\"}[e]||r[e]||\"ROOM_INNER_ERROR\":r[e]||\"ROOM_INNER_ERROR\";return e>1e9?r[e-1e9]||\"\":{1:\"PARSE_JSON_ERROR\",1001:\"LOGIN_PROCESSING\",1002:\"LIVEROMM_REQUEST_ERROR\",1003:\"ZPUSH_REQUEST_FAIL\",1004:\"ZPUSH_REQUEST_FAIL\",1005:\"ZPUSH_REQUEST_FAIL\",1006:\"LOGIN_STATE_WRONG\",1007:\"ZPUSH_REQUEST_FAIL\",1008:\"TOKEN_ERROR\",1009:\"DIAPATCH_ERROR\",1010:\"TOKEN_EXPIRED\",1011:\"TOKEN_ERROR\",1012:\"SUBCMD_ERROR\",1101:\"ZEGO_AUTH_ERROR\",2001:\"BIZ_CHANNEL_ERROR\",2002:\"BIZ_CHANNEL_ERROR\"}[e]||\"ROOM_INNER_ERROR\"},e.getKickoutError=function(e){var t={};switch(e){case 1:t.code=63000001,t.message=\"zpush multiple login kickout\",t.name=\"MULTIPLE_LOGIN_KICKOUT\";break;case 2:t.code=63000002,t.message=\"zpush manual kickout\",t.name=\"MANUAL_KICKOUT\";break;case 3:t.code=63000003,t.message=\"kickout reason = \"+e;break;case 4:t.code=63000004,t.message=\"zpush multiple login kickout\",t.name=\"MULTIPLE_LOGIN_KICKOUT\";break;case 5:t.code=63000005,t.message=\"zpush token expired\",t.name=\"TOKEN_EXPIRED\";break;default:t.code=e,t.message=\"kickout reason = \"+e}return t},e.dataReportEvent=function(e,t,r,i,o){switch(r){case\"eventStart\":e.eventStart(t,i);break;case\"eventEndWithMsgInfo\":e.eventEndWithMsgInfo(t,i,o[0]);break;case\"addEventMsg\":e.addEventMsg(t,i,o[0],o[1]);break;case\"addEvent\":e.addEvent(t,i);break;case\"eventEnd\":e.eventEnd(t,i);break;case\"addMsgInfo\":e.addMsgInfo(t,o[0])}},e.isKeepTryLogin=function(e){switch(e){case 1002:case 1003:return!0;default:return!1}},e.mergeStreamList=function(e,t,r,i){var o,n=[],s=[],a=[];r||(r=[]);for(var c=0;c<r.length;c++)if(r[c].anchor_id_name!=e&&r[c].id_name!=e&&r[c].user_id!=e){o=!1;for(var u=0;u<t.length;u++)if(r[c].stream_id===t[u].stream_id){r[c].extra_info!==t[u].extra_info&&a.push(r[c]),o=!0;break}o||n.push(r[c])}for(var d=0;d<t.length;d++){o=!1;for(var l=0;l<r.length;l++)if(t[d].stream_id===r[l].stream_id){o=!0;break}o||s.push(t[d])}t.splice(0);for(c=0;c<r.length;c++)t.push(r[c]);i(n,s,a)},e.checkInteger=function(e,t){return 0==t?\"number\"==typeof e&&e%1==0&&e>=0:\"number\"==typeof e&&e%1==0&&e>0},e.checkValidNumber=function(e,t,r){return t=t||1,r=r||1e4,\"number\"==typeof e&&e%1==0&&e>=t&&e<=r},e.uuid=function(e,t){var r,i=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".split(\"\"),o=[];if(t=t||i.length,e)for(r=0;r<e;r++)o[r]=i[0|Math.random()*t];else{var n=void 0;for(o[8]=o[13]=o[18]=o[23]=\"-\",o[14]=\"4\",r=0;r<36;r++)o[r]||(n=0|16*Math.random(),o[r]=i[19==r?3&n|8:n])}return o.join(\"\")},e.getDevices=function(e,t){void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((function(t){for(var r=[],i=[],o=[],n=0;n<t.length;n++){var s=t[n];\"audioinput\"===s.kind&&r.push({deviceName:s.label,deviceID:s.deviceId}),\"audiooutput\"===s.kind&&i.push({deviceName:s.label,deviceID:s.deviceId}),\"videoinput\"===s.kind&&o.push({deviceName:s.label,deviceID:s.deviceId})}e&&e({microphones:r,speakers:i,cameras:o})})).catch((function(e){console.error(\"enumerate devices wrong \"+e),t&&t(o.ZegoRTCLogEvent.kZegoTaskEnumDevices.error.kEnumDevicesError)})):t&&t(o.ZegoRTCLogEvent.kZegoTaskEnumDevices.error.kBrowserNotSupportError)},e.getPublisherStateType=function(e){return 0==e||1==e?0==e?\"PUBLISHING\":\"NO_PUBLISH\":\"PUBLISH_REQUESTING\"},e.getPlayerStateType=function(e){return 0==e||1==e?0==e?\"PLAYING\":\"NO_PLAY\":\"PLAY_REQUESTING\"},e.getSteamUpdateType=function(e){return 0==e?\"DELETE\":\"ADD\"},e.checkScreenParams=function(t,r){if(\"object\"==typeof t&&void 0!==t.videoQuality&&!e.checkInteger(t.videoQuality))return r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" videoQuality must be integer number\"),!1;if(\"object\"==typeof t&&void 0!==t.sourceID&&\"string\"!=typeof t.sourceID)return r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" sourceID must be string\"),!1;if(\"object\"==typeof t&&4===t.videoQuality){if(!e.checkCameraOrScreenBitRate(t.bitRate,r))return!1;if(!e.checkParamsWithConstraintExtend(t,r))return!1}return!0},e.checkParamsWithConstraintExtend=function(t,r){for(var i=0,n=[\"frameRate\",\"width\",\"height\"];i<n.length;i++){var s=n[i],a=t[s];if(void 0===a)return r&&r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" \".concat(s,\" is required when videoQuality is 4\")),!1;if(\"number\"==typeof a&&!e.checkInteger(a,!1))return r&&r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" \".concat(s,\" must be integer number\")),!1;if(\"number\"==typeof a&&(\"width\"===s||\"height\"===s)&&a<0)return r&&r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" \".concat(s,\" must greater than 0.\")),!1;if(\"number\"==typeof a&&\"width\"===s&&a>7680)r&&r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" \".concat(s,\" cannot greater than 7680.\"));else if(\"number\"==typeof a&&\"height\"===s&&a>4320)r&&r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" \".concat(s,\" cannot greater than 4320.\"));else if(\"object\"==typeof a){if(\"width\"===s&&!e.checkConstraintExtend(a,s,r,0,7680))return!1;if(\"height\"===s&&!e.checkConstraintExtend(a,s,r,0,4320))return!1;if(\"frameRate\"===s&&!e.checkConstraintExtend(a,s,r))return!1}else if(\"number\"!=typeof a&&\"object\"!=typeof a)return r&&r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" \".concat(s,\" must be number or object\")),!1}return!0},e.checkConstraintExtendWithMessage=function(t,r,i,o){if(\"object\"!=typeof t)return{result:!1,message:\"Invalid constraint. Constraint Extend must be a object\"};if(0===Object.keys(t).length)return{result:!1,message:\"\".concat(r,\" can not be a empty object\")};for(var n=0,s=[\"exact\",\"ideal\",\"max\",\"min\"];n<s.length;n++){var a=s[n],c=t[a];if(\"number\"==typeof c&&!e.checkInteger(c,!1))return{result:!1,message:\" \".concat(a,\" of \").concat(r,\" must be integer number\")};if(\"number\"==typeof i&&\"number\"==typeof c&&c<i)return{result:!1,message:\" \".concat(a,\" of \").concat(r,\" must greater than \").concat(i)};if(\"number\"==typeof o&&\"number\"==typeof c&&c>o)return{result:!1,message:\" \".concat(a,\" of \").concat(r,\" cannot greater than \").concat(o)}}return{result:!0,message:\"Constraint Extend OK.\"}},e.checkConstraintExtend=function(t,r,i,n,s){var a=e.checkConstraintExtendWithMessage(t,r,n,s);return a.result||i&&i(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,a.message),a.result},e.checkBitRateLimit=function(e,t){return!(e>10240)||(t(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" bitrate cannot greater than 10 Mbps\"),!1)},e.checkCameraOrScreenBitRate=function(t,r){if(void 0===t)return r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" bitrate is required when videoQuality is 4\"),!1;if(\"number\"==typeof t){if(!e.checkValidNumber(t,0,10240))return r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" bitrate must be integer number\"),!1;if(!e.checkBitRateLimit(t,r))return!1}else r(o.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" bitrate must be number\");return!0},e.checkCameraParams=function(t,r){return!!e.checkParamsWithConstraintExtend(t,r)&&!!e.checkCameraOrScreenBitRate(t.bitRate,r)},e.isParamEmpty=function(e){return null!=e&&\"\"!==e},e.isTypeString=function(e){return\"string\"==typeof e},e.isTooLong=function(e,t){return!(e.length>=t)},e.isReDispatch=function(e){var t=e.message.match(/action:(\\d+)/),r=t?Number(t[1]):NaN;return[o.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kTTLOverTimeError,o.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kClientIPChangedError,o.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kTTLOverTimeError,o.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kClientIPChangedError].includes(e)||[6].includes(r)},e.arrAvg=function(e,t,r){return e.push(t),e.length>r&&e.shift(),e.reduce((function(e,t){return e+t}))/e.length},e.getNetQuality=function(e,t,r){if(void 0!==r){return.15*this.calcQualityOfJitter(r)+.85*Math.min(this.calcQualityOfRtt(e),this.calcQualityOfLostRate(t,!1))}return Math.min(this.calcQualityOfRtt(e),this.calcQualityOfLostRate(t,!0))},e.calcQualityOfRtt=function(e){return e<600?97-Math.pow(.09*e,1.1):18*Math.exp(.002*(600-e))},e.calcQualityOfJitter=function(e){return e<=50?98-Math.pow(e,1.15):i.QUALITY_CONSTANT.PoorMinQuality},e.calcQualityOfLostRate=function(e,t){if(t){return e<=55?99-Math.pow(.8*e,1.18):i.QUALITY_CONSTANT.PoorMinQuality}var r=100*e;return r<=40?96-Math.pow(r,1.22):i.QUALITY_CONSTANT.PoorMinQuality},e.quality2QualityGrade=function(e){return e>=i.QUALITY_CONSTANT.ExcellentMinQuality?i.QualityGrade.Excellent:e>=i.QUALITY_CONSTANT.GoodMinQuality?i.QualityGrade.Good:e>=i.QUALITY_CONSTANT.MiddleMinQuality?i.QualityGrade.Middle:e>=i.QUALITY_CONSTANT.PoorMinQuality?i.QualityGrade.Poor:i.QualityGrade.Die},e.checkAudioTrackIsActive=function(e){return!!e.enabled},e.checkVideoTrackIsActive=function(e){return!!e.enabled},e.isSupportEncodedTransforms=function(){var e=!!window.RTCRtpScriptTransform;if(!e){var t=!!RTCRtpSender.prototype.createEncodedStreams,r=!1;try{new ReadableStream;r=!0}catch(e){console.error(\"Transferable streams are not supported.\")}e=t&&r}return e},e.uint8arrayToBase64=function(e){for(var t,r=0,i=e.length,o=\"\";r<i;)t=e.subarray(r,Math.min(r+32768,i)),o+=String.fromCharCode.apply(null,Array.from(t)),r+=32768;return btoa(o)},e.isMobile=function(){return!!(navigator.userAgent.match(/Mobi/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone/i))},e}();t.ClientUtil=n},651:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(){this.handlerListMap={}}return e.prototype.addEventHandler=function(e,t){if(this.handlerListMap[e]||(this.handlerListMap[e]=[]),\"function\"!=typeof t)throw new Error(\"Params callBack is not a Function\");return-1==this.handlerListMap[e].indexOf(t)&&this.handlerListMap[e].push(t),!0},e.prototype.removeEventHandler=function(e,t){return!!this.handlerListMap[e]&&(this.handlerListMap[e]=t?this.handlerListMap[e].filter((function(e){return e!==t})):[],!0)},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.handlerListMap[e]&&this.handlerListMap[e].forEach((function(r){try{setTimeout((function(){r.apply(void 0,t)}),0)}catch(t){console.error('Fail to execute callback of event \"'.concat(e,'\" : ').concat(t))}}))},e}();t.default=r},4864:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.H264Parser=void 0;var r=function(){function e(e){this.view=e,this.offset=0,this.current_start_code_size=0,this.current_nalu_start=0,this.current_nalu_size=0,this.start_code_size=0,this.nalu_start=0,this.left_size=0,this.nalu_size=0,this.left_size=e.byteLength}return e.prototype.FindStartCode=function(){var e=this.view.byteLength-this.offset;for(this.current_start_code_size=0,this.current_nalu_start=-1;e>=3;){if(0==this.view.getUint8(this.offset)&&0==this.view.getUint8(this.offset+1)&&1==this.view.getUint8(this.offset+2))return this.current_start_code_size=3,this.current_nalu_start=this.offset,this.offset-1>=0&&0==this.view.getUint8(this.offset-1)&&(++this.current_start_code_size,--this.current_nalu_start),this.offset+=3,!0;--e,++this.offset}return!1},e.prototype.FindNalu=function(){return this.start_code_size=0,this.nalu_start=0,this.nalu_size=0,!(this.offset>=this.view.byteLength)&&(!!this.FindStartCode()&&(this.start_code_size=this.current_start_code_size,this.nalu_start=this.current_nalu_start,!0))},e.prototype.NextNalu=function(e){if(this.start_code_size=0,this.nalu_start=0,this.nalu_size=0,this.offset>=this.view.byteLength)return!1;if(!this.FindStartCode())return!1;if((this.start_code_size=this.current_start_code_size,this.nalu_start=this.current_nalu_start,e)&&6!=(31&this.view.getUint8(this.nalu_start+this.start_code_size)))return!0;return this.FindStartCode()?(this.offset=this.current_nalu_start,this.nalu_size=this.current_nalu_start-this.nalu_start,!0):(this.nalu_size=this.view.byteLength-this.nalu_start,!0)},e}();t.H264Parser=r},261:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RetryHandler=void 0;var r=function(){function e(){this.RETRY_MAX_TIME=300,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryStartTime=0,this.retryActiveCount=1,this.isOverTime=!1}return e.prototype.init=function(e,t,r,i){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,\"number\"==typeof e&&e<3600&&(this.RETRY_MAX_TIME=e),\"number\"==typeof t&&(this.RETRY_START_TIME_INTERVAL=t),\"number\"==typeof r&&(this.RETRY_CONTINUE_COUNT=r),\"number\"==typeof i&&(this.RETRY_MAX_TIME_INTERVAL=i)},e.prototype.invalid=function(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null,this.retryStartTime=0,this.retryActiveCount=1},e.prototype.isRetrying=function(){return null!==this.retryTimer||null!==this.startRetryTimer||null!==this.maxTimer},e}();t.RetryHandler=r},3111:function(e,t){\"use strict\";var r=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.SdpUtil=void 0;var i=function(){function e(){}return e.zegoSdp=function(e){var t=e.split(\"\\r\\n\"),i=[],o=[];t.forEach((function(e){var t=e.match(/a=rtpmap:(\\d+)\\s+((H264\\/90000)|(opus\\/48000\\/2))/);t&&t[1]&&t[2]&&(\"H264/90000\"===t[2]&&i.push(t[1]),\"opus/48000/2\"===t[2]&&o.push(t[1]))}));var n=[];return t.map((function(e){var t=!0,s=e.match(/((a=rtcp-fb:)|(a=rtpmap:)|(a=fmtp:))(\\d+)/);if(s&&s[5]&&(r(r([],i,!0),o,!0).some((function(e){return e==s[5]}))||(t=!1)),e.indexOf(\"m=video\")>-1){var a=e.split(\" \");e=r([a[0],a[1],a[2]],i,!0).join(\" \")}else if(e.indexOf(\"m=audio\")>-1){a=e.split(\" \");e=r([a[0],a[1],a[2]],o,!0).join(\" \")}t&&n.push(e)})),n.join(\"\\r\\n\")},e.getSDPByVideDecodeType=function(e,t,i){var o={str:\"\",arr:[],obj:{H264:[],H265:[],VP8:[],VP9:[],OTHER:[]}};if(!e.includes(\"m=video\"))return e;var n=/m=video.+/.exec(e)[0];n=n.match(/[\\s|\\d]+/g)[1].replace(\" \",\"\"),o.str=n,o.arr=o.str.split(\" \"),o.arr.forEach((function(t){var r=new RegExp(\"a=rtpmap:\"+t+\".+\").exec(e)[0];r.includes(\"H264\")?o.obj.H264.push(t):r.includes(\"H265\")?o.obj.H265.push(t):r.includes(\"VP8\")?o.obj.VP8.push(t):r.includes(\"VP9\")?o.obj.VP9.push(t):o.obj.OTHER.push(t)})),o.obj.OTHER.forEach((function(t){var r=new RegExp(\"a=fmtp:\"+t+\".+apt=(\\\\d+)\").exec(e),i=r&&r[1];i&&(o.obj.H264.includes(i)?o.obj.H264.push(t):o.obj.H265.includes(i)?o.obj.H265.push(t):o.obj.VP8.includes(i)?o.obj.VP8.push(t):o.obj.VP9.includes(i)&&o.obj.VP9.push(t))}));var s=[];if(\"VP9\"===t?s=r(r(r([],o.obj.H265,!0),o.obj.H264,!0),o.obj.VP8,!0):\"VP8\"===t?s=r(r(r([],o.obj.H265,!0),o.obj.H264,!0),o.obj.VP9,!0):\"H264\"===t?s=r(r(r([],o.obj.H265,!0),o.obj.VP8,!0),o.obj.VP9,!0):\"H265\"===t&&(s=r(r(r([],o.obj.VP8,!0),o.obj.H264,!0),o.obj.VP9,!0)),\"H264\"==t&&\"boolean\"==typeof i){var a=[];o.obj.H264.forEach((function(t){var r=new RegExp(\"a=fmtp:\"+t+\".+\\\\s\\\\n\",\"g\").exec(e);i?(null==r?void 0:r.find((function(e){return e.includes(\"profile-level-id=42e01f\")})))||a.push(t):(null==r?void 0:r.find((function(e){return e.includes(\"profile-level-id=42e01f\")})))&&a.push(t);var o=new RegExp(\"a=fmtp:\"+t+\".+apt=(\\\\d+)\").exec(e),n=o&&o[1];n&&a.includes(n)&&a.push(t)})),a.length==o.obj.H264.length&&(a=[]),s=s.concat(a)}return s.forEach((function(t){var r=o.arr.indexOf(t);o.arr.splice(r,1);var i=new RegExp(\"a=rtpmap:\"+t+\".+\\\\s\\\\n\",\"g\"),n=new RegExp(\"a=rtcp-fb:\"+t+\".+\\\\s\\\\n\",\"g\"),s=new RegExp(\"a=fmtp:\"+t+\".+\\\\s\\\\n\",\"g\");e=(e=(e=e.replace(i,\"\")).replace(n,\"\")).replace(s,\"\")})),e=e.replace(n,o.arr.join(\" \"))},e}();t.SdpUtil=i},3364:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.WebRTCUtil=void 0;var n=r(8335),s=r(7899),a=r(3608),c=function(){function e(){}return e.supportDetection=function(e,t,r,n){return i(this,void 0,void 0,(function(){var i,s,a,c,u,d,l,h;return o(this,(function(o){switch(o.label){case 0:return i={webRTC:!1,customCapture:!1,camera:!1,microphone:!1,videoCodec:{H264:!1,H265:!1,VP8:!1,VP9:!1},screenSharing:e,errInfo:{}},n&&\"screenSharing\"===n?(t({result:e,errInfo:i.errInfo}),[2]):n&&\"customCapture\"!==n||(((s=document.createElement(\"video\")).captureStream||s.mozCaptureStream)&&(i.customCapture=!0),\"customCapture\"!==n)?(a=navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,c=\"https:\"!==window.location.protocol&&\"file:\"!==window.location.protocol&&-1==window.location.hostname.indexOf(\"127.0.0.1\")&&-1==window.location.hostname.indexOf(\"localhost\"),n&&\"camera\"!==n&&\"microphone\"!==n?[3,9]:a?c?(i.camera=!1,console.error(\"webrtc requires https or localhost\"),[3,9]):[3,1]:[3,9]):(t({result:i.customCapture,errInfo:i.errInfo}),[2]);case 1:if(n&&\"camera\"!==n)return[3,5];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,navigator.mediaDevices.getUserMedia({video:!0})];case 3:return(u=o.sent())&&(i.camera=!0)&&u.getTracks().forEach((function(e){return e.stop()})),[3,5];case 4:return d=o.sent(),i.errInfo.camera={name:d.name,message:d.message},console.error(\"camera devices detect error: \",d.name,d.message),[3,5];case 5:if(n&&\"microphone\"!==n)return[3,9];o.label=6;case 6:return o.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!0})];case 7:return(l=o.sent())&&(i.microphone=!0)&&l.getTracks().forEach((function(e){return e.stop()})),[3,9];case 8:return h=o.sent(),i.errInfo.microphone={name:h.name,message:h.message},console.error(\"microphone devices detect error: \",h.name,h.message),[3,9];case 9:return\"camera\"===n||\"microphone\"===n?(t({result:i[n],errInfo:i.errInfo}),[2]):(this.supportVideoCodeType((function(e,r){n||(i.videoCodec.H264=e.H264,i.videoCodec.H265=e.H265,i.videoCodec.VP8=e.VP8,i.videoCodec.VP9=e.VP9,i.webRTC=e.webRTC),r&&(\"string\"==typeof r?i.errInfo.extendedDate=r:i.errInfo.webRTC={name:r.name,message:r.message},console.error(\"videoCodec detect error: \"+r)),t&&t(n?{result:e[n],errInfo:i.errInfo}:i)}),r,n),[2])}}))}))},e.supportVideoCodeType=function(e,t,r){return i(this,void 0,void 0,(function(){var i,n,a,c,u,d,l,h,p,g;return o(this,(function(o){switch(o.label){case 0:return i={webRTC:!1,H264:!1,VP8:!1,VP9:!1,H265:!1},r?1!==t||\"VP8\"!==r&&\"H264\"!==r?[3,2]:[4,(g=new s.CheckModule).checkSupportByType(r)]:[3,2];case 1:return\"boolean\"==typeof(n=o.sent())?(i[r]=n,[2,e(i)]):(i[r]=!1,[2,e(i,n)]);case 2:if(\"webRTC\"!==r&&1!==t)return[3,7];o.label=3;case 3:return o.trys.push([3,5,,6]),[4,(new RTCPeerConnection).createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 4:return o.sent(),i.webRTC=!0,[3,6];case 5:return a=o.sent(),e&&e(i,a),[3,6];case 6:if(\"webRTC\"===r)return[2,e(i)];o.label=7;case 7:if(1===t){for(c=\"\",d=[],l=0,h=u=[\"VP8\",\"H264\"];l<h.length;l++)p=h[l],g=new s.CheckModule,d.push(g.checkSupportByType(p));return Promise.all(d).then((function(t){t.forEach((function(e,t){\"boolean\"==typeof e?i[u[t]]=!0:(i[u[t]]=!1,c=e)})),c?e(i,c):e(i)})),[2]}try{(new RTCPeerConnection).createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(t){if(i.webRTC=!0,t&&t.sdp){var o=t.sdp.split(\"\\r\\n\");if(i.H264=o.some((function(e){return e.startsWith(\"a=rtpmap:\")&&e.indexOf(\"H264/\")>-1})),\"H264\"===r)return e(i);if(i.VP8=o.some((function(e){return e.startsWith(\"a=rtpmap:\")&&e.indexOf(\"VP8/\")>-1})),\"VP8\"===r)return e(i);i.VP9=o.some((function(e){return e.startsWith(\"a=rtpmap:\")&&e.indexOf(\"VP9/\")>-1})),i.H265=o.some((function(e){return e.startsWith(\"a=rtpmap:\")&&e.indexOf(\"H265/\")>-1})),e&&e(i)}}))}catch(t){e&&e(i,t)}return[2]}}))}))},e.checkScreenParams=function(e,t){if(\"object\"==typeof e&&void 0!==e.videoQuality&&!a.ClientUtil.checkInteger(e.videoQuality))return t(n.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" videoQuality must be integer number\"),!1;if(\"object\"==typeof e&&void 0!==e.sourceID&&\"string\"!=typeof e.sourceID)return t(n.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" sourceID must be string\"),!1;if(\"object\"==typeof e&&4===e.videoQuality){if(!a.ClientUtil.checkCameraOrScreenBitRate(e.bitRate,t))return!1;if(!a.ClientUtil.checkParamsWithConstraintExtend(e,t))return!1}return!0},e.checkCameraParams=function(e,t){return!!a.ClientUtil.checkParamsWithConstraintExtend(e,t)&&!!a.ClientUtil.checkCameraOrScreenBitRate(e.bitRate,t)},e.base64ToUint8Array=function(e){for(var t=(e+\"=\".repeat((4-e.length%4)%4)).replace(/\\-/g,\"+\").replace(/_/g,\"/\"),r=window.atob(t),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i},e.decodeString=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e))))},e.encodeString=function(e){return Uint8Array.from(Array.from(unescape(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)})))},e}();t.WebRTCUtil=c},8466:function(e,t,r){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!(\"get\"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,o)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},s=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoWebRTC=void 0;var c=r(9887),u=r(3608),d=r(3364),l=r(2399),h=r(6262),p=r(8335),g=r(8668),f=r(6562),m=r(1856),_=r(5664),v=n(r(5515)),E=r(9334),S=r(6423),T=r(2981),C=r(5749),y=r(7980),R=r(9261),b=r(9261),I=function(){function e(e,t,r,i){void 0===i&&(i=0);var o=this;this.mediaEleSources=[],this.logger=e,this.dataReport=t,this.ac=new(\"undefined\"!=typeof webkitAudioContext?webkitAudioContext:AudioContext),this.ac.addEventListener(\"statechange\",(function(){\"suspended\"===o.ac.state&&o.ac.resume()})),this.checkAudioContext(),this.stateCenter=new l.StateCenter(this.logger,this.dataReport),this.stateCenter.clientType=\"webrtc\",this.RTM=r,this.streamCenter=new f.ZegoStreamCenterWeb(this.logger,this.stateCenter,this.dataReport,this.RTM,this.ac,this.mediaEleSources),this.rtcModules=new g.RTCModules(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.RTM,this.ac),this.stateCenter.networkState=navigator?navigator.onLine?c.ENUM_NETWORK_STATE.online:c.ENUM_NETWORK_STATE.offline:c.ENUM_NETWORK_STATE.online,this.stateCenter.browser=v.browserDetails.browser,this.stateCenter.settingConfig=new b.ZegoSettingConfig,this.RTM.cloudSetting.setEnvVariable(\"sdk_version\",c.PROTO_VERSION),this.RTM.cloudSetting.getSettingCache(R.RTC).then((function(e){o.logger.info(h.ZEGO_WEBRTC_ACTION.CONSTRUCTOR+\" streamConfig \"+JSON.stringify(e));var t=(0,c.getReportSeq)();o.dataReport.newReport(t,p.ZegoRTCLogEvent.kZegoTaskCloudSettingCache.event),o.dataReport.addMsgInfo(t,{files:[{name:R.RTC,content:null==e?void 0:e.setting,versions:null==e?void 0:e.versions}]}),o.dataReport.uploadReport(t),o.stateCenter.settingConfig.setSetting(null==e?void 0:e.setting)})).catch((function(e){o.logger.warn(h.ZEGO_WEBRTC_ACTION.CONSTRUCTOR+\" streamConfig \"+JSON.stringify(e))}))}return e.prototype.checkAudioContext=function(){var e=this;if(this.ac&&\"suspended\"===this.ac.state){var t=function(){e.ac.resume(),window.removeEventListener(\"click\",t),window.removeEventListener(\"touchstart\",t)};window.addEventListener(\"click\",t),window.addEventListener(\"touchstart\",t)}},e.prototype.mutePublishStreamVideo=function(e,t,r){return!1},e.prototype.mutePublishStreamAudio=function(e,t){return!1},e.prototype.mutePlayStreamVideo=function(e,t){return new Promise((function(e,t){console.error(\"should install advanced module\"),e(!1)}))},e.prototype.mutePlayStreamAudio=function(e,t){return new Promise((function(e,t){console.error(\"should install advanced module\"),e(!1)}))},e.prototype.muteMicrophone=function(e){return!1},e.prototype.isMicrophoneMuted=function(){return!this.streamCenter.isMicEnabled},e.prototype.setAudioOutput=function(e,t){return this.logger.info(h.ZEGO_WEBRTC_ACTION.SET_AUDIO_OUTPUT+\" call\"),\"string\"!=typeof t?(this.logger.error(\"audiooutput is not string\"),!1):this.rtcModules.playModule.setStreamAudioOutput(e,t)},e.prototype.setCustomSignalUrl=function(e){if(this.logger.info(h.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+\" call: \"+e),e&&0!=e.length){var t=!0;e.forEach((function(e){return 0!=e.indexOf(\"wss://\")&&(t=!1)})),t?this.stateCenter.customUrl=e:this.logger.error(h.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+\" url is not correct\")}else this.logger.error(h.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+\" param error\")},e.prototype.setGWNode=function(e){\"string\"==typeof e&&e.length>0&&(this.streamCenter.gwNode=e)},e.prototype.setQualityMonitorCycle=function(e){return\"number\"==typeof e&&e>=1e3?(this.streamCenter.setQualityMonitorCycle(e),!0):(this.logger.error(\"zc.sqmc.0 time must be number and bigger than 1000\"),!1)},e.prototype.startPlayingStream=function(e,t,r){return this.logger.info(h.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+\" call by user\"),this.rtcModules.playModule.startPlayingStream(e,t,r)},e.prototype.stopPlayingStream=function(e){this.logger.info(h.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+\" call by user\"),this.rtcModules.playModule.stopPlayingStream(e)},e.prototype.setPlayAccelerate=function(e){this.stateCenter.playAccelerate=e},e.prototype.setTurnOverTcpOnly=function(e){this.logger.info(h.ZEGO_WEBRTC_ACTION.SET_TURN_OVER_TCP_ONLY+\" call \"+e),\"boolean\"==typeof e?this.stateCenter.turnOverTcpOnly=e:this.logger.error(\"zc.p.stoto.0 param must be param\")},e.prototype.createStream=function(e){return this.rtcModules.publishModule.createStream(e)},e.prototype.destroyStream=function(e){this.rtcModules.publishModule.destroyStream(e)},e.prototype.startPublishingStream=function(e,t,r,i){return this.logger.info(h.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" call by user\"),\"boolean\"!=typeof this.stateCenter.settingConfig.getSetting(\"hardware_encode\")||this.stateCenter.screenHardwareEncoder||(this.stateCenter.screenHardwareEncoder=this.stateCenter.settingConfig.getSetting(\"hardware_encode\")),this.rtcModules.publishModule.startPublishingStream(e,t,r,i)},e.prototype.activateSEIInsert=function(e){return console.error(\"should install advanced module\"),!1},e.prototype.setSEIConfig=function(e){this.stateCenter.seiConfig=e},e.prototype.sendSEI=function(e,t){return this.rtcModules.publishModule.sendSEI(e,t)},e.prototype.stopPublishingStream=function(e){return this.logger.info(h.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+\" call by user\"),this.rtcModules.publishModule.stopPublishingStream(e,void 0,!0)},e.prototype.setVideoConfig=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setVideoConfig(e,t):new Promise((function(e,t){console.error(\"should install advanced module\"),e({errorCode:-1,extendedData:\"should install advanced module\"})}))},e.prototype.setAudioConfig=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setAudioConfig(e,t):new Promise((function(e,t){console.error(\"should install advanced module\"),e({errorCode:-1,extendedData:\"should install advanced module\"})}))},e.prototype.replaceTrack=function(e,t,r){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.replaceTrack(e,t,r):new Promise((function(e,t){console.error(\"should install advanced module\"),e({errorCode:-1,extendedData:\"should install advanced module\"})}))},e.prototype.preloadEffect=function(e,t,r){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.preloadEffect(e,t,r):console.error(\"未引入混音模块\")},e.prototype.getEffectDuration=function(e){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getEffectDuration(e):(console.error(\"未引入混音模块\"),0)},e.prototype.getEffectCurrentProgress=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getEffectProgress(e,t):(console.error(\"未引入混音模块\"),0)},e.prototype.seekAudioEffect=function(e,t,r){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.seekAudioEffect(e,t,r):(console.error(\"未引入混音模块\"),!1)},e.prototype.playEffect=function(e,t,r){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.playEffect(e,t,r):console.error(\"未引入混音模块\")},e.prototype.pauseEffect=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.pauseEffect(e,t):(console.error(\"未引入混音模块\"),!1)},e.prototype.resumeEffect=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.resumeEffect(e,t):(console.error(\"未引入混音模块\"),!1)},e.prototype.stopEffect=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopEffect(e,t):(console.error(\"未引入混音模块\"),!1)},e.prototype.unloadEffect=function(e){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.unloadEffect(e):(console.error(\"未引入混音模块\"),!1)},e.prototype.setEffectVolume=function(e,t,r){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.setEffectVolume(e,t,r):(console.error(\"未引入混音模块\"),!1)},e.prototype.startMixingAudio=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.startMixingAudio(e,t):(console.error(\"未引入混音模块\"),!1)},e.prototype.stopMixingAudio=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopMixingAudio(e,t):(console.error(\"未引入混音模块\"),!1)},e.prototype.mixingBuffer=function(e,t,r,i){void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.mixingBuffer(e,t,r,i):console.error(\"未引入混音模块\")},e.prototype.stopMixingBuffer=function(e,t){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopMixingBuffer(e,t):(console.error(\"未引入混音模块\"),!1)},e.prototype.setMixingAudioVolume=function(e,t,r){return void 0!==this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.setMixingAudioVolume(e,t,r):(console.error(\"未引入混音模块\"),!1)},e.prototype.checkSystemRequirements=function(t,r){var i=this,o=navigator&&navigator.mediaDevices&&(e.screenShotReady||\"getDisplayMedia\"in navigator.mediaDevices);return this.logger.info(h.ZEGO_WEBRTC_ACTION.CHECK_SUPPORT+\" call\"+navigator.userAgent),new Promise((function(e){var n=(0,c.getReportSeq)();i.dataReport.newReport(n,p.ZegoRTCLogEvent.kZegoTaskCheckSystemRequirements.event);var s=r||\"all\",a=function(t){i.dataReport.addMsgInfo(n,{capability:p.ZegoRTCLogEvent.kZegoTaskCheckSystemRequirements.capability(t)}),i.dataReport.uploadReport(n);var r=i.stateCenter.checkList.indexOf(s);i.stateCenter.checkList.splice(r,1),e(t)};return[\"webRTC\",\"customCapture\",\"camera\",\"microphone\",\"screenSharing\",\"H264\",\"VP8\",\"all\"].includes(s)&&[0,1].includes(t)?i.stateCenter.checkList.includes(s)||i.stateCenter.checkList.includes(\"all\")?a({result:!1,errInfo:{extendedDate:\"The last test of the same type has not returned a result \"}}):(i.stateCenter.checkList.push(s),void d.WebRTCUtil.supportDetection(o,a,t,r)):a({result:!1,errInfo:{extendedDate:\"param error\"}})}))},e.prototype.enumDevices=function(e,t){return s(this,void 0,void 0,(function(){var r,i,o,n,s,u,d,l,h,g,f,m,_,v=this;return a(this,(function(a){switch(a.label){case 0:return this.logger.info(\"zc.ed.0 call\"),r=function(){return new Promise((function(e,t){var r=(0,c.getReportSeq)();v.dataReport.newReport(r,p.ZegoRTCLogEvent.kZegoTaskEnumDevices.event);v.rtcModules.publishModule.recordDevices((function(t){var i=[],o=!0,n=!0;t.cameras.forEach((function(e){\"\"===e.deviceID&&(o=!1),i.push({device:e.deviceName,type:0})})),t.microphones.forEach((function(e){\"\"===e.deviceID&&(n=!1),i.push({device:e.deviceName,type:1})})),t.speakers.forEach((function(e){return i.push({device:e.deviceName,type:2})})),v.dataReport.addMsgInfo(r,{dev_list:p.ZegoRTCLogEvent.kZegoTaskEnumDevices.dev_list(i)}),v.dataReport.uploadReport(r),e({devices:t,enableCamera:o,enableMic:n})}),(function(e){v.dataReport.addMsgInfo(r,e),v.dataReport.uploadReport(r),t(e)}))}))},[4,r()];case 1:return i=a.sent(),o=i.enableCamera,n=i.enableMic,s=i.devices,e?(this.logger.info(\"zc.ed.0 check permission\"),u={video:!0,audio:!0},\"videoinput\"===t?u.audio=!1:\"audioinput\"!==t&&\"audiooutput\"!==t||(u.video=!1),l=u.audio&&!n,(d=u.video&&!o)||l?(this.logger.info(\"zc.ed.0 need to get device permission. needCamera: \".concat(d,\", needMic: \").concat(l)),[4,navigator.mediaDevices.getUserMedia(u).catch((function(){}))]):[3,4]):[3,4];case 2:return(h=a.sent())&&h.getTracks().forEach((function(e){e.stop()})),[4,r()];case 3:g=a.sent(),f=g.devices,m=g.enableCamera,_=g.enableMic,u.video&&!m&&this.logger.warn(\"zc.ed.0 get video device permission failed.\"),u.audio&&!_&&this.logger.warn(\"zc.ed.0 get audio device permission failed.\"),s=f,a.label=4;case 4:return[2,s]}}))}))},e.prototype.getCameras=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.enumDevices(!0,\"videoinput\")];case 1:return[2,e.sent().cameras]}}))}))},e.prototype.getMicrophones=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.enumDevices(!0,\"audioinput\")];case 1:return[2,e.sent().microphones]}}))}))},e.prototype.getSpeakers=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.enumDevices(!0,\"audiooutput\")];case 1:return[2,e.sent().speakers]}}))}))},e.prototype.getAudioInfo=function(e,t,r){},e.prototype.getSoundLevel=function(e,t,r){this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getSoundLevel(e,t,r):console.error(\"未引入混音模块\")},e.prototype.stopSoundLevel=function(e){this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopSoundLevel(e):console.error(\"未引入混音模块\")},e.handleDataAvailable=function(t){t.data&&t.data.size>0&&e.recordedBlobs.push(t.data)},e.prototype.startRecord=function(e){},e.prototype.stopRecord=function(){},e.prototype.resumeRecord=function(){},e.prototype.pauseRecord=function(){},e.prototype.saveRecord=function(e){},e.prototype.useVideoDevice=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.useVideoDevice(e,t):new Promise((function(e,t){e({errorCode:-1,extendedData:\"should install advanced module\"})}))},e.prototype.useAudioDevice=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.useAudioDevice(e,t):(console.error(\"should use advanced module first\"),new Promise((function(e,t){e({errorCode:-1,extendedData:\"should install advanced module\"})})))},e.prototype.getElectronScreenSources=function(){return this.rtcModules.publishModule.getElectronScreenSources()},e.prototype.setSoundLevelDelegate=function(e,t,r){this.logger.info(\"zc.ssd.0 call\"),\"boolean\"==typeof e?t&&(!this.stateCenter.checkInteger(t)||t<100||t>3e3)?this.logger.error(\"zc.ssd.0 soundLevel interval must be integer number which is between 100 and 3000\"):this.streamCenter.setSoundLevelDelegate(e,t,r):this.logger.error(\"zc.ssd.0 param 1 must be boolean\")},e.prototype.on=function(e,t){return this.rtcModules.bindListener(e,t)},e.prototype.off=function(e,t){return this.rtcModules.deleteListener(e,t)},e.prototype.getVersion=function(){return c.PROTO_VERSION},e.prototype.setStreamExtraInfo=function(e,t){return new Promise((function(e,t){console.error(\"should use advanced module first\"),t()}))},e.prototype.addPublishCdnUrl=function(e,t){return this.logger.info(\"zg.cm.apu call \",e,t),this.rtcModules.streamCommonModule?this.rtcModules.streamCommonModule.publishTarget({type:\"addpush\",streamID:e,pushUrl:t}):new Promise((function(e,t){console.error(\"should install advanced module\"),e({errorCode:-1,extendedData:\"should install advanced module\"})}))},e.prototype.removePublishCdnUrl=function(e,t){return this.logger.info(\"zg.cm.apu call \",e,t),this.rtcModules.streamCommonModule?this.rtcModules.streamCommonModule.publishTarget({type:\"delpush\",streamID:e,pushUrl:t}):new Promise((function(e,t){console.error(\"should install advanced module\"),e({errorCode:-1,extendedData:\"should install advanced module\"})}))},e.prototype.startMixerTask=function(e){return new Promise((function(e,t){console.error(\"未引入混流模块\"),t()}))},e.prototype.setMixerTaskConfig=function(e){return new Promise((function(e,t){console.error(\"未引入混流模块\"),t()}))},e.prototype.stopMixerTask=function(e){return new Promise((function(e,t){console.error(\"未引入混流模块\"),t()}))},e.prototype.setCaptureVolume=function(e,t){return this.rtcModules.publishModule.setCaptureVolume(e,t)},e.use=function(t){switch(t.type){case\"AudioMix\":t.install(g.RTCModules,_.ZegoPublish);break;case\"MixStream\":t.install(e,m.StreamHandler,g.RTCModules);break;case\"StreamCommon\":t.install(e,g.RTCModules,m.StreamHandler);break;case\"Advance\":t.install(e,g.RTCModules,m.StreamHandler,E.ZegoPreview,S.PlayModule,T.PublishModule,_.ZegoPublish,C.ZegoSignal);break;case\"BeautyEffect\":t.install(e,E.ZegoPreview);break;case\"RangeAudio\":case\"DataChannel\":case\"AiDenoise\":t.install(e)}},e.prototype.createRangeAudioInstance=function(){throw new Error(\"should use range audio module\")},e.prototype.createRealTimeSequentialDataManager=function(e){throw new Error(\"should use datachannel module\")},e.prototype.destroyRealTimeSequentialDataManager=function(e){throw new Error(\"should use datachannel module\")},e.prototype.enableDataChannel=function(e){\"boolean\"==typeof e&&(this.streamCenter.isDataChannelEnabled=e)},e.prototype.addTrack=function(e,t){return new Promise((function(e,t){throw new Error(\"use advanced module first\")}))},e.prototype.removeTrack=function(e,t){return new Promise((function(e,t){throw new Error(\"use advanced module first\")}))},e.prototype.setBeautyEffect=function(e,t,r){return new Promise((function(e,t){console.error(\"should install video effect module and advanced module\"),e({errorCode:-1,extendedData:\"should install video effect module and advanced module\"})}))},e.prototype.setLowlightEnhance=function(e,t){return new Promise((function(e,t){console.error(\"should install video effect module and advanced module\"),e({errorCode:-1,extendedData:\"should install video effect module and advanced module\"})}))},e.prototype.getPublishingStreamQuality=function(e){return this.rtcModules.publishModule.getStreamStats(e)},e.prototype.getPlayingStreamQuality=function(e){return this.rtcModules.playModule.getStreamStats(e)},e.prototype.checkAudioTrackIsActive=function(e){return MediaStreamTrack instanceof e&&\"video\"===e.kind?u.ClientUtil.checkAudioTrackIsActive(e):(this.logger.error(\"zc.caia.0 track type error\"),!1)},e.prototype.checkVideoTrackIsActive=function(e){return MediaStreamTrack instanceof e&&\"audio\"===e.kind?u.ClientUtil.checkVideoTrackIsActive(e):(this.logger.error(\"zc.cvia.0 track type error\"),!1)},e.prototype.setDummyCaptureImagePath=function(e,t){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setDummyCaptureImagePath(e,t):new Promise((function(e,t){console.error(\"should install advanced module\"),e(!1)}))},e.prototype.setAccess=function(e){this.RTM.setAccess(e),this.stateCenter.useNetAgent=this.RTM.getSettingUnify(!0),this.RTM.setAccess(this.stateCenter.useNetAgent),this.stateCenter.useNetAgent=this.RTM.getUseNetAgent()},e.prototype.setAudioOutputDevice=function(e,t){return s(this,void 0,void 0,(function(){var r;return a(this,(function(i){switch(i.label){case 0:return(r=null==e?void 0:e.setSinkId)?(e.setsinkid&&(e.setsinkid.enabled=!0),[4,r.call(e,t)]):[3,2];case 1:return i.sent(),[2,!0];case 2:throw Error(\"Browser not support set audio output.\")}}))}))},e.prototype.enableCameraCapturing=function(e,t){return void 0===t&&(t=!0),s(this,void 0,void 0,(function(){return a(this,(function(e){return console.error(\"should use advanced module first\"),[2,!1]}))}))},e.prototype.enableDualStream=function(e){this.rtcModules.advancedModule?this.rtcModules.advancedModule.enableDualStream(e):console.error(\"use advance module first\")},e.prototype.setLowStreamParameter=function(e,t){this.rtcModules.advancedModule?this.rtcModules.advancedModule.setLowStreamParameter(e,t):console.error(\"use advance module first\")},e.prototype.setRemoteDefaultVideoStreamType=function(e){this.logger.info(\"zc.srdvs call\"),[0,1,2].includes(e)?this.stateCenter.streamType=e:this.logger.error(\"zc.srdvs streamType must be number 0 or 1 or 2\")},e.prototype.enableVideoHardwareEncoder=function(e){\"boolean\"==typeof e&&(this.stateCenter.screenHardwareEncoder=e,this.stateCenter.hardwareEncoder=e)},e.prototype.createLocalViewer=function(e){var t=this.streamCenter.checkPreview(e),r=null==t?void 0:t.getViewer();if(!r)throw Error(\"create viewer failed.\");return new y.ZegoStreamView(r)},e.prototype.createRemoteViewer=function(e){var t=this.streamCenter.checkPlayer(e),r=null==t?void 0:t.getViewer();if(!r)throw Error(\"create viewer failed.\");return new y.ZegoStreamView(r)},e.prototype.enableAiDenoise=function(e,t){return new Promise((function(e,t){console.error(\"should install ai denoise module and advanced module\"),e({errorCode:-1,extendedData:\"should install ai denoise module and advanced module\"})}))},e.screenShotReady=!1,e}();t.ZegoWebRTC=I,window.addEventListener(\"message\",(function(e){var t=e.data.type,r=e.origin;r!==window.location.origin&&console.warn(\"ScreenStream: you should discard foreign event from origin:\",r),\"SS_PING\"===t&&(I.screenShotReady=!0)}))},2424:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AnalogSocket=void 0;var i,o,n=r(9887),s=r(6262);!function(e){e[e.Connected=0]=\"Connected\",e[e.Disconnected=1]=\"Disconnected\",e[e.Broken=2]=\"Broken\"}(i||(i={})),function(e){e[e.AUTO=0]=\"AUTO\",e[e.MANUAL=1]=\"MANUAL\"}(o||(o={}));var a=function(){function e(e,t,r,o){var s=this;this.server=e,this.netAgent=t,this.signalConfig=r,this.logger=o,this.readyState=WebSocket.CLOSED,this.isActive=!1,this.accessServerState=i.Disconnected,this.originAccessServerState=i.Disconnected,this.mediaServerState=i.Disconnected,this.originMediaServerState=i.Disconnected,this.eventHandler={accessDisconnect:function(){s.setAccessServerState(i.Disconnected)},accessConnect:function(){s.setAccessServerState(i.Connected)},accessBroken:function(){s.setAccessServerState(i.Broken)},mediaDisconnect:function(){s.setMediaServerState(i.Disconnected)},mediaConnect:function(e){s.setMediaServerState(i.Connected,e)},mediaBroken:function(){s.setMediaServerState(i.Broken)}},this.wsHandler=t.getPCRequest(\"unified_rtc\"===e?n.BusinessService.SERVICE_WEBRTC_SIGNAL:n.BusinessService.SERVICE_L3_WEBRTC_SIGNAL,{path:r.path,query:r.query}),this.setAccessServerState(t.isConnect()?i.Connected:i.Disconnected),this.setMediaServerState(0===this.wsHandler.connectState?i.Connected:i.Disconnected)}return e.prototype.updateAccessReadyState=function(){this.isActive&&this.accessServerState===i.Connected&&this.mediaServerState!==i.Connected?this.onreconnnecting&&this.onreconnnecting():this.accessServerState===i.Disconnected&&this.logger.warn(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_UPDATE_ACCESS_READY_STATE+\" access timeout\")},e.prototype.updateMediaReadyState=function(e){return this.logger.info(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_UPDATE_MEDIA_READY_STATE+\" \"+e),this.mediaServerState===i.Connected?(this.originMediaServerState===i.Broken&&e===o.AUTO&&this.onreconnnecting&&this.onreconnnecting(),void(this.readyState!==WebSocket.OPEN&&(this.readyState=WebSocket.OPEN,this.onopen&&this.onopen()))):this.mediaServerState===i.Disconnected?(this.wsHandler.off(\"connected\",this.eventHandler.mediaConnect),this.wsHandler.off(\"disconnected\",this.eventHandler.mediaDisconnect),this.wsHandler.off(\"broken\",this.eventHandler.mediaBroken),this.wsHandler.off(\"downLoadMessage\"),this.netAgent.off(\"connected\",this.eventHandler.accessConnect),this.netAgent.off(\"disconnected\",this.eventHandler.accessDisconnect),this.netAgent.off(\"broken\",this.eventHandler.accessBroken),void(this.readyState!==WebSocket.CLOSED&&(this.readyState=WebSocket.CLOSED,this.onclose&&this.onclose()))):void(this.mediaServerState===i.Broken&&(this.readyState=WebSocket.CONNECTING,this.onerror&&this.onerror(new Event(\"signal connecting\"))))},e.prototype.setMediaServerState=function(e,t){this.logger.info(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SET_MEDIA_SERVER_STATE+\" \"+e+\" \"+t),this.mediaServerState!==e?(this.originMediaServerState=this.mediaServerState,this.mediaServerState=e,this.updateMediaReadyState(t)):this.logger.info(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SET_MEDIA_SERVER_STATE+\" same state\")},e.prototype.setAccessServerState=function(e){this.logger.info(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SET_ACCESS_SERVER_STATE+\" \"+e),this.accessServerState!==e?(this.originAccessServerState=this.accessServerState,this.accessServerState=e,this.updateAccessReadyState()):this.logger.info(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SET_ACCESS_SERVER_STATE+\" same state\")},e.prototype.open=function(){var e=this;this.isActive=!0,this.logger.info(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_OPEN+\" state \"+this.mediaServerState),this.mediaServerState===i.Disconnected&&(this.wsHandler.on(\"connected\",this.eventHandler.mediaConnect),this.wsHandler.on(\"disconnected\",this.eventHandler.mediaDisconnect),this.wsHandler.on(\"broken\",this.eventHandler.mediaBroken),this.netAgent.on(\"connected\",this.eventHandler.accessConnect),this.netAgent.on(\"disconnected\",this.eventHandler.accessDisconnect),this.netAgent.on(\"broken\",this.eventHandler.accessBroken),this.wsHandler.on(\"downLoadMessage\",(function(t){e.logger.info(\"zc.as.op download msg \"+t),e.onmessage({data:t})})))},e.prototype.close=function(){this.isActive=!1,this.wsHandler.off(\"connected\",this.eventHandler.mediaConnect),this.wsHandler.off(\"disconnected\",this.eventHandler.mediaDisconnect),this.wsHandler.off(\"broken\",this.eventHandler.mediaBroken),this.wsHandler.off(\"downLoadMessage\"),this.netAgent.off(\"connected\",this.eventHandler.accessConnect),this.netAgent.off(\"disconnected\",this.eventHandler.accessDisconnect),this.netAgent.off(\"broken\",this.eventHandler.accessBroken),this.wsHandler.closeRequest()},e.prototype.send=function(e,t,r){var i=this;this.wsHandler.sendRequest({payload:e,ack:t,isInSendMap:r},(function(e){i.logger.info(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SEND+\" fail \"+e),i.onerror&&i.onerror(e)}),(function(e){i.logger.info(s.ZEGO_WEBRTC_ACTION.ANALOGSOCKET_SEND+\" suc \"+e)}))},e.prototype.onopen=function(){},e.prototype.onclose=function(e){},e.prototype.onerror=function(e){},e.prototype.onmessage=function(e){},e.prototype.onreconnnecting=function(){},e}();t.AnalogSocket=a},7899:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.CheckModule=void 0;var n=r(3111),s=function(){function e(){var e=this;this.iceconnectionstatechangeTimes=0,this.isCheckAll=!1;var t=document.createElement(\"canvas\");t.getContext(\"2d\").fillStyle=\"rgba(255, 255, 255, 0)\";try{this.localStream=t.captureStream()}catch(e){console.error(\"canvas captureStream error\",e)}this.timer=setTimeout((function(){e.resolve(\"Detection timeout\"),e.hangup()}),5e3)}return e.prototype.checkSupportByType=function(e){return i(this,void 0,void 0,(function(){var t,r,i=this;return o(this,(function(o){switch(o.label){case 0:return this.checkType=e,t={},this.localPc=new RTCPeerConnection(t),this.remotePc=new RTCPeerConnection(t),r=new Promise((function(e){return i.resolve=e})),this.localPc.addEventListener(\"icecandidate\",(function(e){return i.onIceCandidate(i.localPc,e)})),this.remotePc.addEventListener(\"icecandidate\",(function(e){return i.onIceCandidate(i.remotePc,e)})),this.remotePc.addEventListener(\"iceconnectionstatechange\",(function(t){\"connected\"===i.remotePc.iceConnectionState&&(i.iceconnectionstatechangeResult=!0),2==++i.iceconnectionstatechangeTimes&&i.iceCandidate&&(clearTimeout(i.timer),i.resolve(\"connected\"===i.remotePc.iceConnectionState||\"The browser does not support \".concat(e,\" format\")),i.hangup())})),this.localStream.getTracks().forEach((function(e){return i.localPc.addTrack(e,i.localStream)})),[4,this.check(e)];case 1:return o.sent(),[4,r];case 2:return[2,o.sent()]}}))}))},e.prototype.check=function(e){return i(this,void 0,void 0,(function(){var t,r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.localPc.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 1:return(t=i.sent()).sdp=n.SdpUtil.getSDPByVideDecodeType(t.sdp,e),this.onCreateOfferSuccess(t),[3,3];case 2:return r=i.sent(),this.onCreateSessionDescriptionError(r),[3,3];case 3:return[2]}}))}))},e.prototype.onCreateOfferSuccess=function(e){return i(this,void 0,void 0,(function(){var t,r,i,n;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.localPc.setLocalDescription(e)];case 1:return o.sent(),[3,3];case 2:return t=o.sent(),this.onSetSessionDescriptionError(t),[2];case 3:return o.trys.push([3,5,,6]),[4,this.remotePc.setRemoteDescription(e)];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),this.onSetSessionDescriptionError(r),[2];case 6:return o.trys.push([6,9,,10]),[4,this.remotePc.createAnswer()];case 7:return i=o.sent(),[4,this.onCreateAnswerSuccess(i)];case 8:return o.sent(),[3,10];case 9:return n=o.sent(),this.onCreateSessionDescriptionError(n),[2];case 10:return[2]}}))}))},e.prototype.onCreateAnswerSuccess=function(e){return i(this,void 0,void 0,(function(){var t,r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.remotePc.setLocalDescription(e)];case 1:return i.sent(),[3,3];case 2:return t=i.sent(),this.onSetSessionDescriptionError(t),[2];case 3:return i.trys.push([3,5,,6]),[4,this.localPc.setRemoteDescription(e)];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),this.onSetSessionDescriptionError(r),[2];case 6:return[2]}}))}))},e.prototype.onIceCandidate=function(e,t){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getOtherPc(e).addIceCandidate(t.candidate)];case 1:return i.sent(),[3,3];case 2:return r=i.sent(),console.error(this.checkType,\"\".concat(this.getPcName(e),\" addIceCandidate error\"),r),clearTimeout(this.timer),this.hangup(),this.resolve(r),[3,3];case 3:return\"remotePc\"===this.getPcName(e)&&t.candidate&&(this.iceCandidate=!0),this.iceconnectionstatechangeResult&&\"localPc\"===this.getPcName(e)&&(clearTimeout(this.timer),this.hangup(),this.resolve(!0)),[2]}}))}))},e.prototype.getOtherPc=function(e){return e===this.localPc?this.remotePc:this.localPc},e.prototype.getPcName=function(e){return e===this.localPc?\"localPc\":\"remotePc\"},e.prototype.onCreateSessionDescriptionError=function(e){console.error(\"Failed to create session description: \".concat(e.toString())),clearTimeout(this.timer),this.hangup(),this.resolve(e)},e.prototype.onSetSessionDescriptionError=function(e){console.error(\"Failed to set session description: \".concat(e.toString())),clearTimeout(this.timer),this.hangup(),this.resolve(e)},e.prototype.hangup=function(){this.localPc.close(),this.remotePc.close(),this.iceconnectionstatechangeTimes=0,this.localStream.getTracks().forEach((function(e){return e.stop()}))},e}();t.CheckModule=s},1466:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0}),t.RetryDispatchHandler=void 0;var n=r(261),s=r(9887),a=r(6262),c=r(8335),u=r(7716),d=function(e){function t(t,r,i,o){var n=e.call(this)||this;return n.retryActiveCount=1,n.RETRY_MAX_TIME=90,n.logger=t,n.stateCenter=r,n.rtm=i,n.streamCenter=o,n}return o(t,e),t.prototype.initStream=function(e,t,r){this.streamID=e,this.playOption=t,this.isPublish=r},t.prototype.active=function(e){var t=this;if(this.logger.info(a.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+\" retry call \"+this.streamID),this.rtm.isDisConnect()&&this.stateCenter.networkState==s.ENUM_NETWORK_STATE.offline)return this.logger.info(a.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+\" network is broken, stop retry\"),!1;if(this.retryTimer)return this.logger.info(a.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+\" has active, ignore\"),!1;if(this.isOverTime)return this.logger.warn(a.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+\" retry over time, stop retry\"),!1;if(!this.rtm.isLogin()){this.stopMaxTime(),this.invalid();var r=this.isPublish?this.streamCenter.publisherList[this.streamID]:this.streamCenter.playerList[this.streamID];r&&(r.isReDispatch=!0)}var i=this.retryActiveCount-1,o=this.playOption&&2==this.playOption.resourceMode?1:0,n={stream_id:this.streamID,ptype:this.isPublish?\"push\":\"pull\",signals:this.streamCenter.getAllInUseUrl(),header_kvs:[{key:\"grpc-metadata-push\",value:this.playOption&&this.playOption.cdnUrl||\"\"}],retry:i,center_ability:!0,dispatch_type:o};return this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout((function(){t.retryTimer=null,t.retryActiveCount++;var e=t.streamCenter.getRoomByStreamID(t.streamID),r=t.rtm.service.sendMessage(\"webrtc_url\",n,(function(e,r){t.handleFetchWebRtcUrlRsp(e)}),(function(e,r){t.handleFetchWebRtcUrlRsp(e)}),void 0,{sessionID:null==e?void 0:e.sessionID,roomID:null==e?void 0:e.roomID,roomSessionID:null==e?void 0:e.roomSessionID});t.isPublish&&r?t.streamCenter.publisherList[t.streamID]&&(t.streamCenter.publisherList[t.streamID].seq=r):r&&t.streamCenter.playerList[t.streamID]&&(t.streamCenter.playerList[t.streamID].seq=r)}),\"number\"==typeof e?e:1e3*this.retryActiveInterval),this.logger.info(a.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+\" call success\"),!0},t.prototype.startMaxTime=function(){var e=this;this.maxTimer||(this.maxTimer=setTimeout((function(){e.logger.warn(\"\".concat(a.ZEGO_WEBRTC_ACTION.RDH_MAX_TIME,\" \").concat(e.streamID,\" dispatch over max time \").concat(e.RETRY_MAX_TIME,\"s stop retry\")),e.isOverTime=!0,e.invalid();var t=c.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayDispatchError;t.message=t.message+\" try max limit\",e.isPublish?e.streamCenter.onPublishStateUpdate(s.ENUM_PUBLISH_STATE_UPDATE.error,e.streamID,t):e.streamCenter.onPlayStateUpdate(s.ENUM_PLAY_STATE_UPDATE.error,e.streamID,t)}),1e3*this.RETRY_MAX_TIME))},t.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.handleFetchWebRtcUrlRsp=function(e){if(e.code&&[u.errorCodeList.TIMEOUT.code].includes(e.code))this.active();else{if(e.code&&[u.errorCodeList.SOCKET_CLOSE.code].includes(e.code))return this.stopMaxTime(),this.invalid(),void(this.isPublish?this.streamCenter.publisherList[this.streamID].isReDispatch=!0:this.streamCenter.playerList[this.streamID].isReDispatch=!0);var t=e,r=t.body.stream_id,i=!1;if(this.isPublish&&(!this.streamCenter.publisherList[r]||t.header.seq!==this.streamCenter.publisherList[this.streamID].seq))return this.logger.warn(a.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+\" seq is not match, ignore \"+this.streamID),this.stopMaxTime(),void this.invalid();if(!(this.isPublish||this.streamCenter.playerList[this.streamID]&&t.header.seq===this.streamCenter.playerList[this.streamID].seq))return this.logger.warn(a.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+\" seq is not match, ignore \"+this.streamID),this.stopMaxTime(),void this.invalid();if(this.stateCenter.clientIP=t.body.clientip||\"\",0===t.body.err_code||2!=t.body.need_action)if(0===t.body.err_code||1===t.body.need_action||[3102].includes(t.body.err_code)){if(this.stopMaxTime(),this.invalid(),t.body.urls&&Array.isArray(t.body.urls)&&t.body.urls.length>0?i=!0:this.logger.error(a.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+\" signal url is empty\"),\"push\"===t.body.ptype&&this.streamCenter.publisherList[r]){if(!i)return void this.streamCenter.onPublishStateUpdate(s.ENUM_PUBLISH_STATE_UPDATE.error,r,c.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishDispatchError);var o=this.streamCenter.publisherList[r];this.stateCenter.publishStreamList[r]?(o.ttl=t.body.hosts_ttl?(new Date).getTime()+1e3*t.body.hosts_ttl:0,o.isCenterNode=\"boolean\"==typeof t.body.is_center_node&&t.body.is_center_node,o.serverUrls=t.body.urls,this.streamCenter.startPublishingStream(r)):this.logger.error(a.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+\" no streamid to publish\")}else if(\"pull\"==t.body.ptype&&this.streamCenter.playerList[r]){var n;if(!i)return(n=c.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayDispatchError).message=n.message+(t.body.err_code?\" server error:\"+t.body.err_code:\"\"),3102===t.body.err_code&&(n=c.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayUnsupportedResourceMode),void this.streamCenter.onPlayStateUpdate(s.ENUM_PLAY_STATE_UPDATE.error,r,n);var d=this.streamCenter.playerList[r];d.ttl=t.body.hosts_ttl?(new Date).getTime()+1e3*t.body.hosts_ttl:0,d.isCenterNode=\"boolean\"==typeof t.body.is_center_node&&t.body.is_center_node,d.serverUrls=t.body.urls,this.streamCenter.startPlayingStream(r,this.stateCenter.useNetAgent,this.streamCenter.playSuccessCallBackList[r])}}else this.retryActiveInterval=Math.floor(3*Math.random())+3,2==this.retryActiveCount&&((n=c.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayDispatchError).message=n.message+(t.body.err_code?\" server error:\"+t.body.err_code:\"\"),\"push\"===t.body.ptype?this.streamCenter.onPublishStateUpdate(s.ENUM_PUBLISH_STATE_UPDATE.retry,r,n):this.streamCenter.onPlayStateUpdate(s.ENUM_PLAY_STATE_UPDATE.retry,r,n)),this.active();else this.retryActiveInterval=t.body.action_delay/1e3||Math.floor(3*Math.random())+3,2==this.retryActiveCount&&((n=c.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayDispatchError).message=n.message+(t.body.err_code?\" server error:\"+t.body.err_code:\"\"),\"push\"===t.body.ptype?this.streamCenter.onPublishStateUpdate(s.ENUM_PUBLISH_STATE_UPDATE.retry,r,n):this.streamCenter.onPlayStateUpdate(s.ENUM_PLAY_STATE_UPDATE.retry,r,n)),this.active()}},t}(n.RetryHandler);t.RetryDispatchHandler=d},4661:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0}),t.RetryStreamHandler=void 0;var n=r(9887),s=r(261),a=r(8335),c=r(6262),u=r(3608),d=function(e){function t(t,r,i,o){var n=e.call(this)||this;return n.logger=t,n.stateCenter=r,n.streamCenter=i,n.isPublish=o,n.serverUrls=[],n}return o(t,e),t.prototype.initStream=function(e,t){this.streamID=e,this.serverUrls=t},t.prototype.activePublish=function(e){var t=this;if(this.logger.info(\"zc.tsh.a retry call \"+this.streamID),this.stateCenter.networkState==n.ENUM_NETWORK_STATE.offline)return this.logger.info(\"zc.tsh.a network is broken, stop retry\"),!1;if(this.retryTimer)return this.logger.info(\"zc.tsh.a has active, ignore\"),!1;if(this.isOverTime)return this.logger.warn(\"zc.tsh.a retry over time, stop retry\"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var r=Math.pow(2,Math.floor(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)-1);this.retryActiveInterval=r>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:r}var i=this.streamCenter.publisherList[this.streamID].publisher,o=this.serverUrls[0],s=[\"unified_rtc\",\"unified_l3\"].includes(o);if(!s){var a=this.serverUrls,c=i.signal?i.signal.server:\"\";a.forEach((function(e,r){return r<=a.indexOf(c)&&t.serverUrls.push(e)})),a.splice(0,a.indexOf(c)+1),o=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1]}var u=\"number\"==typeof e?e:1e3*this.retryActiveInterval;return this.retryTimer=setTimeout((function(){t.logger.info(\"zc.tsh.a stream \".concat(t.streamID,\" : connect to \").concat(s?\"unified signal server\":\"signal server \"+o)),t.retryTimer&&clearTimeout(t.retryTimer),t.retryTimer=null,t.retryActiveCount++,t.streamCenter.connectPublishServer(t.streamID,o)}),u),this.logger.info(\"zc.tsh.a call success. delay: \"+u),!0},t.prototype.activePull=function(e,t){var r=this;if(this.logger.info(\"zc.tsh.a retry call \"+this.streamID),t&&(this.playStreamSuccess=t),this.stateCenter.networkState==n.ENUM_NETWORK_STATE.offline)return this.logger.info(\"zc.tsh.a network is broken, stop retry\"),!1;if(this.retryTimer)return this.logger.info(\"zc.tsh.a has active, ignore\"),!1;if(this.isOverTime)return this.logger.warn(\"zc.tsh.a retry over time, stop retry\"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var i=Math.pow(2,Math.floor(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)-1);this.retryActiveInterval=i>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:i}var o=this.streamCenter.playerList[this.streamID].player,s=this.serverUrls,a=o.signal?o.signal.server:\"\",c=this.serverUrls[0],u=[\"unified_rtc\",\"unified_l3\"].includes(c);u||(s.forEach((function(e,t){return t<=s.indexOf(a)&&r.serverUrls.push(e)})),s.splice(0,s.indexOf(a)+1),c=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1]);var d=\"number\"==typeof e?e:1e3*this.retryActiveInterval;return this.retryTimer=setTimeout((function(){r.logger.warn(\"zc.tsh.a stream \".concat(r.streamID,\" : connect to \").concat(u?\"unified signal server\":\"signal server \"+c)),r.retryTimer&&clearTimeout(r.retryTimer),r.retryTimer=null,r.retryActiveCount++,r.streamCenter.connectPlayServer(r.streamID,r.playStreamSuccess,c)}),d),this.logger.info(\"zc.tsh.a call success. delay: \"+d),!0},t.prototype.startMaxTime=function(){var e=this;this.logger.warn(\"zc.tsh.smt \".concat(this.streamID,\" call\")),this.maxTimer?this.logger.warn(\"zc.tsh.smt max timer\"):this.maxTimer=setTimeout((function(){if(e.logger.warn(\"zc.tsh.smt \".concat(e.streamID,\" over max time \").concat(e.RETRY_MAX_TIME,\"s, stop retry\")),e.isOverTime=!0,e.invalid(),e.isPublish){if(!e.streamCenter.publisherList[e.streamID])return void e.logger.info(\"zc.tsh.smt streamID \"+e.streamID+\" publish no found\");e.publishStateHandle(n.ENUM_PUBLISH_STATE_UPDATE.error,e.streamID,a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishRetryTimeoutError,!0)}else{if(!e.streamCenter.playerList[e.streamID])return void e.logger.info(\"zc.tsh.smt streamID \"+e.streamID+\" play no found\");e.playStateHandle(n.ENUM_PLAY_STATE_UPDATE.error,e.streamID,a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayRetryTimeoutError,!0)}}),1e3*this.RETRY_MAX_TIME)},t.prototype.stopMaxTime=function(){this.logger.info(\"zc.tsh.stmt streamID \"+this.streamID+\" \"+!!this.maxTimer),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.retryNextSignal=function(e){var t,r;if(this.stateCenter.networkState==n.ENUM_NETWORK_STATE.offline)return!0;if(this.isPublish){var i=this.streamCenter.publisherList[this.streamID];if(i.publisher.state==n.ENUM_PUBLISH_STATE.stop&&[a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionTimeoutError.code,a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNegoTimeoutError.code].includes(e.code))return!0;if(i.isCenterNode&&(null===(t=i.publisher.signal)||void 0===t?void 0:t.wsReadyState)==WebSocket.OPEN)return!1;if(!i.isCenterNode&&[a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishSessionClosedError.code].includes(e.code)){var o=e.message.match(/reason:(\\d+)/);return![\"26\"].includes(o?o[1]:\"\")}return!0}var s=this.streamCenter.playerList[this.streamID];if(s.player.state==n.ENUM_PLAY_STATE.stop&&[a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionTimeoutError.code,a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNegoTimeoutError.code].includes(e.code))return!0;if(s.isCenterNode&&(null===(r=s.player.signal)||void 0===r?void 0:r.wsReadyState)==WebSocket.OPEN)return!1;if(!s.isCenterNode&&[a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlaySessionClosedError.code].includes(e.code)){o=e.message.match(/reason:(\\d+)/);return![\"24\",\"26\",\"28\"].includes(o?o[1]:\"\")}return!0},t.prototype.publishStateHandle=function(e,t,r,i){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+\" call \"+t+\" \"+(r?r.code+\"\":\"\"));var o=i||this.RETRY_MAX_TIME<3;if(!o&&r&&(u.ClientUtil.isReDispatch(r)||0==this.serverUrls.length))return this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+\" stop \"+o+\" \"+JSON.stringify(this.serverUrls)),this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPublishStateUpdate(e,t,r);var s=this.streamCenter.publisherList[t],d=s.publisher;if(!o&&r&&0!==r.code){!this.maxTimer&&!o&&this.startMaxTime(),this.stateCenter.publishStreamList[t].state=n.ENUM_PUBLISH_STREAM_STATE.retryPublish;var l=d.localStream,h=d.videoInfo,p=d.mediaStreamConfig,g=d.publishOption;if(0!=d.sessionId&&d.signal&&d.shouldSendCloseSession()&&(d.signal.sendCloseSession((0,n.getSeq)(),d.sessionId,1),d.signal.removeSession(d.sessionId),d.closeSessionSignal=!0),d.resetPublish(),!o&&!this.retryNextSignal(r)){if(s.isCenterNode&&d.gwNodeTTL<(new Date).getTime()&&0!==d.gwNodeList.length)d.gwNode=\"\",d.gwNodeList=[],d.gwNodeTTL=0;else if(s.isCenterNode){var f=d.gwNodeList.findIndex((function(e){return e==d.gwNode}));d.gwNode=d.gwNodeList[++f%d.gwNodeList.length]}return this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+\" retry current signal \"),this.startRetryTimer=setTimeout((function(){d.startPublish(t,l,h,p,g)}),3e3),void(r&&0!==r.code&&this.streamCenter.onPublishStateUpdate(2,t,r))}this.streamCenter.removeStreamFromSignal(!0,t)}if(o)return this.stopMaxTime(),this.invalid(),1===e&&d.resetPublish(),void this.streamCenter.onPublishStateUpdate(e,t,r);if(r&&0!==r.code&&this.activePublish(void 0)){var m=(0,n.getReportSeq)();this.streamCenter.dataReport.newReport(m),this.streamCenter.dataReport.addMsgInfo(m,{stream:a.ZegoRTCLogEvent.kZegoTaskRePublish.stream(this.streamID)}),this.streamCenter.dataReport.uploadReport(m,a.ZegoRTCLogEvent.kZegoTaskRePublish.event),this.streamCenter.onPublishStateUpdate(2,t,r)}this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+\" end \"+t)},t.prototype.playStateHandle=function(e,t,r,i){this.logger.info(c.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+\" call \"+t+\" \"+(r?r.code+\"\":\"\"));var o=i||this.RETRY_MAX_TIME<3;if(!o&&r&&(u.ClientUtil.isReDispatch(r)||0==this.serverUrls.length))return this.logger.info(c.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+\" stop \"+o+\" \"+JSON.stringify(this.serverUrls)),this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPlayStateUpdate(e,t,r);if(!o&&r&&0!==r.code){!this.maxTimer&&!o&&this.startMaxTime();var s=this.streamCenter.playerList[t],d=s.player,l=d.playOption;if(0!=d.sessionId&&d.signal&&d.shouldSendCloseSession()&&(d.signal.sendCloseSession((0,n.getSeq)(),d.sessionId,1),d.signal.removeSession(d.sessionId),d.closeSessionSignal=!0),d.resetPlay(),!o&&!this.retryNextSignal(r)){if(s.isCenterNode&&d.gwNodeTTL<(new Date).getTime()&&0!==d.gwNodeList.length)d.gwNode=\"\",d.gwNodeList=[],d.gwNodeTTL=0;else if(s.isCenterNode){var h=d.gwNodeList.findIndex((function(e){return e==d.gwNode}));d.gwNode=d.gwNodeList[++h%d.gwNodeList.length]}return this.logger.info(c.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+\" retry current signal \"),this.startRetryTimer=setTimeout((function(){d.startPlay(t,d.getRemoteStreamSuc,l)}),3e3),void(r&&0!==r.code&&this.streamCenter.onPlayStateUpdate(2,t,r))}this.streamCenter.removeStreamFromSignal(!1,t)}if(o)return this.stopMaxTime(),this.invalid(),void this.streamCenter.onPlayStateUpdate(e,t,r);if(r&&0!==r.code&&this.activePull(void 0)){var p=(0,n.getReportSeq)();this.streamCenter.dataReport.newReport(p),this.streamCenter.dataReport.addMsgInfo(p,{stream:a.ZegoRTCLogEvent.kZegoTaskRePlay.stream(this.streamID)}),this.streamCenter.dataReport.uploadReport(p,a.ZegoRTCLogEvent.kZegoTaskRePlay.event),this.streamCenter.onPlayStateUpdate(2,t,r)}this.logger.info(c.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+\" end \"+t)},t}(s.RetryHandler);t.RetryStreamHandler=d},8615:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.GatewaySignal=void 0;var n=r(6348),s=r(3608),a=r(3364),c=function(){function e(e){this.streamSignal=e,this.callbackMap={}}return e.prototype.mediaStreamSEIUUIDReq=function(e,t,r,c){return i(this,void 0,void 0,(function(){var i=this;return o(this,(function(o){return[2,new Promise((function(o,u){var d=n.webrtc_cmd.WebrtcCmdReqMsg.encode({usr_sei_filter:{sei_filter:c}}).finish(),l=s.ClientUtil.uint8arrayToBase64(d);i.streamSignal.sendGWCmd(e,t,{peer_id:r,cmd_id:5,body:l},(function(e,t,r){var i=a.WebRTCUtil.base64ToUint8Array(r.body),s=n.webrtc_cmd.WebrtcCmdRspMsg.decode(i);o(s)}),(function(e){u(e)}))}))]}))}))},e.prototype.metadataAck=function(e,t,r){return i(this,void 0,void 0,(function(){var i,a;return o(this,(function(o){return i=n.webrtc_cmd.WebrtcCmdRspMsg.encode({meta_data_ack:{result:1}}).finish(),a=s.ClientUtil.uint8arrayToBase64(i),this.streamSignal.sendGWAck(e,t,{peer_id:r,cmd_id:1,body:a}),[2]}))}))},e.prototype.registerPushCallback=function(e,t,r){var i,o=this,s=this.callbackMap[t];s?s[e]=r:(this.callbackMap[t]=((i={})[e]=r,i),this.streamSignal.registerPushCallback(\"CmdPush\",t,(function(e,t,r){var i=a.WebRTCUtil.base64ToUint8Array(r.body),s=n.webrtc_cmd.WebrtcCmdReqMsg.decode(i),c=Object.keys(s)[0];console.error(\"CmdPush\",c,s),c=c||\"meta_data_push\";var u=o.callbackMap[t];if(u){var d=u[c];d&&d(e,t,r.body)}})))},e.prototype.unregisterPushCallback=function(e,t){var r=this.callbackMap[t];r&&(delete r[e],0===Object.keys(r).length&&(this.streamSignal.unregisterPushCallback(\"CmdPush\",t),delete this.callbackMap[t]))},e}();t.GatewaySignal=c},8668:function(e,t,r){\"use strict\";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.RTCModules=void 0;var n=r(9887),s=r(9887),a=r(8335),c=r(3608),u=r(1856),d=r(2981),l=r(6423),h=r(6262),p=r(7716),g=r(9261),f=function(){function e(e,t,r,i,o,n){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=i,this.rtm=o,this.ac=n,this.mediaEleSources=[],this.publishModule=new d.PublishModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm),this.playModule=new l.PlayModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm),this.initAdvance(),this.initStreamCommon(),this.initAudioMix(),this.init()}return e.prototype.init=function(){this.bindWindowListener(),this.bindRTMListener(),this.bindStreamCenterHandler()},e.prototype.initAudioMix=function(){},e.prototype.initAdvance=function(){},e.prototype.initStreamCommon=function(){},e.prototype.bindWindowListener=function(){var e=this,t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i);window.addEventListener(t?\"pagehide\":\"firefox\"===this.stateCenter.browser?\"beforeunload\":\"unload\",(function(){for(var t in window.event&&(window.event.cancelBubble=!0),e.streamCenter.publisherList)e.publishModule.stopPublishingStream(t);for(var t in e.streamCenter.playerList)e.playModule.stopPlayingStream(t)})),window.addEventListener(\"message\",(function(t){var r=t.data,i=r.type;\"SS_DIALOG_SUCCESS\"===i&&e.screenStreamFrom(r.streamId,r.canRequestAudioTrack,c.ClientUtil.actionSuccessCallback(\"screenShare\",e.stateCenter.callbackList)),\"SS_DIALOG_CANCEL\"===i&&c.ClientUtil.actionSuccessCallback(\"screenShare\",e.stateCenter.callbackList)(!1,null,i)})),window.addEventListener(\"offline\",(function(){if(e.logger.info(\"zc.off.0 network is broken\"),e.stateCenter.networkState=s.ENUM_NETWORK_STATE.offline,e.stateCenter.useNetAgent)e.logger.info(\"zc.off.0 use netAgent\");else{for(var t in e.streamCenter.publisherList){(r=e.streamCenter.publisherList[t].retryStreamHandler).stopMaxTime(),r.invalid()}for(var t in e.streamCenter.playerList){var r;(r=e.streamCenter.playerList[t].retryStreamHandler).stopMaxTime(),r.invalid()}}})),window.addEventListener(\"online\",(function(t){for(var r in e.logger.info(\"zc.on.0 network is online\"),e.stateCenter.networkState=s.ENUM_NETWORK_STATE.online,e.streamCenter.publisherList){var i=e.streamCenter.publisherList[r].publisher,o=e.streamCenter.publisherList[r].retryStreamHandler;i.state==s.ENUM_PUBLISH_STATE.stop||i.stateNego!==s.ENUM_PUBLISH_STATE_NEGO.iceConnected?!o.isOverTime&&o.publishStateHandle(s.ENUM_PUBLISH_STATE_UPDATE.error,r,a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNetworkBrokenError):i.state==s.ENUM_PUBLISH_STATE.publishing&&o.stopMaxTime()}for(var r in e.streamCenter.playerList){var n=e.streamCenter.playerList[r].player;o=e.streamCenter.playerList[r].retryStreamHandler;n.state==s.ENUM_PLAY_STATE.stop||n.stateNego!==s.ENUM_PLAY_STATE_NEGO.iceConnected?!o.isOverTime&&o.playStateHandle(s.ENUM_PLAY_STATE_UPDATE.error,r,a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNetworkBrokenError):n.state==s.ENUM_PLAY_STATE.playing&&o.stopMaxTime()}})),window.addEventListener(\"visibilitychange\",(function(t){if(Object.keys(e.streamCenter.publisherList).length>0||Object.keys(e.streamCenter.playerList).length>0){var r=(0,s.getReportSeq)();e.dataReport.newReport(r,a.ZegoRTCLogEvent.kZegoVisibilityChange.event),e.dataReport.uploadReport(r)}}))},e.prototype.bindRTMListener=function(){var e,t,r=this;this.rtm._on(\"_settingCanFetch\",(function(e){return i(r,void 0,void 0,(function(){var e=this;return o(this,(function(t){return this.rtm.cloudSetting.fetchSetting(g.RTC).then((function(t){e.logger.info(\"zc.scf stream config \"+JSON.stringify(t));t&&e.stateCenter.settingConfig.setSetting(t.setting,[\"auto_to_tcp\",\"udp_max_fail_num\",\"probe_started_num\"]),e.rtm._on(\"_cloudSettingNotify\",(function(t,r){var i=(0,s.getReportSeq)();e.dataReport.newReport(i,a.ZegoRTCLogEvent.kZegoTaskCloudSettingRefresh.event);var o=e.rtm.cloudSetting.getEnvVariables();e.dataReport.addMsgInfo(i,{params:o,files:[{name:t,content:r.setting,versions:r.versions}]}),e.dataReport.uploadReport(i)}))})),[2]}))}))})),this.rtm._on(\"_appConfigRsp\",(function(){r.stateCenter.appConfig=r.rtm.getAppConfig(),r.publishModule.startWaitPublish(),r.playModule.startWaitPlay()})),this.rtm._on(\"_roomLogin\",(function(e,t){r.stateCenter.appid=r.rtm.getAppID(),r.stateCenter.idName=r.rtm.getUserID(),r.stateCenter.testEnvironment=r.rtm.isTestEnvironment(),r.stateCenter.isMultiRoom=r.rtm.getMultiRoom(),r.stateCenter.useNetAgent=r.rtm.getUseNetAgent(),r.streamCenter.setSessionInfo(r.stateCenter.appid,r.stateCenter.idName,r.stateCenter.testEnvironment);var i=r.stateCenter.getRoomByRoomID(e);if(!i){var o=new u.StreamHandler(r.logger,r.stateCenter,r.rtm,r.streamCenter,e);r.bindStreamHandler(o),r.stateCenter.roomList.push(i={roomID:e,streamHandler:o,sessionID:\"\",roomSessionID:\"\",token:t,isResetRoom:!1,streamList:[],streamInfoList:[]})}})),this.rtm._on(\"roomLoginResponse\",(function(e){r.logger.info(\"zc.rlr call \"+JSON.stringify(e));var t=e.header.room_id||e.body.room_id;r.stateCenter.appConfig=r.rtm.getAppConfig();var i=r.rtm.getToken(t),o=r.rtm.getSessionId(t),n=r.rtm.getRoomSessionID(t),s=r.stateCenter.getRoomByRoomID(t);if(!s){var a=new u.StreamHandler(r.logger,r.stateCenter,r.rtm,r.streamCenter,t);r.bindStreamHandler(a),r.stateCenter.roomList.push(s={roomID:t,streamHandler:a,sessionID:o,roomSessionID:n,token:i,isResetRoom:!1,streamList:[],streamInfoList:[]})}if(s.sessionID=o,s.roomSessionID=n,r.stateCenter.tempRoomList.length>0)for(var c=function(e){var t=r.stateCenter.tempRoomList[e],i=t.roomID,o=t.streamList,n=r.stateCenter.roomList.find((function(e){return e.roomID===i}));n&&(n.streamList=o.filter((function(e){var t=r.streamCenter.stopedPlayerList[null==e?void 0:e.stream_id];return!!(t&&t.state<=6)})),r.stateCenter.tempRoomList[e].streamList=[])},d=0;d<r.stateCenter.tempRoomList.length;d++)c(d);if(1===e.body.stream_fetch_flag)return r.logger.info(\"zc.rlr stream fetch \"+t),s.streamHandler.room=s,void s.streamHandler.fetchStreamList();s.streamHandler.handleStreamStart(e,s),r.logger.info(\"zc.rlr end \"+t)})),this.rtm._on(\"_connectChanged\",(function(e,t){r.logger.info(\"zc.cc.0 \"+e+\" \"+JSON.stringify(t)),\"connecting\"===e?r.stateCenter.connectChanged=!0:\"connected\"===e&&(r.stateCenter.connectChanged=!1,r.stateCenter.useNetAgent=r.rtm.getUseNetAgent(),r.handleWaitPublishAndPlays(t))})),this.rtm._on(\"HBResponse\",(function(e){var t,i=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,o=r.stateCenter.getRoomByRoomID(i);null==o||o.streamHandler.patchStreamList(e)})),this.rtm._on(\"_roomStateUpdate\",(function(e,t,i,o,n){if(\"DISCONNECTED\"==t){r.logger.info(\"zc.rsu \"+e+\" disconnected \"+(i?i+\" \":\"\")+(o||\"\")+n);var s=r.stateCenter.getRoomByRoomID(e);if(s){var a=r.stateCenter.roomList.findIndex((function(t){return t.roomID==e}));s.isResetRoom=!0,s.streamHandler.reset(),r.streamCenter.reset(e,i,n),r.stateCenter.roomList.splice(a,1),n?r.stateCenter.tempRoomList.push(s):r.stateCenter.tempRoomList=r.stateCenter.tempRoomList.filter((function(t){return t.roomID!==e}))}}else r.logger.info(\"zc.rsu \"+e+\" state: \"+t)})),this.rtm._on(\"_tokenRenewed\",(function(e,t){r.logger.info(\"zc.tr roomID:\"+t+\" \"+e);var i=r.stateCenter.getRoomByRoomID(t);i&&(i.token=e)})),this.rtm._on(\"_tokenExpired\",(function(e){var t,i;((null===(i=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.stop_stream)||void 0===i?void 0:i.stream_id_list)||[]).forEach((function(e){r.publishModule.stopPublishingStream(e,p.errorCodeList.TOKEN_EXPIRED)}))})),this.rtm.service.on(\"stream\",(function(e){var t,i=(null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id)||\"\",o=r.stateCenter.getRoomByRoomID(i);o?o.streamHandler.handleStreamUpdateRsp(e):r.logger.error(h.ZEGO_WEBRTC_ACTION.ON_STREAM+\" room no found\")})),this.rtm.liveRoomHandler.handlePushStreamMsg=function(e){e.body.stream_cmd=n.streamMap[e.header.sub_cmd],r.handlePushStreamMsg(e)},null===(e=this.rtm.service)||void 0===e||e.on(\"push_stream_update\",(function(e){r.handlePushStreamMsg(e)})),null===(t=this.rtm.service)||void 0===t||t.on(\"zegochat_js.push_room_stream_update_req\",(function(e){var t,i=(null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id)||\"\",o=r.stateCenter.getRoomByRoomID(i);o?o.streamHandler.handlePriPushStreamUpdateMsg(e):r.logger.error(h.ZEGO_WEBRTC_ACTION.ON_STREAM+\" room no found\")}))},e.prototype.handleWaitPublishAndPlays=function(e){for(var t=Object.keys(this.stateCenter.waitPublishStreamList),r=0;r<t.length;r++){var i=t[r],o=this.stateCenter.waitPublishStreamList[i],n=o.localStream,s=o.publishOption,a=o.isDataChannel;if(o.retryStart){if(s.roomID&&s.roomID!==(null==e?void 0:e.roomID)){this.logger.info(\"zc.hwpap.0 room not connect\");continue}this.publishModule.startPublishingStream(i,n,s,a),delete this.stateCenter.waitPublishStreamList[i]}}},e.prototype.handlePushStreamMsg=function(e){var t,r=(null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id)||\"\",i=this.stateCenter.getRoomByRoomID(r);i?i.streamHandler.handlePushStreamUpdateMsg(e):this.logger.error(h.ZEGO_WEBRTC_ACTION.ON_PUSH_STREAM_UPDATE+\" room no found\")},e.prototype.bindStreamCenterHandler=function(){var e=this;this.streamCenter.onPlayStateUpdate=function(t,r,i){var o=e.stateCenter.reportSeqList.startPlay[r],n=e.streamCenter.playerList[r];if(1==t&&n&&c.ClientUtil.isReDispatch(i)){var s=n.player,a=n.retryDispatchHandler,u=n.playOption;return 0!=s.sessionId&&s.signal&&s.shouldSendCloseSession()&&(s.signal.sendCloseSession(e.stateCenter.getSeq(),s.sessionId,1),s.signal.removeSession(s.sessionId),s.closeSessionSignal=!0),s.resetPlay(),a.stopMaxTime(),a.invalid(),a.initStream(r,u,!1),void(e.rtm.isLogin()?(a.startMaxTime(),a.active(0)):e.streamCenter.playerList[r].isReDispatch=!0)}n&&n.player&&(0==t||1==t)&&o&&(e.dataReport.eventEndWithMsgInfo(o,\"PlayState\",{type:t}),1==t&&i&&e.dataReport.addMsgInfo(o,i),e.dataReport.addMsgInfo(o,{session_id:n.player.sessionId}),e.dataReport.uploadReport(o),delete e.stateCenter.reportSeqList.startPlay[r]),1===t&&e.streamCenter.playErrorCallBackList[r]?(e.stateCenter.connectChanged||(e.logger.info(\"zc.opsu.1 connect changed\"),e.streamCenter.playErrorCallBackList[r]({errorCode:i&&i.code,extendedData:i&&i.message}),delete e.streamCenter.playErrorCallBackList[r]),e.logger.info(\"zc.opsu.1 stop play called by sdk\"),e.playModule.stopPlayingStream(r,i)):e.stateCenter.actionListener(\"playerStateUpdate\",{state:c.ClientUtil.getPlayerStateType(t),streamID:r,errorCode:i&&i.code,extendedData:i&&i.message})},this.streamCenter.onPublishStateUpdate=function(t,r,i){e.onPublishStateUpdateHandle(t,r,i)},this.streamCenter.onPublishQualityUpdate=function(t,r){e.stateCenter.actionListener(\"publishQualityUpdate\",t,r)},this.streamCenter.onPlayQualityUpdate=function(t,r){e.stateCenter.actionListener(\"playQualityUpdate\",t,r)},this.streamCenter.onRemoteCameraStatusUpdate=function(t,r,i){var o=(0,s.getReportSeq)();e.dataReport.newReport(o,a.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.event),e.dataReport.addMsgInfo(o,{stream:a.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.stream(t),status:a.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.status(r)}),e.dataReport.uploadReport(o),e.stateCenter.actionListener(\"remoteCameraStatusUpdate\",t,r),e.stateCenter.actionListener(\"_remoteCameraStatusUpdate\",t,i)},this.streamCenter.onRemoteMicStatusUpdate=function(t,r,i){var o=(0,s.getReportSeq)();e.dataReport.newReport(o,a.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.event),e.dataReport.addMsgInfo(o,{stream:a.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.stream(t),status:a.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.status(r)}),e.dataReport.uploadReport(o),e.stateCenter.actionListener(\"remoteMicStatusUpdate\",t,r),e.stateCenter.actionListener(\"_remoteMicStatusUpdate\",t,i)},this.streamCenter.onSoundLevelUpdate=function(t){e.stateCenter.actionListener(\"soundLevelUpdate\",t)},this.streamCenter.onMicSoundLevelUpdate=function(t){e.stateCenter.actionListener(\"capturedSoundLevelUpdate\",t)}},e.prototype.bindStreamHandler=function(e){var t=this;e.onStreamUpdated=function(e,r,i){var o=i.map((function(e){return{streamID:e.streamID,user:e.user,extraInfo:e.extraInfo,urlsFLV:e.urlFlv,urlsRTMP:e.urlRtmp,urlsHLS:e.urlHls,urlsHttpsFLV:e.urlHttpsFlv,urlsHttpsHLS:e.urlHttpsHls}})),n={};if(0===r){var u=i.map((function(e){return{stream_id:e.streamID,code:s.STREAM_DELETE_REASON[e.closeType]&&s.STREAM_DELETE_REASON[e.closeType].code||0,description:s.STREAM_DELETE_REASON[e.closeType]&&s.STREAM_DELETE_REASON[e.closeType].description||\"unknown\"}}));n.stream_delete_reason=u}var d=(0,s.getReportSeq)();if(t.dataReport.newReport(d,a.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamUpdateInfo.event),t.dataReport.addMsgInfo(d,{stream_update_type:a.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamUpdateInfo.stream_update_type(1===r?\"added\":\"deleted\"),update_stream:a.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamUpdateInfo.update_stream(o)}),t.dataReport.uploadReport(d),o.length>0&&t.stateCenter.actionListener(\"roomStreamUpdate\",e,c.ClientUtil.getSteamUpdateType(r),o,Object.keys(n).length>0?JSON.stringify(n):\"\"),i.length>0&&t.stateCenter.actionListener(\"_streamUpdated\",r,i),1===r){var l=[];o.forEach((function(e){e.extraInfo&&l.push({streamID:e.streamID,user:e.user,extraInfo:e.extraInfo})})),l.length>0&&t.stateCenter.actionListener(\"streamExtraInfoUpdate\",e,l)}},e.onPublishStateUpdate=function(e,r,i){t.logger.info(\"zb.opsu \",r);var o=t.stateCenter.reportSeqList.startPublish[r],n=t.streamCenter.publisherList[r];n&&n.publisher&&(0==e||1==e)&&o&&(t.dataReport.eventEndWithMsgInfo(o,\"PublishState\",{type:e}),1==e&&t.dataReport.addMsgInfo(o,i),t.dataReport.addMsgInfo(o,{session_id:n.publisher.sessionId}),t.dataReport.uploadReport(o),1012===i.code&&t.streamCenter.stopPublishingStream(r),delete t.stateCenter.reportSeqList.startPublish[r]),t.stateCenter.actionListener(\"publisherStateUpdate\",{state:c.ClientUtil.getPublisherStateType(e),streamID:r,errorCode:i.code,extendedData:i.message})},e.onStreamExtraInfoUpdated=function(e,r){var i=r.map((function(e){return{streamID:e.streamID,user:e.user,extraInfo:e.extraInfo}})),o=(0,s.getReportSeq)();t.dataReport.newReport(o,a.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamExtraInfo.event),t.dataReport.addMsgInfo(o,{update_stream:a.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamExtraInfo.update_stream(i)}),t.dataReport.uploadReport(o),t.stateCenter.actionListener(\"streamExtraInfoUpdate\",e,i)}},e.prototype.screenStreamFrom=function(e,t,r){var i={};i.audio={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e}},i.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e,maxWidth:window.screen.width,maxHeight:window.screen.height}},!t&&(i.audio=!1),navigator.mediaDevices.getUserMedia(i).then((function(e){r(!0,e)})).catch((function(e){r(!1,null,e)}))},e.prototype.onPublishStateUpdateHandle=function(e,t,r){var i=this;this.logger.info(\"zc.opsuh.0 call\");var o=this.streamCenter.publisherList[t],n=o.room;if(n)if(0==e){if(this.stateCenter.publishStreamList[t])if([s.ENUM_PUBLISH_STREAM_STATE.tryPublish,s.ENUM_PUBLISH_STREAM_STATE.retryPublish].includes(this.stateCenter.publishStreamList[t].state)&&!n.streamList.find((function(e){return e.stream_id==t&&e.id_name===i.stateCenter.idName})))this.stateCenter.publishStreamList[t].state=s.ENUM_PUBLISH_STREAM_STATE.update_info,n.streamHandler.updateStreamInfo(t,s.ENUM_STREAM_SUB_CMD.liveBegin,this.stateCenter.publishStreamList[t].extra_info,(function(e){}));else this.stateCenter.publishStreamList[t].state=s.ENUM_PUBLISH_STREAM_STATE.publishing,this.WebrtcOnPublishStateUpdateHandle(e,t,r)}else{if(1==e&&o&&c.ClientUtil.isReDispatch(r)){var a=o.publisher,u=o.retryDispatchHandler,d=o.publishOption;return 0!=a.sessionId&&a.signal&&a.shouldSendCloseSession()&&(a.signal.sendCloseSession(this.stateCenter.getSeq(),a.sessionId,1),a.signal.removeSession(a.sessionId),a.closeSessionSignal=!0),a.resetPublish(),u.stopMaxTime(),u.invalid(),u.initStream(t,d,!0),void(this.rtm.isLogin()?(u.startMaxTime(),u.active(0)):this.streamCenter.publisherList[t].isReDispatch=!0)}n.streamHandler.onPublishStateUpdate(e,t,r),1==e&&(this.logger.info(\"zc.opsuh.0 stop publish called by sdk\"),this.publishModule.stopPublishingStream(t,r))}else this.logger.error(\"zc.opsuh.0 room not exist\")},e.prototype.WebrtcOnPublishStateUpdateHandle=function(e,t,r){if(this.stateCenter.publishStreamList[t].state==s.ENUM_PUBLISH_STREAM_STATE.publishing){var i=this.streamCenter.getRoomByStreamID(t);i&&i.streamHandler.onPublishStateUpdate(e,t,r)}},e.prototype.bindListener=function(e,t){return this.stateCenter.listenerList[e]?\"function\"!=typeof t?(this.logger.error(\"zc.o.0 listener callBack must be funciton\"),!1):(-1==this.stateCenter.listenerList[e].indexOf(t)&&this.stateCenter.listenerList[e].push(t),!0):(this.logger.error(\"zc.o.0 event \"+e+\" no found\"),!1)},e.prototype.deleteListener=function(e,t){if(!this.stateCenter.listenerList[e])return this.logger.error(\"zc.o.1 listener no found\"),!1;var r=this.stateCenter.listenerList[e];return t?r.splice(r.indexOf(t),1):this.stateCenter.listenerList[e]=[],!0},e}();t.RTCModules=f},5271:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.calculateCumulativeDuration=t.recordBreakDuration=t.onBreakEnd=void 0;t.onBreakEnd=function(e,t,r,i,o){if(void 0===o&&(o=\"video\"),t.breakStartTime){var n=e-t.breakStartTime;n>=i&&(t.cumulativeBreakDuration+=n,r.breakDuration+=n),t.breakStartTime=void 0}};t.recordBreakDuration=function(e,r,i,o,n,s,a,c,u,d){if(void 0===u&&(u=c),void 0===d&&(d=\"video\"),n>1e3&&(n=1e3),o.breakStartTime)if(i){if(0===r)e-o.breakStartTime>=22e3&&(0,t.onBreakEnd)(e,o,a,n,d),s.breakDuration+=1e3;else if(c>=n)if(c<500)if(c+u<1e3)(0,t.onBreakEnd)(e-(1e3-u),o,a,n,d),o.breakStartTime=e-c,s.breakDuration+=u+c,s.decodeTime+=1e3-(u+c);else(0,t.onBreakEnd)(e-1e3+u,o,a,n,d),o.breakStartTime=e-1e3+u,s.breakDuration+=1e3;else c>=500&&((0,t.onBreakEnd)(e-c,o,a,n,d),o.breakStartTime=e-c,s.breakDuration+=1e3);else u<=n?((0,t.onBreakEnd)(e-1e3+u,o,a,n,d),o.breakStartTime=void 0,s.breakDuration+=u,s.decodeTime+=1e3-u,a.decodeDuration+=1e3-u):s.breakDuration+=1e3}else{o.resumeRecv=!1;var l=e-1e3-o.breakStartTime;l<=0&&(l=0),o.breakStartTime=void 0,o.noBreakNoDecodeDuration+=l,s.breakCancelDuration+=l,a.blankDuration+=l}else i?0===r?o.resumeRecv?(o.breakStartTime=e-1e3,s.breakDuration+=1e3):(o.noBreakNoDecodeDuration+=1e3,a.blankDuration+=1e3):u>n?o.resumeRecv?(o.breakStartTime=e-u,o.cumulativeBreakDuration+=u,s.breakDuration+=u,s.decodeTime+=1e3-u,a.breakDuration+=u,a.decodeDuration+=1e3-u):(o.noBreakNoDecodeDuration+=1e3,a.blankDuration+=1e3):(s.decodeTime+=1e3,a.decodeDuration+=1e3):o.decodeStartTime&&(0===r?(o.resumeRecv=!1,o.noBreakNoDecodeDuration+=1e3,a.blankDuration+=1e3):(s.decodeTime+=1e3,a.decodeDuration+=1e3));i&&r&&(o.resumeRecv=!0)};t.calculateCumulativeDuration=function(e,t,r,i,o,n,s){if(void 0===s&&(s=\"video\"),i=i>1e3?1e3:i,t.breakDuration=0,t.breakCancelDuration=0,t.decodeTime=0,r.decodeDuration=0,r.breakDuration=0,r.blankDuration=0,e.decodeStartTime){var a=n,c=a-e.decodeStartTime;if(e.decodeStartTime=void 0,e.totalDuration+=c,e.breakStartTime){var u=a-e.breakStartTime;e.breakStartTime=void 0,o?u>i&&(e.cumulativeBreakDuration+=u):e.noBreakNoDecodeDuration+=u}var d=e.cumulativeBreakDuration,l=e.totalDuration-e.cumulativeBreakDuration-e.noBreakNoDecodeDuration;return e.cumulativeDecodeDuration=l,{cumulativeBreakDuration:d,cumulativeDecodeDuration:l}}return{cumulativeBreakDuration:0,cumulativeDecodeDuration:0}}},6423:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.PlayModule=void 0;var o=r(6262),n=r(9887),s=r(8335),a=r(3608),c=function(){function e(e,t,r,i,o){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=i,this.rtm=o}return e.prototype.startPlayingStream=function(e,t,r){var i=this;return this.logger.info(o.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+\" call \",e),new Promise((function(o,n){return i._handlePlayStream(e,t,o,n,r)}))},e.prototype._handlePlayStream=function(e,t,r,c,u){var d=this,l=s.ZegoRTCLogEvent.kZegoTaskPlayStart,h=(0,n.getReportSeq)();this.stateCenter.reportSeqList.startPlay[e]=h,this.dataReport.newReport(h,l.event);var p,g=function(t,r){d.logger.error(o.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+\" \"+(r||t.message)),d.dataReport.uploadReport(h,void 0,t,r),delete d.stateCenter.reportSeqList.startPlay[e],c&&c(i(i({},t),{errorCode:t.code,extendedData:t.message+(r?\" \"+r:\"\")}))};if(void 0===e||\"string\"!=typeof e||\"\"===e)return g(l.error.kPlayParamError,\"stream id type error\"),!1;if(e.length>n.MAX_STREAM_ID_LENGTH)return g(l.error.kPlayStreamIDToLongError,\"stream id length limit \"+n.MAX_STREAM_ID_LENGTH),!1;if(!a.ClientUtil.checkIllegalCharacters(e))return g(l.error.kPlayStreamIDInvalidCharacterError),!1;if(void 0!==t&&\"object\"!=typeof t)return g(l.error.kPlayParamError,\"playOption must be object\"),!1;if(this.stateCenter.customUrl&&0!=this.stateCenter.customUrl.length)this.logger.info(\"zc.p.sps.1 customUrl \"+JSON.stringify(this.stateCenter.customUrl)),p=this.stateCenter.customUrl;else{var f=this.stateCenter.settingConfig.getSetting(\"signal_nodes\",!0);f&&f instanceof Array&&f.length>0&&(p=f,this.logger.info(\"zc.p.sps.1 setting config signal_nodes \"+JSON.stringify(f)))}if(p){var m=this.streamCenter.setPlayStateStart(e,t,u);return!0!==m?(g(JSON.parse(JSON.stringify(m)),\"cannot start play\"),!1):(this.streamCenter.onPlayStateUpdate(n.ENUM_PLAY_STATE_UPDATE.retry,e,{code:0,message:\"\"}),this.streamCenter.playerList[e].serverUrls=p,this.streamCenter.startPlayingStream(e,!1,(function(e){r&&r(e)})))}if(this.dataReport.addMsgInfo(h,{stream:l.stream(e),playOption:l.playOption(t),use_na:this.stateCenter.useNetAgent?1:0}),this.stateCenter.useNetAgent&&this.stateCenter.playAccelerate&&this.stateCenter.roomList.length>0)this.logger.info(o.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+\" play accelerate\");else if(this.rtm.isDisConnect())return g(l.error.kPlayNoLoginError),!1;this.stateCenter.pullLimited||(e=NaN+e),t&&t.videoCodec&&(t.videoCodec=t.videoCodec.toUpperCase());var _=this.stateCenter.settingConfig.getSetting(\"resource_mode\",!0);void 0!==_&&(this.logger.info(o.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM,\" setting resource_mode \"+_),!t&&(t={}),t.resourceMode=_);var v=this.streamCenter.setPlayStateStart(e,t,u);if(!0!==v)return g(JSON.parse(JSON.stringify(v)),\"cannot start play\"),!1;this.streamCenter.onPlayStateUpdate(n.ENUM_PLAY_STATE_UPDATE.retry,e,{code:0,message:\"\"}),this.streamCenter.playSuccessCallBackList[e]=function(e){r&&r(e)},c&&(this.streamCenter.playErrorCallBackList[e]=c);var E=this.stateCenter.useNetAgent;if(E)return this.stateCenter.appConfig?(this.streamCenter.playerList[e].serverUrls=2===(null==t?void 0:t.resourceMode)?[\"unified_l3\"]:[\"unified_rtc\"],this.streamCenter.startPlayingStream(e,E,this.streamCenter.playSuccessCallBackList[e]),!0):(this.streamCenter.waitPlayList.push(e),!0);var S=this.streamCenter.playerList[e].retryDispatchHandler;return S.stopMaxTime(),S.invalid(),S.initStream(e,t,!1),S.startMaxTime(),S.active(0)},e.prototype.stopPlayingStream=function(e,t){var r,i;this.logger.info(o.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+\" call\",e);var a=(0,n.getReportSeq)();if(this.stateCenter.reportSeqList.stopPlay[e]=a,this.dataReport.newReport(a,s.ZegoRTCLogEvent.kZegoTaskPlayStop.event),this.dataReport.addMsgInfo(a,{stream:s.ZegoRTCLogEvent.kZegoTaskPlayStop.stream(e)}),\"string\"!=typeof e||\"\"===e)return this.logger.error(o.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+\" streamid must be string and not empty\"),this.dataReport.uploadReport(a,void 0,s.ZegoRTCLogEvent.kZegoTaskPlayStop.error.kParamError,\"stream id type error\"),void delete this.stateCenter.reportSeqList.stopPlay[e];var c=this.streamCenter.playerList[e],u=c&&c.player&&c.player.state!==n.ENUM_PLAY_STATE.stop||(null===(r=null==c?void 0:c.retryStreamHandler)||void 0===r?void 0:r.isRetrying());for(var d in this.streamCenter.stopPlayingStream(e),this.stateCenter.streamUrlMap)if(this.stateCenter.streamUrlMap[d]===e){delete this.stateCenter.streamUrlMap[d];break}this.dataReport.addMsgInfo(a,{session_id:null===(i=null==c?void 0:c.player)||void 0===i?void 0:i.sessionId}),this.dataReport.uploadReport(a),u&&this.streamCenter.onPlayStateUpdate(n.ENUM_PLAY_STATE_UPDATE.error,e,t||{code:0,message:\"\"}),this.logger.debug(o.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+\" call success\")},e.prototype.mutePlayStream=function(e,t,r){return new Promise((function(e,t){e(!1)}))},e.prototype.setStreamAudioOutput=function(e,t){return!1},e.prototype.startWaitPlay=function(){var e=this;this.streamCenter.waitPlayList.forEach((function(t){e.streamCenter.startPlayingStream(t,e.stateCenter.useNetAgent,e.streamCenter.playSuccessCallBackList[t])})),this.streamCenter.waitPlayList=[]},e.prototype.getStreamStats=function(e){var t,r,i;return this.logger.info(o.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+\" call\"),\"string\"==typeof e&&(i=null===(t=this.streamCenter.playerList[e])||void 0===t?void 0:t.player),i&&(null===(r=null==i?void 0:i.qualityHandler)||void 0===r?void 0:r.currentQuality)?i.qualityHandler.currentQuality||null:(this.logger.error(\"zsc.sp.0 stream is not playing\"),null)},e}();t.PlayModule=c},9532:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.PlayStreamQuality=void 0;var o=r(9887),n=r(6262),s=r(8335),a=r(3608),c=r(5271),u=function(){function e(e,t,r,i){this.player=t,this.logger=r,this.dataReport=i,this.playQualityList=[],this.maxQualityListCount=10,this.qualityTimer=null,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,audioPacketsReceived:0,videoPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0},this.currentQuality={video:{videoBitrate:0,videoFPS:0,videoTransferFPS:0,frameHeight:0,frameWidth:0,muteState:\"1\",videoQuality:-1,googCodecName:\"\",videoPacketsLost:0,videoPacketsLostRate:0,videoFramesDecoded:0,videoFramesDropped:0,videoCumulativeDecodeTime:0,videoCumulativeBreakTime:0,videoCumulativeBreakRate:0},audio:{audioBitrate:0,audioCodec:\"opus\",muteState:\"1\",audioQuality:-1,audioFPS:0,audioJitter:0,audioLevel:0,audioPacketsLost:0,audioPacketsLostRate:0,audioSamplingRate:0,audioSendLevel:0,googCodecName:\"\",audioCumulativeDecodeTime:0,audioCumulativeBreakTime:0,audioCumulativeBreakRate:0},peerToPeerDelay:0,peerToPeerPacketLostRate:0},this.decodeStartTime=0,this.netQuality=0,this.probeTime=0,this.probeInterval=6e4,this.probeState=o.ENUM_PROBE_STATE.probed,this.probeTimer=null,this.probeTimeoutInterval=3e4,this.qualityUpload=!1,this.qualityUploadInterval=3e4,this.qualityUploadLastTime=0,this.cumulativeQuality={},this.audioBreakThreshold=200,this.videoBreakThreshold=500,this.videoBreak={breakStartTime:void 0,cumulativeBreakDuration:0,cumulativeDecodeDuration:0,decodeStartTime:void 0,decodeEndTime:void 0,totalDuration:0,noBreakNoDecodeDuration:0,resumeRecv:!0},this.audioBreak={breakStartTime:void 0,cumulativeBreakDuration:0,cumulativeDecodeDuration:0,decodeStartTime:void 0,decodeEndTime:void 0,totalDuration:0,noBreakNoDecodeDuration:0,resumeRecv:!0},this.lastSampleTime=0,this.videoBreakReport={breakDuration:0,breakCancelDuration:0,decodeTime:0},this.audioBreakReport={breakDuration:0,breakCancelDuration:0,decodeTime:0},this.videoReliableBreak={decodeDuration:0,breakDuration:0,blankDuration:0},this.audioReliableBreak={decodeDuration:0,breakDuration:0,blankDuration:0},this.totalQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0,audioBytesReceived:0},this.currentSecondQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0},this.poorQualityNum=0,this.p2pNetStats={p2pLostRate:0,p2pRTT:0},this.sampleTimes=0,this.qualitySampleInterval=1e3,this.qualityTimeInterval=e,this.currentQuality.video.muteState=this.player.videoMuteState,this.currentQuality.audio.muteState=this.player.audioMuteState}return Object.defineProperty(e.prototype,\"streamId\",{get:function(){return this.player.streamId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"sessionId\",{get:function(){return this.player.sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"peerID\",{get:function(){return this.player.peerID},enumerable:!1,configurable:!0}),e.prototype.getPlayStats=function(e,t){var r,i,u,d=this;if(null!=e){var l=this.sampleTimes%parseInt((this.qualityTimeInterval/this.qualitySampleInterval).toString())==0;parseInt((this.qualityTimeInterval/this.qualitySampleInterval).toString());l&&this.getP2PNetStats();for(var h,p=document.querySelectorAll(\"video, audio\"),g=0;g<p.length;g++)p[g].srcObject===this.player.playStream&&(h=p[g]);var f={sampleTimeWindow:this.qualityTimeInterval,audioFractionLost:0,audioPacketsLost:0,audioPacketsLostRate:0,audioBitrate:0,audioLevel:0,audioSendLevel:0,audioSamplingRate:0,audioCodec:\"opus\",audioQuality:0,audioFPS:0,videoQuality:0,videoPacketsLost:0,videoPacketsLostRate:0,videoBitrate:0,videoFPS:0,nackCount:0,pliCount:0,audioJitter:0,videoJitter:0,videoFractionLost:0,videoFramesDecoded:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoFramesDropped:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:\"\",audioCodecName:\"\",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,audioMuteState:this.player.audioMuteState,videoMuteState:this.player.videoMuteState,muted:h?h.muted:void 0,paused:h?h.paused:void 0,volume:h?h.volume:void 0,sinkId:h?h.sinkId:void 0},m=this.lastPlayStats.time,_=0,v=0,E=0,S=0,T=0,C=0,y=0,R=null,b=null;e.forEach((function(e){[\"ssrc\",\"inbound-rtp\"].includes(e.type)&&(\"video\"==e.mediaType||e.id.indexOf(\"VideoStream\")>=0)&&(R=e),(\"inbound-rtp\"==e.type||\"ssrc\"==e.type&&null!=e.bytesReceived)&&(\"audio\"==e.mediaType||e.id.indexOf(\"AudioStream\")>=0)&&(b=e)}));var I=(new Date).getTime(),A=function(e,t){return e>t?e-t:0};if(this.lastSampleTime||(this.lastSampleTime=I-1e3),R){var k=R.totalInterFrameDelay,L=R.framesDecoded,P=R.totalSquaredInterFrameDelay,O=A(L,this.totalQuality.framesDecode);this.totalQuality.framesDecode=L;var N=A(k,this.totalQuality.totalInterFrameDelay);this.totalQuality.totalInterFrameDelay=k;var M=A(P,this.totalQuality.totalSquaredInterFrameDelay);this.totalQuality.totalSquaredInterFrameDelay=P;var D=(M-Math.pow(N,2)/(O||1))/(O||1);D=D>0?D:-D;var w=parseInt((1e3/(O+1)).toString()),U=1e3*Math.sqrt(D),B=N/(O||1)*1e3||w,x=(B=parseInt((B>1e3?1e3:B).toString()))+U;if(x=parseInt((x>1e3?1e3:x).toString()),O>0&&0===this.player.cameraStatus&&!this.videoBreak.decodeStartTime&&(this.videoBreak.decodeStartTime=I-1e3),this.videoBreak.decodeStartTime)(0,c.recordBreakDuration)(I,O,0===this.player.cameraStatus&&this.player.playMediaStatus.video,this.videoBreak,this.videoBreakThreshold,this.videoBreakReport,this.videoReliableBreak,B,x)}if(b){var G=b.totalSamplesReceived,Z=b.concealedSamples,H=b.bytesReceived,W=A(G,this.totalQuality.totalSamplesReceived);this.totalQuality.totalSamplesReceived=G;var F=A(Z,this.totalQuality.concealedSamples);this.totalQuality.concealedSamples=Z;var q=A(H,this.totalQuality.audioBytesReceived);this.totalQuality.audioBytesReceived=H;var z=parseInt((1e3*(F/(W||1))).toString());if(q>0&&0===this.player.micStatus&&!this.audioBreak.decodeStartTime&&(this.audioBreak.decodeStartTime=I-1e3),this.audioBreak.decodeStartTime)(0,c.recordBreakDuration)(I,q,0===this.player.micStatus&&this.player.playMediaStatus.audio,this.audioBreak,this.audioBreakThreshold,this.audioBreakReport,this.audioReliableBreak,z,z,\"audio\")}if(t&&t.result().forEach((function(e){l&&(\"ssrc\"==e.type&&(e.names().indexOf(\"googBandwidthLimitedResolution\")>=0&&(f.googBandwidthLimitedResolution=e.stat(\"googBandwidthLimitedResolution\")),e.names().indexOf(\"codecImplementationName\")>=0&&(f.codecImplementationName=e.stat(\"codecImplementationName\")),\"video\"==e.stat(\"mediaType\")&&(e.names().indexOf(\"googCodecName\")>=0&&(f.videoCodecName=e.stat(\"googCodecName\")),e.names().indexOf(\"googCurrentDelayMs\")>=0&&(y=e.stat(\"googCurrentDelayMs\"))),\"audio\"==e.stat(\"mediaType\")&&(e.names().indexOf(\"googCodecName\")>=0&&(f.audioCodecName=e.stat(\"googCodecName\")),e.names().indexOf(\"googCurrentDelayMs\")>=0&&(C=e.stat(\"googCurrentDelayMs\"))),e.names().indexOf(\"googCpuLimitedResolution\")>=0&&(f.googCpuLimitedResolution=e.stat(\"googCpuLimitedResolution\"))),\"VideoBwe\"==e.type&&e.names().indexOf(\"googAvailableSendBandwidth\")>=0&&(f.googAvailableSendBandwidth=e.stat(\"googAvailableSendBandwidth\")))})),l){e.forEach((function(e){if((\"inbound-rtp\"==e.type||\"ssrc\"==e.type&&null!=e.bytesReceived)&&(\"audio\"==e.mediaType||e.id.indexOf(\"AudioStream\")>=0)){if(0!=m)f.audioBitrate=8*(e.bytesReceived-d.lastPlayStats.audioBytesReceived)/(e.timestamp-m),(r=e.packetsLost-d.lastPlayStats.audioPacketsLost)>0&&(v=r/(r+e.packetsReceived-d.lastPlayStats.audioPacketsReceived));f.audioBitrate<0&&(f.audioBitrate=0),f.audioJitter=e.jitter,e.packetsLost>0&&(f.audioPacketsLost=e.packetsLost),f.audioFractionLost=e.fractionLost;var t=e.packetsLost-d.lastPlayStats.audioPacketsLost;f.audioFPS=(e.packetsReceived-d.lastPlayStats.audioPacketsReceived)/(e.timestamp-m)*1e3,f.audioPacketsLostRate=t>0?t/(e.packetsReceived-d.lastPlayStats.audioPacketsReceived+t):0,d.lastPlayStats.audioBytesReceived=e.bytesReceived,e.packetsLost>0&&(d.lastPlayStats.audioPacketsLost=e.packetsLost),d.lastPlayStats.audioPacketsReceived=e.packetsReceived,d.lastPlayStats.audioTime=e.timestamp,d.lastPlayStats.time=e.timestamp,d.lastPlayStats.audioBitrate=f.audioBitrate,S=e.jitter}else if((\"inbound-rtp\"==e.type||\"ssrc\"==e.type&&null!=e.bytesReceived)&&(\"video\"==e.mediaType||e.id.indexOf(\"VideoStream\")>=0)){var r;if(0!=m)f.videoBitrate=8*(e.bytesReceived-d.lastPlayStats.videoBytesReceived)/(e.timestamp-m),f.videoFPS=1e3*(e.framesDecoded-d.lastPlayStats.framesDecoded)/(e.timestamp-m),(r=e.packetsLost-d.lastPlayStats.videoPacketsLost)>0&&(E=r/(r+e.packetsReceived-d.lastPlayStats.videoPacketsReceived));else\"number\"==typeof e.framesPerSecond&&(f.videoFPS=e.framesPerSecond);f.videoBitrate<0&&(f.videoBitrate=0),f.videoFPS<0&&(f.videoFPS=0),f.videoJitter=e.jitter,f.nackCount=e.nackCount,f.pliCount=e.pliCount,f.videoFractionLost=e.fractionLost,f.videoFramesDecoded=e.framesDecoded,e.packetsLost>0&&(f.videoPacketsLost=e.packetsLost),f.videoPacketsLostRate=(t=e.packetsLost-d.lastPlayStats.videoPacketsLost)>0?t/(e.packetsReceived-d.lastPlayStats.videoPacketsReceived+t):0,d.lastPlayStats.videoBytesReceived=e.bytesReceived,d.lastPlayStats.framesDecoded=e.framesDecoded,e.packetsLost>0&&(d.lastPlayStats.videoPacketsLost=e.packetsLost),d.lastPlayStats.videoPacketsReceived=e.packetsReceived,d.lastPlayStats.videoTime=e.timestamp,d.lastPlayStats.time=e.timestamp,T=e.jitter}else if(\"track\"==e.type&&(\"video\"==e.kind||e.id.indexOf(\"video\")>=0)||e.frameWidth){if(f.frameHeight=e.frameHeight,f.frameWidth=e.frameWidth,0===m||d.lastPlayStats.frameHeight===e.frameHeight&&d.lastPlayStats.frameWidth===e.frameWidth)0===m&&(d.lastPlayStats.frameHeight=e.frameHeight,d.lastPlayStats.frameWidth=e.frameWidth);else{var i=(0,o.getReportSeq)();d.dataReport.newReport(i,s.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.event),d.dataReport.addMsgInfo(i,{session_id:s.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.session_id(d.sessionId),w:s.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.w(e.frameWidth),h:s.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.h(e.frameHeight)}),!d.player.isProbe&&d.dataReport.uploadReport(i),d.lastPlayStats.frameHeight=e.frameHeight,d.lastPlayStats.frameWidth=e.frameWidth}0!=m&&(f.videoTransferFPS=1e3*(e.framesReceived-d.lastPlayStats.framesReceived)/(e.timestamp-m),f.videoFramesDropped=e.framesDropped-d.lastPlayStats.framesDropped),f.videoTransferFPS<0&&(f.videoTransferFPS=0),f.videoFramesDropped<0&&(f.videoFramesDropped=0),d.lastPlayStats.framesReceived=e.framesReceived,d.lastPlayStats.framesDropped=e.framesDropped}else\"track\"==e.type&&(\"audio\"==e.kind||e.id.indexOf(\"audio\")>=0)?(f.audioLevel=e.audioLevel||0,f.audioSendLevel=e.totalAudioEnergy,f.audioSamplingRate=e.totalSamplesDuration):\"candidate-pair\"==e.type&&(null!=e.totalRoundTripTime&&(f.totalRoundTripTime=e.totalRoundTripTime),null!=e.currentRoundTripTime&&(f.currentRoundTripTime=e.currentRoundTripTime,_=1e3*f.currentRoundTripTime))})),this.lastPlayStats.googCurrentDelayMs=Number(C)||Number(y)||0,E=isNaN(E)||E<0?0:E,T=isNaN(T)||T<0?0:T,v=isNaN(v)||v<0?0:v,S=isNaN(S)||S<0?0:S;var j=a.ClientUtil.getNetQuality(_,E,T),V=a.ClientUtil.getNetQuality(_,v,S);f.audioQuality=m>0?a.ClientUtil.quality2QualityGrade(V):0,f.videoQuality=m>0?a.ClientUtil.quality2QualityGrade(j):0,this.player.stateCenter.networkState!==o.ENUM_NETWORK_STATE.offline&&\"disconnected\"!==(null===(r=this.player.peerConnection)||void 0===r?void 0:r.connectionState)||(f.videoQuality=o.QualityGrade.Die,f.audioQuality=o.QualityGrade.Die);var Q=Math.min(j,V);this.netQuality=Q,f.peerToPeerDelay=isNaN(this.p2pNetStats.p2pRTT)?0:parseInt((this.p2pNetStats.p2pRTT/2+this.lastPlayStats.googCurrentDelayMs).toString()),f.peerToPeerPacketLostRate=this.p2pNetStats.p2pLostRate,Q<=o.QUALITY_CONSTANT.MiddleMinQuality?this.poorQualityNum++:this.poorQualityNum=0,m>0&&this.poorQualityNum>=(null===(u=null===(i=this.player)||void 0===i?void 0:i.streamCenter)||void 0===u?void 0:u.probeStartedNum)&&I>this.probeTime+this.probeInterval&&(this.logger.info(n.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+\" netQuality \"+Q+\" start net probe\"),this.probeState=o.ENUM_PROBE_STATE.tryProbe,this.player.streamCenter.startNetProbe(!1,this.player,this.player.gwNodeList),this.probeTime=I),this.uploadPlayQuality(f,I),this.updateCurrentQualityStats(f),0!=m&&this.player.onPlayQualityUpdate(this.streamId,this.currentQuality)}}},e.prototype.updateCurrentQualityStats=function(e){var t=e.videoBitrate,r=e.videoFPS,o=e.videoTransferFPS,n=e.frameHeight,s=e.frameWidth,a=e.videoMuteState,c=e.videoQuality,u=e.videoFramesDecoded,d=e.videoFramesDropped,l=e.videoPacketsLost,h=e.videoPacketsLostRate,p=e.audioBitrate,g=e.audioCodec,f=e.audioMuteState,m=e.audioQuality,_=e.audioFPS,v=e.audioJitter,E=e.audioLevel,S=e.audioPacketsLost,T=e.audioPacketsLostRate,C=e.audioSamplingRate,y=e.audioSendLevel,R=e.nackCount,b=e.pliCount,I=e.totalRoundTripTime,A=e.currentRoundTripTime,k=e.peerToPeerDelay,L=e.peerToPeerPacketLostRate,P=e.sampleTimeWindow,O={video:i(i({},this.currentQuality.video),{videoBitrate:t,videoFPS:r,videoTransferFPS:o,frameHeight:n,frameWidth:s,videoQuality:c,videoFramesDecoded:u,videoFramesDropped:d,videoPacketsLost:l,videoPacketsLostRate:h,muteState:a,videoCumulativeDecodeTime:this.videoReliableBreak.decodeDuration,videoCumulativeBreakTime:this.videoReliableBreak.breakDuration,videoCumulativeBreakRate:this.videoReliableBreak.breakDuration/(this.videoReliableBreak.decodeDuration+this.videoReliableBreak.breakDuration||1)}),audio:i(i({},this.currentQuality.audio),{audioBitrate:p,audioCodec:g,audioQuality:m,audioFPS:_,audioJitter:v,audioLevel:E,audioPacketsLost:S,audioPacketsLostRate:T,audioSamplingRate:C,audioSendLevel:y,muteState:f,audioCumulativeDecodeTime:this.audioReliableBreak.decodeDuration,audioCumulativeBreakTime:this.audioReliableBreak.breakDuration,audioCumulativeBreakRate:this.audioReliableBreak.breakDuration/(this.audioReliableBreak.decodeDuration+this.audioReliableBreak.breakDuration||1)}),nackCount:R,pliCount:b,totalRoundTripTime:I,currentRoundTripTime:A,peerToPeerDelay:k,peerToPeerPacketLostRate:(L||0)/255,sampleTimeWindow:P};if(void 0!==e.muted){var N=e.paused,M=e.volume,D=e.sinkId;O.muted=e.muted,O.paused=N,O.volume=M,O.sinkId=D}if(void 0!==e.videoCodecName){var w=e.audioCodecName,U=e.codecImplementationName,B=e.googAvailableSendBandwidth;O.video.googCodecName=e.videoCodecName,O.audio.googCodecName=w,O.codecImplementationName=U,O.googAvailableSendBandwidth=B}this.currentQuality=O},e.prototype.uploadPlayQuality=function(e,t){var r,i;if(this.qualityUpload&&this.player.signal.isServerConnected){var o=t;if(0==this.qualityUploadLastTime||o-this.qualityUploadLastTime>=2e3){if(e.stream_type=\"play\",e.stream_id=this.streamId,e.timeStamp=parseInt((o/1e3).toString()),e.video_break_duration=this.videoBreakReport.breakDuration,e.video_break_cancel_duration=this.videoBreakReport.breakCancelDuration,e.video_decode_time=this.videoBreakReport.decodeTime,this.videoBreakReport.breakCancelDuration=0,this.videoBreakReport.breakDuration=0,this.videoBreakReport.decodeTime=0,e.audio_break_duration=this.audioBreakReport.breakDuration,e.audio_break_cancel_duration=this.audioBreakReport.breakCancelDuration,e.audio_decode_time=this.audioBreakReport.decodeTime,this.audioBreakReport.breakCancelDuration=0,this.audioBreakReport.breakDuration=0,this.audioBreakReport.decodeTime=0,e.real_sampling_interval=o-this.lastSampleTime,!e.frameHeight||!e.frameWidth)for(var s=document.querySelectorAll(\"video\"),a=0;a<s.length;a++){var c=s[a],u=null===(r=c.srcObject)||void 0===r?void 0:r.getVideoTracks()[0];if(u&&u==(null===(i=this.player.playStream)||void 0===i?void 0:i.getVideoTracks()[0])){e.frameHeight=c.videoHeight||0,e.frameWidth=c.videoWidth||0;break}}this.lastSampleTime=o,this.logger.info(n.ZEGO_WEBRTC_ACTION.PLAYER_UPLOAD_PLAYER_QUALITY+\" \"+this.streamId+\" upload\"+JSON.stringify(e)),this.player.streamCenter.updateQuality(1,e),this.qualityUploadLastTime=o}}},e.prototype.getP2PNetStats=function(){var e=this;this.player.signal.getP2PNetStats((0,o.getSeq)(),this.sessionId,this.peerID,(function(t,r,i){var o=i.p2p_rtt;e.p2pNetStats.p2pLostRate=i.p2p_lost_rate||0,e.p2pNetStats.p2pRTT=o||0}),(function(e){}))},e.prototype.setPlayQualityTimer=function(){var e=this;null==this.qualityTimer&&(this.logger.info(n.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+\" \"+this.streamId+\" startTimer\"),this.clearPlayQualityTimer(),this.getP2PNetStats(),this.qualityTimer=setInterval((function(){e.sampleTimes++;var t=e.player.peerConnection;if(t){var r=[t.getStats(null)];\"chrome\"==e.player.stateCenter.browser&&r.push(new Promise((function(e,r){t.getStats((function(t){return e(t)}),(function(e){return r(e)}))}))),Promise.all(r).then((function(t){e.getPlayStats(t[0],t[1])})).catch((function(t){e.logger.error(n.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+\" \"+e.streamId+\" getStats error \"+t.toString())}))}}),1e3),this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0})},e.prototype.clearPlayQualityTimer=function(){if(null!=this.qualityTimer){clearInterval(this.qualityTimer),this.qualityTimer=null;var e=(new Date).getTime();this.lastSampleTime=0,this.sampleTimes=0,this.totalQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0,audioBytesReceived:0},(0,c.calculateCumulativeDuration)(this.videoBreak,this.videoBreakReport,this.videoReliableBreak,this.videoBreakThreshold,0===this.player.cameraStatus&&this.player.playMediaStatus.video,e),(0,c.calculateCumulativeDuration)(this.audioBreak,this.audioBreakReport,this.audioReliableBreak,this.audioBreakThreshold,0===this.player.micStatus&&this.player.playMediaStatus.audio,e,\"audio\")}this.poorQualityNum=0,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesDropped:0,framesReceived:0,audioBitrate:0}},e.prototype.startProbeTimeout=function(){var e=this;this.probeTimer=setTimeout((function(){e.logger.error(n.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" probe timeout\"),e.player.playStateUpdateError(s.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kProbeTimeOutError)}),this.probeTimeoutInterval)},e.prototype.stopProbeTimeout=function(){this.probeTimer&&(clearTimeout(this.probeTimer),this.probeTimer=null)},e}();t.PlayStreamQuality=u},9404:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoPlayWeb=void 0;var s=r(9887),a=r(3111),c=r(3608),u=r(8335),d=r(6262),l=r(9532),h=r(4864),p=r(3364),g=r(2844),f=r(4825),m=u.ZegoRTCLogEvent.kZegoTaskPlayStart,_=function(){function e(e,t,r,i,o,n,a){var c=this;this.state=s.ENUM_PLAY_STATE.stop,this.candidateInfo=[],this.broadcasterStatus=s.ENUM_BROADCASTER_STATUS.stop,this.playQualityList=[],this.maxQualityListCount=10,this.reportSeq=NaN,this.streamReportSeq=(0,s.getSeq)(),this.videoSizeCallback=!1,this.remoteStream=null,this.playStream=null,this.rtcViewer=null,this.playOption={},this.playMediaStatus={video:!0,audio:!0},this.closeSessionSignal=!1,this.stateNego=s.ENUM_PLAY_STATE_NEGO.stop,this.negoTimer=null,this.negoInterval=25e3,this.cameraStatus=0,this.micStatus=0,this.hasSentStreamStatus=!1,this.playEvent=!1,this.gotStreamStatus=!1,this.soundLevel=0,this.mic=null,this.script=null,this.beginTime=0,this.firstFrameTime=0,this.resourceMode=0,this.gwNode=\"\",this.gwNodeList=[],this.gwNodeTTL=0,this.isPeer=!1,this.peerFailCount=0,this.isProbe=!1,this.peerID=0,this.isRecvClientInfo=!1,this.videoCodec=\"\",this.videoCodecTimes=0,this.answerSdpTime=0,this.audioMuteState=\"0\",this.videoMuteState=\"0\",this.first_pkt=!0,this.next_sn=[],this.pkt_list=[],this.onDataChannelList=[],this.sideMediaConfig={isSEIStart:!1,unregisterSeiFilter:\"\",filterSize:0},this.iceDisconnectedMaxTime=15e3,this._turnToTcp=!1,this.decodeVideoFrame=function(e,t){if(\"VP8\"===c.videoCodec)t.terminate();else{for(var r=new DataView(e.data),i=0,o=new h.H264Parser(r),n=0,s=!1;o.NextNalu(s);)if(7!=(n=31&r.getUint8(o.nalu_start+o.start_code_size))&&8!=n&&9!=n){if(i=o.nalu_start+o.start_code_size+1,6!=n)break;s=!0;for(var a=0;255===r.getUint8(i);)a+=255,i++;if(243===(a+=r.getUint8(i++))||5===a||100===a){for(var u=0;255===r.getUint8(i);)u+=255,i++;if(u+=r.getUint8(i++),e.data.byteLength-i<u)break;var d=new Uint8Array(4+u);switch(d[0]=0,d[1]=0,a){case 100:d[2]=3,d[3]=235;break;case 5:d[2]=3,d[3]=236;break;case 243:d[2]=3,d[3]=237}for(var l=[],g=i;g<i+u;)0!==r.getInt8(g)||0!==r.getInt8(g+1)||3!==r.getInt8(g+2)||0!==r.getInt8(g+3)&&1!==r.getInt8(g+3)&&2!==r.getInt8(g+3)&&3!==r.getInt8(g+3)?g++:(l.push(g+2),g+=4);for(var f=0,m=0;m<u+l.length;m++)l.includes(i)?(i++,f++):d[4+m-f]=r.getUint8(i++);var _=!1;if(243===a)_=!0;else if(5===a&&c.sideMediaConfig.unregisterSeiFilter){var v=d.slice(4,4+c.sideMediaConfig.filterSize);p.WebRTCUtil.decodeString(v)===c.sideMediaConfig.unregisterSeiFilter&&(_=!0)}_&&c.stateCenter.actionListener(\"playerRecvSEI\",c.streamId,d)}}t.enqueue(e)}},this.decodeAudioFrame=function(e,t){t.enqueue(e)},this.logger=e,this.signal=t,this.dataReport=r,this.streamCenter=o,this.ac=n,this.stateCenter=a,this.dataReport.newReport(this.streamReportSeq),this.dataReport.addMsgInfo(this.streamReportSeq,{abs_time:Date.now()}),this.qualityHandler=new l.PlayStreamQuality(i,this,this.logger,this.dataReport),this.resourceMode=this.stateCenter.settingConfig.getSetting(\"resource_mode\")}return Object.defineProperty(e.prototype,\"probeState\",{get:function(){return this.qualityHandler.probeState},set:function(e){this.qualityHandler.probeState=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"netQuality\",{get:function(){return this.qualityHandler.netQuality},set:function(e){this.qualityHandler.netQuality=e},enumerable:!1,configurable:!0}),e.prototype.startPlay=function(e,t,r){var i,o,n,s,a=this;if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" called \",e),this.playEvent=!1,this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),e){if(this.streamId=e,this.getRemoteStreamSuc=t,this.playOption=r||{},this.playMediaStatus={video:void 0===this.playOption.video||!!this.playOption.video,audio:void 0===this.playOption.audio||!!this.playOption.audio},r&&r.videoCodec&&(this.playOption.videoCodec=r.videoCodec),\"boolean\"==typeof(null==r?void 0:r.isSEIStart)&&(this.sideMediaConfig.isSEIStart=null==r?void 0:r.isSEIStart),this.sideMediaConfig.isSEIStart){var u=c.ClientUtil.isSupportEncodedTransforms();((null===(i=this.playOption)||void 0===i?void 0:i.videoCodec)&&\"H264\"!==(null===(o=this.playOption)||void 0===o?void 0:o.videoCodec)||!u)&&(this.sideMediaConfig.isSEIStart=!1)}(null===(n=this.stateCenter.seiConfig)||void 0===n?void 0:n.unregisterSEIFilter)&&(this.sideMediaConfig.unregisterSeiFilter=null===(s=this.stateCenter.seiConfig)||void 0===s?void 0:s.unregisterSEIFilter,this.sideMediaConfig.filterSize=p.WebRTCUtil.encodeString(this.sideMediaConfig.unregisterSeiFilter).byteLength),null==(null==r?void 0:r.streamType)&&void 0!==this.stateCenter.streamType&&(this.playOption.streamType=this.stateCenter.streamType);var l=this.stateCenter.settingConfig.getSetting(\"play_video_codec\",!0);l&&(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" setting play_video_codec \"+l),this.playOption.videoCodec=l),this.dataReport.addMsgInfo(this.reportSeq,{audio_activate:m.audio_activate(1==this.playOption.audio?1:0==this.playOption.audio?0:1),video_activate:m.video_activate(1==this.playOption.video?1:0==this.playOption.video?0:1)}),this.isPeer?this.createOffer({encodedInsertableStreams:this.sideMediaConfig.isSEIStart}):this.createSession(),this.negoTimer=setTimeout((function(){a.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" waiting timeout\"),a.playStateUpdateError(m.error.kPlayNegoTimeoutError)}),this.negoInterval),this.isProbe&&this.qualityHandler.startProbeTimeout()}else this.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" streamId is null\")},e.prototype.onCreatePlaySessionSuccess=function(e){var t=this,r=d.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS;this.logger.info(r+\" \"+this.streamId+\" success\");var i=[];if(e.turn_server){var o=e.turn_server;this._turnToTcp=this.stateCenter.turnOverTcpOnly,this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting(\"auto_to_tcp\")||!1;var n=this.stateCenter.settingConfig.getSetting(\"udp_max_fail_num\");!isNaN(n)&&(this.streamCenter.maxUdpFailNum=n);var s=this.streamCenter,a=s.autoSwitchProtocol,c=s.maxUdpFailNum,u=s.udpFailNum;this.logger.info(r+\"  autoToTcp: \".concat(a,\", udpFailNum: \").concat(u,\", maxUdpFailNum: \").concat(c,\".\")),a&&!this._turnToTcp&&u>=c&&(this.logger.info(r+\" switch to tcp.\"),this._turnToTcp=!0);var l=this.stateCenter.settingConfig.getSetting(\"udp_or_tcp\",!0);l&&(this.logger.info(r+\" setting udp_or_tcp \"+l),this._turnToTcp=\"tcp\"===l),this._turnToTcp&&(o=o.replace(\"udp\",\"tcp\")),this.logger.info(r+\" turn over tcp \"+o),i.push(o)}e.stun_server&&i.push(e.stun_server);var h={iceTransportPolicy:\"relay\",iceServers:[{urls:i,username:e.turn_username,credential:e.turn_auth_key}],encodedInsertableStreams:this.sideMediaConfig.isSEIStart};this.logger.info(r+\" \"+this.streamId+\" username: \"+e.turn_username),this.logger.info(r+\" \"+this.streamId+\" credential: \"+e.turn_auth_key),this.createOffer(h);var p=performance.now();this.signal.registerPushCallback(\"MediaDescPush\",this.sessionId,(function(e,r,i){t.onRecvMediaDesc(e,r,i)})),this.signal.registerPushCallback(\"CandidateInfoPush\",this.sessionId,(function(e,r,i){t.onRecvCandidateInfo(e,r,i)})),this.signal.registerPushCallback(\"CloseSessionPush\",this.sessionId,(function(e,i,o){if(p){var n=(performance.now()-p).toFixed(0);p=void 0,t.logger.info(r+\" \".concat(t.streamId,\", cmd: CloseSessionPush, cost_time: \").concat(n))}t.onRecvCloseSession(e,i,o)})),this.signal.registerPushCallback(\"SessionResetPush\",this.sessionId,(function(e,r,i){t.onRecvResetSession(e,r,i)})),this.signal.registerPushCallback(\"StreamStatusNotifyPush\",this.sessionId,(function(e,r,i){t.gotStreamStatus=!0,t.streamStatus=i,t.playStream&&t.onRecvStreamStatus(i)})),this.signal.registerPushCallback(\"PlayEventPush\",this.sessionId,(function(e,i,o){if(p){var n=(performance.now()-p).toFixed(0);t.logger.info(r+\" \".concat(t.streamId,\", cmd: PlayEventPush, cost_time: \").concat(n))}t.onRecvPlayEvent(e,i,o)})),this.signal.registerPushCallback(\"ClientInfoPush\",this.sessionId,(function(e,r,i){t.onRecvClientInfo(e,r,i)})),this.logger.info(r+\" \"+this.streamId+\" call success\")},e.prototype.createOffer=function(e){var t=this,r=d.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS;this.peerConnection=new RTCPeerConnection(e),this.peerConnection.onicecandidate=function(e){t.onIceCandidate(e)},this.peerConnection.onsignalingstatechange=function(e){t.onConnectionStateChange(e)},this.peerConnection.oniceconnectionstatechange=function(e){t.onIceConnectionStateChange(e)},this.peerConnection.ontrack=function(e){t.onGotRemoteStream(e.streams[0],e.receiver)},this.streamCenter.isDataChannelEnabled&&(this.dataChannel=this.peerConnection.createDataChannel(this.streamId),this.dataChannel.binaryType=\"arraybuffer\",this.dataChannel.onopen=function(e){t.logger.info(r+\" \"+t.streamId+\" data channel open\")},this.dataChannel.onmessage=function(e){if(t.logger.info(r+\" \"+t.streamId+\" data channel onmessage\"),e.data instanceof Blob){var i=new FileReader,o={};i.readAsArrayBuffer(e.data),i.onload=function(){o.data=i.result,t.onReceivedDataChannel(o)}}else t.onReceivedDataChannel(e)});var i={offerToReceiveAudio:1,offerToReceiveVideo:1};this.playOption&&!1===this.playOption.video&&(i.offerToReceiveVideo=0),this.playOption&&!1===this.playOption.audio&&(i.offerToReceiveAudio=0),this.logger.info(r+\" \"+this.streamId+\" createOffer: \"+JSON.stringify(i)),this.dataReport.eventStart(this.reportSeq,\"CreateOffer\"),this.dataReport.eventStart(this.streamReportSeq,\"CreateOffer\"),this.peerConnection.createOffer(i).then((function(e){t.dataReport.eventEnd(t.reportSeq,\"CreateOffer\"),t.dataReport.eventEnd(t.streamReportSeq,\"CreateOffer\"),t.onCreateOfferSuccess(e)}),(function(e){t.dataReport.eventEndWithMsg(t.reportSeq,\"CreateOffer\",{error:e.toString()}),t.dataReport.eventEndWithMsg(t.streamReportSeq,\"CreateOffer\",{error:e.toString()}),t.logger.error(r+\" \"+t.streamId+\" create offer error \"+e.toString()),t.playStateUpdateError(m.error.kCreateOfferError,!0)}))},e.prototype.createSession=function(e){var t=this;this.sessionSeq=(0,s.getSeq)();var r=this.streamId;1==this.streamCenter.testEnvironment&&(r=\"zegotest-\"+this.streamCenter.appid+\"-\"+this.streamId),this.streamCenter.gwNode&&(this.gwNode=this.streamCenter.gwNode);var i=this.stateCenter.settingConfig.getSetting(\"gw_nodes\");i&&i instanceof Array&&i.length>0&&(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" setting \"+JSON.stringify(i)),this.gwNodeList=i,this.gwNode=this.gwNodeList[0]||this.gwNode);var o=this.stateCenter.turnOverTcpOnly,n=this.stateCenter.settingConfig.getSetting(\"udp_or_tcp\",!0);if(n&&(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" setting udp_or_tcp \"+n),o=\"tcp\"===n),o&&(this.isPeer=!1),this.isPeer){this.dataReport.eventStart(this.reportSeq,\"CreateSessionWithSdp\"),this.dataReport.eventStart(this.streamReportSeq,\"CreateSessionWithSdp\");var a=this.stateCenter.settingConfig.getSetting(\"l3_play_buffer_ms\"),c=(new Date).getTime(),u=\"\";\"number\"==typeof this.playOption.streamType&&(u+=\"\"==u?\"video_stream_type=\"+this.playOption.streamType:\"&&video_stream_type=\"+this.playOption.streamType),this.signal.createSessionWithSdp({seq:this.sessionSeq,type:this.isProbe?2:1,mode:0,streamId:r,strAuthParam:this.playOption&&this.playOption.streamParams||\"\",sdp:e.sdp,serverHost:this.gwNode,playBufLevel:2==this.resourceMode?a:void 0,params:u},(function(e,r,i){var o=(new Date).getTime();t.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" create session time \"+(o-c)),t.handleCreateSessionWithSdpResp(e,r,i)}),(function(e,r){t.sessionSeq==r?(t.dataReport.eventEndWithMsg(t.reportSeq,\"CreateSession\",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,\"CreateSession\",{error:e}),t.playStateUpdateError(e==s.SEND_MSG_TIMEOUT?m.error.kSessionTimeoutError:m.error.kSessionRequestError)):t.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" seq is not match.\")}))}else this.dataReport.eventStart(this.reportSeq,\"CreateSession\"),this.dataReport.eventStart(this.streamReportSeq,\"CreateSession\"),this.signal.createSession(this.sessionSeq,1,0,r,this.playOption&&this.playOption.streamParams,this.gwNode,(function(e,r,i){t.handleCreateSessionResp(e,r,i)}),(function(e,r){t.sessionSeq==r?(t.dataReport.eventEndWithMsg(t.reportSeq,\"CreateSession\",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,\"CreateSession\",{error:e}),t.playStateUpdateError(e==s.SEND_MSG_TIMEOUT?m.error.kSessionTimeoutError:m.error.kSessionRequestError)):t.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" seq is not match.\")}));this.state=s.ENUM_PLAY_STATE.waitingSessionRsp,this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" \"+this.streamId+\" called success\"),this.stateNego=s.ENUM_PLAY_STATE_NEGO.start},e.prototype.handleCreateSessionResp=function(e,t,r){var i=r.turn_server,o=i.split(\"?\")[0]&&i.split(\"?\")[0].slice(5),n=this.streamCenter.server.split(\"?\"),s=n[1]&&n[1].slice(2),a=\"webrtc://\".concat(o,\"/\").concat(s,\"/\").concat(this.streamId);this.dataReport.eventEndWithMsg(this.streamReportSeq,\"CreateSession\",{sessionId:r.session_id,url:a}),this.dataReport.eventEndWithMsg(this.reportSeq,\"CreateSession\",{sessionId:r.session_id,url:a}),this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" \"+this.streamId+\" sessionId:\"+r.session_id),this.sessionSeq==e?(this.gwNodeList=r.gw_nodes&&r.gw_nodes.length>0?r.gw_nodes:this.gwNodeList,this.gwNode=r.gw_nodes&&r.gw_nodes.length>0?this.gwNodeList[0]:this.gwNode,this.gwNodeTTL=r.gw_nodes_ttl?(new Date).getTime()+1e3*r.gw_nodes_ttl:this.gwNodeTTL,this.stateCenter.clientIP=r.clientip?r.clientip:this.stateCenter.clientIP,0!==r.result?(this.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" \"+this.streamId+\" create error\"),this.playStateUpdateError(m.error.kSessionRequestError)):(this.sessionId=r.session_id,this.sessionToken=r.session_token,this.dataReport.addMsgInfo(this.reportSeq,{session_id:m.session_id(this.sessionId)}),this.onCreatePlaySessionSuccess(r))):this.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+\" seq is not match.\")},e.prototype.handleCreateSessionWithSdpResp=function(e,t,r){var i=this;if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+\" sessionId:\"+t),this.sessionSeq==e){this.gwNodeList=r.gw_nodes&&r.gw_nodes.length>0?r.gw_nodes:this.gwNodeList,this.gwNode=r.gw_nodes&&r.gw_nodes.length>0?this.gwNodeList[0]:this.gwNode,this.gwNodeTTL=r.gw_nodes_ttl?(new Date).getTime()+1e3*r.gw_nodes_ttl:this.gwNodeTTL,this.stateCenter.clientIP=r.clientip?r.clientip:this.stateCenter.clientIP,this.dataReport.eventEndWithMsg(this.streamReportSeq,\"CreateSessionWithSdp\",{sessionId:t});var o=0,n=(new Date).getTime();if(this.dataReport.dataStatistics[this.reportSeq]&&this.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+\" \"+this.streamId+\" create sdp time \"+(o=n-this.dataReport.dataStatistics[this.reportSeq].event_time)),this.answerSdpTime=n,this.dataReport.eventEndWithMsg(this.reportSeq,\"CreateSessionWithSdp\",{sessionId:t,sessionTime:o}),0!==r.result){if(this.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+\" create session failed \"+r.result),this.stateCenter.useNetAgent&&1004===(null==r?void 0:r.result))return void this.playStateUpdateError(m.error.kPlayStreamNotFound,!0);this.playStateUpdateError(m.error.kSessionRequestError)}else{this.sessionId=t,this.sessionToken=r.session_token,this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+\" create session success \",this.streamId),this.dataReport.eventStart(this.reportSeq,\"IceConnected\");var s=performance.now();this.signal.registerPushCallback(\"CloseSessionPush\",this.sessionId,(function(e,t,r){if(s){var o=(performance.now()-s).toFixed(0);s=void 0,i.logger.info(d.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \".concat(i.streamId,\", cmd: CloseSessionPush, cost_time: \").concat(o))}i.onRecvCloseSession(e,t,r)})),this.signal.registerPushCallback(\"SessionResetPush\",this.sessionId,(function(e,t,r){i.onRecvResetSession(e,t,r)})),this.signal.registerPushCallback(\"StreamStatusNotifyPush\",this.sessionId,(function(e,t,r){i.gotStreamStatus=!0,i.streamStatus=r,i.playStream&&i.onRecvStreamStatus(r)})),this.signal.registerPushCallback(\"PlayEventPush\",this.sessionId,(function(e,t,r){if(s){var o=(performance.now()-s).toFixed(0);s=void 0,i.logger.info(d.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \".concat(i.streamId,\", cmd: PlayEventPush, cost_time: \").concat(o))}i.onRecvPlayEvent(e,t,r)})),this.signal.registerPushCallback(\"ClientInfoPush\",this.sessionId,(function(e,t,r){i.onRecvClientInfo(e,t,r)})),this.signal.registerPushCallback(\"NetQualityProbeRsp\",this.sessionId,(function(e,t,r){i.onRecvPlayEvent(e,t,r)})),this.signal.registerPushCallback(\"NetQualityInfoPush\",this.sessionId,(function(e,t,r){i.onRecvNetQualityInfo(e,t,r)})),this.onGetRemoteOfferSuccess(r.sdp)}}else this.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+\" seq is not match.\")},e.prototype.onCreateOfferSuccess=function(e){var t=this;this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+\" \"+this.streamId+\" localSdp1 \"+e.sdp.substr(0,e.sdp.length/2)),this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+\" \"+this.streamId+\" localSdp2 \"+e.sdp.substr(e.sdp.length/2)),e.sdp=e.sdp.replace(/sendrecv/g,\"recvonly\"),e.sdp=e.sdp.replace(/useinbandfec=/,\"stereo=1;useinbandfec=\");var r=e.sdp.match(/m=application[\\s\\S]+datachannel[\\s\\S]+/)?e.sdp.match(/m=application[\\s\\S]+datachannel[\\s\\S]+/)[0]:null;if(r){var i=r.replace(/recvonly/,\"sendrecv\");e.sdp=e.sdp.replace(r,i)}e.sdp=(0,f.addSPSDescription)(e.sdp),e.sdp=(0,f.addRRTRLine)(e.sdp),this.playOption.videoCodec&&(e.sdp=a.SdpUtil.getSDPByVideDecodeType(e.sdp,this.playOption.videoCodec)),this.dataReport.eventStart(this.reportSeq,\"SetLocalDescription\"),this.dataReport.eventStart(this.streamReportSeq,\"SetLocalDescription\"),this.peerConnection.setLocalDescription(e).then((function(){t.dataReport.eventEnd(t.reportSeq,\"SetLocalDescription\"),t.dataReport.eventEnd(t.streamReportSeq,\"SetLocalDescription\"),t.onSetLocalDescriptionSuccess(e)}),(function(e){t.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+\" \"+t.streamId+\" set error \"+e.toString()),t.dataReport.eventEnd(t.reportSeq,\"SetLocalDescription\",{error:e.toString()}),t.dataReport.eventEnd(t.streamReportSeq,\"SetLocalDescription\",{error:e.toString()}),t.playStateUpdateError(m.error.kSetLocalDescError,!0)}))},e.prototype.onSetLocalDescriptionSuccess=function(e){var t=this;if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+this.streamId+\" success\"),this.isPeer)this.createSession(e);else{var r={sdp:e.sdp};2==this.resourceMode&&(r.min_play_buf_level_ms=500),this.answerSeq=(0,s.getSeq)(),this.dataReport.eventStart(this.reportSeq,\"SendMediaDesc\"),this.dataReport.eventStart(this.streamReportSeq,\"SendMediaDesc\"),this.signal.sendMediaDesc(this.answerSeq,this.sessionId,0,r,(function(e,r,i){t.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+t.streamId+\" sendMediaDesc resp\"),t.answerSeq==e&&t.sessionId==r?(t.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+t.streamId+\" send success stateNego:waiterAnswer\"),t.stateNego=s.ENUM_PLAY_STATE_NEGO.waiterAnswer,t.dataReport.eventEnd(t.reportSeq,\"SendMediaDesc\"),t.dataReport.eventEnd(t.streamReportSeq,\"SendMediaDesc\"),t.state=s.ENUM_PLAY_STATE.waitingServerAnswer):t.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+t.streamId+\" seq or sessionId is not equal \"+t.answerSeq+\" \"+e,0+t.sessionId+\" \"+r)}),(function(e,r){t.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+t.streamId+\" failed to send \"+e),t.dataReport.eventEndWithMsg(t.reportSeq,\"SendMediaDesc\",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,\"SendMediaDesc\",{error:e}),t.playStateUpdateError(m.error.kMediaDescError)})),this.state=s.ENUM_PLAY_STATE.waitingOfferRsp}},e.prototype.onRecvMediaDesc=function(e,t,r){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" \"+this.streamId+\" received \",r),this.stateNego=s.ENUM_PLAY_STATE_NEGO.waitingCandidate,this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" \"+this.streamId+\" received stateNego:waitingCandidate\"),this.state===s.ENUM_PLAY_STATE.waitingServerAnswer?(this.dataReport.addEvent(this.reportSeq,\"RecvMediaDesc\"),this.dataReport.addEvent(this.streamReportSeq,\"RecvMediaDesc\"),this.signal.sendMediaDescAck(e,this.sessionId,0),this.onGetRemoteOfferSuccess(r.sdp)):this.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" \"+this.streamId+\" current state \"+this.state+\" not allowed\")},e.prototype.onGetRemoteOfferSuccess=function(e){var t,r=this,i={type:\"answer\",sdp:e,toJSON:function(){}};this.dataReport.eventStart(this.reportSeq,\"SetRemoteDescription\"),this.dataReport.eventStart(this.streamReportSeq,\"SetRemoteDescription\"),this._turnToTcp=this.stateCenter.turnOverTcpOnly,this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting(\"auto_to_tcp\")||!1;var o=this.stateCenter.settingConfig.getSetting(\"udp_max_fail_num\");!isNaN(o)&&(this.streamCenter.maxUdpFailNum=o);var n=this.streamCenter,a=n.autoSwitchProtocol,c=n.maxUdpFailNum,u=n.udpFailNum;this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\"  autoToTcp: \".concat(a,\", udpFailNum: \").concat(u,\", maxUdpFailNum: \").concat(c,\".\")),a&&!this._turnToTcp&&u>=c&&(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" switch to tcp.\"),this._turnToTcp=!0);var l=this.stateCenter.settingConfig.getSetting(\"udp_or_tcp\",!0);l&&(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" setting udp_or_tcp \"+l),this._turnToTcp=\"tcp\"===l),this._turnToTcp&&(null===(t=i.sdp.match(/candidate.*/g))||void 0===t||t.forEach((function(e){var t=e.replace(/udp/,\"tcp\");t.includes(\" tcptype \")||(t=t.replace(\" typ host \",\" typ host tcptype passive \")),i.sdp=i.sdp.replace(e,t)}))),this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" \"+this.streamId+\" remoteSdp \",i.sdp),this.peerConnection.setRemoteDescription(new RTCSessionDescription(i)).then((function(){r.dataReport.eventEnd(r.reportSeq,\"SetRemoteDescription\"),r.dataReport.eventEnd(r.streamReportSeq,\"SetRemoteDescription\"),r.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" \"+r.streamId+\" set success\")}),(function(e){r.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" \"+r.streamId+\" set remote error \"+e.toString()),r.dataReport.eventEndWithMsg(r.reportSeq,\"SetRemoteDescription\",{error:e.toString()}),r.dataReport.eventEndWithMsg(r.streamReportSeq,\"SetRemoteDescription\",{error:e.toString()}),r.playStateUpdateError(m.error.kSetRemoteDescError,!0)})),this.state=s.ENUM_PLAY_STATE.waitingServerICE,this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+\" \"+this.streamId+\" call success\")},e.prototype.onRecvCandidateInfo=function(e,t,r){var i=this;if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+\" \"+this.streamId+\" received \"),this.state==s.ENUM_PLAY_STATE.waitingServerICE){this.dataReport.addEvent(this.reportSeq,\"RecvIceCandidate\"),this.dataReport.addEvent(this.streamReportSeq,\"RecvIceCandidate\"),this.signal.sendCandidateInfoAck(e,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var o=0;o<r.infos.length;o++){var n={sdpMid:r.infos[o].sdpMid,sdpMLineIndex:r.infos[o].sdpMLineIndex,candidate:r.infos[o].candidate};this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+\" \"+this.streamId+\" candidate \"+n.candidate),this.peerConnection.addIceCandidate(new RTCIceCandidate(n)).then((function(){i.logger.debug(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+\" \"+i.streamId+\" add success\")}),(function(e){i.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+\" \"+i.streamId+\" add error \"+e.toString()),i.playStateUpdateError(m.error.kCandidateError,!0)}))}this.state=s.ENUM_PLAY_STATE.connecting,this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+\" \"+this.streamId+\" call success\")}else this.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+\" \"+this.streamId+\" current state \"+this.state+\" not allowed\")},e.prototype.onRecvPlayEvent=function(e,t,r){if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_PLAY_EVENT+\" \"+this.streamId+\" received\"),!0===this.playEvent&&0==r.event){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_PLAY_EVENT+\" \"+this.streamId+\" retry: \"+this.streamId);var i=this.streamId,o=this.playOption;this.signal.sendCloseSession((0,s.getSeq)(),this.sessionId,1),this.resetPlay(),this.startPlay(i,this.getRemoteStreamSuc,o)}else this.playEvent=!0},e.prototype.onRecvClientInfo=function(e,t,r){this.stateCenter.clientIP!==r.clientip&&this.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CLIENT_INFO+\" client ip changed \"+this.stateCenter.clientIP+\" \"+r.clientip),this.stateCenter.clientIP=r.clientip,this.peerID=r.peer_id,this.isProbe&&this.stateNego==s.ENUM_PLAY_STATE_NEGO.iceConnected&&this.signal.sendNetProbe((0,s.getSeq)(),this.sessionId,this.peerID,(function(){}),(function(){})),this.isRecvClientInfo=!0},e.prototype.onRecvNetQualityInfo=function(e,t,r){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_NET_QUALITY_INFO+\" call\"),this.qualityHandler.stopProbeTimeout();var i=0,o=r.lossrate,n=r.rtt;this.peerID===r.peer_id&&null!=typeof o&&null!=typeof n||(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_NET_QUALITY_INFO+\" local peerID:\"+this.peerID+\" remote peerID:\"+r.peer_id+\" lossrate:\"+o+\" rtt:\"+n),i=1),this.signal.sendNetQualityInfoPushAck((0,s.getSeq)(),this.sessionId,this.peerID,i),0==i&&\"number\"==typeof o&&\"number\"==typeof n?this.onCalNetQualityResult(0,c.ClientUtil.getNetQuality(n,o)):this.onCalNetQualityResult(1)},e.prototype.onIceCandidate=function(e){(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+\" \"+this.streamId+\" called\"),null!=e.candidate)&&(this.logger.debug(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+\" \"+this.streamId+\" candidate \"+e.candidate.candidate),this.state<s.ENUM_PLAY_STATE.connecting||this.state==s.ENUM_PLAY_STATE.stop?(this.logger.debug(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+\" \"+this.streamId+\" cached\"),this.candidateInfo.push({candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex})):(this.logger.debug(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+\" \"+this.streamId+\" send\"),this.sendCandidateInfo([{candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex}])))},e.prototype.onConnectionStateChange=function(e){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" called \"+e.target.signalingState)},e.prototype.onIceConnectionStateChange=function(e){var t=this;if(this.state!=s.ENUM_PLAY_STATE.stop&&null!=this.peerConnection)if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" stateChanged \"+this.peerConnection.iceConnectionState),\"connected\"===this.peerConnection.iceConnectionState){if(this.stateNego=s.ENUM_PLAY_STATE_NEGO.iceConnected,this.isProbe&&this.isPeer&&this.isRecvClientInfo)return this.signal.sendNetProbe((0,s.getSeq)(),this.sessionId,this.peerID,(function(){}),(function(){})),void(null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null));if(null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.dataReport.addEvent(this.reportSeq,\"IceConnected\"),this.dataReport.addEvent(this.streamReportSeq,\"IceConnected\"),this.answerSdpTime){var r=(new Date).getTime()-this.answerSdpTime;this.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" ice time \"+r)}for(var i in this.isProbe||this.state==s.ENUM_PLAY_STATE.playing||(this.onPlayStateUpdate(s.ENUM_PLAY_STATE_UPDATE.start,this.streamId,{code:0,message:\"\"},!0),this.getRemoteStreamSuc&&this.getRemoteStreamSuc(this.playStream)),this.state=s.ENUM_PLAY_STATE.playing,this.dataReport.eventStart(this.reportSeq,\"PlayState\"),this.dataReport.eventStart(this.streamReportSeq,\"PlayState\"),this.streamCenter.publisherList){if(this.streamCenter.publisherList[i].publisher.state==s.ENUM_PUBLISH_STATE.publishing&&this.broadcasterStatus==s.ENUM_BROADCASTER_STATUS.stop){this.signal&&this.signal.sendBroadcasterStatus((0,s.getSeq)(),this.sessionId,1),this.broadcasterStatus=s.ENUM_BROADCASTER_STATUS.start;break}}if(!this.isProbe){this.qualityHandler.setPlayQualityTimer();var o=this.stateCenter.settingConfig.getSetting(\"probe_started_num\");!isNaN(o)&&(this.streamCenter.probeStartedNum=o)}if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" stateNego:iceConnected\"),this.isPeer&&(this.peerFailCount=0),0==this.firstFrameTime){this.firstFrameTime=(new Date).getTime()-this.beginTime;var n=(0,s.getReportSeq)();this.dataReport.newReport(n,u.ZegoRTCLogEvent.kZegoTaskPlayDecodeFirstVideoFrame.event),this.dataReport.addMsgInfo(n,{session_id:u.ZegoRTCLogEvent.kZegoTaskPlayDecodeFirstVideoFrame.session_id(this.sessionId),fft_consumed:u.ZegoRTCLogEvent.kZegoTaskPlayDecodeFirstVideoFrame.fft_consumed(this.firstFrameTime)}),!this.isProbe&&this.dataReport.uploadReport(n)}this._turnToTcp||(this.streamCenter.udpFailNum=0)}else\"closed\"===this.peerConnection.iceConnectionState?(this.dataReport.addEvent(this.reportSeq,\"IceClosed\"),this.stateNego=s.ENUM_PLAY_STATE_NEGO.iceClosed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):\"failed\"===this.peerConnection.iceConnectionState?(this.dataReport.addEvent(this.reportSeq,\"IceFailed\"),this.stateNego=s.ENUM_PLAY_STATE_NEGO.iceFailed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):\"disconnected\"===this.peerConnection.iceConnectionState&&(this.dataReport.addEvent(this.reportSeq,\"IceDisconnected\"),this.stateNego=s.ENUM_PLAY_STATE_NEGO.iceDisconnected,this.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+\" ice disconnected\"),this.iceDisconnectedTimer||(this.iceDisconnectedTimer=setTimeout((function(){t.checkPlayConnectionFailedState(\"disconnected\")}),this.iceDisconnectedMaxTime)))},e.prototype.checkPlayConnectionFailedState=function(e){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+\"  state \"+this.state+\" connectionState \"+e),this.playStateUpdateError(m.error.kMediaConnectionError)},e.prototype.resetPlay=function(){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_RESET_PLAY+\" \"+this.streamId+\" call\"),this.state=s.ENUM_PLAY_STATE.stop,this.playEvent=!1,this.isRecvClientInfo=!1,null!=this.peerConnection&&(this.peerConnection.close(),this.peerConnection=null),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.stopVideocTimer(),this.qualityHandler.stopProbeTimeout(),this.qualityHandler.clearPlayQualityTimer(),this.signal&&(this.signal.unregisterPushCallback(\"MediaDescPush\",this.sessionId),this.signal.unregisterPushCallback(\"CandidateInfoPush\",this.sessionId),this.signal.unregisterPushCallback(\"CloseSessionPush\",this.sessionId),this.signal.unregisterPushCallback(\"SessionResetPush\",this.sessionId),this.signal.unregisterPushCallback(\"PlayEventPush\",this.sessionId),this.signal.unregisterPushCallback(\"ClientInfoPush\",this.sessionId),this.signal.unregisterPushCallback(\"NetQualityProbeRsp\",this.sessionId),this.signal.unregisterPushCallback(\"NetQualityInfoPush\",this.sessionId)),this.sessionSeq=0,this.answerSeq=0,this.videoSizeCallback=!1,this.stopSoundLevel()},e.prototype.onRecvResetSession=function(e,t,r){if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_RESET_SESSION+\" \"+this.streamId+\" received \"),t==this.sessionId){this.signal.sendCloseSessionAck(e,this.sessionId,0);var i=JSON.parse(JSON.stringify(m.error.kPlaySessionClosedError));this.negoTimer&&clearTimeout(this.negoTimer),this.playStateUpdateError(i)}else this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_RESET_SESSION+\" \"+this.streamId+\" cannot find session\")},e.prototype.onRecvCloseSession=function(e,t,r){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CLOSE_SESSION+\" \"+this.streamId+\" \"+JSON.stringify(r)),this.signal.sendCloseSessionAck(e,this.sessionId,0);var i=r.err_info?JSON.parse(r.err_info.toLowerCase()):{},o=i.action?i.action:null,n=1*r.reason,s=JSON.parse(JSON.stringify(m.error.kPlaySessionClosedError));s.message+=\" reason:\".concat(n,\" \").concat(o?\" action:\"+o:\"\",\" \").concat((null==i?void 0:i.err)?\" err:\"+(null==i?void 0:i.err):\"\"),this.negoTimer&&clearTimeout(this.negoTimer);var a=![4,8,10,11,12,14,24,26,27,28].includes(n)&&![2,5,6].includes(o);if([8,10].includes(n)||[18,15].includes(n)&&2===o&&[3001,3002].includes(i.err)){this.streamCenter.udpFailNum++;var c=this.streamCenter;c.autoSwitchProtocol&&c.udpFailNum>=c.maxUdpFailNum&&(this.isPeer=!1,this.streamCenter.setIsPeer(!1))}else this._turnToTcp||(this.streamCenter.udpFailNum=0);this.playStateUpdateError(s,a)},e.prototype.onRecvStreamStatus=function(e){if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+\" \"+this.streamId+\" call\"),this.logger.info(\"\".concat(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS,\" \").concat(this.streamId,\" status camera_status: \").concat(e.camera_status,\" mic_status: \").concat(e.mic_status)),(!this.hasSentStreamStatus||this.cameraStatus!==e.camera_status)&&this.onRemoteCameraStatusUpdate(this.streamId,this.getCameraMicStatus(e.camera_status),e.camera_status),(!this.hasSentStreamStatus||this.micStatus!==e.mic_status)&&this.onRemoteMicStatusUpdate(this.streamId,this.getCameraMicStatus(e.mic_status),e.mic_status),this.hasSentStreamStatus=!0,this.cameraStatus=e.camera_status,this.micStatus=e.mic_status,this.videoMuteState=0===e.camera_status?\"0\":\"1\",this.audioMuteState=0===e.mic_status?\"0\":\"1\",\"boolean\"==typeof this.playOption.video)this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+\" \"+this.streamId+\" has set video option, ignore stream status\");else{var t=this.playStream,r=this.rtcViewer;if(0!==e.camera_status&&20!==e.camera_status)t.getVideoTracks().forEach((function(e){e.enabled=!1,e.stop(),t.removeTrack(e),r&&r.setVideo(null)}));else if(0===t.getVideoTracks().length){var i=this.remoteStream.clone().getVideoTracks()[0];t.addTrack(i),r&&r.setVideo(i,\"safari\"===this.stateCenter.browser)}if(\"safari\"===this.stateCenter.browser)for(var o=document.querySelectorAll(\"video, audio\"),n=0;n<o.length;n++){var s=o[n];s.srcObject===this.playStream&&!0===s.paused&&(s.srcObject=this.playStream)}}this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+\" \"+this.streamId+\" call success\")},e.prototype.onGotRemoteStream=function(e,t){var r=this;if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_GOT_REMOTE_STREAM+\" \"+this.streamId+\" called \"+e),e){if(this.sideMediaConfig.isSEIStart&&\"function\"==typeof t.createEncodedStreams&&(\"video\"===t.track.kind?this.createVideoReceiverTransform(t):\"audio\"===t.track.kind&&this.createAudioReceiverTransform(t)),this.playStream){this.playStream.getTracks().forEach((function(e){return r.playStream.removeTrack(e)}));var i=this.rtcViewer;e.clone().getTracks().forEach((function(e){return o(r,void 0,void 0,(function(){return n(this,(function(t){return this.playStream.addTrack(e),i&&i.setTrack(\"video\"===e.kind,e,\"safari\"===this.stateCenter.browser),[2]}))}))}))}else this.playStream=e.clone();this.audioMuteState=this.playStream.getAudioTracks().length>0?\"0\":\"1\",this.videoMuteState=this.playStream.getVideoTracks().length>0?\"0\":\"1\",this.remoteStream=e,this.getVideoCodec(),this.gotStreamStatus&&this.onRecvStreamStatus(this.streamStatus),this.dataReport.addEvent(this.reportSeq,\"GetRemoteStream\"),this.streamCenter.soundLevelDelegate&&!this.isProbe&&this.startSoundLevel()}else this.logger.warn(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_GOT_REMOTE_STREAM+\" \"+this.streamId+\" remote stream is empty\")},e.prototype.createVideoReceiverTransform=function(e){var t=e.createEncodedStreams(),r=new TransformStream({transform:this.decodeVideoFrame});this.receiverStreams=t,t.readable.pipeThrough(r).pipeTo(t.writable)},e.prototype.createAudioReceiverTransform=function(e){var t=e.createEncodedStreams(),r=new TransformStream({transform:this.decodeAudioFrame});t.readable.pipeThrough(r).pipeTo(t.writable)},e.prototype.sendCandidateInfo=function(e){var t=this;this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+\" \"+this.streamId+\" called\"),!(e=e.filter((function(e){return!(e.candidate.indexOf(\"tcp\")>0)&&(!!e.candidate||void 0)})))||e.length<1?this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+\" \"+this.streamId+\" cancelled\"):(this.dataReport.eventStart(this.reportSeq,\"SendIceCandidate\"),this.dataReport.eventStart(this.streamReportSeq,\"SendIceCandidate\"),this.stateNego!==s.ENUM_PLAY_STATE_NEGO.iceConnected&&(this.stateNego=s.ENUM_PLAY_STATE_NEGO.sendCandidate),this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+\" \"+this.streamId+\" stateNego:sendCandidate\"),this.signal.sendCandidateInfo((0,s.getSeq)(),this.sessionId,e,(function(e,r,i){t.logger.debug(d.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+\" \"+t.streamId+\" send success\"),t.dataReport.eventEnd(t.reportSeq,\"SendIceCandidate\"),t.dataReport.eventEnd(t.streamReportSeq,\"SendIceCandidate\")}),(function(e,r){t.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+\" \"+t.streamId+\" failed to send: \"+e.toString()),t.dataReport.eventEndWithMsg(t.reportSeq,\"SendIceCandidate\",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,\"SendIceCandidate\",{error:e}),t.playStateUpdateError(m.error.kCandidateError)})))},e.prototype.shouldSendCloseSession=function(){return this.state!=s.ENUM_PLAY_STATE_UPDATE.stop&&this.state!=s.ENUM_PLAY_STATE.waitingSessionRsp},e.prototype.playStateUpdateError=function(e,t){this.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_STATE_ERROR+\" call \",this.streamId,JSON.stringify(e)),this.isProbe?this.onCalNetQualityResult(1):this.streamId&&this.onPlayStateUpdate(s.ENUM_PLAY_STATE_UPDATE.error,this.streamId,e,t),this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_STATE_ERROR+\" \"+this.streamId+\" ended\")},e.prototype.getCameraMicStatus=function(e){return 0==e?\"OPEN\":\"MUTE\"},e.prototype.onPlayStateUpdate=function(e,t,r,i){},e.prototype.onPlayQualityUpdate=function(e,t){},e.prototype.onRemoteCameraStatusUpdate=function(e,t,r){},e.prototype.onRemoteMicStatusUpdate=function(e,t,r){},e.prototype.stopPlay=function(){var e;for(var t in this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_STOP_PLAY+\" \"+this.streamId+\" called\"),this.streamCenter.publisherList){if(this.streamCenter.publisherList[t].publisher.state==s.ENUM_PUBLISH_STATE.publishing&&this.broadcasterStatus==s.ENUM_BROADCASTER_STATUS.start){this.signal&&this.signal.sendBroadcasterStatus((0,s.getSeq)(),this.sessionId,0),this.broadcasterStatus=s.ENUM_BROADCASTER_STATUS.stop;break}}this.sessionId&&!this.closeSessionSignal&&this.signal.sendCloseSession((0,s.getSeq)(),this.sessionId,0),this.dataReport.eventEndWithMsg(this.streamReportSeq,\"PlayState\",{state:this.state+\"\"}),this.dataReport.addEvent(this.streamReportSeq,\"StopPlay\"),this.dataReport.addMsgExt(this.streamReportSeq,{stream:this.streamId,sessionId:this.sessionId}),this.resetPlay();var r=this.qualityHandler,o=r.videoBreak,n=r.audioBreak,a=2===this.resourceMode?\"l3\":\"rtc\",c=((e={})[\"\".concat(a,\"_a_break_time\")]=n.cumulativeBreakDuration,e[\"\".concat(a,\"_a_decode_time\")]=n.cumulativeDecodeDuration,e[\"\".concat(a,\"_v_break_time\")]=o.cumulativeBreakDuration,e[\"\".concat(a,\"_v_decode_time\")]=o.cumulativeDecodeDuration,e);this.dataReport.addMsgInfo(this.streamReportSeq,i({itemtype:\"RTCPlayStream\",use_na:this.stateCenter.useNetAgent?1:0,cdn_a_break_time:0,cdn_a_decode_time:0,cdn_v_break_time:0,cdn_v_decode_time:0,l3_a_break_time:0,l3_a_decode_time:0,l3_v_break_time:0,l3_v_decode_time:0,rtc_a_break_time:0,rtc_a_decode_time:0,rtc_v_break_time:0,rtc_v_decode_time:0},c));var u=this.rtcViewer;u&&u.stop(),!this.isProbe&&this.dataReport.uploadReport(this.streamReportSeq,\"RTCPlayStream\")},e.prototype.onDisconnect=function(e){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_ON_DISCONNECT+\" \"+this.streamId+\" call\"),this.dataReport.addEvent(this.reportSeq,\"OnDisconnect\"),this.playStateUpdateError(e||m.error.kWebsocketDisconnectedError,!!e)},e.prototype.startSoundLevel=function(){var e=this;if(this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+\" call streamID: \"+this.streamId),!this.isProbe)if(this.remoteStream&&0!=this.remoteStream.getAudioTracks().length){this.script&&this.script.disconnect()&&(this.script=null),this.mic&&this.mic.disconnect()&&(this.mic=null);try{this.mic=this.ac.createMediaStreamSource(this.remoteStream),this.script=this.ac.createScriptProcessor(4096,1,1),this.mic.connect(this.script),this.script.connect(this.ac.destination),this.script.onaudioprocess=function(t){for(var r=t.inputBuffer.getChannelData(0),i=0,o=0;o<r.length;o++)i<r[o]&&(i=r[o]);e.soundLevel=100*i},this.ac.resume()}catch(e){this.logger.error(d.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+\" get sound level failed \"+e)}}else this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+\" \"+this.streamId+\" remote stream no found\")},e.prototype.stopSoundLevel=function(){this.logger.info(d.ZEGO_WEBRTC_ACTION.PLAYER_STOP_SOUND_LEVEL+\" call streamID: \"+this.streamId),this.script&&this.script.disconnect(),this.mic&&this.mic.disconnect(),this.script=null,this.mic=null},e.prototype.onCalNetQualityResult=function(e,t){},e.prototype.onReceivedDataChannel=function(e){var t,r,i=this,o=new Uint8Array(e.data,0,10),n=e.data.byteLength-10,s=new Uint8Array(e.data,10,n);if(1==o[0]){var a=o[1],c=o[2]<<8|o[3],u=o[4]<<8|o[5],d=(new Date).getTime();if(this.first_pkt&&(this.next_sn[0]=c==u?c:u,this.first_pkt=!1),this.pkt_list.push({sn:c,sn0:u,recv_ts:d,flags:a,payload_len:n,payloadArray:s}),this.pkt_list.sort(this.compareShort),c==this.next_sn[0]){var l=this.pkt_list.filter((function(e){return e.sn0==u}));if(l.sort(this.compareShort),null!=l.find((function(e){return 1&e.flags}))&&l.length==this.compareShort(c,u)+1){for(var h=0,p=new ArrayBuffer(65536),g=0;g<l.length;g++){new Uint8Array(p).set(l[g].payloadArray,h),h+=l[g].payload_len}null===(t=this.onDataChannelList)||void 0===t||t.forEach((function(e){e(p,h,i.streamId)})),this.pkt_list=[],this.first_pkt=!0}this.next_sn[0]++}else for(var f=function(){var e=m.pkt_list.filter((function(e){return e.sn0==i.pkt_list[0].sn0}));if(e.sort(m.compareShort),null!=e.find((function(e){return 1&e.flags}))&&e.length==m.compareShort(e[e.length-1].sn,e[0].sn0)+1){for(var t=0,o=new ArrayBuffer(65536),n=0;n<e.length;n++){new Uint8Array(o).set(e[n].payloadArray,t),t+=e[n].payload_len}m.next_sn[0]=e[0].sn0+e.length,null===(r=m.onDataChannelList)||void 0===r||r.forEach((function(e){e(o,t,i.streamId)})),m.pkt_list=[],m.first_pkt=!0}else if(d-e[0].ts<4e3){var s=e[0].sn0;for(n=0;n<e.length&&s==e[n].sn;n++)s++;return m.next_sn[0]=s,\"break\"}for(n=0;n<e.length;n++)m.pkt_list.shift()},m=this;this.pkt_list.length>0;){if(\"break\"===f())break}}},e.prototype.compareShort=function(e,t){var r=new Uint16Array(1);r[0]=e-t;var i=new Int16Array(1);return i[0]=r[0],i[0]},e.prototype.getVideoCodec=function(){var e=this;this.peerConnection&&(this.peerConnection.getStats().then((function(t){t.forEach((function(r){if(\"inbound-rtp\"===r.type&&\"video\"===r.kind&&r.codecId){var i=t.get(r.codecId).mimeType.toLowerCase();i.indexOf(\"h264\")>-1?e.videoCodec=\"H264\":i.indexOf(\"vp8\")>-1&&(e.videoCodec=\"VP8\",e.sideMediaConfig.isSEIStart&&e.logger.error(d.ZEGO_WEBRTC_ACTION.PAYER_GET_VIDEO_CODEC+\" video code VP8 is not support SEI\"))}}))})),this.videoCodecTimes++,this.videoCodec||this.videoCodecTimes>=5)?this.stopVideocTimer():this.videoCodecTimer=setTimeout((function(){e.getVideoCodec()}),100)},e.prototype.stopVideocTimer=function(){this.videoCodecTimer&&(clearTimeout(this.videoCodecTimer),this.videoCodecTimer=null)},e.prototype.getViewer=function(){return this.playStream&&!this.rtcViewer&&(this.rtcViewer=new g.StreamView(this.playStream,this)),this.rtcViewer},e}();t.ZegoPlayWeb=_},2981:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.PublishModule=void 0;var o=r(6262),n=r(9887),s=r(8335),a=r(3608),c=r(7716),u=r(9334),d=r(8466),l=r(3364),h=function(){function e(e,t,r,i,o){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=i,this.rtm=o,this.recordDevices()}return e.prototype.createStream=function(e){var t=this;return this.logger.info(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" call\"),e&&e.camera&&e.camera.audioBitRate&&(e.camera.audioBitrate=e.camera.audioBitRate),e&&e.camera&&e.camera.bitrate&&(e.camera.bitRate=e.camera.bitrate),e&&e.screen&&\"object\"==typeof e.screen&&e.screen.bitrate&&(e.screen.bitRate=e.screen.bitrate),e&&e.custom&&e.custom.bitrate&&(e.custom.bitRate=e.custom.bitrate),new Promise((function(r,c){var u=\"camera\",h=(0,n.getReportSeq)();t.dataReport.newReport(h,s.ZegoRTCLogEvent.kZegoTaskCreateStream.event);var p=function(e){var i=t.streamCenter.checkPreview(e),o=e;if(i&&navigator.userAgent){var n=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);n&&n[1]&&n[1].includes(\"15_1\")&&(o=t.getStreamThroughCanvas(e),i.localStream=o)}if(0==o.getAudioTracks().length){var s=t.streamCenter.ac.createMediaStreamDestination(),a=s?s.stream:null,c=a?a.getAudioTracks()[0]:null;c&&(c.enabled=!1,o.addTrack(c),i&&(i.hasEmptyAudioTrack=!0))}t.dataReport.uploadReport(h),!t.stateCenter.deviceInfos&&t.recordDevices(),r(o),t.streamCenter.activeSoundLevel()},g=function(e,r){void 0===r&&(r=\"\"),t.dataReport.addMsgInfo(h,{error:e.code,message:e.message+r}),t.dataReport.uploadReport(h),c({code:e.code,msg:e.message+r})};if(\"https:\"!==window.location.protocol&&\"file:\"!==window.location.protocol&&-1==window.location.hostname.indexOf(\"127.0.0.1\")&&-1==window.location.hostname.indexOf(\"localhost\"))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" https or localhost required \"),void g({code:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError.code,message:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError.message+\" https or localhost required\"});if(e&&e.screen){if(u=\"screen\",!l.WebRTCUtil.checkScreenParams(e.screen,g))return;var f=t.stateCenter.browser,m=t.streamCenter.getScreenConstrains(e.screen);t.dataReport.addMsgInfo(h,{stream_type:s.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type(\"screen\"),screen:s.ZegoRTCLogEvent.kZegoTaskCreateStream.screen(m)});var _=function(e){t.streamCenter.createScreenPreviewer(e,m)&&p(e),e.getVideoTracks()[0].onended=function(){var r=(0,n.getReportSeq)();t.dataReport.newReport(r),t.dataReport.uploadReport(r,s.ZegoRTCLogEvent.kZegoTaskScreenSharingEnded),e&&t.stopPreview(e),t.stateCenter.actionListener(\"screenSharingEnded\",e)}};\"firefox\"==f||\"object\"==typeof e.screen&&\"firefox\"==e.screen.type?t.startScreenShotFirFox(\"screen\",m,(function(e,t,r){e?t&&_(t):r&&g(r)})):\"chrome\"==f&&d.ZegoWebRTC.screenShotReady||\"object\"==typeof e.screen&&\"shot\"==e.screen.type?t.startScreenShotChrome((function(r,i,n){r?(t.logger.info(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" using extension\"),i&&_(i)):(n&&t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" extension \"+n),\"SS_DIALOG_CANCEL\"===n||\"object\"==typeof e.screen&&\"shot\"==e.screen.type?n&&g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenCancelError):t.startScreenSharing(m,(function(e,r,i){e?r&&_(r):(t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" \"+i),i&&g(i))})))})):\"Electron\"==f||\"object\"==typeof e.screen&&\"Electron\"==e.screen.type?t.startScreenShotElectron(m,(function(e,t,r){e?t&&_(t):r&&g(r)})):t.startScreenSharing(m,(function(e,t,r){e?t&&_(t):r&&g(r)}))}else{if(e&&\"object\"==typeof e.camera&&void 0!==e.camera.videoQuality&&!a.ClientUtil.checkInteger(e.camera.videoQuality))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" videoQuality must be integer number\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" videoQuality must be integer number\");if(e&&e.camera&&e.camera.audioBitrate){if(!a.ClientUtil.checkInteger(e.camera.audioBitrate))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" audioBitrate must be integer number\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" audioBitrate must be integer number\");if(e.camera.audioBitrate<6)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" audioBitrate cannot less 6 kbps\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" audioBitrate cannot less 6 kbps\");if(e.camera.audioBitrate>510)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" audioBitrate cannot greater than 510 kbps\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" audioBitrate cannot greater than 510 kbps\");t.stateCenter.audioBitRate=1e3*e.camera.audioBitrate}if(e&&e.camera&&e.camera.bitRate){if(\"number\"!=typeof e.camera.bitRate)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" bitrate must be integer number\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" bitrate must be integer number\");if(e.camera.bitRate>10240)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" bitrate cannot greater than 10 Mbps\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" bitrate cannot greater than 10 Mbps\")}if(e&&e.camera&&void 0!==e.camera.channelCount&&!a.ClientUtil.checkInteger(e.camera.channelCount))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" channelCount must be integer number\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" channelCount must be integer number\");if(e&&e.camera&&4===e.camera.videoQuality&&!l.WebRTCUtil.checkCameraParams(e.camera,g))return;if(e&&e.custom&&e.custom.bitRate){if(!a.ClientUtil.checkInteger(e.custom.bitRate))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" bitrate must be integer number\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" bitrate must be integer number\");if(e.custom.bitRate>10240)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+\" bitrate cannot greater than 10 Mbps\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" bitrate cannot greater than 10 Mbps\")}if(e&&e.custom&&e.custom.audioBitrate){if(!a.ClientUtil.checkInteger(e.custom.audioBitrate))return t.logger.error(\"ze.cs.0 audioBitrate must be integer number\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" audioBitrate must be integer number\");if(e.custom.audioBitrate<6)return t.logger.error(\"ze.cs.0 audioBitrate cannot less 6 kbps\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" audioBitrate cannot less 6 kbps\");if(e.custom.audioBitrate>510)return t.logger.error(\"ze.cs.0 audioBitrate cannot greater than 510 kbps\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" audioBitrate cannot greater than 510 kbps\")}if(e&&e.custom&&void 0!==e.custom.channelCount&&1!==e.custom.channelCount&&2!==e.custom.channelCount)return t.logger.error(\"ze.cs.0 channelCount must number 1 or 2\"),void g(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError,\" channelCount must number 1 or 2\");var v={};if(e&&e.camera)u=\"camera\",v=e.camera,t.dataReport.addMsgInfo(h,{stream_type:s.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type(\"camera\"),camera:s.ZegoRTCLogEvent.kZegoTaskCreateStream.camera(e.camera)}),\"boolean\"!=typeof v.video&&(v.video=!0),\"boolean\"!=typeof v.audio&&(v.audio=!0);else if(e&&e.custom){u=\"custom\",v=e.custom;var E=e.custom.source instanceof MediaStream?\"MediaStream\":\"HTMLElement\";t.dataReport.addMsgInfo(h,{stream_type:s.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type(\"custom\"),custom:s.ZegoRTCLogEvent.kZegoTaskCreateStream.custom(i(i({},e.custom),{source:E}))})}t.startPreview(v,u,p,g)}}))},e.prototype.destroyStream=function(e){this.logger.info(o.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+\" call\");var t=(0,n.getReportSeq)();if(this.dataReport.newReport(t),!(e instanceof MediaStream))return this.logger.error(o.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+\" localStream is not mediaStream or tracks is null\"),this.dataReport.addMsgInfo(t,s.ZegoRTCLogEvent.kZegoTaskDestroyStream.error.kLocalStreamError),void this.dataReport.uploadReport(t,s.ZegoRTCLogEvent.kZegoTaskDestroyStream.event);e instanceof MediaStream&&0==e.getTracks().length&&this.logger.info(o.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+\" tracks is null\"),this.stopPreview(e),this.dataReport.uploadReport(t,s.ZegoRTCLogEvent.kZegoTaskDestroyStream.event)},e.prototype.startPublishingStream=function(e,t,r,i){this.logger.info(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" call \",e);var c,u=!0,d=\"\",l=(0,n.getReportSeq)();this.stateCenter.reportSeqList.startPublish[e]=l,this.dataReport.newReport(l,s.ZegoRTCLogEvent.kZegoTaskPublishStart.event);var h=s.ZegoRTCLogEvent.kZegoTaskPublishStart.error,p=h.kPublishParamError;u&&void 0===e&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+(d=\"stream id required\")),u=!1,c=p),!u||e&&\"string\"==typeof e||(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" \"+(d=\"stream id type wrong\")),u=!1,c=p),u&&e.length>n.MAX_STREAM_ID_LENGTH&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" \"+(d=\"stream id length limit\")),u=!1,c=p),u&&!a.ClientUtil.checkIllegalCharacters(e)&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" \"+(d=\"stream ID contains illegal characters\")),u=!1,c=p),u&&(!t||t instanceof MediaStream&&0==t.getTracks().length)&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" \"+(d=\"localStream wrong\")),u=!1,c=p);var g=this.streamCenter.checkPreview(t);if(u&&!g&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" \"+(d=\"stream is not from zego\")),u=!1,c=h.kPublishNoPreviewError),(null==g?void 0:g.isVideoEffectStarting)&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" \"+(d=(c=h.kPublishEffectIsStarting).message)),u=!1),u&&void 0!==r&&\"object\"!=typeof r&&(u=!1,c=p,d=\"publishOption must be object\"),u&&void 0!==r&&void 0!==r.streamParams&&\"string\"!=typeof r.streamParams&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" publishOption streamParams must be string\"),u=!1,c=p,d=\" publishOption streamParams must be string\"),u&&void 0!==r&&void 0!==r.extraInfo&&\"string\"!=typeof r.extraInfo&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" publishOption extraInfo must be string\"),u=!1,c=p,d=\" publishOption extraInfo must be string\"),u&&void 0!==r&&void 0!==r.videoCodec&&\"string\"!=typeof r.videoCodec&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" publishOption videoCodec must be string\"),u=!1,c=p,d=\" publishOption videoCodec must be string\"),!u||!this.stateCenter.isMultiRoom||r&&\"string\"==typeof r.roomID&&\"\"!=r.roomID||(u=!1,c=p,d=\" roomID is need if set multi room\"),r&&r.videoCodec&&(r.videoCodec=r.videoCodec.toUpperCase()),u&&(this.stateCenter.waitPublishStreamList[e]={retryStart:!1,localStream:t,publishOption:r,isDataChannel:i}),u&&this.rtm.isDisConnect()){if(this.stateCenter.connectChanged)return this.stateCenter.waitPublishStreamList[e].retryStart=!0,this.logger.info(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" connect changed\"),!1;this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" not login\"),u=!1,c=h.kPublishNoLoginError}if(!u)throw this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+\" \"+d),this.dataReport.uploadReport(l,void 0,c,d),delete this.stateCenter.reportSeqList.startPublish[e],{errorCode:null==c?void 0:c.code,extendedData:d};r||(r={}),this.dataReport.addMsgInfo(l,{stream:s.ZegoRTCLogEvent.kZegoTaskPublishStart.stream(e),publishOption:s.ZegoRTCLogEvent.kZegoTaskPublishStart.publishOption(r),use_na:this.stateCenter.useNetAgent?1:0}),r.audioBitRate=this.stateCenter.audioBitRate;var f,m=r.roomID?r.roomID:this.stateCenter.roomList[0]?this.stateCenter.roomList[0].roomID:\"\",_=this.stateCenter.getRoomByRoomID(m);if(!_)return this.logger.error(\"zc.p.sps.1 room no found\"),!1;if(this.dataReport.addMsgInfo(l,{publish_room_id:m,isMulti:this.stateCenter.isMultiRoom}),this.stateCenter.customUrl&&0!=this.stateCenter.customUrl.length)this.logger.info(\"zc.p.sps.1 customUrl \"+JSON.stringify(this.stateCenter.customUrl)),f=this.stateCenter.customUrl;else{var v=this.stateCenter.settingConfig.getSetting(\"signal_nodes\",!0);v&&v instanceof Array&&v.length>0&&(f=v,this.logger.info(\"zc.p.sps.1 setting config signal_nodes \"+JSON.stringify(v)))}if(f)return this.stateCenter.publishStreamList[e]={state:n.ENUM_PUBLISH_STREAM_STATE.tryPublish,extra_info:r.extraInfo},this.streamCenter.setPublishStateStart(_,e,t,r,i)?(_.streamHandler.onPublishStateUpdate(n.ENUM_PUBLISH_STATE_UPDATE.retry,e,{code:0,message:\"\"}),this.streamCenter.publisherList[e].serverUrls=f,this.streamCenter.startPublishingStream(e)):(this.logger.info(\"zc.p.sps.1 cannot start publish\"),!1);if(!this.streamCenter.setPublishStateStart(_,e,t,r,i))return this.logger.error(\"zc.p.sps.1 cannot start publish\"),!1;this.stateCenter.publishStreamList[e]={state:n.ENUM_PUBLISH_STREAM_STATE.tryPublish,extra_info:r.extraInfo},this.logger.info(\"zc.p.sps.1 start publish\"),_.streamHandler.onPublishStateUpdate(n.ENUM_PUBLISH_STATE_UPDATE.retry,e,{code:0,message:\"\"});var E=this.stateCenter.useNetAgent,S=this.streamCenter.publisherList[e];if(E)return this.stateCenter.appConfig?(this.streamCenter.publisherList[e].serverUrls=[\"unified_rtc\"],this.streamCenter.startPublishingStream(e,E),!0):(this.streamCenter.waitPublishList.push(e),!0);var T=S.retryDispatchHandler;return T.stopMaxTime(),T.invalid(),T.initStream(e,r,!0),T.startMaxTime(),T.active(0)},e.prototype.activateSEIInsert=function(e,t,r){return void 0===r&&(r=0),!1},e.prototype.sendSEI=function(e,t){if(!a.ClientUtil.isSupportEncodedTransforms())return this.logger.warn(o.ZEGO_WEBRTC_ACTION.SEND_MEDIA_SIDE_INFO+\" browser not support \"),!1;if(!(t instanceof Uint8Array))return this.logger.error(o.ZEGO_WEBRTC_ACTION.SEND_MEDIA_SIDE_INFO+\" inData required Uint8Array\"),!1;if(t.byteLength>4096)return this.logger.error(o.ZEGO_WEBRTC_ACTION.SEND_MEDIA_SIDE_INFO+\" inData length limit\"),!1;var r=this.streamCenter.publisherList[e];return r&&r.publisher?r.publisher.sendSEI(t):(this.logger.warn(o.ZEGO_WEBRTC_ACTION.SEND_MEDIA_SIDE_INFO+\" publish not exist\"),!1)},e.prototype.stopPublishingStream=function(e,t,r){var i,a;this.logger.info(o.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+\" call \",e+(t?t.toString():\"\")+\" \"+r);var c=(0,n.getReportSeq)();if(this.stateCenter.reportSeqList.stopPublish[e]=c,this.dataReport.newReport(c,s.ZegoRTCLogEvent.kZegoTaskPublishStop.event),this.dataReport.addMsgInfo(c,{streamID:s.ZegoRTCLogEvent.kZegoTaskPublishStop.stream(e)}),\"string\"!=typeof e||\"\"==e)return this.logger.error(o.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+\" streamID must be string and not empty\"),this.dataReport.uploadReport(c,void 0,s.ZegoRTCLogEvent.kZegoTaskPublishStop.error.kParamError,\"stream id type error\"),delete this.stateCenter.reportSeqList.stopPublish[e],!1;var u=this.streamCenter.publisherList[e],d=this.streamCenter.getRoomByStreamID(e),l=u&&u.publisher&&u.publisher.state!==n.ENUM_PUBLISH_STATE.stop||(null===(i=null==u?void 0:u.retryStreamHandler)||void 0===i?void 0:i.isRetrying());if(this.streamCenter.stopPublishingStream(e),r&&delete this.stateCenter.waitPublishStreamList[e],this.stateCenter.publishStreamList[e]){if(this.stateCenter.publishStreamList[e].state>=n.ENUM_PUBLISH_STREAM_STATE.update_info&&d){if(!t||1102018!==t.code)d.streamHandler.updateStreamInfo(e,n.ENUM_STREAM_SUB_CMD.liveEnd);for(var h=0;h<d.streamList.length;h++)if(d.streamList[h].stream_id==e){!this.stateCenter.connectChanged&&d.streamList.splice(h--,1);break}}delete this.stateCenter.publishStreamList[e]}return this.dataReport.addMsgInfo(c,{session_id:null===(a=null==u?void 0:u.publisher)||void 0===a?void 0:a.sessionId}),this.dataReport.uploadReport(c),d&&l&&d.streamHandler.onPublishStateUpdate(n.ENUM_PUBLISH_STATE_UPDATE.error,e,t||{code:0,message:\"\"}),!0},e.prototype.setCaptureVolume=function(e,t){var r=this;return new Promise((function(i){var n;r.logger.info(o.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+\" call\");var a=function(e){r.logger.error(o.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+\" \"+e),i({errorCode:s.ZegoRTCLogEvent.kZegoSetCaptureVolume.error.kParamError.code,extendedData:JSON.stringify({fail_reason:s.ZegoRTCLogEvent.kZegoSetCaptureVolume.error.kParamError.message+\" \"+e})})},c=r.streamCenter.ac,u=r.streamCenter.checkPreview(e);if(e instanceof MediaStream&&u)if(0!=e.getAudioTracks().length)if(\"number\"!=typeof t||t<0||t>200)a(\" volume must be number between 0 to 200\");else{if(u.gainNode)u.gainNode.gain.value=t/100;else{u.audioNodeQueue||u.initAudioNodeQueue();var d=c.createGain();null===(n=u.audioNodeQueue)||void 0===n||n.pushFront(d),u.gainNode=d,u.gainNode.gain.value=t/100}c.resume(),i({errorCode:0,extendedData:\"\"}),r.logger.info(o.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+\" call success\")}else a(\" stream audioTrack no found\");else a(\" stream must be created by zego\")}))},e.prototype.getElectronScreenSources=function(){var e=this;return new Promise((function(t,r){var i=window.require(\"electron\");i||(e.logger.error(\"zc.gess.0 Electron is not exist\"),r({message:\"Electron is not exist\"})),i.desktopCapturer.getSources({types:[\"window\",\"screen\"]}).then((function(e){var r=e.map((function(e){return{id:e.id,name:e.name,thumbnail:e.thumbnail}}));t(r)})).catch((function(t){e.logger.error(\"zc.gess.0 \"+t),r(t)}))}))},e.prototype.startScreenShotChrome=function(e){if(d.ZegoWebRTC.screenShotReady)window.postMessage({type:\"SS_UI_REQUEST\",text:\"start\"},\"*\"),a.ClientUtil.registerCallback(\"screenShare\",{success:e},this.stateCenter.callbackList);else{var t='zc.b.ss Please install the extension:1. Go to chrome://extensions  2. Check: \"Enable Developer mode   3. Click: \"Load the unpacked extension... 4. Choose \"extension\" folder from the repository 5. Reload this page';this.logger.error(t),e(!1,null,{code:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+\" \"+t})}},e.prototype.startScreenSharing=function(e,t){var r=this;\"getDisplayMedia\"in navigator.mediaDevices?navigator.mediaDevices.getDisplayMedia({audio:e.audio,video:e.video}).then((function(e){t(!0,e)})).catch((function(e){r.logger.error(\"zc.b.sss \"+e),e.message&&\"permission denied\"==e.message.toLowerCase()?t(!1,null,s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenCancelError):t(!1,null,{code:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+\" \"+e})})):(this.logger.error(\"zc.b.sss brower does not support getDisplayMedia\"),t(!1,null,s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError))},e.prototype.startScreenShotFirFox=function(e,t,r){var o=this,n={video:i(i({},t.video),{mediaSource:e}),audio:t.audio};navigator.mediaDevices.getUserMedia(n).then((function(e){r(!0,e)})).catch((function(e){o.logger.error(\"ze.ssf.1 \"+e),r(!1,null,{code:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+\" \"+e})}))},e.prototype.startScreenShotElectron=function(e,t){var r=this;if(!window.require(\"electron\"))return this.logger.error(\"ze.sse.1 Electron is not exist\"),void t(!1,null,{code:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+\" Electron is not exist\"});var i={video:{mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e.sourceID,maxWidth:window.screen.width,maxHeight:window.screen.height}},audio:!1};navigator.mediaDevices.getUserMedia(i).then((function(e){t(!0,e)})).catch((function(e){r.logger.error(\"ze.sse.1 \"+e),t(!1,null,{code:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+\" \"+e})}))},e.prototype.startPreview=function(e,t,r,i){var o=this,n=null;return n=new u.ZegoPreview(this.logger,this.streamCenter.ac,this.stateCenter,this.streamCenter,t),this.streamCenter.previewStreamList.push(n),n.startPreview(e,(function(i){o.streamCenter.soundLevelDelegate&&(null==n||n.startSoundLevel()),\"camera\"===t&&(!1===(null==e?void 0:e.audio)&&n&&(n.hasMicTrack=!1),(null==n?void 0:n.micTrack)&&(n.micTrack.enabled=o.streamCenter.isMicEnabled)),(null==e?void 0:e.videoOptimizationMode)&&o.streamCenter.setVideoTrackContentHint(i,null==e?void 0:e.videoOptimizationMode),o.logger.debug(\"zsc.sp.0 call success\"),!o.stateCenter.deviceInfos&&o.recordDevices(),r&&r(i)}),(function(e){o.streamCenter.previewStreamList=o.streamCenter.previewStreamList.filter((function(e){return e!==n})),i&&i(e)})),!0},e.prototype.stopPreview=function(e){if(!e)return this.logger.warn(\"zsc.sp.0 localStream null\"),!1;for(var t in this.streamCenter.publisherList)this.streamCenter.publisherList[t].localStream===e&&(this.streamCenter.publisherList[t].localStream=null);var r=this.streamCenter.checkPreview(e);return r?(r.previewSuc&&(r.stopPreview(),this.streamCenter.removePreview(r)),!0):(this.logger.warn(\"zsc.sp.0 no preview\"),!1)},e.prototype.recordDevices=function(e,t){var r,i=this;this.logger.info(\"zsc.rd.0 call\"),a.ClientUtil.getDevices((function(t){i.stateCenter.deviceInfos={microphones:t.microphones,speakers:t.speakers,cameras:t.cameras},e&&e(t)}),(function(e){i.logger.warn(\"zsc.rd.0 getDevices err:\",e),t&&t(e)})),void 0!==(null===(r=navigator.mediaDevices)||void 0===r?void 0:r.ondevicechange)&&(navigator.mediaDevices.ondevicechange=null,navigator.mediaDevices.ondevicechange=function(e){i.logger.info(\"zsc.rd.0 devicechange\"),i.stateCenter.deviceChangeTimer&&(clearTimeout(i.stateCenter.deviceChangeTimer),i.stateCenter.deviceChangeTimer=null),i.stateCenter.deviceChangeTimer=setTimeout((function(){a.ClientUtil.getDevices((function(e){for(var t=[],r=function(r){var o=i.stateCenter.deviceInfos.cameras[r];e.cameras.find((function(e){return e.deviceID===o.deviceID}))||t.push(o)},o=0;o<i.stateCenter.deviceInfos.cameras.length;o++)r(o);i.stateCenter.deviceStateOut=!1;var a=!1;t.length>0&&(a=!0),t.forEach((function(e){for(var t in i.streamCenter.publisherList){var r=i.streamCenter.publisherList[t],o=r.publisher;r.localStream&&\"\"!==r.cameraLabel&&r.cameraLabel===e.deviceName&&(a=!1,o.sendStreamStatus(-6,o.mic_status),i.stateCenter.actionListener(\"_deviceError\",c.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,e.deviceName,\"camera\"),i.stateCenter.actionListener(\"deviceError\",c.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,e.deviceName)),r.localStream&&0===r.localStream.getAudioTracks().length&&(a=!1)}var u=(0,n.getReportSeq)();i.dataReport.newReport(u,s.ZegoRTCLogEvent.kZegoTaskDeviceInterrupt.event),i.dataReport.addMsgInfo(u,{interrupt:0}),i.dataReport.uploadReport(u),i.stateCenter.actionListener(\"videoDeviceStateChanged\",\"DELETE\",e)})),a&&(i.stateCenter.deviceStateOut=!0),i.stateCenter.deviceInfos.microphones.filter((function(t){return!e.microphones.find((function(e){return e.deviceID===t.deviceID}))})).forEach((function(e){for(var t in i.streamCenter.publisherList){var r=i.streamCenter.publisherList[t],o=r.publisher;r.localStream&&\"\"!==r.microLabel&&(r.microLabel===e.deviceName||\"\"!==r.microLabel&&r.microLabel.includes(e.deviceName))&&(o.sendStreamStatus(o.camera_status,-6),i.stateCenter.actionListener(\"_deviceError\",c.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,i.streamCenter.publisherList[t].microLabel,\"micro\"),i.stateCenter.actionListener(\"deviceError\",c.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,i.streamCenter.publisherList[t].microLabel))}var a=(0,n.getReportSeq)();i.dataReport.newReport(a,s.ZegoRTCLogEvent.kZegoTaskDeviceInterrupt.event),i.dataReport.addMsgInfo(a,{interrupt:0}),i.dataReport.uploadReport(a),i.stateCenter.actionListener(\"audioDeviceStateChanged\",\"DELETE\",\"Input\",e)}));var u=i.stateCenter.deviceInfos.speakers.filter((function(t){return!e.speakers.find((function(e){return e.deviceID===t.deviceID}))})),d=e.cameras.filter((function(e){return!i.stateCenter.deviceInfos.cameras.find((function(t){return t.deviceID===e.deviceID}))})),l=e.microphones.filter((function(e){return!i.stateCenter.deviceInfos.microphones.find((function(t){return t.deviceID===e.deviceID}))})),h=e.speakers.filter((function(e){return!i.stateCenter.deviceInfos.speakers.find((function(t){return t.deviceID===e.deviceID}))}));u.forEach((function(e){var t=(0,n.getReportSeq)();i.dataReport.newReport(t,s.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.event),i.dataReport.addMsgInfo(t,{reason:s.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.reason(\"delete\"),device:s.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.device(e)}),i.dataReport.uploadReport(t),i.stateCenter.actionListener(\"audioDeviceStateChanged\",\"DELETE\",\"Output\",e)})),d.forEach((function(e){var t=(0,n.getReportSeq)();i.dataReport.newReport(t,s.ZegoRTCLogEvent.kZegoTaskDeviceInterrupt.event),i.dataReport.addMsgInfo(t,{interrupt:1}),i.dataReport.uploadReport(t),i.stateCenter.actionListener(\"videoDeviceStateChanged\",\"ADD\",e)})),l.forEach((function(e){var t=(0,n.getReportSeq)();i.dataReport.newReport(t,s.ZegoRTCLogEvent.kZegoTaskDeviceInterrupt.event),i.dataReport.addMsgInfo(t,{interrupt:1}),i.dataReport.uploadReport(t),i.stateCenter.actionListener(\"audioDeviceStateChanged\",\"ADD\",\"Input\",e)})),h.forEach((function(e){var t=(0,n.getReportSeq)();i.dataReport.newReport(t,s.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.event),i.dataReport.addMsgInfo(t,{reason:s.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.reason(\"add\"),device:s.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.device(e)}),i.dataReport.uploadReport(t),i.stateCenter.actionListener(\"audioDeviceStateChanged\",\"ADD\",\"Output\",e)})),i.stateCenter.deviceInfos={microphones:e.microphones,speakers:e.speakers,cameras:e.cameras}}),(function(e){i.logger.warn(\"zsc.rd.0 getDevices err:\",e)}))}),500)})},e.prototype.getStreamThroughCanvas=function(e){if(0==e.getVideoTracks().length)return e;var t=document.createElement(\"video\"),r=document.createElement(\"canvas\"),i=r.getContext(\"2d\");t.setAttribute(\"style\",\"display:none\"),r.setAttribute(\"style\",\"display:none\"),t.setAttribute(\"muted\",\"\"),t.muted=!0,t.setAttribute(\"autoplay\",\"\"),t.autoplay=!0,t.setAttribute(\"playsinline\",\"\"),document.body.append(t),document.body.append(r),t.srcObject=e;var o=function(){null==i||i.drawImage(t,0,0,r.width,r.height),window.requestAnimationFrame(o),t.srcObject=e};t.oncanplay=function(){r.width=t.videoWidth,r.height=t.videoHeight,t.play(),o()};var n=r.captureStream(15),s=n.getVideoTracks()[0],a=s.stop;if(s.stop=function(){a.call(s),o(),t.remove(),r.width=0,r.remove()},e instanceof MediaStream&&e.getAudioTracks().length){var c=e.getAudioTracks()[0];n.addTrack(c)}return n},e.prototype.getStreamStats=function(e){var t,r,i;return this.logger.info(o.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+\" call\"),e instanceof MediaStream&&e.getTracks().length>0?i=null===(t=this.streamCenter.checkPublish(e))||void 0===t?void 0:t.publisher:\"string\"==typeof e&&(i=null===(r=this.streamCenter.publisherList[e])||void 0===r?void 0:r.publisher),i?(null==i?void 0:i.currentQuality)||null:(this.logger.error(\"zsc.sp.0 stream is not publishing\"),null)},e.prototype.startWaitPublish=function(){var e=this;this.streamCenter.waitPublishList.forEach((function(t){e.streamCenter.startPublishingStream(t,e.stateCenter.useNetAgent)})),this.streamCenter.waitPublishList=[]},e}();t.PublishModule=h},9334:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoPreview=void 0;var s=r(9887),a=r(8335),c=r(6262),u=r(2844),d=r(6920),l=function(){function e(e,t,r,i,o){var n=this;this.logger=e,this.ac=t,this.stateCenter=r,this.streamCenter=i,this.previewType=o,this.localStream=null,this.videoInfo={},this.rtcViewer=null,this.previewSuc=!1,this.soundLevel=0,this.hasEmptyAudioTrack=!1,this.script=null,this.mic=null,this._audioTrack=null,this._videoTrack=null,this.cloneVideoTrack=null,this.originVideoTrack=null,this.activateSEIConfig=null,this.isAudioEnabled=!0,this.isVideoEnabled=!0,this.gainNode=null,this.cameraMaxResolution={},this.enableDualStream=!1,this.lowStreamConfig={width:160,height:120,frameRate:15,bitRate:50},this.muteImage=null,this.hasMicTrack=!0,this.enableMicrophoneOnly=function(e,t){if(!n.localStream)return n.logger.error(\"zp.em.2 no localStream\"),!1;var r=t.getPublishList(n.localStream).map((function(e){return e.publisher}));return r.length&&r.forEach((function(t){t.sendStreamStatus(t.camera_status,n.isAudioEnabled&&e?0:2)})),n.micTrack?(n.micTrack.enabled=n.isAudioEnabled&&e,n.logger.debug(\"zp.emo.2 call success\"),!0):(n.logger.info(\"zp.emo.2 no micTrack\"),!0)},this.audioMixManager=null}return Object.defineProperty(e.prototype,\"audioTrack\",{get:function(){var e;return this._audioTrack||(null===(e=this.localStream)||void 0===e?void 0:e.getAudioTracks()[0])||null},set:function(e){this._audioTrack=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"videoTrack\",{get:function(){var e;return this._videoTrack||(null===(e=this.localStream)||void 0===e?void 0:e.getVideoTracks()[0])||null},set:function(e){this._videoTrack=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"micTrack\",{get:function(){return this.hasMicTrack&&\"camera\"===this.previewType&&this.audioTrack||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"isVideoEffectStarting\",{get:function(){return!!this.videoEffect&&this.videoEffect.isStarting},enumerable:!1,configurable:!0}),e.prototype.getMediaStreamConstraints=function(e,t){var r={audio:null,video:null};if(r.audio=!0,r.video={width:640,height:480,frameRate:15,bitRate:this.stateCenter.settingConfig.getSetting(\"camera_video_bitrate\")},e.audio?void 0===e.audioInput&&void 0===e.ANS&&void 0===e.AGC&&void 0===e.AEC&&void 0===e.channelCount?(r.audio={},r.audio.noiseSuppression=this.stateCenter.settingConfig.getSetting(\"ANS\"),r.audio.autoGainControl=this.stateCenter.settingConfig.getSetting(\"AGC\"),r.audio.echoCancellation=this.stateCenter.settingConfig.getSetting(\"AEC\"),r.audio.channelCount=1):(r.audio={},null!=e.audioInput&&(r.audio.deviceId={exact:e.audioInput}),void 0!==e.ANS&&(r.audio.noiseSuppression=e.ANS),void 0!==e.AGC&&(r.audio.autoGainControl=e.AGC),void 0!==e.AEC&&(r.audio.echoCancellation=e.AEC),void 0!==e.channelCount&&(r.audio.channelCount=e.channelCount)):!1===e.audio&&(r.audio=!1),e.video){var i=640,o=480,n=15,a=this.stateCenter.settingConfig.getSetting(\"camera_video_bitrate\");if(1===e.videoQuality?(i=s.ENUM_RESOLUTION_TYPE.LOW.width,o=s.ENUM_RESOLUTION_TYPE.LOW.height,n=s.ENUM_RESOLUTION_TYPE.LOW.frameRate,a=s.ENUM_RESOLUTION_TYPE.LOW.bitRate):2===e.videoQuality?(i=s.ENUM_RESOLUTION_TYPE.MEDIUM.width,o=s.ENUM_RESOLUTION_TYPE.MEDIUM.height,n=s.ENUM_RESOLUTION_TYPE.MEDIUM.frameRate,a=s.ENUM_RESOLUTION_TYPE.MEDIUM.bitRate):3===e.videoQuality?(i=s.ENUM_RESOLUTION_TYPE.HIGH.width,o=s.ENUM_RESOLUTION_TYPE.HIGH.height,n=s.ENUM_RESOLUTION_TYPE.HIGH.frameRate,a=s.ENUM_RESOLUTION_TYPE.HIGH.bitRate):4===e.videoQuality?(i=e.width,o=e.height,n=e.frameRate,a=e.bitRate||this.stateCenter.settingConfig.getSetting(\"camera_video_bitrate\")):this.logger.info(\"zp.gmsc.2 use default\"),t&&!e.videoQuality&&(e.width&&(i=e.width),e.height&&(o=e.height),e.frameRate&&(n=e.frameRate),e.bitRate&&(a=e.bitRate)),!1===e.horizontal){var c=o;o=i,i=c}if(!0===e.isSwitch){c=o;o=i,i=c}r.video={width:i,height:o,frameRate:n,bitRate:a},null!=e.facingMode?r.video.facingMode=e.facingMode:null!=e.videoInput&&null!=e.videoInput&&\"\"!=e.videoInput&&(r.video.deviceId={exact:e.videoInput}),this.logger.info(\"zp.gmsc.2 width: \"+i+\" height: \"+o+\" rate: \"+n)}else!1===e.video&&(e.audioBitrate&&(r.video={}),r.video=!1);return r},e.prototype.startPreview=function(e,t,r){return o(this,void 0,void 0,(function(){var o,s,c,u,d,l,h,p,g=this;return n(this,(function(n){return this.logger.debug(\"zp.sv.2 called\"),this.mediaStreamConfig=e,void 0===navigator.mediaDevices||null==navigator.mediaDevices.getUserMedia?(r&&r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError),[2]):(o=function(e){t(e)},e.source instanceof MediaStream?(s=e.source.getVideoTracks(),c=s.length>0?s[0].getSettings():{width:0,height:0,frameRate:0},this.logger.debug(\"zp.sv.2 use external media stream\"),this.previewSuc=!0,this.localStream=e.source,this.initMediaTrack(e.source),this.videoInfo={width:c.width,height:c.height,frameRate:c.frameRate,bitRate:e.bitRate||this.stateCenter.settingConfig.getSetting(\"custom_video_bitrate\"),startBitrate:e.startBitrate||this.stateCenter.settingConfig.getSetting(\"bitrate_mode\"),channelCount:e.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*e.audioBitrate||48e3},o&&o(this.localStream),[2]):e.source instanceof HTMLMediaElement?((u=this.captureStream(e.source,e))?(this.videoInfo.bitRate=e.bitRate||this.stateCenter.settingConfig.getSetting(\"custom_video_bitrate\"),this.previewSuc=!0,this.initMediaTrack(u),o&&o(u)):r&&r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError),[2]):((d=this.getMediaStreamConstraints(e)).audio&&(l=this.stateCenter.settingConfig.getSetting(\"AEC\",!0),h=this.stateCenter.settingConfig.getSetting(\"AGC\",!0),p=this.stateCenter.settingConfig.getSetting(\"ANS\",!0),\"boolean\"==typeof l&&(this.logger.info(\"zp.sv.2 setting AEC \"+l),d.audio.echoCancellation=l),\"boolean\"==typeof h&&(this.logger.info(\"zp.sv.2 setting AGC \"+h),d.audio.autoGainControl=h),\"boolean\"==typeof p&&(this.logger.info(\"zp.sv.2 setting ANS \"+p),d.audio.noiseSuppression=p)),this.videoInfo=i({},d.video),this.videoInfo?(this.videoInfo.audioBitrate=1e3*e.audioBitrate||48e3,this.videoInfo.startBitrate=e.startBitrate||this.stateCenter.settingConfig.getSetting(\"bitrate_mode\")):e.audioBitrate&&(this.videoInfo={audioBitrate:1e3*e.audioBitrate||48e3}),this.mediaStreamConfig.video=!!d.video,this.mediaStreamConfig.audio=!!d.audio,this.logger.info(\"zp.sv.2 \",JSON.stringify(d)),e.unlimitedCaptureResolution&&d.video.width&&(d.video.width={ideal:4096},d.video.height={ideal:2160},this.logger.info(\"zp.sv.2 \",\"capture max resolution of camera\")),navigator.mediaDevices.getUserMedia(d).then((function(t){g.logger.info(\"zp.sv.2 success\"),g.localStream=t,g.previewSuc=!0,g.initMediaTrack(t),g.videoInfo&&(g.videoInfo.channelCount=e.channelCount||(g.audioTrack&&g.audioTrack.getSettings?g.audioTrack.getSettings().channelCount:1)),o&&o(t)}),(function(e){if(g.logger.info(\"zp.sv.2 failed \",e.name,\" \",e.message),r){var t=a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kGetUserMediaError;t.message=t.message+\" \"+e.name+\" \"+e.message,\"NotAllowedError\"===e.name||\"SecurityError\"===e.name?(t=i({},a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kDeviceNoAllowedError)).message=e.name+\": \"+t.message:\"NotReadableError\"===e.name?(t=i({},a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kDeviceNoReadableError)).message=e.name+\": \"+t.message:\"OverconstrainedError\"===e.name&&((t=i({},a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kDeviceOverConstrainedError)).message=e.name+\": \"+t.message+(e.constraint?\". such as \"+e.constraint:\"\")),r(t)}})),[2]))}))}))},e.prototype.captureStream=function(e,t){if(!e)return this.logger.info(\"zp.cs.2 no local video\"),null;var r;if(e.captureStream)r=e.captureStream(),this.logger.debug(\"zp.cs.2 captureStream\");else{if(!e.mozCaptureStream)return this.logger.info(\"zp.cs.2 don't support\"),null;r=e.mozCaptureStream(),this.logger.debug(\"zp.cs.2 mozCaptureStream\")}return 0==r.getTracks().length?(this.logger.error(\"zp.cs.2 external capture tracks no found\"),null):(this.localStream=r,this.videoInfo={width:e.videoWidth,height:e.videoHeight,frameRate:0,bitRate:t.bitRate||this.stateCenter.settingConfig.getSetting(\"custom_video_bitrate\"),channelCount:t.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*t.audioBitrate||48e3,startBitrate:t.startBitrate||this.stateCenter.settingConfig.getSetting(\"bitrate_mode\")},this.logger.debug(\"zp.cs.2 called success\"),this.localStream)},e.prototype.stopPreview=function(){var e,t,r,i,o,n;if(this.logger.info(\"zp.sv.2.1 called\"),this.localStream){var s=this.rtcViewer;s&&s.stop(),this.videoEffect&&(this.videoEffect.setBeautyEffectOptions(!1),this.videoEffect.destroy()),null===(e=this.cloneVideoTrack)||void 0===e||e.stop(),this.muteImageAnID&&cancelAnimationFrame(this.muteImageAnID),null===(t=this.originVideoTrack)||void 0===t||t.stop(),null===(r=this.videoTrack)||void 0===r||r.stop(),null===(i=this.audioTrack)||void 0===i||i.stop(),null===(o=this.audioMixManager)||void 0===o||o.stopAudioManager(),this.localStream.getTracks().reverse().forEach((function(e){return e.stop()})),this.localStream=null,null===(n=this.lowStream)||void 0===n||n.getTracks().reverse().forEach((function(e){return e.stop()})),this.lowStream=void 0,this.videoInfo={}}},e.prototype.enableMicrophone=function(e,t){return!1},e.prototype.enableCamera=function(e,t,r){return!1},e.prototype.enableCameraCapturing=function(e){return o(this,void 0,void 0,(function(){return n(this,(function(e){return[2,!1]}))}))},e.prototype.startSoundLevel=function(){var e=this;if(this.localStream&&0!=this.localStream.getAudioTracks().length){this.script&&this.script.disconnect(),this.mic&&this.mic.disconnect();try{this.mic=this.ac.createMediaStreamSource(this.localStream),this.script=this.ac.createScriptProcessor(4096,1,1),this.mic.connect(this.script),this.script.connect(this.ac.destination),this.script.onaudioprocess=function(t){for(var r=t.inputBuffer.getChannelData(0),i=0,o=0;o<r.length;o++)i<r[o]&&(i=r[o]);e.soundLevel=100*i},this.ac.resume()}catch(e){this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+\" get sound level failed \"+e)}}},e.prototype.stopSoundLevel=function(){this.soundLevel=0,this.script&&this.script.disconnect(),this.mic&&this.mic.disconnect(),this.script=null,this.mic=null},e.prototype.restartSoundLevel=function(){this.streamCenter.soundLevelDelegate?(this.stopSoundLevel(),this.startSoundLevel()):this.stopSoundLevel()},e.prototype.setBeautyEffect=function(e,t){return o(this,void 0,void 0,(function(){return n(this,(function(e){return[2]}))}))},e.prototype.replacePreviewTrack=function(e,t,r){void 0===t&&(t=!1)},e.prototype.createLowStream=function(){var e,t,r,i=null===(e=this.localStream)||void 0===e?void 0:e.getVideoTracks()[0];if(i){var o=i.getSettings().height,n=i.getSettings().width,s=o&&n?o/n:1;try{this.lowStream=null===(t=this.localStream)||void 0===t?void 0:t.clone();var a,c=null===(r=this.lowStream)||void 0===r?void 0:r.getVideoTracks()[0],u=this.lowStreamConfig,d=u.width,l=u.frameRate;a=Math.round(s*this.lowStreamConfig.width),null==c||c.applyConstraints({width:d,height:a,frameRate:l})}catch(e){this.logger.error(\"zp.cls \"+e)}}},e.prototype.initAudioNodeQueue=function(e){var t,r;if(!this.audioTrack||!this.localStream)return!1;var i=new MediaStream;i.addTrack(this.audioTrack);var o=this.ac.createMediaStreamSource(i),n=this.ac.createMediaStreamDestination();this.audioNodeQueue=new d.AudioNodeQueue(o,n);var s=n.stream.getAudioTracks()[0];if(this.audioMixManager&&(null===(t=this.audioMixManager)||void 0===t?void 0:t.audioDestNode)&&e)return!0;var a=this.rtcViewer;for(var c in this.streamCenter.publisherList){var u=this.streamCenter.publisherList[c];if(u.localStream==this.localStream){var l=null===(r=u.publisher.peerConnection)||void 0===r?void 0:r.getSenders().find((function(e){return e.track&&\"audio\"===e.track.kind}));l&&l.replaceTrack(s);break}}var h=this.localStream.getAudioTracks()[0];return h&&(s.enabled=h.enabled,this.localStream.removeTrack(h)),this.localStream.addTrack(s),a&&a.setAudio(s),!0},e.prototype.initMediaTrack=function(e){e.getVideoTracks().length>0&&(this.videoTrack=e.getVideoTracks()[0],this.originVideoTrack=this.videoTrack),e.getAudioTracks().length>0&&(this.audioTrack=e.getAudioTracks()[0])},e.prototype.onAudioTrackChange=function(e){},e.prototype.getViewer=function(){return this.localStream&&!this.rtcViewer&&(this.rtcViewer=new u.StreamView(this.localStream,this)),this.rtcViewer},e}();t.ZegoPreview=l},5664:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoPublish=void 0;var o=r(9887),n=r(3111),s=r(3608),a=r(8335),c=r(6262),u=r(4864),d=function(){function e(e,t,r,i,n,s,a){var c=this;this.state=o.ENUM_PUBLISH_STATE.stop,this.sessionId=0,this.sessionToken=\"\",this.candidateInfo=[],this.qualityTimer=null,this.publishQualityList=[],this.maxQualityListCount=10,this.lastPublishStats={},this.currentQuality={video:{videoBitrate:0,videoFPS:0,videoTransferFPS:0,frameHeight:0,frameWidth:0,muteState:\"1\",videoQuality:-1,videoPacketsLost:0,videoPacketsLostRate:0,googCodecName:\"\"},audio:{audioBitrate:0,audioCodec:\"opus\",muteState:\"1\",audioQuality:-1,audioFPS:0,audioPacketsLost:0,audioPacketsLostRate:0,googCodecName:\"\"}},this.canvasTimer=null,this.reportSeq=NaN,this.streamReportSeq=(0,o.getSeq)(),this.qualityUpload=!1,this.qualityUploadInterval=3e4,this.qualityUploadLastTime=0,this.qualitySeq=0,this.videoInfo={width:0,height:0,frameRate:0,bitRate:0,channelCount:1,audioBitrate:48e3},this.mediaStreamConfig=null,this.offerSeq=0,this.peerConnection=null,this.qualityCount=0,this.closeSessionSignal=!1,this.channelCount=1,this.localSdpOrder=[],this.remoteSdpOrder=[],this.videoCodec=\"H264\",this.stateNego=o.ENUM_PUBLISH_STATE_NEGO.stop,this.negoInterval=25e3,this.publishEvent=!1,this.cameraState=\"on\",this.microState=\"on\",this.gwNode=\"\",this.gwNodeList=[],this.gwNodeTTL=0,this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[],this.isPeer=!1,this.peerFailCount=0,this.peerID=0,this.netQuality=0,this.probeTime=0,this.probeInterval=6e4,this.probeState=o.ENUM_PROBE_STATE.probed,this.iceDisconnectedMaxTime=15e3,this.isUpdateSDP=!1,this.isUdpSuccess=!1,this.toBeReplacedTracks={},this.send_seq=0,this.dataChannelState=0,this.first_pkt=!0,this.next_sn=[],this.pkt_list=[],this.answerSdpTime=0,this.mediaSideInfos=[],this.lowMediaSideInfos=[],this.sideMediaConfig={isSEIStart:!1,SEIType:o.ZegoSEIType.ZegoDefined,unregisterSeiFilter:\"\",uuidSend:!1},this.poorQualityNum=0,this._turnToTcp=!1,this.encodeLowVideoFrame=function(e,t){c.encodeFrame(e,t,!0)},this.encodeVideoFrame=function(e,t){c.encodeFrame(e,t,!1)},this.camera_status=2,this.mic_status=2,this.streamId=e,this.logger=t,this.dataReport=r,this.qualityTimeInterval=i,this.streamCenter=n,this.stateCenter=s,this.dataReport.newReport(this.streamReportSeq),this.videoCodec=this.stateCenter.settingConfig.getSetting(\"publish_video_codec\"),this.previewer=a,this.localStream=a.localStream,a.onAudioTrackChange=function(e){var t=c.peerConnection&&c.peerConnection.getSenders().find((function(t){var r;return(null===(r=t.track)||void 0===r?void 0:r.kind)===e.kind}));t?(t.replaceTrack(e),c.logger.info(\"zc.oatc remote audio track change success\")):c.logger.warn(\"zc.oatc stream has not sender\")}}return Object.defineProperty(e.prototype,\"lowStream\",{get:function(){var e;return null===(e=this.previewer)||void 0===e?void 0:e.lowStream},enumerable:!1,configurable:!0}),e.prototype.publishStateUpdateError=function(e,t){this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_STATE_ERROR+\"  call \",this.streamId,JSON.stringify(e)),this.streamId&&this.onPublishStateUpdate(o.ENUM_PUBLISH_STATE_UPDATE.error,this.streamId,e,t),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_STATE_ERROR+\"  ended\")},e.prototype.resetPublish=function(){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_RESET_PUBLISH+\"   \"+this.streamId+\" call\"),this.state=o.ENUM_PUBLISH_STATE.stop,this.publishEvent=!1,null==this.peerConnection&&null==this.peerConnection||(this.peerConnection.close(),this.peerConnection=null),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.clearPublishQualityTimer(),this.clearCanvasTimer(),this.signal&&(this.signal.unregisterPushCallback(\"CandidateInfoPush\",this.sessionId),this.signal.unregisterPushCallback(\"MediaDescPush\",this.sessionId),this.signal.unregisterPushCallback(\"CloseSessionPush\",this.sessionId),this.signal.unregisterPushCallback(\"SessionResetPush\",this.sessionId),this.signal.unregisterPushCallback(\"PublishEventPush\",this.sessionId),this.signal.unregisterPushCallback(\"ClientInfoPush\",this.sessionId)),this.sessionSeq=0,this.offerSeq=0,this.candidateInfo=[],this.publishQualityList=[],this.qualityUploadLastTime=0,this.resetEncBitrate(),this.isUpdateSDP=!1},e.prototype.clearPublishQualityTimer=function(){null!=this.qualityTimer&&(clearInterval(this.qualityTimer),this.qualityTimer=null),this.lastPublishStats={},this.qualityCount=0,this.poorQualityNum=0},e.prototype.clearCanvasTimer=function(){null!=this.canvasTimer&&(clearInterval(this.canvasTimer),this.canvasTimer=null)},e.prototype.shouldSendCloseSession=function(){return this.state!=o.ENUM_PUBLISH_STATE.stop&&this.state!=o.ENUM_PUBLISH_STATE.waitingSessionRsp},e.prototype.startPublish=function(e,t,r,i,o){var n,u,d,l,h,p=this;if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+e+\" called\"),this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),e){var g;this.localStream=t,this.mediaStreamConfig=i,this.channelCount=i.channelCount,this.publishOption=o||{},(null==o?void 0:o.SEIType)&&(this.sideMediaConfig.SEIType=o.SEIType),this.currentQuality.video.muteState=(null===(u=null===(n=this.previewer)||void 0===n?void 0:n.videoTrack)||void 0===u?void 0:u.enabled)?\"0\":\"1\",this.currentQuality.audio.muteState=this.localStream.getAudioTracks().length>0&&this.localStream.getAudioTracks()[0].enabled?\"0\":\"1\",navigator.userAgent.toLowerCase().indexOf(\"firefox\")>-1&&i&&(i.externalCapture||i.externalMediaStream)&&(this.localStream.onaddtrack=function(){var e,t,r,i;p.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+p.streamId+\" Track added\");var o=[];(null===(e=p.previewer)||void 0===e?void 0:e.videoTrack)&&o.push(null===(t=p.previewer)||void 0===t?void 0:t.videoTrack);var n=p.localStream.getAudioTracks();if(o.length>1){var s=null===(r=p.peerConnection)||void 0===r?void 0:r.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.id)===p.localStream.getVideoTracks()[0].id}));null==s||s.replaceTrack(o[1]),p.localStream.removeTrack(o[0])}else if(n.length>1){s=null===(i=p.peerConnection)||void 0===i?void 0:i.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.kind)===n[1].kind}));null==s||s.replaceTrack(n[1]),p.localStream.removeTrack(n[0])}}),r&&(this.videoInfo=r),o&&o.videoCodec&&(this.videoCodec=o.videoCodec);var f=null===(d=this.previewer)||void 0===d?void 0:d.previewType;switch(f){case\"camera\":g=this.stateCenter.settingConfig.getSetting(\"camera_video_bitrate\",!0);break;case\"screen\":g=this.stateCenter.settingConfig.getSetting(\"screen_video_bitrate\",!0);break;case\"custom\":g=this.stateCenter.settingConfig.getSetting(\"custom_video_bitrate\",!0)}void 0!==g&&(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" setting \"+f+\" \"+g),this.videoInfo.bitRate=g);var m=this.stateCenter.settingConfig.getSetting(\"bitrate_mode\",!0);m&&(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" setting bitrate_mode \"+m),this.videoInfo.startBitrate=m);var _=this.stateCenter.settingConfig.getSetting(\"publish_video_codec\",!0);if(_&&(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" setting publish_video_codec \"+_),this.videoCodec=_),\"boolean\"==typeof(null==o?void 0:o.isSEIStart)&&(this.sideMediaConfig.isSEIStart=null==o?void 0:o.isSEIStart),this.sideMediaConfig.isSEIStart){var v=s.ClientUtil.isSupportEncodedTransforms();\"H264\"===this.videoCodec&&v||(this.sideMediaConfig.isSEIStart=!1)}(null===(l=this.stateCenter.seiConfig)||void 0===l?void 0:l.unregisterSEIFilter)&&(this.sideMediaConfig.unregisterSeiFilter=null===(h=this.stateCenter.seiConfig)||void 0===h?void 0:h.unregisterSEIFilter),this.dataReport.addMsgInfo(this.reportSeq,{video_en_codec_id:a.ZegoRTCLogEvent.kZegoTaskPublishStart.video_en_codec_id(\"VP8\"==this.videoCodec?2:0),audio_c_channel_count:a.ZegoRTCLogEvent.kZegoTaskPublishStart.audio_c_channel_count(2==this.channelCount?2:1),audio_en_bps:a.ZegoRTCLogEvent.kZegoTaskPublishStart.audio_en_bps(this.videoInfo.audioBitrate),aec_level:a.ZegoRTCLogEvent.kZegoTaskPublishStart.aec_level(1==i.AEC?2:0==i.AEC?0:2),ans_level:a.ZegoRTCLogEvent.kZegoTaskPublishStart.ans_level(1==i.ANS?2:0==i.ANS?0:2),agc:a.ZegoRTCLogEvent.kZegoTaskPublishStart.agc(1==i.AGC?2:0==i.AGC?0:2),traffic_control_min_video_bitrate:a.ZegoRTCLogEvent.kZegoTaskPublishStart.traffic_control_min_video_bitrate(this.videoInfo.bitRate)}),this.isPeer?this.createOffer({encodedInsertableStreams:this.sideMediaConfig.isSEIStart}):this.createSession(),this.negoTimer=setTimeout((function(){p.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" waiting timeout\"),p.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNegoTimeoutError)}),this.negoInterval)}else this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+e+\" streamId is null\")},e.prototype.activateSEIInsert=function(e,t){return new Promise((function(e,t){e(!1)}))},e.prototype.createSession=function(e,t){var r=this;this.sessionSeq=(0,o.getSeq)();var i=this.streamId;1==this.streamCenter.testEnvironment&&(i=\"zegotest-\"+this.streamCenter.appid+\"-\"+this.streamId),this.streamCenter.gwNode&&(this.gwNode=this.streamCenter.gwNode);var n=this.stateCenter.settingConfig.getSetting(\"gw_nodes\");n&&n instanceof Array&&n.length>0&&(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" setting \"+JSON.stringify(n)),this.gwNodeList=n,this.gwNode=this.gwNodeList[0]||this.gwNode);var s=this.stateCenter.turnOverTcpOnly,u=this.stateCenter.settingConfig.getSetting(\"udp_or_tcp\",!0);if(u&&(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" setting udp_or_tcp \"+u),s=\"tcp\"===u),s&&(this.isPeer=!1),this.isPeer){this.dataReport.eventStart(this.reportSeq,\"CreateSessionWithSdp\"),this.dataReport.eventStart(this.streamReportSeq,\"CreateSessionWithSdp\");var d=(new Date).getTime();this.signal.createSessionWithSdp({seq:this.sessionSeq,type:0,mode:0,streamId:i,videoInfo:this.videoInfo,strAuthParam:this.publishOption&&this.publishOption.streamParams||\"\",sdp:t||e.sdp,serverHost:this.gwNode},(function(e,t,i){var o=(new Date).getTime();r.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" create session time \"+(o-d)),r.handleCreateSessionWithSdpResp(e,t,i)}),(function(e,t){r.sessionSeq==t?(r.dataReport.eventEndWithMsg(r.reportSeq,\"CreateSession\",{error:e}),r.dataReport.eventEndWithMsg(r.streamReportSeq,\"CreateSession\",{error:e}),r.publishStateUpdateError(e==o.SEND_MSG_TIMEOUT?a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionTimeoutError:a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError)):r.logger.warn(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" seq is not match.\")}))}else this.dataReport.eventStart(this.reportSeq,\"CreateSession\"),this.dataReport.eventStart(this.streamReportSeq,\"CreateSession\"),this.signal.createSession(this.sessionSeq,0,0,i,this.publishOption&&this.publishOption.streamParams,this.gwNode,(function(e,t,i){r.handleCreateSessionResp(e,t,i)}),(function(e,t){r.sessionSeq==t?(r.dataReport.eventEndWithMsg(r.reportSeq,\"CreateSession\",{error:e}),r.dataReport.eventEndWithMsg(r.streamReportSeq,\"CreateSession\",{error:e}),r.publishStateUpdateError(e==o.SEND_MSG_TIMEOUT?a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionTimeoutError:a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError)):r.logger.warn(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" seq is not match.\")}));this.state=o.ENUM_PUBLISH_STATE.waitingSessionRsp,this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+this.streamId+\" called success\"),this.stateNego=o.ENUM_PUBLISH_STATE_NEGO.start},e.prototype.handleCreateSessionResp=function(e,t,r){var i=r.turn_server,o=i.split(\"?\")[0]&&i.split(\"?\")[0].slice(5),n=this.streamCenter.server.split(\"?\"),s=n[1]&&n[1].slice(2),u=\"webrtc://\".concat(o,\"/\").concat(s,\"/\").concat(this.streamId);this.dataReport.eventEndWithMsg(this.streamReportSeq,\"CreateSession\",{sessionId:r.session_id,url:u}),this.dataReport.eventEndWithMsg(this.reportSeq,\"CreateSession\",{sessionId:r.session_id,url:u}),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+this.streamId+\" sessionId:\"+r.session_id),this.sessionSeq==e?(this.gwNodeList=r.gw_nodes&&r.gw_nodes.length>0?r.gw_nodes:this.gwNodeList,this.gwNode=r.gw_nodes&&r.gw_nodes.length>0?this.gwNodeList[0]:this.gwNode,this.gwNodeTTL=r.gw_nodes_ttl?(new Date).getTime()+1e3*r.gw_nodes_ttl:this.gwNodeTTL,this.stateCenter.clientIP=r.clientip?r.clientip:this.stateCenter.clientIP,0!==r.result?(this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+this.streamId+\" create session failed \"+r.result),this.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError)):(this.sessionId=r.session_id,this.sessionToken=r.session_token,this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+this.streamId+\" create session success \"+this.sessionId),this.dataReport.addMsgInfo(this.reportSeq,{session_id:a.ZegoRTCLogEvent.kZegoTaskPublishStart.session_id(this.sessionId)}),this.onCreatePublishSessionSuccess(r))):this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+this.streamId+\" seq is not match.\")},e.prototype.handleCreateSessionWithSdpResp=function(e,t,r){var i=this;if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" sessionId:\"+t),this.sessionSeq==e){this.gwNodeList=r.gw_nodes&&r.gw_nodes.length>0?r.gw_nodes:this.gwNodeList,this.gwNode=r.gw_nodes&&r.gw_nodes.length>0?this.gwNodeList[0]:this.gwNode,this.gwNodeTTL=r.gw_nodes_ttl?(new Date).getTime()+1e3*r.gw_nodes_ttl:this.gwNodeTTL,this.stateCenter.clientIP=r.clientip?r.clientip:this.stateCenter.clientIP,this.dataReport.eventEndWithMsg(this.streamReportSeq,\"CreateSessionWithSdp\",{sessionId:t});var o=0,n=(new Date).getTime();if(this.dataReport.dataStatistics[this.reportSeq]&&this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \"+this.streamId+\" create sdp time \"+(o=n-this.dataReport.dataStatistics[this.reportSeq].event_time)),this.answerSdpTime=n,this.dataReport.eventEndWithMsg(this.reportSeq,\"CreateSessionWithSdp\",{sessionId:t,sessionTime:o}),0!==r.result)this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" create session failed \"+r.result),this.publishStateUpdateError({code:a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError.code,message:a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError.message+\" result:\"+r.result});else{this.sessionId=t,this.sessionToken=r.session_token,this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" get remote session success \"+this.streamId),this.dataReport.eventStart(this.reportSeq,\"IceConnected\");var s=performance.now();this.signal.registerPushCallback(\"CloseSessionPush\",this.sessionId,(function(e,t,r){if(s){var o=(performance.now()-s).toFixed(0);s=void 0,i.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \".concat(i.streamId,\", cmd: CloseSessionPush, cost_time: \").concat(o))}i.onRecvCloseSession(e,t,r)})),this.signal.registerPushCallback(\"SessionResetPush\",this.sessionId,(function(e,t,r){i.onRecvResetSession(e,t,r)})),this.signal.registerPushCallback(\"PublishEventPush\",this.sessionId,(function(e,t,r){if(s){var o=(performance.now()-s).toFixed(0);s=void 0,i.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" \".concat(i.streamId,\", cmd: PublishEventPush, cost_time: \").concat(o))}i.onRecvPublishEvent(e,t,r)})),this.signal.registerPushCallback(\"ClientInfoPush\",this.sessionId,(function(e,t,r){i.onRecvClientInfo(e,t,r)})),this.signal.registerPushCallback(\"MediaDescUpdatePush\",this.sessionId,(function(e,t,r){i.onRecvUpdateMediaDescription(e,t,r)})),this.onGetRemoteOfferSuccess(r.sdp)}}else this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+\" seq is not match.\")},e.prototype.onCreatePublishSessionSuccess=function(e){var t=this,r=c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS;this.logger.info(r+\" \"+this.streamId+\" called\");var i=[];if(e.turn_server){var o=e.turn_server;this._turnToTcp=this.stateCenter.turnOverTcpOnly,this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting(\"auto_to_tcp\")||!1;var n=this.stateCenter.settingConfig.getSetting(\"udp_max_fail_num\");!isNaN(n)&&(this.streamCenter.maxUdpFailNum=n);var s=this.streamCenter,a=s.autoSwitchProtocol,u=s.maxUdpFailNum,d=s.udpFailNum;this.logger.info(r+\"  autoToTcp: \".concat(a,\", udpFailNum: \").concat(d,\", maxUdpFailNum: \").concat(u,\".\")),a&&!this._turnToTcp&&d>=u&&(this.logger.info(r+\" switch to tcp. \"),this._turnToTcp=!0);var l=this.stateCenter.settingConfig.getSetting(\"udp_or_tcp\",!0);l&&(this.logger.info(r+\" setting udp_or_tcp \"+l),this._turnToTcp=\"tcp\"===l),this._turnToTcp&&(o=o.replace(\"udp\",\"tcp\")),this.logger.info(r+\" over tcp \"+o),i.push(o)}e.stun_server&&i.push(e.stun_server);var h={iceTransportPolicy:\"relay\",iceServers:[{urls:i,username:e.turn_username,credential:e.turn_auth_key}],encodedInsertableStreams:this.sideMediaConfig.isSEIStart};this.logger.info(r+\" \"+this.streamId+\" username: \"+e.turn_username),this.logger.info(r+\" \"+this.streamId+\" credential: \"+e.turn_auth_key),this.createOffer(h);var p=performance.now();this.signal.registerPushCallback(\"CandidateInfoPush\",this.sessionId,(function(e,r,i){t.onRecvCandidateInfo(e,r,i)})),this.signal.registerPushCallback(\"CloseSessionPush\",this.sessionId,(function(e,i,o){if(p){var n=(performance.now()-p).toFixed(0);p=void 0,t.logger.info(r+\" \".concat(t.streamId,\", cmd: CloseSessionPush, cost_time: \").concat(n))}t.onRecvCloseSession(e,i,o)})),this.signal.registerPushCallback(\"MediaDescPush\",this.sessionId,(function(e,r,i){t.onRecvMediaDescription(e,r,i)})),this.signal.registerPushCallback(\"SessionResetPush\",this.sessionId,(function(e,r,i){t.onRecvResetSession(e,r,i)})),this.signal.registerPushCallback(\"PublishEventPush\",this.sessionId,(function(e,i,o){if(p){var n=(performance.now()-p).toFixed(0);p=void 0,t.logger.info(r+\" \".concat(t.streamId,\", cmd: PublishEventPush, cost_time: \").concat(n))}t.onRecvPublishEvent(e,i,o)})),this.signal.registerPushCallback(\"ClientInfoPush\",this.sessionId,(function(e,r,i){t.onRecvClientInfo(e,r,i)})),this.signal.registerPushCallback(\"MediaDescUpdatePush\",this.sessionId,(function(e,r,i){t.onRecvUpdateMediaDescription(e,r,i)})),this.logger.info(r+\" \"+this.streamId+\" call success\")},e.prototype.createOffer=function(e){var t,r,i,o=this,n=c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS;this.peerConnection=new RTCPeerConnection(e),this.peerConnection.onicecandidate=function(e){o.onIceCandidate(e)},this.peerConnection.onsignalingstatechange=function(e){o.onConnectionStateChange(e)},this.peerConnection.oniceconnectionstatechange=function(e){o.onIceConnectionStateChange(e)},this.streamCenter.isDataChannelEnabled&&(this.dataChannel=this.peerConnection.createDataChannel(this.streamId),this.dataChannel.binaryType=\"arraybuffer\",this.dataChannel.onopen=function(e){o.logger.info(n+\" \"+o.streamId+\" data channel open\"),o.dataChannelState=1},this.dataChannel.onclose=function(e){o.logger.error(n+\" \"+o.streamId+\" data channel close \")});var s=[],u=[];if(this.lowStream&&this.lowStream.getVideoTracks().forEach((function(e){var t,r=null===(t=o.peerConnection)||void 0===t?void 0:t.addTrack(e,o.lowStream);o.sideMediaConfig.isSEIStart&&r&&\"function\"==typeof r.createEncodedStreams&&o.createVideoSenderTransform(r,!0)})),this.localStream){if(this.localStream.getTracks().forEach((function(e){var t,r=null===(t=o.peerConnection)||void 0===t?void 0:t.addTrack(e,o.localStream);o.sideMediaConfig.isSEIStart&&r&&\"function\"==typeof r.createEncodedStreams&&(\"video\"===e.kind?o.createVideoSenderTransform(r):\"audio\"===e.kind&&o.createAudioSenderTransform(r))})),!(null===(t=this.previewer)||void 0===t?void 0:t.videoTrack)&&this.sideMediaConfig.isSEIStart){this.videoInfo.bitRate||(this.videoInfo.bitRate=50);var d=this.addCanvasStreamVideoTrack(),l=this.peerConnection.addTrack(d,this.localStream);l&&\"video\"==d.kind&&this.createVideoSenderTransform(l)}(null===(r=this.previewer)||void 0===r?void 0:r.videoTrack)&&(s=[null===(i=this.previewer)||void 0===i?void 0:i.videoTrack]),u=this.localStream.getAudioTracks(),s.length>0&&this.logger.info(n+\" \"+this.streamId+\" video device: \"+s[0].label),u.length>0&&this.logger.info(n+\" \"+this.streamId+\" audio device: \"+u[0].label)}var h={offerToReceiveAudio:u.length>0?1:0,offerToReceiveVideo:s.length>0?1:0};this.logger.info(n+\" \"+this.streamId+\" createOffer: \"+JSON.stringify(h)),this.dataReport.eventStart(this.reportSeq,\"CreateOffer\"),this.dataReport.eventStart(this.streamReportSeq,\"CreateOffer\"),this.peerConnection.createOffer(h).then((function(e){o.dataReport.eventEnd(o.reportSeq,\"CreateOffer\"),o.dataReport.eventEnd(o.streamReportSeq,\"CreateOffer\"),o.onCreateOfferSuccess(e)}),(function(e){o.dataReport.eventEndWithMsg(o.reportSeq,\"CreateOffer\",{error:e.toString()}),o.dataReport.eventEndWithMsg(o.streamReportSeq,\"CreateOffer\",{error:e.toString()}),o.logger.error(n+\" \"+o.streamId+\" create offer error \"+e.toString()),o.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kCreateOfferError,!0)}))},e.prototype.sendSEI=function(e){var t,r;if(\"H264\"!==this.videoCodec)return this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+\" code not support\"),!1;if(!this.sideMediaConfig.isSEIStart)return this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+\" not enable to send sei\"),!1;var i=null===(t=this.peerConnection)||void 0===t?void 0:t.getSenders().filter((function(e){return e.track&&\"video\"===e.track.kind}));return i&&\"function\"!=typeof(null===(r=i[0])||void 0===r?void 0:r.createEncodedStreams)?(this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+\" browser not support\"),!1):this.sideMediaConfig.SEIType==o.ZegoSEIType.UserUnregister&&e.byteLength<=16?(this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+\" inData size should greater than 16\"),!1):this.mediaSideInfos.length>=10?(this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_SEI+\" side info count limit\"),!1):(this.mediaSideInfos.push(e.buffer),this.lowStream&&this.lowMediaSideInfos.push(e.buffer),!0)},e.prototype.createAudioSenderTransform=function(e){var t=e.createEncodedStreams(),r=new TransformStream({transform:this.encodeAudioFrame});t.readable.pipeThrough(r).pipeTo(t.writable)},e.prototype.encodeAudioFrame=function(e,t){t.enqueue(e)},e.prototype.createVideoSenderTransform=function(e,t){void 0===t&&(t=!1);var r=e.createEncodedStreams(),i=new TransformStream({transform:t?this.encodeLowVideoFrame:this.encodeVideoFrame});r.readable.pipeThrough(i).pipeTo(r.writable)},e.prototype.encodeSEINalu=function(e){var t=e.byteLength,r=parseInt(t/255),i=t%255,n=1+(r+1)+t+1,s=new ArrayBuffer(n),a=new DataView(s),c=0;a.setUint8(c++,this.sideMediaConfig.SEIType===o.ZegoSEIType.UserUnregister?5:243);for(var u=0;u<r;u++)a.setUint8(c++,255);a.setUint8(c++,i);var d=new DataView(e);for(u=0;u<(null==e?void 0:e.byteLength);u++)a.setInt8(c++,d.getInt8(u));a.setInt8(c++,128);var l=[];return{rbspView:a,ebspLength:n+l.length,ebspPreventProcessPos:l.map((function(e,t){return e+t}))}},e.prototype.encodeFrame=function(e,t,r){var i=r?this.lowMediaSideInfos:this.mediaSideInfos;if(i.length>0){for(var o=new DataView(e.data),n=[],s=0,a=0;a<i.length;a++){var c=this.encodeSEINalu(i[a]);s+=5+(T=c.ebspLength),n.push(c)}r?this.lowMediaSideInfos=[]:this.mediaSideInfos=[];for(var d=new ArrayBuffer(s+e.data.byteLength),l=new DataView(d),h=0,p=new u.H264Parser(o),g=0,f=!1,m=!1;p.NextNalu();){var _=31&o.getUint8(p.nalu_start+p.start_code_size);if(7==_)f=!0,g+=p.nalu_size;else if(8==_)m=!0,g+=p.nalu_size;else if(9==_)continue;if(f&&m)break}for(var v=0;v<g;v++)l.setInt8(h++,o.getInt8(v));for(a=0;a<n.length;a++){var E=n[a],S=E.rbspView,T=E.ebspLength,C=E.ebspPreventProcessPos;l.setUint8(h++,0),l.setUint8(h++,0),l.setUint8(h++,0),l.setUint8(h++,1),l.setUint8(h++,6);for(var y=0,R=0;R<T;R++)C.indexOf(R)>-1?(l.setInt8(h++,3),y++):l.setInt8(h++,S.getInt8(R-y))}for(v=g;v<e.data.byteLength;v++)l.setInt8(h++,o.getInt8(v));e.data=d}t.enqueue(e)},e.prototype.onCreateOfferSuccess=function(e,t,r,i){var o,s=this;t&&(this.isUpdateSDP=!0,i&&(this.updateSDPCallBack=i)),this.videoInfo.bitRate>0&&(e.sdp=this.updateBandwidthRestriction(e.sdp,this.videoInfo.bitRate)),e.sdp=e.sdp.replace(/sendrecv/g,\"sendonly\");var u=e.sdp.match(/m=application[\\s\\S]+datachannel[\\s\\S]+/)?e.sdp.match(/m=application[\\s\\S]+datachannel[\\s\\S]+/)[0]:null;if(u){var d=u.replace(/sendonly/,\"sendrecv\");e.sdp=e.sdp.replace(u,d)}e.sdp=e.sdp.replace(/useinbandfec=\\d+/,(this.videoInfo.audioBitrate?\"maxaveragebitrate=\"+this.videoInfo.audioBitrate:\"\")+(2===this.videoInfo.channelCount?\";stereo=1\":\"\")),this.localSdpOrder=e.sdp.match(/m=(.\\w*)\\s/g)||[],this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+\" \"+this.streamId+\" local sdp revert \"+this.localSdpOrder.join(\"\")),e.sdp=n.SdpUtil.getSDPByVideDecodeType(e.sdp,this.videoCodec),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+\" \"+this.streamId+\" localSdp1 \"+e.sdp.substr(0,e.sdp.length/2)),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+\" \"+this.streamId+\" localSdp2 \"+e.sdp.substr(e.sdp.length/2)),this.dataReport.eventStart(this.reportSeq,\"SetLocalDescription\"),this.dataReport.eventStart(this.streamReportSeq,\"SetLocalDescription\"),null===(o=this.peerConnection)||void 0===o||o.setLocalDescription(e).then((function(){s.dataReport.eventEnd(s.reportSeq,\"SetLocalDescription\"),s.dataReport.eventEnd(s.streamReportSeq,\"SetLocalDescription\"),s.onSetLocalDescriptionSuccess(e,r)}),(function(e){s.dataReport.eventEndWithMsg(s.reportSeq,\"SetLocalDescription\",{error:e.toString()}),s.dataReport.eventEndWithMsg(s.streamReportSeq,\"SetLocalDescription\",{error:e.toString()}),s.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+\" \"+s.streamId+\" error \"+e.toString()),s.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSetLocalDescError,!0)}))},e.prototype.updateBandwidthRestriction=function(e,t){var r=\"AS\";return\"firefox\"===this.stateCenter.browser&&(t=1e3*(t>>>0),r=\"TIAS\"),e=-1===e.indexOf(\"b=\"+r+\":\")?e.replace(/(m=video.*\\r\\nc=IN.*\\r\\n)/g,\"$1b=\"+r+\":\"+t+\"\\r\\n\"):(e=e.replace(new RegExp(\"b=\"+r+\":.*\\r\\n\",\"g\"),\"b=\"+r+\":\"+t+\"\\r\\n\")).replace(\"b=\"+r+\":\"+t+\"\\r\\n\",\"\")},e.prototype.onSetLocalDescriptionSuccess=function(e,t){var r,s=this;this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+this.streamId+\" success\"),!this.isUpdateSDP&&(this.state=o.ENUM_PUBLISH_STATE.waitingOfferRsp),t&&(this.videoInfo=i(i({},this.videoInfo),t));var u=n.SdpUtil.getSDPByVideDecodeType(e.sdp,this.videoCodec,\"screen\"==(null===(r=this.previewer)||void 0===r?void 0:r.previewType)?!this.stateCenter.screenHardwareEncoder:!this.stateCenter.hardwareEncoder),d={sdp:u,width:this.videoInfo.width,height:this.videoInfo.height,frameRate:this.videoInfo.frameRate,video_min_kpbs:this.videoInfo.bitRate,video_max_kpbs:this.videoInfo.bitRate,audio_kpbs:48,keyframe_intv:2};if(this.offerSeq=(0,o.getSeq)(),this.isUpdateSDP){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+this.streamId+\" update sdp\");var l=i(i({},d),{seq:this.sessionSeq,peerID:this.peerID,type:0});return this.dataReport.eventStart(this.reportSeq,\"SendMediaDescUpdate\"),this.dataReport.eventStart(this.streamReportSeq,\"SendMediaDescUpdate\"),void this.signal.sendMediaDescUpdateReq(this.offerSeq,this.sessionId,l,(function(e,t,r){}),(function(e,t){s.dataReport.eventEndWithMsg(s.reportSeq,\"SendMediaDescUpdate\",{error:e}),s.dataReport.eventEndWithMsg(s.streamReportSeq,\"SendMediaDescUpdate\",{error:e}),s.updateSDPCallBack&&s.updateSDPCallBack(-1),s.publishStateUpdateError(e==o.SEND_MSG_TIMEOUT?a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kUpdateMediaDescriptionTimeOut:a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kUpdateMediaDescriptionError)}))}this.isPeer?this.createSession(e,u):(this.dataReport.eventStart(this.reportSeq,\"SendMediaDesc\"),this.dataReport.eventStart(this.streamReportSeq,\"SendMediaDesc\"),this.signal.sendMediaDesc(this.offerSeq,this.sessionId,0,d,(function(e,t,r){s.offerSeq==e&&s.sessionId==t?(s.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+s.streamId+\" send success\"),s.dataReport.eventEndWithMsg(s.reportSeq,\"SendMediaDesc\",{mediaDescription:{width:d.width,height:d.height,frameRate:d.frameRate,video_min_kpbs:d.video_min_kpbs,video_max_kpbs:d.video_max_kpbs,audio_kpbs:d.audio_kpbs,keyframe_intv:d.keyframe_intv}}),s.dataReport.eventEndWithMsg(s.streamReportSeq,\"SendMediaDesc\",{mediaDescription:{width:d.width,height:d.height,frameRate:d.frameRate,video_min_kpbs:d.video_min_kpbs,video_max_kpbs:d.video_max_kpbs,audio_kpbs:d.audio_kpbs,keyframe_intv:d.keyframe_intv}}),s.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+s.streamId+\" send success stateNego:waiterAnswer\"),s.stateNego=o.ENUM_PUBLISH_STATE_NEGO.waiterAnswer,s.state=o.ENUM_PUBLISH_STATE.waitingServerAnswer):s.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+s.streamId+\" seq or sessionId is not equal\")}),(function(e,t){s.dataReport.eventEndWithMsg(s.reportSeq,\"SendMediaDesc\",{error:e}),s.dataReport.eventEndWithMsg(s.streamReportSeq,\"SendMediaDesc\",{error:e}),s.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaDescError)})),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+\" \"+this.streamId+\" call success\"))},e.prototype.onRecvUpdateMediaDescription=function(e,t,r){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_UPDATE_MEDIA_DESC+\" \"+this.streamId+\" received\"),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_UPDATE_MEDIA_DESC+\" \"+this.streamId+\" received stateNego:waitingCandidate\"),this.dataReport.addEvent(this.reportSeq,\"RecvUpdateMediaDesc\"),this.dataReport.addEvent(this.streamReportSeq,\"RecvUpdateMediaDesc\"),this.signal.sendUpdateMediaDescAck(e,this.sessionId,0,this.peerID),1==r.type?this.onGetRemoteOfferSuccess(r.sdp):this.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaDescError)},e.prototype.onRecvMediaDescription=function(e,t,r){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+\" \"+this.streamId+\" received\"),this.state==o.ENUM_PUBLISH_STATE.waitingServerAnswer?(this.stateNego=o.ENUM_PUBLISH_STATE_NEGO.waitingCandidate,this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+\" \"+this.streamId+\" received stateNego:waitingCandidate\"),this.dataReport.addEvent(this.reportSeq,\"RecvMediaDesc\"),this.dataReport.addEvent(this.streamReportSeq,\"RecvMediaDesc\"),this.signal.sendMediaDescAck(e,this.sessionId,0),1==r.type?this.onGetRemoteOfferSuccess(r.sdp):this.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaDescError)):this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+\" \"+this.streamId+\" current state \"+this.state+\" not allowed\")},e.prototype.onGetRemoteOfferSuccess=function(e){var t,r,i,n=this;this.videoInfo.audioBitrate&&48e3!==this.videoInfo.audioBitrate&&(e=e.replace(/maxaveragebitrate=(\\d+)/,\"maxaveragebitrate=\"+this.videoInfo.audioBitrate)),this.remoteSdpOrder=e.match(/m=(.\\w*)\\s/g)||[],this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+\" \"+this.streamId+NaN+this.remoteSdpOrder.join(\"\")),this._turnToTcp=this.stateCenter.turnOverTcpOnly,this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting(\"auto_to_tcp\")||!1;var s=this.stateCenter.settingConfig.getSetting(\"udp_max_fail_num\");!isNaN(s)&&(this.streamCenter.maxUdpFailNum=s);var u=this.streamCenter,d=u.autoSwitchProtocol,l=u.maxUdpFailNum,h=u.udpFailNum;this.logger.info(\"zp.oro.0  autoToTcp: \".concat(d,\", udpFailNum: \").concat(h,\", maxUdpFailNum: \").concat(l,\".\")),d&&!this._turnToTcp&&h>=l&&(this.logger.info(\"zp.oro.0 switch to tcp.\"),this._turnToTcp=!0);var p=this.stateCenter.settingConfig.getSetting(\"udp_or_tcp\",!0);if(p&&(this.logger.info(\"zp.oro.0 setting udp_or_tcp \"+p),this._turnToTcp=\"tcp\"===p),this._turnToTcp&&(null===(t=e.match(/candidate.*/g))||void 0===t||t.forEach((function(t){var r=t.replace(/udp/,\"tcp\");r.includes(\" tcptype \")||(r=r.replace(\" typ host \",\" typ host tcptype passive \")),e=e.replace(t,r)}))),this.logger.info(\"zp.oro.0 \"+this.streamId+\" sdp revert \"+this.localSdpOrder.join(\"\")+\" \"+this.remoteSdpOrder.join(\"\")),this.localSdpOrder.join()!==this.remoteSdpOrder.join()&&this.localSdpOrder.length==this.remoteSdpOrder.length){var g=new RegExp(\"[\\\\s\\\\S]*\"+this.remoteSdpOrder[0]).exec(e)[0].replace(this.remoteSdpOrder[0],\"\"),f=[],m=\"\";this.localSdpOrder.forEach((function(t){var r=n.remoteSdpOrder.findIndex((function(e){return e==t})),i=new RegExp(t+\"[\\\\s\\\\S]*\"+(n.remoteSdpOrder[r+1]||\"\")).exec(e)[0].replace(n.remoteSdpOrder[r+1],\"\"),o=/a=mid:(\\w)/.exec(i)[1];f.push(o),m+=i||\"\"})),e=g.replace(/a=group:BUNDLE.*/,\"a=group:BUNDLE \"+f.join(\" \"))+m,this.localSdpOrder=[],this.remoteSdpOrder=[]}var _=e.match(/m=video(.|\\r|\\n)*a=rtpmap(.|\\r|\\n)*(a=fmtp:(\\d+).*)/);if(\"chrome\"==this.stateCenter.browser){var v=0;if(this.videoInfo.bitRate&&\"target\"===this.videoInfo.startBitrate&&(v=this.videoInfo.bitRate),null!==_&&v){var E=_[3];e=-1!==E.indexOf(\"apt=\")?e.replace(E,\"a=fmtp:96 x-google-start-bitrate=\"+v+\"\\n\"+E):e.replace(E,E+\";x-google-start-bitrate=\"+v)}}if(this.videoInfo.bitRate>0){var S=/b=AS.*(\\r\\n|\\n)/.test(e);e=S?e.replace(/AS:(\\d+)/,\"AS:\"+this.videoInfo.bitRate):e.replace(/m=video.*(\\r\\n|\\n)c=.*(\\r\\n|\\n)/,\"$&b=AS:\".concat(this.videoInfo.bitRate,\"\\n\"));var T=null===(r=this.peerConnection)||void 0===r?void 0:r.getSenders().filter((function(e){return e.track&&\"video\"===e.track.kind}));null==T||T.forEach((function(e){var t,r,i,o,s,a;if(e&&e.getParameters&&e.setParameters){var c=e.getParameters();if(c.encodings&&0!=c.encodings.length||(c.encodings=[{}]),(null===(t=e.track)||void 0===t?void 0:t.id)==(null===(r=n.lowStream)||void 0===r?void 0:r.getVideoTracks()[0].id)){var u=null===(i=n.previewer)||void 0===i?void 0:i.lowStreamConfig.bitRate;u&&(c.encodings[0].maxBitrate=1e3*u)}else{c.encodings[0].maxBitrate=1e3*n.videoInfo.bitRate;var d=n.lastPublishStats.frameWidth,l=(null===(s=null===(o=n.previewer)||void 0===o?void 0:o.cameraMaxResolution)||void 0===s?void 0:s.maxWidth)||0,h=null===(a=n.previewer.videoTrack)||void 0===a?void 0:a.getSettings().width,p=d?Math.min(l,d):l;if(l&&h){var g=Math.max(p/h,1);c.encodings[0].scaleResolutionDownBy=g}}e.setParameters(c)}}))}this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+\" \"+this.streamId+\" remoteSdp:\",e);var C={type:\"answer\",sdp:e,toJSON:function(){}};this.dataReport.eventStart(this.reportSeq,\"SetRemoteDescription\"),this.dataReport.eventStart(this.streamReportSeq,\"SetRemoteDescription\"),null===(i=this.peerConnection)||void 0===i||i.setRemoteDescription(new RTCSessionDescription(C)).then((function(){n.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+\" \"+n.streamId+\" set success\"),n.dataReport.eventEnd(n.reportSeq,\"SetRemoteDescription\"),n.dataReport.eventEnd(n.streamReportSeq,\"SetRemoteDescription\"),n.stateNego==o.ENUM_PUBLISH_STATE_NEGO.iceConnected&&n.updateSDPCallBack&&(n.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+\" \"+n.streamId+\" update sdp success\"),n.updateSDPCallBack(0),n.updateSDPCallBack=void 0,n.isUpdateSDP=!1)}),(function(e){n.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+\" \"+n.streamId+\" failed: \"+e.toString()),n.dataReport.eventEndWithMsg(n.reportSeq,\"SetRemoteDescription\",{error:e.toString()}),n.dataReport.eventEndWithMsg(n.streamReportSeq,\"SetRemoteDescription\",{error:e.toString()}),n.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSetRemoteDescError,!0)})),this.state=o.ENUM_PUBLISH_STATE.waitingServerICE,this.logger.debug(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+\" \"+this.streamId+\" call success\")},e.prototype.onIceConnectionStateChange=function(e){var t=this;if(this.state!=o.ENUM_PUBLISH_STATE.stop&&null!=this.peerConnection)if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" stateChanged \"+this.peerConnection.iceConnectionState),\"connected\"===this.peerConnection.iceConnectionState){if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" connected state \"+this.state),this.dataReport.eventEnd(this.reportSeq,\"IceConnected\"),this.dataReport.eventEnd(this.streamReportSeq,\"IceConnected\"),this.stateNego=o.ENUM_PUBLISH_STATE_NEGO.iceConnected,this.answerSdpTime){var r=(new Date).getTime()-this.answerSdpTime;this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" ice time \"+r)}this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" stateNego:iceConnected\"),this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),null!=this.iceDisconnectedTimer&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.publishEvent?this.publishSuccess():(this.firstGetStatsTimer&&clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null,this.firstGetStatsTimer=setTimeout((function(){var e;t.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+\" get first stats state \"+t.state),t.state!==o.ENUM_PUBLISH_STATE.publishing&&(null===(e=t.peerConnection)||void 0===e||e.getStats().then((function(e){t.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+\" get first stats suc\"),e.size>0&&t.publishSuccess()})))}),1e3))}else\"closed\"===this.peerConnection.iceConnectionState?(this.dataReport.addEvent(this.reportSeq,\"IceClosed\"),this.stateNego=o.ENUM_PUBLISH_STATE_NEGO.iceClosed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):\"failed\"===this.peerConnection.iceConnectionState?(this.dataReport.addEvent(this.reportSeq,\"IceFailed\"),this.stateNego=o.ENUM_PUBLISH_STATE_NEGO.iceFailed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):\"disconnected\"===this.peerConnection.iceConnectionState&&(this.dataReport.addEvent(this.reportSeq,\"IceDisconnected\"),this.logger.warn(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+\" ice disconnected \"),this.stateNego=o.ENUM_PUBLISH_STATE_NEGO.iceDisconnected,this.iceDisconnectedTimer||(this.iceDisconnectedTimer=setTimeout((function(){t.checkPublishConnectionFailedState(\"disconnected\")}),this.iceDisconnectedMaxTime)))},e.prototype.onIceCandidate=function(e){(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CANDIDATE+\" \"+this.streamId+\" candidate\"+e.candidate),e.candidate)&&(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CANDIDATE+\" \"+this.streamId+\" candidate\"+e.candidate.candidate),this.state<o.ENUM_PUBLISH_STATE.connecting||this.state==o.ENUM_PUBLISH_STATE.stop?this.candidateInfo.push({candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex}):this.sendCandidateInfo([{candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex}]))},e.prototype.sendCandidateInfo=function(e){var t=this;this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+\" \"+this.streamId+\" called\"),!(e=e.filter((function(e){return e.candidate.indexOf(\"relay\")>0})))||e.length<1?this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+\" \"+this.streamId+\" cancelled\"):(this.dataReport.eventStart(this.reportSeq,\"SendIceCandidate\"),this.dataReport.eventStart(this.streamReportSeq,\"SendIceCandidate\"),this.stateNego!==o.ENUM_PUBLISH_STATE_NEGO.iceConnected&&(this.stateNego=o.ENUM_PUBLISH_STATE_NEGO.sendCandidate),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+\" \"+this.streamId+\" stateNego:sendCandidate\"),this.signal.sendCandidateInfo((0,o.getSeq)(),this.sessionId,e,(function(e,r,i){t.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+\" \"+t.streamId+\" send success\"),t.dataReport.eventEnd(t.reportSeq,\"SendIceCandidate\"),t.dataReport.eventEnd(t.streamReportSeq,\"SendIceCandidate\")}),(function(e,r){t.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+\" \"+t.streamId+\" failed to send: \"+e.toString()),t.dataReport.eventEndWithMsg(t.reportSeq,\"SendIceCandidate\",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,\"SendIceCandidate\",{error:e}),t.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kCandidateError)})))},e.prototype.onConnectionStateChange=function(e){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CONNECTION_STATE_CHANGE+\" \"+this.streamId+\" called \"+e.target.signalingState)},e.prototype.onRecvCandidateInfo=function(e,t,r){var i,n=this;if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+\" \"+this.streamId+\" received \"+JSON.stringify(r.infos)),this.state==o.ENUM_PUBLISH_STATE.waitingServerICE){this.dataReport.addEvent(this.reportSeq,\"RecvIceCandidate\"),this.dataReport.addEvent(this.streamReportSeq,\"RecvIceCandidate\"),this.signal.sendCandidateInfoAck(e,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var s=0;s<r.infos.length;s++){var u={sdpMid:r.infos[s].sdpMid,sdpMLineIndex:r.infos[s].sdpMLineIndex,candidate:r.infos[s].candidate};this.logger.debug(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+\"\"+this.streamId+\" candidate \"+u.candidate),null===(i=this.peerConnection)||void 0===i||i.addIceCandidate(new RTCIceCandidate(u)).then((function(){n.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+\" \"+n.streamId+\" add success\")}),(function(e){n.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+\" \"+n.streamId+\" add error \"+e.toString()),n.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kCandidateError,!0)}))}this.state=o.ENUM_PUBLISH_STATE.connecting,this.dataReport.eventStart(this.reportSeq,\"IceConnected\"),this.dataReport.eventStart(this.streamReportSeq,\"IceConnected\")}else this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+\" \"+this.streamId+\" current state \"+this.state+\" not allowed\")},e.prototype.onRecvCloseSession=function(e,t,r){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CLOSE_SESSION+\"\"+this.streamId+\" \"+JSON.stringify(r)),this.dataReport.addEvent(this.reportSeq,\"RecvCloseSession\"),this.signal.sendCloseSessionAck(e,this.sessionId,0);var i=r.err_info?JSON.parse(r.err_info.toLowerCase()):{},o=i.action?i.action:null,n=1*r.reason,s=JSON.parse(JSON.stringify(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishSessionClosedError));s.message+=\" reason:\".concat(n,\" \").concat(o?\" action:\"+o:\"\",\" \").concat((null==i?void 0:i.err)?\" err:\"+(null==i?void 0:i.err):\"\"),1011===i.err&&(s=a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaServerForbidError),1014===i.err&&(s=a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishTokenExpiredError),this.negoTimer&&clearTimeout(this.negoTimer);var u=![4,8,10,11,12,14,18,24,26,27,28].includes(n)&&![2,5,6].includes(o);if([8,10].includes(n)||[18,15].includes(n)&&2===o&&[3001,3002].includes(i.err)){this.streamCenter.udpFailNum++;var d=this.streamCenter;d.autoSwitchProtocol&&d.udpFailNum>=d.maxUdpFailNum&&(this.isPeer=!1,this.streamCenter.setIsPeer(!1))}else this._turnToTcp||(this.streamCenter.udpFailNum=0);this.publishStateUpdateError(s,u)},e.prototype.onRecvResetSession=function(e,t,r){if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_RESET_SESSION+\" \"+this.streamId+\" received \"),t==this.sessionId){this.signal.sendCloseSessionAck(e,this.sessionId,0);var i=a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishSessionClosedError;this.negoTimer&&clearTimeout(this.negoTimer),this.publishStateUpdateError(i)}else this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_RESET_SESSION+\" \"+this.streamId+\" cannot find session\")},e.prototype.onRecvPublishEvent=function(e,t,r){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_PUBLISH_EVENT+\" \"+this.streamId+\" received\"),this.publishEvent=!0,this.firstGetStatsTimer&&(clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null),this.stateNego===o.ENUM_PUBLISH_STATE_NEGO.iceConnected&&0==r.event&&this.publishSuccess()},e.prototype.onRecvClientInfo=function(e,t,r){this.stateCenter.clientIP!==r.clientip&&this.logger.warn(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CLIENT_INFO+\" client ip changed \"+this.stateCenter.clientIP+\" \"+r.clientip),this.stateCenter.clientIP=r.clientip,this.peerID=r.peer_id,this.sideMediaConfig.isSEIStart&&this.sideMediaConfig.SEIType==o.ZegoSEIType.UserUnregister&&this.sendSEIUUID();var i=this.previewer;if(i&&null!==i.activateSEIConfig){var n=null==i?void 0:i.activateSEIConfig;this.activateSEIInsert(n.action,n.infoType)}},e.prototype.sendSEIUUID=function(){var e=this;this.signal.gw.mediaStreamSEIUUIDReq((0,o.getSeq)(),this.sessionId,this.peerID,this.sideMediaConfig.unregisterSeiFilter).then((function(t){var r;0==(null===(r=null==t?void 0:t.usr_sei_filter)||void 0===r?void 0:r.result)&&(e.sideMediaConfig.uuidSend=!0)})).catch((function(e){console.error()}))},e.prototype.checkPublishConnectionFailedState=function(e){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+\" streamID \"+this.streamId,\" state \"+this.state+\" connectionState \"+e),this.publishStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaConnectionError)},e.prototype.setPublishQualityTimer=function(){var e=this;null==this.qualityTimer&&(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_PLAYER_QUALITY_TIMER+\" \"+this.streamId+\" called\"),this.clearPublishQualityTimer(),this.qualityTimer=setInterval((function(){e.peerConnectionGetStats()}),this.qualityTimeInterval),this.lastPublishStats={audioPacketsLost:0,videoPacketsLost:0,videoPacketsSent:0,audioPacketsSent:0,audioRetransmittedPacketsSent:0,videoTime:(new Date).getTime(),audioTime:(new Date).getTime(),time:0,audioBytesSent:0,videoBytesSent:0,framesEncoded:0,framesSent:0,videoRetransmittedPacketsSent:0},this.qualitySeq=(0,o.getSeq)(),this.qualityCount=0)},e.prototype.peerConnectionGetStats=function(e){var t=this;if(this.peerConnection){var r=[this.peerConnection.getStats(null)];\"chrome\"==this.stateCenter.browser&&r.push(new Promise((function(e,r){var i;null===(i=t.peerConnection)||void 0===i||i.getStats((function(t){return e(t)}),(function(e){return r(e)}))}))),Promise.all(r).then((function(r){var i=t.getPublishStats(r[0],r[1]);e&&e(i,r[0],r[1])})).catch((function(e){t.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_PLAYER_QUALITY_TIMER+\" \"+t.streamId+\" getStats error \"+e.toString())}))}},e.prototype.getPublishStats=function(e,t){var r,i,n=this;if(e){for(var u,d=document.querySelectorAll(\"video, audio\"),l=0;l<d.length;l++)d[l].srcObject===this.localStream&&(u=d[l]);var h=this.streamCenter.checkPreview(this.localStream),p={sampleTimeWindow:this.qualityTimeInterval,audioCodec:\"opus\",audioTargetBitrate:this.videoInfo.audioBitrate/1e3||0,audioBitrate:0,videoTargetBitrate:this.videoInfo.bitRate||0,videoTargetFPS:this.videoInfo.frameRate||0,videoBitrate:0,audioFPS:0,audioLevel:0,audioInputLevel:0,audioPacketsLost:0,audioPacketsLostRate:0,sendLevel:0,samplingRate:0,videoFPS:0,nackCount:0,pliCount:0,audioQuality:0,videoQuality:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoPacketsLost:0,videoPacketsLostRate:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:\"\",audioCodecName:\"\",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,googActualEncBitrate:0,googTargetEncBitrate:0,googFrameWidthInput:0,googFrameHeightInput:0,googFrameRateInput:0,codecImplementationName:\"\",videoMuteState:(null===(r=null==h?void 0:h.videoTrack)||void 0===r?void 0:r.enabled)?\"0\":\"1\",audioMuteState:this.localStream.getAudioTracks().length>0&&this.localStream.getAudioTracks()[0].enabled?\"0\":\"1\",muted:u?u.muted:void 0,paused:u?u.paused:void 0,volume:u?u.volume:void 0,sinkId:u?u.sinkId:void 0},g=this.lastPublishStats.time,f=0,m=0,_=0,v=0,E=0,S=0;e.forEach((function(e){if((\"outbound-rtp\"==e.type||\"ssrc\"==e.type&&null!=e.bytesSent)&&\"audio\"==e.mediaType)0!=g&&(p.audioBitrate=8*(e.bytesSent-n.lastPublishStats.audioBytesSent)/(e.timestamp-g),e.retransmittedPacketsSent=e.retransmittedPacketsSent||0,e.packetsSent=e.packetsSent||0,p.audioFPS=(e.packetsSent-(e.retransmittedPacketsSent-n.lastPublishStats.audioRetransmittedPacketsSent)-n.lastPublishStats.audioPacketsSent)/(e.timestamp-g)*1e3||0,_=(e.retransmittedPacketsSent-n.lastPublishStats.audioRetransmittedPacketsSent)/(e.packetsSent-n.lastPublishStats.audioPacketsSent)),p.audioBitrate<0&&(p.audioBitrate=0),n.lastPublishStats.audioBytesSent=e.bytesSent,n.lastPublishStats.time=e.timestamp,n.lastPublishStats.audioPacketsSentTimeStamp=e.packetsSent-n.lastPublishStats.audioPacketsSent,n.lastPublishStats.audioPacketsSent=e.packetsSent,n.lastPublishStats.audioRetransmittedPacketsSent=e.retransmittedPacketsSent;else if((\"outbound-rtp\"==e.type||\"ssrc\"==e.type&&null!=e.bytesSent)&&\"video\"==e.mediaType)0!=g&&(p.videoBitrate=8*(e.bytesSent-n.lastPublishStats.videoBytesSent)/(e.timestamp-g),p.videoFPS=1e3*(e.framesEncoded-n.lastPublishStats.framesEncoded)/(e.timestamp-g),v=(e.retransmittedPacketsSent-n.lastPublishStats.videoRetransmittedPacketsSent)/(e.packetsSent-n.lastPublishStats.videoPacketsSent)),p.videoBitrate<0&&(p.videoBitrate=0),p.videoFPS<0&&(p.videoFPS=0),p.nackCount=e.nackCount,p.pliCount=e.pliCount,n.lastPublishStats.videoBytesSent=e.bytesSent,n.lastPublishStats.framesEncoded=e.framesEncoded,n.lastPublishStats.time=e.timestamp,n.lastPublishStats.videoPacketsSentTimeStamp=e.packetsSent-n.lastPublishStats.videoPacketsSent,n.lastPublishStats.videoPacketsSent=e.packetsSent,n.lastPublishStats.videoRetransmittedPacketsSent=e.retransmittedPacketsSent;else if(\"remote-inbound-rtp\"==e.type&&\"video\"==e.kind){e.packetsLost>0&&(p.videoPacketsLost=e.packetsLost);var t=e.packetsLost-n.lastPublishStats.videoPacketsLost;p.videoPacketsLostRate=t>0?t/n.lastPublishStats.videoPacketsSentTimeStamp:0,e.packetsLost>0&&(n.lastPublishStats.videoPacketsLost=e.packetsLost),n.lastPublishStats.videoTime=e.timestamp,m=1e3*e.roundTripTime,S=e.jitter}else if(\"remote-inbound-rtp\"==e.type&&\"audio\"==e.kind){e.packetsLost>0&&(p.audioPacketsLost=e.packetsLost);var r=e.packetsLost-n.lastPublishStats.audioPacketsLost;p.audioPacketsLostRate=r>0?r/n.lastPublishStats.audioPacketsSentTimeStamp:0,e.packetsLost>0&&(n.lastPublishStats.audioPacketsLost=e.packetsLost),n.lastPublishStats.audioTime=e.timestamp,f=1e3*e.roundTripTime,E=e.jitter}else if(\"media-source\"==e.type&&(\"audio\"==e.kind||e.id.toLowerCase().indexOf(\"audio\")>=0))p.audioLevel=e.audioLevel||0,p.sendLevel=e.totalAudioEnergy,p.audioInputLevel=32767*e.totalAudioEnergy,p.samplingRate=e.totalSamplesDuration;else if(\"track\"==e.type&&(\"video\"==e.kind||e.id.indexOf(\"video\")>=0||e.frameWidth)){if(p.frameHeight=e.frameHeight,p.frameWidth=e.frameWidth,0===g||n.lastPublishStats.frameHeight===e.frameHeight&&n.lastPublishStats.frameWidth===e.frameWidth)0===g&&(n.lastPublishStats.frameHeight=e.frameHeight,n.lastPublishStats.frameWidth=e.frameWidth);else{var i=(0,o.getReportSeq)();n.dataReport.newReport(i,a.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.event),n.dataReport.addMsgInfo(i,{session_id:a.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.session_id(n.sessionId),w:a.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.w(e.frameWidth),h:a.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.h(e.frameHeight)}),n.dataReport.uploadReport(i),n.lastPublishStats.frameHeight=e.frameHeight,n.lastPublishStats.frameWidth=e.frameWidth}0!=g&&(p.videoTransferFPS=1e3*(e.framesSent-n.lastPublishStats.framesSent)/(e.timestamp-g)),p.videoTransferFPS<0&&(p.videoTransferFPS=0),n.lastPublishStats.framesSent=e.framesSent}else\"candidate-pair\"==e.type&&(null!=e.totalRoundTripTime&&(p.totalRoundTripTime=e.totalRoundTripTime),null!=e.currentRoundTripTime&&(p.currentRoundTripTime=e.currentRoundTripTime))})),t&&t.result().forEach((function(e){\"ssrc\"==e.type&&e.names().indexOf(\"googBandwidthLimitedResolution\")>=0&&(p.googBandwidthLimitedResolution=e.stat(\"googBandwidthLimitedResolution\")),\"ssrc\"==e.type&&\"video\"==e.stat(\"mediaType\")&&e.names().indexOf(\"googCodecName\")>=0&&(p.videoCodecName=e.stat(\"googCodecName\")),\"ssrc\"==e.type&&\"audio\"==e.stat(\"mediaType\")&&e.names().indexOf(\"googCodecName\")>=0&&(p.audioCodecName=e.stat(\"googCodecName\")),\"ssrc\"==e.type&&e.names().indexOf(\"googCpuLimitedResolution\")>=0&&(p.googCpuLimitedResolution=e.stat(\"googCpuLimitedResolution\")),\"ssrc\"==e.type&&e.names().indexOf(\"googFrameWidthInput\")>=0&&(p.googFrameWidthInput=e.stat(\"googFrameWidthInput\")),\"ssrc\"==e.type&&e.names().indexOf(\"googFrameHeightInput\")>=0&&(p.googFrameHeightInput=e.stat(\"googFrameHeightInput\")),\"ssrc\"==e.type&&e.names().indexOf(\"googFrameRateInput\")>=0&&(p.googFrameRateInput=e.stat(\"googFrameRateInput\")),\"ssrc\"==e.type&&e.names().indexOf(\"codecImplementationName\")>=0&&(p.codecImplementationName=e.stat(\"codecImplementationName\")),\"VideoBwe\"==e.type&&e.names().indexOf(\"googAvailableSendBandwidth\")>=0&&(p.googAvailableSendBandwidth=e.stat(\"googAvailableSendBandwidth\")),\"VideoBwe\"==e.type&&e.names().indexOf(\"googActualEncBitrate\")>=0&&(p.googActualEncBitrate=e.stat(\"googActualEncBitrate\")),\"VideoBwe\"==e.type&&e.names().indexOf(\"googTargetEncBitrate\")>=0&&(p.googTargetEncBitrate=e.stat(\"googTargetEncBitrate\")),\"VideoBwe\"==e.type&&e.names().indexOf(\"googRetransmitBitrate\")>=0&&(p.googRetransmitBitrate=e.stat(\"googRetransmitBitrate\"))})),\"chrome\"===this.stateCenter.browser&&this.handleEncBitrate(Number.parseInt(p.googTargetEncBitrate),Number.parseInt(p.googActualEncBitrate),Number.parseInt(p.googRetransmitBitrate)),m=isNaN(m)||m<0?0:m,v=isNaN(v)||v<0?0:v,S=isNaN(S)||S<0?0:S,f=isNaN(f)||f<0?0:f,_=isNaN(_)||_<0?0:_,E=isNaN(E)||E<0?0:E;var T=s.ClientUtil.getNetQuality(m,v,S),C=s.ClientUtil.getNetQuality(f,_,E);if(p.videoQuality=g>0?s.ClientUtil.quality2QualityGrade(T):0,p.audioQuality=g>0?s.ClientUtil.quality2QualityGrade(C):0,this.stateCenter.networkState!==o.ENUM_NETWORK_STATE.offline&&\"disconnected\"!==(null===(i=this.peerConnection)||void 0===i?void 0:i.connectionState)||(p.videoQuality=o.QualityGrade.Die,p.audioQuality=o.QualityGrade.Die),!p.frameHeight||!p.frameWidth){var y=this.localStream.getVideoTracks()[0];y&&(p.frameHeight=y.getSettings().height||0,p.frameWidth=y.getSettings().width||0)}var R=Math.min(T,C);this.netQuality=R,R<=o.QUALITY_CONSTANT.MiddleMinQuality?this.poorQualityNum++:this.poorQualityNum=0,g>0&&this.poorQualityNum>=this.streamCenter.probeStartedNum&&(new Date).getTime()>this.probeTime+this.probeInterval&&(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_PLAYER_QUALITY_TIMER+\" netQuality \"+R+\" start net probe\"),this.probeState=o.ENUM_PROBE_STATE.tryProbe,this.streamCenter.startNetProbe(!0,this,this.gwNodeList),this.probeTime=(new Date).getTime()),this.updateCurrentQualityStats(p),0!==g&&(this.uploadPublishQuality(p),this.onPublishQualityUpdate(this.streamId,this.currentQuality,e,t))}},e.prototype.updateCurrentQualityStats=function(e){var t=e.videoBitrate,r=e.videoFPS,o=e.videoTransferFPS,n=e.frameHeight,s=e.frameWidth,a=e.videoMuteState,c=e.videoQuality,u=e.audioBitrate,d=e.audioCodec,l=e.audioMuteState,h=e.audioQuality,p=e.audioFPS,g={video:i(i({},this.currentQuality.video),{videoBitrate:t,videoFPS:r,videoTransferFPS:o,frameHeight:n,frameWidth:s,muteState:a,videoQuality:c}),audio:i(i({},this.currentQuality.audio),{audioBitrate:u,audioCodec:d,muteState:l,audioQuality:h,audioFPS:p}),nackCount:e.nackCount,pliCount:e.pliCount,totalRoundTripTime:e.totalRoundTripTime,currentRoundTripTime:e.currentRoundTripTime};if(void 0!==e.videoPacketsLost){var f=e.videoPacketsLostRate;g.video.videoPacketsLost=e.videoPacketsLost,g.video.videoPacketsLostRate=f}if(void 0!==e.audioPacketsLost){var m=e.audioPacketsLostRate;g.audio.audioPacketsLost=e.audioPacketsLost,g.audio.audioPacketsLostRate=m}if(void 0!==e.muted&&(g.muted=e.muted,g.paused=e.paused,g.volume=e.volume,g.sinkId=e.sinkId),void 0!==e.googBandwidthLimitedResolution){var _=e.videoCodecName,v=e.audioCodecName,E=e.googFrameWidthInput,S=e.googFrameHeightInput,T=e.googCpuLimitedResolution,C=e.googFrameRateInput,y=e.codecImplementationName,R=e.googAvailableSendBandwidth,b=e.googActualEncBitrate,I=e.googTargetEncBitrate;g.googBandwidthLimitedResolution=e.googBandwidthLimitedResolution,g.video.googCodecName=_,g.audio.googCodecName=v,g.googCpuLimitedResolution=T,g.googFrameWidthInput=E,g.googFrameHeightInput=S,g.googFrameRateInput=C,g.codecImplementationName=y,g.googAvailableSendBandwidth=R,g.googActualEncBitrate=b,g.googTargetEncBitrate=I}this.currentQuality=g},e.prototype.uploadPublishQuality=function(e){if(this.qualityUpload&&this.signal.isServerConnected){var t=(new Date).getTime();(0==this.qualityUploadLastTime||t-this.qualityUploadLastTime>=2e3)&&(e.stream_type=\"publish\",e.stream_id=this.streamId,e.timeStamp=Math.round(t/1e3),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_UPLOAD_PUBLISH_QUALITY+\" \"+this.streamId+\" upload\"+JSON.stringify(e)),this.streamCenter.updateQuality(0,e),this.qualityUploadLastTime=t)}},e.prototype.stopPublish=function(){if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_PUBLISH+\"  .1 \"+this.streamId+\" called\"),Object.keys(this.streamCenter.publisherList).length=1)for(var e in this.streamCenter.playerList){var t=this.streamCenter.playerList[e].player;t.state==o.ENUM_PLAY_STATE.playing&&t.broadcasterStatus==o.ENUM_BROADCASTER_STATUS.start&&(this.signal&&this.signal.sendBroadcasterStatus((0,o.getSeq)(),t.sessionId,0),t.broadcasterStatus=o.ENUM_BROADCASTER_STATUS.stop)}this.sessionId&&!this.closeSessionSignal&&this.signal.sendCloseSession((0,o.getSeq)(),this.sessionId,0),this.dataReport.eventEndWithMsg(this.streamReportSeq,\"PublishState\",{state:this.state+\"\"}),this.dataReport.addEvent(this.streamReportSeq,\"StopPublish\"),this.dataReport.addMsgExt(this.streamReportSeq,{stream:this.streamId,sessionId:this.sessionId}),this.dataReport.addMsgInfo(this.streamReportSeq,{itemtype:\"RTCPublishStream\",use_na:this.stateCenter.useNetAgent?1:0}),this.dataReport.uploadReport(this.streamReportSeq,\"RTCPublishStream\"),this.resetPublish()},e.prototype.onPublishStateUpdate=function(e,t,r,i){},e.prototype.onPublishQualityUpdate=function(e,t,r,i){},e.prototype.onDisconnect=function(e){this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_DISCONNECT+\" \"+this.streamId+\" call\"),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_DISCONNECT+\" \"+this.streamId+\" websocket disconnect\"),this.dataReport.addEvent(this.reportSeq,\"OnDisconnect\"),this.publishStateUpdateError(e||a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kWebsocketDisconnectedError,!!e)},e.prototype.publishSuccess=function(){var e,t;if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_PUBLISH_SUCCESS+\" call\"),this._turnToTcp||(this.streamCenter.udpFailNum=0),this.isUpdateSDP&&this.updateSDPCallBack)return this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_PUBLISH_SUCCESS+\" \"+this.streamId+\" update sdp success\"),this.updateSDPCallBack(0),this.updateSDPCallBack=void 0,void(this.isUpdateSDP=!1);for(var r in this.state!=o.ENUM_PUBLISH_STATE.publishing&&this.onPublishStateUpdate(o.ENUM_PUBLISH_STATE_UPDATE.start,this.streamId,{code:0,message:\"\"},!0),this.isPeer&&(this.peerFailCount=0),this.state=o.ENUM_PUBLISH_STATE.publishing,this.dataReport.eventStart(this.reportSeq,\"PublishState\"),this.dataReport.eventStart(this.streamReportSeq,\"PublishState\"),this.streamCenter.playerList){var i=this.streamCenter.playerList[r].player;i.state==o.ENUM_PLAY_STATE.playing&&i.broadcasterStatus==o.ENUM_BROADCASTER_STATUS.stop&&(this.signal&&this.signal.sendBroadcasterStatus((0,o.getSeq)(),i.sessionId,1),i.broadcasterStatus=o.ENUM_BROADCASTER_STATUS.start)}var n=this.stateCenter.settingConfig.getSetting(\"probe_started_num\");!isNaN(n)&&(this.streamCenter.probeStartedNum=n),this.setPublishQualityTimer();var s=2,a=2,u=null===(e=this.previewer)||void 0===e?void 0:e.videoTrack,d=0!==this.localStream.getAudioTracks().length&&this.localStream.getAudioTracks()[0];(u&&\"live\"===u.readyState&&!0===u.enabled||(null===(t=this.previewer)||void 0===t?void 0:t.muteImage))&&(s=0),d&&\"live\"===d.readyState&&!0===d.enabled&&(a=0),this.sendStreamStatus(s,a,!0),this.streamCenter.soundLevelDelegate&&this.previewer&&this.previewer.startSoundLevel(),this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_PUBLISH_SUCCESS+\" call success\")},e.prototype.startSoundLevel=function(){var e;if(this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+\" call streamID: \"+this.streamId),this.localStream&&0!=this.localStream.getAudioTracks().length)try{null===(e=this.previewer)||void 0===e||e.startSoundLevel()}catch(e){this.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+\" \"+this.streamId+\" get sound level failed \"+e)}else this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+\" \"+this.streamId+\" local stream no found\")},e.prototype.stopSoundLevel=function(){var e;this.logger.info(c.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_SOUND_LEVEL+\" call streamID: \"+this.streamId),null===(e=this.previewer)||void 0===e||e.stopSoundLevel()},e.prototype.handleEncBitrate=function(e,t,r){var i,o=this,n=1e3*this.videoInfo.bitRate,a=0;if(t>0){this.needIncMax||this.gotMax||(this.probeCount++,t>=.75*e?(this.probeCount>=10&&this.initFitCnt>=.6*this.probeCount&&(this.gotMax=!0,this.targetRate=n),this.initFitCnt++):this.probeCount>=10&&this.initFitCnt/this.probeCount<.3&&(this.needIncMax=!0));var u=s.ClientUtil.arrAvg(this.totalBitrateArray,t,10);if(this.needIncMax)if(u>=1.05*n){if(this.targetRate>n){this.targetRate-=u>e?u-e:u-n,this.targetRate=Math.max(this.targetRate,n),this.targetRate=Math.min(this.targetRate,2*n),a=this.targetRate}}else u<.8*n&&(0===this.targetRate&&(this.targetRate=e),this.targetRate=this.targetRate>=n?this.targetRate+.08*n:1.05*this.targetRate,this.targetRate=Math.min(this.targetRate,2*n),a=this.targetRate)}if(r>0&&r<n){var d=s.ClientUtil.arrAvg(this.totalRetransRateArray,r,5);if(this.needIncMax){if(d+t>1.05*n)this.targetRate-=d+t-n,this.targetRate=Math.max(this.targetRate,n-d),a=this.targetRate}else a=this.targetRate-d}else this.targetRate<n&&(this.targetRate=n,a=this.targetRate);if(a>0){a=s.ClientUtil.arrAvg(this.totalTargetRateArray,a,5);var l=null===(i=this.peerConnection)||void 0===i?void 0:i.getSenders().filter((function(e){return e.track&&\"video\"===e.track.kind}));if(!l)return;var h=l.length>1?l[1]:l[0]?l[0]:null;if(!h)return;var p=h.getParameters();p.encodings||(p.encodings=[{}]),p.encodings[0].maxBitrate=a,h.setParameters(p).catch((function(e){o.logger.error(c.ZEGO_WEBRTC_ACTION.PUBLISHER_HANDLE_ENC_BITRATE+\" \"+e)}))}},e.prototype.resetEncBitrate=function(){this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[]},e.prototype.replacePublishedTrack=function(e,t,r){return void 0===t&&(t=!1),{errorCode:-1,extendedData:\"should install advanced module first\"}},e.prototype.sendStreamStatus=function(e,t,r,i){var n=this;void 0===r&&(r=!1),void 0===i&&(i=0),(r||this.camera_status!==e||this.mic_status!==t)&&this.signal&&(this.camera_status=e,this.mic_status=t,i++,this.signal.sendStreamStatus((0,o.getSeq)(),this.sessionId,e,t,this.streamId,(function(){n.camera_status===e&&n.mic_status===t&&i<=1&&n.sendStreamStatus(e,t,!0,i)})))},e.prototype.addCanvasStreamVideoTrack=function(e){var t=document.createElement(\"canvas\"),r=new Image;return r.src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAFFJREFUOE9jZGBgaGBgYLBnYGBwYCANHGBgYDjIyMDAcIWBgUGbNL1w1VdBBvwnUzNY26gBo2EwjNLBfjJyIiz7HADlBVB2DiEjR15lYGBYAwAypRSY53SYoAAAAABJRU5ErkJggg==\",t.width=80,t.height=80,this.canvasTimer=setInterval((function(){var e;(e=t.getContext(\"2d\"))&&e.drawImage(r,0,0,16,16)}),200),t.captureStream().getVideoTracks()[0]},e}();t.ZegoPublish=d},4825:function(e,t){\"use strict\";var r=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,\"__esModule\",{value:!0}),t.addRRTRLine=t.addSPSDescription=void 0,t.addSPSDescription=function(e){var t,r=e,i=function(e){var t={m:[{reg:/^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,names:[\"type\",\"port\",\"protocol\",\"payloads\"],format:\"%s %d %s %s\"}],a:[{push:\"fmtp\",reg:/^fmtp:(\\d*) ([\\S| ]*)/,names:[\"payload\",\"config\"],format:\"fmtp:%d %s\"}]};function r(e,t,r){var i=function(e){return String(Number(e))===e?Number(e):e},o=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:o&&!t[e.name]&&(t[e.name]={});var n=e.push?{}:o?t[e.name]:t;(function(e,t,r,o){if(o&&!r)t[o]=i(e[1]);else for(var n=0;n<r.length;n+=1)null!=e[n+1]&&(t[r[n]]=i(e[n+1]))})(r.match(e.reg),n,e.names,e.name),e.push&&t[e.push].push(n)}var i=RegExp.prototype.test.bind(/^([a-z])=(.*)/),o=[],n={},s=n;return e.split(/(\\r\\n|\\r|\\n)/).filter(i).forEach((function(e){var i=e[0],n=e.slice(2);\"m\"===i&&(o.push({rtp:[],fmtp:[]}),s=o[o.length-1]);for(var a=0;a<(t[i]||[]).length;a+=1){var c=t[i][a];if(c.reg&&c.reg.test(n))return r(c,s,n)}})),n.media=o,n}(e),o=[];return i.media.forEach((function(e){\"video\"===e.type&&e.fmtp.forEach((function(e){t=\"a=fmtp:\"+e.payload+\" \"+e.config,-1===e.config.indexOf(\"sps-pps-idr-in-keyframe\")&&-1===o.indexOf(t)&&o.push(t)}))})),o.forEach((function(e){r=r.replace(new RegExp(e,\"g\"),e+\";sps-pps-idr-in-keyframe=1\")})),r},t.addRRTRLine=function(e){var t=e.split(\"\\r\\n\"),i=new Map;t.forEach((function(e,r){if(/^a=rtcp-fb:/.test(e)&&t[r+1]&&!/^a=rtcp-fb:/.test(t[r+1])){var o=e.match(/^a=rtcp-fb:\\d+/);o&&i.set(r+1,o[0]+\" rrtr\")}}));for(var o=Array.from(i),n=0;n<o.length;n++){var s=r([],o[n],!0);t.splice(s[0]+n,0,s[1])}return e=t.join(\"\\r\\n\")}},5749:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoSignal=void 0;var o=r(9887),n=r(6262),s=r(7716),a=r(8615),c=r(2424),u=[\"LoginReq\",\"CreateSessionWithSdpReq\",\"CreateSessionReq\"],d=function(){function e(e,t,r,i){void 0===i&&(i=!1),this.netAgent=r,this.useNetAgent=i,this.sendDataMap={},this.sendDataList=new o.LinkedList,this.sendDataCheckOnceCount=100,this.signalSeq=0,this.pushCallback={},this.sessionInfos={},this.tryHeartbeatCount=0,this.heartbeatInterval=1e4,this.sendDataTimeout=5e3,this.sendDataDropTimeout=1e4,this.sendDataCheckTimer=null,this.sendDataCheckInterval=2e3,this.checkMessageList=[\"ActivateVideoPlayStreamReq\",\"ActivateAudioPlayStreamReq\",\"CreateSessionReq\",\"CreateSessionWithSdpReq\",\"ActivateSEIInsertReq\",\"StreamStatusNotify\",\"MediaDescUpdateReq\"],this.tryConnectCount=1,this.tryConnectTimer=null,this.tryConnectInterval=3e3,this.state=o.ENUM_CONNECT_STATE.disconnect,this.tokenType=0,this.browser=this.getBrowserAndVersion(),this.platform=navigator.platform,this._websocket=null,this.negoInterval=25e3,this.negoTryCount=1,this.negoTryMaxCount=2,this.logger=e,this.stateCenter=t,this.stateCenter.streamConnectTime&&(this.tryConnectInterval=this.stateCenter.streamConnectTime),this.gw=new a.GatewaySignal(this)}return Object.defineProperty(e.prototype,\"wsReadyState\",{get:function(){var e;return null===(e=this.websocket)||void 0===e?void 0:e.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"websocket\",{get:function(){return this._websocket},set:function(e){null===e&&this.useNetAgent||(this._websocket=e)},enumerable:!1,configurable:!0}),e.prototype.getBrowserAndVersion=function(){var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*([\\d\\.]+)/i)||[];return/trident/i.test(r[1])?{name:\"IE\",version:(e=/\\brv[ :]+([\\d\\.]+)/g.exec(t)||[])[1]||\"\"}:\"Chrome\"===r[1]&&null!=(e=t.match(/\\bOPR|Edge\\/([\\d\\.]+)/))?{name:\"Opera\",version:e[1]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,\"-?\"],null!=(e=t.match(/version\\/([\\d+\\.]+)/i))&&r.splice(1,1,e[1]),{name:r[0],version:r[1]})},e.prototype.setSessionInfo=function(e,t){this.logger.debug(n.ZEGO_WEBRTC_ACTION.SIGNAL_SET_SESSION_INFO+\" call\"),this.appid=e+\"\",this.userid=t},e.prototype.onDisconnect=function(e,t){},e.prototype.onUpdateHeartBeatInterval=function(e){},e.prototype.resetConnectTimer=function(){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_RESET_CONNECT_TIMER+\" call\"),clearTimeout(this.tryConnectTimer),this.tryConnectTimer=null,this.tryConnectCount=0},e.prototype.handleWsMessage=function(e){var t=JSON.parse(e.data);this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+\" signmsg= \",t.header.cmd),this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+\" signmsg= \"+JSON.stringify(t)),t.header.appid==this.appid&&t.header.user_id===this.userid?this.handleServerPush(t):this.logger.warn(n.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+\" check header failed\")},e.prototype.bindWebSocketEvents=function(){var e=this;this.tryHeartbeatCount=0,this.tryConnectInterval=this.stateCenter.streamConnectTime?this.stateCenter.streamConnectTime:3e3,this.websocket&&(this.websocket.onclose=function(t){if(e.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+\" close msg = \"+JSON.stringify((null==t?void 0:t.code)?null==t?void 0:t.code:t)),e.state!=o.ENUM_CONNECT_STATE.disconnect){if(e.useNetAgent)return void e.disconnectCallback();e.resetConnectTimer(),e.startConnectTimer((function(t){1008===t&&e.disconnectCallback(s.errorCodeList.TOKEN_EXPIRED)})),e.resetCheckMessage()}},this.websocket.onerror=function(t){e.logger.error(n.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+\" msg = \"+JSON.stringify(t))})},e.prototype.resetCheckMessage=function(){this.logger.debug(n.ZEGO_WEBRTC_ACTION.SIGNAL_RESET_CHECK_MESSAGE+\" call\"),clearTimeout(this.sendDataCheckTimer),this.sendDataCheckTimer=null;for(var e=this.sendDataList.getFirst();null!=e;)this.sendDataList.remove(e),e._data.error&&e._data.error(o.SEND_MSG_RESET,e._data.seq),e=this.sendDataList.getFirst();this.sendDataMap={}},e.prototype.handleServerPush=function(e){switch(e.header.cmd){case\"LoginRsp\":this.handleRespondData(\"LoginReq\",e);break;case\"CreateSessionRsp\":this.handleRespondData(\"CreateSessionReq\",e),0===e.body.result&&this.addSession(e.header.session_id,e.body.session_token);break;case\"CreateSessionWithSdpRsp\":this.handleRespondData(\"CreateSessionWithSdpReq\",e),0===e.body.result&&this.addSession(e.header.session_id,e.body.session_token);break;case\"MediaDescRsp\":this.handleRespondData(\"MediaDescReq\",e);break;case\"CandidateInfoRsp\":this.handleRespondData(\"CandidateInfoReq\",e);break;case\"CloseSessionRsp\":this.handleRespondData(\"CloseSessionReq\",e),this.removeSession(e.header.session_id);break;case\"ClientHBRsp\":this.handleRespondData(\"ClientHBReq\",e);break;case\"MediaDescPush\":case\"CandidateInfoPush\":case\"StreamStatusNotifyPush\":case\"PublishEventPush\":case\"PlayEventPush\":case\"ClientInfoPush\":case\"NetQualityInfoPush\":case\"MediaDescUpdatePush\":case\"CmdPush\":this.handlePushData(e);break;case\"CloseSessionPush\":this.handlePushData(e),this.removeSession(e.header.session_id);break;case\"QualityReportRsp\":this.handleRespondData(\"QualityReportReq\",e);break;case\"SessionResetPush\":this.handlePushResetSessionData(e);break;case\"ActivateVideoPlayStreamRsp\":this.handleRespondData(\"ActivateVideoPlayStreamReq\",e);break;case\"ActivateAudioPlayStreamRsp\":this.handleRespondData(\"ActivateAudioPlayStreamReq\",e);break;case\"NetQualityProbeRsp\":this.handleRespondData(\"NetQualityProbeReq\",e);break;case\"ActivateSEIInsertRsp\":this.handleRespondData(\"ActivateSEIInsertReq\",e);break;case\"StreamStatusNotifyAck\":this.handleRespondData(\"StreamStatusNotify\",e);break;case\"Peer2PeerNetStatsGetRsp\":this.handleRespondData(\"Peer2PeerNetStatsGetReq\",e);break;case\"MediaDescUpdateRsp\":this.handleRespondData(\"MediaDescUpdateReq\",e);break;case\"CmdRsp\":this.handleRespondData(\"CmdReq\",e)}},e.prototype.disconnectCallback=function(e,t){this.connectCallback&&(this.connectCallback(t||-1,this.server,void 0),this.connectCallback=null);var r=this.server;this.disconnectServer(),this.onDisconnect(r,e)},e.prototype.updateToken=function(){var e=this;this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_UPDATE_TOKEN+\" call\");var t={token:this.token,tokenType:this.tokenType,roomid:this.roomID,anchorname:this.stateCenter.anchor_info.anchor_id,sdkversion:o.PROTO_VERSION,osinfo:navigator.appVersion};if(0!=Object.keys(this.sessionInfos).length){var r=[];for(var i in this.sessionInfos){var s=parseInt(i);r.push({session_id:s,session_token:this.sessionInfos[s].token})}t.sessions=r}this.sendMessageWithCallback(\"LoginReq\",this.stateCenter.getSeq(),0,t,(function(t,r,i){if(0==i.result){e.token=i.token,e.tokenType=i.tokenType;var o={report:i.report,report_interval:i.report_interval_ms};i.negoInterval&&(e.negoInterval=i.negoInterval),i.negoTryCount&&(e.negoTryCount=i.negoTryCount),i.negoTryMaxCount&&(e.negoTryMaxCount=i.negoTryMaxCount),null!=e.connectCallback&&(e.connectCallback(0,e.server,o),e.connectCallback=null),e.checkMessageTimeout()}else{null!=e.connectCallback&&(e.connectCallback(i.result,e.server,{error:i.strError}),e.connectCallback=null)}}),(function(){null!=e.connectCallback&&(e.connectCallback(-1,e.server,void 0),e.connectCallback=null)}))},e.prototype.sendMessageWithCallback=function(e,t,r,i,s,a){var c,d=this;void 0===s&&(s=null),void 0===a&&(a=null),this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+\" call \"+e+\" \"+t+\" \"+(null===(c=this.websocket)||void 0===c?void 0:c.readyState));var l=performance.now();if(!this.websocket||\"LoginReq\"!==e&&this.websocket.readyState!==WebSocket.OPEN)return this.logger.error(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+\" connect not establish\"),void(a&&a(o.SEND_MSG_TIMEOUT,t));var h={header:this.getHeader(e,t,r),body:i},p={seq:t,deleted:!1,cmd:e,time:(new Date).getTime(),success:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(u.includes(e)){var o=(performance.now()-l).toFixed(0);d.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+\" seq: \".concat(t,\", cmd: \").concat(e,\", cost_time: \").concat(o))}s&&s.apply(void 0,r)},error:a},g=this.sendDataList.push(p);this.sendDataMap[p.seq]=g;var f=JSON.stringify(h);this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+\" \"+f),this.useNetAgent&&\"LoginReq\"===e?this.websocket.send(f,void 0,!0):this.websocket.send(f),this.logger.debug(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+\" success\")},e.prototype.getHeader=function(e,t,r){return{version:\"1.0.1\",cmd:e,appid:this.appid+\"\",seq:t,user_id:this.userid,session_id:r}},e.prototype.connectServer=function(e,t,r,i){var a,u=this;if(this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" \"+r),this.roomID=e,this.token=t,this.server=r,this.state=o.ENUM_CONNECT_STATE.connecting,this.connectCallback=i,this.isServerConnected)this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" websocket is connected\"),this.resetConnectTimer(),this.state=o.ENUM_CONNECT_STATE.connected;else try{if(this.useNetAgent){if(!this.stateCenter.appConfig)return void this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" no app config \");var d=this.stateCenter.appConfig.media_config.publish_config.resource_info.find((function(e){return e.resource_type===o.SignalResourceType.RTC}));if(!d)return void(i&&i(s.errorCodeList.GET_CONFIG_FAIL));var l=null===(a=null==d?void 0:d.service_info)||void 0===a?void 0:a.find((function(e){return e.protocol===o.ProtocolType.WEBRTC}));if(!l)return void(i&&i(s.errorCodeList.GET_CONFIG_FAIL));var h=l.url_template.split(\"{IP}\")[1].split(\"?\"),p=h[0],g=h[1],f={path:p,query:g};this.stateCenter.isTestMode&&(f={path:p+2,query:g}),this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" signal \"+JSON.stringify(f)),this.websocket instanceof WebSocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),!this.websocket&&(this.websocket=new c.AnalogSocket(this.server,this.netAgent,f,this.logger)),this.websocket.open()}else this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" need new websocket\"),this.websocket&&(this.logger.warn(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" close error websocket\"),this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close()),this.websocket=new WebSocket(this.server);this.websocket.onclose=function(e){u.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" websocket close call  \"+JSON.stringify(e)),u.useNetAgent&&u.state!=o.ENUM_CONNECT_STATE.disconnect&&(u.resetConnectTimer(),u.startConnectTimer((function(e){1008===e&&u.disconnectCallback(s.errorCodeList.TOKEN_EXPIRED)})))},this.websocket.onerror=function(e){u.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" websocket onerror call  \"+JSON.stringify(e)),u.stateCenter.useNetAgent&&(null==e?void 0:e.code)&&u.disconnectCallback(void 0,null==e?void 0:e.code)},this.useNetAgent&&this.websocket instanceof c.AnalogSocket?(this.websocket.onopen=function(){u.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" websocket open call\"),u.bindWebSocketEvents(),u.state=o.ENUM_CONNECT_STATE.connected,u.websocket&&(u.websocket.onmessage=u.handleWsMessage.bind(u))},this.websocket.onreconnnecting=function(){u.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" websocket reconnecting\"),u.updateToken()},this.websocket.onmessage=this.handleWsMessage.bind(this),this.updateToken()):this.websocket.onopen=function(){u.resetConnectTimer(),u.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" websocket open call\"),u.websocket&&(u.websocket.onmessage=u.handleWsMessage.bind(u)),u.bindWebSocketEvents(),u.updateToken(),u.state=o.ENUM_CONNECT_STATE.connected}}catch(e){this.logger.error(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" websocket error \"+e)}this.useNetAgent||(this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+\" \"+this.tryConnectInterval),this.tryConnectTimer=setTimeout((function(){u.startConnectTimer(i)}),this.tryConnectInterval))},e.prototype.startConnectTimer=function(e){if(this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+\" call\"),this.tryConnectCount>=o.MAX_TRY_CONNECT_COUNT)return this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+\" beyond \"+this.server+\"max limit\"),void this.disconnectCallback();this.websocket&&this.websocket.readyState===WebSocket.OPEN?(this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+\" websocket is connected\"),this.resetConnectTimer()):(this.tryConnectCount+=1,this.connectServer(this.roomID,this.token,this.server,e))},e.prototype.disconnectServer=function(){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_DISCONNECT_SERVER+\" call\"),this.connectCallback=null,this.resetCheckMessage(),this.resetConnectTimer(),this.websocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),this.token=\"\",this.sessionInfos={},this.tokenType=0,this.tryHeartbeatCount=0,this.tryConnectCount=0,this.state=o.ENUM_CONNECT_STATE.disconnect},Object.defineProperty(e.prototype,\"isServerConnected\",{get:function(){var e;return(null===(e=this.websocket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN},enumerable:!1,configurable:!0}),e.prototype.createSession=function(e,t,r,i,s,a,c,u){void 0===s&&(s=\"\"),void 0===a&&(a=\"\"),this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CREATE_SESSION+\" call: \"+i);var d=\"\";o.PROTO_VERSION.split(\".\").forEach((function(e,t){return d+=1==e.length&&1==t?\"0\"+e:e}));this.sendMessageWithCallback(\"CreateSessionReq\",e,0,{type:t,stream_id:i,platform:this.platform,browser:this.browser.name,version:this.browser.version,app_id:this.appid,negotiate_mode:r,strAuthParam:s,sdk_version:1*d,turn_server_host:\"string\"==typeof a?a:\"\"},c,u)},e.prototype.createSessionWithSdp=function(e,t,r){var i=e.seq,s=e.type,a=e.streamId,c=e.strAuthParam,u=e.sdp,d=e.serverHost,l=e.playBufLevel,h=e.params;this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CREATE_SESSION+\" call: \"+a);var p=\"\";o.PROTO_VERSION.split(\".\").forEach((function(e,t){return p+=1==e.length&&1==t?\"0\"+e:e}));var g={type:s,app_id:this.appid,stream_id:a,sdp:u,user_id:this.userid,platform:this.platform,browser:this.browser.name,sdk_vers:parseInt(p),clientIp:\"\",media_server_host:\"string\"==typeof d?d:\"\",strAuthParam:c,params:h};l&&(g.min_play_buf_level_ms=l),this.sendMessageWithCallback(\"CreateSessionWithSdpReq\",i,0,g,t,r)},e.prototype.sendMediaDescUpdateReq=function(e,t,r,i,o){this.sendMessageWithCallback(\"MediaDescUpdateReq\",e,t,{peer_id:r.peerID,type:r.type,sdp:r.sdp,width:r.width,height:r.height,framerate:r.frameRate,video_min_kpbs:r.video_min_kpbs,video_max_kpbs:r.video_max_kpbs,audio_kpbs:r.audio_kpbs,keyframe_intv:r.keyframe_intv},i,o)},e.prototype.removeSession=function(e){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_REMOVE_SESSION+\" call\"+e),this.sessionInfos[e]&&delete this.sessionInfos[e]},e.prototype.sendCloseSession=function(e,t,r,i,o){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_REMOVE_SESSION+\" call: \"+t);var s={reason:r};this.removeSession(t),this.sendMessageWithCallback(\"CloseSessionReq\",e,t,s,i,o)},e.prototype.sendMessage=function(e,t,r,i){if(this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+\" call \"+e),this.websocket&&this.websocket.readyState===WebSocket.OPEN){var o=this.getHeader(e,t,r),s=JSON.stringify({header:o,body:i});this.websocket.send(s),this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+\" success\")}else this.logger.error(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+\" connect not establish\")},e.prototype.handleRespondData=function(e,t){this.logger.debug(n.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+\" call\");var r=this.sendDataMap[t.header.seq];if(null!=r){delete this.sendDataMap[t.header.seq],this.sendDataList.remove(r);var i=r._data;i.cmd!==e?this.logger.error(n.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+\" command is not match\"):i.success&&i.success(t.header.seq,t.header.session_id,t.body)}else{if(\"CloseSessionRsp\"==t.header.cmd)return;this.logger.error(n.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+\" cannot find data \"+e)}},e.prototype.addSession=function(e,t){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_ADD_SESSION+\" call\"+e),this.sessionInfos[e]={token:t}},e.prototype.handlePushData=function(e){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_DATA+\" call \"+e.header.cmd+\" session \"+e.header.session_id);var t=this.pushCallback[e.header.cmd+e.header.session_id];t?t.callback&&t.callback(e.header.seq,e.header.session_id,e.body):this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_DATA+\" no callbackData \"+e.header.cmd+\" session: \"+e.header.session_id)},e.prototype.handlePushResetSessionData=function(e){this.logger.debug(n.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+\" call \");var t=[];if(0==e.body.cResetType)t=Object.keys(this.sessionInfos);else if(1==e.body.cResetType)for(var r=0;r<e.body.session_ids.length;r++)t.push(e.body.session_ids[r]);if(this.sendResetSessionAck(e.header.seq,0,0),0!=t.length)for(var i=0;i<t.length;i++){var o=this.pushCallback[e.header.cmd+t[i]];null==o?this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+\" no callbackData \"+t[i]):o.callback&&o.callback(e.header.seq,t[i],e.body)}else this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+\" no session to callback\")},e.prototype.sendMediaDesc=function(e,t,r,i,o,s){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MEDIA_DESC+\" call: \"+t);var a={type:r,sdp:i.sdp};null!=i.width&&(a.width=i.width),null!=i.height&&(a.height=i.height),null!=i.frameRate&&(a.framerate=i.frameRate),null!=i.video_min_kpbs&&(a.video_min_kpbs=i.video_min_kpbs),null!=i.video_max_kpbs&&(a.video_max_kpbs=i.video_max_kpbs),null!=i.audio_kpbs&&(a.audio_kpbs=i.audio_kpbs),null!=i.keyframe_intv&&(a.keyframe_intv=i.keyframe_intv),null!=i.min_play_buf_level_ms&&(a.min_play_buf_level_ms=i.min_play_buf_level_ms),this.sendMessageWithCallback(\"MediaDescReq\",e,t,a,o,s)},e.prototype.sendCandidateInfo=function(e,t,r,i,o){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CANDIDATE_INFO+\" call: \"+t);for(var s=[],a=0;a<r.length;a++){s.push({candidate:r[a].candidate,sdpMid:r[a].sdpMid,sdpMLineIndex:r[a].sdpMLineIndex})}this.sendMessageWithCallback(\"CandidateInfoReq\",e,t,{infos:s},i,o)},e.prototype.sendMediaDescAck=function(e,t,r){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MEDIA_DESC_ACK+\" call: \"+t);this.sendMessage(\"MediaDescAck\",e,t,{result:r})},e.prototype.sendUpdateMediaDescAck=function(e,t,r,i){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MEDIA_DESC_ACK+\" call: \"+t);this.sendMessage(\"MediaDescUpdateAck\",e,t,{peer_id:i,result:r})},e.prototype.sendCandidateInfoAck=function(e,t,r){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CANDIDATE_INFO_ACK+\" call: \"+t);this.sendMessage(\"CandidateInfoAck\",e,t,{result:r})},e.prototype.sendCloseSessionAck=function(e,t,r){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CLOSE_SESSION_ACK+\" call: \"+t);this.sendMessage(\"CloseSessionAck\",e,t,{result:r})},e.prototype.sendResetSessionAck=function(e,t,r){this.logger.debug(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_RESET_SESSION_ACK+\" call: \"+t);this.sendMessage(\"SessionResetAck\",e,t,{result:r})},e.prototype.registerPushCallback=function(e,t,r){r&&\"function\"==typeof r&&(this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_REGISTER_PUSH_CALLBACK+\" set callback \"+t),this.pushCallback[e+t]={callback:r})},e.prototype.unregisterPushCallback=function(e,t){delete this.pushCallback[e+t]},e.prototype.checkMessageTimeout=function(){for(var e,t=this,r=this.sendDataList.getFirst(),i=(new Date).getTime(),s=0,a=0,c=0;null!=r&&!(r._data.time+this.sendDataTimeout>i);)if(delete this.sendDataMap[r._data.seq],this.sendDataList.remove(r),++a,-1!=this.checkMessageList.indexOf(r._data.cmd)){if(null==r._data.error||this.sendDataDropTimeout>0&&r._data.time+this.sendDataDropTimeout<i?++c:(this.logger.warn(n.ZEGO_WEBRTC_ACTION.SIGNAL_CHECK_MESSAGE_TIMEOUT+\" error cmd = \"+r._data.cmd+\" seq =\"+(null===(e=r._data)||void 0===e?void 0:e.seq)),r._data.error&&r._data.error(o.SEND_MSG_TIMEOUT,r._data.seq)),++s>=this.sendDataCheckOnceCount)break;r=this.sendDataList.getFirst()}else r=this.sendDataList.getFirst();this.sendDataCheckTimer=setTimeout((function(){t.checkMessageTimeout()}),this.sendDataCheckInterval),0==a&&0==c||this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_CHECK_MESSAGE_TIMEOUT+\" call success, state: timeout=\"+a+\" drop=\"+c)},e.prototype.sendHeartbeat=function(){var e=this;if(this.logger.debug(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+\"call tryHeartbeatCount:\"+this.tryHeartbeatCount),0!=Object.keys(this.sessionInfos).length)if(this.state===o.ENUM_CONNECT_STATE.connected){if(++this.tryHeartbeatCount>o.MAX_TRY_HEARTBEAT_COUNT)return this.logger.error(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+\" heartbeat try limit\"),void this.disconnectCallback();var t=[];for(var r in this.sessionInfos)t.push(parseInt(r));var i={session_ids:t},s=(new Date).getTime();this.sendMessageWithCallback(\"ClientHBReq\",this.stateCenter.getSeq(),0,i,(function(t,r,i){e.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+\" hb time \"+((new Date).getTime()-s)),e.heartbeatInterval!=i.hb_interval&&(e.heartbeatInterval=i.hb_interval,e.onUpdateHeartBeatInterval(i.hb_interval)),e.tryHeartbeatCount=0}),(function(e,t){}))}else this.logger.warn(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+\" state error\");else this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+\" no need to heartbeat\")},e.prototype.QualityReport=function(e,t,r,o,s){this.logger.debug(n.ZEGO_WEBRTC_ACTION.SIGNAL_QUALITY_REPORT+\" call\");var a={streams:[i(i({},r),{aid:t})]};this.sendMessageWithCallback(\"QualityReportReq\",e,t,a,o,s)},e.prototype.sendStreamStatus=function(e,t,r,i,s,a){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_STREAM_STATUS+\" call \"+t);var c={mic_status:i,camera_status:r};this.logger.info(\"\".concat(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_STREAM_STATUS,\" stream \").concat(s||\"\",\" status \").concat(JSON.stringify(c))),this.sendMessageWithCallback(\"StreamStatusNotify\",e,t,c,(function(){}),(function(e){e===o.SEND_MSG_TIMEOUT&&a&&a()}))},e.prototype.ActivatePlayVideoStream=function(e,t,r,i,o){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM+\" call\");var s={active:r?0:1,layer:0};this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM+\" activate video \"+JSON.stringify(s)),this.sendMessageWithCallback(\"ActivateVideoPlayStreamReq\",e,t,s,i,o)},e.prototype.ActivatePlayAudioStream=function(e,t,r,i,o){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM+\" call\");var s={active:r?0:1,layer:0};this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM+\" activate audio \"+JSON.stringify(s)),this.sendMessageWithCallback(\"ActivateAudioPlayStreamReq\",e,t,s,i,o)},e.prototype.sendBroadcasterStatus=function(e,t,r){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_BROADCAST_STATUS+\" call \"+t);this.sendMessage(\"BroadcasterStatusNotify\",e,t,{status:r})},e.prototype.sendNetProbe=function(e,t,r,i,o){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_NET_PROBE+\" call \"+t);this.sendMessageWithCallback(\"NetQualityProbeReq\",e,t,{peer_id:r,action:1},i,o)},e.prototype.sendNetQualityInfoPushAck=function(e,t,r,i){this.logger.info(n.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_NET_PROBE+\" call \"+t);this.sendMessage(\"NetQualityInfoAck\",e,t,{peer_id:r,result:i})},e.prototype.activateSEIInsert=function(e,t,r,i,o,n,s){},e.prototype.getP2PNetStats=function(e,t,r,i,o){this.sendMessageWithCallback(\"Peer2PeerNetStatsGetReq\",e,t,{peer_id:r},i,o)},e.prototype.sendGWCmd=function(e,t,r,i,o){this.sendMessageWithCallback(\"CmdReq\",e,t,r,i,o)},e.prototype.sendGWAck=function(e,t,r){this.sendMessage(\"CmdAck\",e,t,r)},e}();t.ZegoSignal=d},7036:function(e,t,r){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.AutoplayDialog=void 0;var o=i(r(651)),n=\"zg_autoplay_wrapper\";function s(){return navigator.language.includes(\"zh\")}var a=function(){function e(){this.content='Media play failed. Click the \"Resume\"to resume.',this.dialogNode=null,this.bodyPosition=\"static\";var e=document.createElement(\"style\");e.innerHTML=\".zg_autoplay_mask{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);z-index:1500;}.zg_autoplay_mask div:not(.zg_autoplay_action_wrapper){display:block !important;}.\".concat(n,\"{padding:14px;background:#fff;border-radius:3px;box-shadow:1px 1px 10px #988e8d;border:1px solid #d1cfcf;max-width:500px;}.\").concat(n,\" a{color:#2473E8;}.zg_autoplay_header{overflow:hidden;text-overflow:ellipsis;font-size:16px;font-weight:600;}.zg_autoplay_content{margin:8px 0;}.zg_autoplay_action_wrapper{width:100%;display:flex !important;align-items:center;justify-content:right;float:right;}.zg_autoplay_collapse{margin-right:auto;cursor:pointer}.zg_autoplay_question{height:100%;line-height:16px;cursor:pointer;}.zg_autoplay_action_confirm{margin-left:8px;color:#fff;background:#0072ff;padding:4px 12px;outline:none;border:1px solid;border-radius:3px;font-weight:bold;}.zg_autoplay_action_confirm:hover{opacity:0.9;}.zg_autoplay_collapse,.zg_autoplay_action_confirm,.zg_autoplay_content,.zg_autoplay_question{font-size:14px;}@media screen and (max-width:750px){.\").concat(n,\"{width:80vw;}}\"),document.head.appendChild(e),s()&&(this.content=\"浏览器阻止音视频播放，请点击“恢复播放”。\"),this.eManager=new o.default}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.createDialog=function(){var e=document.createElement(\"template\");e.innerHTML=\"<div class='zg_autoplay_mask'><div class='\".concat(n,\"'><div class='zg_autoplay_header'>\").concat(location.host,\"</div><div class='zg_autoplay_content'>\").concat(this.content,\"</div><div class='zg_autoplay_action_wrapper'></div></div></div>\").trim();var t=document.createElement(\"button\");t.className=\"zg_autoplay_action_confirm\",t.innerText=s()?\"恢复播放\":\"Resume\",t.onclick=this.onConfirm.bind(this);var r=e.content.firstChild,i=r.querySelector(\".zg_autoplay_action_wrapper\");return i&&i.appendChild(t),r},e.prototype.onConfirm=function(e){e&&e.stopPropagation(),this.eManager.emit(\"allowPlay\"),this.deleteDiaLog()},e.prototype.deleteDiaLog=function(){this.dialogNode&&(document.body.removeChild(this.dialogNode),this.dialogNode=null)},e.prototype.addDiaLog=function(){this.dialogNode=this.dialogNode||this.createDialog(),document.body.appendChild(this.dialogNode),this.dialogNode.onclick=this.onConfirm.bind(this)},e.prototype.on=function(e,t){return this.eManager.addEventHandler(e,t)},e.instance=null,e}();t.AutoplayDialog=a},2844:function(e,t,r){\"use strict\";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.StreamView=void 0;var a=s(r(651)),c=r(9334),u=r(7036).AutoplayDialog.getInstance();var d=function(){function e(e,t){var r,i,o,n=this;this.previewer=t,this.video=null,this.audio=null,this.options={enableAutoplayDialog:!0},this.emitPlayFailed=(r=function(){n.eventManager.emit(\"autoplayFailed\"),n.options.enableAutoplayDialog&&u.addDiaLog()},void 0===(i=600)&&(i=100),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;clearTimeout(o),o=window.setTimeout((function(){r.apply(n,e)}),i)});var s=this.id=\"\".concat(e.id),c=document.createElement(\"div\");c.id=\"zg-rtc-player_\".concat(s),c.setAttribute(\"style\",\"width:100%;height:100%;position:relative;background-color:black;overflow:hidden;\");var d=e.getVideoTracks()[0],l=e.getAudioTracks()[0],h=document.createElement(\"video\");h.id=\"zg-rtc-video_\".concat(s),h.setAttribute(\"style\",\"width:100%;height:100%;object-fit:contain;\"),h.setAttribute(\"autoplay\",\"autoplay\"),h.setAttribute(\"playsinline\",\"playsinline\"),h.muted=!0,h.srcObject=new MediaStream,d&&h.srcObject.addTrack(d);var p=document.createElement(\"audio\");p.id=\"zg-rtc-audio_\".concat(s),p.setAttribute(\"autoplay\",\"autoplay\"),p.setAttribute(\"playsinline\",\"playsinline\"),p.srcObject=new MediaStream,l&&p.srcObject.addTrack(l),this.wrapper=c,this.video=h,this.audio=p,this.eventManager=new a.default,u.on(\"allowPlay\",(function(){n.resume()}))}return Object.defineProperty(e.prototype,\"isLocal\",{get:function(){return this.previewer instanceof c.ZegoPreview},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"isMounted\",{get:function(){return!!this.wrapper.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"hasAudio\",{get:function(){var e,t,r;return!!(null===(e=this.audio)||void 0===e?void 0:e.parentNode)&&\"live\"===(null===(r=null===(t=this.audio.srcObject)||void 0===t?void 0:t.getTracks()[0])||void 0===r?void 0:r.readyState)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"hasVideo\",{get:function(){var e,t,r;return!!(null===(e=this.video)||void 0===e?void 0:e.parentNode)&&\"live\"===(null===(r=null===(t=this.video.srcObject)||void 0===t?void 0:t.getTracks()[0])||void 0===r?void 0:r.readyState)},enumerable:!1,configurable:!0}),e.prototype.resume=function(e){return o(this,void 0,void 0,(function(){var t=this;return n(this,(function(r){return[\"audio\",\"video\"].forEach((function(r){return o(t,void 0,void 0,(function(){var t;return n(this,(function(i){switch(i.label){case 0:return t=\"audio\"===r?this.audio:this.video,(\"audio\"===r?this.hasAudio:this.hasVideo)?(e&&t&&(t.srcObject=t.srcObject),[4,null==t?void 0:t.play()]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))})),[2]}))}))},e.prototype.play=function(e,t){void 0===t&&(t={});var r=null;if(\"string\"==typeof e?r=document.getElementById(e):e instanceof HTMLElement&&(r=e),!r)throw\"Execute `play` failed, container not exist\";this.options=i(i({},this.options),t);var o=this.options,n=o.objectFit,s=o.muted,a=o.mirror,c=!this.isLocal;this.audio&&\"boolean\"==typeof s&&(c=!s),this.video&&(void 0!==n&&(this.video.style.objectFit=n),\"boolean\"==typeof a&&(this.video.style.transform=a?\"rotateY(180deg)\":\"\")),!r.contains(this.wrapper)&&r.appendChild(this.wrapper),this.mountPlayer(this.video,!0),this.mountPlayer(this.audio,c)},e.prototype.stop=function(){var e,t=null===(e=this.wrapper)||void 0===e?void 0:e.parentNode;t&&t.removeChild(this.wrapper)},e.prototype.setVideo=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.setTrack(!0,e,t)];case 1:return r.sent(),[2]}}))}))},e.prototype.setAudio=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,this.setTrack(!1,e,t)];case 1:return r.sent(),[2]}}))}))},e.prototype.setTrack=function(e,t,r){return void 0===r&&(r=!1),o(this,void 0,void 0,(function(){var i,o,s,a=this;return n(this,(function(n){switch(n.label){case 0:return(i=e?this.video:this.audio)&&(o=i.srcObject)?t?[3,1]:((s=o.getTracks()).forEach((function(e){null==o||o.removeTrack(e)})),[3,8]):[2];case 1:if(!(t instanceof MediaStreamTrack))return[3,8];if((s=o.getTracks()).includes(t))return[3,8];if(s.forEach((function(e){null==o||o.removeTrack(e)})),o.addTrack(t),!r)return[3,6];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.resume(!0)];case 3:return n.sent(),[3,5];case 4:return n.sent(),[3,5];case 5:return[3,8];case 6:return[4,i.play().catch((function(t){(e?a.hasVideo:a.hasAudio)&&i.paused&&a.emitPlayFailed(t)}))];case 7:n.sent(),n.label=8;case 8:return[2]}}))}))},e.prototype.setMirror=function(e){var t=this.options.mirror=!!e;this.video&&(this.video.style.transform=t?\"rotateY(180deg)\":\"\")},e.prototype.setVideoMuted=function(e){return this.mountPlayer(this.video,!e)},e.prototype.setAudioMuted=function(e){return this.mountPlayer(this.audio,!e)},e.prototype.setVolume=function(e){if(this.audio){var t=e>100?1:e/100;return this.audio.volume=t,this.audio.volume==t}return!1},e.prototype.takeStreamSnapshot=function(e){var t=this.video;if(!t)return\"\";if(!t.srcObject)return\"\";var r=document.createElement(\"canvas\");r.width=this.video.videoWidth,r.height=this.video.videoHeight;var i=r.getContext(\"2d\");i&&i.drawImage(this.video,0,0,r.width,r.height);var o=r.toDataURL(\"image/\"+(null==e?void 0:e.imageType)||0,null==e?void 0:e.quality),n=\"png\";return(null==e?void 0:e.imageType)&&(n=[\"png\",\"jpeg\"].includes(null==e?void 0:e.imageType)?null==e?void 0:e.imageType:\"png\"),(null==e?void 0:e.save)&&r.toBlob((function(t){var r=window.URL.createObjectURL(t),i=document.createElement(\"a\");i.style.display=\"none\",i.href=r;var o=(null==e?void 0:e.fileName)||\"snapshot\"+Date.now();i.download=o+\".\"+n,document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)}),100)})),o},e.prototype.mountPlayer=function(e,t){var r,i,o=this;if(!e||!this.wrapper)return!1;var n=\"VIDEO\"===e.tagName;if(t){if(t&&\"live\"===(null===(i=null===(r=null==e?void 0:e.srcObject)||void 0===r?void 0:r.getTracks()[0])||void 0===i?void 0:i.readyState)){var s=null,a=function(){e.oncanplay=null,s&&(clearTimeout(s),s=null),e.play().catch((function(){o.isMounted&&(n&&o.hasVideo||!n&&o.hasAudio)&&o.emitPlayFailed()}))};e.muted=!1,e.play().catch((function(){})),s=window.setTimeout((function(){a()}),1e3),e.oncanplay=function(){a()},!e.parentNode&&this.wrapper.appendChild(e)}}else{e.muted=!0;var c=e.parentNode;c&&c.removeChild(e)}return!0},e.prototype.on=function(e,t){return!!t&&this.eventManager.addEventHandler(e,t)},e.prototype.off=function(e,t){return this.eventManager.removeEventHandler(e,t)},e.prototype.useAudioOut=function(e){var t;return o(this,void 0,void 0,(function(){var r;return n(this,(function(i){switch(i.label){case 0:return r=null===(t=this.audio)||void 0===t?void 0:t.setSinkId,r?[4,r.call(this.audio,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},e.prototype.destroy=function(){this.stop(),this.audio=null,this.video=null},e}();t.StreamView=d},6562:function(e,t,r){\"use strict\";var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function s(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,i,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.ZegoStreamCenterWeb=void 0;var c=r(9887),u=r(9334),d=r(5664),l=r(1390),h=r(9887),p=r(5749),g=r(9404),f=r(4661),m=r(1466),_=r(7716),v=r(8335),E=r(2990),S=r(6262),T=function(e){function t(t,r,i,o,n,s){var a=e.call(this)||this;return a.logger=t,a.stateCenter=r,a.dataReport=i,a.rtm=o,a.ac=n,a.mediaEleSources=s,a.testEnvironment=!1,a.heartbeatTimer=null,a.heartbeatInterval=1e4,a.qualityTimerInterval=3e3,a.previewStreamList=[],a.signalList={},a.chargeInfos={itemtype:\"ChargeInfos\",timestamp_begin:0,timestamp_end:0,timestamp_diff_flag:0,timestamp_diff:0,infos:[]},a.chargeInfosTimer=null,a.chargeInfosInterval=6e4,a.chargeInfoSeq=0,a.soundLevelDelegate=!1,a.soundLevelInterval=1e3,a.enableInBackground=!1,a.isPeer=!0,a.probeList={},a.isMicEnabled=!0,a.isDataChannelEnabled=!1,a.publishQualityInfos=[],a.playQualityInfos=[],a.qualityUploadTimestamp=0,a.qualityHeadTimestamp=0,a.gwNode=\"\",a.playerList={},a.stopedPlayerList={},a.publisherList={},a.playSuccessCallBackList={},a.playErrorCallBackList={},a.waitPublishList=[],a.waitPlayList=[],a.autoSwitchProtocol=!0,a.udpFailNum=0,a.maxUdpFailNum=2,a.probeStartedNum=3,a.tryCountConnectInterval=3e3,a.checkMessageTimeout=function(){for(var e in a.signalList)a.signalList[e].signal&&a.signalList[e].signal.checkMessageTimeout()},a.getAllInUseUrl=function(){var e=[];for(var t in a.signalList)e.push(t);return e},a.onDisconnectHandle=function(e,t){if(a.logger.info(\"zsc.od.0 call\"),a.signalList[e]){for(var r=a.signalList[e],i=0;i<r.publishConnectedList.length;i++){var o=a.publisherList[r.publishConnectedList[i]];o&&o.publisher&&o.publisher.onDisconnect(t)}for(i=0;i<r.playConnectedList.length;i++){var n=a.playerList[r.playConnectedList[i]];n&&n.player&&n.player.onDisconnect(t)}delete a.signalList[e],a.stopSignalHeartbeat(),a.stopChargeInfosUpload(),a.stopSoundLevel()}},a.eventHandler={visibilitychange:function(){var e=!document.hidden;!a.enableInBackground&&a.soundLevelDelegate&&(e?(a.enableSoundLevelProcessor(!0),a.activeSoundLevel()):(a.soundLevelTimer&&clearTimeout(a.soundLevelTimer),a.soundLevelTimer=null,a.enableSoundLevelProcessor(!1)))}},document.addEventListener(\"visibilitychange\",a.eventHandler.visibilitychange),a}return o(t,e),Object.defineProperty(t.prototype,\"cameraPreviewStream\",{get:function(){return this.previewStreamList.find((function(e){return\"camera\"===e.previewType}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"microphonePreviewStream\",{get:function(){return this.previewStreamList.find((function(e){return\"camera\"===e.previewType&&e.micTrack}))},enumerable:!1,configurable:!0}),t.prototype.onSignalDisconnected=function(e){},t.prototype.setQualityMonitorCycle=function(e){var t=this;return this.logger.debug(\"zsc.qmc.0 timeInterval \"+e),0==Object.keys(this.publisherList).length?this.qualityTimerInterval=e:Object.keys(this.publisherList).forEach((function(r){t.publisherList[r].publisher.qualityTimeInterval=e,t.publisherList[r].publisher.setPublishQualityTimer()})),!0},t.prototype.setSessionInfo=function(e,t,r){this.logger.debug(\"zsc.ssi.0 called\"),this.appid=e,this.userid=t,this.testEnvironment=r},t.prototype.onPlayStateUpdate=function(e,t,r){},t.prototype.onPlayQualityUpdate=function(e,t){},t.prototype.onPublishStateUpdate=function(e,t,r){},t.prototype.onPublishQualityUpdate=function(e,t){},t.prototype.onUpdateHeartBeatIntervalHandle=function(e){e!=this.heartbeatInterval&&(this.logger.debug(\"zsc.uhb.0 update \"+e),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatInterval=e,this.startSignalHeartbeat())},t.prototype.setPublishStateStart=function(e,t,r,i,o){var n,s,a=this;if(this.logger.info(\"zsc.pss.0 call \"+t),this.stateCenter.networkState==c.ENUM_NETWORK_STATE.offline)return this.logger.error(\"zsc.pss.0 network offline\"),!1;var u=this.checkPreview(r);if(!u)return this.logger.error(\"zsc.pss.0 stream not found\"),!1;var l=this.publisherList[t],p=this.stateCenter.reportSeqList.startPublish[t];if(this.dataReport.eventStart(p,\"setPublishState\"),l)return this.logger.error(\"zsc.pss.0 publisher already exist\"),this.dataReport.eventEndWithMsgInfo(p,\"setPublishState\",{message:\"publisher already exist\"}),this.dataReport.uploadReport(p,void 0,v.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kIsPublishing),delete this.stateCenter.reportSeqList.startPublish[t],!1;var g=new d.ZegoPublish(t,this.logger,this.dataReport,this.qualityTimerInterval,this,this.stateCenter,u);g.state=h.ENUM_PUBLISH_STATE.start,g.isPeer=this.isPeer,g.reportSeq=this.stateCenter.reportSeqList.startPublish[t];var _=null===(n=null==u?void 0:u.videoTrack)||void 0===n?void 0:n.label,E=r.getAudioTracks()[0]&&r.getAudioTracks()[0].label,S=null===(s=null==u?void 0:u.videoTrack)||void 0===s?void 0:s.getSettings().deviceId,T=r.getAudioTracks()[0]&&r.getAudioTracks()[0].getSettings().deviceId,C=new f.RetryStreamHandler(this.logger,this.stateCenter,this,!0);return this.publisherList[t]={seq:0,room:e,localStream:r,publisher:g,serverUrls:[],ttl:0,isCenterNode:!0,streamID:t,publishOption:i,cameraLabel:_||\"\",microLabel:E||\"\",cameraDeviceId:S||\"\",microDeviceId:T||\"\",deviceStateCount:0,retryStreamHandler:C,retryDispatchHandler:new m.RetryDispatchHandler(this.logger,this.stateCenter,this.rtm,this),isDataChannel:o},g.onPublishStateUpdate=function(e,r,i,o){var n=a.publisherList[r];n?C.publishStateHandle(e,n.streamID,i,o):a.logger.error(\"zsc.psuh.0 cannot find publish \"+t)},g.onPublishQualityUpdate=function(e,r){var i=a.publisherList[e];i?(a.stateCenter.deviceStateOut&&0===r.audio.audioBitrate?(i.deviceStateCount++,i.deviceStateCount>=2&&(i.deviceStateCount=0,a.stateCenter.deviceStateOut=!1,a.logger.warn(\"zsc.pss.0 publish audio error by device\"))):i.deviceStateCount=0,a.onPublishQualityUpdate(i.streamID,r)):a.logger.error(\"zsc.psuh.0 cannot find publish \"+t)},this.dataReport.eventStart(g.reportSeq,\"GetSignalUrl\"),this.dataReport.eventStart(g.streamReportSeq,\"GetSignalUrl\"),!0},t.prototype.startPublishingStream=function(e,t){void 0===t&&(t=!1),this.logger.info(\"zsc.sps.0 call\");var r=this.publisherList[e];if(!r)return this.logger.error(\"zsc.sps.0 publisher don't exist\"),!1;var i=r.publisher;if(!t){if(this.dataReport.eventEndWithMsg(i.reportSeq,\"GetSignalUrl\",{urls:r.serverUrls,is_center:r.isCenterNode}),this.dataReport.eventEndWithMsg(i.streamReportSeq,\"GetSignalUrl\",{urls:r.serverUrls,is_center:r.isCenterNode}),!r.serverUrls||0===r.serverUrls.length)return r.retryStreamHandler.publishStateHandle(h.ENUM_PUBLISH_STATE_UPDATE.error,e,_.errorCodeList.DISPATCH_ERROR),this.logger.info(\"zsc.sps.0 server don't have signal url\"),!0;var o=r.serverUrls.indexOf(this.server);-1!==o&&(r.serverUrls.splice(o,1),r.serverUrls.unshift(this.server))}var n=r.retryStreamHandler;return n.invalid(),n.init(this.stateCenter.streamRetryTime),n.initStream(e,r.serverUrls),n.startMaxTime(),n.activePublish(0)},t.prototype.updateWaitingList=function(e,t,r,i,o){var n={streamID:r,success:i,error:o};t?e.publishWaitingList.push(n):e.playWaitingList.push(n)},t.prototype.publishStream=function(e){var t=this.publisherList[e].publisher;if(t){var r=null,i=null,o=this.publisherList[e].publishOption,n=this.checkPreview(this.publisherList[e].localStream);if(n)r=n.localStream,i=n.videoInfo,this.dataReport.addMsgInfo(this.stateCenter.reportSeqList.startPublish[e],{cap_w:v.ZegoRTCLogEvent.kZegoTaskPublishStart.cap_w(n.videoInfo.width),cap_h:v.ZegoRTCLogEvent.kZegoTaskPublishStart.cap_h(n.videoInfo.height),w:v.ZegoRTCLogEvent.kZegoTaskPublishStart.w(n.videoInfo.width),h:v.ZegoRTCLogEvent.kZegoTaskPublishStart.h(n.videoInfo.height),video_en_fps:v.ZegoRTCLogEvent.kZegoTaskPublishStart.video_en_fps(n.videoInfo.frameRate),video_en_bps:v.ZegoRTCLogEvent.kZegoTaskPublishStart.video_en_bps(n.videoInfo.bitRate)}),r?(this.logger.info(\"zsc.ps.0 call success\"),t.gwNodeTTL<(new Date).getTime()&&!this.gwNode?(t.gwNode=\"\",t.gwNodeList=[],t.gwNodeTTL=0):this.gwNode&&(t.gwNode=this.gwNode),t.startPublish(e,r,i,n.mediaStreamConfig,o)):this.logger.error(\"zsc.ps.0 no localStream found\");else this.logger.error(\"zsc.ps.0 no preview found\")}else this.logger.info(\"zsc.ps.0 publisher don't exist\")},t.prototype.connectPublishServer=function(e,t){var r=this,i=this.publisherList[e];return i?(this.dataReport.eventStart(i.publisher.reportSeq,\"ConnectServer\"),this.dataReport.eventStart(i.publisher.streamReportSeq,\"ConnectServer\"),this.connectWithReuseSignalServer(e,!0,t,(function(e,t,i){var o=r.publisherList[e];if(o){var n=o.publisher;if(n){r.dataReport.eventEndWithMsg(n.reportSeq,\"ConnectServer\",{result:0,server:i}),r.dataReport.eventEndWithMsg(n.streamReportSeq,\"ConnectServer\",{result:0,server:i});var s=t.tokenInfo;r.logger.info(\"zsc.cps.0 update token success\"),s&&s.report&&(n.qualityUpload=s.report,n.qualityUploadInterval=s.report_interval),n.signal=t.signal,r.server=i,r.publishStream(e),r.getTokenSuccess()}else r.logger.info(\"zsc.cps.1 check publisher don't exist\")}else r.logger.info(\"zsc.cps.0 after connect publisher don't exist\")}),(function(e,t){r.logger.error(\"zsc.cps.0 \"+e+\" connect fail \"+JSON.stringify(t));var i=r.publisherList[e];if(i){var o=i.publisher;if(o){var s;r.dataReport.eventEndWithMsg(o.reportSeq,\"ConnectServer\",{result:t}),r.dataReport.uploadReport(o.reportSeq),delete r.stateCenter.reportSeqList.startPublish[e];var a=!1;t&&t.code===_.errorCodeList.GET_CONFIG_FAIL.code?(s=n({},_.errorCodeList.GET_CONFIG_FAIL),a=!0):((s=n({},_.errorCodeList.CONNECT_FAILED)).message=s.message+\" \"+t,1008===t&&(s=_.errorCodeList.TOKEN_EXPIRED,a=!0),20010===t&&(a=!0,s=JSON.parse(JSON.stringify(_.errorCodeList.PUBLISHER_SESSION_REQUEST_FAIL)))),i.retryStreamHandler.publishStateHandle(h.ENUM_PUBLISH_STATE_UPDATE.error,e,s,a)}else r.logger.info(\"zsc.cps.1 check publisher don't exist\")}else r.logger.info(\"zsc.cps.0 after connect publisher don't exist\")})),!0):(this.logger.error(\"zsc.cps.0 publisher don't exist\"),!1)},t.prototype.getTokenSuccess=function(){this.logger.debug(\"zsc.gts.0 call\")},t.prototype.stopPublishingStream=function(e){var t=this.publisherList[e];if(t){var r=t.retryStreamHandler;for(var i in r&&(r.stopMaxTime(),r.invalid()),this.signalList)this.signalList[i].publishWaitingList=this.signalList[i].publishWaitingList.filter((function(t){return t.streamID!==e}));delete this.publisherList[e],t.publisher&&(t.publisher.stopPublish(),delete t.publisher),this.removeStreamFromSignal(!0,e),this.stopSignalHeartbeat(),this.stopChargeInfosUpload(),this.stopSoundLevel(),this.logger.debug(\"zsc.sps.0.1 call success\")}else this.logger.warn(\"zsc.sps.0.1 publisher don't exist\")},t.prototype.connectWithReuseSignalServer=function(e,t,r,i,o){var n=this;this.logger.info(\"zsc.crss.0 begin \"+r);var s=null;if(this.signalList[r])(s=this.signalList[r]).state==h.ENUM_SIGNAL_STATE.connected?(this.logger.info(\"zsc.crss.0 already connected \"+r+\" streamId: \"+e),t?s.publishConnectedList.push(e):s.playConnectedList.push(e),i(e,s,r)):s.state==h.ENUM_SIGNAL_STATE.connecting&&(this.logger.info(\"zsc.crss.0 signal is connecting \"+r+\" streamId: \"+e),this.updateWaitingList(s,t,e,i,o));else{this.logger.info(\"zsc.crss.0 new signal \"+r+\", streamId: \"+e);var a=[\"unified_rtc\",\"unified_l3\"].includes(r),c=new p.ZegoSignal(this.logger,this.stateCenter,this.rtm.netAgent,a);c.setSessionInfo(this.appid,this.userid),a||(c.onUpdateHeartBeatInterval=this.onUpdateHeartBeatIntervalHandle.bind(this)),c.onDisconnect=this.onDisconnectHandle;var u=this.publisherList[e]||this.playerList[e]||null,d=null==u?void 0:u.retryStreamHandler;if(this.stateCenter.streamConnectTime)c.tryConnectInterval=this.stateCenter.streamConnectTime;else if(d&&d.retryActiveCount){var l=d.retryActiveCount*(d.retryActiveCount-1)/2+2;c.tryConnectInterval=1e3*(l=l>h.MAX_RETRY_CONNECT_INTERVAL?h.MAX_RETRY_CONNECT_INTERVAL:l)}this.signalList[r]={signal:c,state:h.ENUM_SIGNAL_STATE.connecting,publishWaitingList:[],playWaitingList:[],publishConnectedList:[],playConnectedList:[],tokenInfo:null},this.updateWaitingList(this.signalList[r],t,e,i,o);var g=null==u?void 0:u.room.token,f=null==u?void 0:u.room.roomID;this.logger.info(\"zsc.crss.0 \"+g),c.connectServer(f||this.stateCenter.roomList[0].roomID,g||this.stateCenter.roomList[0].token,r,(function(e,t,i){if(s=n.signalList[r],0!=e){n.logger.info(\"zsc.crss.0 connect failed \"+t);for(var o=s.publishWaitingList,c=o.length-1;c>=0;c--){(d=o[c]).error&&d.error(d.streamID,e)}var u=s.playWaitingList;for(c=u.length-1;c>=0;c--){var d;(d=u[c]).error&&d.error(d.streamID,e)}delete n.signalList[r]}else n.logger.info(\"zsc.crss.0 connected success \"+t),s.state=h.ENUM_SIGNAL_STATE.connected,s.tokenInfo=i,s.publishWaitingList.forEach((function(e){e.success&&e.success(e.streamID,s,t),s&&s.publishConnectedList.push(e.streamID)})),s.playWaitingList.forEach((function(e){e.success&&e.success(e.streamID,s,t),s&&s.playConnectedList.push(e.streamID)})),s.publishWaitingList=[],s.playWaitingList=[],a||null!=n.heartbeatTimer||n.startSignalHeartbeat(),null==n.chargeInfosTimer&&n.startChargeInfosUpload(),n.activeSoundLevel()}))}},t.prototype.setPlayStateStart=function(e,t,r){var i=this;if(this.logger.info(\"zsc.pss.1 call \"+e),this.rtm.isDisConnect()&&this.stateCenter.networkState==c.ENUM_NETWORK_STATE.offline)return this.logger.error(\"zsc.pss.1 network offline\"),!1;var o=this.playerList[e],n=this.stateCenter.reportSeqList.startPlay[e];if(this.dataReport.eventStart(n,\"setPlayState\"),o)return this.logger.error(\"zsc.pss.1 player already exist\"),this.dataReport.eventEndWithMsgInfo(n,\"setPlayState\",{message:\"player already exist\"}),this.dataReport.uploadReport(n,void 0,v.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kIsPlaying),delete this.stateCenter.reportSeqList.startPlay[e],v.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayRepeatedPullError;var s=this.getPlayRoom(e)||this.stateCenter.roomList[0];if(!s)return this.logger.error(\"zsc.pss.1 not login room\"),this.dataReport.eventEndWithMsgInfo(n,\"setPlayState\",{message:\"not login room\"}),this.dataReport.uploadReport(n,void 0,v.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNoLoginError),v.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNoLoginError;var a=new g.ZegoPlayWeb(this.logger,null,this.dataReport,this.qualityTimerInterval,this,this.ac,this.stateCenter);t&&[0,2,3].includes(t.resourceMode)&&(a.resourceMode=t.resourceMode),this.dataReport.addMsgInfo(n,{resourceMode:a.resourceMode,play_room_id:null==s?void 0:s.roomID,isMulti:this.stateCenter.isMultiRoom}),a.state=h.ENUM_PLAY_STATE.start,a.isPeer=this.isPeer,a.reportSeq=this.stateCenter.reportSeqList.startPlay[e],a.beginTime=(new Date).getTime();var u=new f.RetryStreamHandler(this.logger,this.stateCenter,this,!1);return this.playerList[e]={seq:0,room:s,player:a,signal:null,serverUrls:[],ttl:0,isCenterNode:!0,streamID:e,playOption:t,retryStreamHandler:u,retryDispatchHandler:new m.RetryDispatchHandler(this.logger,this.stateCenter,this.rtm,this),isDataChannel:r},a.onPlayStateUpdate=function(e,t,r,o){var n=i.playerList[t];n?u.playStateHandle(e,n.streamID,r,o):i.logger.error(\"zsc.pss.1 cannot find play \"+t)},a.onPlayQualityUpdate=function(e,t){var r=i.playerList[e];r?i.onPlayQualityUpdate(r.streamID,t):i.logger.error(\"zsc.pss.1 cannot find play \"+e)},a.onRemoteCameraStatusUpdate=function(e,t,r){var o=i.playerList[e];o?i.onRemoteCameraStatusUpdate(o.streamID,t,r):i.logger.error(\"zsc.pss.1 cannot find play \"+e)},a.onRemoteMicStatusUpdate=function(e,t,r){var o=i.playerList[e];o?i.onRemoteMicStatusUpdate(o.streamID,t,r):i.logger.error(\"zsc.pss.1 cannot find play \"+e)},this.dataReport.eventStart(a.reportSeq,\"GetSignalUrl\"),this.dataReport.eventStart(a.streamReportSeq,\"GetSignalUrl\"),!0},t.prototype.onRemoteMicStatusUpdate=function(e,t,r){},t.prototype.onRemoteCameraStatusUpdate=function(e,t,r){},t.prototype.startPlayingStream=function(e,t,r){void 0===t&&(t=!1),this.logger.info(\"zsc.sps.1 start play called\");var i=this.playerList[e];if(!i)return this.logger.error(\"zsc.sps.1 player don't exist\"),!1;var o=i.player;if(!t){if(this.dataReport.eventEndWithMsg(o.reportSeq,\"GetSignalUrl\",{urls:i.serverUrls}),this.dataReport.eventEndWithMsg(o.streamReportSeq,\"GetSignalUrl\",{urls:i.serverUrls}),0==i.serverUrls.length)return i.retryStreamHandler.playStateHandle(h.ENUM_PLAY_STATE_UPDATE.error,e,_.errorCodeList.DISPATCH_ERROR),this.logger.info(\"zsc.sps.1 server don't have signal url\"),!1;var n=i.serverUrls.indexOf(this.server);-1!==n&&(i.serverUrls.splice(n,1),i.serverUrls.unshift(this.server))}var s=i.retryStreamHandler;return s.invalid(),s.init(this.stateCenter.streamRetryTime),s.initStream(e,i.serverUrls),s.startMaxTime(),s.activePull(0,r)},t.prototype.connectPlayServer=function(e,t,r){var i=this,o=this.playerList[e];return o?(this.dataReport.eventStart(o.player.reportSeq,\"ConnectServer\"),this.dataReport.eventStart(o.player.streamReportSeq,\"ConnectServer\"),this.connectWithReuseSignalServer(e,!1,r,(function(e,r,o){var n=i.playerList[e];if(n){var s=n.player;if(s){i.dataReport.eventEndWithMsg(s.reportSeq,\"ConnectServer\",{result:0,server:o}),i.dataReport.eventEndWithMsg(s.streamReportSeq,\"ConnectServer\",{result:0,server:o});var a=r.tokenInfo;i.logger.info(\"zsc.cps.1 update token success\"),a&&a.report&&(s.qualityHandler.qualityUpload=a.report,s.qualityHandler.qualityUploadInterval=a.report_interval),s.signal=r.signal,i.server=o,i.playStream(e,t),i.getTokenSuccess()}else i.logger.error(\"zsc.cps.1 checkplayer don't exist\")}else i.logger.error(\"zsc.cps.1 after connect player don't exist\")}),(function(t,o){var s=i.playerList[t];if(s){i.dataReport.eventEndWithMsg(s.player.reportSeq,\"ConnectServer\",{result:o}),!s.player.isProbe&&i.dataReport.uploadReport(s.player.reportSeq),delete i.stateCenter.reportSeqList.startPlay[e];var a=n({},_.errorCodeList.CONNECT_FAILED);a.message=a.message+\" \"+o,1008===o&&(a=_.errorCodeList.TOKEN_EXPIRED);var c=1008==o;20010===o&&(c=!0,a=\"unified_l3\"===r?_.errorCodeList.PLAYER_UNSUPPORTED_PROTOCOL:_.errorCodeList.PLAYER_SESSION_REQUEST_FAIL),s.retryStreamHandler.playStateHandle(h.ENUM_PLAY_STATE_UPDATE.error,t,a,c)}else i.logger.error(\"zsc.cps.1 after connect player don't exist\")})),!0):(this.logger.error(\"zsc.cps.1 player don't exist\"),!1)},t.prototype.playStream=function(e,t){var r=this.playerList[e].player;r?(this.logger.info(\"zsc.ps.1 call success\"),r.gwNodeTTL<(new Date).getTime()&&!this.gwNode?(r.gwNode=\"\",r.gwNodeList=[],r.gwNodeTTL=0):this.gwNode&&(r.gwNode=this.gwNode),r.startPlay(e,t,this.playerList[e].playOption)):this.logger.warn(\"zsc.ps.1 player don't exist\")},t.prototype.stopSignalHeartbeat=function(){this.logger.debug(\"zsc.ssh.1 call\");var e=0;for(var t in this.signalList)e+=1;this.heartbeatTimer&&0==e&&(this.logger.info(\"zsc.ssh.1 stop\"),clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)},t.prototype.removeStreamFromSignal=function(e,t){this.logger.info(\"zsc.rsfs.0 call \"+e+\" \"+t);var r=[];for(var i in this.signalList){var o=this.signalList[i];if(e){for(var n=0;n<o.publishConnectedList.length;n++)if(o.publishConnectedList[n]===t){this.logger.debug(\"zsc.rsfs.0 found from publish\"),o.publishConnectedList.splice(n,1);break}for(n=0;n<o.publishWaitingList.length;n++)if(o.publishWaitingList[n].streamID===t){this.logger.debug(\"zsc.rsfs.0 found from publish\"),o.publishWaitingList.splice(n,1);break}}else{for(var s=0;s<o.playConnectedList.length;s++)if(o.playConnectedList[s]===t){this.logger.debug(\"zsc.rsfs.0 found from play\"),o.playConnectedList.splice(s,1);break}for(s=0;s<o.playWaitingList.length;s++)if(o.playWaitingList[s].streamID===t){this.logger.debug(\"zsc.rsfs.0 found from play\"),o.playWaitingList.splice(s,1);break}}0==o.publishConnectedList.length&&0==o.playConnectedList.length&&0==o.publishWaitingList.length&&0==o.playWaitingList.length&&(o.signal.disconnectServer(),r.push(i))}for(var a=0;a<r.length;a++)delete this.signalList[r[a]],this.server==r[a]&&(this.server=\"\")},t.prototype.stopPlayingStream=function(e){var t=this.playerList[e];if(t){var r=t.retryStreamHandler;for(var i in r&&(r.stopMaxTime(),r.invalid()),this.signalList)this.signalList[i].playWaitingList=this.signalList[i].playWaitingList.filter((function(t){return t.streamID!==e}));if(delete this.playerList[e],t.player){t.player.stopPlay();var o=t.player.rtcViewer;o&&o.stop(),delete t.player}this.removeStreamFromSignal(!1,e),this.stopSignalHeartbeat(),this.stopChargeInfosUpload(),this.stopSoundLevel(),delete this.playSuccessCallBackList[e],delete this.playErrorCallBackList[e],this.logger.debug(\"zsc.sps.1.1 call success\")}else this.logger.info(\"zsc.sps.1.1 player don't exist\")},t.prototype.reset=function(e,t,r){var i,o,n,s;for(var a in this.logger.info(\"zsc.rs call \"+e+\" \"+t+\" \"+r),this.publisherList)this.publisherList[a].room.roomID!=e&&e||(null===(o=null===(i=this.publisherList[a].room)||void 0===i?void 0:i.streamHandler)||void 0===o||o.onPublishStateUpdate(h.ENUM_PUBLISH_STATE_UPDATE.error,a,1002031==t?v.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishRetryTimeoutError:{code:0,message:\"\"}),r&&this.stateCenter.waitPublishStreamList[a]?this.stateCenter.waitPublishStreamList[a].retryStart=!0:r||delete this.stateCenter.waitPublishStreamList[a],this.stopPublishingStream(a));var c=function(i){var o=u.playerList[i].room;if(r&&(null===(s=null===(n=u.playerList[i])||void 0===n?void 0:n.player)||void 0===s?void 0:s.state)<=h.ENUM_PLAY_STATE.playing){var a=u.playerList[i],c=null==a?void 0:a.player;u.stopedPlayerList[i]={streamID:i,playStream:c.playStream,roomID:a.room.roomID,playOption:a.playOption,state:c.state,sucCallBack:(null==c?void 0:c.state)!==h.ENUM_PLAY_STATE.playing?u.playSuccessCallBackList[i]:void 0,errCallBack:(null==c?void 0:c.state)!==h.ENUM_PLAY_STATE.playing?u.playErrorCallBackList[i]:void 0}}if(o.roomID!=e||!o.streamList.find((function(e){return e.stream_id==i}))&&1!=u.stateCenter.roomList.length){if(o.roomID==e&&u.stateCenter.roomList.length>1){var d=u.stateCenter.roomList.find((function(t){return t.roomID!==e}));d?u.playerList[i].room=d:(u.stopPlayingStream(i),u.onPlayStateUpdate(h.ENUM_PLAY_STATE_UPDATE.error,i,v.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayRetryTimeoutError))}}else u.onPlayStateUpdate(h.ENUM_PLAY_STATE_UPDATE.error,i,1002031==t?v.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayRetryTimeoutError:{code:0,message:\"\"}),u.stopPlayingStream(i)},u=this;for(var d in this.playerList)c(d);0==Object.keys(this.publisherList).length&&0==Object.keys(this.playerList).length&&(this.probeList={}),this.waitPublishList=[],this.waitPlayList=[],this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityHeadTimestamp=0,this.qualityUploadTimestamp=0,this.qualityWebsocket&&(this.qualityWebsocket.close(),this.qualityWebsocket=void 0),this.logger.info(\"zsc.rs call success\")},t.prototype.startSignalHeartbeat=function(){var e=this;this.logger.debug(\"zsc.ssh.0 call\"),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatTimer=setTimeout((function(){e.checkSignalHeartbeat()}),this.heartbeatInterval)},t.prototype.startChargeInfosUpload=function(){var e=this;this.logger.debug(\"zsc.sciu.0 call\"),this.chargeInfosTimer&&(clearTimeout(this.chargeInfosTimer),this.chargeInfosTimer=null),this.chargeInfosTimer=setTimeout((function(){e.checkChargeInfos()}),this.chargeInfosInterval)},t.prototype.checkChargeInfos=function(){this.logger.debug(\"zsc.cci.0 call\");var e={is_publishing:0,play_max_audio_bitrate:0,play_stream_resolution_infos:[]};for(var t in this.chargeInfos.timestamp_begin=(new Date).getTime(),this.publisherList){this.publisherList[t].publisher.state===h.ENUM_PUBLISH_STATE.publishing&&(e.is_publishing=1);break}e.play_max_audio_bitrate=0;var r=function(t){var r=i.playerList[t].player.playStream,o=r&&0!==r.getVideoTracks().length?r.getVideoTracks()[0].getSettings():void 0,n={video_width:o&&o.width?o.width:0,video_height:o&&o.height?o.height:0,count:1};if(!e.play_stream_resolution_infos.find((function(e){return e.video_width==n.video_width&&e.video_height==n.video_height&&(e.count++,!0)}))&&e.play_stream_resolution_infos.push(n),0==n.video_width&&0==n.video_height){var s=1e3*i.playerList[t].player.qualityHandler.lastPlayStats.audioBitrate;s>e.play_max_audio_bitrate&&(e.play_max_audio_bitrate=s)}},i=this;for(var o in this.playerList)r(o);0!==this.chargeInfos.timestamp_end?(this.chargeInfos.timestamp_diff=this.chargeInfos.timestamp_begin-this.chargeInfos.timestamp_end,this.chargeInfos.timestamp_diff_flag=1):(this.chargeInfos.timestamp_diff=0,this.chargeInfos.timestamp_diff_flag=0),this.chargeInfos.timestamp_end=(new Date).getTime(),this.chargeInfos.infos=[e],0!==e.play_stream_resolution_infos.length&&this.logger.report(this.chargeInfos),this.chargeInfosTimer&&this.startChargeInfosUpload()},t.prototype.checkSignalHeartbeat=function(){for(var e in this.logger.debug(\"zsc.csh.0 call\"),this.signalList)this.signalList[e].signal&&this.signalList[e].signal.sendHeartbeat();this.heartbeatTimer&&this.startSignalHeartbeat()},t.prototype.stopChargeInfosUpload=function(){this.logger.debug(\"zsc.sciu.0 call\");var e=0;for(var t in this.signalList)e+=1;this.chargeInfosTimer&&0==e&&(this.logger.info(\"zsc.sciu.0 stop\"),clearTimeout(this.chargeInfosTimer),this.chargeInfosTimer=null)},t.prototype.getPublisher=function(e){var t=null;if(\"string\"==typeof e&&this.publisherList[e]&&this.publisherList[e].publisher)t=this.publisherList[e].publisher;else if(e instanceof MediaStream){var r=this.checkPublish(e);r&&(t=null==r?void 0:r.publisher)}return t},t.prototype.getPreviewer=function(e){var t,r=null;return\"string\"==typeof e&&this.publisherList[e]&&this.publisherList[e].publisher?r=null===(t=this.publisherList[e].publisher)||void 0===t?void 0:t.previewer:e instanceof MediaStream&&(r=this.checkPreview(e)),r},t.prototype.checkPlayer=function(e){var t=Object.values(this.playerList).find((function(t){return t.player.playStream===e}));return(null==t?void 0:t.player)||null},t.prototype.checkPreview=function(e){for(var t=0;t<this.previewStreamList.length;t++)if(this.previewStreamList[t].localStream===e)return this.previewStreamList[t];return null},t.prototype.checkPublish=function(e){for(var t in this.publisherList)if(this.publisherList[t].localStream==e)return this.publisherList[t];return null},t.prototype.getPublishList=function(e){var t=[];for(var r in this.publisherList)this.publisherList[r].localStream==e&&t.push(this.publisherList[r]);return t},t.prototype.removePreview=function(e){for(var t=0;t<this.previewStreamList.length;t++)if(this.previewStreamList[t]===e){this.previewStreamList.splice(t,1);break}},t.prototype.onPlayerStreamUrlUpdate=function(e,t,r){},t.prototype.getScreenConstrains=function(e){var t={};if(\"boolean\"==typeof e&&e)t={audio:!1,video:{frameRate:h.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.frameRate},bitRate:this.stateCenter.settingConfig.getSetting(\"screen_video_bitrate\")||h.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.bitRate};else if(\"object\"==typeof e){switch(e.videoQuality){case 1:t={video:{frameRate:h.ENUM_SCREEM_RESOLUTION_TYPE.LOW.frameRate},bitRate:h.ENUM_SCREEM_RESOLUTION_TYPE.LOW.bitRate};break;case 3:t={video:{frameRate:h.ENUM_SCREEM_RESOLUTION_TYPE.HIGH.frameRate},bitRate:h.ENUM_SCREEM_RESOLUTION_TYPE.HIGH.bitRate};break;case 4:t={video:{frameRate:e.frameRate,width:e.width,height:e.height},bitRate:e.bitRate};break;case 2:t={video:{frameRate:h.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.frameRate},bitRate:h.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.bitRate};break;default:t={video:{frameRate:h.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.frameRate},bitRate:this.stateCenter.settingConfig.getSetting(\"screen_video_bitrate\")||h.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.bitRate}}t.audio=\"boolean\"==typeof e.audio&&e.audio,t=n(n(n({},e),t),{width:void 0,height:void 0,frameRate:void 0})}return t},t.prototype.createScreenPreviewer=function(e,t){var r=new u.ZegoPreview(this.logger,this.ac,this.stateCenter,this,\"screen\"),i=e.getVideoTracks()[0].getSettings();return this.previewStreamList.push(r),r.mediaStreamConfig=t,e.getAudioTracks().length>0&&(r.audioTrack=e.getAudioTracks()[0]),r.localStream=e,r.videoInfo={width:i.width,height:i.height,frameRate:i.frameRate||15,bitRate:(null==t?void 0:t.bitRate)||1e3,startBitrate:(null==t?void 0:t.startBitrate)||this.stateCenter.settingConfig.getSetting(\"bitrate_mode\")},r.previewSuc=!0,r.previewType=\"screen\",(null==t?void 0:t.videoOptimizationMode)&&this.setVideoTrackContentHint(e,null==t?void 0:t.videoOptimizationMode),r},t.prototype.setSoundLevelDelegate=function(e,t,r){void 0===r&&(r=!1),this.logger.info(\"zsc.ssd.0 call\"),t&&(this.soundLevelInterval=t),this.soundLevelDelegate=e,this.enableInBackground=r,this.enableSoundLevelProcessor(e),e?(this.logger.info(\"zsc.ssd.0 start getting sound\"),this.activeSoundLevel()):(this.logger.info(\"zsc.ssd.0 stop getting sound\"),this.soundLevelTimer&&clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null,this.soundLevelInterval=1e3)},t.prototype.enableSoundLevelProcessor=function(e){for(var t in this.previewStreamList){var r=this.previewStreamList[t];e?r.startSoundLevel():r.stopSoundLevel()}for(var t in this.playerList){var i=this.playerList[t].player;e?i.startSoundLevel():i.stopSoundLevel()}},Object.defineProperty(t.prototype,\"hasRemoteStream\",{get:function(){return Object.keys(this.signalList).length>0},enumerable:!1,configurable:!0}),t.prototype.activeSoundLevel=function(){!this.soundLevelTimer&&this.soundLevelDelegate&&this.startSoundLevel()},t.prototype.startSoundLevel=function(){var e=this;this.soundLevelTimer&&(clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null),this.soundLevelDelegate&&(this.hasRemoteStream&&this.checkSoundLevel(),this.checkMicSoundLevel(),this.soundLevelTimer=setTimeout((function(){e.startSoundLevel()}),this.soundLevelInterval))},t.prototype.checkSoundLevel=function(){this.logger.debug(\"zsc.csl.0 call\");var e=[];for(var t in this.publisherList){var r=0,i=this.publisherList[t].publisher,o=i.previewer;o&&(r=o.soundLevel),e.push({streamID:this.getBackStreamId(i.streamId),soundLevel:r,type:\"push\"})}for(var t in this.playerList){var n=this.playerList[t].player;n.streamId&&!n.isProbe&&e.push({streamID:this.getBackStreamId(n.streamId),soundLevel:n.soundLevel,type:\"pull\"})}this.soundLevelDelegate&&e.length>0&&this.onSoundLevelUpdate(e)},t.prototype.checkMicSoundLevel=function(){this.microphonePreviewStream&&this.soundLevelDelegate&&this.onMicSoundLevelUpdate(this.microphonePreviewStream.soundLevel)},t.prototype.getBackStreamId=function(e){return this.testEnvironment&&e?e.replace(\"zegotest-\"+this.appid+\"-\",\"\"):e},t.prototype.onSoundLevelUpdate=function(e){},t.prototype.onMicSoundLevelUpdate=function(e){},t.prototype.stopSoundLevel=function(){this.soundLevelTimer&&!this.hasRemoteStream&&0===this.previewStreamList.length&&(this.logger.info(\"zsc.ssl.0 stop\"),clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null)},t.prototype.startNetProbe=function(e,t,r){var i=this,o=(0,c.getReportSeq)();if(this.dataReport.newReport(o,v.ZegoRTCLogEvent.kZegoNetProbe.event),this.isPeer){var n=!0;0==r.length&&(n=!1,r=e?this.publisherList[t.streamId].serverUrls:this.playerList[t.streamId].serverUrls),r.forEach((function(r){if(!(i.probeList[r]&&i.probeList[r].timeStamp+9e5<(new Date).getTime()||t.probeState==h.ENUM_PROBE_STATE.probed)){var o=\"zegoprobe-\"+(new Date).getTime();i.setPlayStateStart(o);var s=i.playerList[o]?i.playerList[o].player:null;s&&(s.isProbe=!0,n?(s.gwNode=r,s.signal=t.signal,s.startPlay(o,(function(){}))):i.connectPlayServer(o,(function(){}),r),s.onCalNetQualityResult=function(n,a){i.logger.info(\"zc.ocnqr.0 \"+s.gwNode+\" \"+n+\" \"+a),i.probeList[r]={result:n,netQuality:a,timeStamp:(new Date).getTime()},t.gwNode==r||t.signal.server==r?t.netQuality=a:i.handleCalNetQualityResult(e,n,a,t,r),i.stopPlayingStream(o)})}})),this.dataReport.addMsgInfo(o,{netQuality:t.netQuality,nodeList:r}),this.dataReport.uploadReport(o)}else this.dataReport.uploadReport(o,void 0,{code:-1,message:\"not support peer\"})},t.prototype.handleCalNetQualityResult=function(e,t,r,i,o){if(this.logger.info(\"zc.hcqr.0 \"+i.netQuality+\" probe \"+r+\" \"+o),0===t){var n=(0,c.getReportSeq)();this.dataReport.newReport(n,v.ZegoRTCLogEvent.kZegoNetProbeResult.event);var s=!1;if(r>Math.max(75,i.netQuality+20)&&i.probeState==h.ENUM_PROBE_STATE.tryProbe)if(s=!0,e){var a=i,u=a.streamId,d=a.localStream,l=a.videoInfo,p=a.mediaStreamConfig,g=a.publishOption;0!=a.sessionId&&a.signal&&a.shouldSendCloseSession()&&(a.signal.sendCloseSession(this.stateCenter.getSeq(),a.sessionId,1),a.signal.removeSession(a.sessionId),a.closeSessionSignal=!0),a.resetPublish(),this.publisherList[u].isCenterNode?(a.gwNode=o,a.startPublish(u,d,l,p,g)):this.connectPublishServer(u,o)}else{var f=i,m=(u=f.streamId,f.getRemoteStreamSuc),_=f.playOption;0!=f.sessionId&&f.signal&&f.shouldSendCloseSession()&&(f.signal.sendCloseSession(this.stateCenter.getSeq(),f.sessionId,1),f.signal.removeSession(f.sessionId),f.closeSessionSignal=!0),f.resetPlay(),this.playerList[u].isCenterNode?(f.gwNode=o,f.startPlay(u,m,_)):this.connectPlayServer(u,m,o)}else s=!1,this.logger.warn(\"zc.hcqr.0 \"+i.netQuality+\" probe \"+r+\" \"+o);this.dataReport.addMsgInfo(n,{isSwitch:s,isPublish:e,streamID:i.streamId,result:t,node:o,netQuality:i.netQuality,probeNetQuality:r}),this.dataReport.uploadReport(n),i.probeState=h.ENUM_PROBE_STATE.probed}},t.prototype.getRoomByStreamID=function(e){return this.publisherList[e]?this.publisherList[e].room:this.playerList[e]?this.playerList[e].room:void 0},t.prototype.setVideoTrackContentHint=function(e,t){if(\"string\"==typeof t){var r=t.toLowerCase();if([\"default\",\"motion\",\"detail\",\"text\"].includes(r)){var i=e.getVideoTracks()[0];i?\"contentHint\"in i?(this.logger.info(\"zc.svtch \"+r),i.contentHint=\"default\"==r?\"\":r):this.logger.warn(\"zc.svtch mediaStreamTrack contentHint attribute not supported\"):this.logger.warn(\"zc.svtch video track no found\")}else this.logger.warn(\"zc.svtch videoOptimizationMode wrong\")}else this.logger.warn(\"zc.svtch videoOptimizationMode type wrong\")},t.prototype.getPlayRoom=function(e){return this.stateCenter.roomList.find((function(t){return!!t.streamList.find((function(t){return t.stream_id==e}))}))},t.prototype.getQualityHead=function(e,t){var r=new Uint8Array(12);r[0]=0,r[1]=12,r[2]=e.length>>8,r[3]=e.length-(r[2]<<8),r[4]=t.length>>24,r[5]=t.length-(r[4]<<24)>>16,r[6]=t.length-(r[4]<<24)-(r[5]<<16)>>8,r[7]=t.length-(r[4]<<24)-(r[5]<<16)-(r[6]<<8);var i=Math.ceil((new Date).getTime()/1e3);return r[8]=i>>24,r[9]=i-(r[8]<<24)>>16,r[10]=i-(r[8]<<24)-(r[9]<<16)>>8,r[11]=i-(r[8]<<24)-(r[9]<<16)-(r[10]<<8),r},t.prototype.streamQualityUpload=function(){var e,t=this;if(Object.keys(this.publisherList).length>0||Object.keys(this.playerList).length>0){var r={publish_quality_infos:this.publishQualityInfos,play_quality_infos:this.playQualityInfos},i=E.logreport.SpeedLogHead.create({version:3,timestamp:this.qualityHeadTimestamp,event:0,app_id:this.stateCenter.appid,user_id:this.stateCenter.idName,biz_type:1}),o=E.logreport.QualityEvent.create(r),n=E.logreport.SpeedLogHead.encode(i).finish(),c=E.logreport.QualityEvent.encode(o).finish(),u=this.getQualityHead(n,c),d=new Uint8Array(12+n.length+c.length);d.set(u),d.set(n,12),d.set(c,12+n.length);var l=null===(e=this.logger.url)||void 0===e?void 0:e.split(\"/\")[2];if(!l)return;var h=function(){return new Promise((function(e){if(t.qualityWebsocket&&2!=t.qualityWebsocket.readyState&&3!=t.qualityWebsocket.readyState)1==t.qualityWebsocket.readyState&&e(t.qualityWebsocket);else{var r=t.stateCenter.appid,i=t.stateCenter.idName,o=t.stateCenter.roomList[0].token,n=\"wss://\".concat(l,\"/ws/report/stream?appid=\").concat(r,\"&product=rtc&token=\").concat(encodeURIComponent(o),\"&id_name=\").concat(i);t.qualityWebsocket=new WebSocket(n),t.qualityWebsocket.onopen=function(){t.qualityWebsocket&&e(t.qualityWebsocket)},t.qualityWebsocket.onclose=function(){t.logger.info(S.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+\" speed log socket close\")}}}))};h().then((function(e){var r=Date.now()%1e4,i=!1;e.onmessage=function(o){(o.data+\"\").includes(\"success\")&&(t.logger.info(S.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+\" quality (\".concat(r,\") upload success\")),i=!0),e.onmessage=null},setTimeout((function(){return s(t,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return i?[3,2]:[4,h()];case 1:e.sent().send(d),this.logger.info(S.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+\" retry upload quality (\".concat(r,\"), length: \")+d.length+\".\"),e.label=2;case 2:return[2]}}))}))}),3e3),e.send(d),t.logger.info(S.ZEGO_WEBRTC_ACTION.UPLOAD_SPEED_LOG_QUALITY+\" upload quality (\".concat(r,\"), length: \")+d.length+\".\")}))}},t.prototype.updateQuality=function(e,t){var r=this,i=(new Date).getTime(),o=JSON.stringify(this.publishQualityInfos).length+JSON.stringify(this.playQualityInfos).length;0!==this.qualityUploadTimestamp&&i-this.qualityUploadTimestamp>6e4||o>8e3?(this.publishQualityInfos.forEach((function(e){return e.timestamp_offset_end=Math.round(i/1e3)-r.qualityHeadTimestamp})),this.playQualityInfos.forEach((function(e){return e.timestamp_offset_end=Math.round(i/1e3)-r.qualityHeadTimestamp})),this.streamQualityUpload(),this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityHeadTimestamp=Math.round((new Date).getTime()/1e3),this.qualityUploadTimestamp=i):0==this.qualityHeadTimestamp&&(this.qualityHeadTimestamp=Math.round((new Date).getTime()/1e3),this.qualityUploadTimestamp=i),0==e?this.handlePublishQualityData(t):this.handlePlayQualityData(t)},t.prototype.handlePublishQualityData=function(e){var t=this.publishQualityInfos.find((function(t){return t.stream_id==e.stream_id&&t.video_width==e.frameWidth&&t.video_height==e.frameHeight}));if(!t){var r=this.getRoomByStreamID(e.stream_id);t={timestamp_offset_begin:Math.abs(Number(e.timeStamp-this.qualityHeadTimestamp)),timestamp_offset_end:0,stream_id:e.stream_id,session_id:r?Number(r.sessionID):0,video_width:e.frameWidth,video_height:e.frameHeight,infos:[],room_id:r?r.roomID:\"\",evnvironment:1,room_session_id:r?Number(r.roomSessionID):0,resource_type:2},this.publishQualityInfos.push(t)}t.infos.push({audio_bitrate:Math.round(e.audioBitrate)||0,video_bitrate:Math.round(e.videoBitrate)||0,video_capture_fps:Math.round(10*e.videoFPS)||0,video_network_fps:Math.round(10*e.videoTransferFPS)||0,uplink_plr:e.audioPacketsLostRate,rtt:Math.round(1e3*e.currentRoundTripTime)||0,audio_network_fps:Math.round(10*e.audioFPS),captured_sound_level:Math.round(e.audioLevel),sample_time_window:Math.round(e.sampleTimeWindow/10)})},t.prototype.handlePlayQualityData=function(e){var t,r=this.playQualityInfos.find((function(t){return t.stream_id==e.stream_id&&t.video_width==e.frameWidth&&t.video_height==e.frameHeight}));if(!r){var i=this.getRoomByStreamID(e.stream_id),o=null===(t=this.playerList[e.stream_id])||void 0===t?void 0:t.player;r={timestamp_offset_begin:Math.abs(Number(e.timeStamp-this.qualityHeadTimestamp)),timestamp_offset_end:0,stream_id:e.stream_id,session_id:i?Number(i.sessionID):0,video_width:e.frameWidth,video_height:e.frameHeight,infos:[],room_id:i?i.roomID:\"\",room_session_id:i?Number(i.roomSessionID):0,resource_type:0===(null==o?void 0:o.resourceMode)?2:3},this.playQualityInfos.push(r)}r.infos.push({audio_bitrate:Math.round(e.audioBitrate)||0,video_bitrate:Math.round(e.videoBitrate)||0,video_network_fps:Math.round(10*e.videoFPS)||0,downlink_plr:Math.round(e.audioPacketsLostRate)||0,audio_network_fps:Math.round(10*e.audioFPS)||0,audio_break_duration:Math.round(e.audio_break_duration/10),video_break_duration:Math.round(e.video_break_duration/10),rtt:Math.round(1e3*e.currentRoundTripTime)||0,rendered_sound_level:Math.round(e.audioLevel),audio_break_cancel_duration:Math.round(e.audio_break_cancel_duration/10),video_break_cancel_duration:Math.round(e.video_break_cancel_duration/10),audio_decode_time:Math.round(e.audio_decode_time/10),video_decode_time:Math.round(e.video_decode_time/10),real_sampling_interval:Math.round(e.real_sampling_interval/10),video_frames_decoded:Math.round(e.videoFramesDecoded)||0,video_frames_dropped:Math.round(e.videoFramesDropped)||0,sample_time_window:Math.round(e.sampleTimeWindow/10),peer_to_peer_plr:e.peerToPeerPacketLostRate,peer_to_peer_delay:e.peerToPeerDelay})},t.prototype.setIsPeer=function(e){this.isPeer=e,Object.values(this.publisherList).forEach((function(t){t.publisher.isPeer=e})),Object.values(this.playerList).forEach((function(t){t.player.isPeer=e}))},t}(l.ZegoStreamCenter);t.ZegoStreamCenterWeb=T},2990:function(e,t,r){\"use strict\";var i,o=r(4799),n=o.Writer,s=o.util,a=o.roots.default||(o.roots.default={});a.logreport=((i={}).SpeedLogHead=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.version=0,e.prototype.signature=s.newBuffer([]),e.prototype.timestamp=0,e.prototype.event=0,e.prototype.app_id=0,e.prototype.user_id=\"\",e.prototype.biz_type=0,e.prototype.device_id=\"\",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.version&&Object.hasOwnProperty.call(e,\"version\")&&t.uint32(8).uint32(e.version),null!=e.signature&&Object.hasOwnProperty.call(e,\"signature\")&&t.uint32(18).bytes(e.signature),null!=e.timestamp&&Object.hasOwnProperty.call(e,\"timestamp\")&&t.uint32(24).uint32(e.timestamp),null!=e.event&&Object.hasOwnProperty.call(e,\"event\")&&t.uint32(32).uint32(e.event),null!=e.app_id&&Object.hasOwnProperty.call(e,\"app_id\")&&t.uint32(40).uint32(e.app_id),null!=e.user_id&&Object.hasOwnProperty.call(e,\"user_id\")&&t.uint32(50).string(e.user_id),null!=e.biz_type&&Object.hasOwnProperty.call(e,\"biz_type\")&&t.uint32(56).uint32(e.biz_type),null!=e.device_id&&Object.hasOwnProperty.call(e,\"device_id\")&&t.uint32(66).string(e.device_id),t},e.ProtoVersion=(t={},(r=Object.create(t))[t[0]=\"PROTO_VERSION\"]=0,r[t[1]=\"PROTO_VERSION1\"]=1,r[t[2]=\"PROTO_VERSION2\"]=2,r[t[3]=\"PROTO_VERSION3\"]=3,r[t[4]=\"PROTO_VERSION4\"]=4,r[t[5]=\"PROTO_VERSION5\"]=5,r[t[6]=\"PROTO_VERSION6\"]=6,r),e.Event=function(){var e={},t=Object.create(e);return t[e[0]=\"QUALITY_EVENT\"]=0,t[e[100]=\"NO_BILLING_EVENT\"]=100,t[e[300]=\"DETECT_QUALITY_EVENT\"]=300,t}(),e.BizType=function(){var e={},t=Object.create(e);return t[e[0]=\"UNKNOWN\"]=0,t[e[1]=\"LIVE\"]=1,t[e[2]=\"RTV\"]=2,t}(),e}(),i.SpeedLogRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.code=0,e.prototype.message=\"\",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.code&&Object.hasOwnProperty.call(e,\"code\")&&t.uint32(8).uint32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,\"message\")&&t.uint32(18).string(e.message),t},e}(),i.QualityEvent=function(){function e(e){if(this.publish_quality_infos=[],this.play_quality_infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.hardware_infos=null,e.prototype.publish_quality_infos=s.emptyArray,e.prototype.play_quality_infos=s.emptyArray,e.prototype.network_type=0,e.prototype.charge_infos=null,e.prototype.client_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.hardware_infos&&Object.hasOwnProperty.call(e,\"hardware_infos\")&&a.logreport.HardwareInfos.encode(e.hardware_infos,t.uint32(10).fork()).ldelim(),null!=e.publish_quality_infos&&e.publish_quality_infos.length)for(var r=0;r<e.publish_quality_infos.length;++r)a.logreport.PublishQualityInfos.encode(e.publish_quality_infos[r],t.uint32(18).fork()).ldelim();if(null!=e.play_quality_infos&&e.play_quality_infos.length)for(r=0;r<e.play_quality_infos.length;++r)a.logreport.PlayQualityInfos.encode(e.play_quality_infos[r],t.uint32(26).fork()).ldelim();return null!=e.network_type&&Object.hasOwnProperty.call(e,\"network_type\")&&t.uint32(32).uint32(e.network_type),null!=e.charge_infos&&Object.hasOwnProperty.call(e,\"charge_infos\")&&a.logreport.ChargeInfos.encode(e.charge_infos,t.uint32(42).fork()).ldelim(),null!=e.client_type&&Object.hasOwnProperty.call(e,\"client_type\")&&t.uint32(800).uint32(e.client_type),t},e.ResourceType=(t={},(r=Object.create(t))[t[0]=\"UNKNOWN\"]=0,r[t[1]=\"CDN\"]=1,r[t[2]=\"RTC\"]=2,r[t[3]=\"L3\"]=3,r),e}(),i.HardwareInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=0,e.prototype.timestamp_offset_end=0,e.prototype.infos=s.emptyArray,e.prototype.sys_mem_total=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,\"timestamp_offset_begin\")&&t.uint32(8).uint32(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,\"timestamp_offset_end\")&&t.uint32(16).uint32(e.timestamp_offset_end),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)a.logreport.HardwareInfo.encode(e.infos[r],t.uint32(26).fork()).ldelim();return null!=e.sys_mem_total&&Object.hasOwnProperty.call(e,\"sys_mem_total\")&&t.uint32(32).uint32(e.sys_mem_total),t},e}(),i.PublishQualityInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=0,e.prototype.timestamp_offset_end=0,e.prototype.stream_id=\"\",e.prototype.session_id=0,e.prototype.video_width=0,e.prototype.video_height=0,e.prototype.ipv4=0,e.prototype.ipv6=\"\",e.prototype.resource_type=0,e.prototype.infos=s.emptyArray,e.prototype.room_id=\"\",e.prototype.evnvironment=0,e.prototype.ap=\"\",e.prototype.session=\"\",e.prototype.room_session_id=s.Long?s.Long.fromBits(0,0,!0):0,e.prototype.protocol_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,\"timestamp_offset_begin\")&&t.uint32(8).uint32(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,\"timestamp_offset_end\")&&t.uint32(16).uint32(e.timestamp_offset_end),null!=e.stream_id&&Object.hasOwnProperty.call(e,\"stream_id\")&&t.uint32(26).string(e.stream_id),null!=e.session_id&&Object.hasOwnProperty.call(e,\"session_id\")&&t.uint32(32).uint32(e.session_id),null!=e.video_width&&Object.hasOwnProperty.call(e,\"video_width\")&&t.uint32(40).uint32(e.video_width),null!=e.video_height&&Object.hasOwnProperty.call(e,\"video_height\")&&t.uint32(48).uint32(e.video_height),null!=e.ipv4&&Object.hasOwnProperty.call(e,\"ipv4\")&&t.uint32(56).uint32(e.ipv4),null!=e.ipv6&&Object.hasOwnProperty.call(e,\"ipv6\")&&t.uint32(66).string(e.ipv6),null!=e.resource_type&&Object.hasOwnProperty.call(e,\"resource_type\")&&t.uint32(72).uint32(e.resource_type),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)a.logreport.PublishQualityInfo.encode(e.infos[r],t.uint32(82).fork()).ldelim();return null!=e.room_id&&Object.hasOwnProperty.call(e,\"room_id\")&&t.uint32(90).string(e.room_id),null!=e.evnvironment&&Object.hasOwnProperty.call(e,\"evnvironment\")&&t.uint32(104).uint32(e.evnvironment),null!=e.ap&&Object.hasOwnProperty.call(e,\"ap\")&&t.uint32(114).string(e.ap),null!=e.session&&Object.hasOwnProperty.call(e,\"session\")&&t.uint32(122).string(e.session),null!=e.room_session_id&&Object.hasOwnProperty.call(e,\"room_session_id\")&&t.uint32(128).uint64(e.room_session_id),null!=e.protocol_type&&Object.hasOwnProperty.call(e,\"protocol_type\")&&t.uint32(136).uint32(e.protocol_type),t},e}(),i.PlayQualityInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=0,e.prototype.timestamp_offset_end=0,e.prototype.stream_id=\"\",e.prototype.session_id=0,e.prototype.video_width=0,e.prototype.video_height=0,e.prototype.ipv4=0,e.prototype.ipv6=\"\",e.prototype.resource_type=0,e.prototype.infos=s.emptyArray,e.prototype.room_id=\"\",e.prototype.session=\"\",e.prototype.room_session_id=s.Long?s.Long.fromBits(0,0,!0):0,e.prototype.protocol_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,\"timestamp_offset_begin\")&&t.uint32(8).uint32(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,\"timestamp_offset_end\")&&t.uint32(16).uint32(e.timestamp_offset_end),null!=e.stream_id&&Object.hasOwnProperty.call(e,\"stream_id\")&&t.uint32(26).string(e.stream_id),null!=e.session_id&&Object.hasOwnProperty.call(e,\"session_id\")&&t.uint32(32).uint32(e.session_id),null!=e.video_width&&Object.hasOwnProperty.call(e,\"video_width\")&&t.uint32(40).uint32(e.video_width),null!=e.video_height&&Object.hasOwnProperty.call(e,\"video_height\")&&t.uint32(48).uint32(e.video_height),null!=e.ipv4&&Object.hasOwnProperty.call(e,\"ipv4\")&&t.uint32(56).uint32(e.ipv4),null!=e.ipv6&&Object.hasOwnProperty.call(e,\"ipv6\")&&t.uint32(66).string(e.ipv6),null!=e.resource_type&&Object.hasOwnProperty.call(e,\"resource_type\")&&t.uint32(72).uint32(e.resource_type),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)a.logreport.PlayQualityInfo.encode(e.infos[r],t.uint32(82).fork()).ldelim();return null!=e.room_id&&Object.hasOwnProperty.call(e,\"room_id\")&&t.uint32(90).string(e.room_id),null!=e.session&&Object.hasOwnProperty.call(e,\"session\")&&t.uint32(106).string(e.session),null!=e.room_session_id&&Object.hasOwnProperty.call(e,\"room_session_id\")&&t.uint32(112).uint64(e.room_session_id),null!=e.protocol_type&&Object.hasOwnProperty.call(e,\"protocol_type\")&&t.uint32(120).uint32(e.protocol_type),t},e}(),i.ChargeInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=0,e.prototype.timestamp_offset_end=0,e.prototype.timestamp_diff_flag=0,e.prototype.timestamp_diff=0,e.prototype.room_id=\"\",e.prototype.infos=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,\"timestamp_offset_begin\")&&t.uint32(8).uint32(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,\"timestamp_offset_end\")&&t.uint32(16).uint32(e.timestamp_offset_end),null!=e.timestamp_diff_flag&&Object.hasOwnProperty.call(e,\"timestamp_diff_flag\")&&t.uint32(24).uint32(e.timestamp_diff_flag),null!=e.timestamp_diff&&Object.hasOwnProperty.call(e,\"timestamp_diff\")&&t.uint32(32).uint32(e.timestamp_diff),null!=e.room_id&&Object.hasOwnProperty.call(e,\"room_id\")&&t.uint32(42).string(e.room_id),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)a.logreport.ChargeInfo.encode(e.infos[r],t.uint32(802).fork()).ldelim();return t},e}(),i.HardwareInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.sys_cpu_used=0,e.prototype.app_cpu_used=0,e.prototype.sys_mem_used=0,e.prototype.app_mem_used=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.sys_cpu_used&&Object.hasOwnProperty.call(e,\"sys_cpu_used\")&&t.uint32(8).uint32(e.sys_cpu_used),null!=e.app_cpu_used&&Object.hasOwnProperty.call(e,\"app_cpu_used\")&&t.uint32(16).uint32(e.app_cpu_used),null!=e.sys_mem_used&&Object.hasOwnProperty.call(e,\"sys_mem_used\")&&t.uint32(24).uint32(e.sys_mem_used),null!=e.app_mem_used&&Object.hasOwnProperty.call(e,\"app_mem_used\")&&t.uint32(32).uint32(e.app_mem_used),t},e}(),i.PublishQualityInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.audio_bitrate=0,e.prototype.video_bitrate=0,e.prototype.video_capture_fps=0,e.prototype.video_network_fps=0,e.prototype.uplink_plr=0,e.prototype.rtt=0,e.prototype.audio_network_fps=0,e.prototype.captured_sound_level=0,e.prototype.sample_time_window=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.audio_bitrate&&Object.hasOwnProperty.call(e,\"audio_bitrate\")&&t.uint32(8).uint32(e.audio_bitrate),null!=e.video_bitrate&&Object.hasOwnProperty.call(e,\"video_bitrate\")&&t.uint32(16).uint32(e.video_bitrate),null!=e.video_capture_fps&&Object.hasOwnProperty.call(e,\"video_capture_fps\")&&t.uint32(24).uint32(e.video_capture_fps),null!=e.video_network_fps&&Object.hasOwnProperty.call(e,\"video_network_fps\")&&t.uint32(32).uint32(e.video_network_fps),null!=e.uplink_plr&&Object.hasOwnProperty.call(e,\"uplink_plr\")&&t.uint32(40).uint32(e.uplink_plr),null!=e.rtt&&Object.hasOwnProperty.call(e,\"rtt\")&&t.uint32(48).uint32(e.rtt),null!=e.audio_network_fps&&Object.hasOwnProperty.call(e,\"audio_network_fps\")&&t.uint32(56).uint32(e.audio_network_fps),null!=e.captured_sound_level&&Object.hasOwnProperty.call(e,\"captured_sound_level\")&&t.uint32(64).uint32(e.captured_sound_level),null!=e.sample_time_window&&Object.hasOwnProperty.call(e,\"sample_time_window\")&&t.uint32(800).uint32(e.sample_time_window),t},e}(),i.PlayQualityInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.audio_bitrate=0,e.prototype.video_bitrate=0,e.prototype.video_network_fps=0,e.prototype.audio_break_count=0,e.prototype.video_break_count=0,e.prototype.downlink_plr=0,e.prototype.peer_to_peer_plr=0,e.prototype.peer_to_peer_delay=0,e.prototype.audio_network_fps=0,e.prototype.audio_break_duration=0,e.prototype.video_break_duration=0,e.prototype.audio_break_rate=0,e.prototype.video_break_rate=0,e.prototype.audio_break_cancel=0,e.prototype.video_break_cancel=0,e.prototype.rtt=0,e.prototype.rendered_sound_level=0,e.prototype.audio_break_cancel_duration=0,e.prototype.video_break_cancel_duration=0,e.prototype.audio_decode_time=0,e.prototype.video_decode_time=0,e.prototype.real_sampling_interval=0,e.prototype.mos=0,e.prototype.audio_decode_fps=0,e.prototype.video_decode_fps=0,e.prototype.video_frames_decoded=0,e.prototype.video_frames_dropped=0,e.prototype.sample_time_window=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.audio_bitrate&&Object.hasOwnProperty.call(e,\"audio_bitrate\")&&t.uint32(8).uint32(e.audio_bitrate),null!=e.video_bitrate&&Object.hasOwnProperty.call(e,\"video_bitrate\")&&t.uint32(16).uint32(e.video_bitrate),null!=e.video_network_fps&&Object.hasOwnProperty.call(e,\"video_network_fps\")&&t.uint32(24).uint32(e.video_network_fps),null!=e.audio_break_count&&Object.hasOwnProperty.call(e,\"audio_break_count\")&&t.uint32(32).uint32(e.audio_break_count),null!=e.video_break_count&&Object.hasOwnProperty.call(e,\"video_break_count\")&&t.uint32(40).uint32(e.video_break_count),null!=e.downlink_plr&&Object.hasOwnProperty.call(e,\"downlink_plr\")&&t.uint32(48).uint32(e.downlink_plr),null!=e.peer_to_peer_plr&&Object.hasOwnProperty.call(e,\"peer_to_peer_plr\")&&t.uint32(56).uint32(e.peer_to_peer_plr),null!=e.peer_to_peer_delay&&Object.hasOwnProperty.call(e,\"peer_to_peer_delay\")&&t.uint32(64).uint32(e.peer_to_peer_delay),null!=e.audio_network_fps&&Object.hasOwnProperty.call(e,\"audio_network_fps\")&&t.uint32(72).uint32(e.audio_network_fps),null!=e.audio_break_duration&&Object.hasOwnProperty.call(e,\"audio_break_duration\")&&t.uint32(80).uint32(e.audio_break_duration),null!=e.video_break_duration&&Object.hasOwnProperty.call(e,\"video_break_duration\")&&t.uint32(88).uint32(e.video_break_duration),null!=e.audio_break_rate&&Object.hasOwnProperty.call(e,\"audio_break_rate\")&&t.uint32(96).uint32(e.audio_break_rate),null!=e.video_break_rate&&Object.hasOwnProperty.call(e,\"video_break_rate\")&&t.uint32(104).uint32(e.video_break_rate),null!=e.audio_break_cancel&&Object.hasOwnProperty.call(e,\"audio_break_cancel\")&&t.uint32(112).uint32(e.audio_break_cancel),null!=e.video_break_cancel&&Object.hasOwnProperty.call(e,\"video_break_cancel\")&&t.uint32(120).uint32(e.video_break_cancel),null!=e.rtt&&Object.hasOwnProperty.call(e,\"rtt\")&&t.uint32(128).uint32(e.rtt),null!=e.rendered_sound_level&&Object.hasOwnProperty.call(e,\"rendered_sound_level\")&&t.uint32(136).uint32(e.rendered_sound_level),null!=e.audio_break_cancel_duration&&Object.hasOwnProperty.call(e,\"audio_break_cancel_duration\")&&t.uint32(144).uint32(e.audio_break_cancel_duration),null!=e.video_break_cancel_duration&&Object.hasOwnProperty.call(e,\"video_break_cancel_duration\")&&t.uint32(152).uint32(e.video_break_cancel_duration),null!=e.audio_decode_time&&Object.hasOwnProperty.call(e,\"audio_decode_time\")&&t.uint32(160).uint32(e.audio_decode_time),null!=e.video_decode_time&&Object.hasOwnProperty.call(e,\"video_decode_time\")&&t.uint32(168).uint32(e.video_decode_time),null!=e.real_sampling_interval&&Object.hasOwnProperty.call(e,\"real_sampling_interval\")&&t.uint32(176).uint32(e.real_sampling_interval),null!=e.mos&&Object.hasOwnProperty.call(e,\"mos\")&&t.uint32(184).int32(e.mos),null!=e.audio_decode_fps&&Object.hasOwnProperty.call(e,\"audio_decode_fps\")&&t.uint32(192).uint32(e.audio_decode_fps),null!=e.video_decode_fps&&Object.hasOwnProperty.call(e,\"video_decode_fps\")&&t.uint32(200).uint32(e.video_decode_fps),null!=e.video_frames_decoded&&Object.hasOwnProperty.call(e,\"video_frames_decoded\")&&t.uint32(208).uint32(e.video_frames_decoded),null!=e.video_frames_dropped&&Object.hasOwnProperty.call(e,\"video_frames_dropped\")&&t.uint32(216).uint32(e.video_frames_dropped),null!=e.sample_time_window&&Object.hasOwnProperty.call(e,\"sample_time_window\")&&t.uint32(800).uint32(e.sample_time_window),t},e}(),i.ChargeInfo=function(){function e(e){if(this.play_stream_resolution_infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.is_publishing=0,e.prototype.play_stream_resolution_infos=s.emptyArray,e.prototype.play_max_audio_bitrate=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.is_publishing&&Object.hasOwnProperty.call(e,\"is_publishing\")&&t.uint32(8).uint32(e.is_publishing),null!=e.play_stream_resolution_infos&&e.play_stream_resolution_infos.length)for(var r=0;r<e.play_stream_resolution_infos.length;++r)a.logreport.ResolutionInfo.encode(e.play_stream_resolution_infos[r],t.uint32(18).fork()).ldelim();return null!=e.play_max_audio_bitrate&&Object.hasOwnProperty.call(e,\"play_max_audio_bitrate\")&&t.uint32(24).uint32(e.play_max_audio_bitrate),t},e}(),i.ResolutionInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.video_width=0,e.prototype.video_height=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.video_width&&Object.hasOwnProperty.call(e,\"video_width\")&&t.uint32(8).uint32(e.video_width),null!=e.video_height&&Object.hasOwnProperty.call(e,\"video_height\")&&t.uint32(16).uint32(e.video_height),null!=e.count&&Object.hasOwnProperty.call(e,\"count\")&&t.uint32(24).uint32(e.count),t},e}(),i.NoBillingEvent=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.platform_info=\"\",e.prototype.room_id=\"\",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.platform_info&&Object.hasOwnProperty.call(e,\"platform_info\")&&t.uint32(10).string(e.platform_info),null!=e.room_id&&Object.hasOwnProperty.call(e,\"room_id\")&&t.uint32(18).string(e.room_id),t},e}(),i.DynQualityEvent=function(){function e(e){if(this.dyn_quality_infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.seq_no=\"\",e.prototype.num=0,e.prototype.dyn_quality_infos=s.emptyArray,e.prototype.device_id=\"\",e.prototype.latitude=0,e.prototype.longitude=0,e.prototype.country=\"\",e.prototype.region=\"\",e.prototype.city=\"\",e.prototype.isp=\"\",e.prototype.ve_mode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.seq_no&&Object.hasOwnProperty.call(e,\"seq_no\")&&t.uint32(10).string(e.seq_no),null!=e.num&&Object.hasOwnProperty.call(e,\"num\")&&t.uint32(16).uint32(e.num),null!=e.dyn_quality_infos&&e.dyn_quality_infos.length)for(var r=0;r<e.dyn_quality_infos.length;++r)a.logreport.DynQualityInfos.encode(e.dyn_quality_infos[r],t.uint32(26).fork()).ldelim();return null!=e.device_id&&Object.hasOwnProperty.call(e,\"device_id\")&&t.uint32(34).string(e.device_id),null!=e.latitude&&Object.hasOwnProperty.call(e,\"latitude\")&&t.uint32(40).uint32(e.latitude),null!=e.longitude&&Object.hasOwnProperty.call(e,\"longitude\")&&t.uint32(48).uint32(e.longitude),null!=e.country&&Object.hasOwnProperty.call(e,\"country\")&&t.uint32(58).string(e.country),null!=e.region&&Object.hasOwnProperty.call(e,\"region\")&&t.uint32(66).string(e.region),null!=e.city&&Object.hasOwnProperty.call(e,\"city\")&&t.uint32(74).string(e.city),null!=e.isp&&Object.hasOwnProperty.call(e,\"isp\")&&t.uint32(82).string(e.isp),null!=e.ve_mode&&Object.hasOwnProperty.call(e,\"ve_mode\")&&t.uint32(88).uint32(e.ve_mode),t},e}(),i.DynQualityInfos=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timestamp_offset_begin=s.Long?s.Long.fromBits(0,0,!0):0,e.prototype.timestamp_offset_end=s.Long?s.Long.fromBits(0,0,!0):0,e.prototype.server_ip=\"\",e.prototype.infos=s.emptyArray,e.prototype.network_type=0,e.prototype.stream_id=\"\",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=n.create()),null!=e.timestamp_offset_begin&&Object.hasOwnProperty.call(e,\"timestamp_offset_begin\")&&t.uint32(8).uint64(e.timestamp_offset_begin),null!=e.timestamp_offset_end&&Object.hasOwnProperty.call(e,\"timestamp_offset_end\")&&t.uint32(16).uint64(e.timestamp_offset_end),null!=e.server_ip&&Object.hasOwnProperty.call(e,\"server_ip\")&&t.uint32(26).string(e.server_ip),null!=e.infos&&e.infos.length)for(var r=0;r<e.infos.length;++r)a.logreport.DynQualityInfo.encode(e.infos[r],t.uint32(34).fork()).ldelim();return null!=e.network_type&&Object.hasOwnProperty.call(e,\"network_type\")&&t.uint32(40).uint32(e.network_type),null!=e.stream_id&&Object.hasOwnProperty.call(e,\"stream_id\")&&t.uint32(50).string(e.stream_id),t},e}(),i.DynQualityInfo=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.time=s.Long?s.Long.fromBits(0,0,!0):0,e.prototype.plr=0,e.prototype.rtt=0,e.prototype.score=0,e.prototype.sample_time=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=n.create()),null!=e.time&&Object.hasOwnProperty.call(e,\"time\")&&t.uint32(8).uint64(e.time),null!=e.plr&&Object.hasOwnProperty.call(e,\"plr\")&&t.uint32(16).uint32(e.plr),null!=e.rtt&&Object.hasOwnProperty.call(e,\"rtt\")&&t.uint32(24).uint32(e.rtt),null!=e.score&&Object.hasOwnProperty.call(e,\"score\")&&t.uint32(32).uint32(e.score),null!=e.sample_time&&Object.hasOwnProperty.call(e,\"sample_time\")&&t.uint32(40).uint32(e.sample_time),t},e}(),i),e.exports=a},6348:function(e,t,r){\"use strict\";var i,o=r(4799),n=o.Reader,s=o.Writer,a=o.util,c=o.roots.default||(o.roots.default={});c.webrtc_cmd=((i={}).MetadataPush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.width=0,e.prototype.height=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.width&&Object.hasOwnProperty.call(e,\"width\")&&t.uint32(8).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,\"height\")&&t.uint32(16).uint32(e.height),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.MetadataPush;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:i.width=e.uint32();break;case 2:i.height=e.uint32();break;default:e.skipType(7&o)}}return i},e}(),i.MetadataAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.result&&Object.hasOwnProperty.call(e,\"result\")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.MetadataAck;e.pos<r;){var o=e.uint32();o>>>3==1?i.result=e.sint32():e.skipType(7&o)}return i},e}(),i.VideoStreamSubscribeReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(8).uint32(e.type),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.VideoStreamSubscribeReq;e.pos<r;){var o=e.uint32();o>>>3==1?i.type=e.uint32():e.skipType(7&o)}return i},e}(),i.VideoStreamSubscribeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.result&&Object.hasOwnProperty.call(e,\"result\")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.VideoStreamSubscribeRsp;e.pos<r;){var o=e.uint32();o>>>3==1?i.result=e.sint32():e.skipType(7&o)}return i},e}(),i.VideoStreamFallbackTypeReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(8).uint32(e.type),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.VideoStreamFallbackTypeReq;e.pos<r;){var o=e.uint32();o>>>3==1?i.type=e.uint32():e.skipType(7&o)}return i},e}(),i.VideoStreamFallbackTypeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.result&&Object.hasOwnProperty.call(e,\"result\")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.VideoStreamFallbackTypeRsp;e.pos<r;){var o=e.uint32();o>>>3==1?i.result=e.sint32():e.skipType(7&o)}return i},e}(),i.VideoStreamChangePush=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.change_type=0,e.prototype.video_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.change_type&&Object.hasOwnProperty.call(e,\"change_type\")&&t.uint32(8).uint32(e.change_type),null!=e.video_type&&Object.hasOwnProperty.call(e,\"video_type\")&&t.uint32(16).uint32(e.video_type),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.VideoStreamChangePush;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:i.change_type=e.uint32();break;case 2:i.video_type=e.uint32();break;default:e.skipType(7&o)}}return i},e}(),i.VideoStreamChangeAck=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.result&&Object.hasOwnProperty.call(e,\"result\")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.VideoStreamChangeAck;e.pos<r;){var o=e.uint32();o>>>3==1?i.result=e.sint32():e.skipType(7&o)}return i},e}(),i.UserUnregisteredSEIFilterReq=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.sei_filter=\"\",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.sei_filter&&Object.hasOwnProperty.call(e,\"sei_filter\")&&t.uint32(10).string(e.sei_filter),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.UserUnregisteredSEIFilterReq;e.pos<r;){var o=e.uint32();o>>>3==1?i.sei_filter=e.string():e.skipType(7&o)}return i},e}(),i.UserUnregisteredSEIFilterRsp=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.result=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.result&&Object.hasOwnProperty.call(e,\"result\")&&t.uint32(8).sint32(e.result),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.UserUnregisteredSEIFilterRsp;e.pos<r;){var o=e.uint32();o>>>3==1?i.result=e.sint32():e.skipType(7&o)}return i},e}(),i.WebrtcCmdReqMsg=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.meta_data_push=null,e.prototype.video_stream_sub=null,e.prototype.video_fallback_type=null,e.prototype.video_change_push=null,e.prototype.usr_sei_filter=null,Object.defineProperty(e.prototype,\"body\",{get:a.oneOfGetter(t=[\"meta_data_push\",\"video_stream_sub\",\"video_fallback_type\",\"video_change_push\",\"usr_sei_filter\"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.meta_data_push&&Object.hasOwnProperty.call(e,\"meta_data_push\")&&c.webrtc_cmd.MetadataPush.encode(e.meta_data_push,t.uint32(10).fork()).ldelim(),null!=e.video_stream_sub&&Object.hasOwnProperty.call(e,\"video_stream_sub\")&&c.webrtc_cmd.VideoStreamSubscribeReq.encode(e.video_stream_sub,t.uint32(18).fork()).ldelim(),null!=e.video_fallback_type&&Object.hasOwnProperty.call(e,\"video_fallback_type\")&&c.webrtc_cmd.VideoStreamFallbackTypeReq.encode(e.video_fallback_type,t.uint32(26).fork()).ldelim(),null!=e.video_change_push&&Object.hasOwnProperty.call(e,\"video_change_push\")&&c.webrtc_cmd.VideoStreamChangePush.encode(e.video_change_push,t.uint32(34).fork()).ldelim(),null!=e.usr_sei_filter&&Object.hasOwnProperty.call(e,\"usr_sei_filter\")&&c.webrtc_cmd.UserUnregisteredSEIFilterReq.encode(e.usr_sei_filter,t.uint32(42).fork()).ldelim(),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.WebrtcCmdReqMsg;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:i.meta_data_push=c.webrtc_cmd.MetadataPush.decode(e,e.uint32());break;case 2:i.video_stream_sub=c.webrtc_cmd.VideoStreamSubscribeReq.decode(e,e.uint32());break;case 3:i.video_fallback_type=c.webrtc_cmd.VideoStreamFallbackTypeReq.decode(e,e.uint32());break;case 4:i.video_change_push=c.webrtc_cmd.VideoStreamChangePush.decode(e,e.uint32());break;case 5:i.usr_sei_filter=c.webrtc_cmd.UserUnregisteredSEIFilterReq.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},e}(),i.WebrtcCmdRspMsg=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.meta_data_ack=null,e.prototype.video_stream_sub=null,e.prototype.video_fallback_type=null,e.prototype.video_change_ack=null,e.prototype.usr_sei_filter=null,Object.defineProperty(e.prototype,\"body\",{get:a.oneOfGetter(t=[\"meta_data_ack\",\"video_stream_sub\",\"video_fallback_type\",\"video_change_ack\",\"usr_sei_filter\"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.meta_data_ack&&Object.hasOwnProperty.call(e,\"meta_data_ack\")&&c.webrtc_cmd.MetadataAck.encode(e.meta_data_ack,t.uint32(10).fork()).ldelim(),null!=e.video_stream_sub&&Object.hasOwnProperty.call(e,\"video_stream_sub\")&&c.webrtc_cmd.VideoStreamSubscribeRsp.encode(e.video_stream_sub,t.uint32(18).fork()).ldelim(),null!=e.video_fallback_type&&Object.hasOwnProperty.call(e,\"video_fallback_type\")&&c.webrtc_cmd.VideoStreamFallbackTypeRsp.encode(e.video_fallback_type,t.uint32(26).fork()).ldelim(),null!=e.video_change_ack&&Object.hasOwnProperty.call(e,\"video_change_ack\")&&c.webrtc_cmd.VideoStreamChangeAck.encode(e.video_change_ack,t.uint32(34).fork()).ldelim(),null!=e.usr_sei_filter&&Object.hasOwnProperty.call(e,\"usr_sei_filter\")&&c.webrtc_cmd.UserUnregisteredSEIFilterRsp.encode(e.usr_sei_filter,t.uint32(42).fork()).ldelim(),t},e.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new c.webrtc_cmd.WebrtcCmdRspMsg;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:i.meta_data_ack=c.webrtc_cmd.MetadataAck.decode(e,e.uint32());break;case 2:i.video_stream_sub=c.webrtc_cmd.VideoStreamSubscribeRsp.decode(e,e.uint32());break;case 3:i.video_fallback_type=c.webrtc_cmd.VideoStreamFallbackTypeRsp.decode(e,e.uint32());break;case 4:i.video_change_ack=c.webrtc_cmd.VideoStreamChangeAck.decode(e,e.uint32());break;case 5:i.usr_sei_filter=c.webrtc_cmd.UserUnregisteredSEIFilterRsp.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},e}(),i),e.exports=c},5515:function(e){e.exports=function(){function e(t,r,i){function o(s,a){if(!r[s]){if(!t[s]){if(n)return n(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var u=r[s]={exports:{}};t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,r,i)}return r[s].exports}for(var n=void 0,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,r){\"use strict\";var i=(0,e(\"./adapter_factory.js\").adapterFactory)({window:window});t.exports=i},{\"./adapter_factory.js\":2}],2:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.adapterFactory=d;var i=u(e(\"./utils\")),o=u(e(\"./chrome/chrome_shim\")),n=u(e(\"./edge/edge_shim\")),s=u(e(\"./firefox/firefox_shim\")),a=u(e(\"./safari/safari_shim\")),c=u(e(\"./common_shim\"));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function d(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=i.log,u=i.detectBrowser(e),d={browserDetails:u,commonShim:c,extractVersion:i.extractVersion,disableLog:i.disableLog,disableWarnings:i.disableWarnings};switch(u.browser){case\"chrome\":if(!o||!o.shimPeerConnection||!t.shimChrome)return r(\"Chrome shim is not included in this adapter release.\"),d;r(\"adapter.js shimming chrome.\"),d.browserShim=o,o.shimGetUserMedia(e),o.shimMediaStream(e),o.shimPeerConnection(e),o.shimOnTrack(e),o.shimAddTrackRemoveTrack(e),o.shimGetSendersWithDtmf(e),o.shimGetStats(e),o.shimSenderReceiverGetStats(e),o.fixNegotiationNeeded(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;case\"firefox\":if(!s||!s.shimPeerConnection||!t.shimFirefox)return r(\"Firefox shim is not included in this adapter release.\"),d;r(\"adapter.js shimming firefox.\"),d.browserShim=s,s.shimGetUserMedia(e),s.shimPeerConnection(e),s.shimOnTrack(e),s.shimRemoveStream(e),s.shimSenderGetStats(e),s.shimReceiverGetStats(e),s.shimRTCDataChannel(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case\"edge\":if(!n||!n.shimPeerConnection||!t.shimEdge)return r(\"MS edge shim is not included in this adapter release.\"),d;r(\"adapter.js shimming edge.\"),d.browserShim=n,n.shimGetUserMedia(e),n.shimGetDisplayMedia(e),n.shimPeerConnection(e),n.shimReplaceTrack(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case\"safari\":if(!a||!t.shimSafari)return r(\"Safari shim is not included in this adapter release.\"),d;r(\"adapter.js shimming safari.\"),d.browserShim=a,a.shimRTCIceServerUrls(e),a.shimCreateOfferLegacy(e),a.shimCallbacksAPI(e),a.shimLocalStreamsAPI(e),a.shimRemoteStreamsAPI(e),a.shimTrackEventTransceiver(e),a.shimGetUserMedia(e),c.shimRTCIceCandidate(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;default:r(\"Unsupported browser!\")}return d}},{\"./chrome/chrome_shim\":3,\"./common_shim\":6,\"./edge/edge_shim\":7,\"./firefox/firefox_shim\":11,\"./safari/safari_shim\":14,\"./utils\":15}],3:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=e(\"./getusermedia\");Object.defineProperty(r,\"shimGetUserMedia\",{enumerable:!0,get:function(){return o.shimGetUserMedia}});var n=e(\"./getdisplaymedia\");Object.defineProperty(r,\"shimGetDisplayMedia\",{enumerable:!0,get:function(){return n.shimGetDisplayMedia}}),r.shimMediaStream=c,r.shimOnTrack=u,r.shimGetSendersWithDtmf=d,r.shimGetStats=l,r.shimSenderReceiverGetStats=h,r.shimAddTrackRemoveTrackWithNative=p,r.shimAddTrackRemoveTrack=g,r.shimPeerConnection=f,r.fixNegotiationNeeded=m;var s=a(e(\"../utils.js\"));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function c(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function u(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection&&!(\"ontrack\"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,\"ontrack\",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener(\"addtrack\",(function(i){var o=void 0;o=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===i.track.id})):{track:i.track};var n=new Event(\"track\");n.track=i.track,n.receiver=o,n.transceiver={receiver:o},n.streams=[t.stream],r.dispatchEvent(n)})),t.stream.getTracks().forEach((function(i){var o=void 0;o=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===i.id})):{track:i};var n=new Event(\"track\");n.track=i,n.receiver=o,n.transceiver={receiver:o},n.streams=[t.stream],r.dispatchEvent(n)}))},this.addEventListener(\"addstream\",this._ontrackpoly)),t.apply(this,arguments)}}else s.wrapPeerConnectionEvent(e,\"track\",(function(e){return e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e}))}function d(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection&&!(\"getSenders\"in e.RTCPeerConnection.prototype)&&\"createDTMFSender\"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(this._dtmf=\"audio\"===t.kind?e.createDTMFSender(t):null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};var o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){o.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],s.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection&&\"getSenders\"in e.RTCPeerConnection.prototype&&\"createDTMFSender\"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!(\"dtmf\"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get:function(){return void 0===this._dtmf&&(this._dtmf=\"audio\"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function l(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,i){var o=this,n=arguments;if(arguments.length>0&&\"function\"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||\"function\"!=typeof arguments[0]))return t.apply(this,[]);var s=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},a=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?t.apply(this,[function(e){n[1](a(s(e)))},arguments[0]]):new Promise((function(e,r){t.apply(o,[function(t){e(a(s(t)))},r])})).then(r,i)}}}function h(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!(\"getStats\"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return s.filterStats(t,e.track,!0)}))}}if(!(\"getStats\"in e.RTCRtpReceiver.prototype)){var o=e.RTCPeerConnection.prototype.getReceivers;o&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=o.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),s.wrapPeerConnectionEvent(e,\"track\",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return s.filterStats(t,e.track,!1)}))}}if(\"getStats\"in e.RTCRtpSender.prototype&&\"getStats\"in e.RTCRtpReceiver.prototype){var n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],r=void 0,i=void 0,o=void 0;return this.getSenders().forEach((function(e){e.track===t&&(r?o=!0:r=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(i?o=!0:i=e),e.track===t})),o||r&&i?Promise.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):r?r.getStats():i?i.getStats():Promise.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return n.apply(this,arguments)}}}}function p(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(i)&&this._shimmedLocalStreams[r.id].push(i):this._shimmedLocalStreams[r.id]=[r,i],i};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}));var i=this.getSenders();r.apply(this,arguments);var o=this.getSenders().filter((function(e){return-1===i.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(o)};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};var o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(r){var i=t._shimmedLocalStreams[r].indexOf(e);-1!==i&&t._shimmedLocalStreams[r].splice(i,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),o.apply(this,arguments)}}function g(e){if(e.RTCPeerConnection){var t=s.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return p(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")})),!this._reverseStreams[t.id]){var o=new e.MediaStream(t.getTracks());this._streams[t.id]=o,this._reverseStreams[o.id]=t,t=o}i.apply(this,[t])};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var i=this;if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");var o=[].slice.call(arguments,1);if(1!==o.length||!o[0].getTracks().find((function(e){return e===t})))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var n=this._streams[r.id];if(n)n.addTrack(t),Promise.resolve().then((function(){i.dispatchEvent(new Event(\"negotiationneeded\"))}));else{var s=new e.MediaStream([t]);this._streams[r.id]=s,this._reverseStreams[s.id]=r,this.addStream(s)}return this.getSenders().find((function(e){return e.track===t}))},[\"createOffer\",\"createAnswer\"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&\"function\"==typeof arguments[0]?r.apply(this,[function(r){var i=c(e,r);t[0].apply(null,[i])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(t){return c(e,t)}))}}));var n=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=u(this,arguments[0]),n.apply(this,arguments)):n.apply(this,arguments)};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(e.RTCPeerConnection.prototype,\"localDescription\",{get:function(){var e=a.get.apply(this);return\"\"===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!e._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(e._pc!==this)throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");this._streams=this._streams||{};var r=void 0;Object.keys(this._streams).forEach((function(i){t._streams[i].getTracks().find((function(t){return e.track===t}))&&(r=t._streams[i])})),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(e.track),this.dispatchEvent(new Event(\"negotiationneeded\")))}}function c(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t];r=r.replace(new RegExp(e._streams[i.id].id,\"g\"),i.id)})),new RTCSessionDescription({type:t.type,sdp:r})}function u(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],o=e._streams[i.id];r=r.replace(new RegExp(i.id,\"g\"),o.id)})),new RTCSessionDescription({type:t.type,sdp:r})}}function f(e){if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}}));var t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function m(e){s.wrapPeerConnectionEvent(e,\"negotiationneeded\",(function(e){if(\"stable\"===e.target.signalingState)return e}))}},{\"../utils.js\":15,\"./getdisplaymedia\":4,\"./getusermedia\":5}],4:[function(e,t,r){\"use strict\";function i(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(\"function\"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var i=r.video&&r.video.width,o=r.video&&r.video.height;return r.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t,maxFrameRate:r.video&&r.video.frameRate||3}},i&&(r.video.mandatory.maxWidth=i),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"))}Object.defineProperty(r,\"__esModule\",{value:!0}),r.shimGetDisplayMedia=i},{}],5:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.shimGetUserMedia=a;var o=n(e(\"../utils.js\"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var s=o.log;function a(e){var t=e&&e.navigator;if(t.mediaDevices){var r=o.detectBrowser(e),n=function(e){if(\"object\"!==(void 0===e?\"undefined\":i(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(r){if(\"require\"!==r&&\"advanced\"!==r&&\"mediaSource\"!==r){var o=\"object\"===i(e[r])?e[r]:{ideal:e[r]};void 0!==o.exact&&\"number\"==typeof o.exact&&(o.min=o.max=o.exact);var n=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==o.ideal){t.optional=t.optional||[];var s={};\"number\"==typeof o.ideal?(s[n(\"min\",r)]=o.ideal,t.optional.push(s),(s={})[n(\"max\",r)]=o.ideal,t.optional.push(s)):(s[n(\"\",r)]=o.ideal,t.optional.push(s))}void 0!==o.exact&&\"number\"!=typeof o.exact?(t.mandatory=t.mandatory||{},t.mandatory[n(\"\",r)]=o.exact):[\"min\",\"max\"].forEach((function(e){void 0!==o[e]&&(t.mandatory=t.mandatory||{},t.mandatory[n(e,r)]=o[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,o){if(r.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&\"object\"===i(e.audio)){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,\"autoGainControl\",\"googAutoGainControl\"),a(e.audio,\"noiseSuppression\",\"googNoiseSuppression\"),e.audio=n(e.audio)}if(e&&\"object\"===i(e.video)){var c=e.video.facingMode;c=c&&(\"object\"===(void 0===c?\"undefined\":i(c))?c:{ideal:c});var u=r.version<66;if(c&&(\"user\"===c.exact||\"environment\"===c.exact||\"user\"===c.ideal||\"environment\"===c.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||u)){delete e.video.facingMode;var d=void 0;if(\"environment\"===c.exact||\"environment\"===c.ideal?d=[\"back\",\"rear\"]:\"user\"!==c.exact&&\"user\"!==c.ideal||(d=[\"front\"]),d)return t.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return\"videoinput\"===e.kind}))).find((function(e){return d.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&d.includes(\"back\")&&(r=t[t.length-1]),r&&(e.video.deviceId=c.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),s(\"chrome: \"+JSON.stringify(e)),o(e)}))}e.video=n(e.video)}return s(\"chrome: \"+JSON.stringify(e)),o(e)},c=function(e){return r.version>=64?e:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&\": \")+this.message}}},u=function(e,r,i){a(e,(function(e){t.webkitGetUserMedia(e,r,(function(e){i&&i(c(e))}))}))};if(t.getUserMedia=u.bind(t),t.mediaDevices.getUserMedia){var d=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return a(e,(function(e){return d(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException(\"\",\"NotFoundError\");return t}),(function(e){return Promise.reject(c(e))}))}))}}}}},{\"../utils.js\":15}],6:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.shimRTCIceCandidate=c,r.shimMaxMessageSize=u,r.shimSendThrowTypeError=d,r.shimConnectionState=l,r.removeAllowExtmapMixed=h;var o=a(e(\"sdp\")),n=s(e(\"./utils\"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function c(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&\"foundation\"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.candidate&&0===e.candidate.indexOf(\"a=\")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),n=o.default.parseCandidate(e.candidate),s=Object.assign(r,n);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,n.wrapPeerConnectionEvent(e,\"icecandidate\",(function(t){return t.candidate&&Object.defineProperty(t,\"candidate\",{value:new e.RTCIceCandidate(t.candidate),writable:\"false\"}),t}))}}function u(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=n.detectBrowser(e);\"sctp\"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,\"sctp\",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=function(e){if(!e||!e.sdp)return!1;var t=o.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=o.default.parseMLine(e);return t&&\"application\"===t.kind&&-1!==t.protocol.indexOf(\"SCTP\")}))},i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r},s=function(e){var r=65536;return\"firefox\"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r},a=function(e,r){var i=65536;\"firefox\"===t.browser&&57===t.version&&(i=65535);var n=o.default.matchPrefix(e.sdp,\"a=max-message-size:\");return n.length>0?i=parseInt(n[0].substr(19),10):\"firefox\"===t.browser&&-1!==r&&(i=2147483637),i},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,r(arguments[0])){var e=i(arguments[0]),t=s(e),o=a(arguments[0],e),n=void 0;n=0===t&&0===o?Number.POSITIVE_INFINITY:0===t||0===o?Math.max(t,o):Math.min(t,o);var u={};Object.defineProperty(u,\"maxMessageSize\",{get:function(){return n}}),this._sctp=u}return c.apply(this,arguments)}}}function d(e){if(e.RTCPeerConnection&&\"createDataChannel\"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},n.wrapPeerConnectionEvent(e,\"datachannel\",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var i=arguments[0];if(\"open\"===e.readyState&&t.sctp&&(i.length||i.size||i.byteLength)>t.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+t.sctp.maxMessageSize+\" bytes)\");return r.apply(e,arguments)}}}function l(e){if(e.RTCPeerConnection&&!(\"connectionState\"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,\"connectionState\",{get:function(){return{completed:\"connected\",checking:\"connecting\"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"onconnectionstatechange\",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener(\"connectionstatechange\",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener(\"connectionstatechange\",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),[\"setLocalDescription\",\"setRemoteDescription\"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event(\"connectionstatechange\",e);t.dispatchEvent(r)}return e},this.addEventListener(\"iceconnectionstatechange\",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}}function h(e){if(e.RTCPeerConnection){var t=n.detectBrowser(e);if(!(\"chrome\"===t.browser&&t.version>=71)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf(\"\\na=extmap-allow-mixed\")&&(e.sdp=e.sdp.split(\"\\n\").filter((function(e){return\"a=extmap-allow-mixed\"!==e.trim()})).join(\"\\n\")),r.apply(this,arguments)}}}}},{\"./utils\":15,sdp:17}],7:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var i=e(\"./getusermedia\");Object.defineProperty(r,\"shimGetUserMedia\",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var o=e(\"./getdisplaymedia\");Object.defineProperty(r,\"shimGetDisplayMedia\",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),r.shimPeerConnection=d,r.shimReplaceTrack=l;var n=u(e(\"../utils\")),s=e(\"./filtericeservers\"),a=c(e(\"rtcpeerconnection-shim\"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function d(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,\"enabled\");Object.defineProperty(e.MediaStreamTrack.prototype,\"enabled\",{set:function(e){r.set.call(this,e);var t=new Event(\"enabled\");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!(\"dtmf\"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get:function(){return void 0===this._dtmf&&(\"audio\"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):\"video\"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var i=(0,a.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,s.filterIceServers)(e.iceServers,t.version),n.log(\"ICE servers after filtering:\",e.iceServers)),new i(e)},e.RTCPeerConnection.prototype=i.prototype}function l(e){e.RTCRtpSender&&!(\"replaceTrack\"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}},{\"../utils\":15,\"./filtericeservers\":8,\"./getdisplaymedia\":9,\"./getusermedia\":10,\"rtcpeerconnection-shim\":16}],8:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.filterIceServers=n;var i=o(e(\"../utils\"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&i.deprecated(\"RTCIceServer.url\",\"RTCIceServer.urls\");var o=\"string\"==typeof t;return o&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf(\"stun:\"))return!1;var t=e.startsWith(\"turn\")&&!e.startsWith(\"turn:[\")&&e.includes(\"transport=udp\");return t&&!r?(r=!0,!0):t&&!r})),delete e.url,e.urls=o?t[0]:t,!!t.length}}))}},{\"../utils\":15}],9:[function(e,t,r){\"use strict\";function i(e){\"getDisplayMedia\"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}Object.defineProperty(r,\"__esModule\",{value:!0}),r.shimGetDisplayMedia=i},{}],10:[function(e,t,r){\"use strict\";function i(e){var t=e&&e.navigator,r=function(e){return{name:{PermissionDeniedError:\"NotAllowedError\"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},i=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e).catch((function(e){return Promise.reject(r(e))}))}}Object.defineProperty(r,\"__esModule\",{value:!0}),r.shimGetUserMedia=i},{}],11:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=e(\"./getusermedia\");Object.defineProperty(r,\"shimGetUserMedia\",{enumerable:!0,get:function(){return o.shimGetUserMedia}});var n=e(\"./getdisplaymedia\");Object.defineProperty(r,\"shimGetDisplayMedia\",{enumerable:!0,get:function(){return n.shimGetDisplayMedia}}),r.shimOnTrack=c,r.shimPeerConnection=u,r.shimSenderGetStats=d,r.shimReceiverGetStats=l,r.shimRemoveStream=h,r.shimRTCDataChannel=p;var s=a(e(\"../utils\"));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function c(e){\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get:function(){return{receiver:this.receiver}}})}function u(e){var t=s.detectBrowser(e);if(\"object\"===(void 0===e?\"undefined\":i(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var o={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,i){return n.apply(this,[e||null]).then((function(e){if(t.version<53&&!r)try{e.forEach((function(e){e.type=o[e.type]||e.type}))}catch(t){if(\"TypeError\"!==t.name)throw t;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:o[t.type]||t.type}))}))}return e})).then(r,i)}}}function d(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!(\"getStats\"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function l(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!(\"getStats\"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),s.wrapPeerConnectionEvent(e,\"track\",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function h(e){e.RTCPeerConnection&&!(\"removeStream\"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;s.deprecated(\"removeStream\",\"removeTrack\"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})}function p(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}},{\"../utils\":15,\"./getdisplaymedia\":12,\"./getusermedia\":13}],12:[function(e,t,r){\"use strict\";function i(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var i=new DOMException(\"getDisplayMedia without video constraints is undefined\");return i.name=\"NotFoundError\",i.code=8,Promise.reject(i)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}Object.defineProperty(r,\"__esModule\",{value:!0}),r.shimGetDisplayMedia=i},{}],13:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.shimGetUserMedia=s;var o=n(e(\"../utils\"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function s(e){var t=o.detectBrowser(e),r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,i){o.deprecated(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),r.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&\"autoGainControl\"in r.mediaDevices.getSupportedConstraints())){var s=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return\"object\"===(void 0===e?\"undefined\":i(e))&&\"object\"===i(e.audio)&&(e=JSON.parse(JSON.stringify(e)),s(e.audio,\"autoGainControl\",\"mozAutoGainControl\"),s(e.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),a(e)},n&&n.prototype.getSettings){var c=n.prototype.getSettings;n.prototype.getSettings=function(){var e=c.apply(this,arguments);return s(e,\"mozAutoGainControl\",\"autoGainControl\"),s(e,\"mozNoiseSuppression\",\"noiseSuppression\"),e}}if(n&&n.prototype.applyConstraints){var u=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return\"audio\"===this.kind&&\"object\"===(void 0===e?\"undefined\":i(e))&&(e=JSON.parse(JSON.stringify(e)),s(e,\"autoGainControl\",\"mozAutoGainControl\"),s(e,\"noiseSuppression\",\"mozNoiseSuppression\")),u.apply(this,[e])}}}}},{\"../utils\":15}],14:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.shimLocalStreamsAPI=s,r.shimRemoteStreamsAPI=a,r.shimCallbacksAPI=c,r.shimGetUserMedia=u,r.shimConstraints=d,r.shimRTCIceServerUrls=l,r.shimTrackEventTransceiver=h,r.shimCreateOfferLegacy=p;var o=n(e(\"../utils\"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function s(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection){if(\"getLocalStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!(\"addStream\"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getTracks().forEach((function(i){return t.call(r,i,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,r){return r&&(this._localStreams?this._localStreams.includes(r)||this._localStreams.push(r):this._localStreams=[r]),t.call(this,e,r)}}\"removeStream\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var i=e.getTracks();this.getSenders().forEach((function(e){i.includes(e.track)&&t.removeTrack(e)}))}})}}function a(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection&&(\"getRemoteStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,\"onaddstream\",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener(\"addstream\",this._onaddstream),this.removeEventListener(\"track\",this._onaddstreampoly)),this.addEventListener(\"addstream\",this._onaddstream=e),this.addEventListener(\"track\",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event(\"addstream\");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event(\"addstream\");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}}function c(e){if(\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,o=t.createAnswer,n=t.setLocalDescription,s=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var i=r.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var r=o.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return t?(r.then(e,t),Promise.resolve()):r};var c=function(e,t,r){var i=n.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i};t.setLocalDescription=c,t.setRemoteDescription=c=function(e,t,r){var i=s.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i},t.addIceCandidate=c=function(e,t,r){var i=a.apply(this,[e]);return r?(i.then(t,r),Promise.resolve()):i}}}function u(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,i=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return i(d(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,i){t.mediaDevices.getUserMedia(e).then(r,i)}.bind(t))}function d(e){return e&&void 0!==e.video?Object.assign({},e,{video:o.compactObject(e.video)}):e}function l(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var i=[],n=0;n<e.iceServers.length;n++){var s=e.iceServers[n];!s.hasOwnProperty(\"urls\")&&s.hasOwnProperty(\"url\")?(o.deprecated(\"RTCIceServer.url\",\"RTCIceServer.urls\"),(s=JSON.parse(JSON.stringify(s))).urls=s.url,delete s.url,i.push(s)):i.push(e.iceServers[n])}e.iceServers=i}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,\"generateCertificate\"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,\"generateCertificate\",{get:function(){return t.generateCertificate}})}function h(e){\"object\"===(void 0===e?\"undefined\":i(e))&&e.RTCPeerConnection&&\"receiver\"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get:function(){return{receiver:this.receiver}}})}function p(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return\"audio\"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?\"sendrecv\"===r.direction?r.setDirection?r.setDirection(\"sendonly\"):r.direction=\"sendonly\":\"recvonly\"===r.direction&&(r.setDirection?r.setDirection(\"inactive\"):r.direction=\"inactive\"):!0!==e.offerToReceiveAudio||r||this.addTransceiver(\"audio\"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=this.getTransceivers().find((function(e){return\"video\"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&i?\"sendrecv\"===i.direction?i.setDirection?i.setDirection(\"sendonly\"):i.direction=\"sendonly\":\"recvonly\"===i.direction&&(i.setDirection?i.setDirection(\"inactive\"):i.direction=\"inactive\"):!0!==e.offerToReceiveVideo||i||this.addTransceiver(\"video\")}return t.apply(this,arguments)}}},{\"../utils\":15}],15:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.extractVersion=a,r.wrapPeerConnectionEvent=c,r.disableLog=u,r.disableWarnings=d,r.log=l,r.deprecated=h,r.detectBrowser=p,r.compactObject=g,r.walkStats=f,r.filterStats=m;var n=!0,s=!0;function a(e,t,r){var i=e.match(t);return i&&i.length>=r&&parseInt(i[r],10)}function c(e,t,r){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,o=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return o.apply(this,arguments);var n=function(e){var t=r(e);t&&i(t)};return this._eventMap=this._eventMap||{},this._eventMap[i]=n,o.apply(this,[e,n])};var n=i.removeEventListener;i.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[r])return n.apply(this,arguments);var i=this._eventMap[r];return delete this._eventMap[r],n.apply(this,[e,i])},Object.defineProperty(i,\"on\"+t,{get:function(){return this[\"_on\"+t]},set:function(e){this[\"_on\"+t]&&(this.removeEventListener(t,this[\"_on\"+t]),delete this[\"_on\"+t]),e&&this.addEventListener(t,this[\"_on\"+t]=e)},enumerable:!0,configurable:!0})}}function u(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+(void 0===e?\"undefined\":i(e))+\". Please use a boolean.\"):(n=e,e?\"adapter.js logging disabled\":\"adapter.js logging enabled\")}function d(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+(void 0===e?\"undefined\":i(e))+\". Please use a boolean.\"):(s=!e,\"adapter.js deprecation warnings \"+(e?\"disabled\":\"enabled\"))}function l(){if(\"object\"===(\"undefined\"==typeof window?\"undefined\":i(window))){if(n)return;\"undefined\"!=typeof console&&\"function\"==typeof console.log&&console.log.apply(console,arguments)}}function h(e,t){s&&console.warn(e+\" is deprecated, please use \"+t+\" instead.\")}function p(e){var t=e.navigator,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser=\"Not a browser.\",r;if(t.mozGetUserMedia)r.browser=\"firefox\",r.version=a(t.userAgent,/Firefox\\/(\\d+)\\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)r.browser=\"chrome\",r.version=a(t.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\\/(\\d+).(\\d+)$/))r.browser=\"edge\",r.version=a(t.userAgent,/Edge\\/(\\d+).(\\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return r.browser=\"Not a supported browser.\",r;r.browser=\"safari\",r.version=a(t.userAgent,/AppleWebKit\\/(\\d+)\\./,1)}return r}function g(e){return\"object\"!==(void 0===e?\"undefined\":i(e))?e:Object.keys(e).reduce((function(t,r){var n=\"object\"===i(e[r]),s=n?g(e[r]):e[r],a=n&&!Object.keys(s).length;return void 0===s||a?t:Object.assign(t,o({},r,s))}),{})}function f(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((function(i){i.endsWith(\"Id\")?f(e,e.get(t[i]),r):i.endsWith(\"Ids\")&&t[i].forEach((function(t){f(e,e.get(t),r)}))})))}function m(e,t,r){var i=r?\"outbound-rtp\":\"inbound-rtp\",o=new Map;if(null===t)return o;var n=[];return e.forEach((function(e){\"track\"===e.type&&e.trackIdentifier===t.id&&n.push(e)})),n.forEach((function(t){e.forEach((function(r){r.type===i&&r.trackId===t.id&&f(e,r,o)}))})),o}},{}],16:[function(e,t,r){\"use strict\";var i=e(\"sdp\");function o(e){return{inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[e.type]||e.type}function n(e,t,r,o,n){var s=i.writeRtpDescription(e.kind,t);if(s+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),\"offer\"===r?\"actpass\":n||\"active\"),s+=\"a=mid:\"+e.mid+\"\\r\\n\",s+=e.rtpSender&&e.rtpReceiver?\"a=sendrecv\\r\\n\":e.rtpSender?\"a=sendonly\\r\\n\":e.rtpReceiver?\"a=recvonly\\r\\n\":\"a=inactive\\r\\n\",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var c=\"msid:\"+(o?o.id:\"-\")+\" \"+a+\"\\r\\n\";s+=\"a=\"+c,s+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" \"+c,e.sendEncodingParameters[0].rtx&&(s+=\"a=ssrc:\"+e.sendEncodingParameters[0].rtx.ssrc+\" \"+c,s+=\"a=ssrc-group:FID \"+e.sendEncodingParameters[0].ssrc+\" \"+e.sendEncodingParameters[0].rtx.ssrc+\"\\r\\n\")}return s+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" cname:\"+i.localCName+\"\\r\\n\",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+=\"a=ssrc:\"+e.sendEncodingParameters[0].rtx.ssrc+\" cname:\"+i.localCName+\"\\r\\n\"),s}function s(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&console.warn(\"RTCIceServer.url is deprecated! Use urls instead.\");var o=\"string\"==typeof i;return o&&(i=[i]),i=i.filter((function(e){return 0!==e.indexOf(\"turn:\")||-1===e.indexOf(\"transport=udp\")||-1!==e.indexOf(\"turn:[\")||r?0===e.indexOf(\"stun:\")&&t>=14393&&-1===e.indexOf(\"?transport=udp\"):(r=!0,!0)})),delete e.url,e.urls=o?i[0]:i,!!i.length}}))}function a(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},o=function(e,t,r,o){var n=i(e.parameters.apt,r),s=i(t.parameters.apt,o);return n&&s&&n.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach((function(i){for(var n=0;n<t.codecs.length;n++){var s=t.codecs[n];if(i.name.toLowerCase()===s.name.toLowerCase()&&i.clockRate===s.clockRate){if(\"rtx\"===i.name.toLowerCase()&&i.parameters&&s.parameters.apt&&!o(i,s,e.codecs,t.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(i.numChannels,s.numChannels),r.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter((function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var i=0;i<t.headerExtensions.length;i++){var o=t.headerExtensions[i];if(e.uri===o.uri){r.headerExtensions.push(o);break}}})),r}function c(e,t,r){return-1!=={offer:{setLocalDescription:[\"stable\",\"have-local-offer\"],setRemoteDescription:[\"stable\",\"have-remote-offer\"]},answer:{setLocalDescription:[\"have-remote-offer\",\"have-local-pranswer\"],setRemoteDescription:[\"have-local-offer\",\"have-remote-pranswer\"]}}[t][e].indexOf(r)}function u(e,t){var r=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return r||e.addRemoteCandidate(t),!r}function d(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}t.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent(\"addtrack\",{track:t}))}function l(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent(\"removetrack\",{track:t}))}function h(t,r,i,o){var n=new Event(\"track\");n.track=r,n.receiver=i,n.transceiver={receiver:i},n.streams=o,e.setTimeout((function(){t._dispatchEvent(\"track\",n)}))}var p=function(r){var o=this,n=document.createDocumentFragment();if([\"addEventListener\",\"removeEventListener\",\"dispatchEvent\"].forEach((function(e){o[e]=n[e].bind(n)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState=\"stable\",this.iceConnectionState=\"new\",this.connectionState=\"new\",this.iceGatheringState=\"new\",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle=\"max-bundle\"===r.bundlePolicy,\"negotiate\"===r.rtcpMuxPolicy)throw d(\"NotSupportedError\",\"rtcpMuxPolicy 'negotiate' is not supported\");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy=\"require\"),r.iceTransportPolicy){case\"all\":case\"relay\":break;default:r.iceTransportPolicy=\"all\"}switch(r.bundlePolicy){case\"balanced\":case\"max-compat\":case\"max-bundle\":break;default:r.bundlePolicy=\"balanced\"}if(r.iceServers=s(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var a=r.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=i.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(p.prototype,\"localDescription\",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(p.prototype,\"remoteDescription\",{configurable:!0,get:function(){return this._remoteDescription}}),p.prototype.onicecandidate=null,p.prototype.onaddstream=null,p.prototype.ontrack=null,p.prototype.onremovestream=null,p.prototype.onsignalingstatechange=null,p.prototype.oniceconnectionstatechange=null,p.prototype.onconnectionstatechange=null,p.prototype.onicegatheringstatechange=null,p.prototype.onnegotiationneeded=null,p.prototype.ondatachannel=null,p.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),\"function\"==typeof this[\"on\"+e]&&this[\"on\"+e](t))},p.prototype._emitGatheringStateChange=function(){var e=new Event(\"icegatheringstatechange\");this._dispatchEvent(\"icegatheringstatechange\",e)},p.prototype.getConfiguration=function(){return this._config},p.prototype.getLocalStreams=function(){return this.localStreams},p.prototype.getRemoteStreams=function(){return this.remoteStreams},p.prototype._createTransceiver=function(e,t){var r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},p.prototype.addTrack=function(t,r){if(this._isClosed)throw d(\"InvalidStateError\",\"Attempted to call addTrack on a closed peerconnection.\");var i;if(this.transceivers.find((function(e){return e.track===t})))throw d(\"InvalidAccessError\",\"Track already exists.\");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(i=this.transceivers[o]);return i||(i=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),i.track=t,i.stream=r,i.rtpSender=new e.RTCRtpSender(t,i.dtlsTransport),i.rtpSender},p.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach((function(t){r.addTrack(t,e)}));else{var i=e.clone();e.getTracks().forEach((function(e,t){var r=i.getTracks()[t];e.addEventListener(\"enabled\",(function(e){r.enabled=e.enabled}))})),i.getTracks().forEach((function(e){r.addTrack(e,i)}))}},p.prototype.removeTrack=function(t){if(this._isClosed)throw d(\"InvalidStateError\",\"Attempted to call removeTrack on a closed peerconnection.\");if(!(t instanceof e.RTCRtpSender))throw new TypeError(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\");var r=this.transceivers.find((function(e){return e.rtpSender===t}));if(!r)throw d(\"InvalidAccessError\",\"Sender was not created by this connection.\");var i=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(i)&&this.localStreams.indexOf(i)>-1&&this.localStreams.splice(this.localStreams.indexOf(i),1),this._maybeFireNegotiationNeeded()},p.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var r=t.getSenders().find((function(t){return t.track===e}));r&&t.removeTrack(r)}))},p.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},p.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},p.prototype._createIceGatherer=function(t,r){var i=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,\"state\",{value:\"new\",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;o.state=r?\"completed\":\"gathering\",null!==i.transceivers[t].bufferedCandidateEvents&&i.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener(\"localcandidate\",this.transceivers[t].bufferCandidates),o},p.prototype._gather=function(t,r){var o=this,n=this.transceivers[r].iceGatherer;if(!n.onlocalcandidate){var s=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,n.removeEventListener(\"localcandidate\",this.transceivers[r].bufferCandidates),n.onlocalcandidate=function(e){if(!(o.usingBundle&&r>0)){var s=new Event(\"icecandidate\");s.candidate={sdpMid:t,sdpMLineIndex:r};var a=e.candidate,c=!a||0===Object.keys(a).length;if(c)\"new\"!==n.state&&\"gathering\"!==n.state||(n.state=\"completed\");else{\"new\"===n.state&&(n.state=\"gathering\"),a.component=1,a.ufrag=n.getLocalParameters().usernameFragment;var u=i.writeCandidate(a);s.candidate=Object.assign(s.candidate,i.parseCandidate(u)),s.candidate.candidate=u,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var d=i.getMediaSections(o._localDescription.sdp);d[s.candidate.sdpMLineIndex]+=c?\"a=end-of-candidates\\r\\n\":\"a=\"+s.candidate.candidate+\"\\r\\n\",o._localDescription.sdp=i.getDescription(o._localDescription.sdp)+d.join(\"\");var l=o.transceivers.every((function(e){return e.iceGatherer&&\"completed\"===e.iceGatherer.state}));\"gathering\"!==o.iceGatheringState&&(o.iceGatheringState=\"gathering\",o._emitGatheringStateChange()),c||o._dispatchEvent(\"icecandidate\",s),l&&(o._dispatchEvent(\"icecandidate\",new Event(\"icecandidate\")),o.iceGatheringState=\"complete\",o._emitGatheringStateChange())}},e.setTimeout((function(){s.forEach((function(e){n.onlocalcandidate(e)}))}),0)}},p.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var i=new e.RTCDtlsTransport(r);return i.ondtlsstatechange=function(){t._updateConnectionState()},i.onerror=function(){Object.defineProperty(i,\"state\",{value:\"failed\",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:i}},p.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},p.prototype._transceive=function(e,r,o){var n=a(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(n.encodings=e.sendEncodingParameters,n.rtcp={cname:i.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(n.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(n)),o&&e.rtpReceiver&&n.codecs.length>0&&(\"video\"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),n.encodings=e.recvEncodingParameters.length?e.recvEncodingParameters:[{}],n.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(n.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(n.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(n))},p.prototype.setLocalDescription=function(e){var t,r,o=this;if(-1===[\"offer\",\"answer\"].indexOf(e.type))return Promise.reject(d(\"TypeError\",'Unsupported type \"'+e.type+'\"'));if(!c(\"setLocalDescription\",e.type,o.signalingState)||o._isClosed)return Promise.reject(d(\"InvalidStateError\",\"Can not set local \"+e.type+\" in state \"+o.signalingState));if(\"offer\"===e.type)t=i.splitSections(e.sdp),r=t.shift(),t.forEach((function(e,t){var r=i.parseRtpParameters(e);o.transceivers[t].localCapabilities=r})),o.transceivers.forEach((function(e,t){o._gather(e.mid,t)}));else if(\"answer\"===e.type){t=i.splitSections(o._remoteDescription.sdp),r=t.shift();var n=i.matchPrefix(r,\"a=ice-lite\").length>0;t.forEach((function(e,t){var s=o.transceivers[t],c=s.iceGatherer,u=s.iceTransport,d=s.dtlsTransport,l=s.localCapabilities,h=s.remoteCapabilities;if(!(i.isRejected(e)&&0===i.matchPrefix(e,\"a=bundle-only\").length||s.rejected)){var p=i.getIceParameters(e,r),g=i.getDtlsParameters(e,r);n&&(g.role=\"server\"),o.usingBundle&&0!==t||(o._gather(s.mid,t),\"new\"===u.state&&u.start(c,p,n?\"controlling\":\"controlled\"),\"new\"===d.state&&d.start(g));var f=a(l,h);o._transceive(s,f.codecs.length>0,!1)}}))}return o._localDescription={type:e.type,sdp:e.sdp},o._updateSignalingState(\"offer\"===e.type?\"have-local-offer\":\"stable\"),Promise.resolve()},p.prototype.setRemoteDescription=function(o){var n=this;if(-1===[\"offer\",\"answer\"].indexOf(o.type))return Promise.reject(d(\"TypeError\",'Unsupported type \"'+o.type+'\"'));if(!c(\"setRemoteDescription\",o.type,n.signalingState)||n._isClosed)return Promise.reject(d(\"InvalidStateError\",\"Can not set remote \"+o.type+\" in state \"+n.signalingState));var s={};n.remoteStreams.forEach((function(e){s[e.id]=e}));var p=[],g=i.splitSections(o.sdp),f=g.shift(),m=i.matchPrefix(f,\"a=ice-lite\").length>0,_=i.matchPrefix(f,\"a=group:BUNDLE \").length>0;n.usingBundle=_;var v=i.matchPrefix(f,\"a=ice-options:\")[0];return n.canTrickleIceCandidates=!!v&&v.substr(14).split(\" \").indexOf(\"trickle\")>=0,g.forEach((function(c,d){var h=i.splitLines(c),g=i.getKind(c),v=i.isRejected(c)&&0===i.matchPrefix(c,\"a=bundle-only\").length,E=h[0].substr(2).split(\" \")[2],S=i.getDirection(c,f),T=i.parseMsid(c),C=i.getMid(c)||i.generateIdentifier();if(v||\"application\"===g&&(\"DTLS/SCTP\"===E||\"UDP/DTLS/SCTP\"===E))n.transceivers[d]={mid:C,kind:g,protocol:E,rejected:!0};else{var y,R,b,I,A,k,L,P,O;!v&&n.transceivers[d]&&n.transceivers[d].rejected&&(n.transceivers[d]=n._createTransceiver(g,!0));var N,M,D=i.parseRtpParameters(c);v||(N=i.getIceParameters(c,f),(M=i.getDtlsParameters(c,f)).role=\"client\"),L=i.parseRtpEncodingParameters(c);var w=i.parseRtcpParameters(c),U=i.matchPrefix(c,\"a=end-of-candidates\",f).length>0,B=i.matchPrefix(c,\"a=candidate:\").map((function(e){return i.parseCandidate(e)})).filter((function(e){return 1===e.component}));if((\"offer\"===o.type||\"answer\"===o.type)&&!v&&_&&d>0&&n.transceivers[d]&&(n._disposeIceAndDtlsTransports(d),n.transceivers[d].iceGatherer=n.transceivers[0].iceGatherer,n.transceivers[d].iceTransport=n.transceivers[0].iceTransport,n.transceivers[d].dtlsTransport=n.transceivers[0].dtlsTransport,n.transceivers[d].rtpSender&&n.transceivers[d].rtpSender.setTransport(n.transceivers[0].dtlsTransport),n.transceivers[d].rtpReceiver&&n.transceivers[d].rtpReceiver.setTransport(n.transceivers[0].dtlsTransport)),\"offer\"!==o.type||v)\"answer\"!==o.type||v||(R=(y=n.transceivers[d]).iceGatherer,b=y.iceTransport,I=y.dtlsTransport,A=y.rtpReceiver,k=y.sendEncodingParameters,P=y.localCapabilities,n.transceivers[d].recvEncodingParameters=L,n.transceivers[d].remoteCapabilities=D,n.transceivers[d].rtcpParameters=w,B.length&&\"new\"===b.state&&(!m&&!U||_&&0!==d?B.forEach((function(e){u(y.iceTransport,e)})):b.setRemoteCandidates(B)),_&&0!==d||(\"new\"===b.state&&b.start(R,N,\"controlling\"),\"new\"===I.state&&I.start(M)),!a(y.localCapabilities,y.remoteCapabilities).codecs.filter((function(e){return\"rtx\"===e.name.toLowerCase()})).length&&y.sendEncodingParameters[0].rtx&&delete y.sendEncodingParameters[0].rtx,n._transceive(y,\"sendrecv\"===S||\"recvonly\"===S,\"sendrecv\"===S||\"sendonly\"===S),!A||\"sendrecv\"!==S&&\"sendonly\"!==S?delete y.rtpReceiver:(O=A.track,T?(s[T.stream]||(s[T.stream]=new e.MediaStream),r(O,s[T.stream]),p.push([O,A,s[T.stream]])):(s.default||(s.default=new e.MediaStream),r(O,s.default),p.push([O,A,s.default]))));else{(y=n.transceivers[d]||n._createTransceiver(g)).mid=C,y.iceGatherer||(y.iceGatherer=n._createIceGatherer(d,_)),B.length&&\"new\"===y.iceTransport.state&&(!U||_&&0!==d?B.forEach((function(e){u(y.iceTransport,e)})):y.iceTransport.setRemoteCandidates(B)),P=e.RTCRtpReceiver.getCapabilities(g),t<15019&&(P.codecs=P.codecs.filter((function(e){return\"rtx\"!==e.name}))),k=y.sendEncodingParameters||[{ssrc:1001*(2*d+2)}];var x,G=!1;\"sendrecv\"===S||\"sendonly\"===S?(G=!y.rtpReceiver,A=y.rtpReceiver||new e.RTCRtpReceiver(y.dtlsTransport,g),G&&(O=A.track,T&&\"-\"===T.stream||(T?(s[T.stream]||(s[T.stream]=new e.MediaStream,Object.defineProperty(s[T.stream],\"id\",{get:function(){return T.stream}})),Object.defineProperty(O,\"id\",{get:function(){return T.track}}),x=s[T.stream]):(s.default||(s.default=new e.MediaStream),x=s.default)),x&&(r(O,x),y.associatedRemoteMediaStreams.push(x)),p.push([O,A,x]))):y.rtpReceiver&&y.rtpReceiver.track&&(y.associatedRemoteMediaStreams.forEach((function(e){var t=e.getTracks().find((function(e){return e.id===y.rtpReceiver.track.id}));t&&l(t,e)})),y.associatedRemoteMediaStreams=[]),y.localCapabilities=P,y.remoteCapabilities=D,y.rtpReceiver=A,y.rtcpParameters=w,y.sendEncodingParameters=k,y.recvEncodingParameters=L,n._transceive(n.transceivers[d],!1,G)}}})),void 0===n._dtlsRole&&(n._dtlsRole=\"offer\"===o.type?\"active\":\"passive\"),n._remoteDescription={type:o.type,sdp:o.sdp},n._updateSignalingState(\"offer\"===o.type?\"have-remote-offer\":\"stable\"),Object.keys(s).forEach((function(t){var r=s[t];if(r.getTracks().length){if(-1===n.remoteStreams.indexOf(r)){n.remoteStreams.push(r);var i=new Event(\"addstream\");i.stream=r,e.setTimeout((function(){n._dispatchEvent(\"addstream\",i)}))}p.forEach((function(e){r.id===e[2].id&&h(n,e[0],e[1],[r])}))}})),p.forEach((function(e){e[2]||h(n,e[0],e[1],[])})),e.setTimeout((function(){n&&n.transceivers&&n.transceivers.forEach((function(e){e.iceTransport&&\"new\"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn(\"Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification\"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},p.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState(\"closed\")},p.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event(\"signalingstatechange\");this._dispatchEvent(\"signalingstatechange\",t)},p.prototype._maybeFireNegotiationNeeded=function(){var t=this;\"stable\"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event(\"negotiationneeded\");t._dispatchEvent(\"negotiationneeded\",e)}}),0))},p.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e=\"new\",t.failed>0?e=\"failed\":t.checking>0?e=\"checking\":t.disconnected>0?e=\"disconnected\":t.new>0?e=\"new\":t.connected>0?e=\"connected\":t.completed>0&&(e=\"completed\"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event(\"iceconnectionstatechange\");this._dispatchEvent(\"iceconnectionstatechange\",r)}},p.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e=\"new\",t.failed>0?e=\"failed\":t.connecting>0?e=\"connecting\":t.disconnected>0?e=\"disconnected\":t.new>0?e=\"new\":t.connected>0&&(e=\"connected\"),e!==this.connectionState){this.connectionState=e;var r=new Event(\"connectionstatechange\");this._dispatchEvent(\"connectionstatechange\",r)}},p.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(d(\"InvalidStateError\",\"Can not call createOffer after close\"));var o=r.transceivers.filter((function(e){return\"audio\"===e.kind})).length,s=r.transceivers.filter((function(e){return\"video\"===e.kind})).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError(\"Legacy mandatory/optional constraints not supported.\");void 0!==a.offerToReceiveAudio&&(o=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(r.transceivers.forEach((function(e){\"audio\"===e.kind?--o<0&&(e.wantReceive=!1):\"video\"===e.kind&&--s<0&&(e.wantReceive=!1)}));o>0||s>0;)o>0&&(r._createTransceiver(\"audio\"),o--),s>0&&(r._createTransceiver(\"video\"),s--);var c=i.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach((function(o,n){var s=o.track,a=o.kind,c=o.mid||i.generateIdentifier();o.mid=c,o.iceGatherer||(o.iceGatherer=r._createIceGatherer(n,r.usingBundle));var u=e.RTCRtpSender.getCapabilities(a);t<15019&&(u.codecs=u.codecs.filter((function(e){return\"rtx\"!==e.name}))),u.codecs.forEach((function(e){\"H264\"===e.name&&void 0===e.parameters[\"level-asymmetry-allowed\"]&&(e.parameters[\"level-asymmetry-allowed\"]=\"1\"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var d=o.sendEncodingParameters||[{ssrc:1001*(2*n+1)}];s&&t>=15019&&\"video\"===a&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,a)),o.localCapabilities=u,o.sendEncodingParameters=d})),\"max-compat\"!==r._config.bundlePolicy&&(c+=\"a=group:BUNDLE \"+r.transceivers.map((function(e){return e.mid})).join(\" \")+\"\\r\\n\"),c+=\"a=ice-options:trickle\\r\\n\",r.transceivers.forEach((function(e,t){c+=n(e,e.localCapabilities,\"offer\",e.stream,r._dtlsRole),c+=\"a=rtcp-rsize\\r\\n\",!e.iceGatherer||\"new\"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+=\"a=\"+i.writeCandidate(e)+\"\\r\\n\"})),\"completed\"===e.iceGatherer.state&&(c+=\"a=end-of-candidates\\r\\n\"))}));var u=new e.RTCSessionDescription({type:\"offer\",sdp:c});return Promise.resolve(u)},p.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(d(\"InvalidStateError\",\"Can not call createAnswer after close\"));if(\"have-remote-offer\"!==r.signalingState&&\"have-local-pranswer\"!==r.signalingState)return Promise.reject(d(\"InvalidStateError\",\"Can not call createAnswer in signalingState \"+r.signalingState));var o=i.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(o+=\"a=group:BUNDLE \"+r.transceivers.map((function(e){return e.mid})).join(\" \")+\"\\r\\n\"),o+=\"a=ice-options:trickle\\r\\n\";var s=i.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach((function(e,i){if(!(i+1>s)){if(e.rejected)return\"application\"===e.kind?o+=\"DTLS/SCTP\"===e.protocol?\"m=application 0 DTLS/SCTP 5000\\r\\n\":\"m=application 0 \"+e.protocol+\" webrtc-datachannel\\r\\n\":\"audio\"===e.kind?o+=\"m=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\na=rtpmap:0 PCMU/8000\\r\\n\":\"video\"===e.kind&&(o+=\"m=video 0 UDP/TLS/RTP/SAVPF 120\\r\\na=rtpmap:120 VP8/90000\\r\\n\"),void(o+=\"c=IN IP4 0.0.0.0\\r\\na=inactive\\r\\na=mid:\"+e.mid+\"\\r\\n\");var c;e.stream&&(\"audio\"===e.kind?c=e.stream.getAudioTracks()[0]:\"video\"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&\"video\"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=a(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return\"rtx\"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,o+=n(e,u,\"answer\",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(o+=\"a=rtcp-rsize\\r\\n\")}}));var c=new e.RTCSessionDescription({type:\"answer\",sdp:o});return Promise.resolve(c)},p.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError(\"sdpMLineIndex or sdpMid required\")):new Promise((function(o,n){if(!r._remoteDescription)return n(d(\"InvalidStateError\",\"Can not add ICE candidate without a remote description\"));if(e&&\"\"!==e.candidate){var s=e.sdpMLineIndex;if(e.sdpMid)for(var a=0;a<r.transceivers.length;a++)if(r.transceivers[a].mid===e.sdpMid){s=a;break}var c=r.transceivers[s];if(!c)return n(d(\"OperationError\",\"Can not add ICE candidate\"));if(c.rejected)return o();var l=Object.keys(e.candidate).length>0?i.parseCandidate(e.candidate):{};if(\"tcp\"===l.protocol&&(0===l.port||9===l.port))return o();if(l.component&&1!==l.component)return o();if((0===s||s>0&&c.iceTransport!==r.transceivers[0].iceTransport)&&!u(c.iceTransport,l))return n(d(\"OperationError\",\"Can not add ICE candidate\"));var h=e.candidate.trim();0===h.indexOf(\"a=\")&&(h=h.substr(2)),(t=i.getMediaSections(r._remoteDescription.sdp))[s]+=\"a=\"+(l.type?h:\"end-of-candidates\")+\"\\r\\n\",r._remoteDescription.sdp=i.getDescription(r._remoteDescription.sdp)+t.join(\"\")}else for(var p=0;p<r.transceivers.length&&(r.transceivers[p].rejected||(r.transceivers[p].iceTransport.addRemoteCandidate({}),(t=i.getMediaSections(r._remoteDescription.sdp))[p]+=\"a=end-of-candidates\\r\\n\",r._remoteDescription.sdp=i.getDescription(r._remoteDescription.sdp)+t.join(\"\"),!r.usingBundle));p++);o()}))},p.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)})),!r)throw d(\"InvalidAccessError\",\"Invalid selector.\");return r.getStats()}var i=[];return this.transceivers.forEach((function(e){[\"rtpSender\",\"rtpReceiver\",\"iceGatherer\",\"iceTransport\",\"dtlsTransport\"].forEach((function(t){e[t]&&i.push(e[t].getStats())}))})),Promise.all(i).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},[\"RTCRtpSender\",\"RTCRtpReceiver\",\"RTCIceGatherer\",\"RTCIceTransport\",\"RTCDtlsTransport\"].forEach((function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var i=r.prototype.getStats;r.prototype.getStats=function(){return i.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(r){e[r].type=o(e[r]),t.set(r,e[r])})),t}))}}}));var g=[\"createOffer\",\"createAnswer\"];return g.forEach((function(e){var t=p.prototype[e];p.prototype[e]=function(){var e=arguments;return\"function\"==typeof e[0]||\"function\"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){\"function\"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){\"function\"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(g=[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"]).forEach((function(e){var t=p.prototype[e];p.prototype[e]=function(){var e=arguments;return\"function\"==typeof e[1]||\"function\"==typeof e[2]?t.apply(this,arguments).then((function(){\"function\"==typeof e[1]&&e[1].apply(null)}),(function(t){\"function\"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),[\"getStats\"].forEach((function(e){var t=p.prototype[e];p.prototype[e]=function(){var e=arguments;return\"function\"==typeof e[1]?t.apply(this,arguments).then((function(){\"function\"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),p}},{sdp:17}],17:[function(e,t,r){\"use strict\";var i={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};i.localCName=i.generateIdentifier(),i.splitLines=function(e){return e.trim().split(\"\\n\").map((function(e){return e.trim()}))},i.splitSections=function(e){return e.split(\"\\nm=\").map((function(e,t){return(t>0?\"m=\"+e:e).trim()+\"\\r\\n\"}))},i.getDescription=function(e){var t=i.splitSections(e);return t&&t[0]},i.getMediaSections=function(e){var t=i.splitSections(e);return t.shift(),t},i.matchPrefix=function(e,t){return i.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},i.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf(\"a=candidate:\")?e.substring(12).split(\" \"):e.substring(10).split(\" \"))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case\"raddr\":r.relatedAddress=t[i+1];break;case\"rport\":r.relatedPort=parseInt(t[i+1],10);break;case\"tcptype\":r.tcpType=t[i+1];break;case\"ufrag\":r.ufrag=t[i+1],r.usernameFragment=t[i+1];break;default:r[t[i]]=t[i+1]}return r},i.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push(\"typ\"),t.push(r),\"host\"!==r&&e.relatedAddress&&e.relatedPort&&(t.push(\"raddr\"),t.push(e.relatedAddress),t.push(\"rport\"),t.push(e.relatedPort)),e.tcpType&&\"tcp\"===e.protocol.toLowerCase()&&(t.push(\"tcptype\"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push(\"ufrag\"),t.push(e.usernameFragment||e.ufrag)),\"candidate:\"+t.join(\" \")},i.parseIceOptions=function(e){return e.substr(14).split(\" \")},i.parseRtpMap=function(e){var t=e.substr(9).split(\" \"),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split(\"/\"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},i.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return\"a=rtpmap:\"+t+\" \"+e.name+\"/\"+e.clockRate+(1!==r?\"/\"+r:\"\")+\"\\r\\n\"},i.parseExtmap=function(e){var t=e.substr(9).split(\" \");return{id:parseInt(t[0],10),direction:t[0].indexOf(\"/\")>0?t[0].split(\"/\")[1]:\"sendrecv\",uri:t[1]}},i.writeExtmap=function(e){return\"a=extmap:\"+(e.id||e.preferredId)+(e.direction&&\"sendrecv\"!==e.direction?\"/\"+e.direction:\"\")+\" \"+e.uri+\"\\r\\n\"},i.parseFmtp=function(e){for(var t,r={},i=e.substr(e.indexOf(\" \")+1).split(\";\"),o=0;o<i.length;o++)r[(t=i[o].trim().split(\"=\"))[0].trim()]=t[1];return r},i.writeFmtp=function(e){var t=\"\",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach((function(t){i.push(e.parameters[t]?t+\"=\"+e.parameters[t]:t)})),t+=\"a=fmtp:\"+r+\" \"+i.join(\";\")+\"\\r\\n\"}return t},i.parseRtcpFb=function(e){var t=e.substr(e.indexOf(\" \")+1).split(\" \");return{type:t.shift(),parameter:t.join(\" \")}},i.writeRtcpFb=function(e){var t=\"\",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+=\"a=rtcp-fb:\"+r+\" \"+e.type+(e.parameter&&e.parameter.length?\" \"+e.parameter:\"\")+\"\\r\\n\"})),t},i.parseSsrcMedia=function(e){var t=e.indexOf(\" \"),r={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(\":\",t);return i>-1?(r.attribute=e.substr(t+1,i-t-1),r.value=e.substr(i+1)):r.attribute=e.substr(t+1),r},i.parseSsrcGroup=function(e){var t=e.substr(13).split(\" \");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},i.getMid=function(e){var t=i.matchPrefix(e,\"a=mid:\")[0];if(t)return t.substr(6)},i.parseFingerprint=function(e){var t=e.substr(14).split(\" \");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.getDtlsParameters=function(e,t){return{role:\"auto\",fingerprints:i.matchPrefix(e+t,\"a=fingerprint:\").map(i.parseFingerprint)}},i.writeDtlsParameters=function(e,t){var r=\"a=setup:\"+t+\"\\r\\n\";return e.fingerprints.forEach((function(e){r+=\"a=fingerprint:\"+e.algorithm+\" \"+e.value+\"\\r\\n\"})),r},i.getIceParameters=function(e,t){var r=i.splitLines(e);return{usernameFragment:(r=r.concat(i.splitLines(t))).filter((function(e){return 0===e.indexOf(\"a=ice-ufrag:\")}))[0].substr(12),password:r.filter((function(e){return 0===e.indexOf(\"a=ice-pwd:\")}))[0].substr(10)}},i.writeIceParameters=function(e){return\"a=ice-ufrag:\"+e.usernameFragment+\"\\r\\na=ice-pwd:\"+e.password+\"\\r\\n\"},i.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=i.splitLines(e)[0].split(\" \"),o=3;o<r.length;o++){var n=r[o],s=i.matchPrefix(e,\"a=rtpmap:\"+n+\" \")[0];if(s){var a=i.parseRtpMap(s),c=i.matchPrefix(e,\"a=fmtp:\"+n+\" \");switch(a.parameters=c.length?i.parseFmtp(c[0]):{},a.rtcpFeedback=i.matchPrefix(e,\"a=rtcp-fb:\"+n+\" \").map(i.parseRtcpFb),t.codecs.push(a),a.name.toUpperCase()){case\"RED\":case\"ULPFEC\":t.fecMechanisms.push(a.name.toUpperCase())}}}return i.matchPrefix(e,\"a=extmap:\").forEach((function(e){t.headerExtensions.push(i.parseExtmap(e))})),t},i.writeRtpDescription=function(e,t){var r=\"\";r+=\"m=\"+e+\" \",r+=t.codecs.length>0?\"9\":\"0\",r+=\" UDP/TLS/RTP/SAVPF \",r+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(\" \")+\"\\r\\n\",r+=\"c=IN IP4 0.0.0.0\\r\\n\",r+=\"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\",t.codecs.forEach((function(e){r+=i.writeRtpMap(e),r+=i.writeFmtp(e),r+=i.writeRtcpFb(e)}));var o=0;return t.codecs.forEach((function(e){e.maxptime>o&&(o=e.maxptime)})),o>0&&(r+=\"a=maxptime:\"+o+\"\\r\\n\"),r+=\"a=rtcp-mux\\r\\n\",t.headerExtensions&&t.headerExtensions.forEach((function(e){r+=i.writeExtmap(e)})),r},i.parseRtpEncodingParameters=function(e){var t,r=[],o=i.parseRtpParameters(e),n=-1!==o.fecMechanisms.indexOf(\"RED\"),s=-1!==o.fecMechanisms.indexOf(\"ULPFEC\"),a=i.matchPrefix(e,\"a=ssrc:\").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return\"cname\"===e.attribute})),c=a.length>0&&a[0].ssrc,u=i.matchPrefix(e,\"a=ssrc-group:FID\").map((function(e){return e.substr(17).split(\" \").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),o.codecs.forEach((function(e){if(\"RTX\"===e.name.toUpperCase()&&e.parameters.apt){var i={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(i.rtx={ssrc:t}),r.push(i),n&&((i=JSON.parse(JSON.stringify(i))).fec={ssrc:c,mechanism:s?\"red+ulpfec\":\"red\"},r.push(i))}})),0===r.length&&c&&r.push({ssrc:c});var d=i.matchPrefix(e,\"b=\");return d.length&&(d=0===d[0].indexOf(\"b=TIAS:\")?parseInt(d[0].substr(7),10):0===d[0].indexOf(\"b=AS:\")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=d}))),r},i.parseRtcpParameters=function(e){var t={},r=i.matchPrefix(e,\"a=ssrc:\").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return\"cname\"===e.attribute}))[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var o=i.matchPrefix(e,\"a=rtcp-rsize\");t.reducedSize=o.length>0,t.compound=0===o.length;var n=i.matchPrefix(e,\"a=rtcp-mux\");return t.mux=n.length>0,t},i.parseMsid=function(e){var t,r=i.matchPrefix(e,\"a=msid:\");if(1===r.length)return{stream:(t=r[0].substr(7).split(\" \"))[0],track:t[1]};var o=i.matchPrefix(e,\"a=ssrc:\").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return\"msid\"===e.attribute}));return o.length>0?{stream:(t=o[0].value.split(\" \"))[0],track:t[1]}:void 0},i.generateSessionId=function(){return Math.random().toString().substr(2,21)},i.writeSessionBoilerplate=function(e,t,r){var o=void 0!==t?t:2;return\"v=0\\r\\no=\"+(r||\"thisisadapterortc\")+\" \"+(e||i.generateSessionId())+\" \"+o+\" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\"},i.writeMediaSection=function(e,t,r,o){var n=i.writeRtpDescription(e.kind,t);if(n+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),n+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),\"offer\"===r?\"actpass\":\"active\"),n+=\"a=mid:\"+e.mid+\"\\r\\n\",n+=e.direction?\"a=\"+e.direction+\"\\r\\n\":e.rtpSender&&e.rtpReceiver?\"a=sendrecv\\r\\n\":e.rtpSender?\"a=sendonly\\r\\n\":e.rtpReceiver?\"a=recvonly\\r\\n\":\"a=inactive\\r\\n\",e.rtpSender){var s=\"msid:\"+o.id+\" \"+e.rtpSender.track.id+\"\\r\\n\";n+=\"a=\"+s,n+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" \"+s,e.sendEncodingParameters[0].rtx&&(n+=\"a=ssrc:\"+e.sendEncodingParameters[0].rtx.ssrc+\" \"+s,n+=\"a=ssrc-group:FID \"+e.sendEncodingParameters[0].ssrc+\" \"+e.sendEncodingParameters[0].rtx.ssrc+\"\\r\\n\")}return n+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" cname:\"+i.localCName+\"\\r\\n\",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(n+=\"a=ssrc:\"+e.sendEncodingParameters[0].rtx.ssrc+\" cname:\"+i.localCName+\"\\r\\n\"),n},i.getDirection=function(e,t){for(var r=i.splitLines(e),o=0;o<r.length;o++)switch(r[o]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return r[o].substr(2)}return t?i.getDirection(t):\"sendrecv\"},i.getKind=function(e){return i.splitLines(e)[0].split(\" \")[0].substr(2)},i.isRejected=function(e){return\"0\"===e.split(\" \",2)[1]},i.parseMLine=function(e){var t=i.splitLines(e)[0].substr(2).split(\" \");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(\" \")}},i.parseOLine=function(e){var t=i.matchPrefix(e,\"o=\")[0].substr(2).split(\" \");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},i.isValidSDP=function(e){if(\"string\"!=typeof e||0===e.length)return!1;for(var t=i.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||\"=\"!==t[r].charAt(1))return!1;return!0},\"object\"==typeof t&&(t.exports=i)},{}]},{},[1])(1)},9869:function(e){\"undefined\"!=typeof self&&self,e.exports=function(){return t={23:function(e,t,r){\"use strict\";var i;r.r(t),(r=i=i||{}).LIVE_SEND_SIGNAL=\"zm.lv.ssg\",r.LIVE_RESPOND_JOIN_LIVE=\"zm.lv.rjl\",r.LIVE_PUSH_SIGNAL=\"zm.lv.pss\",r.SERVICE_PUSH=\"zm.sv.ps\",r.SERVICE_SEND=\"zm.sv.sd\";var o={code:1002014,msg:\"room not exist\"},n={code:1002099,msg:\"room inner error\"},s=(a.prototype.resetLiveHandler=function(){this.joinLiveCallbackMap={},this.joinLiveRequestMap={}},a.prototype.getSignalCmdContent=function(e,t,r){return e={request_id:e,room_id:this.room.roomID,from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,to_userid:t},null!=r&&(e.result=r),JSON.stringify(e)},a.prototype.requestJoinLive=function(e,t,r,i){var o=this.stateCenter.getRequestId(),n=this.getSignalCmdContent(o,e);return null!=i&&(this.joinLiveCallbackMap[o]=i,this.sendSignalCmd(1001,n,e,t,r),!0)},a.prototype.sendSignalCmd=function(e,t,r,o,s){var a=this;this.room.isLogin()?((this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendSignalCmd({sub_cmd:e,signal_msg:t,dest_id_name:[r]},(function(e){o&&o(e.header.seq)}),(function(e){var t=n;if(!e.header||!e.body)return e.code&&e.msg&&(t=e),void(s&&s(t,0));s&&s(a.rtm.getServerError(e.body.err_code),e.header.seq)}),this.room),this.logger.info(i.LIVE_SEND_SIGNAL+\" call success\"+e)):this.logger.error(i.LIVE_SEND_SIGNAL+\" state error\")},a.prototype.inviteJoinLive=function(e,t,r,i){var o=this.stateCenter.getRequestId(),n=this.getSignalCmdContent(o,e);return null!=i&&(this.joinLiveCallbackMap[o]=i,this.sendSignalCmd(1003,n,e,t,r),!0)},a.prototype.endJoinLive=function(e,t,r){var i=this.stateCenter.getRequestId();return i=this.getSignalCmdContent(i,e),this.sendSignalCmd(1004,i,e,t,r),!0},a.prototype.respondJoinLive=function(e,t,r,o){var n=this.joinLiveRequestMap[e];if(!n)return this.logger.info(i.LIVE_RESPOND_JOIN_LIVE+\" no dest id name\"),!1;var s=0;return t=this.getSignalCmdContent(e,n,s=!0===t?1:s),this.sendSignalCmd(1002,t,n,r,o),delete this.joinLiveRequestMap[e],!0},a.prototype.handlePushSignalMsg=function(e){var t=JSON.parse(e.body.signal_msg);switch(this.logger.info(i.LIVE_PUSH_SIGNAL+\" hpsm= \",t),e.body.sub_cmd){case 11001:this.handlePushJoinLiveRequestMsg(t);break;case 11002:this.handlePushJoinLiveResultMsg(t);break;case 11003:this.handlePushJoinLiveInviteMsg(t);break;case 11004:this.handlePushJoinLiveStopMsg(t)}},a.prototype.handlePushJoinLiveRequestMsg=function(e){var t,r=e.request_id;\"string\"!=typeof r?this.logger.error(i.LIVE_PUSH_SIGNAL+\" no requestId\"):\"string\"!=typeof(t=e.from_userid)?this.logger.error(i.LIVE_PUSH_SIGNAL+\" no from user\"):(this.joinLiveRequestMap[r]=t,this.onRecvJoinLiveRequest(r,e.from_userid,e.from_username,e.room_id),this.logger.info(i.LIVE_PUSH_SIGNAL+\" onRecvJoinLiveRequest \"+t))},a.prototype.onRecvJoinLiveRequest=function(e,t,r,i){this.stateCenter.actionListener(\"recvJoinLiveRequest\",e,t,r,i)},a.prototype.handlePushJoinLiveInviteMsg=function(e){var t,r=e.request_id;\"string\"!=typeof r?this.logger.error(i.LIVE_PUSH_SIGNAL+\"no requestId\"):\"string\"!=typeof(t=e.from_userid)?this.logger.error(i.LIVE_PUSH_SIGNAL+\" no from user\"):(this.joinLiveRequestMap[r]=t,this.onRecvInviteJoinLiveRequest(r,e.from_userid,e.from_username,e.room_id),this.logger.info(i.LIVE_PUSH_SIGNAL+\" onRecvInviteJoinLiveRequest \"+t))},a.prototype.onRecvInviteJoinLiveRequest=function(e,t,r,i){this.stateCenter.actionListener(\"recvInviteJoinLiveRequest\",e,t,r,i)},a.prototype.handlePushJoinLiveResultMsg=function(e){var t,r,o=e.request_id;\"string\"!=typeof o?this.logger.error(i.LIVE_PUSH_SIGNAL+\" no requestId\"):null==(t=e.result)?this.logger.info(i.LIVE_PUSH_SIGNAL+\" no result\"):(t=1==t,this.joinLiveCallbackMap[o]&&((r=this.joinLiveCallbackMap[o])?(this.logger.info(i.LIVE_PUSH_SIGNAL+\" joinLiveRequest/invite result \"+t),delete this.joinLiveCallbackMap[o],r(t,e.from_userid,e.from_username)):this.logger.info(i.LIVE_PUSH_SIGNAL+\" no callback\")))},a.prototype.handlePushJoinLiveStopMsg=function(e){var t=e.request_id;\"string\"!=typeof t?this.logger.error(i.LIVE_PUSH_SIGNAL+\" no requestId\"):(this.logger.info(i.LIVE_PUSH_SIGNAL+\" onRecvEndJoinLiveCommand \"+e.from_userid),this.onRecvEndJoinLiveCommand(t,e.from_userid,e.from_username,e.room_id))},a.prototype.onRecvEndJoinLiveCommand=function(e,t,r,i){this.stateCenter.actionListener(\"recvEndJoinLiveCommand\",e,t,r,i)},a);function a(e,t,r,i,o,n){this.logger=e,this.stateCenter=t,this.service=r,this.liveRoomHandler=i,this.rtm=o,this.room=n,this.joinLiveCallbackMap={},this.joinLiveRequestMap={}}var c={requestJoinLive:function(e,t,r,i,n){return(n=this.getRoomModules(n)||this.stateCenter.roomModulesList[0])?n.liveHandler.requestJoinLive(e,t,r,i):(r&&r(o,0),!1)},inviteJoinLive:function(e,t,r,i,n){return(n=this.getRoomModules(n)||this.stateCenter.roomModulesList[0])?n.liveHandler.inviteJoinLive(e,t,r,i):(r&&r(o,0),!1)},endJoinLive:function(e,t,r,i){return(i=this.getRoomModules(i)||this.stateCenter.roomModulesList[0])?i.liveHandler.endJoinLive(e,t,r):(r&&r(o,0),!1)},respondJoinLive:function(e,t,r,i,n){return(n=this.getRoomModules(n)||this.stateCenter.roomModulesList[0])?n.liveHandler.respondJoinLive(e,t,r,i):(i&&i(o,0),!1)}},u={handlePushSignalMsg:function(e){var t=null==(r=null==e?void 0:e.header)?void 0:r.room_id,r=this.stateCenter.roomModulesList.find((function(e){return e.roomID==t}));r?r.liveHandler.handlePushSignalMsg(e):this.logger.error(i.SERVICE_PUSH+\" room no found ignore \"+JSON.stringify(e))}},d={initLiveHandler:function(){this.liveHandler=new s(this.logger,this.stateCenter,this.service,this.liveRoomHandler,this.rtm,this)}};t.default={type:\"live\",install:function(e,t,r,i){for(var o in c)Object.defineProperty(e.prototype,o,{value:c[o],writable:!1});for(var o in u)Object.defineProperty(r.prototype,o,{value:u[o],writable:!1}),Object.defineProperty(i.prototype,o,{value:u[o],writable:!1});for(var o in d)Object.defineProperty(t.prototype,o,{value:d[o],writable:!1})}}}},r={},e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&r&&\"string\"!=typeof t)for(var o in t)e.d(i,o,function(e){return t[e]}.bind(null,o));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,\"a\",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p=\"\",e(e.s=23);function e(i){if(r[i])return r[i].exports;var o=r[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t,r}()},3126:function(e){\"undefined\"!=typeof self&&self,e.exports=function(){return t={1:function(e,t,r){var i=function(e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}function o(e){var t=Math.clz32(e&-e);return e?31-t:t}Object.defineProperty(r.prototype,\"__isLong__\",{value:!0}),r.isLong=i;var n={},s={};function a(e,t){var r,i,o;return t?(o=0<=(e>>>=0)&&e<256)&&(i=s[e])?i:(r=u(e,0,!0),o&&(s[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(i=n[e])?i:(r=u(e,e<0?-1:0,!1),o&&(n[e]=r),r)}function c(e,t){if(isNaN(e))return t?v:_;if(t){if(e<0)return v;if(g<=e)return y}else{if(e<=-f)return R;if(f<=e+1)return C}return e<0?c(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,i){return new r(e,t,i)}r.fromInt=a,r.fromNumber=c,r.fromBits=u;var d=Math.pow;function l(e,t,r){if(0===e.length)throw Error(\"empty string\");if(t=\"number\"==typeof t?(r=t,!1):!!t,\"NaN\"===e||\"Infinity\"===e||\"+Infinity\"===e||\"-Infinity\"===e)return t?v:_;if((r=r||10)<2||36<r)throw RangeError(\"radix\");var i;if(0<(i=e.indexOf(\"-\")))throw Error(\"interior hyphen\");if(0===i)return l(e.substring(1),t,r).neg();for(var o=c(d(r,8)),n=_,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),r);n=a<8?(a=c(d(r,a)),n.mul(a).add(c(u))):(n=n.mul(o)).add(c(u))}return n.unsigned=t,n}function h(e,t){return\"number\"==typeof e?c(e,t):\"string\"==typeof e?l(e,t):u(e.low,e.high,\"boolean\"==typeof t?t:e.unsigned)}r.fromString=l,r.fromValue=h;var p=4294967296,g=p*p,f=g/2,m=a(1<<24),_=a(0),v=(r.ZERO=_,a(0,!0)),E=(r.UZERO=v,a(1)),S=(r.ONE=E,a(1,!0)),T=(r.UONE=S,a(-1)),C=(r.NEG_ONE=T,u(-1,2147483647,!1)),y=(r.MAX_VALUE=C,u(-1,-1,!0)),R=(r.MAX_UNSIGNED_VALUE=y,u(0,-2147483648,!1)),b=(r.MIN_VALUE=R,r.prototype);return b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},b.toString=function(e){if((e=e||10)<2||36<e)throw RangeError(\"radix\");if(this.isZero())return\"0\";var t,r;if(this.isNegative())return this.eq(R)?(r=c(e),r=(t=this.div(r)).mul(r).sub(this),t.toString(e)+r.toInt().toString(e)):\"-\"+this.neg().toString(e);for(var i=c(d(e,6),this.unsigned),o=this,n=\"\";;){var s=o.div(i),a=(o.sub(s.mul(i)).toInt()>>>0).toString(e);if((o=s).isZero())return a+n;for(;a.length<6;)a=\"0\"+a;n=\"\"+a+n}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(R)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},b.isZero=function(){return 0===this.high&&0===this.low},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||0<=this.high},b.isOdd=function(){return 1==(1&this.low)},b.isEven=function(){return 0==(1&this.low)},b.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},b.eq=b.equals,b.notEquals=function(e){return!this.eq(e)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(e){return this.comp(e)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(e){return this.comp(e)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(e){return 0<this.comp(e)},b.gt=b.greaterThan,b.greaterThanOrEqual=function(e){return 0<=this.comp(e)},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(R)?R:this.not().add(E)},b.neg=b.negate,b.add=function(e){i(e)||(e=h(e));var t=0,r=0,o=0,n=0;return r+=(o=o+((n+=(65535&this.low)+(65535&e.low))>>>16)+((this.low>>>16)+(e.low>>>16)))>>>16,u((o&=65535)<<16|(n&=65535),((t+=(r+=(65535&this.high)+(65535&e.high))>>>16)+((this.high>>>16)+(e.high>>>16))&65535)<<16|(r&=65535),this.unsigned)},b.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},b.sub=b.subtract,b.multiply=function(e){if(this.isZero())return this;if(i(e)||(e=h(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?v:_;if(this.eq(R))return e.isOdd()?R:_;if(e.eq(R))return this.isOdd()?R:_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return c(this.toNumber()*e.toNumber(),this.unsigned);var r=65535&this.high,o=this.low>>>16,n=65535&this.low,s=e.high>>>16,a=65535&e.high,d=e.low>>>16,l=0,p=0,g=0,f=(f=0)+((p=p+((g+=n*(e=65535&e.low))>>>16)+o*e)>>>16)+((p=(65535&p)+n*d)>>>16);return u((p&=65535)<<16|(g&=65535),((l+=(f+=r*e)>>>16)+((f=(65535&f)+o*d)>>>16)+((f=(65535&f)+n*a)>>>16)+((this.high>>>16)*e+r*d+o*a+n*s)&65535)<<16|(f&=65535),this.unsigned)},b.mul=b.multiply,b.divide=function(e){if((e=i(e)?e:h(e)).isZero())throw Error(\"division by zero\");var r,o,n;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:_;if(this.unsigned){if((e=e.unsigned?e:e.toUnsigned()).gt(this))return v;if(e.gt(this.shru(1)))return S;o=v}else{if(this.eq(R))return e.eq(E)||e.eq(T)?R:e.eq(R)?E:(n=this.shr(1).div(e).shl(1)).eq(_)?e.isNegative()?E:T:(r=this.sub(e.mul(n)),n.add(r.div(e)));if(e.eq(R))return this.unsigned?v:_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=_}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),a=s<=48?1:d(2,s-48),l=c(n),p=l.mul(e);p.isNegative()||p.gt(r);)p=(l=c(n-=a,this.unsigned)).mul(e);l.isZero()&&(l=E),o=o.add(l),r=r.sub(p)}return o},b.div=b.divide,b.modulo=function(e){return i(e)||(e=h(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return u(~this.low,~this.high,this.unsigned)},b.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},b.clz=b.countLeadingZeros,b.countTrailingZeros=function(){return this.low?o(this.low):o(this.high)+32},b.ctz=b.countTrailingZeros,b.and=function(e){return i(e)||(e=h(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},b.or=function(e){return i(e)||(e=h(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},b.xor=function(e){return i(e)||(e=h(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},b.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):u(32===e?this.high:this.high>>>e-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.rotateLeft=function(e){var t;return i(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?u(this.high,this.low,this.unsigned):e<32?u(this.low<<e|this.high>>>(t=32-e),this.high<<e|this.low>>>t,this.unsigned):u(this.high<<(e-=32)|this.low>>>(t=32-e),this.low<<e|this.high>>>t,this.unsigned)},b.rotl=b.rotateLeft,b.rotateRight=function(e){var t;return i(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?u(this.high,this.low,this.unsigned):e<32?u(this.high<<(t=32-e)|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned):u(this.low<<(t=32-(e-=32))|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)},b.rotr=b.rotateRight,b.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},b.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},b.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,i){return i?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},e.default=r,\"default\"in e?e.default:e}({});void 0!==(t=function(){return i}.apply(t,[]))&&(e.exports=t)},22:function(e,t,r){\"use strict\";function i(e){return e}r.r(t),(a=o=o||{}).RTM_SEND_CUSTOM=\"zm.scc\",a.RTM_SEND_BCM=\"zm.sbcm\",a.RTM_SEND_RLM=\"zm.srlm\",a.RTM_SEND_BRM=\"zm.sbrm\",a.RTM_SEND_RAM=\"zm.sram\",a.MESSAGE_SEND_RELIABLE=\"zm.msg.sdr\",a.MESSAGE_FETCH_RELIABLE=\"zm.msg.frm\",a.MESSAGE_RELIABLE_RSP=\"zm.msg.rlr\",a.MESSAGE_RELIABLE_PUSH=\"zm.msg.rps\",a.MESSAGE_SEND_ROOM_MSG=\"zm.msg.srm\",a.MESSAGE_SEND_CUSTOM_MSG=\"zm.msg.scm\",a.MESSAGE_SEND_BIG_MSG=\"zm.msg.sbm\",a.MESSAGE_BIG_MSG_PUSH=\"zm.msg.bps\",a.MESSAGE_SEND_RELAY_MSG=\"zm.msg.slm\",a.SERVICE_PUSH=\"zm.sv.ps\";var o,n={INPUT_PARAM:{code:1100001,msg:\"input parm error.\"},TIMEOUT:{code:1100002,msg:\"network timeout.\"},NOT_LOGIN:{code:1000002,msg:\"not login\"},IM_CONTENT_NULL:{code:1009001,msg:\"message content is empty\"},IM_CONTENT_TOO_LONG:{code:1009002,msg:\"message content is too long\"},IM_SEND_FAILED:{code:1009010,msg:\"failed to send message\"},ROOM_NOT_EXIST:{code:1002014,msg:\"room not exist\"},ROOM_INNER_ERROR:{code:1002099,msg:\"room inner error\"},TRANS_FREQUENTLY:{code:1102022,msg:\"trans send frequently\"},FREQ_LIMITED:{code:1109001,msg:\"frequency limited.\"}},s={kZegoTaskLiveSendRoomBigIM:{event:\"/liveroom/send_big_room_message\",room_sid:i,error:{INPUT_PARAM:n.INPUT_PARAM,IM_CONTENT_NULL:n.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:n.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:n.ROOM_NOT_EXIST}},kZegoTaskLiveRoomSendCustomCommand:{event:\"/liveroom/send_custom_command\",room_sid:i,error:{INPUT_PARAM:n.INPUT_PARAM,IM_CONTENT_NULL:n.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:n.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:n.ROOM_NOT_EXIST}},kZegoTaskLiveRoomSendRoomMessage:{event:\"/liveroom/send_room_message\",room_sid:i,error:{INPUT_PARAM:n.INPUT_PARAM,IM_CONTENT_NULL:n.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:n.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:n.ROOM_NOT_EXIST}},kZegoTaskLiveRoomSendReliableMessage:{event:\"/liveroom/send_reliable_message\",room_sid:i,error:{INPUT_PARAM:n.INPUT_PARAM,TRANS_FREQUENTLY:n.TRANS_FREQUENTLY,ROOM_NOT_EXIST:n.ROOM_NOT_EXIST}},kZegoTaskLiveGetRoomBigIM:{event:\"/liveroom/get_big_room_message\"},kZegoTaskLiveRoomGetRoomMessage:{event:\"/liveroom/get_room_message\",room_sid:i},kZegoTaskLiveRoomGetCustomCommand:{event:\"/liveroom/get_custom_command\"}},a=r(1),c=r.n(a),u=(d.prototype.loginRsp=function(e){var t,r=this;if(null!=e.body.ret_timestamp&&\"string\"==typeof e.body.ret_timestamp&&(t=parseFloat(e.body.ret_timestamp),this.serverTimeOffset=0==t?0:e.body.ret_timestamp-(new Date).getTime()),e.body.bigim_time_window&&\"number\"==typeof e.body.bigim_time_window&&(this.bigimTimeWindow=e.body.bigim_time_window),e.body.dati_time_window&&\"number\"==typeof e.body.dati_time_window&&(this.datiTimeWindow=e.body.dati_time_window),e.body.trans_seqs)for(var i=0;i<e.body.trans_seqs.length;i++){var o=e.body.trans_seqs[i].trans_channel,n=e.body.trans_seqs[i].trans_seq_array;0<(n=(n=n.filter((function(e){var t=e.trans_type;return e=e.trans_seq,!r.transSeqMap[t]||r.transSeqMap[t].seq<e}))).map((function(e){return{trans_type:e.trans_type,trans_local_seq:e.trans_seq}}))).length&&this.fetchReliableMessage(o,n)}},d.prototype.sendReliableMessage=function(e,t,r,i){var a=this;return this.logger.info(o.MESSAGE_SEND_RELIABLE+\" call\"),this.room.isLogin()?this.isReliable?(this.logger.error(o.MESSAGE_SEND_RELIABLE+\" send too often\"),void i(s.kZegoTaskLiveRoomSendReliableMessage.error.TRANS_FREQUENTLY)):(this.transSeqMap[e]||(this.transSeqMap[e]={seq:0}),t={trans_type:e,trans_data:t,trans_local_seq:this.transSeqMap[e].seq,trans_channel:\"clt\"},this.isReliable=!0,void(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendReliableMessage(t,(function(t){a.transSeqMap[e].seq=t.body.trans_seq,a.logger.info(o.MESSAGE_SEND_RELIABLE+\" trans \"+e+\" seq \"+t.body.trans_seq),a.isReliable=!1,r({seq:t.header.seq,errorCode:0})}),(function(e){var t=n.ROOM_INNER_ERROR;e.body&&e.body.err_code?(t=a.rtm.getServerError(e.body.err_code),a.logger.error(o.MESSAGE_SEND_ROOM_MSG+\"  \"+t.msg)):t=e,a.isReliable=!1,i(t)}),this.room)):(this.logger.error(o.MESSAGE_SEND_RELIABLE+\" state error\"),void(i&&i(n.NOT_LOGIN)))},d.prototype.fetchReliableMessage=function(e,t){function r(e){i.handleFetchTransRsp(e)}var i=this;(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).fetchReliableMessage({trans_channel:e,fetch_array:t},r,r,this.room),this.logger.info(o.MESSAGE_FETCH_RELIABLE+\" call success\")},d.prototype.handleFetchTransRsp=function(e){if(e.body&&0!=e.body.err_code)this.logger.error(o.MESSAGE_RELIABLE_RSP+\" trans send error \"+e.body.err_code);else if(e.header&&e.body){var t=e.body.trans_fetch_results,r=[];if(Array.isArray(t)&&0<t.length){for(var i=0;i<t.length;i++){var n,s,a=t[i];1000001109===a.err_code?this.logger.warn(o.MESSAGE_RELIABLE_RSP+\" fetch trans unknown type \"+a.err_code):(n=a.trans_type,s=a.trans_seq,1000001110===a.err_code?(this.logger.warn(o.MESSAGE_RELIABLE_RSP+\" fetch trans seq is wrong \"+a.err_code),this.transSeqMap[n]={seq:s}):!this.transSeqMap[n]||this.transSeqMap[n].seq<s?(this.transSeqMap[n]={seq:s},r.push(a)):this.logger.warn(o.MESSAGE_RELIABLE_RSP+\" fetch trans seq wrong\"))}0<r.length&&this.onRecvReliableMessage(r)}}else this.logger.error(o.MESSAGE_RELIABLE_RSP+\" trans send error \"+e)},d.prototype.handlePushTransMsg=function(e){var t=e.body.trans_type,r=e.body.trans_seq;!this.transSeqMap[t]||this.transSeqMap[t].seq<r?(this.transSeqMap[t]={seq:r},this.onRecvReliableMessage([e.body])):this.logger.warn(o.MESSAGE_RELIABLE_PUSH+\" trans seq wrong\"),this.logger.info(o.MESSAGE_RELIABLE_PUSH+\" trans \"+t+\" seq \"+r)},d.prototype.sendRoomMsg=function(e,t,r,i,s,a){var c=this;if(!this.room.isLogin())return this.logger.error(o.MESSAGE_SEND_ROOM_MSG+\" state error\"),a(n.NOT_LOGIN),!1;var u=Date.parse(new Date+\"\");return 0<this.sendRoomMsgTime&&this.sendRoomMsgTime+this.sendRoomMsgInterval>u?(this.logger.info(o.MESSAGE_SEND_ROOM_MSG+\" freq error\"),a&&a(n.FREQ_LIMITED,0,e,i),!1):(this.sendRoomMsgTime=u,(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendRoomMsg({msg_category:e,msg_type:1,msg_priority:1,msg_content:i},(function(e){s({seq:e.header.seq,errorCode:0,messageID:e.body.msg_id})}),(function(e){var t,r,i=n.ROOM_INNER_ERROR;if(!e.header||!e.body)return e.code&&e.msg&&(i=e),void a({seq:0,errorCode:i.code,messageID:0});r=(t=[c.rtm.getServerError(e.body.err_code),e.body.msg_id])[1],c.logger.error(o.MESSAGE_SEND_ROOM_MSG+\"  \"+(i=t[0]).msg),a({seq:e.header.seq,errorCode:(i=i==n.TIMEOUT?n.IM_SEND_FAILED:i).code,messageID:r})}),this.room),this.logger.info(o.MESSAGE_SEND_ROOM_MSG+\"  call success\"),!0)},d.prototype.handlePushRoomMsg=function(e){var t,r=this,i=this.stateCenter.useNetAgent?this.room.roomSessionID:e.header.session_id,o=this.rtm.getReportSeq(),n=(this.dataReport.newReport(o),this.dataReport.addMsgInfo(o,{room_sid:s.kZegoTaskLiveRoomGetRoomMessage.room_sid(i)}),[]);this.stateCenter.useNetAgent?(t=e.body.msg_data,e.body.msg_data.forEach((function(e){e={fromUser:{userID:e.id_name,userName:e.nick_name},message:e.msg_content,sendTime:e.send_time.toNumber(),messageID:e.msg_id.toNumber()},n.push(e)})),e.body.server_msg_id=e.body.server_msg_id.toNumber(),e.body.ret_msg_id=e.body.ret_msg_id.toNumber()):(t=e.body.chat_data,e.body.chat_data.forEach((function(e){n.push({fromUser:{userID:e.id_name,userName:e.nick_name},message:e.msg_content,sendTime:e.send_time,messageID:e.msg_id}),r.dataReport.addMsgInfo(o,{from_msg_id:e.id_name})}))),this.dataReport.uploadReport(o,s.kZegoTaskLiveRoomGetRoomMessage.event),this.stateCenter.actionListener(\"IMRecvBroadcastMessage\",this.room.roomID,n),this.stateCenter.actionListener(\"_recvRoomMsg\",t,e.body.server_msg_id,e.body.ret_msg_id)},d.prototype.sendCustomCommand=function(e,t,r,i){var s=this;return this.room.isLogin()?(t={from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,request_id:this.stateCenter.getRequestId(),custom_content:t||\"\",room_id:this.room.roomID},e={dest_id_name:e,custom_msg:JSON.stringify(t)},(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendCustomCommand(e,(function(e){r({seq:e.header.seq,errorCode:0})}),(function(e){var t=s.rtm.getServerError(e.body.err_code);s.logger.error(o.MESSAGE_SEND_CUSTOM_MSG+\" \"+t.msg),i({seq:e.header.seq,errorCode:(t==n.TIMEOUT?n.IM_SEND_FAILED:t).code})}),this.room),this.logger.info(o.MESSAGE_SEND_CUSTOM_MSG+\" call success\"),!0):(this.logger.error(o.MESSAGE_SEND_CUSTOM_MSG+\" state error\"),i(n.NOT_LOGIN),!1)},d.prototype.handlePushCustomMsg=function(e){var t=(e=[(e=JSON.parse(e.body.custommsg)).from_userid,e.from_username,e.room_id,e.custom_content])[0],r=e[1],i=e[2],o=(e=e[3],this.rtm.getReportSeq());this.dataReport.newReport(o),this.dataReport.uploadReport(o,s.kZegoTaskLiveRoomGetCustomCommand.event),this.stateCenter.actionListener(\"IMRecvCustomCommand\",i,{userID:t,userName:r},e)},d.prototype.sendBigRoomMessage=function(e,t,r,i,s,a){var c=this;if(!this.room.isLogin())return this.logger.error(o.MESSAGE_SEND_BIG_MSG+\" state error\"),void(a&&a(n.NOT_LOGIN));var u=this.bigimTimeWindow,d=this.serverTimeOffset,l=(new Date).getTime()+d,h=this.rtm.getSeq().toString();this.bigImCallbackMap[h]={success:s,error:a},0==u?this.sendBigRoomMessageInternal([{msg_category:e,msg_type:1,msg_content:i,bigmsg_client_id:h}],(function(e){c.handleBigImMsgRsp(e)}),(function(e){a&&a(e)})):(s=Math.floor(l/u),this.bigImLastTimeIndex<s&&0==this.bigIMmessageList.length?(this.bigImLastTimeIndex=s,this.sendBigRoomMessageInternal([{msg_category:e,msg_type:1,msg_content:i,bigmsg_client_id:h}],(function(e){c.handleBigImMsgRsp(e)}),(function(e){a&&a(e)}))):(this.bigIMmessageList.push({msg_category:e,msg_type:1,msg_content:i,bigmsg_client_id:h}),1==this.bigIMmessageList.length&&this.setBigImTimer(d,u)))},d.prototype.sendBigRoomMessageInternal=function(e,t,r){(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendBigRoomMessage({msgs:e},(function(e){t(e)}),(function(e){var t=n.ROOM_INNER_ERROR;e.header&&e.body||(e.code&&e.msg&&(t=e),r(t)),r(t)}),this.room),this.logger.info(o.MESSAGE_SEND_BIG_MSG+\" sendBigRoomMessage called\")},d.prototype.handleBigImMsgRsp=function(e){this.bigimTimeWindow=e.body.bigim_time_window;for(var t=0;t<e.body.msgs.length;t++){var r,i=e.body.msgs[t].bigmsg_client_id;this.bigImCallbackMap[i]&&(null!=(r=this.bigImCallbackMap[i].success)&&r({seq:e.header.seq,errorCode:0,messageID:e.body.msgs[t].bigmsg_id}),delete this.bigImCallbackMap[i])}},d.prototype.setBigImTimer=function(e,t){var r=this;e=t-((new Date).getTime()+e)%t,t=this.rtm.generateRandumNumber(t)+e,this.bigImTimer=setTimeout((function(){r.onBigImTimer()}),t)},d.prototype.onBigImTimer=function(){for(var e=this,t=(new Date).getTime()+this.serverTimeOffset,r=(this.bigImLastTimeIndex=Math.floor(t/this.bigimTimeWindow),[]),i=[],o=0;o<this.bigIMmessageList.length&&!(20<=o);o++){var n=this.bigIMmessageList[o];r.push({msg_category:n.msg_category,msg_type:n.msg_type,msg_content:n.msg_content,bigmsg_client_id:n.bigmsg_client_id}),i.push(n.bigmsg_client_id)}20<this.bigIMmessageList.length?this.bigIMmessageList.splice(0,20):this.bigIMmessageList=[],this.sendBigRoomMessageInternal(r,(function(t){e.handleBigImMsgRsp(t)}),(function(t,r){for(var o=0;o<i.length;o++){var n=i[o],s=e.bigImCallbackMap[n];s&&(null!=s.error&&s.error(t,r),delete e.bigImCallbackMap[n])}})),this.bigImTimer&&clearTimeout(this.bigImTimer),this.bigImTimer=null,0<this.bigIMmessageList.length&&this.setBigImTimer(this.serverTimeOffset,this.bigimTimeWindow)},d.prototype.handlePushMergeMsg=function(e){for(var t=0;t<e.body.messages.length;t++)14001!==e.body.messages[t].sub_cmd&&\"/lr/push/bigim_chat\"!==e.body.messages[t].sub_cmd||this.handlePushBigRooMsg(e.body.messages[t].msg_body)},d.prototype.handlePushBigRooMsg=function(e){var t;if(\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){return void this.logger.warn(o.MESSAGE_BIG_MSG_PUSH+\"parse json error\")}else t=e;if(t){e=t.room_id;for(var r=[],i=0;i<t.msg_data.length;i++){var n=t.msg_data[i];n.id_name==this.stateCenter.idName?this.logger.info(o.MESSAGE_BIG_MSG_PUSH+\" self message\"):r.push({idName:n.id_name,nickName:n.nick_name,messageId:n.bigmsg_id,category:n.msg_category,type:n.msg_type,content:n.msg_content,time:n.send_time||c.a.isLong(n.msg_timestamp)&&n.msg_timestamp.toNumber()})}0==r.length?this.logger.info(o.MESSAGE_BIG_MSG_PUSH+\" no other pushData except self\"):this.onRecvBigRoomMessage(r,e),this.logger.info(o.MESSAGE_BIG_MSG_PUSH+\"call success\")}else this.logger.warn(o.MESSAGE_BIG_MSG_PUSH+\" cann't find message body\")},d.prototype.onRecvBigRoomMessage=function(e,t){var r=this.rtm.getReportSeq(),i=(this.dataReport.newReport(r),[]);e.forEach((function(e){i.push(e={fromUser:{userID:e.idName,userName:e.nickName},message:e.content,sendTime:e.time,messageID:e.messageId})})),this.dataReport.uploadReport(r,s.kZegoTaskLiveGetRoomBigIM.event),this.stateCenter.actionListener(\"IMRecvBarrageMessage\",t,i),this.stateCenter.actionListener(\"_recvBigRoomMessage\",e,t)},d.prototype.resetMessageInfo=function(){this.transSeqMap={},this.realyMessageList=[],this.relayTimer&&(clearTimeout(this.relayTimer),this.relayTimer=null),this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImCallbackMap={},this.bigImTimer&&(clearTimeout(this.bigImTimer),this.bigImTimer=null),this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0},d.prototype.sendRelayMessage=function(e,t,r,i){var o=this.datiTimeWindow,n=this.serverTimeOffset;0<o?(this.realyMessageList.push({type:e,data:t,success:r,error:i}),1==this.realyMessageList.length&&this.setRelayTimer(n,o)):this.sendRelayMessageInternal(e,t,r,i)},d.prototype.sendRelayMessageInternal=function(e,t,r,i){var s=this;this.logger.info(o.MESSAGE_SEND_RELAY_MSG+\" call\"),(this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendRelayMessage(e={relay_type:e,relay_data:t},(function(e){r&&r(e.header.seq,e.body.relay_result)}),(function(e){var t=n.ROOM_INNER_ERROR;if(!e.header||!e.body)return e.code&&e.msg&&(t=e),void(i&&i(t,0));i&&i(s.rtm.getServerError(e.body.err_code),e.header.seq)}),t=this.room)},d.prototype.setRelayTimer=function(e,t){var r=this;e=(new Date).getTime()+e,e=this.rtm.generateRandumNumber(2*t-e%t),this.logger.info(o.MESSAGE_SEND_RELAY_MSG+\" setTimer \"+e),this.relayTimer=setTimeout((function(){r.onRelayTimer()}),e)},d.prototype.onRelayTimer=function(){var e;0==this.realyMessageList.length?this.logger.info(o.MESSAGE_SEND_RELAY_MSG+\"  no relay data\"):(this.sendRelayMessageInternal((e=this.realyMessageList[0]).type,e.data,e.success,e.error),this.relayTimer&&clearTimeout(this.relayTimer),this.relayTimer=null,this.realyMessageList.splice(0,1),0<this.realyMessageList.length&&this.setRelayTimer(this.serverTimeOffset,this.datiTimeWindow))},d.prototype.getRoomChatInfo=function(e,t,r,i){this.logger.debug(\"zb.mh.grc call\"),this.room.isLogin()?(this.service.sendMessage(\"zegochat_js.room_im_chat_fetch\",e={room_header:{room_id:this.room.roomID,room_sid:this.room.roomSid||\"0\",room_user_session_id:this.room.roomSessionID||\"0\"},msg_id:e,msg_count:t},t=function(e,t){0!==e.body.code?i({errorCode:e.body.code,extendData:e.body.message||\"\"}):(e=e.body.msg_data.map((function(e){return{fromUser:{userID:e.user_id,userName:e.user_name},message:e.msg_content,sendTime:e.send_time,messageID:e.msg_id}})),r({chatData:e}))},t),this.logger.info(\"zb.mh.grc call success\")):this.logger.error(\"zb.mh.srm no enter room\")},d);function d(e,t,r,i,o,n,s){var a=this;this.logger=e,this.stateCenter=t,this.dataReport=r,this.service=i,this.liveRoomHandler=o,this.rtm=n,this.room=s,this.sendRoomMsgTime=0,this.sendRoomMsgInterval=500,this.bigImCallbackMap={},this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImTimer=null,this.relayTimer=null,this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0,this.isReliable=!1,this.transSeqMap={},this.onRecvReliableMessage=function(e){var t=(e=e.filter((function(e){return e.trans_idname!==a.stateCenter.idName}))).map((function(e){return{key:e.trans_type,value:e.trans_data,updateUser:{userID:e.trans_idname,userName:e.trans_nickname},updateTime:c.a.isLong(e.trans_send_time)?e.trans_send_time.toNumber():e.trans_send_time}}));0<t.length&&a.stateCenter.actionListener(\"roomExtraInfoUpdate\",a.room.roomID,t),e.forEach((function(e){a.stateCenter.actionListener(\"recvReliableMessage\",e.trans_type,e.trans_seq,e.trans_data)}))},this.realyMessageList=[]}function l(e,t,r,i){var n=this;return void 0===r&&(r=1),void 0===i&&(i=1),new Promise((function(a,c){var u=n.getReportSeq();if(c=(n.dataReport.newReport(u,s.kZegoTaskLiveRoomSendRoomMessage.event),a=n.proxyRes(n.dataReport,u,a,c)).interResolve,a=a.interReject,\"string\"!=typeof e||\"\"==e)return n.logger.error(o.RTM_SEND_BCM+\" roomid must be string and not empty\"),void a(s.kZegoTaskLiveRoomSendRoomMessage.error.INPUT_PARAM,\" param roomID error\");if(void 0===t||\"\"==t)return n.logger.error(o.RTM_SEND_BCM+\" message is empty\"),void a(s.kZegoTaskLiveRoomSendRoomMessage.error.IM_CONTENT_NULL);if(\"string\"!=typeof t)return n.logger.error(o.RTM_SEND_BCM+\" message must be string\"),void a(s.kZegoTaskLiveRoomSendRoomMessage.error.INPUT_PARAM,\" param message error\");if(1024<t.length)return n.logger.error(o.RTM_SEND_BCM+\" message too long\"),void a(s.kZegoTaskLiveRoomSendRoomMessage.error.IM_CONTENT_TOO_LONG);var d=n.getRoomModules(e);d?(n.dataReport.addMsgInfo(u,{room_sid:s.kZegoTaskLiveRoomSendRoomMessage.room_sid(d.sessionID)}),d.messageHandler.sendRoomMsg(r,i,e,t,c,a)):a(s.kZegoTaskLiveRoomSendRoomMessage.error.ROOM_NOT_EXIST)}))}function h(e,t,r){var i=this;return new Promise((function(a,c){var u=i.getReportSeq();if(c=(i.dataReport.newReport(u,s.kZegoTaskLiveRoomSendCustomCommand.event),a=i.proxyRes(i.dataReport,u,a,c)).interResolve,a=a.interReject,\"string\"!=typeof e||\"\"==e)return i.logger.error(o.RTM_SEND_CUSTOM+\" roomid must be string and not empty\"),void a(n.INPUT_PARAM,\" param roomID error\");if(!(r instanceof Array)||r.find((function(e){return\"string\"!=typeof e})))return i.logger.error(o.RTM_SEND_CUSTOM+\" dstMembers must be string array\"),void a(s.kZegoTaskLiveRoomSendCustomCommand.error.INPUT_PARAM,\" param toUserList error\");if(\"string\"!=typeof t&&\"object\"!=typeof t)return i.logger.error(o.RTM_SEND_CUSTOM+\" custom content must be a non empty string or object\"),void a(s.kZegoTaskLiveRoomSendCustomCommand.error.INPUT_PARAM,\" param command error\");if(\"string\"==typeof t&&1024<t.length)return i.logger.error(o.RTM_SEND_CUSTOM+\" command too long\"),void a(s.kZegoTaskLiveRoomSendCustomCommand.error.IM_CONTENT_TOO_LONG);var d=i.getRoomModules(e);d?(i.dataReport.addMsgInfo(u,{room_sid:s.kZegoTaskLiveRoomSendCustomCommand.room_sid(d.sessionID)}),d.messageHandler.sendCustomCommand(r,t,c,a)):a(s.kZegoTaskLiveRoomSendCustomCommand.error.ROOM_NOT_EXIST)}))}function p(e,t,r,i){var n=this;return void 0===r&&(r=1),void 0===i&&(i=1),new Promise((function(a,c){var u=n.getReportSeq();if(c=(n.dataReport.newReport(u,s.kZegoTaskLiveSendRoomBigIM.event),a=n.proxyRes(n.dataReport,u,a,c)).interResolve,a=a.interReject,\"string\"!=typeof e||\"\"==e)return n.logger.error(o.RTM_SEND_BRM+\"roomid must be string and not empty\"),void a(s.kZegoTaskLiveSendRoomBigIM.error.INPUT_PARAM,\" param roomID error\");if(void 0===t||\"\"==t)return n.logger.error(o.RTM_SEND_BRM+\" message is empty\"),void a(s.kZegoTaskLiveSendRoomBigIM.error.IM_CONTENT_NULL);if(\"string\"!=typeof t)return n.logger.error(o.RTM_SEND_BRM+\" message must be string\"),void a(s.kZegoTaskLiveSendRoomBigIM.error.INPUT_PARAM,\" param message error\");if(1024<t.length)return n.logger.error(o.RTM_SEND_BRM+\" message too long\"),void a(s.kZegoTaskLiveSendRoomBigIM.error.IM_CONTENT_TOO_LONG);var d=n.getRoomModules(e);d?(n.dataReport.addMsgInfo(u,{room_sid:s.kZegoTaskLiveSendRoomBigIM.room_sid(d.sessionID)}),d.messageHandler.sendBigRoomMessage(r,i,e,t,c,a)):a(s.kZegoTaskLiveSendRoomBigIM.error.ROOM_NOT_EXIST)}))}function g(e,t,r){var i=this;return new Promise((function(n,a){var c=i.getReportSeq();if(a=(i.dataReport.newReport(c,s.kZegoTaskLiveRoomSendReliableMessage.event),n=i.proxyRes(i.dataReport,c,n,a)).interResolve,n=n.interReject,\"string\"!=typeof e||\"\"==e)return i.logger.error(o.RTM_SEND_BCM+\" roomid must be string and not empty\"),void n(s.kZegoTaskLiveRoomSendRoomMessage.error.INPUT_PARAM,\" param roomID error\");if(!t||\"string\"!=typeof t)return i.logger.error(o.RTM_SEND_RLM+\" type must be string\"),void n({errorCode:s.kZegoTaskLiveRoomSendReliableMessage.error.INPUT_PARAM.code});if(128<t.length)return i.logger.error(o.RTM_SEND_RLM+\" type is too long\"),void n({errorCode:s.kZegoTaskLiveRoomSendReliableMessage.error.INPUT_PARAM.code});if(\"string\"!=typeof r)return i.logger.error(o.RTM_SEND_RLM+\" data must be string\"),void n({errorCode:s.kZegoTaskLiveRoomSendReliableMessage.error.INPUT_PARAM.code});if(4096<r.length)return i.logger.error(o.RTM_SEND_RLM+\" type is too long\"),void n({errorCode:s.kZegoTaskLiveRoomSendReliableMessage.error.INPUT_PARAM.code});var u=i.getRoomModules(e);u?(i.dataReport.addMsgInfo(c,{room_sid:s.kZegoTaskLiveRoomSendReliableMessage.room_sid(u.sessionID)}),u.messageHandler.sendReliableMessage(t,r,a,n)):n(s.kZegoTaskLiveRoomSendReliableMessage.error.ROOM_NOT_EXIST)}))}var f={_sendBroadcastMessage:l,sendBroadcastMessage:function(e,t){var r=this;return new Promise((function(i,o){l.call(r,e,t).then((function(e){i({errorCode:e.errorCode,messageID:e.messageID,extendedData:e.extendedData})})).catch((function(e){o(e)}))}))},_sendCustomCommand:h,sendCustomCommand:function(e,t,r){var i=this;return new Promise((function(o,n){h.call(i,e,t,r).then((function(e){o({errorCode:e.errorCode,extendedData:e.extendedData})})).catch((function(e){n(e)}))}))},_sendBarrageMessage:p,sendBarrageMessage:function(e,t){var r=this;return new Promise((function(i,o){p.call(r,e,t).then((function(e){i({errorCode:e.errorCode,messageID:e.messageID,extendedData:e.extendedData})})).catch((function(e){o(e)}))}))},_setRoomExtraInfo:g,setRoomExtraInfo:function(e,t,r){return g.call(this,e,t,r)},sendRelayMessage:function(e,t,r,i,o){(o=this.getRoomModules(o)||this.stateCenter.roomModulesList[0])?o.messageHandler.sendRelayMessage(e,t,r,i):i&&i(n.ROOM_NOT_EXIST,0)}},m={handlePushRoomMsg:function(e){var t=this.handlePushMsg(e);t[0].messageHandler.handlePushRoomMsg(e=t[1])},handlePushCustomMsg:function(e){var t=this.handlePushMsg(e);t[0].messageHandler.handlePushCustomMsg(e=t[1])},handlePushMergeMsg:function(e){var t=null==(t=null==e?void 0:e.header)?void 0:t.room_id;(t=this.rtm.getRoomModules(t))?t.messageHandler.handlePushMergeMsg(e):this.logger.error(o.SERVICE_PUSH+\" room no found ignore \"+JSON.stringify(e))},handlePushTransMsg:function(e){var t=this.handlePushMsg(e);t[0].messageHandler.handlePushTransMsg(e=t[1])},handleBigImMsgRsp:function(e){var t=null==(t=null==e?void 0:e.header)?void 0:t.room_id;(t=this.rtm.getRoomModules(t))?t.messageHandler.handleBigImMsgRsp(e):this.logger.error(o.SERVICE_PUSH+\" room no found ignore \"+JSON.stringify(e))},handlePushMsg:function(e){var t=null==(t=null==e?void 0:e.header)?void 0:t.room_id;if(t=this.rtm.getRoomModules(t))return[t,e];this.logger.error(o.SERVICE_PUSH+\" room no found ignore \"+JSON.stringify(e))}},_={initMessageHandler:function(){this.messageHandler=new u(this.logger,this.stateCenter,this.dataReport,this.service,this.liveRoomHandler,this.rtm,this)}};t.default={type:\"message\",install:function(e,t,r,i){for(var o in f)Object.defineProperty(e.prototype,o,{value:f[o],writable:!1});for(var o in m)Object.defineProperty(r.prototype,o,{value:m[o],writable:!1}),Object.defineProperty(i.prototype,o,{value:m[o],writable:!1});for(var o in _)Object.defineProperty(t.prototype,o,{value:_[o],writable:!1})}}}},r={},e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&r&&\"string\"!=typeof t)for(var o in t)e.d(i,o,function(e){return t[e]}.bind(null,o));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,\"a\",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p=\"\",e(e.s=22);function e(i){if(r[i])return r[i].exports;var o=r[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t,r}()},4119:function(e){\"use strict\";e.exports=__WEBPACK_EXTERNAL_MODULE__4119__}},__webpack_module_cache__={};function __nested_webpack_require_846110__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__nested_webpack_require_846110__),r.exports}__nested_webpack_require_846110__.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}();var __webpack_exports__=__nested_webpack_require_846110__(8307);return __webpack_exports__}()}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvemVnby1leHByZXNzLWVuZ2luZS13ZWJydGMvWmVnb0V4cHJlc3NXZWJSVEMuanMuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxHQUFHLElBQWlELGtCQUFrQixtQkFBTyxDQUFDLGtHQUE0QixHQUFHLEtBQUssYUFBOFAsQ0FBQyxpRkFBaUYsa0JBQWtCLHlCQUF5QixpQkFBaUIsYUFBYSx3QkFBd0IsaURBQWlELEtBQUssbUJBQW1CLHVCQUF1QixrQ0FBa0MsaUJBQWlCLG9CQUFvQixLQUFLLDRDQUE0QyxXQUFXLHFCQUFxQixrQkFBa0IsSUFBSSxtQkFBbUIsU0FBUyxnQkFBZ0IsSUFBSSxvQkFBb0IsYUFBYSxRQUFRLHFCQUFxQixlQUFlLGVBQWUsWUFBWSwyQkFBMkIsS0FBSyxrQ0FBa0MsNkNBQTZDLEtBQUssa0RBQWtELHlCQUF5Qiw4QkFBOEIsSUFBSSxFQUFFLGFBQWEsVUFBVSxxQ0FBcUMsTUFBTSx3Q0FBd0MsTUFBTSwyQ0FBMkMsb0VBQW9FLDhLQUE4Syx5QkFBeUIseUJBQXlCLHNCQUFzQixXQUFXLEVBQUUsd0JBQXdCLHFCQUFxQixvQ0FBb0MsVUFBVSxlQUFlLE1BQU0scUNBQXFDLE1BQU0sMENBQTBDLE1BQU0sOEJBQThCLHdCQUF3QixXQUFXLG9CQUFvQix5QkFBeUIsRUFBRSxtQkFBbUIsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLGlCQUFpQixhQUFhLGFBQWEsbUJBQW1CLDJDQUEyQywwREFBMEQsaUJBQWlCLE9BQU8sK0JBQStCLGlDQUFpQyx5Q0FBeUMsc0NBQXNDLFdBQVcsK0JBQStCLFlBQVksOEJBQThCLHlCQUF5QixNQUFNLGlCQUFpQixtQkFBbUIsd0JBQXdCLFFBQVEsV0FBVyw2QkFBNkIsYUFBYSxrQkFBa0IsYUFBYSxjQUFjLGtEQUFrRCxxRUFBcUUsa0JBQWtCLHFEQUFxRCxrQkFBa0IscURBQXFELGdCQUFnQiwwREFBMEQsZ0JBQWdCLDBEQUEwRCxrRkFBa0YsY0FBYyxvQkFBb0IsY0FBYyw2Q0FB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S0FBSyxpQ0FBaUMscUNBQXFDLG9CQUFvQixFQUFFLGlCQUFpQiw0RkFBNEYsZUFBZSx3Q0FBd0MsU0FBUyxFQUFFLG1CQUFtQiw4QkFBOEIscURBQXFELDBCQUEwQiw2Q0FBNkMsc0JBQXNCLDZEQUE2RCxZQUFZLGVBQWUsU0FBUyxpQkFBaUIsaUNBQWlDLGlCQUFpQixZQUFZLFVBQVUsc0JBQXNCLG1CQUFtQixpREFBaUQsa0JBQWtCLGNBQWMsNEJBQTRCLFlBQVkscUJBQXFCLDJEQUEyRCxRQUFRLEdBQUcsa0JBQWtCLGFBQWEsNkNBQTZDLDZCQUE2QixTQUFTLGlDQUFtQixJQUFJLGtDQUFrQywrQkFBK0IsbUNBQW1DLFlBQVkseURBQXlELGlDQUFtQixZQUFZLGlDQUFtQixjQUFjLGlEQUFpRCxJQUFJLDJDQUEyQyxTQUFTLDBDQUEwQyxHQUFHLHdCQUF3QixpQ0FBbUIsT0FBTywyQkFBMkIsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy96ZWdvLWV4cHJlc3MtZW5naW5lLXdlYnJ0Yy9aZWdvRXhwcmVzc1dlYlJUQy5qcz81NDUyIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQocmVxdWlyZShcInplZ28tZXhwcmVzcy1lbmdpbmUtd2VicnRtXCIpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW1wiemVnby1leHByZXNzLWVuZ2luZS13ZWJydG1cIl0sdCk7ZWxzZXt2YXIgcj1cIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz90KHJlcXVpcmUoXCJ6ZWdvLWV4cHJlc3MtZW5naW5lLXdlYnJ0bVwiKSk6dChlW1wiemVnby1leHByZXNzLWVuZ2luZS13ZWJydG1cIl0pO2Zvcih2YXIgaSBpbiByKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOmUpW2ldPXJbaV19fShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsKGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzQxMTlfXyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIF9fd2VicGFja19tb2R1bGVzX189ezU0Njc6ZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksaT0wLG89MixuPSEwO2Zvcig7bzxhcmd1bWVudHMubGVuZ3RoOylyW2krK109YXJndW1lbnRzW28rK107cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLHMpe3JbaV09ZnVuY3Rpb24oZSl7aWYobilpZihuPSExLGUpcyhlKTtlbHNle2Zvcih2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxyPTA7cjx0Lmxlbmd0aDspdFtyKytdPWFyZ3VtZW50c1tyXTtvLmFwcGx5KG51bGwsdCl9fTt0cnl7ZS5hcHBseSh0fHxudWxsLHIpfWNhdGNoKGUpe24mJihuPSExLHMoZSkpfX0pKX19LDQ5Mjc6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj10O3IubGVuZ3RoPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2lmKCF0KXJldHVybiAwO2Zvcih2YXIgcj0wOy0tdCU0PjEmJlwiPVwiPT09ZS5jaGFyQXQodCk7KSsrcjtyZXR1cm4gTWF0aC5jZWlsKDMqZS5sZW5ndGgpLzQtcn07Zm9yKHZhciBpPW5ldyBBcnJheSg2NCksbz1uZXcgQXJyYXkoMTIzKSxuPTA7bjw2NDspb1tpW25dPW48MjY/bis2NTpuPDUyP24rNzE6bjw2Mj9uLTQ6bi01OXw0M109bisrO3IuZW5jb2RlPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8sbj1udWxsLHM9W10sYT0wLGM9MDt0PHI7KXt2YXIgdT1lW3QrK107c3dpdGNoKGMpe2Nhc2UgMDpzW2ErK109aVt1Pj4yXSxvPSgzJnUpPDw0LGM9MTticmVhaztjYXNlIDE6c1thKytdPWlbb3x1Pj40XSxvPSgxNSZ1KTw8MixjPTI7YnJlYWs7Y2FzZSAyOnNbYSsrXT1pW298dT4+Nl0sc1thKytdPWlbNjMmdV0sYz0wfWE+ODE5MSYmKChufHwobj1bXSkpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscykpLGE9MCl9cmV0dXJuIGMmJihzW2ErK109aVtvXSxzW2ErK109NjEsMT09PWMmJihzW2ErK109NjEpKSxuPyhhJiZuLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscy5zbGljZSgwLGEpKSksbi5qb2luKFwiXCIpKTpTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxzLnNsaWNlKDAsYSkpfTt2YXIgcz1cImludmFsaWQgZW5jb2RpbmdcIjtyLmRlY29kZT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLG49cixhPTAsYz0wO2M8ZS5sZW5ndGg7KXt2YXIgdT1lLmNoYXJDb2RlQXQoYysrKTtpZig2MT09PXUmJmE+MSlicmVhaztpZih2b2lkIDA9PT0odT1vW3VdKSl0aHJvdyBFcnJvcihzKTtzd2l0Y2goYSl7Y2FzZSAwOmk9dSxhPTE7YnJlYWs7Y2FzZSAxOnRbcisrXT1pPDwyfCg0OCZ1KT4+NCxpPXUsYT0yO2JyZWFrO2Nhc2UgMjp0W3IrK109KDE1JmkpPDw0fCg2MCZ1KT4+MixpPXUsYT0zO2JyZWFrO2Nhc2UgMzp0W3IrK109KDMmaSk8PDZ8dSxhPTB9fWlmKDE9PT1hKXRocm93IEVycm9yKHMpO3JldHVybiByLW59LHIudGVzdD1mdW5jdGlvbihlKXtyZXR1cm4vXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PSk/JC8udGVzdChlKX19LDEyMTpmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7dGhpcy5fbGlzdGVuZXJzPXt9fWUuZXhwb3J0cz10LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4odGhpcy5fbGlzdGVuZXJzW2VdfHwodGhpcy5fbGlzdGVuZXJzW2VdPVtdKSkucHVzaCh7Zm46dCxjdHg6cnx8dGhpc30pLHRoaXN9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUpdGhpcy5fbGlzdGVuZXJzPXt9O2Vsc2UgaWYodm9pZCAwPT09dCl0aGlzLl9saXN0ZW5lcnNbZV09W107ZWxzZSBmb3IodmFyIHI9dGhpcy5fbGlzdGVuZXJzW2VdLGk9MDtpPHIubGVuZ3RoOylyW2ldLmZuPT09dD9yLnNwbGljZShpLDEpOisraTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9saXN0ZW5lcnNbZV07aWYodCl7Zm9yKHZhciByPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7KXIucHVzaChhcmd1bWVudHNbaSsrXSk7Zm9yKGk9MDtpPHQubGVuZ3RoOyl0W2ldLmZuLmFwcGx5KHRbaSsrXS5jdHgscil9cmV0dXJuIHRoaXN9fSw3MzMzOmZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9mdW5jdGlvbigpe3ZhciB0PW5ldyBGbG9hdDMyQXJyYXkoWy0wXSkscj1uZXcgVWludDhBcnJheSh0LmJ1ZmZlciksaT0xMjg9PT1yWzNdO2Z1bmN0aW9uIG8oZSxpLG8pe3RbMF09ZSxpW29dPXJbMF0saVtvKzFdPXJbMV0saVtvKzJdPXJbMl0saVtvKzNdPXJbM119ZnVuY3Rpb24gbihlLGksbyl7dFswXT1lLGlbb109clszXSxpW28rMV09clsyXSxpW28rMl09clsxXSxpW28rM109clswXX1mdW5jdGlvbiBzKGUsaSl7cmV0dXJuIHJbMF09ZVtpXSxyWzFdPWVbaSsxXSxyWzJdPWVbaSsyXSxyWzNdPWVbaSszXSx0WzBdfWZ1bmN0aW9uIGEoZSxpKXtyZXR1cm4gclszXT1lW2ldLHJbMl09ZVtpKzFdLHJbMV09ZVtpKzJdLHJbMF09ZVtpKzNdLHRbMF19ZS53cml0ZUZsb2F0TEU9aT9vOm4sZS53cml0ZUZsb2F0QkU9aT9uOm8sZS5yZWFkRmxvYXRMRT1pP3M6YSxlLnJlYWRGbG9hdEJFPWk/YTpzfSgpOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQscixpKXt2YXIgbz10PDA/MTowO2lmKG8mJih0PS10KSwwPT09dCllKDEvdD4wPzA6MjE0NzQ4MzY0OCxyLGkpO2Vsc2UgaWYoaXNOYU4odCkpZSgyMTQzMjg5MzQ0LHIsaSk7ZWxzZSBpZih0PjM0MDI4MjM0NjYzODUyODg2ZTIyKWUoKG88PDMxfDIxMzkwOTUwNDApPj4+MCxyLGkpO2Vsc2UgaWYodDwxMTc1NDk0MzUwODIyMjg3NWUtNTQpZSgobzw8MzF8TWF0aC5yb3VuZCh0LzE0MDEyOTg0NjQzMjQ4MTdlLTYwKSk+Pj4wLHIsaSk7ZWxzZXt2YXIgbj1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKTtlKChvPDwzMXxuKzEyNzw8MjN8ODM4ODYwNyZNYXRoLnJvdW5kKHQqTWF0aC5wb3coMiwtbikqODM4ODYwOCkpPj4+MCxyLGkpfX1mdW5jdGlvbiBzKGUsdCxyKXt2YXIgaT1lKHQsciksbz0yKihpPj4zMSkrMSxuPWk+Pj4yMyYyNTUscz04Mzg4NjA3Jmk7cmV0dXJuIDI1NT09PW4/cz9OYU46byooMS8wKTowPT09bj8xNDAxMjk4NDY0MzI0ODE3ZS02MCpvKnM6bypNYXRoLnBvdygyLG4tMTUwKSoocys4Mzg4NjA4KX1lLndyaXRlRmxvYXRMRT10LmJpbmQobnVsbCxyKSxlLndyaXRlRmxvYXRCRT10LmJpbmQobnVsbCxpKSxlLnJlYWRGbG9hdExFPXMuYmluZChudWxsLG8pLGUucmVhZEZsb2F0QkU9cy5iaW5kKG51bGwsbil9KCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0NjRBcnJheT9mdW5jdGlvbigpe3ZhciB0PW5ldyBGbG9hdDY0QXJyYXkoWy0wXSkscj1uZXcgVWludDhBcnJheSh0LmJ1ZmZlciksaT0xMjg9PT1yWzddO2Z1bmN0aW9uIG8oZSxpLG8pe3RbMF09ZSxpW29dPXJbMF0saVtvKzFdPXJbMV0saVtvKzJdPXJbMl0saVtvKzNdPXJbM10saVtvKzRdPXJbNF0saVtvKzVdPXJbNV0saVtvKzZdPXJbNl0saVtvKzddPXJbN119ZnVuY3Rpb24gbihlLGksbyl7dFswXT1lLGlbb109cls3XSxpW28rMV09cls2XSxpW28rMl09cls1XSxpW28rM109cls0XSxpW28rNF09clszXSxpW28rNV09clsyXSxpW28rNl09clsxXSxpW28rN109clswXX1mdW5jdGlvbiBzKGUsaSl7cmV0dXJuIHJbMF09ZVtpXSxyWzFdPWVbaSsxXSxyWzJdPWVbaSsyXSxyWzNdPWVbaSszXSxyWzRdPWVbaSs0XSxyWzVdPWVbaSs1XSxyWzZdPWVbaSs2XSxyWzddPWVbaSs3XSx0WzBdfWZ1bmN0aW9uIGEoZSxpKXtyZXR1cm4gcls3XT1lW2ldLHJbNl09ZVtpKzFdLHJbNV09ZVtpKzJdLHJbNF09ZVtpKzNdLHJbM109ZVtpKzRdLHJbMl09ZVtpKzVdLHJbMV09ZVtpKzZdLHJbMF09ZVtpKzddLHRbMF19ZS53cml0ZURvdWJsZUxFPWk/bzpuLGUud3JpdGVEb3VibGVCRT1pP246byxlLnJlYWREb3VibGVMRT1pP3M6YSxlLnJlYWREb3VibGVCRT1pP2E6c30oKTpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSx0LHIsaSxvLG4pe3ZhciBzPWk8MD8xOjA7aWYocyYmKGk9LWkpLDA9PT1pKWUoMCxvLG4rdCksZSgxL2k+MD8wOjIxNDc0ODM2NDgsbyxuK3IpO2Vsc2UgaWYoaXNOYU4oaSkpZSgwLG8sbit0KSxlKDIxNDY5NTkzNjAsbyxuK3IpO2Vsc2UgaWYoaT4xNzk3NjkzMTM0ODYyMzE1N2UyOTIpZSgwLG8sbit0KSxlKChzPDwzMXwyMTQ2NDM1MDcyKT4+PjAsbyxuK3IpO2Vsc2V7dmFyIGE7aWYoaTwyMjI1MDczODU4NTA3MjAxNGUtMzI0KWUoKGE9aS81ZS0zMjQpPj4+MCxvLG4rdCksZSgoczw8MzF8YS80Mjk0OTY3Mjk2KT4+PjAsbyxuK3IpO2Vsc2V7dmFyIGM9TWF0aC5mbG9vcihNYXRoLmxvZyhpKS9NYXRoLkxOMik7MTAyND09PWMmJihjPTEwMjMpLGUoNDUwMzU5OTYyNzM3MDQ5NiooYT1pKk1hdGgucG93KDIsLWMpKT4+PjAsbyxuK3QpLGUoKHM8PDMxfGMrMTAyMzw8MjB8MTA0ODU3NiphJjEwNDg1NzUpPj4+MCxvLG4rcil9fX1mdW5jdGlvbiBzKGUsdCxyLGksbyl7dmFyIG49ZShpLG8rdCkscz1lKGksbytyKSxhPTIqKHM+PjMxKSsxLGM9cz4+PjIwJjIwNDcsdT00Mjk0OTY3Mjk2KigxMDQ4NTc1JnMpK247cmV0dXJuIDIwNDc9PT1jP3U/TmFOOmEqKDEvMCk6MD09PWM/NWUtMzI0KmEqdTphKk1hdGgucG93KDIsYy0xMDc1KSoodSs0NTAzNTk5NjI3MzcwNDk2KX1lLndyaXRlRG91YmxlTEU9dC5iaW5kKG51bGwsciwwLDQpLGUud3JpdGVEb3VibGVCRT10LmJpbmQobnVsbCxpLDQsMCksZS5yZWFkRG91YmxlTEU9cy5iaW5kKG51bGwsbywwLDQpLGUucmVhZERvdWJsZUJFPXMuYmluZChudWxsLG4sNCwwKX0oKSxlfWZ1bmN0aW9uIHIoZSx0LHIpe3Rbcl09MjU1JmUsdFtyKzFdPWU+Pj44JjI1NSx0W3IrMl09ZT4+PjE2JjI1NSx0W3IrM109ZT4+PjI0fWZ1bmN0aW9uIGkoZSx0LHIpe3Rbcl09ZT4+PjI0LHRbcisxXT1lPj4+MTYmMjU1LHRbcisyXT1lPj4+OCYyNTUsdFtyKzNdPTI1NSZlfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4oZVt0XXxlW3QrMV08PDh8ZVt0KzJdPDwxNnxlW3QrM108PDI0KT4+PjB9ZnVuY3Rpb24gbihlLHQpe3JldHVybihlW3RdPDwyNHxlW3QrMV08PDE2fGVbdCsyXTw8OHxlW3QrM10pPj4+MH1lLmV4cG9ydHM9dCh0KX0sMzMzMDpmdW5jdGlvbihtb2R1bGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGlucXVpcmUobW9kdWxlTmFtZSl7dHJ5e3ZhciBtb2Q9ZXZhbChcInF1aXJlXCIucmVwbGFjZSgvXi8sXCJyZVwiKSkobW9kdWxlTmFtZSk7aWYobW9kJiYobW9kLmxlbmd0aHx8T2JqZWN0LmtleXMobW9kKS5sZW5ndGgpKXJldHVybiBtb2R9Y2F0Y2goZSl7fXJldHVybiBudWxsfW1vZHVsZS5leHBvcnRzPWlucXVpcmV9LDcyMTk6ZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yfHw4MTkyLG89aT4+PjEsbj1udWxsLHM9aTtyZXR1cm4gZnVuY3Rpb24ocil7aWYocjwxfHxyPm8pcmV0dXJuIGUocik7cytyPmkmJihuPWUoaSkscz0wKTt2YXIgYT10LmNhbGwobixzLHMrPXIpO3JldHVybiA3JnMmJihzPTErKDd8cykpLGF9fX0sNDUwNTpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByPXQ7ci5sZW5ndGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj0wLGk9MDtpPGUubGVuZ3RoOysraSkocj1lLmNoYXJDb2RlQXQoaSkpPDEyOD90Kz0xOnI8MjA0OD90Kz0yOjU1Mjk2PT0oNjQ1MTImcikmJjU2MzIwPT0oNjQ1MTImZS5jaGFyQ29kZUF0KGkrMSkpPygrK2ksdCs9NCk6dCs9MztyZXR1cm4gdH0sci5yZWFkPWZ1bmN0aW9uKGUsdCxyKXtpZihyLXQ8MSlyZXR1cm5cIlwiO2Zvcih2YXIgaSxvPW51bGwsbj1bXSxzPTA7dDxyOykoaT1lW3QrK10pPDEyOD9uW3MrK109aTppPjE5MSYmaTwyMjQ/bltzKytdPSgzMSZpKTw8Nnw2MyZlW3QrK106aT4yMzkmJmk8MzY1PyhpPSgoNyZpKTw8MTh8KDYzJmVbdCsrXSk8PDEyfCg2MyZlW3QrK10pPDw2fDYzJmVbdCsrXSktNjU1MzYsbltzKytdPTU1Mjk2KyhpPj4xMCksbltzKytdPTU2MzIwKygxMDIzJmkpKTpuW3MrK109KDE1JmkpPDwxMnwoNjMmZVt0KytdKTw8Nnw2MyZlW3QrK10scz44MTkxJiYoKG98fChvPVtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxuKSkscz0wKTtyZXR1cm4gbz8ocyYmby5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG4uc2xpY2UoMCxzKSkpLG8uam9pbihcIlwiKSk6U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbi5zbGljZSgwLHMpKX0sci53cml0ZT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLG8sbj1yLHM9MDtzPGUubGVuZ3RoOysrcykoaT1lLmNoYXJDb2RlQXQocykpPDEyOD90W3IrK109aTppPDIwNDg/KHRbcisrXT1pPj42fDE5Mix0W3IrK109NjMmaXwxMjgpOjU1Mjk2PT0oNjQ1MTImaSkmJjU2MzIwPT0oNjQ1MTImKG89ZS5jaGFyQ29kZUF0KHMrMSkpKT8oKytzLHRbcisrXT0oaT02NTUzNisoKDEwMjMmaSk8PDEwKSsoMTAyMyZvKSk+PjE4fDI0MCx0W3IrK109aT4+MTImNjN8MTI4LHRbcisrXT1pPj42JjYzfDEyOCx0W3IrK109NjMmaXwxMjgpOih0W3IrK109aT4+MTJ8MjI0LHRbcisrXT1pPj42JjYzfDEyOCx0W3IrK109NjMmaXwxMjgpO3JldHVybiByLW59fSw0Nzk5OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9cigzMzg4KX0sMzM4ODpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dDtmdW5jdGlvbiBvKCl7aS51dGlsLl9jb25maWd1cmUoKSxpLldyaXRlci5fY29uZmlndXJlKGkuQnVmZmVyV3JpdGVyKSxpLlJlYWRlci5fY29uZmlndXJlKGkuQnVmZmVyUmVhZGVyKX1pLmJ1aWxkPVwibWluaW1hbFwiLGkuV3JpdGVyPXIoNDIwKSxpLkJ1ZmZlcldyaXRlcj1yKDk0NjEpLGkuUmVhZGVyPXIoODM1MCksaS5CdWZmZXJSZWFkZXI9cig5MTE1KSxpLnV0aWw9cigxOTkwKSxpLnJwYz1yKDUzNzUpLGkucm9vdHM9cig0NzY1KSxpLmNvbmZpZ3VyZT1vLG8oKX0sODM1MDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWM7dmFyIGksbz1yKDE5OTApLG49by5Mb25nQml0cyxzPW8udXRmODtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIFJhbmdlRXJyb3IoXCJpbmRleCBvdXQgb2YgcmFuZ2U6IFwiK2UucG9zK1wiICsgXCIrKHR8fDEpK1wiID4gXCIrZS5sZW4pfWZ1bmN0aW9uIGMoZSl7dGhpcy5idWY9ZSx0aGlzLnBvcz0wLHRoaXMubGVuPWUubGVuZ3RofXZhciB1LGQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG5ldyBjKGUpO3Rocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIil9OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG5ldyBjKGUpO3Rocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIil9LGw9ZnVuY3Rpb24oKXtyZXR1cm4gby5CdWZmZXI/ZnVuY3Rpb24oZSl7cmV0dXJuKGMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBvLkJ1ZmZlci5pc0J1ZmZlcihlKT9uZXcgaShlKTpkKGUpfSkoZSl9OmR9O2Z1bmN0aW9uIGgoKXt2YXIgZT1uZXcgbigwLDApLHQ9MDtpZighKHRoaXMubGVuLXRoaXMucG9zPjQpKXtmb3IoO3Q8MzsrK3Qpe2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBhKHRoaXMpO2lmKGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGV9cmV0dXJuIGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk8PDcqdCk+Pj4wLGV9Zm9yKDt0PDQ7Kyt0KWlmKGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGU7aWYoZS5sbz0oZS5sb3woMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDI4KT4+PjAsZS5oaT0oZS5oaXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk+PjQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGU7aWYodD0wLHRoaXMubGVuLXRoaXMucG9zPjQpe2Zvcig7dDw1OysrdClpZihlLmhpPShlLmhpfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8Nyp0KzMpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGV9ZWxzZSBmb3IoO3Q8NTsrK3Qpe2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBhKHRoaXMpO2lmKGUuaGk9KGUuaGl8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQrMyk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZX10aHJvdyBFcnJvcihcImludmFsaWQgdmFyaW50IGVuY29kaW5nXCIpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4oZVt0LTRdfGVbdC0zXTw8OHxlW3QtMl08PDE2fGVbdC0xXTw8MjQpPj4+MH1mdW5jdGlvbiBnKCl7aWYodGhpcy5wb3MrOD50aGlzLmxlbil0aHJvdyBhKHRoaXMsOCk7cmV0dXJuIG5ldyBuKHAodGhpcy5idWYsdGhpcy5wb3MrPTQpLHAodGhpcy5idWYsdGhpcy5wb3MrPTQpKX1jLmNyZWF0ZT1sKCksYy5wcm90b3R5cGUuX3NsaWNlPW8uQXJyYXkucHJvdG90eXBlLnN1YmFycmF5fHxvLkFycmF5LnByb3RvdHlwZS5zbGljZSxjLnByb3RvdHlwZS51aW50MzI9KHU9NDI5NDk2NzI5NSxmdW5jdGlvbigpe2lmKHU9KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIHU7aWYodT0odXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDcpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIHU7aWYodT0odXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDE0KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiB1O2lmKHU9KHV8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwyMSk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gdTtpZih1PSh1fCgxNSZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwyOCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gdTtpZigodGhpcy5wb3MrPTUpPnRoaXMubGVuKXRocm93IHRoaXMucG9zPXRoaXMubGVuLGEodGhpcywxMCk7cmV0dXJuIHV9KSxjLnByb3RvdHlwZS5pbnQzMj1mdW5jdGlvbigpe3JldHVybiAwfHRoaXMudWludDMyKCl9LGMucHJvdG90eXBlLnNpbnQzMj1mdW5jdGlvbigpe3ZhciBlPXRoaXMudWludDMyKCk7cmV0dXJuIGU+Pj4xXi0oMSZlKXwwfSxjLnByb3RvdHlwZS5ib29sPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLnVpbnQzMigpfSxjLnByb3RvdHlwZS5maXhlZDMyPWZ1bmN0aW9uKCl7aWYodGhpcy5wb3MrND50aGlzLmxlbil0aHJvdyBhKHRoaXMsNCk7cmV0dXJuIHAodGhpcy5idWYsdGhpcy5wb3MrPTQpfSxjLnByb3RvdHlwZS5zZml4ZWQzMj1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgYSh0aGlzLDQpO3JldHVybiAwfHAodGhpcy5idWYsdGhpcy5wb3MrPTQpfSxjLnByb3RvdHlwZS5mbG9hdD1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgYSh0aGlzLDQpO3ZhciBlPW8uZmxvYXQucmVhZEZsb2F0TEUodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCxlfSxjLnByb3RvdHlwZS5kb3VibGU9ZnVuY3Rpb24oKXtpZih0aGlzLnBvcys4PnRoaXMubGVuKXRocm93IGEodGhpcyw0KTt2YXIgZT1vLmZsb2F0LnJlYWREb3VibGVMRSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz04LGV9LGMucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51aW50MzIoKSx0PXRoaXMucG9zLHI9dGhpcy5wb3MrZTtpZihyPnRoaXMubGVuKXRocm93IGEodGhpcyxlKTtyZXR1cm4gdGhpcy5wb3MrPWUsQXJyYXkuaXNBcnJheSh0aGlzLmJ1Zik/dGhpcy5idWYuc2xpY2UodCxyKTp0PT09cj9uZXcgdGhpcy5idWYuY29uc3RydWN0b3IoMCk6dGhpcy5fc2xpY2UuY2FsbCh0aGlzLmJ1Zix0LHIpfSxjLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ5dGVzKCk7cmV0dXJuIHMucmVhZChlLDAsZS5sZW5ndGgpfSxjLnByb3RvdHlwZS5za2lwPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXtpZih0aGlzLnBvcytlPnRoaXMubGVuKXRocm93IGEodGhpcyxlKTt0aGlzLnBvcys9ZX1lbHNlIGRve2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBhKHRoaXMpfXdoaWxlKDEyOCZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnNraXBUeXBlPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDA6dGhpcy5za2lwKCk7YnJlYWs7Y2FzZSAxOnRoaXMuc2tpcCg4KTticmVhaztjYXNlIDI6dGhpcy5za2lwKHRoaXMudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpmb3IoOzQhPShlPTcmdGhpcy51aW50MzIoKSk7KXRoaXMuc2tpcFR5cGUoZSk7YnJlYWs7Y2FzZSA1OnRoaXMuc2tpcCg0KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiaW52YWxpZCB3aXJlIHR5cGUgXCIrZStcIiBhdCBvZmZzZXQgXCIrdGhpcy5wb3MpfXJldHVybiB0aGlzfSxjLl9jb25maWd1cmU9ZnVuY3Rpb24oZSl7aT1lLGMuY3JlYXRlPWwoKSxpLl9jb25maWd1cmUoKTt2YXIgdD1vLkxvbmc/XCJ0b0xvbmdcIjpcInRvTnVtYmVyXCI7by5tZXJnZShjLnByb3RvdHlwZSx7aW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC5jYWxsKHRoaXMpW3RdKCExKX0sdWludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIGguY2FsbCh0aGlzKVt0XSghMCl9LHNpbnQ2NDpmdW5jdGlvbigpe3JldHVybiBoLmNhbGwodGhpcykuenpEZWNvZGUoKVt0XSghMSl9LGZpeGVkNjQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5jYWxsKHRoaXMpW3RdKCEwKX0sc2ZpeGVkNjQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5jYWxsKHRoaXMpW3RdKCExKX19KX19LDkxMTU6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1uO3ZhciBpPXIoODM1MCk7KG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1uO3ZhciBvPXIoMTk5MCk7ZnVuY3Rpb24gbihlKXtpLmNhbGwodGhpcyxlKX1uLl9jb25maWd1cmU9ZnVuY3Rpb24oKXtvLkJ1ZmZlciYmKG4ucHJvdG90eXBlLl9zbGljZT1vLkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UpfSxuLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnVpbnQzMigpO3JldHVybiB0aGlzLmJ1Zi51dGY4U2xpY2U/dGhpcy5idWYudXRmOFNsaWNlKHRoaXMucG9zLHRoaXMucG9zPU1hdGgubWluKHRoaXMucG9zK2UsdGhpcy5sZW4pKTp0aGlzLmJ1Zi50b1N0cmluZyhcInV0Zi04XCIsdGhpcy5wb3MsdGhpcy5wb3M9TWF0aC5taW4odGhpcy5wb3MrZSx0aGlzLmxlbikpfSxuLl9jb25maWd1cmUoKX0sNDc2NTpmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9e319LDUzNzU6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuU2VydmljZT1yKDE5MDkpfSwxOTA5OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9bzt2YXIgaT1yKDE5OTApO2Z1bmN0aW9uIG8oZSx0LHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwicnBjSW1wbCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aS5FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSx0aGlzLnJwY0ltcGw9ZSx0aGlzLnJlcXVlc3REZWxpbWl0ZWQ9Qm9vbGVhbih0KSx0aGlzLnJlc3BvbnNlRGVsaW1pdGVkPUJvb2xlYW4ocil9KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9byxvLnByb3RvdHlwZS5ycGNDYWxsPWZ1bmN0aW9uIGUodCxyLG8sbixzKXtpZighbil0aHJvdyBUeXBlRXJyb3IoXCJyZXF1ZXN0IG11c3QgYmUgc3BlY2lmaWVkXCIpO3ZhciBhPXRoaXM7aWYoIXMpcmV0dXJuIGkuYXNQcm9taXNlKGUsYSx0LHIsbyxuKTtpZihhLnJwY0ltcGwpdHJ5e3JldHVybiBhLnJwY0ltcGwodCxyW2EucmVxdWVzdERlbGltaXRlZD9cImVuY29kZURlbGltaXRlZFwiOlwiZW5jb2RlXCJdKG4pLmZpbmlzaCgpLChmdW5jdGlvbihlLHIpe2lmKGUpcmV0dXJuIGEuZW1pdChcImVycm9yXCIsZSx0KSxzKGUpO2lmKG51bGwhPT1yKXtpZighKHIgaW5zdGFuY2VvZiBvKSl0cnl7cj1vW2EucmVzcG9uc2VEZWxpbWl0ZWQ/XCJkZWNvZGVEZWxpbWl0ZWRcIjpcImRlY29kZVwiXShyKX1jYXRjaChlKXtyZXR1cm4gYS5lbWl0KFwiZXJyb3JcIixlLHQpLHMoZSl9cmV0dXJuIGEuZW1pdChcImRhdGFcIixyLHQpLHMobnVsbCxyKX1hLmVuZCghMCl9KSl9Y2F0Y2goZSl7cmV0dXJuIGEuZW1pdChcImVycm9yXCIsZSx0KSx2b2lkIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cyhlKX0pLDApfWVsc2Ugc2V0VGltZW91dCgoZnVuY3Rpb24oKXtzKEVycm9yKFwiYWxyZWFkeSBlbmRlZFwiKSl9KSwwKX0sby5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJwY0ltcGwmJihlfHx0aGlzLnJwY0ltcGwobnVsbCxudWxsLG51bGwpLHRoaXMucnBjSW1wbD1udWxsLHRoaXMuZW1pdChcImVuZFwiKS5vZmYoKSksdGhpc319LDkxMjk6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1vO3ZhciBpPXIoMTk5MCk7ZnVuY3Rpb24gbyhlLHQpe3RoaXMubG89ZT4+PjAsdGhpcy5oaT10Pj4+MH12YXIgbj1vLnplcm89bmV3IG8oMCwwKTtuLnRvTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LG4uenpFbmNvZGU9bi56ekRlY29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxuLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiAxfTt2YXIgcz1vLnplcm9IYXNoPVwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCI7by5mcm9tTnVtYmVyPWZ1bmN0aW9uKGUpe2lmKDA9PT1lKXJldHVybiBuO3ZhciB0PWU8MDt0JiYoZT0tZSk7dmFyIHI9ZT4+PjAsaT0oZS1yKS80Mjk0OTY3Mjk2Pj4+MDtyZXR1cm4gdCYmKGk9fmk+Pj4wLHI9fnI+Pj4wLCsrcj40Mjk0OTY3Mjk1JiYocj0wLCsraT40Mjk0OTY3Mjk1JiYoaT0wKSkpLG5ldyBvKHIsaSl9LG8uZnJvbT1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gby5mcm9tTnVtYmVyKGUpO2lmKGkuaXNTdHJpbmcoZSkpe2lmKCFpLkxvbmcpcmV0dXJuIG8uZnJvbU51bWJlcihwYXJzZUludChlLDEwKSk7ZT1pLkxvbmcuZnJvbVN0cmluZyhlKX1yZXR1cm4gZS5sb3d8fGUuaGlnaD9uZXcgbyhlLmxvdz4+PjAsZS5oaWdoPj4+MCk6bn0sby5wcm90b3R5cGUudG9OdW1iZXI9ZnVuY3Rpb24oZSl7aWYoIWUmJnRoaXMuaGk+Pj4zMSl7dmFyIHQ9MSt+dGhpcy5sbz4+PjAscj1+dGhpcy5oaT4+PjA7cmV0dXJuIHR8fChyPXIrMT4+PjApLC0odCs0Mjk0OTY3Mjk2KnIpfXJldHVybiB0aGlzLmxvKzQyOTQ5NjcyOTYqdGhpcy5oaX0sby5wcm90b3R5cGUudG9Mb25nPWZ1bmN0aW9uKGUpe3JldHVybiBpLkxvbmc/bmV3IGkuTG9uZygwfHRoaXMubG8sMHx0aGlzLmhpLEJvb2xlYW4oZSkpOntsb3c6MHx0aGlzLmxvLGhpZ2g6MHx0aGlzLmhpLHVuc2lnbmVkOkJvb2xlYW4oZSl9fTt2YXIgYT1TdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQ7by5mcm9tSGFzaD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXM/bjpuZXcgbygoYS5jYWxsKGUsMCl8YS5jYWxsKGUsMSk8PDh8YS5jYWxsKGUsMik8PDE2fGEuY2FsbChlLDMpPDwyNCk+Pj4wLChhLmNhbGwoZSw0KXxhLmNhbGwoZSw1KTw8OHxhLmNhbGwoZSw2KTw8MTZ8YS5jYWxsKGUsNyk8PDI0KT4+PjApfSxvLnByb3RvdHlwZS50b0hhc2g9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmdGhpcy5sbyx0aGlzLmxvPj4+OCYyNTUsdGhpcy5sbz4+PjE2JjI1NSx0aGlzLmxvPj4+MjQsMjU1JnRoaXMuaGksdGhpcy5oaT4+PjgmMjU1LHRoaXMuaGk+Pj4xNiYyNTUsdGhpcy5oaT4+PjI0KX0sby5wcm90b3R5cGUuenpFbmNvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhpPj4zMTtyZXR1cm4gdGhpcy5oaT0oKHRoaXMuaGk8PDF8dGhpcy5sbz4+PjMxKV5lKT4+PjAsdGhpcy5sbz0odGhpcy5sbzw8MV5lKT4+PjAsdGhpc30sby5wcm90b3R5cGUuenpEZWNvZGU9ZnVuY3Rpb24oKXt2YXIgZT0tKDEmdGhpcy5sbyk7cmV0dXJuIHRoaXMubG89KCh0aGlzLmxvPj4+MXx0aGlzLmhpPDwzMSleZSk+Pj4wLHRoaXMuaGk9KHRoaXMuaGk+Pj4xXmUpPj4+MCx0aGlzfSxvLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxvLHQ9KHRoaXMubG8+Pj4yOHx0aGlzLmhpPDw0KT4+PjAscj10aGlzLmhpPj4+MjQ7cmV0dXJuIDA9PT1yPzA9PT10P2U8MTYzODQ/ZTwxMjg/MToyOmU8MjA5NzE1Mj8zOjQ6dDwxNjM4ND90PDEyOD81OjY6dDwyMDk3MTUyPzc6ODpyPDEyOD85OjEwfX0sMTk5MDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dDtmdW5jdGlvbiBvKGUsdCxyKXtmb3IodmFyIGk9T2JqZWN0LmtleXModCksbz0wO288aS5sZW5ndGg7KytvKXZvaWQgMCE9PWVbaVtvXV0mJnJ8fChlW2lbb11dPXRbaVtvXV0pO3JldHVybiBlfWZ1bmN0aW9uIG4oZSl7ZnVuY3Rpb24gdChlLHIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHQpKXJldHVybiBuZXcgdChlLHIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibWVzc2FnZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX19KSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHQpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhY2tcIix7dmFsdWU6KG5ldyBFcnJvcikuc3RhY2t8fFwiXCJ9KSxyJiZvKHRoaXMscil9cmV0dXJuKHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dCxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlfX0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZStcIjogXCIrdGhpcy5tZXNzYWdlfSx0fWkuYXNQcm9taXNlPXIoNTQ2NyksaS5iYXNlNjQ9cig0OTI3KSxpLkV2ZW50RW1pdHRlcj1yKDEyMSksaS5mbG9hdD1yKDczMzMpLGkuaW5xdWlyZT1yKDMzMzApLGkudXRmOD1yKDQ1MDUpLGkucG9vbD1yKDcyMTkpLGkuTG9uZ0JpdHM9cig5MTI5KSxpLmlzTm9kZT1Cb29sZWFuKHZvaWQgMCE9PXIuZyYmci5nJiZyLmcucHJvY2VzcyYmci5nLnByb2Nlc3MudmVyc2lvbnMmJnIuZy5wcm9jZXNzLnZlcnNpb25zLm5vZGUpLGkuZ2xvYmFsPWkuaXNOb2RlJiZyLmd8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fHRoaXMsaS5lbXB0eUFycmF5PU9iamVjdC5mcmVlemU/T2JqZWN0LmZyZWV6ZShbXSk6W10saS5lbXB0eU9iamVjdD1PYmplY3QuZnJlZXplP09iamVjdC5mcmVlemUoe30pOnt9LGkuaXNJbnRlZ2VyPU51bWJlci5pc0ludGVnZXJ8fGZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9LGkuaXNTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBTdHJpbmd9LGkuaXNPYmplY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfSxpLmlzc2V0PWkuaXNTZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lW3RdO3JldHVybiEobnVsbD09cnx8IWUuaGFzT3duUHJvcGVydHkodCkpJiYoXCJvYmplY3RcIiE9dHlwZW9mIHJ8fChBcnJheS5pc0FycmF5KHIpP3IubGVuZ3RoOk9iamVjdC5rZXlzKHIpLmxlbmd0aCk+MCl9LGkuQnVmZmVyPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPWkuaW5xdWlyZShcImJ1ZmZlclwiKS5CdWZmZXI7cmV0dXJuIGUucHJvdG90eXBlLnV0ZjhXcml0ZT9lOm51bGx9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSgpLGkuX0J1ZmZlcl9mcm9tPW51bGwsaS5fQnVmZmVyX2FsbG9jVW5zYWZlPW51bGwsaS5uZXdCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/aS5CdWZmZXI/aS5fQnVmZmVyX2FsbG9jVW5zYWZlKGUpOm5ldyBpLkFycmF5KGUpOmkuQnVmZmVyP2kuX0J1ZmZlcl9mcm9tKGUpOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50OEFycmF5P2U6bmV3IFVpbnQ4QXJyYXkoZSl9LGkuQXJyYXk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxpLkxvbmc9aS5nbG9iYWwuZGNvZGVJTyYmaS5nbG9iYWwuZGNvZGVJTy5Mb25nfHxpLmdsb2JhbC5Mb25nfHxpLmlucXVpcmUoXCJsb25nXCIpLGkua2V5MlJlPS9edHJ1ZXxmYWxzZXwwfDEkLyxpLmtleTMyUmU9L14tPyg/OjB8WzEtOV1bMC05XSopJC8saS5rZXk2NFJlPS9eKD86W1xcXFx4MDAtXFxcXHhmZl17OH18LT8oPzowfFsxLTldWzAtOV0qKSkkLyxpLmxvbmdUb0hhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aS5Mb25nQml0cy5mcm9tKGUpLnRvSGFzaCgpOmkuTG9uZ0JpdHMuemVyb0hhc2h9LGkubG9uZ0Zyb21IYXNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5Mb25nQml0cy5mcm9tSGFzaChlKTtyZXR1cm4gaS5Mb25nP2kuTG9uZy5mcm9tQml0cyhyLmxvLHIuaGksdCk6ci50b051bWJlcihCb29sZWFuKHQpKX0saS5tZXJnZT1vLGkubGNGaXJzdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKStlLnN1YnN0cmluZygxKX0saS5uZXdFcnJvcj1uLGkuUHJvdG9jb2xFcnJvcj1uKFwiUHJvdG9jb2xFcnJvclwiKSxpLm9uZU9mR2V0dGVyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxyPTA7cjxlLmxlbmd0aDsrK3IpdFtlW3JdXT0xO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1PYmplY3Qua2V5cyh0aGlzKSxyPWUubGVuZ3RoLTE7cj4tMTstLXIpaWYoMT09PXRbZVtyXV0mJm51bGwhPXRoaXNbZVtyXV0pcmV0dXJuIGVbcl19fSxpLm9uZU9mU2V0dGVyPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoOysrcillW3JdIT09dCYmZGVsZXRlIHRoaXNbZVtyXV19fSxpLnRvSlNPTk9wdGlvbnM9e2xvbmdzOlN0cmluZyxlbnVtczpTdHJpbmcsYnl0ZXM6U3RyaW5nLGpzb246ITB9LGkuX2NvbmZpZ3VyZT1mdW5jdGlvbigpe3ZhciBlPWkuQnVmZmVyO2U/KGkuX0J1ZmZlcl9mcm9tPWUuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbSYmZS5mcm9tfHxmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgZSh0LHIpfSxpLl9CdWZmZXJfYWxsb2NVbnNhZmU9ZS5hbGxvY1Vuc2FmZXx8ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSk6aS5fQnVmZmVyX2Zyb209aS5fQnVmZmVyX2FsbG9jVW5zYWZlPW51bGx9fSw0MjA6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1sO3ZhciBpLG89cigxOTkwKSxuPW8uTG9uZ0JpdHMscz1vLmJhc2U2NCxhPW8udXRmODtmdW5jdGlvbiBjKGUsdCxyKXt0aGlzLmZuPWUsdGhpcy5sZW49dCx0aGlzLm5leHQ9dm9pZCAwLHRoaXMudmFsPXJ9ZnVuY3Rpb24gdSgpe31mdW5jdGlvbiBkKGUpe3RoaXMuaGVhZD1lLmhlYWQsdGhpcy50YWlsPWUudGFpbCx0aGlzLmxlbj1lLmxlbix0aGlzLm5leHQ9ZS5zdGF0ZXN9ZnVuY3Rpb24gbCgpe3RoaXMubGVuPTAsdGhpcy5oZWFkPW5ldyBjKHUsMCwwKSx0aGlzLnRhaWw9dGhpcy5oZWFkLHRoaXMuc3RhdGVzPW51bGx9dmFyIGg9ZnVuY3Rpb24oKXtyZXR1cm4gby5CdWZmZXI/ZnVuY3Rpb24oKXtyZXR1cm4obC5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGl9KSgpfTpmdW5jdGlvbigpe3JldHVybiBuZXcgbH19O2Z1bmN0aW9uIHAoZSx0LHIpe3Rbcl09MjU1JmV9ZnVuY3Rpb24gZyhlLHQpe3RoaXMubGVuPWUsdGhpcy5uZXh0PXZvaWQgMCx0aGlzLnZhbD10fWZ1bmN0aW9uIGYoZSx0LHIpe2Zvcig7ZS5oaTspdFtyKytdPTEyNyZlLmxvfDEyOCxlLmxvPShlLmxvPj4+N3xlLmhpPDwyNSk+Pj4wLGUuaGk+Pj49Nztmb3IoO2UubG8+MTI3Oyl0W3IrK109MTI3JmUubG98MTI4LGUubG89ZS5sbz4+Pjc7dFtyKytdPWUubG99ZnVuY3Rpb24gbShlLHQscil7dFtyXT0yNTUmZSx0W3IrMV09ZT4+PjgmMjU1LHRbcisyXT1lPj4+MTYmMjU1LHRbciszXT1lPj4+MjR9bC5jcmVhdGU9aCgpLGwuYWxsb2M9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLkFycmF5KGUpfSxvLkFycmF5IT09QXJyYXkmJihsLmFsbG9jPW8ucG9vbChsLmFsbG9jLG8uQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KSksbC5wcm90b3R5cGUuX3B1c2g9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IGMoZSx0LHIpLHRoaXMubGVuKz10LHRoaXN9LChnLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSkuZm49ZnVuY3Rpb24oZSx0LHIpe2Zvcig7ZT4xMjc7KXRbcisrXT0xMjcmZXwxMjgsZT4+Pj03O3Rbcl09ZX0sbC5wcm90b3R5cGUudWludDMyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxlbis9KHRoaXMudGFpbD10aGlzLnRhaWwubmV4dD1uZXcgZygoZT4+Pj0wKTwxMjg/MTplPDE2Mzg0PzI6ZTwyMDk3MTUyPzM6ZTwyNjg0MzU0NTY/NDo1LGUpKS5sZW4sdGhpc30sbC5wcm90b3R5cGUuaW50MzI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MD90aGlzLl9wdXNoKGYsMTAsbi5mcm9tTnVtYmVyKGUpKTp0aGlzLnVpbnQzMihlKX0sbC5wcm90b3R5cGUuc2ludDMyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVpbnQzMigoZTw8MV5lPj4zMSk+Pj4wKX0sbC5wcm90b3R5cGUuaW50NjQ9bC5wcm90b3R5cGUudWludDY0PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZnJvbShlKTtyZXR1cm4gdGhpcy5fcHVzaChmLHQubGVuZ3RoKCksdCl9LGwucHJvdG90eXBlLnNpbnQ2ND1mdW5jdGlvbihlKXt2YXIgdD1uLmZyb20oZSkuenpFbmNvZGUoKTtyZXR1cm4gdGhpcy5fcHVzaChmLHQubGVuZ3RoKCksdCl9LGwucHJvdG90eXBlLmJvb2w9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3B1c2gocCwxLGU/MTowKX0sbC5wcm90b3R5cGUuc2ZpeGVkMzI9bC5wcm90b3R5cGUuZml4ZWQzMj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHVzaChtLDQsZT4+PjApfSxsLnByb3RvdHlwZS5zZml4ZWQ2ND1sLnByb3RvdHlwZS5maXhlZDY0PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZnJvbShlKTtyZXR1cm4gdGhpcy5fcHVzaChtLDQsdC5sbykuX3B1c2gobSw0LHQuaGkpfSxsLnByb3RvdHlwZS5mbG9hdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHVzaChvLmZsb2F0LndyaXRlRmxvYXRMRSw0LGUpfSxsLnByb3RvdHlwZS5kb3VibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3B1c2goby5mbG9hdC53cml0ZURvdWJsZUxFLDgsZSl9O3ZhciBfPW8uQXJyYXkucHJvdG90eXBlLnNldD9mdW5jdGlvbihlLHQscil7dC5zZXQoZSxyKX06ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKXRbcitpXT1lW2ldfTtsLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aD4+PjA7aWYoIXQpcmV0dXJuIHRoaXMuX3B1c2gocCwxLDApO2lmKG8uaXNTdHJpbmcoZSkpe3ZhciByPWwuYWxsb2ModD1zLmxlbmd0aChlKSk7cy5kZWNvZGUoZSxyLDApLGU9cn1yZXR1cm4gdGhpcy51aW50MzIodCkuX3B1c2goXyx0LGUpfSxsLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5sZW5ndGgoZSk7cmV0dXJuIHQ/dGhpcy51aW50MzIodCkuX3B1c2goYS53cml0ZSx0LGUpOnRoaXMuX3B1c2gocCwxLDApfSxsLnByb3RvdHlwZS5mb3JrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVzPW5ldyBkKHRoaXMpLHRoaXMuaGVhZD10aGlzLnRhaWw9bmV3IGModSwwLDApLHRoaXMubGVuPTAsdGhpc30sbC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZXM/KHRoaXMuaGVhZD10aGlzLnN0YXRlcy5oZWFkLHRoaXMudGFpbD10aGlzLnN0YXRlcy50YWlsLHRoaXMubGVuPXRoaXMuc3RhdGVzLmxlbix0aGlzLnN0YXRlcz10aGlzLnN0YXRlcy5uZXh0KToodGhpcy5oZWFkPXRoaXMudGFpbD1uZXcgYyh1LDAsMCksdGhpcy5sZW49MCksdGhpc30sbC5wcm90b3R5cGUubGRlbGltPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oZWFkLHQ9dGhpcy50YWlsLHI9dGhpcy5sZW47cmV0dXJuIHRoaXMucmVzZXQoKS51aW50MzIociksciYmKHRoaXMudGFpbC5uZXh0PWUubmV4dCx0aGlzLnRhaWw9dCx0aGlzLmxlbis9ciksdGhpc30sbC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuaGVhZC5uZXh0LHQ9dGhpcy5jb25zdHJ1Y3Rvci5hbGxvYyh0aGlzLmxlbikscj0wO2U7KWUuZm4oZS52YWwsdCxyKSxyKz1lLmxlbixlPWUubmV4dDtyZXR1cm4gdH0sbC5fY29uZmlndXJlPWZ1bmN0aW9uKGUpe2k9ZSxsLmNyZWF0ZT1oKCksaS5fY29uZmlndXJlKCl9fSw5NDYxOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9bjt2YXIgaT1yKDQyMCk7KG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1uO3ZhciBvPXIoMTk5MCk7ZnVuY3Rpb24gbigpe2kuY2FsbCh0aGlzKX1mdW5jdGlvbiBzKGUsdCxyKXtlLmxlbmd0aDw0MD9vLnV0Zjgud3JpdGUoZSx0LHIpOnQudXRmOFdyaXRlP3QudXRmOFdyaXRlKGUscik6dC53cml0ZShlLHIpfW4uX2NvbmZpZ3VyZT1mdW5jdGlvbigpe24uYWxsb2M9by5fQnVmZmVyX2FsbG9jVW5zYWZlLG4ud3JpdGVCeXRlc0J1ZmZlcj1vLkJ1ZmZlciYmby5CdWZmZXIucHJvdG90eXBlIGluc3RhbmNlb2YgVWludDhBcnJheSYmXCJzZXRcIj09PW8uQnVmZmVyLnByb3RvdHlwZS5zZXQubmFtZT9mdW5jdGlvbihlLHQscil7dC5zZXQoZSxyKX06ZnVuY3Rpb24oZSx0LHIpe2lmKGUuY29weSllLmNvcHkodCxyLDAsZS5sZW5ndGgpO2Vsc2UgZm9yKHZhciBpPTA7aTxlLmxlbmd0aDspdFtyKytdPWVbaSsrXX19LG4ucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKGUpe28uaXNTdHJpbmcoZSkmJihlPW8uX0J1ZmZlcl9mcm9tKGUsXCJiYXNlNjRcIikpO3ZhciB0PWUubGVuZ3RoPj4+MDtyZXR1cm4gdGhpcy51aW50MzIodCksdCYmdGhpcy5fcHVzaChuLndyaXRlQnl0ZXNCdWZmZXIsdCxlKSx0aGlzfSxuLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9by5CdWZmZXIuYnl0ZUxlbmd0aChlKTtyZXR1cm4gdGhpcy51aW50MzIodCksdCYmdGhpcy5fcHVzaChzLHQsZSksdGhpc30sbi5fY29uZmlndXJlKCl9LDQzMjc6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiByPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsaT1hcmd1bWVudHMubGVuZ3RoO3I8aTtyKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb0F1ZGlvRWZmZWN0UGxheWVyPXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnplZ29XZWJSVEM9ZSx0aGlzLnN0cmVhbT10fXJldHVybiBlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlLHQsaSxvKXt0aGlzLnplZ29XZWJSVEMucGxheUVmZmVjdChyKHtzdHJlYW06dGhpcy5zdHJlYW0sZWZmZWN0SUQ6ZX0sdHx8e30pLGksbyl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zdG9wRWZmZWN0KHRoaXMuc3RyZWFtLGUpfSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnBhdXNlRWZmZWN0KHRoaXMuc3RyZWFtLGUpfSxlLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5yZXN1bWVFZmZlY3QodGhpcy5zdHJlYW0sZSl9LGUucHJvdG90eXBlLnNldFZvbHVtZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuc2V0RWZmZWN0Vm9sdW1lKHRoaXMuc3RyZWFtLHQsZSl9LGUucHJvdG90eXBlLmdldFRvdGFsRHVyYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5nZXRFZmZlY3REdXJhdGlvbihlKX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFByb2dyZXNzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuZ2V0RWZmZWN0Q3VycmVudFByb2dyZXNzKHRoaXMuc3RyZWFtLGUpfSxlLnByb3RvdHlwZS5zZWVrVG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnNlZWtBdWRpb0VmZmVjdCh0aGlzLnN0cmVhbSxlLHQpfSxlfSgpO3QuWmVnb0F1ZGlvRWZmZWN0UGxheWVyPWl9LDgzMTg6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb1JlYWxUaW1lU2VxdWVudGlhbERhdGFNYW5hZ2VyPXZvaWQgMDt2YXIgaT1yKDcxNjYpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5kYXRhQ2hhbm5lbE1hbmFnZXI9bmV3IGkuRGF0YUNoYW5uZWxMaXN0ZW5lcihlLHQpfXJldHVybiBlLnByb3RvdHlwZS5zdGFydEJyb2FkY2FzdGluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhQ2hhbm5lbE1hbmFnZXIuc3RhcnRCcm9hZGNhc3RpbmcoZSl9LGUucHJvdG90eXBlLnN0b3BCcm9hZGNhc3Rpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YUNoYW5uZWxNYW5hZ2VyLnN0b3BCcm9hZGNhc3RpbmcoZSl9LGUucHJvdG90eXBlLnNlbmRSZWFsVGltZVNlcXVlbnRpYWxEYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGF0YUNoYW5uZWxNYW5hZ2VyLnNlbmRSZWFsVGltZVNlcXVlbnRpYWxEYXRhKGUsdCl9LGUucHJvdG90eXBlLnN0YXJ0U3Vic2NyaWJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YUNoYW5uZWxNYW5hZ2VyLnN0YXJ0U3Vic2NyaWJpbmcoZSl9LGUucHJvdG90eXBlLnN0b3BTdWJzY3JpYmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhQ2hhbm5lbE1hbmFnZXIuc3RvcFN1YnNjcmliaW5nKGUpfSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQpe3RoaXMuZGF0YUNoYW5uZWxNYW5hZ2VyLm9uKGUsdCl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe3RoaXMuZGF0YUNoYW5uZWxNYW5hZ2VyLm9mZihlLHQpfSxlfSgpO3QuWmVnb1JlYWxUaW1lU2VxdWVudGlhbERhdGFNYW5hZ2VyPW99LDIxOTU6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlplZ29TRUlUeXBlPXQuWmVnb1JhbmdlQXVkaW9Nb2RlPXQuWmVnb1JhbmdlQXVkaW9NaWNyb3Bob25lU3RhdGU9dC5aZWdvTWl4U3RyZWFtUmVuZGVyTW9kZT10LlplZ29Mb3dsaWdodEVuaGFuY2VtZW50TW9kZT12b2lkIDAsZnVuY3Rpb24oZSl7ZVtlLk9mZj0wXT1cIk9mZlwiLGVbZS5Pbj0xXT1cIk9uXCJ9KHQuWmVnb0xvd2xpZ2h0RW5oYW5jZW1lbnRNb2RlfHwodC5aZWdvTG93bGlnaHRFbmhhbmNlbWVudE1vZGU9e30pKSxmdW5jdGlvbihlKXtlW2UuQXNwZWN0RmlsbD0wXT1cIkFzcGVjdEZpbGxcIixlW2UuQXNwZWN0Rml0PTFdPVwiQXNwZWN0Rml0XCJ9KHQuWmVnb01peFN0cmVhbVJlbmRlck1vZGV8fCh0LlplZ29NaXhTdHJlYW1SZW5kZXJNb2RlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk9mZj0wXT1cIk9mZlwiLGVbZS5UdXJuaW5nT249MV09XCJUdXJuaW5nT25cIixlW2UuT249Ml09XCJPblwifSh0LlplZ29SYW5nZUF1ZGlvTWljcm9waG9uZVN0YXRlfHwodC5aZWdvUmFuZ2VBdWRpb01pY3JvcGhvbmVTdGF0ZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5Xb3JsZD0wXT1cIldvcmxkXCIsZVtlLlRlYW09MV09XCJUZWFtXCJ9KHQuWmVnb1JhbmdlQXVkaW9Nb2RlfHwodC5aZWdvUmFuZ2VBdWRpb01vZGU9e30pKSxmdW5jdGlvbihlKXtlW2UuWmVnb0RlZmluZWQ9MF09XCJaZWdvRGVmaW5lZFwiLGVbZS5Vc2VyVW5yZWdpc3Rlcj0xXT1cIlVzZXJVbnJlZ2lzdGVyXCJ9KHQuWmVnb1NFSVR5cGV8fCh0LlplZ29TRUlUeXBlPXt9KSl9LDE5Mzk6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fSxuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb0V4cHJlc3NSYW5nZUF1ZGlvPXZvaWQgMDt2YXIgcz1uKHIoMjAzNikpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy56ZWdvQXVkaW9MaXN0ZW5lcj1zLmRlZmF1bHQuZ2V0SW5zdGFuY2UoZSx0KX1yZXR1cm4gZS5nZXRJbnN0YW5jZT1mdW5jdGlvbih0LHIpe2lmKCFlLmluc3RhbmNlKXtpZighdCl0aHJvdyBFcnJvcihcImNyZWF0ZSBpbnN0YW5jZSBmYWlsZWQuXCIpO2UuaW5zdGFuY2U9bmV3IGUodCxyKX1yZXR1cm4gZS5pbnN0YW5jZX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvQXVkaW9MaXN0ZW5lci5vbihlLHQpfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvQXVkaW9MaXN0ZW5lci5vZmYoZSx0KX0sZS5wcm90b3R5cGUuc2V0QXVkaW9SZWNlaXZlUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy56ZWdvQXVkaW9MaXN0ZW5lci5zZXRBdWRpb1JlY2VpdmVSYW5nZShlKX0sZS5wcm90b3R5cGUudXBkYXRlU2VsZlBvc2l0aW9uPWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMuemVnb0F1ZGlvTGlzdGVuZXIudXBkYXRlU2VsZlBvc2l0aW9uKGUsdCxyLGkpfSxlLnByb3RvdHlwZS51cGRhdGVBdWRpb1NvdXJjZT1mdW5jdGlvbihlLHQpe3RoaXMuemVnb0F1ZGlvTGlzdGVuZXIudXBkYXRlQXVkaW9Tb3VyY2UoZSx0KX0sZS5wcm90b3R5cGUuZW5hYmxlU3BhdGlhbGl6ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb0F1ZGlvTGlzdGVuZXIuZW5hYmxlU3BhdGlhbGl6ZXIoZSl9LGUucHJvdG90eXBlLmVuYWJsZU1pY3JvcGhvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb0F1ZGlvTGlzdGVuZXIuZW5hYmxlTWljcm9waG9uZShlKX0sZS5wcm90b3R5cGUuc2VsZWN0TWljcm9waG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnplZ29BdWRpb0xpc3RlbmVyLnNlbGVjdE1pYyhlKV07Y2FzZSAxOnJldHVyblsyLHQuc2VudCgpXX19KSl9KSl9LGUucHJvdG90eXBlLnNlbGVjdFNwZWFrZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb0F1ZGlvTGlzdGVuZXIuc2VsZWN0U3BlYWtlcihlKX0sZS5wcm90b3R5cGUuZW5hYmxlU3BlYWtlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvQXVkaW9MaXN0ZW5lci5lbmFibGVTcGVha2VyKGUpfSxlLnByb3RvdHlwZS5zZXRSYW5nZUF1ZGlvTW9kZT1mdW5jdGlvbihlKXt0aGlzLnplZ29BdWRpb0xpc3RlbmVyLnNldFJhbmdlQXVkaW9Nb2RlKGUpfSxlLnByb3RvdHlwZS5zZXRUZWFtSUQ9ZnVuY3Rpb24oZSl7dGhpcy56ZWdvQXVkaW9MaXN0ZW5lci5zZXRSYW5nZUF1ZGlvVGVhbUlEKGUpfSxlLnByb3RvdHlwZS5zZXRQb3NpdGlvblVwZGF0ZUZyZXF1ZW5jeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvQXVkaW9MaXN0ZW5lci5zZXRQb3NpdGlvblVwZGF0ZUZyZXF1ZW5jeShlKX0sZS5wcm90b3R5cGUuc2V0UmFuZ2VBdWRpb1ZvbHVtZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvQXVkaW9MaXN0ZW5lci5zZXRBdWRpb1ZvbHVtZShlKX0sZS5wcm90b3R5cGUuaXNBdWRpb0NvbnRleHRSdW5uaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJydW5uaW5nXCI9PT10aGlzLnplZ29BdWRpb0xpc3RlbmVyLmdldEF1ZGlvQ29udGV4dFN0YXRlKCl9LGUucHJvdG90eXBlLnJlc3VtZUF1ZGlvQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnplZ29BdWRpb0xpc3RlbmVyLnJlc3VtZUF1ZGlvQ29udGV4dCgpfSxlfSgpO3QuWmVnb0V4cHJlc3NSYW5nZUF1ZGlvPWF9LDc5ODA6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlplZ29TdHJlYW1WaWV3PXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy52PWV9cmV0dXJuIGUucHJvdG90eXBlLnRha2VTdHJlYW1TbmFwc2hvdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52LnRha2VTdHJlYW1TbmFwc2hvdChlKX0sZS5wcm90b3R5cGUucGxheT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnYucGxheShlLHQpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudi5zdG9wKCl9LGUucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMudi5yZXN1bWUoKX0sZS5wcm90b3R5cGUuc2V0QXVkaW9NdXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52LnNldEF1ZGlvTXV0ZWQoZSl9LGUucHJvdG90eXBlLnNldFZpZGVvTXV0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudi5zZXRWaWRlb011dGVkKGUpfSxlLnByb3RvdHlwZS51c2VBdWRpb091dHB1dERldmljZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52LnVzZUF1ZGlvT3V0KGUpfSxlLnByb3RvdHlwZS5zZXRWb2x1bWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudi5zZXRWb2x1bWUoZSl9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMudi5vbihlLHQpfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy52Lm9mZihlLHQpfSxlfSgpO3QuWmVnb1N0cmVhbVZpZXc9cn0sODMwNzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb0V4cHJlc3NFbmdpbmU9dC5XZWJSVENVdGlsPXZvaWQgMDt2YXIgcz1yKDI2NjUpLGE9bihyKDMxMjYpKSxjPW4ocig5ODY5KSksdT1uKHIoODE0MykpLGQ9bihyKDI2NTYpKSxsPW4ocig3OTIpKSxoPW4ocigzMzkyKSkscD1yKDYzODMpLGc9cig1ODYzKSxmPXIoOTk3OCk7cy5aZWdvRXhwcmVzc0VuZ2luZS51c2UoYS5kZWZhdWx0KSxzLlplZ29FeHByZXNzRW5naW5lLnVzZShjLmRlZmF1bHQpLHMuWmVnb0V4cHJlc3NFbmdpbmUudXNlKHUuZGVmYXVsdCkscy5aZWdvRXhwcmVzc0VuZ2luZS51c2UoZC5kZWZhdWx0KSxzLlplZ29FeHByZXNzRW5naW5lLnVzZShsLmRlZmF1bHQpLHMuWmVnb0V4cHJlc3NFbmdpbmUudXNlKGguZGVmYXVsdCkscy5aZWdvRXhwcmVzc0VuZ2luZS51c2UocC5SYW5nZUF1ZGlvKSxzLlplZ29FeHByZXNzRW5naW5lLnVzZShnLkRhdGFDaGFubmVsKSxzLlplZ29FeHByZXNzRW5naW5lLnVzZShmLkJlYXV0eUVmZmVjdCk7dmFyIG09cigyNjY1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIldlYlJUQ1V0aWxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5XZWJSVENVdGlsfX0pO3ZhciBfPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvKHQsZSksdH0ocy5aZWdvRXhwcmVzc0VuZ2luZSk7dC5aZWdvRXhwcmVzc0VuZ2luZT1ffSwyNjY1OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxvPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuV2ViUlRDVXRpbD10LlplZ29FeHByZXNzRW5naW5lPXZvaWQgMDt2YXIgbj1yKDQxMTkpLHM9cig4NDY2KSxhPXIoNDMyNyksYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIGk9dGhpcztyZXR1cm4gbi5aZWdvRXhwcmVzc1dlYlJUTUVuZ2luZS52ZXJzaW9uPVwiMi4xOS4wXCIsKGk9ZS5jYWxsKHRoaXMsdCxyLDAsYXJndW1lbnRzWzJdKXx8dGhpcykuemVnb1dlYlJUQz1uZXcgcy5aZWdvV2ViUlRDKGkubG9nZ2VyLGkuZGF0YVJlcG9ydCxpLnplZ29XZWJSVE0pLGl9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5zZXRTRUlDb25maWc9ZnVuY3Rpb24oZSl7dGhpcy56ZWdvV2ViUlRDLnNldFNFSUNvbmZpZyhlKX0sdC51c2U9ZnVuY3Rpb24oZSl7bi5aZWdvRXhwcmVzc1dlYlJUTUVuZ2luZS51c2UoZSkscy5aZWdvV2ViUlRDLnVzZShlKX0sdC5wcm90b3R5cGUuY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdGhpcy56ZWdvV2ViUlRDLmNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzKHQsZSl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVE0uc3RhdGVDZW50ZXIubGlzdGVuZXJMaXN0W2VdP3RoaXMuemVnb1dlYlJUTS5vZmYoZSx0KTohIXRoaXMuemVnb1dlYlJUQy5zdGF0ZUNlbnRlci5saXN0ZW5lckxpc3RbZV0mJnRoaXMuemVnb1dlYlJUQy5vZmYoZSx0KX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRNLnN0YXRlQ2VudGVyLmxpc3RlbmVyTGlzdFtlXT90aGlzLnplZ29XZWJSVE0ub24oZSx0KTohIXRoaXMuemVnb1dlYlJUQy5zdGF0ZUNlbnRlci5saXN0ZW5lckxpc3RbZV0mJnRoaXMuemVnb1dlYlJUQy5vbihlLHQpfSx0LnByb3RvdHlwZS5jcmVhdGVTdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5jcmVhdGVTdHJlYW0oZSl9LHQucHJvdG90eXBlLmVuYWJsZUFpRGVub2lzZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuZW5hYmxlQWlEZW5vaXNlKGUsdCl9LHQucHJvdG90eXBlLmdldFB1Ymxpc2hpbmdTdHJlYW1RdWFsaXR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuZ2V0UHVibGlzaGluZ1N0cmVhbVF1YWxpdHkoZSl9LHQucHJvdG90eXBlLnNlbmRTRUk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnNlbmRTRUkoZSx0KX0sdC5wcm90b3R5cGUuZ2V0RWxlY3Ryb25TY3JlZW5Tb3VyY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5nZXRFbGVjdHJvblNjcmVlblNvdXJjZXMoKX0sdC5wcm90b3R5cGUuZGVzdHJveVN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmRlc3Ryb3lTdHJlYW0oZSl9LHQucHJvdG90eXBlLnN0YXJ0UHVibGlzaGluZ1N0cmVhbT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zdGFydFB1Ymxpc2hpbmdTdHJlYW0oZSx0LHIpfSx0LnByb3RvdHlwZS5zdG9wUHVibGlzaGluZ1N0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnN0b3BQdWJsaXNoaW5nU3RyZWFtKGUpfSx0LnByb3RvdHlwZS5zZXRWaWRlb0NvbmZpZz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuc2V0VmlkZW9Db25maWcoZSx0KX0sdC5wcm90b3R5cGUuc2V0QXVkaW9Db25maWc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnNldEF1ZGlvQ29uZmlnKGUsdCl9LHQucHJvdG90eXBlLnJlcGxhY2VUcmFjaz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMucmVwbGFjZVRyYWNrKGUsdCl9LHQucHJvdG90eXBlLnNldENhcHR1cmVWb2x1bWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnNldENhcHR1cmVWb2x1bWUoZSx0KX0sdC5wcm90b3R5cGUuc2V0RHVtbXlDYXB0dXJlSW1hZ2VQYXRoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zZXREdW1teUNhcHR1cmVJbWFnZVBhdGgoZSx0KX0sdC5wcm90b3R5cGUuc2V0U3RyZWFtRXh0cmFJbmZvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zZXRTdHJlYW1FeHRyYUluZm8oZSx0KX0sdC5wcm90b3R5cGUuYWRkUHVibGlzaENkblVybD1mdW5jdGlvbihlLHQpe3JldHVybiAzPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLnplZ29XZWJSVEMuYWRkUHVibGlzaENkblVybChhcmd1bWVudHNbMF0sYXJndW1lbnRzWzJdKTp0aGlzLnplZ29XZWJSVEMuYWRkUHVibGlzaENkblVybChlLHQpfSx0LnByb3RvdHlwZS5yZW1vdmVQdWJsaXNoQ2RuVXJsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDM9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuemVnb1dlYlJUQy5yZW1vdmVQdWJsaXNoQ2RuVXJsKGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMl0pOnRoaXMuemVnb1dlYlJUQy5yZW1vdmVQdWJsaXNoQ2RuVXJsKGUsdCl9LHQucHJvdG90eXBlLm11dGVQdWJsaXNoU3RyZWFtVmlkZW89ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnplZ29XZWJSVEMubXV0ZVB1Ymxpc2hTdHJlYW1WaWRlbyhlLHQscil9LHQucHJvdG90eXBlLm11dGVQdWJsaXNoU3RyZWFtQXVkaW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLm11dGVQdWJsaXNoU3RyZWFtQXVkaW8oZSx0KX0sdC5wcm90b3R5cGUuc2V0RWZmZWN0c0JlYXV0eT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zZXRCZWF1dHlFZmZlY3QoZSx0LHIpfSx0LnByb3RvdHlwZS5zZXRMb3dsaWdodEVuaGFuY2VtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zZXRMb3dsaWdodEVuaGFuY2UoZSx0KX0sdC5wcm90b3R5cGUuZW5hYmxlRHVhbFN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmVuYWJsZUR1YWxTdHJlYW0oZSl9LHQucHJvdG90eXBlLnNldExvd1N0cmVhbVBhcmFtZXRlcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuc2V0TG93U3RyZWFtUGFyYW1ldGVyKGUsdCl9LHQucHJvdG90eXBlLnN0YXJ0UGxheWluZ1N0cmVhbT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuc3RhcnRQbGF5aW5nU3RyZWFtKGUsdCl9LHQucHJvdG90eXBlLnN0b3BQbGF5aW5nU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuc3RvcFBsYXlpbmdTdHJlYW0oZSl9LHQucHJvdG90eXBlLm11dGVQbGF5U3RyZWFtVmlkZW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLm11dGVQbGF5U3RyZWFtVmlkZW8oZSx0KX0sdC5wcm90b3R5cGUubXV0ZVBsYXlTdHJlYW1BdWRpbz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMubXV0ZVBsYXlTdHJlYW1BdWRpbyhlLHQpfSx0LnByb3RvdHlwZS5nZXRQbGF5aW5nU3RyZWFtUXVhbGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmdldFBsYXlpbmdTdHJlYW1RdWFsaXR5KGUpfSx0LnByb3RvdHlwZS5jcmVhdGVMb2NhbFN0cmVhbVZpZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5jcmVhdGVMb2NhbFZpZXdlcihlKX0sdC5wcm90b3R5cGUuY3JlYXRlUmVtb3RlU3RyZWFtVmlldz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmNyZWF0ZVJlbW90ZVZpZXdlcihlKX0sdC5wcm90b3R5cGUuc3RhcnRNaXhlclRhc2s9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zdGFydE1peGVyVGFzayhlKX0sdC5wcm90b3R5cGUuc3RvcE1peGVyVGFzaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnN0b3BNaXhlclRhc2soZSl9LHQucHJvdG90eXBlLnNldE1peGVyVGFza0NvbmZpZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnNldE1peGVyVGFza0NvbmZpZyhlKX0sdC5wcm90b3R5cGUuc3RhcnRNaXhpbmdBdWRpbz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuc3RhcnRNaXhpbmdBdWRpbyhlLHQpfSx0LnByb3RvdHlwZS5zdG9wTWl4aW5nQXVkaW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnN0b3BNaXhpbmdBdWRpbyhlLHQpfSx0LnByb3RvdHlwZS5zZXRNaXhpbmdBdWRpb1ZvbHVtZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zZXRNaXhpbmdBdWRpb1ZvbHVtZShlLHQscil9LHQucHJvdG90eXBlLmNyZWF0ZUF1ZGlvRWZmZWN0UGxheWVyPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSlyZXR1cm4gbmV3IGEuWmVnb0F1ZGlvRWZmZWN0UGxheWVyKHRoaXMuemVnb1dlYlJUQyxlKTt0aHJvdyBFcnJvcihcIlBhcmFtIGxvY2FsU3RyZWFtIGlzIG5vdCBpbnN0YW5jZSBvZiBNZWRpYVN0cmVhbS5cIil9LHQucHJvdG90eXBlLmxvYWRBdWRpb0VmZmVjdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe3IuemVnb1dlYlJUQy5wcmVsb2FkRWZmZWN0KGUsdCwoZnVuY3Rpb24odCl7dCYmbyh0KSxpKGUpfSkpfSkpfSx0LnByb3RvdHlwZS51bmxvYWRBdWRpb0VmZmVjdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnVubG9hZEVmZmVjdChlKX0sdC5wcm90b3R5cGUuZW51bURldmljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmVudW1EZXZpY2VzKCl9LHQucHJvdG90eXBlLmdldENhbWVyYXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmdldENhbWVyYXMoKX0sdC5wcm90b3R5cGUuZ2V0TWljcm9waG9uZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmdldE1pY3JvcGhvbmVzKCl9LHQucHJvdG90eXBlLmdldFNwZWFrZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5nZXRTcGVha2VycygpfSx0LnByb3RvdHlwZS51c2VWaWRlb0RldmljZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnplZ29XZWJSVEMudXNlVmlkZW9EZXZpY2UoZSx0KX0sdC5wcm90b3R5cGUudXNlQXVkaW9EZXZpY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLnVzZUF1ZGlvRGV2aWNlKGUsdCl9LHQucHJvdG90eXBlLnVzZUF1ZGlvT3V0cHV0RGV2aWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5zZXRBdWRpb091dHB1dERldmljZShlLHQpfSx0LnByb3RvdHlwZS5zZXRTb3VuZExldmVsRGVsZWdhdGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnplZ29XZWJSVEMuc2V0U291bmRMZXZlbERlbGVnYXRlKGUsdCxudWxsPT1yP3ZvaWQgMDpyLmVuYWJsZUluQmFja2dyb3VuZCl9LHQucHJvdG90eXBlLmlzTWljcm9waG9uZU11dGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemVnb1dlYlJUQy5pc01pY3JvcGhvbmVNdXRlZCgpfSx0LnByb3RvdHlwZS5tdXRlTWljcm9waG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLm11dGVNaWNyb3Bob25lKGUpfSx0LnByb3RvdHlwZS5lbmFibGVWaWRlb0NhcHR1cmVEZXZpY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmVuYWJsZUNhbWVyYUNhcHR1cmluZyhlLHQpfSx0LnByb3RvdHlwZS5jcmVhdGVSYW5nZUF1ZGlvSW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmNyZWF0ZVJhbmdlQXVkaW9JbnN0YW5jZSgpfSx0LnByb3RvdHlwZS5jcmVhdGVSZWFsVGltZVNlcXVlbnRpYWxEYXRhTWFuYWdlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56ZWdvV2ViUlRDLmNyZWF0ZVJlYWxUaW1lU2VxdWVudGlhbERhdGFNYW5hZ2VyKGUpfSx0LnByb3RvdHlwZS5kZXN0cm95UmVhbFRpbWVTZXF1ZW50aWFsRGF0YU1hbmFnZXI9ZnVuY3Rpb24oZSl7dGhpcy56ZWdvV2ViUlRDLmRlc3Ryb3lSZWFsVGltZVNlcXVlbnRpYWxEYXRhTWFuYWdlcihlKX0sdH0obi5aZWdvRXhwcmVzc1dlYlJUTUVuZ2luZSk7dC5aZWdvRXhwcmVzc0VuZ2luZT1jO3ZhciB1PXIoMzM2NCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJXZWJSVENVdGlsXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUuV2ViUlRDVXRpbH19KX0sNjI2MjpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWkVHT19XRUJSVENfQUNUSU9OPXZvaWQgMCxmdW5jdGlvbihlKXtlLkNPTlNUUlVDVE9SPVwiemMuMFwiLGUuQ0hFQ0tfU1VQUE9SVD1cInpjLmNzclwiLGUuQ1JFQVRFX1NUUkVBTT1cInpjLmNzXCIsZS5ERVNUUk9ZX1NUUkVBTT1cInpjLmRzXCIsZS5TVEFSVF9QVUJMSVNISU5HX1NUUkVBTT1cInpjLnNwcy4wXCIsZS5TVEFSVF9QTEFZSU5HX1NUUkVBTT1cInpjLnNwcy4xXCIsZS5TVE9QX1BVQkxJU0hJTkdfU1RSRUFNPVwiemMuc3BzLjAuMFwiLGUuU1RPUF9QTEFZSU5HX1NUUkVBTT1cInpjLnNwcy4xLjBcIixlLlNFVF9NRURJQV9TSURFX0ZMQUdTPVwiemMuc21zZy4wXCIsZS5TRU5EX01FRElBX1NJREVfSU5GTz1cInpjLnNtc2kuMFwiLGUuT05fU1RSRUFNPVwiemMub3NcIixlLk9OX1BVU0hfU1RSRUFNX1VQREFURT1cInpjLm9wc3VcIixlLkJJTkRfV0lORE9XX0xJU1RFTkVSPVwiemMud2xcIixlLlNFVF9BVURJT19PVVRQVVQ9XCJ6Yy5zYW9cIixlLlNFVF9DVVNUT01fU0lHTkFMX1VSTD1cInpjLnNjc3VcIixlLlNFVF9UVVJOX09WRVJfVENQX09OTFk9XCJ6Yy5zdG90b1wiLGUuUkRIX0FDVElWRT1cInpjLnJkaC5hXCIsZS5SREhfTUFYX1RJTUU9XCJ6Yy5yZGgubVwiLGUuUkRIX1dFQlJUQ19VUkxfUlNQPVwiemMucmRoLmhmd3VyXCIsZS5QVUJMSVNIX1NUQVRFX0hBTkRMRT1cInpjLnBzaC4wXCIsZS5QTEFZX1NUQVRFX0hBTkRMRT1cInpjLnBzaC4xXCIsZS5TVEFURUNFTlRFUl9BQ1RJT05fTElTVEVORVI9XCJ6Yy5zYy5hbFwiLGUuU1RBVEVDRU5URVJfU0VUX1NFVFRJTkc9XCJ6Yy5zYy5zc1wiLGUuU0lHTkFMX1NFVF9TRVNTSU9OX0lORk89XCJ6Yy5zLnNzaVwiLGUuU0lHTkFMX1JFU0VUX0NPTk5FQ1RfVElNRVI9XCJ6Yy5zLnJjdFwiLGUuU0lHTkFMX0JJTkRfV0VCU09DS0VUX0hBTkRMRT1cInpjLnMuYndoXCIsZS5TSUdOQUxfUkVTRVRfQ0hFQ0tfTUVTU0FHRT1cInpjLnMucmNtXCIsZS5TSUdOQUxfVVBEQVRFX1RPS0VOPVwiemMucy51dFwiLGUuU0lHTkFMX1NFTkRfTUVTU0FHRV9XSVRIX0NBTExCQUNLPVwiemMucy5zbXdjXCIsZS5TSUdOQUxfQ09OTkVDVF9TRVJWRVI9XCJ6Yy5zLmNzLjBcIixlLlNJR05BTF9TVEFSVF9DT05ORUNUX1RJTUVSPVwiemMucy5zY3RcIixlLlNJR05BTF9ESVNDT05ORUNUX1NFUlZFUj1cInpjLnMuZGNcIixlLlNJR05BTF9DUkVBVEVfU0VTU0lPTj1cInpjLnMuY3MuMVwiLGUuU0lHTkFMX1JFTU9WRV9TRVNTSU9OPVwiemMucy5yc1wiLGUuU0lHTkFMX1NFTkRfUkVNT1ZFX1NFU1NJT049XCJ6Yy5zLnNyc1wiLGUuU0lHTkFMX1NFTkRfTUVTU0FHRT1cInpjLnMuc21cIixlLlNJR05BTF9IQU5ETEVfUkVTUE9ORF9EQVRBPVwiemMucy5ocmRcIixlLlNJR05BTF9BRERfU0VTU0lPTj1cInpjLnMuYXNcIixlLlNJR05BTF9IQU5ETEVfUFVTSF9EQVRBPVwiemMucy5ocGRcIixlLlNJR05BTF9IQU5ETEVfUFVTSF9SRVNFVF9TRVNTSU9OX0RBVEE9XCJ6Yy5zLmhwcnNkXCIsZS5TSUdOQUxfU0VORF9NRURJQV9ERVNDPVwiemMucy5zbWRcIixlLlNJR05BTF9TRU5EX0NBTkRJREFURV9JTkZPPVwiemMucy5zY2lcIixlLlNJR05BTF9TRU5EX01FRElBX0RFU0NfQUNLPVwiemMucy5zbWRhXCIsZS5TSUdOQUxfU0VORF9DQU5ESURBVEVfSU5GT19BQ0s9XCJ6Yy5zLnNjaWFcIixlLlNJR05BTF9TRU5EX0NMT1NFX1NFU1NJT05fQUNLPVwiemMucy5zY3NhXCIsZS5TSUdOQUxfU0VORF9SRVNFVF9TRVNTSU9OX0FDSz1cInpjLnMuc3JzYVwiLGUuU0lHTkFMX1JFR0lTVEVSX1BVU0hfQ0FMTEJBQ0s9XCJ6Yy5zLnJwY1wiLGUuU0lHTkFMX0NIRUNLX01FU1NBR0VfVElNRU9VVD1cInpjLnMuY210XCIsZS5TSUdOQUxfU0VORF9IRUFSVEJFQVQ9XCJ6Yy5zLnNoXCIsZS5TSUdOQUxfUVVBTElUWV9SRVBPUlQ9XCJ6Yy5zLnFyXCIsZS5TSUdOQUxfU0VORF9TVFJFQU1fU1RBVFVTPVwiemMucy5zc3NcIixlLlNJR05BTF9BQ1RJVkVfUExBWV9WSURFT19TVFJFQU09XCJ6Yy5zLmFwdnNcIixlLlNJR05BTF9BQ1RJVkVfUExBWV9BVURJT19TVFJFQU09XCJ6Yy5zLmFwYXNcIixlLlNJR05BTF9TRU5EX0JST0FEQ0FTVF9TVEFUVVM9XCJ6Yy5zLnNic1wiLGUuU0lHTkFMX1NFTkRfTkVUX1BST0JFPVwiemMucy5zbnBcIixlLlNJR05BTF9TRU5EX05FVF9RVUFMSVRZX0lORk9fUFVTSF9BQ0s9XCJ6Yy5zLm5wYVwiLGUuUFVCTElTSEVSX1NUQVJUX1BVQkxJU0g9XCJ6Yy5wLjAuc3AuMFwiLGUuUFVCTElTSEVSX1BVQkxJU0hfU1VDQ0VTUz1cInpjLnAucHNcIixlLlBVQkxJU0hFUl9PTl9DUkVBVEVfUFVCTElTSF9TRVNTSU9OX1NVQ0NFU1M9XCJ6Yy5wLjAub2Nwc3NcIixlLlBVQkxJU0hFUl9IQU5ETEVfQ1JFQVRFX1NFU1NJT05fV0lUSF9TRFA9XCJ6Yy5wLjAuaGNzd3NcIixlLlBVQkxJU0hFUl9PTl9DUkVBVEVfT0ZGRVJfU1VDQ0VTUz1cInpjLnAuMC5vY29zXCIsZS5QVUJMSVNIRVJfT05fU0VUX0xPQ0FMX0RFU0NSSVBUSU9OX1NVQ0NFU1M9XCJ6Yy5wLjAub3NsZHNcIixlLlBVQkxJU0hFUl9PTl9HRVRfUkVNT1RFX0RFU0NSSVBUSU9OPVwiemMucC4wLm9ncmRcIixlLlBVQkxJU0hFUl9PTl9SRUNWX01FRElBX0RFU0M9XCJ6Yy5wLjAub3JtZFwiLGUuUFVCTElTSEVSX09OX1JFQ1ZfQ0FORElEQVRFX0lORk89XCJ6Yy5wLjAub3JjaS4wXCIsZS5QVUJMSVNIRVJfT05fUkVDVl9QVUJMSVNIX0VWRU5UPVwiemMucC4wLm9ycGVcIixlLlBVQkxJU0hFUl9PTl9SRUNWX0NMSUVOVF9JTkZPPVwiemMucC4wLm9yY2kuMVwiLGUuUFVCTElTSEVSX09OX0lDRV9DQU5ESURBVEU9XCJ6Yy5wLjAub2ljXCIsZS5QVUJMSVNIRVJfT05fQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJ6Yy5wLjAub2NzY1wiLGUuUFVCTElTSEVSX09OX0lDRV9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cInpjLnAuMC5vaWNzY1wiLGUuUFVCTElTSEVSX1JFU0VUX1BVQkxJU0g9XCJ6Yy5wLjAucnBcIixlLlBVQkxJU0hFUl9TRVRfUExBWUVSX1FVQUxJVFlfVElNRVI9XCJ6Yy5wLjAuc3BxdFwiLGUuUFVCTElTSEVSX1VQTE9BRF9QVUJMSVNIX1FVQUxJVFk9XCJ6Yy5wLjAudXBxXCIsZS5QVUJMSVNIRVJfT05fUkVDVl9SRVNFVF9TRVNTSU9OPVwiemMucC4wLm9ycnNcIixlLlBVQkxJU0hFUl9PTl9SRUNWX0NMT1NFX1NFU1NJT049XCJ6Yy5wLjAub3Jjc1wiLGUuUFVCTElTSEVSX1NFTkRfQ0FORElEQVRFX0lORk89XCJ6Yy5wLjAuc2NpXCIsZS5QVUJMSVNIRVJfU1RBVEVfRVJST1I9XCJ6Yy5wLjAucHNyXCIsZS5QVUJMSVNIRVJfU1RPUF9QVUJMSVNIPVwiemMucC4wLnNwLjFcIixlLlBVQkxJU0hFUl9PTl9ESVNDT05ORUNUPVwiemMucC4wLm9kXCIsZS5QVUJMSVNIRVJfU1RBUlRfU09VTkRfTEVWRUw9XCJ6Yy5wLjAuc3NsLjBcIixlLlBVQkxJU0hFUl9TVE9QX1NPVU5EX0xFVkVMPVwiemMucC4wLnNzbC4xXCIsZS5QVUJMSVNIRVJfSEFORExFX0VOQ19CSVRSQVRFPVwiemMucC4wLmhlYlwiLGUuUFVCTElTSEVSX09OX1JFQ1ZfTkVUX1FVQUxJVFlfSU5GTz1cInpjLnAuMC5ucWlcIixlLlBVQkxJU0hFUl9PTl9SRUNWX1VQREFURV9NRURJQV9ERVNDPVwiemMucC4wLm9ydW1kXCIsZS5QVUJMSVNIRVJfU0VORF9TRUk9XCJ6Yy5wLjAuc3NcIixlLlBMQVlFUl9TVEFSVF9QTEFZPVwiemMucC4xLnNwLjBcIixlLlBMQVlFUl9PTl9DUkVBVEVfUExBWV9TRVNTSU9OX1NVQ0NFU1M9XCJ6Yy5wLm9jcHNzLjFcIixlLlBMQVlFUl9IQU5ETEVfQ1JFQVRFX1NFU1NJT05fV0lUSF9TRFA9XCJ6Yy5wLmhjc3dzLjFcIixlLlBMQVlFUl9PTl9DUkVBVEVfT0ZGRVJfU1VDQ0VTUz1cInpjLnAub2Nvcy4xXCIsZS5QTEFZRVJfT05fU0VUX0xPQ0FMX0RFU0NSSVBUSU9OX1NVQ0NFU1M9XCJ6Yy5wLm9zbGRzLjFcIixlLlBMQVlFUl9PTl9SRUNWX01FRElBX0RFU0M9XCJ6Yy5wLm9ybWQuMVwiLGUuUExBWUVSX09OX1JFQ1ZfQ0FORElEQVRFX0lORk89XCJ6Yy5wLm9yY2kuMVwiLGUuUExBWUVSX09OX1JFQ1ZfUExBWV9FVkVOVD1cInpjLnAub3JwZS4xXCIsZS5QTEFZRVJfT05fUkVDVl9DTElFTlRfSU5GTz1cInpjLnAub3JjaS4xLjFcIixlLlBMQVlFUl9PTl9JQ0VfQ0FORElEQVRFPVwiemMucC5vaWMuMVwiLGUuUExBWUVSX09OX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiemMucC5vY3NjLjFcIixlLlBMQVlFUl9PTl9JQ0VfQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJ6Yy5wLm9pY3NjLjFcIixlLlBMQVlFUl9SRVNFVF9QTEFZPVwiemMucC5ycC4xXCIsZS5QTEFZRVJfU0VUX1BMQVlFUl9RVUFMSVRZX1RJTUVSPVwiemMucC5zcHF0LjFcIixlLlBMQVlFUl9VUExPQURfUExBWUVSX1FVQUxJVFk9XCJ6Yy5wLnVwcS4xXCIsZS5QTEFZRVJfT05fUkVDVl9SRVNFVF9TRVNTSU9OPVwiemMucC5vcnJzLjFcIixlLlBMQVlFUl9PTl9SRUNWX0NMT1NFX1NFU1NJT049XCJ6Yy5wLm9yY3MuMVwiLGUuUExBWUVSX09OX1JFQ1ZfU1RSRUFNX1NUQVRVUz1cInpjLnAub3Jzcy4xXCIsZS5QTEFZRVJfT05fR09UX1JFTU9URV9TVFJFQU09XCJ6Yy5wLm9ncnMuMVwiLGUuUEFZRVJfR0VUX1ZJREVPX0NPREVDPVwiemMucC5ndmNcIixlLlBMQVlFUl9TRU5EX0NBTkRJREFURV9JTkZPPVwiemMucC5zY2kuMVwiLGUuUExBWUVSX1NUQVRFX0VSUk9SPVwiemMucC5wc3IuMVwiLGUuUExBWUVSX1NUT1BfUExBWT1cInpjLnAuMS5zcC4xXCIsZS5QTEFZRVJfT05fRElTQ09OTkVDVD1cInpjLnAub2QuMVwiLGUuUExBWUVSX1NUQVJUX1NPVU5EX0xFVkVMPVwiemMucC5zc2wuMVwiLGUuUExBWUVSX1NUT1BfU09VTkRfTEVWRUw9XCJ6Yy5wLnNzbC4xLjFcIixlLlBMQVlFUl9PTl9SRUNWX05FVF9RVUFMSVRZX0lORk89XCJ6Yy5wLjEubnFpXCIsZS5VUExPQURfU1BFRURfTE9HX1FVQUxJVFk9XCJ6Yy51c2xxXCIsZS5QVUJMSVNIX1NFVF9DQVBUVVJFX1ZPTFVNRT1cInpjLnAuc2N2XCIsZS5QVUJMSVNIX1NFVF9CRUFVVFlfRUZGRUNUPVwiemMucC4wLnNiZVwiLGUuU1RSRUFNSEFORExFUl9NRVJHRV9TVFJFQU1fQllfU1RSRUFNX1NFUT1cInpjLnNoLm1zYnNzXCIsZS5TVFJFQU1IQU5ETEVSX01FUkdFX1NUUkVBTT1cInpjLnNoLm1zXCIsZS5TVFJFQU1IQU5ETEVSX1BBVENIX1NUUkVBTV9MSVNUPVwiemMuc2gucHNsXCIsZS5TVFJFQU1IQU5ETEVSX1NFTkRfQklaQ0hBTk5FTF9SRVFVRVNUVjI9XCJ6Yy5zaC5zYnJcIixlLkFOQUxPR1NPQ0tFVF9VUERBVEVfTUVESUFfUkVBRFlfU1RBVEU9XCJ6Yy5hcy51bXJzXCIsZS5BTkFMT0dTT0NLRVRfVVBEQVRFX0FDQ0VTU19SRUFEWV9TVEFURT1cInpjLmFzLnVhcnNcIixlLkFOQUxPR1NPQ0tFVF9TRVRfTUVESUFfU0VSVkVSX1NUQVRFPVwiemMuYXMuc21zc1wiLGUuQU5BTE9HU09DS0VUX1NFVF9BQ0NFU1NfU0VSVkVSX1NUQVRFPVwiemMuYXMuc2Fzc1wiLGUuQU5BTE9HU09DS0VUX1NFTkQ9XCJ6Yy5hcy5zLjBcIixlLkFOQUxPR1NPQ0tFVF9PUEVOPVwiemMuYXMub3BcIn0odC5aRUdPX1dFQlJUQ19BQ1RJT058fCh0LlpFR09fV0VCUlRDX0FDVElPTj17fSkpfSw5MjYxOmZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SVEM9dC5aZWdvU2V0dGluZ0NvbmZpZz12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5kZWZhdWx0U2V0dGluZz17cHVibGlzaF92aWRlb19jb2RlYzpcIkgyNjRcIixjYW1lcmFfdmlkZW9fYml0cmF0ZTo4MDAsc2NyZWVuX3ZpZGVvX2JpdHJhdGU6MTUwMCxjdXN0b21fdmlkZW9fYml0cmF0ZTowLGwzX3BsYXlfYnVmZmVyX21zOjUwMCxBRUM6ITAsQUdDOiEwLEFOUzohMCxyZXNvdXJjZV9tb2RlOjAsYml0cmF0ZV9tb2RlOlwiZGVmYXVsdFwiLGF1dG9fdG9fdGNwOiExLHVkcF9tYXhfZmFpbF9udW06Mixwcm9iZV9zdGFydGVkX251bTozfSx0aGlzLnNldHRpbmc9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRlZmF1bHRTZXR0aW5nKSl9cmV0dXJuIGUucHJvdG90eXBlLnNldFNldHRpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1BcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wO2Zvcih2YXIgaSBpbiBlKWZvcih2YXIgbyBpbiBlW2ldKWlmKCFvLmVuZHNXaXRoKFwiX2N0cmxtb2RlXCIpKXtpZihyJiYtMT09dC5pbmRleE9mKG8pKWNvbnRpbnVlO3ZhciBuPWVbaV1bbytcIl9jdHJsbW9kZVwiXTsxPT09bnx8Mj09PW4/dGhpcy5zZXR0aW5nW29dPWVbaV1bb106dGhpcy5kZWZhdWx0U2V0dGluZ1tvXSYmKHRoaXMuc2V0dGluZ1tvXT10aGlzLmRlZmF1bHRTZXR0aW5nW29dKSxcIm51bWJlclwiPT10eXBlb2YgbiYmKHRoaXMuc2V0dGluZ1tvK1wiX2N0cmxtb2RlXCJdPWVbaV1bbytcIl9jdHJsbW9kZVwiXSl9fSxlLnByb3RvdHlwZS5nZXRTZXR0aW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSx0PzI9PXRoaXMuc2V0dGluZ1tlK1wiX2N0cmxtb2RlXCJdP3RoaXMuc2V0dGluZ1tlXTp2b2lkIDA6dGhpcy5zZXR0aW5nW2VdfSxlfSgpO3QuWmVnb1NldHRpbmdDb25maWc9cix0LlJUQz1cInJ0Y1wifSwyMzk5OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlN0YXRlQ2VudGVyPXZvaWQgMDt2YXIgaT1yKDk4ODcpLG89cigzNjA4KSxuPXIoNjI2Mikscz1yKDk4ODcpLGE9cig4MzM1KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMubG9nZ2VyPWUsdGhpcy5kYXRhUmVwb3J0PXQsdGhpcy5kZWJ1Zz0hMSx0aGlzLnRlc3RFbnZpcm9ubWVudD0hMSx0aGlzLnB1bGxMaW1pdGVkPSEwLHRoaXMudXNlTmV0QWdlbnQ9ITAsdGhpcy5jb25maWdPSz0hMSx0aGlzLnJlbGF0ZVNlcnZpY2U9W10sdGhpcy5yb2xlPTIsdGhpcy5tYXhNZW1iZXJDb3VudD0wLHRoaXMucm9vbUNyZWF0ZUZsYWc9MSx0aGlzLmNhbGxiYWNrTGlzdD17fSx0aGlzLnB1Ymxpc2hTdHJlYW1MaXN0PXt9LHRoaXMud2FpdFB1Ymxpc2hTdHJlYW1MaXN0PXt9LHRoaXMuc3RyZWFtVXJsTWFwPXt9LHRoaXMuY21kQ2FsbGJhY2s9e30sdGhpcy5jdXN0b21Vcmw9W10sdGhpcy5jdXN0b21QbGF5VXJsPVtdLHRoaXMudHVybk92ZXJUY3BPbmx5PSExLHRoaXMuY3VzdG9tU2V0VGNwT3JVZHA9ITEsdGhpcy5zdXBwb3J0VWRwPSExLHRoaXMuYXVkaW9FZmZlY3RCdWZmZXI9e30sdGhpcy5hdWRpb0JpdFJhdGU9NDhlMyx0aGlzLmNkblNlcT0wLHRoaXMubGlzdGVuZXJMaXN0PXtyb29tU3RyZWFtVXBkYXRlOltdLHN0cmVhbUV4dHJhSW5mb1VwZGF0ZTpbXSxwbGF5ZXJTdGF0ZVVwZGF0ZTpbXSxwdWJsaXNoZXJTdGF0ZVVwZGF0ZTpbXSxzY3JlZW5TaGFyaW5nRW5kZWQ6W10scHVibGlzaFF1YWxpdHlVcGRhdGU6W10scGxheVF1YWxpdHlVcGRhdGU6W10scmVtb3RlQ2FtZXJhU3RhdHVzVXBkYXRlOltdLHJlbW90ZU1pY1N0YXR1c1VwZGF0ZTpbXSxzb3VuZExldmVsVXBkYXRlOltdLGNhcHR1cmVkU291bmRMZXZlbFVwZGF0ZTpbXSx2aWRlb0RldmljZVN0YXRlQ2hhbmdlZDpbXSxhdWRpb0RldmljZVN0YXRlQ2hhbmdlZDpbXSxkZXZpY2VFcnJvcjpbXSxfZGV2aWNlRXJyb3I6W10sX3JlbW90ZUNhbWVyYVN0YXR1c1VwZGF0ZTpbXSxfcmVtb3RlTWljU3RhdHVzVXBkYXRlOltdLF9zdHJlYW1VcGRhdGVkOltdLHJlY2VpdmVSZWFsVGltZVNlcXVlbnRpYWxEYXRhOltdLGJlYXV0eUVmZmVjdE92ZXJsb2FkOltdLHBsYXllclJlY3ZTRUk6W10sYmVhdXR5RWZmZWN0RXJyb3I6W119LHRoaXMucmVwb3J0TGlzdD17fSx0aGlzLnJlcG9ydFNlcUxpc3Q9e3N0YXJ0UHVibGlzaDp7fSxyZVB1Ymxpc2g6e30sc3RhcnRQbGF5Ont9LHJlUGxheTp7fSxzdG9wUHVibGlzaDp7fSxzdG9wUGxheTp7fX0sdGhpcy5zdHJlYW1UcmlnZ2VyPXt9LHRoaXMuYXVkaW9TdHJlYW1MaXN0PXt9LHRoaXMuZGV2aWNlSW5mb3M9bnVsbCx0aGlzLmRldmljZUNoYW5nZVRpbWVyPW51bGwsdGhpcy5kZXZpY2VTdGF0ZU91dD0hMSx0aGlzLm5ldHdvcmtTdGF0ZT1zLkVOVU1fTkVUV09SS19TVEFURS5vZmZsaW5lLHRoaXMuc3RyZWFtUmV0cnlUaW1lPTMwMCx0aGlzLmNoZWNrTGlzdD1bXSx0aGlzLmFuY2hvcl9pbmZvPXthbmNob3JfaWQ6XCJcIixhbmNob3JfaWRfbmFtZTpcIlwiLGFuY2hvcl9uaWNrX25hbWU6XCJcIn0sdGhpcy5zdHJlYW1Db25uZWN0VGltZT0wLHRoaXMuY2xpZW50SVA9XCJcIix0aGlzLnR5cGU9XCJQVUJMSUNcIix0aGlzLnJvb21MaXN0PVtdLHRoaXMudGVtcFJvb21MaXN0PVtdLHRoaXMuaXNNdWx0aVJvb209ITEsdGhpcy5icm93c2VyPVwiXCIsdGhpcy51bnJlZ2lzdGVyU2VpRmlsdGVyPVwiXCIsdGhpcy5pc1Rlc3RNb2RlPSExLHRoaXMucGxheUFjY2VsZXJhdGU9ITAsdGhpcy5oYXJkd2FyZUVuY29kZXI9ITEsdGhpcy5zY3JlZW5IYXJkd2FyZUVuY29kZXI9ITEsdGhpcy5jb25uZWN0Q2hhbmdlZD0hMSx0aGlzLmxvZ1JlcG9ydENhbGxiYWNrPW8uQ2xpZW50VXRpbC5sb2dSZXBvcnRDYWxsYmFjayx0aGlzLnVucmVnaXN0ZXJDYWxsYmFjaz1vLkNsaWVudFV0aWwudW5yZWdpc3RlckNhbGxiYWNrLHRoaXMuY2hlY2tJbGxlZ2FsQ2hhcmFjdGVycz1vLkNsaWVudFV0aWwuY2hlY2tJbGxlZ2FsQ2hhcmFjdGVycyx0aGlzLmRlY29kZVNlcnZlckVycm9yPW8uQ2xpZW50VXRpbC5kZWNvZGVTZXJ2ZXJFcnJvcix0aGlzLmdldExpdmVSb29tRXJyb3I9by5DbGllbnRVdGlsLmdldExpdmVSb29tRXJyb3IsdGhpcy5nZXRTZXJ2ZXJFcnJvcj1vLkNsaWVudFV0aWwuZ2V0U2VydmVyRXJyb3IsdGhpcy5tZXJnZVN0cmVhbUxpc3Q9by5DbGllbnRVdGlsLm1lcmdlU3RyZWFtTGlzdCx0aGlzLmNoZWNrSW50ZWdlcj1vLkNsaWVudFV0aWwuY2hlY2tJbnRlZ2VyLHRoaXMuaXNVcmw9by5DbGllbnRVdGlsLmlzVXJsLHRoaXMuYWN0aW9uU3VjY2Vzc0NhbGxiYWNrPW8uQ2xpZW50VXRpbC5hY3Rpb25TdWNjZXNzQ2FsbGJhY2ssdGhpcy5jaGVja1ZhbGlkTnVtYmVyPW8uQ2xpZW50VXRpbC5jaGVja1ZhbGlkTnVtYmVyLHRoaXMuZ2V0RGV2aWNlcz1vLkNsaWVudFV0aWwuZ2V0RGV2aWNlcyx0aGlzLnVpbnQ4YXJyYXlUb0Jhc2U2ND1vLkNsaWVudFV0aWwudWludDhhcnJheVRvQmFzZTY0LHRoaXMuZ2V0U2VxPXMuZ2V0U2VxLHRoaXMuZ2V0UmVwb3J0U2VxPWkuZ2V0UmVwb3J0U2VxfXJldHVybiBlLnByb3RvdHlwZS5nZXRSZXF1ZXN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZE5hbWUrXCItXCIrKDAscy5nZXRTZXEpKCl9LGUucHJvdG90eXBlLmdldFNpZ25hbENtZENvbnRlbnQ9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG89e3JlcXVlc3RfaWQ6dCxyb29tX2lkOmUsZnJvbV91c2VyaWQ6dGhpcy5pZE5hbWUsZnJvbV91c2VybmFtZTp0aGlzLm5pY2tOYW1lLHRvX3VzZXJpZDpyfTtyZXR1cm4gbnVsbCE9aSYmKG8ucmVzdWx0PWkpLEpTT04uc3RyaW5naWZ5KG8pfSxlLnByb3RvdHlwZS5hY3Rpb25MaXN0ZW5lcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxyPVtdLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKXJbby0xXT1hcmd1bWVudHNbb107aWYoIVtcInBsYXlRdWFsaXR5VXBkYXRlXCIsXCJwdWJsaXNoUXVhbGl0eVVwZGF0ZVwiLFwic291bmRMZXZlbFVwZGF0ZVwiLFwiY2FwdHVyZWRTb3VuZExldmVsVXBkYXRlXCIsXCJwbGF5ZXJSZWN2U0VJXCJdLmluY2x1ZGVzKGUpJiZ0aGlzLmxpc3RlbmVyTGlzdFtlXSl7dmFyIHM9KDAsaS5nZXRSZXBvcnRTZXEpKCk7dGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChzLGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvTGlzdGVuZXIuZXZlbnQpLHRoaXMuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHMse2xpc3RlbmVyOmUscGFyYW1zOnJ9KSx0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHMpLFtcImRldmljZUVycm9yXCIsXCJzdHJlYW1FeHRyYUluZm9VcGRhdGVcIixcInB1Ymxpc2hlclN0YXRlVXBkYXRlXCIsXCJwbGF5ZXJTdGF0ZVVwZGF0ZVwiXS5pbmNsdWRlcyhlKSYmdGhpcy5sb2dnZXIuaW5mbyhcInpjLmFsIFwiLmNvbmNhdChlLFwiIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkocikpKX10aGlzLmxpc3RlbmVyTGlzdFtlXSYmdGhpcy5saXN0ZW5lckxpc3RbZV0uZm9yRWFjaCgoZnVuY3Rpb24oaSl7dHJ5e3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5hcHBseSh2b2lkIDAscil9KSwwKX1jYXRjaChyKXt0LmxvZ2dlci5lcnJvcihuLlpFR09fV0VCUlRDX0FDVElPTi5TVEFURUNFTlRFUl9BQ1RJT05fTElTVEVORVIrXCIgXCIrZStcIiBcIityKX19KSl9LGUucHJvdG90eXBlLmdldFJvb21CeVJvb21JRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb29tTGlzdC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yb29tSUQ9PWV9KSl9LGUucHJvdG90eXBlLmdldFBsYXlSb29tPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvb21MaXN0LmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5zdHJlYW1MaXN0LmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0cmVhbV9pZD09ZX0pKX0pKX0sZX0oKTt0LlN0YXRlQ2VudGVyPWN9LDEzOTA6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlplZ29TdHJlYW1DZW50ZXI9dm9pZCAwLHQuWmVnb1N0cmVhbUNlbnRlcj1mdW5jdGlvbigpe3RoaXMucHVibGlzaGVyTGlzdD17fSx0aGlzLnBsYXllckxpc3Q9e30sdGhpcy5zdG9wZWRQbGF5ZXJMaXN0PXt9fX0sMTg1NjpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TdHJlYW1IYW5kbGVyPXZvaWQgMDt2YXIgaT1yKDk4ODcpLG89cig3NzE2KSxuPXIoNjI2Mikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxvKXt0aGlzLmxvZ2dlcj1lLHRoaXMuc3RhdGVDZW50ZXI9dCx0aGlzLnJ0bT1yLHRoaXMuc3RyZWFtQ2VudGVyPWksdGhpcy5yb29tSUQ9byx0aGlzLm1pblN0cmVhbVNlcT0wLHRoaXMuc3RyZWFtU2VxPTAsdGhpcy5zdHJlYW1RdWVyeWluZz0hMSx0aGlzLnN0cmVhbVNlcU1lcmdlTWFwPW51bGwsdGhpcy5zdHJlYW1MaXN0SEJNZXJnZUludGVydmFsPTJlMyx0aGlzLnN0cmVhbUxpc3RNZXJnZUludGVydmFsPTVlM31yZXR1cm4gZS5wcm90b3R5cGUuc2V0Q0ROSW5mbz1mdW5jdGlvbihlLHQpe2UudXJsRmx2PXQudXJsc19mbHYgaW5zdGFuY2VvZiBBcnJheT90LnVybHNfZmx2WzBdfHxcIlwiOlwic3RyaW5nXCI9PXR5cGVvZiB0LnVybHNfZmx2P3QudXJsc19mbHY6XCJcIixlLnVybEhscz10LnVybHNfbTN1OCBpbnN0YW5jZW9mIEFycmF5P3QudXJsc19tM3U4WzBdfHxcIlwiOlwic3RyaW5nXCI9PXR5cGVvZiB0LnVybHNfbTN1OD90LnVybHNfbTN1ODpcIlwiLGUudXJsSHR0cHNGbHY9dC51cmxzX2h0dHBzX2ZsdiBpbnN0YW5jZW9mIEFycmF5P3QudXJsc19odHRwc19mbHZbMF18fFwiXCI6XCJzdHJpbmdcIj09dHlwZW9mIHQudXJsc19odHRwc19mbHY/dC51cmxzX2h0dHBzX2ZsdjpcIlwiLGUudXJsSHR0cHNIbHM9dC51cmxzX2h0dHBzX20zdTggaW5zdGFuY2VvZiBBcnJheT90LnVybHNfaHR0cHNfbTN1OFswXXx8XCJcIjpcInN0cmluZ1wiPT10eXBlb2YgdC51cmxzX2h0dHBzX20zdTg/dC51cmxzX2h0dHBzX20zdTg6XCJcIixlLnVybFJ0bXA9dC51cmxzX3J0bXAgaW5zdGFuY2VvZiBBcnJheT90LnVybHNfcnRtcFswXXx8XCJcIjpcInN0cmluZ1wiPT10eXBlb2YgdC51cmxzX3J0bXA/dC51cmxzX3J0bXA6XCJcIn0sZS5wcm90b3R5cGUub25TdHJlYW1VcGRhdGVkPWZ1bmN0aW9uKGUsdCxyKXt9LGUucHJvdG90eXBlLm9uU3RyZWFtRXh0cmFJbmZvVXBkYXRlZD1mdW5jdGlvbihlLHQpe30sZS5wcm90b3R5cGUuaGFuZGxlU3RyZWFtU3RhcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaHNzIGNhbGwgc3RyZWFtIHVwZGF0ZVwiKSx0aGlzLnJvb209dCxlLmJvZHk/KHRoaXMuc3RyZWFtTGlzdEhCTWVyZ2VJbnRlcnZhbD1lLmJvZHkuc3RyZWFtX2xpc3RfaGJfd2FpdF9tZXJnZV90aW1lfHwyZTMsdGhpcy5zdHJlYW1MaXN0TWVyZ2VJbnRlcnZhbD1lLmJvZHkuc3RyZWFtX2xpc3RfcHVzaF9tZXJnZV90aW1lb3V0fHw1ZTMsdGhpcy5zdHJlYW1RdWVyeWluZz0hMSx0aGlzLmhhbmRsZUZ1bGxVcGRhdGVTdHJlYW0oZS5ib2R5LnN0cmVhbV9zZXEsZS5ib2R5LnN0cmVhbV9pbmZvfHxbXSksdGhpcy5oYW5kbGVSZWNvbm5lY3RTdHJlYW0oZS5ib2R5LnN0cmVhbV9pbmZvKSx0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaHNzIGNhbGwgZW5kXCIpKTp0aGlzLmxvZ2dlci5lcnJvcihcInpiLnNoLmhzcyBzZXJ2ZXIgcmVzcG9uc2Ugd3JvbmdcIil9LGUucHJvdG90eXBlLm9uUHVibGlzaFN0YXRlVXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXt9LGUucHJvdG90eXBlLnVwZGF0ZVN0cmVhbUluZm89ZnVuY3Rpb24oZSx0LHIsbil7dmFyIHMsYSxjPXRoaXM7dm9pZCAwPT09ciYmKHI9XCJcIiksdGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLnVzaSBjYWxsXCIpO3ZhciB1PXIsZD1udWxsPT09KHM9dGhpcy5yb29tKXx8dm9pZCAwPT09cz92b2lkIDA6cy5zdHJlYW1MaXN0LmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0cmVhbV9pZD09PWV9KSk7ZHx8dGhpcy5sb2dnZXIud2FybihcInpiLnNoLnVzaSBzdHJlYW0gbm90IGluIHJvb20gY21kIFwiK3QpO3ZhciBsPXtzdHJlYW1faWQ6ZSxleHRyYV9pbmZvOnV9OzIwMDIhPT10JiYyMDAzIT09dHx8KGwuc3RyZWFtX3NpZD0obnVsbD09ZD92b2lkIDA6ZC5zdHJlYW1fc2lkKXx8XCJcIik7dmFyIGg9SlNPTi5zdHJpbmdpZnkobCkscD17c3ViX2NtZDp0LHN0cmVhbV9tc2c6aCx0aGlyZF90b2tlbjpudWxsPT09KGE9dGhpcy5yb29tKXx8dm9pZCAwPT09YT92b2lkIDA6YS50b2tlbn0sZz10aGlzLnJvb207dGhpcy5yb29tLnN0cmVhbUluZm9MaXN0W2VdPXt9O3ZhciBmPWZ1bmN0aW9uKHIsaSl7Yy5oYW5kbGVTdHJlYW1VcGRhdGVSc3AocixlLHQpfSxtPWZ1bmN0aW9uKHMsYSl7dmFyIHU9Yy5yb29tO2lmKHUmJiF1LmlzUmVzZXRSb29tJiYhYy5ydG0uaXNEaXNDb25uZWN0KCkmJnMuY29kZSYmcy5jb2RlPT1vLmVycm9yQ29kZUxpc3QuVElNRU9VVC5jb2RlJiZ1LnN0cmVhbUluZm9MaXN0W2VdLnNlcT09YSkyMDAxPT10JiZjLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W2VdJiZjLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W2VdLnN0YXRlPT1pLkVOVU1fUFVCTElTSF9TVFJFQU1fU1RBVEUudXBkYXRlX2luZm98fDIwMDI9PXQ/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtjLnVwZGF0ZVN0cmVhbUluZm8oZSx0LHIsbil9KSwwKTpuJiZuKG8uZXJyb3JDb2RlTGlzdC5USU1FT1VUKTtlbHNlIGlmKHMuYm9keSYmcy5ib2R5LmVycl9jb2RlKXt2YXIgZD1jLnN0YXRlQ2VudGVyLmdldFNlcnZlckVycm9yKHMuYm9keS5lcnJfY29kZSxjLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50LHMuYm9keS5lcnJfbWVzc2FnZSk7WzEwMTEsMTAwMDAwMjAwMl0uaW5jbHVkZXMoZC5jb2RlKSYmKGQ9by5lcnJvckNvZGVMaXN0LlRPS0VOX0VYUElSRUQpLG4mJm4oZCxhKSx0PT09aS5FTlVNX1NUUkVBTV9TVUJfQ01ELmxpdmVCZWdpbiYmYy5vblB1Ymxpc2hTdGF0ZVVwZGF0ZShpLkVOVU1fUFVCTElTSF9TVEFURV9VUERBVEUuZXJyb3IsZSxkKX19O3RoaXMucm9vbS5zdHJlYW1JbmZvTGlzdFtlXS5zZXE9dGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudD90aGlzLnJ0bS5saXZlUm9vbUhhbmRsZXIuc2VuZFN0cmVhbVVwZGF0ZShwLGYsbSx7c2Vzc2lvbklEOm51bGw9PWc/dm9pZCAwOmcuc2Vzc2lvbklELHJvb21JRDpudWxsPT1nP3ZvaWQgMDpnLnJvb21JRCxyb29tU2Vzc2lvbklEOm51bGw9PWc/dm9pZCAwOmcucm9vbVNlc3Npb25JRH0pOnRoaXMucnRtLnNlcnZpY2Uuc2VuZE1lc3NhZ2UoXCJzdHJlYW1cIixwLGYsbSx2b2lkIDAse3Nlc3Npb25JRDpudWxsPT1nP3ZvaWQgMDpnLnNlc3Npb25JRCxyb29tSUQ6bnVsbD09Zz92b2lkIDA6Zy5yb29tSUQscm9vbVNlc3Npb25JRDpudWxsPT1nP3ZvaWQgMDpnLnJvb21TZXNzaW9uSUR9KSx0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2gudXNpIGNhbGwgc3VjY2VzcyBjbWQgXCIrdCl9LGUucHJvdG90eXBlLmhhbmRsZVN0cmVhbVVwZGF0ZVJzcD1mdW5jdGlvbihlLHQscil7dmFyIGksbyxuO2lmKHRoaXMucnRtLmlzRGlzQ29ubmVjdCgpKXRoaXMubG9nZ2VyLndhcm4oXCJ6Yi5zaC5oc3VyIG5vdCBsb2dpblwiKTtlbHNlIGlmKDA9PWUuYm9keS5lcnJfY29kZSl7dGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmhzdXIgc3RyZWFtIHNlcSBcIit0aGlzLnN0cmVhbVNlcStcIiBzZXJ2ZXIgc2VxIFwiK2UuYm9keS5zdHJlYW1fc2VxKSx0aGlzLnN0cmVhbVNlcT10aGlzLnN0cmVhbVNlcSsxO3ZhciBzPXRoaXMucm9vbTtpZihzKXtpZihudWxsPT09KGk9bnVsbD09ZT92b2lkIDA6ZS5ib2R5KXx8dm9pZCAwPT09aT92b2lkIDA6aS50b2tlbl9yZW1haW5fdGltZSl0aGlzLnN0YXRlQ2VudGVyLmdldFJvb21CeVJvb21JRChudWxsPT09KG89bnVsbD09ZT92b2lkIDA6ZS5oZWFkZXIpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnJvb21faWQpP3RoaXMucnRtLnJlc2V0Um9vbVRva2VuVGltZXIoZS5oZWFkZXIucm9vbV9pZCxlLmJvZHkudG9rZW5fcmVtYWluX3RpbWUpOnRoaXMubG9nZ2VyLmVycm9yKFwiemIuc2guaHN1ciByb29tIG5vIGZvdW5kIGlnbm9yZSBcIitKU09OLnN0cmluZ2lmeShudWxsPT09KG49ZS5oZWFkZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJvb21faWQpKTtpZih0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50KXRoaXMuaGFuZGxlU3RyZWFtU3luYyhlLHQsciksZGVsZXRlIHMuc3RyZWFtSW5mb0xpc3RbdF07ZWxzZXtlLmJvZHkuc3RyZWFtX3NlcT50aGlzLnN0cmVhbVNlcSYmKHRoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5oc3VyIHNlcSBkaWZmLCBzZXJ2ZXI6IFwiK2UuYm9keS5zdHJlYW1fc2VxK1wiIGNsaWVudDogXCIrdGhpcy5zdHJlYW1TZXEpLHRoaXMuZmV0Y2hTdHJlYW1MaXN0KCkpO2Zvcih2YXIgYT0wO2E8ZS5ib2R5LnN0cmVhbV9pbmZvLmxlbmd0aDthKyspe3ZhciBjPWUuYm9keS5zdHJlYW1faW5mb1thXS5zdHJlYW1faWQ7dGhpcy5oYW5kbGVTdHJlYW1Sc3AocyxjLGUuYm9keS5zdHJlYW1faW5mb1thXSxyKSxkZWxldGUgcy5zdHJlYW1JbmZvTGlzdFtjXX19fWVsc2UgdGhpcy5sb2dnZXIuaW5mbyhcImhzdXIuMCByb29tIG5vIGZvdW5kXCIpfWVsc2UgdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC5oc3VyIHN0cmVhbSB1cGRhdGUgZXJyb3IgXCIrZS5ib2R5LmVycl9jb2RlKX0sZS5wcm90b3R5cGUuaGFuZGxlU3RyZWFtU3luYz1mdW5jdGlvbihlLHQscil7aWYodGhpcy5oYW5kbGVTdHJlYW1Sc3AodGhpcy5yb29tLHQse3N0cmVhbV9pZDp0LHN0cmVhbV9zaWQ6ZS5ib2R5LnN0cmVhbV9zaWQsc3RyZWFtX3ZlcjplLmJvZHkuc3RyZWFtX3ZlcixzdHJlYW1fbmlkOmUuYm9keS5zdHJlYW1fbmlkfSxyKSxlLmJvZHkuc3RyZWFtX3NlcT50aGlzLnN0cmVhbVNlcSlyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmhzcy4xIHNlcSBkaWZmIHNlcnZlcjogXCIrZS5ib2R5LnN0cmVhbV9zZXErXCIgY2xpZW50IFwiK3RoaXMuc3RyZWFtU2VxKSx2b2lkIHRoaXMuZmV0Y2hTdHJlYW1MaXN0KCk7dmFyIGk9dGhpcy5yb29tLnN0cmVhbUxpc3QuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RyZWFtX2lkPT10fSkpO2kmJmUuYm9keS5zdHJlYW1fdmVyPmkuc3RyZWFtX3ZlciYmdGhpcy5mZXRjaFN0cmVhbUxpc3QodCl9LGUucHJvdG90eXBlLmhhbmRsZVN0cmVhbVJzcD1mdW5jdGlvbihlLHQscixvKXt2YXIgbj10aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W3RdO24/bi5zdGF0ZT09aS5FTlVNX1BVQkxJU0hfU1RSRUFNX1NUQVRFLnVwZGF0ZV9pbmZvJiYobi5zdGF0ZT1pLkVOVU1fUFVCTElTSF9TVFJFQU1fU1RBVEUucHVibGlzaGluZyx0aGlzLmxvZ2dlci5pbmZvKFwiaHN1ci4wIGNtZCBcIitvKSwyMDAxPT09b3x8ZS5zdHJlYW1MaXN0LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0cmVhbV9pZD09dH0pKXx8ZS5zdHJlYW1MaXN0LnB1c2gociksdGhpcy5vblB1Ymxpc2hTdGF0ZVVwZGF0ZShpLkVOVU1fUFVCTElTSF9TVEFURV9VUERBVEUuc3RhcnQsdCx7Y29kZTowLG1lc3NhZ2U6XCJcIn0pKTp0aGlzLmxvZ2dlci5pbmZvKFwiaHN1ci4wIHN0cmVhbSBpcyBub3QgZXhpc3RcIil9LGUucHJvdG90eXBlLmhhbmRsZUZldGNoU3RyZWFtTGlzdFJzcD1mdW5jdGlvbihlLHQpe2lmKHRoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5oZnNsciBjYWxsXCIpLHRoaXMuc3RyZWFtUXVlcnlpbmc9ITEsMD09PWUuYm9keS5lcnJfY29kZSlpZih0aGlzLnN0cmVhbVNlcSE9PWUuYm9keS5zdHJlYW1fc2VxKXt2YXIgcj1lLmJvZHkuc3RyZWFtX2luZm87dCYmKHI9ZS5ib2R5LnN0cmVhbV9pbmZvLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RyZWFtX2lkPT09dH0pKSksdGhpcy5oYW5kbGVGdWxsVXBkYXRlU3RyZWFtKGUuYm9keS5zdHJlYW1fc2VxLHIpLHRoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5oZnNsciBjYWxsIHN1Y2Nlc3NcIil9ZWxzZSB0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaGZzbHIgc2FtZSBzZXFcIik7ZWxzZSB0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaGZzbHIgc2VydmVyIGVycm9yPVwiLGUuYm9keS5lcnJfY29kZSl9LGUucHJvdG90eXBlLmhhbmRsZUZ1bGxVcGRhdGVTdHJlYW09ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5oZnVzIGNhbGxcIiksdGhpcy5zdHJlYW1TZXE9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLmhmdXMgc2VydmVyIHNlcSBcIit0aGlzLnN0cmVhbVNlcSksdGhpcy5zdGF0ZUNlbnRlci5tZXJnZVN0cmVhbUxpc3QodGhpcy5zdGF0ZUNlbnRlci5pZE5hbWUsdGhpcy5yb29tLnN0cmVhbUxpc3QsdCwoZnVuY3Rpb24oZSx0LG8pezAhPT1lLmxlbmd0aCYmKHIubG9nZ2VyLmRlYnVnKFwiemIuc2guaGZ1cyBjYWxsYmFjayBhZGRzdHJlYW1cIiksci5vblN0cmVhbVVwZGF0ZWQoci5yb29tSUQsaS5FTlVNX1NUUkVBTV9VUERBVEVfVFlQRS5hZGRlZCxyLm1ha2VDYWxsYmFja1N0cmVhbUxpc3QoZSkpKSwwIT09dC5sZW5ndGgmJihyLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLmhmdXMgY2FsbGJhY2sgZGVsc3RyZWFtXCIpLHIub25TdHJlYW1VcGRhdGVkKHIucm9vbUlELGkuRU5VTV9TVFJFQU1fVVBEQVRFX1RZUEUuZGVsZXRlZCxyLm1ha2VDYWxsYmFja1N0cmVhbUxpc3QodCkpKSwwIT09by5sZW5ndGgmJihyLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLmhmdXMgY2FsbGJhY2sgdXBkYXRlc3RyZWFtXCIpLHIub25TdHJlYW1FeHRyYUluZm9VcGRhdGVkKHIucm9vbUlELHIubWFrZUNhbGxiYWNrU3RyZWFtTGlzdChvKSkpfSkpLHRoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5oZnVzIGNhbGwgc3VjY2Vzc1wiKX0sZS5wcm90b3R5cGUuaGFuZGxlUHVzaFN0cmVhbVVwZGF0ZU1zZz1mdW5jdGlvbihlKXtpZih0aGlzLmxvZ2dlci53YXJuKFwiemIuc2guaHBzdW0gY2FsbCBcIitKU09OLnN0cmluZ2lmeShlKSksZS5ib2R5LnN0cmVhbV9pbmZvJiYwIT09ZS5ib2R5LnN0cmVhbV9pbmZvLmxlbmd0aCl7aWYoZS5ib2R5LnN0cmVhbV9pbmZvLmxlbmd0aCt0aGlzLnN0cmVhbVNlcSE9PWUuYm9keS5zdHJlYW1fc2VxKXJldHVybiB0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaHBzdW0gY2FsbCB1cGRhdGVzdHJlYW1cIiksdm9pZCB0aGlzLmZldGNoU3RyZWFtTGlzdCgpO3N3aXRjaCh0aGlzLnN0cmVhbVNlcT1lLmJvZHkuc3RyZWFtX3NlcSxlLmJvZHkuc3RyZWFtX2NtZCl7Y2FzZSBpLkVOVU1fU1RSRUFNX1VQREFURV9DTUQuYWRkZWQ6dGhpcy5oYW5kbGVBZGRlZFN0cmVhbUxpc3QoZS5ib2R5LnN0cmVhbV9pbmZvKTticmVhaztjYXNlIGkuRU5VTV9TVFJFQU1fVVBEQVRFX0NNRC5kZWxldGVkOnRoaXMuaGFuZGxlRGVsZXRlZFN0cmVhbUxpc3QoZS5ib2R5LnN0cmVhbV9pbmZvKTticmVhaztjYXNlIGkuRU5VTV9TVFJFQU1fVVBEQVRFX0NNRC51cGRhdGVkOnRoaXMuaGFuZGxlVXBkYXRlZFN0cmVhbUxpc3QoZS5ib2R5LnN0cmVhbV9pbmZvKX10aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaHBzdW0gY2FsbCBzdWNjZXNzXCIpfWVsc2UgdGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmhwc3VtLCBlbXRweSBsaXN0XCIpfSxlLnByb3RvdHlwZS5oYW5kbGVQcmlQdXNoU3RyZWFtVXBkYXRlTXNnPWZ1bmN0aW9uKGUpe2lmKHRoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5ocHN1bSBjYWxsXCIpLGUuYm9keS5zdHJlYW1zX2luZm8mJjAhPT1lLmJvZHkuc3RyZWFtc19pbmZvLmxlbmd0aCl7aWYoZS5ib2R5LnN0cmVhbXNfaW5mby5sZW5ndGgrdGhpcy5zdHJlYW1TZXEhPT1lLmJvZHkuc3RyZWFtX3NlcSlyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmhwc3VtIGNhbGwgdXBkYXRlc3RyZWFtXCIpLHZvaWQgdGhpcy5tZXJnZVN0cmVhbUJ5U3RyZWFtU2VxKGUuYm9keS5zdHJlYW1fY21kLGUuYm9keS5zdHJlYW1fc2VxLGUuYm9keS5zdHJlYW1zX2luZm8pO3N3aXRjaCh0aGlzLnN0cmVhbVNlcT1lLmJvZHkuc3RyZWFtX3NlcSxlLmJvZHkuc3RyZWFtX2NtZCl7Y2FzZSBpLkVOVU1fU1RSRUFNX1VQREFURV9DTURfUFJJLmFkZGVkOnRoaXMuaGFuZGxlQWRkZWRTdHJlYW1MaXN0KGUuYm9keS5zdHJlYW1zX2luZm8pO2JyZWFrO2Nhc2UgaS5FTlVNX1NUUkVBTV9VUERBVEVfQ01EX1BSSS5kZWxldGVkOnRoaXMuaGFuZGxlRGVsZXRlZFN0cmVhbUxpc3QoZS5ib2R5LnN0cmVhbXNfaW5mbyk7YnJlYWs7Y2FzZSBpLkVOVU1fU1RSRUFNX1VQREFURV9DTURfUFJJLnVwZGF0ZWQ6dGhpcy5oYW5kbGVVcGRhdGVkU3RyZWFtTGlzdChlLmJvZHkuc3RyZWFtc19pbmZvKX10aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaHBzdW0gY2FsbCBzdWNjZXNzXCIpfWVsc2UgdGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmhwc3VtLCBlbXRweSBsaXN0XCIpfSxlLnByb3RvdHlwZS5oYW5kbGVBZGRlZFN0cmVhbUxpc3Q9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuZGVidWcoXCJ6Yi5zaC5oYXNsIGNhbGxcIik7Zm9yKHZhciB0LHI9W10sbz0wO288ZS5sZW5ndGg7bysrKWlmKGVbb10uYW5jaG9yX2lkX25hbWUhPXRoaXMuc3RhdGVDZW50ZXIuaWROYW1lJiZlW29dLmlkX25hbWUhPXRoaXMuc3RhdGVDZW50ZXIuaWROYW1lJiZlW29dLnVzZXJfaWQhPT10aGlzLnN0YXRlQ2VudGVyLmlkTmFtZSl7dD0hMTtmb3IodmFyIG49MDtuPHRoaXMucm9vbS5zdHJlYW1MaXN0Lmxlbmd0aDtuKyspaWYoZVtvXS5zdHJlYW1faWQ9PT10aGlzLnJvb20uc3RyZWFtTGlzdFtuXS5zdHJlYW1faWQpe3Q9ITA7YnJlYWt9dHx8ci5wdXNoKGVbb10pfWVsc2UgdGhpcy5sb2dnZXIuZGVidWcoXCJoZHNsLjAgaGF2ZSBzZWxmIHN0cmVhbSBhZGRlZFwiKTtpZigwIT09ci5sZW5ndGgpe3RoaXMubG9nZ2VyLmRlYnVnKFwiemIuc2guaGFzbCBjYWxsYmFjayBhZGRzdHJlYW1cIik7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspdGhpcy5yb29tLnN0cmVhbUxpc3QucHVzaChyW3NdKTt0aGlzLm9uU3RyZWFtVXBkYXRlZCh0aGlzLnJvb21JRCxpLkVOVU1fU1RSRUFNX1VQREFURV9UWVBFLmFkZGVkLHRoaXMubWFrZUNhbGxiYWNrU3RyZWFtTGlzdChyKSl9dGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmhhc2wgY2FsbCBzdWNjZXNzXCIpfSxlLnByb3RvdHlwZS5oYW5kbGVEZWxldGVkU3RyZWFtTGlzdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLmhkc2wgY2FsbFwiKTtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uYW5jaG9yX2lkX25hbWUhPXRoaXMuc3RhdGVDZW50ZXIuaWROYW1lJiZlW3JdLmlkX25hbWUhPXRoaXMuc3RhdGVDZW50ZXIuaWROYW1lJiZlW3JdLnVzZXJfaWQhPT10aGlzLnN0YXRlQ2VudGVyLmlkTmFtZSl7Zm9yKHZhciBvPXRoaXMucm9vbS5zdHJlYW1MaXN0Lmxlbmd0aC0xO28+PTA7by0tKWlmKGVbcl0uc3RyZWFtX2lkPT09dGhpcy5yb29tLnN0cmVhbUxpc3Rbb10uc3RyZWFtX2lkKXshdGhpcy5zdGF0ZUNlbnRlci5jb25uZWN0Q2hhbmdlZCYmdGhpcy5yb29tLnN0cmVhbUxpc3Quc3BsaWNlKG8tLSwxKSx0LnB1c2goZVtyXSk7YnJlYWt9fWVsc2UgdGhpcy5sb2dnZXIuZGVidWcoXCJ6Yi5zaC5oZHNsIGhhdmUgc2VsZiBzdHJlYW0gZGVsZXRlZFwiKTswIT09dC5sZW5ndGgmJih0aGlzLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLmhkc2wgY2FsbGJhY2sgZGVsc3RyZWFtXCIpLHRoaXMub25TdHJlYW1VcGRhdGVkKHRoaXMucm9vbUlELGkuRU5VTV9TVFJFQU1fVVBEQVRFX1RZUEUuZGVsZXRlZCx0aGlzLm1ha2VDYWxsYmFja1N0cmVhbUxpc3QodCkpKSx0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaGRzbCBjYWxsXCIpfSxlLnByb3RvdHlwZS5oYW5kbGVVcGRhdGVkU3RyZWFtTGlzdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLmh1c2wgY2FsbFwiKTtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uYW5jaG9yX2lkX25hbWUhPXRoaXMuc3RhdGVDZW50ZXIuaWROYW1lJiZlW3JdLmlkX25hbWUhPXRoaXMuc3RhdGVDZW50ZXIuaWROYW1lJiZlW3JdLnVzZXJfaWQhPT10aGlzLnN0YXRlQ2VudGVyLmlkTmFtZSl7Zm9yKHZhciBpPTA7aTx0aGlzLnJvb20uc3RyZWFtTGlzdC5sZW5ndGg7aSsrKWlmKGVbcl0uc3RyZWFtX2lkPT09dGhpcy5yb29tLnN0cmVhbUxpc3RbaV0uc3RyZWFtX2lkKXtlW3JdLmV4dHJhX2luZm8hPT10aGlzLnJvb20uc3RyZWFtTGlzdFtpXS5leHRyYV9pbmZvJiYodGhpcy5yb29tLnN0cmVhbUxpc3RbaV09ZVtyXSx0LnB1c2goZVtyXSkpO2JyZWFrfX1lbHNlIHRoaXMubG9nZ2VyLmRlYnVnKFwiaHN1bC4wIGhhdmUgc2VsZiBzdHJlYW0gdXBkYXRlZFwiKTswIT09dC5sZW5ndGgmJih0aGlzLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLmh1c2wgY2FsbGJhY2sgdXBkYXRlc3RyZWFtXCIpLHRoaXMub25TdHJlYW1FeHRyYUluZm9VcGRhdGVkKHRoaXMucm9vbUlELHRoaXMubWFrZUNhbGxiYWNrU3RyZWFtTGlzdCh0KSkpLHRoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5odXNsIGNhbGwgc3VjY2Vzc1wiKX0sZS5wcm90b3R5cGUuZmV0Y2hTdHJlYW1MaXN0PWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxvPXRoaXM7aWYodGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmZzbCBjYWxsXCIpLHRoaXMucnRtLmlzRGlzQ29ubmVjdCgpKXRoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5mc2wgc3RhdGUgZXJyb3JcIik7ZWxzZSBpZih0aGlzLnN0cmVhbVF1ZXJ5aW5nKXRoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5mc2wgYWxyZWFkeSBkb2luZ1wiKTtlbHNle2lmKHRoaXMuc3RyZWFtUXVlcnlpbmc9ITAsdGhpcy5sb2dnZXIuZGVidWcoXCJ6Yi5zaC5mc2wgc2VuZCBmZXRjaCByZXF1ZXN0XCIpLHRoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQpdGhpcy5ydG0ubGl2ZVJvb21IYW5kbGVyLmdldFN0cmVhbUxpc3Qoe30sKGZ1bmN0aW9uKHQpe28uaGFuZGxlRmV0Y2hTdHJlYW1MaXN0UnNwKHQsZSl9KSwoZnVuY3Rpb24oZSl7fSkse3Jvb21JRDpudWxsPT09KHQ9dGhpcy5yb29tKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yb29tSUQsc2Vzc2lvbklEOm51bGw9PT0ocj10aGlzLnJvb20pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnNlc3Npb25JRCxyb29tU2Vzc2lvbklEOm51bGw9PT0oaT10aGlzLnJvb20pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnJvb21TZXNzaW9uSUR9KTtlbHNle3ZhciBuPXRoaXMucm9vbTt0aGlzLnJ0bS5zZXJ2aWNlLnNlbmRNZXNzYWdlKFwic3RyZWFtX2luZm9cIix7cmVzZXJ2ZTowfSwoZnVuY3Rpb24oZSl7by5oYW5kbGVGZXRjaFN0cmVhbUxpc3RSc3AoZSl9KSwoZnVuY3Rpb24oZSx0KXt9KSx2b2lkIDAse3Jvb21JRDpudWxsPT1uP3ZvaWQgMDpuLnJvb21JRCxzZXNzaW9uSUQ6bnVsbD09bj92b2lkIDA6bi5zZXNzaW9uSUQscm9vbVNlc3Npb25JRDpudWxsPT1uP3ZvaWQgMDpuLnJvb21TZXNzaW9uSUR9KX10aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guZnNsIGNhbGwgc3VjY2Vzc1wiKX19LGUucHJvdG90eXBlLmhhbmRsZVJlY29ubmVjdFN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdCxyLG8sbjt0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaHJzIGNhbGxcIik7dmFyIHM9dGhpcy5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdCxhPXRoaXMuc3RyZWFtQ2VudGVyLnBsYXllckxpc3QsYz1mdW5jdGlvbihhKXtpZigobnVsbD09PShyPW51bGw9PT0odD1zW2FdKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yb29tKXx8dm9pZCAwPT09cj92b2lkIDA6ci5yb29tSUQpIT09dS5yb29tSUQpcmV0dXJuXCJjb250aW51ZVwiO3ZhciBjPWUuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RyZWFtX2lkPT1hfSkpO2lmKHNbYV0ucHVibGlzaGVyLnN0YXRlPT1pLkVOVU1fUFVCTElTSF9TVEFURS5wdWJsaXNoaW5nJiYoIWN8fGMmJmMuYW5jaG9yX2lkX25hbWUhPT11LnN0YXRlQ2VudGVyLmlkTmFtZSkpdS51cGRhdGVTdHJlYW1JbmZvKGEsaS5FTlVNX1NUUkVBTV9TVUJfQ01ELmxpdmVCZWdpbix1LnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W2FdLmV4dHJhX2luZm8pO2Vsc2UgaWYoc1thXS5wdWJsaXNoZXIuc3RhdGU9PWkuRU5VTV9QVUJMSVNIX1NUQVRFLnN0b3AmJiEobnVsbD09PShuPW51bGw9PT0obz1zW2FdKXx8dm9pZCAwPT09bz92b2lkIDA6by5yZXRyeVN0cmVhbUhhbmRsZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm1heFRpbWVyKSYmZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdHJlYW1faWQ9PWF9KSkpe3UudXBkYXRlU3RyZWFtSW5mbyhhLGkuRU5VTV9TVFJFQU1fU1VCX0NNRC5saXZlRW5kKTtmb3IodmFyIGQ9MDtkPHUucm9vbS5zdHJlYW1MaXN0Lmxlbmd0aDtkKyspaWYodS5yb29tLnN0cmVhbUxpc3RbZF0uc3RyZWFtX2lkPT1hKXt1LnJvb20uc3RyZWFtTGlzdC5zcGxpY2UoZC0tLDEpO2JyZWFrfX19LHU9dGhpcztmb3IodmFyIGQgaW4gcyljKGQpO2Zvcih2YXIgZCBpbiBzKXtpZihzW2RdLnJvb20ucm9vbUlEPT09dGhpcy5yb29tSUQpaWYoc1tkXS5pc1JlRGlzcGF0Y2gpdGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmhycyBcIitkK1wicmV0cnkgZGlzcGF0Y2hcIiksKGw9c1tkXS5yZXRyeURpc3BhdGNoSGFuZGxlcikuc3RvcE1heFRpbWUoKSxsLmludmFsaWQoKSxsLmluaXRTdHJlYW0oZCxzW2RdLnB1Ymxpc2hPcHRpb24sITApLGwuYWN0aXZlKDApLHNbZF0uaXNSZURpc3BhdGNoPSExfWZvcih2YXIgZCBpbiBhKXt2YXIgbDtpZihhW2RdLnJvb20ucm9vbUlEPT09dGhpcy5yb29tSUQpaWYoYVtkXS5pc1JlRGlzcGF0Y2gpdGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLmhycyBcIitkK1wicmV0cnkgZGlzcGF0Y2hcIiksKGw9YVtkXS5yZXRyeURpc3BhdGNoSGFuZGxlcikuc3RvcE1heFRpbWUoKSxsLmludmFsaWQoKSxsLmluaXRTdHJlYW0oZCxhW2RdLnBsYXlPcHRpb24sITEpLGwuYWN0aXZlKDApLGFbZF0uaXNSZURpc3BhdGNoPSExfXZhciBoPXRoaXMuc3RyZWFtQ2VudGVyLnN0b3BlZFBsYXllckxpc3QscD1mdW5jdGlvbihlKXtpZihoW2VdLnJvb21JRCE9PWcucm9vbUlEKXJldHVyblwiY29udGludWVcIjt2YXIgdD1nLnN0cmVhbUNlbnRlcixyPWhbZV0sbz1yLnBsYXlPcHRpb24sbj1yLnBsYXlTdHJlYW07dC5zZXRQbGF5U3RhdGVTdGFydChlLG8sci5pc0RhdGFDaGFubmVsKTt2YXIgcz10LnBsYXllckxpc3RbZV0ucmV0cnlEaXNwYXRjaEhhbmRsZXI7dC5wbGF5U3VjY2Vzc0NhbGxCYWNrTGlzdFtlXT1oW2VdLnN1Y0NhbGxCYWNrP2hbZV0uc3VjQ2FsbEJhY2s6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ2aWRlbywgYXVkaW9cIikscj0wO3I8dC5sZW5ndGg7cisrKXtuJiZ0W3JdLnNyY09iamVjdD09PW4mJihuLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLnJlbW92ZVRyYWNrKGUpfSkpLGUuY2xvbmUoKS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5hZGRUcmFjayhlKX0pKSl9fSxoW2VdLmVyckNhbGxCYWNrJiYodC5wbGF5RXJyb3JDYWxsQmFja0xpc3RbZV09aFtlXS5lcnJDYWxsQmFjayksdC5vblBsYXlTdGF0ZVVwZGF0ZShpLkVOVU1fUExBWV9TVEFURV9VUERBVEUucmV0cnksZSx7Y29kZTowLG1lc3NhZ2U6XCJcIn0pLHMuc3RvcE1heFRpbWUoKSxzLmludmFsaWQoKSxzLmluaXRTdHJlYW0oZSxvLCExKSxzLnN0YXJ0TWF4VGltZSgpLHMuYWN0aXZlKDApLGRlbGV0ZSBoW2VdfSxnPXRoaXM7Zm9yKHZhciBkIGluIGgpcChkKTt0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2guaHJzIGVuZFwiKX0sZS5wcm90b3R5cGUubWFrZUNhbGxiYWNrU3RyZWFtTGlzdD1mdW5jdGlvbihlKXt2YXIgdCxyPVtdO3RoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQmJnRoaXMuc3RhdGVDZW50ZXIuYXBwQ29uZmlnJiYodD10aGlzLnN0YXRlQ2VudGVyLmFwcENvbmZpZy5tZWRpYV9jb25maWcucGxheV9jb25maWcucmVzb3VyY2VfaW5mby5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXNvdXJjZV90eXBlPT09aS5TaWduYWxSZXNvdXJjZVR5cGUuQ0ROfSkpKTtpZihlJiZlLmxlbmd0aD4wKWZvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgbj1bXSxzPVtdLGE9W10sYz1lW29dLnN0cmVhbV9pZDtpZih0KXtmb3IodmFyIHU9MDt1PHQuc2VydmljZV9pbmZvLmxlbmd0aDt1Kyspe3ZhciBkPXQuc2VydmljZV9pbmZvW3VdLGw9ZC51cmxfdGVtcGxhdGU7c3dpdGNoKGQucHJvdG9jb2wpe2Nhc2UgaS5Qcm90b2NvbFR5cGUuRkxWOnZhciBoPWwucmVwbGFjZShcIntTVFJFQU1fTkFNRX1cIixjKTtuLnB1c2goaCk7YnJlYWs7Y2FzZSBpLlByb3RvY29sVHlwZS5ITFM6dmFyIHA9bC5yZXBsYWNlKFwie1NUUkVBTV9OQU1FfVwiLGMpO3MucHVzaChwKTticmVhaztjYXNlIGkuUHJvdG9jb2xUeXBlLlJUTVA6dmFyIGc9bC5yZXBsYWNlKFwie1NUUkVBTV9OQU1FfVwiLGMpO2EucHVzaChnKX19ZVtvXS51cmxzX2Zsdj1uLGVbb10udXJsc19tM3U4PXMsZVtvXS51cmxzX3J0bXA9YX12YXIgZj17dXNlcjp7dXNlcklEOmVbb10uYW5jaG9yX2lkX25hbWV8fGVbb10uaWRfbmFtZSx1c2VyTmFtZTplW29dLmFuY2hvcl9uaWNrX25hbWV8fGVbb10ubmlja19uYW1lfSxleHRyYUluZm86ZVtvXS5leHRyYV9pbmZvLHN0cmVhbUlEOmVbb10uc3RyZWFtX2lkLHJvb21JRDpcIlwiLHVybEZsdjpcIlwiLHVybFJ0bXA6XCJcIix1cmxIbHM6XCJcIix1cmxIdHRwc0ZsdjpcIlwiLHVybEh0dHBzSGxzOlwiXCIsc3RyZWFtR0lEOmVbb10uc3RyZWFtX2dpZCxjbG9zZVR5cGU6ZVtvXS5jbG9zZV90eXBlfTt0aGlzLnNldENETkluZm8oZixlW29dKSxyLnB1c2goZil9cmV0dXJuIHJ9LGUucHJvdG90eXBlLnNlbmRCaXpDaGFubmVsUmVxdWVzdD1mdW5jdGlvbihlLHQscixpKXt2YXIgbz10aGlzO3ZvaWQgMD09PWkmJihpPSExKSxlPU9iamVjdC5hc3NpZ24oZSx7aXNfcmV0cnlfcmVxOmk/MTowfSk7dmFyIG49dGhpcy5yb29tO3RoaXMucnRtLnNlcnZpY2Uuc2VuZE1lc3NhZ2UoXCJiaXpfY2hhbm5lbFwiLGUsKGZ1bmN0aW9uKGUscil7dChlLmhlYWRlci5zZXEsZS5ib2R5LmNtZCxlLmJvZHkucnNwX2JvZHkpfSksKGZ1bmN0aW9uKGksbil7dmFyIHM9aS5ib2R5LmVycl9jb2RlO1wibnVtYmVyXCIhPXR5cGVvZiBzfHwyMDAyIT09cz9yKHMsbixpLmJvZHkucnNwX2JvZHkpOm8uc2VuZEJpekNoYW5uZWxSZXF1ZXN0KGUsdCxyLCEwKX0pLHZvaWQgMCx7cm9vbUlEOm51bGw9PW4/dm9pZCAwOm4ucm9vbUlELHNlc3Npb25JRDpudWxsPT1uP3ZvaWQgMDpuLnNlc3Npb25JRCxyb29tU2Vzc2lvbklEOm51bGw9PW4/dm9pZCAwOm4ucm9vbVNlc3Npb25JRH0pfSxlLnByb3RvdHlwZS5zZW5kQml6Q2hhbm5lbFJlcXVlc3RWMj1mdW5jdGlvbihlLHQscixpKXt2YXIgbz10aGlzLHM9ZS5zZXJ2ZXIsYT1lLmxvY2F0aW9uLGM9ZS5jbWQsdT1lLmNoYW5uZWwsZD10aGlzLnJ0bS5uZXRBZ2VudCxsPXRoaXMucm9vbSxoPXZvaWQgMCxwPXQudGltZXN0YW1wO3QmJihoPUpTT04uc3RyaW5naWZ5KHQpKTt2YXIgZz17Y21kOmMscmVxX2JvZHk6aCxhcHBpZDp0aGlzLnN0YXRlQ2VudGVyLmFwcGlkLHRpbWVzdGFtcDpwfHxNYXRoLmNlaWwoKG5ldyBEYXRlKS5nZXRUaW1lKCkvMWUzKSx0b2tlbjpudWxsPT1sP3ZvaWQgMDpsLnRva2VuLHVzZXJfaWQ6dGhpcy5zdGF0ZUNlbnRlci5pZE5hbWUsY2hhbm5lbDp1fHxcIm1lZGlhXCJ9O3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU1RSRUFNSEFORExFUl9TRU5EX0JJWkNIQU5ORUxfUkVRVUVTVFYyK1wiIFwiK0pTT04uc3RyaW5naWZ5KGcpK1wiIHJlcXVlc3QgXCIrSlNPTi5zdHJpbmdpZnkoZSkpLGQuc3RhcnRIdHRwUmVxdWVzdCh7c2VydmljZTpzLGhlYWRlcnM6W10sYm9keTpnLGlkTmFtZTp0aGlzLnN0YXRlQ2VudGVyLmlkTmFtZSxtZXRob2Rfbm86MixhY2s6ITEsbG9jYXRpb246YX0sKGZ1bmN0aW9uKGUpe28ubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU1RSRUFNSEFORExFUl9TRU5EX0JJWkNIQU5ORUxfUkVRVUVTVFYyK1wiIHJzcCBcIitKU09OLnN0cmluZ2lmeShlLmJvZHkpKTt2YXIgcz1lLnN0YXR1c19jb2RlLGE9ZS5ib2R5O2lmKDIwMD09PXMpe3ZhciBjPWE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpdHJ5e2M9SlNPTi5wYXJzZShhKX1jYXRjaChlKXt0aHJvdyBpKHMpLGV9dmFyIHU9Yy5lcnJfY29kZSxkPWMucnNwX2JvZHksbD12b2lkIDA7dHJ5e2w9SlNPTi5wYXJzZShkKX1jYXRjaChlKXtsPWR9aWYoMCE9PXUpcmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHUmJjIwMDI9PT11P3ZvaWQgby5zZW5kQml6Q2hhbm5lbFJlcXVlc3QodCxyLGksITApOnZvaWQgaShzLHUsbCk7cihsKX1lbHNlIGkocyl9KSwoZnVuY3Rpb24oZSl7aSgtMSxudWxsPT1lP3ZvaWQgMDplLmNvZGUsdm9pZCAwLGUpfSkpfSxlLnByb3RvdHlwZS51cGRhdGVTdHJlYW1FeHRyYUluZm89ZnVuY3Rpb24oZSx0LHIsaSl7fSxlLnByb3RvdHlwZS5zZXRTdHJlYW1FeHRyYUluZm89ZnVuY3Rpb24oZSx0LHIsaSl7fSxlLnByb3RvdHlwZS5fcHVibGlzaFRhcmdldD1mdW5jdGlvbihlLHQscil7fSxlLnByb3RvdHlwZS5wYXRjaFN0cmVhbUxpc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihcIm51bWJlclwiPT10eXBlb2YgZS5ib2R5LlN0cmVhbVJlZnJlc2gmJjAhPT1lLmJvZHkuU3RyZWFtUmVmcmVzaClyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TVFJFQU1IQU5ETEVSX1BBVENIX1NUUkVBTV9MSVNUK1wiIHN0cmVhbSByZWZyZXNoIFwiKSx2b2lkIHRoaXMuZmV0Y2hTdHJlYW1MaXN0KCk7ZS5ib2R5LnN0cmVhbV9zZXE9PT10aGlzLnN0cmVhbVNlcXx8dGhpcy5zdHJlYW1TZXFNZXJnZU1hcHx8KHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU1RSRUFNSEFORExFUl9QQVRDSF9TVFJFQU1fTElTVCtcIiBjYWxsIHVwZGF0ZSBzdHJlYW0gXCIrdGhpcy5zdHJlYW1TZXErXCIgc2VydmVyIFwiK2UuYm9keS5zdHJlYW1fc2VxKSx0aGlzLnN0cmVhbVNlcU1lcmdlVGltZXImJmNsZWFyVGltZW91dCh0aGlzLnN0cmVhbVNlcU1lcmdlVGltZXIpLHRoaXMuc3RyZWFtU2VxTWVyZ2VUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuaGFuZGxlTWVyZ2VUaW1lb3V0KCl9KSx0aGlzLnN0cmVhbUxpc3RIQk1lcmdlSW50ZXJ2YWwpKSx0aGlzLm1pblN0cmVhbVNlcT1lLmJvZHkuc3RyZWFtX3NlcX0sZS5wcm90b3R5cGUuZ2V0U3RyZWFtU2VxPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZWFtU2VxfSxlLnByb3RvdHlwZS5tZXJnZVN0cmVhbUJ5U3RyZWFtU2VxPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3RoaXMuc3RyZWFtU2VxTWVyZ2VNYXB8fCh0aGlzLmxvZ2dlci53YXJuKG4uWkVHT19XRUJSVENfQUNUSU9OLlNUUkVBTUhBTkRMRVJfTUVSR0VfU1RSRUFNX0JZX1NUUkVBTV9TRVErXCIgbmV3IG1lcmdlIHN0cmVhbSBsaXN0IFwiK3RoaXMuc3RyZWFtU2VxK1wiIHNlcnZlciBcIit0KSx0aGlzLnN0cmVhbVNlcU1lcmdlTWFwPXt9LHRoaXMuc3RyZWFtU2VxTWVyZ2VUaW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuc3RyZWFtU2VxTWVyZ2VUaW1lciksdGhpcy5zdHJlYW1TZXFNZXJnZVRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5oYW5kbGVNZXJnZVRpbWVvdXQoKX0pLHRoaXMuc3RyZWFtTGlzdE1lcmdlSW50ZXJ2YWwpKSx0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNUUkVBTUhBTkRMRVJfTUVSR0VfU1RSRUFNX0JZX1NUUkVBTV9TRVErXCIgXCIuY29uY2F0KHRoaXMuc3RyZWFtU2VxTWVyZ2VNYXAsXCIgXCIpLmNvbmNhdChlLFwiIFwiKS5jb25jYXQodCxcIiBcIikuY29uY2F0KHIpKSx0aGlzLnN0cmVhbVNlcU1lcmdlTWFwW3RdPXtjbWQ6ZSxzdHJlYW1MaXN0OnJ9fSxlLnByb3RvdHlwZS5oYW5kbGVNZXJnZVRpbWVvdXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnN0cmVhbVNlcU1lcmdlTWFwKXt2YXIgZT1PYmplY3Qua2V5cyh0aGlzLnN0cmVhbVNlcU1lcmdlTWFwKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybitlfSkpLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtdH0pKTtlW2UubGVuZ3RoLTFdLWVbMF0rMT09PWUubGVuZ3RofHxlW2UubGVuZ3RoLTFdPj10aGlzLm1pblN0cmVhbVNlcT90aGlzLm1lcmdlU3RyZWFtKGUpOih0aGlzLnN0cmVhbVNlcU1lcmdlTWFwPW51bGwsdGhpcy5mZXRjaFN0cmVhbUxpc3QoKSl9fSxlLnByb3RvdHlwZS5tZXJnZVN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU1RSRUFNSEFORExFUl9NRVJHRV9TVFJFQU0rXCIgbWVyZ2Ugc3RyZWFtTGlzdCBcIit0aGlzLnN0cmVhbVNlcStcIiBzdHJlYW1TZXFMaXN0IFwiK2Uuam9pbihcIixcIikpO3ZhciByPWVbZS5sZW5ndGgtMV0sbz1bXTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHQuc3RyZWFtU2VxTWVyZ2VNYXAmJnQuc3RyZWFtU2VxTWVyZ2VNYXBbZV0pc3dpdGNoKHQuc3RyZWFtU2VxTWVyZ2VNYXBbZV0uY21kKXtjYXNlIGkuRU5VTV9TVFJFQU1fVVBEQVRFX0NNRC5hZGRlZDp0LnN0cmVhbVNlcU1lcmdlTWFwW2VdLnN0cmVhbUxpc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9by5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0cmVhbV9pZD09ZS5zdHJlYW1faWR9KSk7LTEhPT10JiZvLnNwbGljZSh0KSxvLnB1c2goZSl9KSk7YnJlYWs7Y2FzZSBpLkVOVU1fU1RSRUFNX1VQREFURV9DTUQuZGVsZXRlZDp0LnN0cmVhbVNlcU1lcmdlTWFwW2VdLnN0cmVhbUxpc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9by5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0cmVhbV9pZD09ZS5zdHJlYW1faWR9KSk7LTEhPT10JiZvLnNwbGljZSh0KX0pKTticmVhaztjYXNlIGkuRU5VTV9TVFJFQU1fVVBEQVRFX0NNRC51cGRhdGVkOnQuc3RyZWFtU2VxTWVyZ2VNYXBbZV0uc3RyZWFtTGlzdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1vLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RyZWFtX2lkPT1lLnN0cmVhbV9pZH0pKTstMSE9PXQmJm8uc3BsaWNlKHQpLG8ucHVzaChlKX0pKX19KSksdGhpcy5zdHJlYW1TZXFNZXJnZU1hcD1udWxsLHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU1RSRUFNSEFORExFUl9NRVJHRV9TVFJFQU0rXCIgXCIrbyksdGhpcy5oYW5kbGVGdWxsVXBkYXRlU3RyZWFtKHIsbyl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5taW5TdHJlYW1TZXE9MCx0aGlzLnN0cmVhbVNlcU1lcmdlTWFwPW51bGwsdGhpcy5zdHJlYW1TZXFNZXJnZVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuc3RyZWFtU2VxTWVyZ2VUaW1lciksdGhpcy5zdHJlYW1TZXFNZXJnZVRpbWVyPXZvaWQgMCksdGhpcy5zdHJlYW1MaXN0SEJNZXJnZUludGVydmFsPTJlMyx0aGlzLnN0cmVhbUxpc3RNZXJnZUludGVydmFsPTVlM30sZX0oKTt0LlN0cmVhbUhhbmRsZXI9c30sOTg4NzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5FTlVNX1NPVVJDRV9UWVBFPXQuRU5VTV9ESVNQQVRDSF9UWVBFPXQuRU5VTV9CUk9BRENBU1RFUl9TVEFUVVM9dC5FTlVNX1BMQVlfU09VUkNFX1RZUEU9dC5FTlVNX1BVQkxJU0hfU1RBVEVfTkVHTz10LkVOVU1fUFVTSF9TSUdOQUxfU1VCX0NNRD10LkVOVU1fU0lHTkFMX1NVQl9DTUQ9dC5RVUFMSVRZTEVWRUw9dC5TRVJWRVJfRVJST1JfQ09ERT10LkVOVU1fU1RSRUFNX1VQREFURV9DTURfUFJJPXQuRU5VTV9TVFJFQU1fVVBEQVRFX0NNRD10Lk1JTklVTV9IRUFSVEJFQVRfSU5URVJWQUw9dC5TVFJFQU1fREVMRVRFX1JFQVNPTj10LkVOVU1fTkVUV09SS19TVEFURT10LkVOVU1fUlVOX1NUQVRFPXQuRU5VTV9TVFJFQU1fVVBEQVRFX1RZUEU9dC5FTlVNX1NUUkVBTV9DTURfUFJJPXQuRU5VTV9TVFJFQU1fU1VCX0NNRD10LkVOVU1fUFVCTElTSF9TVFJFQU1fU1RBVEU9dC5NQVhfUkVUUllfQ09OTkVDVF9JTlRFUlZBTD10Lk1BWF9UUkFOU19EQVRBX0xFTkdUSD10Lk1BWF9UUkFOU19UWVBFX0xFTkdUSD10Lk1BWF9NSVhfVEFTS19JRF9MRU5HVEg9dC5NQVhfTUVTU0FHRV9MRU5HVEg9dC5NQVhfUk9PTV9JRF9MRU5HVEg9dC5NQVhfVVNFUl9OQU1FX0xFTkdUSD10Lk1BWF9VU0VSX0lEX0xFTkdUSD10Lk1BWF9TVFJFQU1fSURfTEVOR1RIPXQuTUFYX1RSWV9IRUFSVEJFQVRfQ09VTlQ9dC5TRU5EX01TR19USU1FT1VUPXQuU0VORF9NU0dfUkVTRVQ9dC5NQVhfVFJZX0NPTk5FQ1RfQ09VTlQ9dC5zdHJlYW1NYXA9dC5FTlVNX0NPTk5FQ1RfU1RBVEU9dC5Qcm90b2NvbFR5cGU9dC5TaWduYWxSZXNvdXJjZVR5cGU9dC5FTlVNX1BST0JFX1NUQVRFPXQuRU5VTV9QTEFZX1NUQVRFX05FR089dC5FTlVNX1BMQVlFUl9TVEFURT10LkVOVU1fUExBWV9TVEFURT10LkVOVU1fUFVCTElTSF9TVEFURT10LkVOVU1fU0NSRUVNX1JFU09MVVRJT05fVFlQRT10LkVOVU1fUkVTT0xVVElPTl9UWVBFPXQuRU5VTV9TSUdOQUxfU1RBVEU9dC5FUlJPUl9DT0RFUz10LkVOVU1fUkVNT1RFX1RZUEU9dC5MT0dfTEVWRUw9dC5FTlVNX0xPR19MRVZFTD10LlJPT01WRVJTSU9OPXQuUFJPVE9fVkVSU0lPTj12b2lkIDAsdC5CdXNpbmVzc1NlcnZpY2U9dC5OZXRDb25uZWN0aW9uPXQuWmVnb0V4cHJlc3NXZWJSVE09dC5aZWdvRGF0YVJlcG9ydD10LlplZ29Mb2dnZXI9dC5aZWdvRXhwcmVzc1dlYlJUTUVuZ2luZT10LmdldFJlcG9ydFNlcT10LmdldFNlcT10LlplZ29TRUlUeXBlPXQuUVVBTElUWV9DT05TVEFOVD10LlF1YWxpdHlHcmFkZT10LlJFUE9SVF9BQ1RJT049dC5FTlVNX1JFVFJZX1NUQVRFPXQuRU5VTV9QTEFZX1NUQVRFX1VQREFURT10LkVOVU1fUFVCTElTSF9TVEFURV9VUERBVEU9dC5MaW5rZWRMaXN0PXQuTGlzdE5vZGU9dC5FX0NMSUVOVF9UWVBFPXZvaWQgMCx0LlBST1RPX1ZFUlNJT049XCIyLjE5LjBcIix0LlJPT01WRVJTSU9OPVwiVjFcIixmdW5jdGlvbihlKXtlW2UuZGVidWc9MF09XCJkZWJ1Z1wiLGVbZS5pbmZvPTFdPVwiaW5mb1wiLGVbZS53YXJuPTJdPVwid2FyblwiLGVbZS5lcnJvcj0zXT1cImVycm9yXCIsZVtlLnJlcG9ydD05OV09XCJyZXBvcnRcIixlW2UuZGlzYWJsZT0xMDBdPVwiZGlzYWJsZVwifSh0LkVOVU1fTE9HX0xFVkVMfHwodC5FTlVNX0xPR19MRVZFTD17fSkpLHQuTE9HX0xFVkVMPXtkZWJ1ZzowLGluZm86MSx3YXJuOjIsZXJyb3I6MyxyZXBvcnQ6OTksZGlzYWJsZToxMDB9LGZ1bmN0aW9uKGUpe2VbZS5kaXNhYmxlPTBdPVwiZGlzYWJsZVwiLGVbZS53ZWJzb2NrZXQ9MV09XCJ3ZWJzb2NrZXRcIixlW2UuaHR0cHM9Ml09XCJodHRwc1wifSh0LkVOVU1fUkVNT1RFX1RZUEV8fCh0LkVOVU1fUkVNT1RFX1RZUEU9e30pKSx0LkVSUk9SX0NPREVTPXtST09NX1NFU1NJT05fSURfRVJSOjEwMDAwMDAxNTIsRkVUQ0hfVFJBTlNfVU5LTk9XTl9DSEFOTkVMOjEwMDAwMDExMDgsRkVUQ0hfVFJBTlNfVU5LTk9XTl9UWVBFOjEwMDAwMDExMDksRkVUQ0hfVFJBTlNfV1JPTkdfU0VROjEwMDAwMDExMTB9LGZ1bmN0aW9uKGUpe2VbZS5kaXNjb25uZWN0ZWQ9MF09XCJkaXNjb25uZWN0ZWRcIixlW2UuY29ubmVjdGluZz0xXT1cImNvbm5lY3RpbmdcIixlW2UuY29ubmVjdGVkPTJdPVwiY29ubmVjdGVkXCJ9KHQuRU5VTV9TSUdOQUxfU1RBVEV8fCh0LkVOVU1fU0lHTkFMX1NUQVRFPXt9KSksdC5FTlVNX1JFU09MVVRJT05fVFlQRT17TE9XOnt3aWR0aDozMjAsaGVpZ2h0OjI0MCxmcmFtZVJhdGU6MTUsYml0UmF0ZTozMDB9LE1FRElVTTp7d2lkdGg6NjQwLGhlaWdodDo0ODAsZnJhbWVSYXRlOjE1LGJpdFJhdGU6ODAwfSxISUdIOnt3aWR0aDoxMjgwLGhlaWdodDo3MjAsZnJhbWVSYXRlOjIwLGJpdFJhdGU6MTUwMH19LHQuRU5VTV9TQ1JFRU1fUkVTT0xVVElPTl9UWVBFPXtMT1c6e2ZyYW1lUmF0ZToyMCxiaXRSYXRlOjgwMH0sTUVESVVNOntmcmFtZVJhdGU6MTUsYml0UmF0ZToxNTAwfSxISUdIOntmcmFtZVJhdGU6NSxiaXRSYXRlOjJlM319LHQuRU5VTV9QVUJMSVNIX1NUQVRFPXtzdGFydDowLHdhaXRpbmdTZXNzaW9uUnNwOjEsd2FpdGluZ09mZmVyUnNwOjIsd2FpdGluZ1NlcnZlckFuc3dlcjozLHdhaXRpbmdTZXJ2ZXJJQ0U6NCxjb25uZWN0aW5nOjUscHVibGlzaGluZzo2LHN0b3A6NyxkaWROb3RTdGFydDo4fSx0LkVOVU1fUExBWV9TVEFURT17c3RhcnQ6MCx3YWl0aW5nU2Vzc2lvblJzcDoxLHdhaXRpbmdPZmZlclJzcDoyLHdhaXRpbmdTZXJ2ZXJBbnN3ZXI6Myx3YWl0aW5nU2VydmVySUNFOjQsY29ubmVjdGluZzo1LHBsYXlpbmc6NixzdG9wOjcsZGlkTm90U3RhcnQ6OH0sdC5FTlVNX1BMQVlFUl9TVEFURT17c3RhcnQ6MCxwbGF5aW5nOjEsc3RvcDoyfSx0LkVOVU1fUExBWV9TVEFURV9ORUdPPXtzdG9wOjAsc3RhcnQ6MSx3YWl0ZXJBbnN3ZXI6Mix3YWl0aW5nQ2FuZGlkYXRlOjMsc2VuZENhbmRpZGF0ZTo0LGljZUNvbm5lY3RlZDo1LGljZURpc2Nvbm5lY3RlZDo2LGljZUNsb3NlZDo3LGljZUZhaWxlZDo4fSxmdW5jdGlvbihlKXtlW2UudHJ5UHJvYmU9MF09XCJ0cnlQcm9iZVwiLGVbZS5wcm9iZWQ9Ml09XCJwcm9iZWRcIn0odC5FTlVNX1BST0JFX1NUQVRFfHwodC5FTlVNX1BST0JFX1NUQVRFPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkNETj0wXT1cIkNETlwiLGVbZS5SVEM9MV09XCJSVENcIixlW2UuTDM9Ml09XCJMM1wifSh0LlNpZ25hbFJlc291cmNlVHlwZXx8KHQuU2lnbmFsUmVzb3VyY2VUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlVEUD0wXT1cIlVEUFwiLGVbZS5SVE1QPTFdPVwiUlRNUFwiLGVbZS5GTFY9Ml09XCJGTFZcIixlW2UuSExTPTNdPVwiSExTXCIsZVtlLldFQlJUQz00XT1cIldFQlJUQ1wifSh0LlByb3RvY29sVHlwZXx8KHQuUHJvdG9jb2xUeXBlPXt9KSksdC5FTlVNX0NPTk5FQ1RfU1RBVEU9e2Rpc2Nvbm5lY3Q6MCxjb25uZWN0aW5nOjEsY29ubmVjdGVkOjJ9LHQuc3RyZWFtTWFwPXtcIi9sci9wdXNoL3N0cmVhbV9hZGRcIjoxMjAwMSxcIi9sci9wdXNoL3N0cmVhbV9kZWxldGVcIjoxMjAwMixcIi9sci9wdXNoL3N0cmVhbV91cGRhdGVcIjoxMjAwM30sdC5NQVhfVFJZX0NPTk5FQ1RfQ09VTlQ9Myx0LlNFTkRfTVNHX1JFU0VUPTIsdC5TRU5EX01TR19USU1FT1VUPTEsdC5NQVhfVFJZX0hFQVJUQkVBVF9DT1VOVD01LHQuTUFYX1NUUkVBTV9JRF9MRU5HVEg9MjU2LHQuTUFYX1VTRVJfSURfTEVOR1RIPTY0LHQuTUFYX1VTRVJfTkFNRV9MRU5HVEg9MjU2LHQuTUFYX1JPT01fSURfTEVOR1RIPTEyOCx0Lk1BWF9NRVNTQUdFX0xFTkdUSD0xMDI0LHQuTUFYX01JWF9UQVNLX0lEX0xFTkdUSD0yNTYsdC5NQVhfVFJBTlNfVFlQRV9MRU5HVEg9MTI4LHQuTUFYX1RSQU5TX0RBVEFfTEVOR1RIPTQwOTYsdC5NQVhfUkVUUllfQ09OTkVDVF9JTlRFUlZBTD0xMix0LkVOVU1fUFVCTElTSF9TVFJFQU1fU1RBVEU9e3dhaXRpbmdfdXJsOjEsdHJ5UHVibGlzaDoyLHVwZGF0ZV9pbmZvOjMscHVibGlzaGluZzo0LHN0b3A6NSxyZXRyeVB1Ymxpc2g6Nn0sdC5FTlVNX1NUUkVBTV9TVUJfQ01EPXtsaXZlTm9uZTowLGxpdmVCZWdpbjoyMDAxLGxpdmVFbmQ6MjAwMixsaXZlVXBkYXRlOjIwMDN9LHQuRU5VTV9TVFJFQU1fQ01EX1BSST17bGl2ZUJlZ2luOlwiemVnb2NoYXRfanMucm9vbV9zdHJlYW1fY3JlYXRlX3JlcVwiLGxpdmVFbmQ6XCJ6ZWdvY2hhdF9qcy5yb29tX3N0cmVhbV9kZWxldGVfcmVxXCIsbGl2ZVVwZGF0ZTpcInplZ29jaGF0X2pzLnJvb21fc3RyZWFtX3VwZGF0ZV9yZXFcIn0sdC5FTlVNX1NUUkVBTV9VUERBVEVfVFlQRT17YWRkZWQ6MSxkZWxldGVkOjB9LGZ1bmN0aW9uKGUpe2VbZS5sb2dvdXQ9MF09XCJsb2dvdXRcIixlW2UudHJ5bG9naW49MV09XCJ0cnlsb2dpblwiLGVbZS5sb2dpbj0yXT1cImxvZ2luXCJ9KHQuRU5VTV9SVU5fU1RBVEV8fCh0LkVOVU1fUlVOX1NUQVRFPXt9KSksZnVuY3Rpb24oZSl7ZVtlLm9mZmxpbmU9MF09XCJvZmZsaW5lXCIsZVtlLm9ubGluZT0xXT1cIm9ubGluZVwifSh0LkVOVU1fTkVUV09SS19TVEFURXx8KHQuRU5VTV9ORVRXT1JLX1NUQVRFPXt9KSksdC5TVFJFQU1fREVMRVRFX1JFQVNPTj17MDp7Y29kZToxLGRlc2NyaXB0aW9uOlwidXNlcl9zdG9wX3B1Ymxpc2hpbmdfc3RyZWFtX25vcm1hbFwifSwxOntjb2RlOjIsZGVzY3JpcHRpb246XCJ1c2VyX2hlYXJ0X2JlYXRfdGltZW91dFwifSwyOntjb2RlOjMsZGVzY3JpcHRpb246XCJ1c2VyX3JlcGVhdF9sb2dpblwifSwzOntjb2RlOjQsZGVzY3JpcHRpb246XCJ1c2VyX2tpY2tlZF9vdXRcIn0sNDp7Y29kZTo1LGRlc2NyaXB0aW9uOlwidXNlcl9vZmZsaW5lXCJ9LDEwMDp7Y29kZTo2LGRlc2NyaXB0aW9uOlwicmVtb3ZlX2J5X3NlcnZlclwifX0sZnVuY3Rpb24oZSl7ZVtlLlVOS05PV049MF09XCJVTktOT1dOXCIsZVtlLkNETj0xXT1cIkNETlwiLGVbZS5SVEM9Ml09XCJSVENcIixlW2UuTDM9M109XCJMM1wifShpfHwoaT17fSkpLHQuTUlOSVVNX0hFQVJUQkVBVF9JTlRFUlZBTD0zZTMsdC5FTlVNX1NUUkVBTV9VUERBVEVfQ01EPXthZGRlZDoxMjAwMSxkZWxldGVkOjEyMDAyLHVwZGF0ZWQ6MTIwMDN9LHQuRU5VTV9TVFJFQU1fVVBEQVRFX0NNRF9QUkk9e2FkZGVkOjEsdXBkYXRlZDoyLGRlbGV0ZWQ6M30sdC5TRVJWRVJfRVJST1JfQ09ERT0xZTQsZnVuY3Rpb24oZSl7ZVtlLmxvdz0xXT1cImxvd1wiLGVbZS5zdGFudGFyZD0yXT1cInN0YW50YXJkXCIsZVtlLmhpZ2h0PTNdPVwiaGlnaHRcIixlW2UuY3VzdG9tZT00XT1cImN1c3RvbWVcIn0odC5RVUFMSVRZTEVWRUx8fCh0LlFVQUxJVFlMRVZFTD17fSkpLHQuRU5VTV9TSUdOQUxfU1VCX0NNRD17bm9uZTowLGpvaW5MaXZlUmVxdWVzdDoxMDAxLGpvaW5MaXZlUmVzdWx0OjEwMDIsam9pbkxpdmVJbnZpdGU6MTAwMyxqb2luTGl2ZVN0b3A6MTAwNH0sdC5FTlVNX1BVU0hfU0lHTkFMX1NVQl9DTUQ9e25vbmU6MCxwdXNoSm9pbkxpdmVSZXF1ZXN0OjExMDAxLHB1c2hKb2luTGl2ZVJlc3VsdDoxMTAwMixwdXNoSm9pbkxpdmVJbnZpdGU6MTEwMDMscHVzaEpvaW5MaXZlU3RvcDoxMTAwNH0sdC5FTlVNX1BVQkxJU0hfU1RBVEVfTkVHTz17c3RvcDowLHN0YXJ0OjEsd2FpdGVyQW5zd2VyOjIsd2FpdGluZ0NhbmRpZGF0ZTozLHNlbmRDYW5kaWRhdGU6NCxpY2VDb25uZWN0ZWQ6NSxpY2VEaXNjb25uZWN0ZWQ6NixpY2VDbG9zZWQ6NyxpY2VGYWlsZWQ6OH0sZnVuY3Rpb24oZSl7ZVtlLmNkbj0wXT1cImNkblwiLGVbZS51bHRyYT0xXT1cInVsdHJhXCJ9KHQuRU5VTV9QTEFZX1NPVVJDRV9UWVBFfHwodC5FTlVNX1BMQVlfU09VUkNFX1RZUEU9e30pKSxmdW5jdGlvbihlKXtlW2Uuc3RvcD0wXT1cInN0b3BcIixlW2Uuc3RhcnQ9MV09XCJzdGFydFwifSh0LkVOVU1fQlJPQURDQVNURVJfU1RBVFVTfHwodC5FTlVNX0JST0FEQ0FTVEVSX1NUQVRVUz17fSkpLGZ1bmN0aW9uKGUpe2VbZS5jZG49MF09XCJjZG5cIixlW2UudWx0cmE9MV09XCJ1bHRyYVwiLGVbZS5jdXN0b21Vcmw9Ml09XCJjdXN0b21VcmxcIn0odC5FTlVNX0RJU1BBVENIX1RZUEV8fCh0LkVOVU1fRElTUEFUQ0hfVFlQRT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5DRE49MF09XCJDRE5cIixlW2UuQkdQPTFdPVwiQkdQXCJ9KHQuRU5VTV9TT1VSQ0VfVFlQRXx8KHQuRU5VTV9TT1VSQ0VfVFlQRT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5DbGllbnRUeXBlX05vbmU9MF09XCJDbGllbnRUeXBlX05vbmVcIixlW2UuQ2xpZW50VHlwZV9INT0xXT1cIkNsaWVudFR5cGVfSDVcIixlW2UuQ2xpZW50VHlwZV9TbWFsbFByYWdyYW09Ml09XCJDbGllbnRUeXBlX1NtYWxsUHJhZ3JhbVwiLGVbZS5DbGllbnRUeXBlX1dlYnJ0Yz0zXT1cIkNsaWVudFR5cGVfV2VicnRjXCJ9KHQuRV9DTElFTlRfVFlQRXx8KHQuRV9DTElFTlRfVFlQRT17fSkpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PXQmJih0PW51bGwpLHRoaXMuX2lkPW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy5wcmV2PW51bGwsdGhpcy5faWQ9ZSx0aGlzLl9kYXRhPXR9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZD90aGlzLl9pZDpudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faWQ9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGF0YT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0JiZ0aGlzLm5leHQuaWR9LGUucHJvdG90eXBlLmhhc1ByZXY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2JiZ0aGlzLnByZXYuaWR9LGV9KCk7dC5MaXN0Tm9kZT1vO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuc3RhcnQ9bmV3IG8sdGhpcy5lbmQ9bmV3IG8sdGhpcy5faWRDb3VudGVyPTAsdGhpcy5fbnVtTm9kZXM9MCx0aGlzLnN0YXJ0Lm5leHQ9dGhpcy5lbmQsdGhpcy5zdGFydC5wcmV2PW51bGwsdGhpcy5lbmQucHJldj10aGlzLnN0YXJ0LHRoaXMuZW5kLm5leHQ9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IG8odGhpcy5faWRDb3VudGVyLHQpO3JldHVybiByLm5leHQ9ZSxyLnByZXY9ZS5wcmV2LGUucHJldiYmKGUucHJldi5uZXh0PXIpLGUucHJldj1yLCsrdGhpcy5faWRDb3VudGVyLCsrdGhpcy5fbnVtTm9kZXMscn0sZS5wcm90b3R5cGUuYWRkTGFzdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUodGhpcy5lbmQsZSl9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGRMYXN0KGUpfSxlLnByb3RvdHlwZS5nZXRGaXJzdD1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fbnVtTm9kZXM/bnVsbDp0aGlzLnN0YXJ0Lm5leHR9LGUucHJvdG90eXBlLmdldExhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX251bU5vZGVzP251bGw6dGhpcy5lbmQucHJldn0sZS5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1Ob2Rlc30sZS5wcm90b3R5cGUuZ2V0RnJvbUZpcnN0PWZ1bmN0aW9uKGUpe3ZhciB0PTAscj10aGlzLnN0YXJ0Lm5leHQ7aWYoZT49MClmb3IoO3Q8ZSYmbnVsbCE9PXI7KXI9ci5uZXh0LCsrdDtlbHNlIHI9bnVsbDtpZihudWxsPT09cil0aHJvd1wiSW5kZXggb3V0IG9mIGJvdW5kcy5cIjtyZXR1cm4gcn0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZT90aGlzLmdldEZpcnN0KCk6ZT09PXRoaXMuX251bU5vZGVzLTE/dGhpcy5nZXRMYXN0KCk6dGhpcy5nZXRGcm9tRmlyc3QoZSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5wcmV2JiYoZS5wcmV2Lm5leHQ9ZS5uZXh0KSxlLm5leHQmJihlLm5leHQucHJldj1lLnByZXYpLC0tdGhpcy5fbnVtTm9kZXMsZX0sZS5wcm90b3R5cGUucmVtb3ZlRmlyc3Q9ZnVuY3Rpb24oKXt2YXIgZT1udWxsO3JldHVybiB0aGlzLl9udW1Ob2Rlcz4wJiZ0aGlzLnN0YXJ0Lm5leHQmJihlPXRoaXMucmVtb3ZlKHRoaXMuc3RhcnQubmV4dCkpLGV9LGUucHJvdG90eXBlLnJlbW92ZUxhc3Q9ZnVuY3Rpb24oKXt2YXIgZT1udWxsO3JldHVybiB0aGlzLl9udW1Ob2Rlcz4wJiZ0aGlzLmVuZC5wcmV2JiYoZT10aGlzLnJlbW92ZSh0aGlzLmVuZC5wcmV2KSksZX0sZS5wcm90b3R5cGUucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7dGhpcy5zdGFydC5uZXh0PXRoaXMuZW5kLHRoaXMuZW5kLnByZXY9dGhpcy5zdGFydCx0aGlzLl9udW1Ob2Rlcz0wLHRoaXMuX2lkQ291bnRlcj0wfSxlLnByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnN0YXJ0O3QuaGFzTmV4dCgpOyllKHQ9dC5uZXh0KX0sZS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5zdGFydCxyPSExLGk9bnVsbDt0Lmhhc05leHQoKSYmIXI7KWUodD10Lm5leHQpJiYoaT10LHI9ITApO3JldHVybiBpfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuc3RhcnQscj1bXTt0Lmhhc05leHQoKTspZSh0PXQubmV4dCkmJnIucHVzaCh0KTtyZXR1cm4gcn0sZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGRMYXN0KGUpfSxlLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGUpe3RoaXMuaW5zZXJ0QmVmb3JlKHRoaXMuX251bU5vZGVzPjA/dGhpcy5zdGFydC5uZXh0OnRoaXMuZW5kLGUpfSxlLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1vdmVMYXN0KCl9LGUucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlRmlyc3QoKX0sZX0oKTt0LkxpbmtlZExpc3Q9bix0LkVOVU1fUFVCTElTSF9TVEFURV9VUERBVEU9e3N0YXJ0OjAsZXJyb3I6MSxyZXRyeToyfSx0LkVOVU1fUExBWV9TVEFURV9VUERBVEU9e3N0YXJ0OjAsZXJyb3I6MSxyZXRyeToyLHN0b3A6M30sdC5FTlVNX1JFVFJZX1NUQVRFPXtkaWROb3RTdGFydDowLHJldHJ5aW5nOjEsZmluaXNoZWQ6Mn0sdC5SRVBPUlRfQUNUSU9OPXtldmVudFN0YXJ0OlwiZXZlbnRTdGFydFwiLGV2ZW50RW5kV2l0aE1zZ0luZm86XCJldmVudEVuZFdpdGhNc2dJbmZvXCIsYWRkRXZlbnRNc2c6XCJhZGRFdmVudE1zZ1wiLGFkZEV2ZW50OlwiYWRkRXZlbnRcIixldmVudEVuZDpcImV2ZW50RW5kXCIsYWRkTXNnSW5mbzpcImFkZE1zZ0luZm9cIn0sZnVuY3Rpb24oZSl7ZVtlLlVua25vd249LTFdPVwiVW5rbm93blwiLGVbZS5FeGNlbGxlbnQ9MF09XCJFeGNlbGxlbnRcIixlW2UuR29vZD0xXT1cIkdvb2RcIixlW2UuTWlkZGxlPTJdPVwiTWlkZGxlXCIsZVtlLlBvb3I9M109XCJQb29yXCIsZVtlLkRpZT00XT1cIkRpZVwifSh0LlF1YWxpdHlHcmFkZXx8KHQuUXVhbGl0eUdyYWRlPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk1pblF1YWxpdHk9MF09XCJNaW5RdWFsaXR5XCIsZVtlLkRpZVF1YWxpdHk9MF09XCJEaWVRdWFsaXR5XCIsZVtlLlBvb3JNaW5RdWFsaXR5PTFdPVwiUG9vck1pblF1YWxpdHlcIixlW2UuTWlkZGxlTWluUXVhbGl0eT0zMF09XCJNaWRkbGVNaW5RdWFsaXR5XCIsZVtlLkdvb2RNaW5RdWFsaXR5PTYwXT1cIkdvb2RNaW5RdWFsaXR5XCIsZVtlLkV4Y2VsbGVudE1pblF1YWxpdHk9ODVdPVwiRXhjZWxsZW50TWluUXVhbGl0eVwiLGVbZS5NYXhRdWFsaXR5PTEwMF09XCJNYXhRdWFsaXR5XCJ9KHQuUVVBTElUWV9DT05TVEFOVHx8KHQuUVVBTElUWV9DT05TVEFOVD17fSkpLGZ1bmN0aW9uKGUpe2VbZS5aZWdvRGVmaW5lZD0wXT1cIlplZ29EZWZpbmVkXCIsZVtlLlVzZXJVbnJlZ2lzdGVyPTFdPVwiVXNlclVucmVnaXN0ZXJcIn0odC5aZWdvU0VJVHlwZXx8KHQuWmVnb1NFSVR5cGU9e30pKTt2YXIgcz1yKDQxMTkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0U2VxXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZ2V0U2VxfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0UmVwb3J0U2VxXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZ2V0UmVwb3J0U2VxfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiWmVnb0V4cHJlc3NXZWJSVE1FbmdpbmVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5aZWdvRXhwcmVzc1dlYlJUTUVuZ2luZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlplZ29Mb2dnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5aZWdvTG9nZ2VyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiWmVnb0RhdGFSZXBvcnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5aZWdvRGF0YVJlcG9ydH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlplZ29FeHByZXNzV2ViUlRNXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuWmVnb0V4cHJlc3NXZWJSVE19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJOZXRDb25uZWN0aW9uXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuTmV0Q29ubmVjdGlvbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkJ1c2luZXNzU2VydmljZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLkJ1c2luZXNzU2VydmljZX19KX0sNzcxNjpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZXJyb3JDb2RlTGlzdD12b2lkIDAsdC5lcnJvckNvZGVMaXN0PXtOT1RfTE9HSU46e2NvZGU6MTAwMDAwMixtZXNzYWdlOlwibm90IGxvZ2luIHJvb21cIn0sU1RSRUFNSURfVE9PX0xPTkc6e2NvZGU6MTAwMDAxNCxtZXNzYWdlOlwic3RyZWFtIElEIGlzIHRvbyBsb25nXCJ9LFNUUkVBTV9JRF9OVUxMOntjb2RlOjEwMDAwMTUsbWVzc2FnZTpcInN0cmVhbUlEIGlzIGVtcHR5XCJ9LFNUUkVBTV9JRF9JTlZBTElEX0NIQVJBQ1RFUjp7Y29kZToxMDAwMDE2LG1lc3NhZ2U6XCJzdHJlYW0gSUQgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzXCJ9LE5FVFdPUktfQlJPS0VOOntjb2RlOjEwMDAwMTcsbWVzc2FnZTpcIm5ldHdvcmsgaXMgYnJva2VuXCJ9LExPQ0FMU1RSRUFNX1dST05HOntjb2RlOjEwMDAwMTgsbWVzc2FnZTpcImxvY2FsIHN0cmVhbSB3cm9uZ1wifSxJTlBVVF9QQVJBTTp7Y29kZToxMTAwMDAxLG1lc3NhZ2U6XCJpbnB1dCBwYXJhbSBlcnJvci5cIn0sVElNRU9VVDp7Y29kZToxMTAwMDAyLG1lc3NhZ2U6XCJuZXR3b3JrIHRpbWVvdXQuXCJ9LFNPQ0tFVF9DTE9TRTp7Y29kZToxMTAwMDAzLG1zZzpcInNvY2tldCBjbG9zZVwifSxJTklUX1NES19XUk9ORzp7Y29kZToxMTAxZTMsbWVzc2FnZTpcImluaXQgc2RrIHdyb25nXCJ9LFdYX0dFVF9TRVRUSU5HX0ZBSUw6e2NvZGU6MTEwMTAwMSxtZXNzYWdlOlwid3ggZ2V0IHNldHRpbmcgZmFpbFwifSxHRVRfQ09ORklHX0ZBSUw6e2NvZGU6MTEwMTAwMixtZXNzYWdlOlwiZ2V0IGFwcCBjb25maWcgZmFpbFwifSxVU0VSX0lEX05VTEw6e2NvZGU6MTAwMjAwNSxtZXNzYWdlOlwidXNlciBJRCBpcyBlbXB0eVwifSxVU0VSX0lEX0lOVkFMSURfQ0hBUkFDVEVSOntjb2RlOjEwMDIwMDYsbWVzc2FnZTpcInVzZXIgSUQgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzXCJ9LFVTRVJfSURfVE9PX0xPTkc6e2NvZGU6MTAwMjAwNyxtZXNzYWdlOlwidXNlciBJRCBpcyB0b28gbG9uZ1wifSxVU0VSX05BTUVfTlVMTDp7Y29kZToxMDAyMDA4LG1lc3NhZ2U6XCJ1c2VybmFtZSBpcyBlbXB0eVwifSxVU0VSX05BTUVfVE9PX0xPTkc6e2NvZGU6MTAwMjAxMCxtZXNzYWdlOlwidXNlcm5hbWUgaXMgdG9vIGxvbmdcIn0sUk9PTV9JRF9OVUxMOntjb2RlOjEwMDIwMTEsbWVzc2FnZTpcInJvb20gSUQgaXMgZW1wdHlcIn0sUk9PTV9JRF9JTlZBTElEX0NIQVJBQ1RFUjp7Y29kZToxMDAyMDEyLG1lc3NhZ2U6XCJyb29tIElEIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVyc1wifSxST09NX0lEX1RPT19MT05HOntjb2RlOjEwMDIwMTMsbWVzc2FnZTpcInJvb20gSUQgaXMgdG9vIGxvbmdcIn0sTE9HSU5fVElNRU9VVDp7Y29kZToxMDAyMDMxLG1lc3NhZ2U6XCJsb2dpbiB0aW1lb3V0XCJ9LFJPT01fTUFYX1VTRVJfQ09VTlQ6e2NvZGU6MTAwMjAzNCxtZXNzYWdlOlwidXNlcnMgbG9nZ2luZyBpbnRvIHRoZSByb29tIGV4Y2VlZHMgdGhlIG1heGltdW0gbnVtYmVyXCJ9LE1VTFRJUExFX0xPR0lOX0tJQ0tPVVQ6e2NvZGU6MTAwMjA1MCxtZXNzYWdlOlwia2lja291dCBtYXkgYmUgdGhlIHNhbWUgdXNlciBJRCBsb2dpbiBvdGhlclwifSxST09NX1JFVFJZX1RJTUVPVVQ6e2NvZGU6MTAwMjA1MyxtZXNzYWdlOlwibmV0d29yayBpcyBicm9rZW4gYW5kIGxvZ2luIGZhaWwuXCJ9LE1BTlVBTF9LSUNLT1VUOntjb2RlOjEwMDIwNTUsbWVzc2FnZTpcInNlcnZlciBoYXMgc2VudCBhIHNpZ25hbCB0byBraWNrIG91dFwifSxST09NX0lOTkVSX0VSUk9SOntjb2RlOjEwMDIwOTksbWVzc2FnZTpcInJvb20gaW5uZXIgZXJyb3JcIn0sSEVBUlRCRUFUX1RJTUVPVVQ6e2NvZGU6MTEwMjAwMSxtZXNzYWdlOlwiaGVhcnRiZWF0IHRpbWVvdXQuXCJ9LFBBUlNFX0pTT05fRVJST1I6e2NvZGU6MTEwMjAxMSxtZXNzYWdlOlwicGFyc2UganNvbiBlcnJvci5cIn0sTE9HSU5fUFJPQ0VTU0lORzp7Y29kZToxMTAyMDEyLG1lc3NhZ2U6XCJsb2dpbiBpcyBwcm9jZXNzaW5nLlwifSxMSVZFUk9PTV9SRVFVRVNUX0VSUk9SOntjb2RlOjExMDIwMTMsbWVzc2FnZTpcImxpdmVyb29tIHJlcXVlc3QgZXJyb3IuXCJ9LFpQVVNIX1JFUVVFU1RfRkFJTDp7Y29kZToxMTAyMDE0LG1lc3NhZ2U6XCJ6cHVzaCByZXF1ZXN0IGZhaWwuXCJ9LExPR0lOX1NUQVRFX1dST05HOntjb2RlOjExMDIwMTUsbWVzc2FnZTpcInVzZXIgbG9naW4gc3RhdGUgaXMgd3JvbmcuXCJ9LFRPS0VOX0VSUk9SOntjb2RlOjExMDIwMTYsbWVzc2FnZTpcInRva2VuIGVycm9yXCJ9LERJU1BBVENIX0VSUk9SOntjb2RlOjExMDIwMTcsbWVzc2FnZTpcImRpc3BhdGNoIGVycm9yXCJ9LFRPS0VOX0VYUElSRUQ6e2NvZGU6MTEwMjAxOCxtZXNzYWdlOlwidG9rZW4gZXhwaXJlZFwifSxTVUJDTURfRVJST1I6e2NvZGU6MTEwMjAxOSxtZXNzYWdlOlwic3ViY21kIGVycm9yLlwifSxaRUdPX0FVVEhfRVJST1I6e2NvZGU6MTEwMjAyMCxtZXNzYWdlOlwiemVnbyBhdXRoIGVycm9yLlwifSxCSVpfQ0hBTk5FTF9FUlJPUjp7Y29kZToxMTAyMDIxLG1lc3NhZ2U6XCJiaXogY2hhbm5lbCBlcnJvci5cIn0sRElTUEFUQ0hfVElNRU9VVDp7Y29kZToxMTAyMDIyLG1lc3NhZ2U6XCJkaXNwYXRjaCByZXF1ZXN0IHRpbWVvdXRcIn0sQ09OTkVDVF9GQUlMRUQ6e2NvZGU6MTEwMjAyMyxtZXNzYWdlOlwiY29ubmVjdCBzaWduYWwgZmFpbFwifSxQVUJMSVNIRVJfTUVESUFfU0VSVkVSX0ZPUkJJRDp7Y29kZToxMDAzMDI1LG1lc3NhZ2U6XCJzdHJlYW0gaXMgZm9yYmlkZWQgYnkgbWVkaWEgc2VydmVyXCJ9LFBVQkxJU0hFUl9FWFRSQV9JTkZPX1RPT19MT05HOntjb2RlOjEwMDMwNTEsbWVzc2FnZTpcInN0cmVhbSBleHRyYSBpbmZvIGlzIHRvbyBsb25nXCJ9LFBVQkxJU0hFUl9QQVJBTTp7Y29kZToxMTAzMDAxLG1lc3NhZ2U6XCJpbnB1dCBwYXJhbSBlcnJvclwifSxQVUJMSVNIRVJfQlJPV1NFUl9OT1RfU1VQUE9SVDp7Y29kZToxMTAzMDAyLG1lc3NhZ2U6XCJicm93c2VyIGRvIG5vdCBzdXBwb3J0XCJ9LFBVQkxJU0hFUl9ESVNQQVRDSF9GQUlMOntjb2RlOjExMDMwMDMsbWVzc2FnZTpcImRpc3BhdGNoIHJlcXVlc3QgZXJyb3JcIn0sUFVCTElTSEVSX1NDUkVFTl9GQUlMRUQ6e2NvZGU6MTEwMzAxMCxtZXNzYWdlOlwic2NyZWVuIGZhaWxcIn0sRU5VTUVSQVRFX0RFVklDRVNfRkFJTDp7Y29kZToxMTAzMDExLG1lc3NhZ2U6XCJlbnVtZXJhdGUgZGV2aWNlcyBmYWlsXCJ9LFBVQkxJU0hFUl9ESVNQQVRDSF9SRVFVRVNUX0ZBSUw6e2NvZGU6MTEwMzAyMCxtZXNzYWdlOlwiZGlzcGF0Y2ggcmVxdWVzdCBmYWlsXCJ9LFBVQkxJU0hFUl9TRVNTSU9OX1JFUVVFU1RfRkFJTDp7Y29kZToxMTAzMDIxLG1lc3NhZ2U6XCJzZXNzaW9uIHJlcXVlc3QgZmFpbFwifSxQVUJMSVNIRVJfQ1JFQVRFX09GRkVSX0VSUk9SOntjb2RlOjExMDMwMjIsbWVzc2FnZTpcImNyZWF0ZSBvZmZlciBlcnJvclwifSxQVUJMSVNIRVJfU0VUX0xPQ0FMX0RFU0NfRVJST1I6e2NvZGU6MTEwMzAyMyxtZXNzYWdlOlwic2V0TG9jYWxEZXNjcmlwdGlvbiBlcnJvclwifSxQVUJMSVNIRVJfTUVESUFfREVTQ19FUlJPUjp7Y29kZToxMTAzMDI0LG1lc3NhZ2U6XCJtZWRpYURlc2MgZXJyb3JcIn0sUFVCTElTSEVSX1NFVF9SRU1PVEVfREVTQ19FUlJPUjp7Y29kZToxMTAzMDI1LG1lc3NhZ2U6XCJvdGhlciBzaWRlIG9mZmVyIGVycm9yXCJ9LFBVQkxJU0hFUl9DQU5ESURBVEVfRVJST1I6e2NvZGU6MTEwMzAyNixtZXNzYWdlOlwiY2FuZGlkYXRlIGVycm9yXCJ9LFBVQkxJU0hFUl9TRVNTSU9OX0NMT1NFRDp7Y29kZToxMTAzMDI3LG1lc3NhZ2U6XCJzZXJ2ZXIgc2Vzc2lvbiBjbG9zZWRcIn0sUFVCTElTSEVSX01FRElBX0NPTk5FQ1RJT05fRVJST1I6e2NvZGU6MTEwMzAyOCxtZXNzYWdlOlwiaWNlIGNvbm5lY3Rpb24gZXJyb3JcIn0sUFVCTElTSEVSX1NFUlZFUl9ORUdPX1RJTUVPVVQ6e2NvZGU6MTEwMzAzMCxtZXNzYWdlOlwibmVnb3RpYXRpb24gdGltZW91dFwifSxQVUJMSVNIX0RFVklDRV9PVVRfRVJSOntjb2RlOjExMDMwNDEsbWVzc2FnZTpcImRldmljZSBjaGFuZ2UgXCJ9LFBVQkxJU0hfU0NSRUVOX0NBTkNFTEVEOntjb2RlOjExMDMwNDIsbWVzc2FnZTpcInNjcmVlbiBjYW5jZWxlZFwifSxQVUJMSVNIX1NDUkVFTl9OT1RfU1VQUE9SVDp7Y29kZToxMTAzMDQzLG1lc3NhZ2U6XCJzY3JlZW4gbm90IHN1cHBvcnRcIn0sUFVCTElTSF9OT19QUkVWSUVXOntjb2RlOjExMDMwNDQsbWVzc2FnZTpcInN0cmVhbSBpcyBub3QgZnJvbSB6ZWdvXCJ9LFJFUEVBVEVEX1BVTEw6e2NvZGU6MTEwMzA0OSxtZXNzYWdlOlwicmVwZWF0ZWQgcHVsbCBzYW1lIHN0cmVhbVwifSxQVUJMSVNIRVJfV0VCU09DS0VUX0RJU0NPTk5FQ1RFRDp7Y29kZToxMTAzMDUwLG1lc3NhZ2U6XCJ3ZWJzb2NrZXQgZGlzY29ubmVjdGVkXCJ9LFBVQkxJU0hFUl9SRVRSWV9USU1FT1VUOntjb2RlOjExMDMwNTEsbWVzc2FnZTpcInB1Ymxpc2hlciByZXRyeSB0aW1lb3V0XCJ9LFBVQkxJU0hFUl9IVFRQU19SRVFVSVJFRDp7Y29kZToxMTAzMDUzLG1lc3NhZ2U6XCJodHRwcyBpcyByZXF1aXJlZFwifSxQVUJMSVNIRVJfTk9fUFJFVklFVzp7Y29kZToxMTAzMDU0LG1lc3NhZ2U6XCJubyBwcmV2aWV3XCJ9LFBVQkxJU0hFUl9TVFJFQU1fTk9fRk9VTkQ6e2NvZGU6MTEwMzA1NSxtZXNzYWdlOlwicHVibGlzaCBzdHJlYW0gbm8gZm91bmRcIn0sUFVCTElTSEVSX0lTX1BVQkxJU0hJTkc6e2NvZGU6MTEwMzA1NixtZXNzYWdlOlwicHVibGlzaCBpcyBwdWJsaXNoaW5nXCJ9LFBVQkxJU0hFUl9DTElFTlRfSVBfQ0hBTkdFRDp7Y29kZToxMTAzMDU4LG1lc3NhZ2U6XCJjbGllbnQgaXAgY2hhbmdlZFwifSxQVUJMSVNIRVJfVFRMX09WRVJUSU1FOntjb2RlOjExMDMwNTksbWVzc2FnZTpcInR0bCBvdmVyIHRpbWVcIn0sUFVCTElTSEVSX1NFU1NJT05fVElNRU9VVDp7Y29kZToxMTAzMDYwLG1lc3NhZ2U6XCJzZXNzaW9uIHJlcXVlc3QgdGltZW91dFwifSxQVUJMSVNIRVJfR0VUX1VTRVJfTUVESUFfRkFJTDp7Y29kZToxMTAzMDYxLG1lc3NhZ2U6XCJnZXQgbWVkaWEgZmFpbFwifSxQVUJMSVNIRVJfREVWSUNFX05PX0FMTE9XRUQ6e2NvZGU6MTEwMzA2NCxtZXNzYWdlOlwiZ2V0IGRldmljZSBub3QgYWxsb3dlZFwifSxQVUJMSVNIRVJfREVWSUNFX05PX1JFQURBQkxFOntjb2RlOjExMDMwNjUsbWVzc2FnZTpcImRldmljZSBpcyBub3QgcmVhZGFibGVcIn0sUFVCTElTSEVSX09WRVJfQ09OU1RSQUlORUQ6e2NvZGU6MTEwMzA2NixtZXNzYWdlOlwiZGV2aWNlIGRvZXMgbm90IG1lZXQgY29uc3RyYWludHNcIn0sUFVCTElTSEVSX1VQREFURV9TRFBfVElNRU9VVDp7Y29kZToxMTAzMDY3LG1lc3NhZ2U6XCJ1cGRhdGUgc2RwIHRpbWUgb3V0XCJ9LFBVQkxJU0hFUl9VUERBVEVfU0RQX0ZBSUw6e2NvZGU6MTEwMzA2OCxtZXNzYWdlOlwidXBkYXRlIHNkcCBmYWlsXCJ9LFZJREVPX0VGRkVDVF9JU19TVEFSVElORzp7Y29kZToxMTAzMDczLG1lc3NhZ2U6XCJ2aWRlbyBlZmZlY3QgaXMgc3RhcnRpbmcsIHBsZWFzZSBvcGVyYXRlIGFmdGVyIHZpZGVvIGVmZmVjdCBpcyBzdGFydGVkXCJ9LFBMQVlFUl9QQVJBTTp7Y29kZToxMTA0MDAxLG1lc3NhZ2U6XCJpbnB1dCBwYXJtIGVycm9yXCJ9LFBMQVlFUl9ESVNQQVRDSF9SRVFVRVNUX0ZBSUw6e2NvZGU6MTEwNDAyMCxtZXNzYWdlOlwiZGlzcGF0Y2ggcmVxdWVzdCBmYWlsXCJ9LFBMQVlFUl9TRVNTSU9OX1JFUVVFU1RfRkFJTDp7Y29kZToxMTA0MDIxLG1lc3NhZ2U6XCJzZXNzaW9uIHJlcXVlc3QgZmFpbFwifSxQTEFZRVJfQ1JFQVRFX09GRkVSX0VSUk9SOntjb2RlOjExMDQwMjIsbWVzc2FnZTpcImNyZWF0ZSBvZmZlciBlcnJvclwifSxQTEFZRVJfU0VUX0xPQ0FMX0RFU0NfRVJST1I6e2NvZGU6MTEwNDAyMyxtZXNzYWdlOlwic2V0TG9jYWxEZXNjcmlwdGlvbiBlcnJvclwifSxQTEFZRVJfTUVESUFfREVTQ19FUlJPUjp7Y29kZToxMTA0MDI0LG1lc3NhZ2U6XCJtZWRpYURlc2MgZXJyb3JcIn0sUExBWUVSX1NFVF9SRU1PVEVfREVTQ19FUlJPUjp7Y29kZToxMTA0MDI1LG1lc3NhZ2U6XCJvdGhlciBzaWRlIG9mZmVyIGVycm9yXCJ9LFBMQVlFUl9DQU5ESURBVEVfRVJST1I6e2NvZGU6MTEwNDAyNixtZXNzYWdlOlwiY2FuZGlkYXRlIGVycm9yXCJ9LFBMQVlFUl9TRVNTSU9OX0NMT1NFRDp7Y29kZToxMTA0MDI3LG1lc3NhZ2U6XCJzZXJ2ZXIgc2Vzc2lvbiBjbG9zZWRcIn0sUExBWUVSX01FRElBX0NPTk5FQ1RJT05fRVJST1I6e2NvZGU6MTEwNDAyOCxtZXNzYWdlOlwiaWNlIGNvbm5lY3Rpb24gZXJyb3JcIn0sUExBWUVSX1dFQlNPQ0tFVF9ESVNDT05ORUNURUQ6e2NvZGU6MTEwNDAyOSxtZXNzYWdlOlwid2Vic29ja2V0IGRpc2Nvbm5lY3RlZFwifSxQTEFZRVJfU0VSVkVSX05FR09fVElNRU9VVDp7Y29kZToxMTA0MDMwLG1lc3NhZ2U6XCJuZWdvdGlhdGlvbiB0aW1lb3V0XCJ9LFBMQVlFUl9SRVRSWV9USU1FT1VUOntjb2RlOjExMDQwMzEsbWVzc2FnZTpcInBsYXllciByZXRyeSB0aW1lb3V0XCJ9LFBMQVlFUl9JU19QTEFZSU5HOntjb2RlOjExMDQwMzIsbWVzc2FnZTpcInBsYXllciBpcyBwbGF5aW5nXCJ9LFBMQVlFUl9DTElFTlRfSVBfQ0hBTkdFRDp7Y29kZToxMTA0MDMzLG1lc3NhZ2U6XCJjbGllbnQgaXAgY2hhbmdlZFwifSxQTEFZRVJfVFRMX09WRVJUSU1FOntjb2RlOjExMDQwMzQsbWVzc2FnZTpcInR0bCBpcyBvdmVyIHRpbWVcIn0sUExBWUVSX1NFU1NJT05fUkVTRVQ6e2NvZGU6MTEwNDAzNSxtZXNzYWdlOlwicmVzZXQgc2Vzc2lvbiBwdXNoXCJ9LFBMQVlFUl9TRVNTSU9OX1RJTUVPVVQ6e2NvZGU6MTEwNDAzNixtZXNzYWdlOlwic2Vzc2lvbiByZXF1ZXN0IHRpbWVvdXRcIn0sUExBWUVSX1BST0JFX1RJTUVPVVQ6e2NvZGU6MTEwNDAzNyxtZXNzYWdlOlwicHJvYmUgdGltZSBvdXRcIn0sUExBWUVSX1VOU1VQUE9SVEVEX1BST1RPQ09MOntjb2RlOjExMDQwMzgsbWVzc2FnZTpcInJlc291cmNlIG1vZGUgaXMgbm90IHN1cHBvcnRlZFwifSxQTEFZRVJfU1RSRUFNX05PVF9FWElTVDp7Y29kZToxMTA0MDM5LG1lc3NhZ2U6XCJwbGF5IHN0cmVhbSBub3QgZm91bmRcIn0sREVWSUNFX0VSUk9SX1RZUEVfVU5QTFVHR0VEOntjb2RlOjEwMDYwMDYsbWVzc2FnZTpcInRoZSBkZXZpY2UgaXMgdW5wbHVnZ2VkXCJ9LElNX0NPTlRFTlRfTlVMTDp7Y29kZToxMDA5MDAxLG1lc3NhZ2U6XCJtZXNzYWdlIGNvbnRlbnQgaXMgZW1wdHlcIn0sSU1fQ09OVEVOVF9UT09fTE9ORzp7Y29kZToxMDA5MDAyLG1lc3NhZ2U6XCJtZXNzYWdlIGNvbnRlbnQgaXMgdG9vIGxvbmdcIn0sSU1fU0VORF9GQUlMRUQ6e2NvZGU6MTAwOTAxMCxtZXNzYWdlOlwiZmFpbGVkIHRvIHNlbmQgbWVzc2FnZVwifSxGUkVRX0xJTUlURUQ6e2NvZGU6MTEwOTAwMSxtZXNzYWdlOlwiZnJlcXVlbmN5IGxpbWl0ZWQuXCJ9fX0sODMzNTpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5aZWdvV2VjaGF0TG9nRXZlbnQ9dC5aZWdvUlRDTG9nRXZlbnQ9dm9pZCAwO3ZhciBpPXIoNzcxNiksbz1mdW5jdGlvbihlKXtyZXR1cm4gZX07dC5aZWdvUlRDTG9nRXZlbnQ9e2taZWdvVGFza0NyZWF0ZVN0cmVhbTp7ZXZlbnQ6XCIvc2RrL2NyZWF0ZV9zdHJlYW1cIixlcnJvcjp7a0Jyb3dzZXJOb3RTdXBwb3J0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9CUk9XU0VSX05PVF9TVVBQT1JULGtQYXJhbUVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfUEFSQU0sa1NjcmVlbkNhbmNlbEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIX1NDUkVFTl9DQU5DRUxFRCxrU2NyZWVuRmFpbGVkRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9TQ1JFRU5fRkFJTEVELGtTY3JlZW5Ob3RTdXBwb3J0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hfU0NSRUVOX05PVF9TVVBQT1JULGtIdHRwc1JlcXVpcmVkRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9IVFRQU19SRVFVSVJFRCxrR2V0VXNlck1lZGlhRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9HRVRfVVNFUl9NRURJQV9GQUlMLGtEZXZpY2VOb0FsbG93ZWRFcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX0RFVklDRV9OT19BTExPV0VELGtEZXZpY2VOb1JlYWRhYmxlRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9ERVZJQ0VfTk9fUkVBREFCTEUsa0RldmljZU92ZXJDb25zdHJhaW5lZEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfT1ZFUl9DT05TVFJBSU5FRH0sc3RyZWFtX3R5cGU6byxzY3JlZW46byxjYW1lcmE6byxjdXN0b206b30sa1plZ29UYXNrUHVibGlzaFN0YXJ0OntldmVudDpcIi9zZGsvYXBpL3B1Ymxpc2hfcmVxdWVzdFwiLGVycm9yOntrUHVibGlzaFBhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9QQVJBTSxrUHVibGlzaE5ldHdvcmtUaW1lb3V0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlRJTUVPVVQsa1B1Ymxpc2hEaXNwYXRjaFRpbWVvdXRFcnJvcjppLmVycm9yQ29kZUxpc3QuRElTUEFUQ0hfVElNRU9VVCxrUHVibGlzaERpc3BhdGNoRXJyb3I6aS5lcnJvckNvZGVMaXN0LkRJU1BBVENIX0VSUk9SLGtQdWJsaXNoTmV0d29ya0Jyb2tlbkVycm9yOmkuZXJyb3JDb2RlTGlzdC5ORVRXT1JLX0JST0tFTixrUHVibGlzaE5vUHJldmlld0Vycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIX05PX1BSRVZJRVcsa1B1Ymxpc2hFZmZlY3RJc1N0YXJ0aW5nOmkuZXJyb3JDb2RlTGlzdC5WSURFT19FRkZFQ1RfSVNfU1RBUlRJTkcsa1B1Ymxpc2hOb0xvZ2luRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk5PVF9MT0dJTixrUHVibGlzaFJldHJ5VGltZW91dEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfUkVUUllfVElNRU9VVCxrTWVkaWFTZXJ2ZXJGb3JiaWRFcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX01FRElBX1NFUlZFUl9GT1JCSUQsa1B1Ymxpc2hUb2tlbkV4cGlyZWRFcnJvcjppLmVycm9yQ29kZUxpc3QuVE9LRU5fRVhQSVJFRCxrUHVibGlzaFNlc3Npb25DbG9zZWRFcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1NFU1NJT05fQ0xPU0VELGtQdWJsaXNoTmVnb1RpbWVvdXRFcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1NFUlZFUl9ORUdPX1RJTUVPVVQsa0NyZWF0ZU9mZmVyRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9DUkVBVEVfT0ZGRVJfRVJST1Isa1NldExvY2FsRGVzY0Vycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfU0VUX0xPQ0FMX0RFU0NfRVJST1Isa1Nlc3Npb25UaW1lb3V0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9TRVNTSU9OX1RJTUVPVVQsa1Nlc3Npb25SZXF1ZXN0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9TRVNTSU9OX1JFUVVFU1RfRkFJTCxrU2V0UmVtb3RlRGVzY0Vycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfU0VUX1JFTU9URV9ERVNDX0VSUk9SLGtNZWRpYUNvbm5lY3Rpb25FcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX01FRElBX0NPTk5FQ1RJT05fRVJST1Isa1dlYnNvY2tldERpc2Nvbm5lY3RlZEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfV0VCU09DS0VUX0RJU0NPTk5FQ1RFRCxrTWVkaWFEZXNjRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9NRURJQV9ERVNDX0VSUk9SLGtDYW5kaWRhdGVFcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX0NBTkRJREFURV9FUlJPUixrSXNQdWJsaXNoaW5nOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfSVNfUFVCTElTSElORyxrQ2xpZW50SVBDaGFuZ2VkRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9DTElFTlRfSVBfQ0hBTkdFRCxrVFRMT3ZlclRpbWVFcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1RUTF9PVkVSVElNRSxrVXBkYXRlTWVkaWFEZXNjcmlwdGlvblRpbWVPdXQ6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9VUERBVEVfU0RQX1RJTUVPVVQsa1VwZGF0ZU1lZGlhRGVzY3JpcHRpb25FcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1VQREFURV9TRFBfRkFJTH0scHVibGlzaE9wdGlvbjpvLG1lc3NhZ2U6byxzZXNzaW9uX2lkOm8sc3RyZWFtOm8sdmlkZW9fZW5fY29kZWNfaWQ6byxjYXBfdzpvLGNhcF9oOm8sdzpvLGg6byx2aWRlb19lbl9mcHM6byx2aWRlb19lbl9icHM6byxhdWRpb19jX2NoYW5uZWxfY291bnQ6byxhdWRpb19lbl9icHM6byxhZWNfbGV2ZWw6byxhbnNfbGV2ZWw6byxhZ2M6byx0cmFmZmljX2NvbnRyb2xfbWluX3ZpZGVvX2JpdHJhdGU6byx1c2VfbmE6b30sa1plZ29UYXNrVmlkZW9DYXB0dXJlU2l6ZTp7ZXZlbnQ6XCIvc2RrL2FwaS9wdWJsaXNoX3ZpZGVvX2Nfc2l6ZVwiLHNlc3Npb25faWQ6byx3Om8saDpvfSxrWmVnb1Rhc2tWaWRlb1BsYXlTaXplOntldmVudDpcIi9zZGsvcGxheV92aWRlb19zaXplX2NoYW5nZWRcIixzZXNzaW9uX2lkOm8sdzpvLGg6b30sa1plZ29UYXNrUmVQdWJsaXNoOntldmVudDpcIi9zZGsvcmVwdWJsaXNoXCIsc3RyZWFtOm99LGtaZWdvVGFza1B1Ymxpc2hTdG9wOntldmVudDpcIi9zZGsvc3RvcF9wdWJsaXNoXCIsZXJyb3I6e2tQYXJhbUVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfUEFSQU19LHN0cmVhbTpvfSxrWmVnb1Rhc2tQbGF5U3RhcnQ6e2V2ZW50OlwiL3Nkay9hcGkvcGxheV9yZXF1ZXN0XCIsZXJyb3I6e2tTdHJlYW1JRE51bGxFcnJvcjppLmVycm9yQ29kZUxpc3QuU1RSRUFNX0lEX05VTEwsa1BsYXlQYXJhbUVycm9yOmkuZXJyb3JDb2RlTGlzdC5QTEFZRVJfUEFSQU0sa1BsYXlTdHJlYW1JRFRvTG9uZ0Vycm9yOmkuZXJyb3JDb2RlTGlzdC5TVFJFQU1JRF9UT09fTE9ORyxrUGxheVN0cmVhbUlESW52YWxpZENoYXJhY3RlckVycm9yOmkuZXJyb3JDb2RlTGlzdC5TVFJFQU1fSURfSU5WQUxJRF9DSEFSQUNURVIsa1BsYXlOb0xvZ2luRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk5PVF9MT0dJTixrUGxheVJlcGVhdGVkUHVsbEVycm9yOmkuZXJyb3JDb2RlTGlzdC5SRVBFQVRFRF9QVUxMLGtQbGF5TmV0d29ya1RpbWVvdXRFcnJvcjppLmVycm9yQ29kZUxpc3QuVElNRU9VVCxrUGxheURpc3BhdGNoVGltZW91dEVycm9yOmkuZXJyb3JDb2RlTGlzdC5ESVNQQVRDSF9USU1FT1VULGtQbGF5RGlzcGF0Y2hFcnJvcjppLmVycm9yQ29kZUxpc3QuRElTUEFUQ0hfRVJST1Isa1BsYXlOZXR3b3JrQnJva2VuRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk5FVFdPUktfQlJPS0VOLGtQbGF5VW5zdXBwb3J0ZWRSZXNvdXJjZU1vZGU6aS5lcnJvckNvZGVMaXN0LlBMQVlFUl9VTlNVUFBPUlRFRF9QUk9UT0NPTCxrUGxheVN0cmVhbU5vdEZvdW5kOmkuZXJyb3JDb2RlTGlzdC5QTEFZRVJfU1RSRUFNX05PVF9FWElTVCxrUGxheVJldHJ5VGltZW91dEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QTEFZRVJfUkVUUllfVElNRU9VVCxrUGxheVNlc3Npb25DbG9zZWRFcnJvcjppLmVycm9yQ29kZUxpc3QuUExBWUVSX1NFU1NJT05fQ0xPU0VELGtQbGF5U2Vzc2lvblJlc2V0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBMQVlFUl9TRVNTSU9OX1JFU0VULGtQbGF5TmVnb1RpbWVvdXRFcnJvcjppLmVycm9yQ29kZUxpc3QuUExBWUVSX1NFUlZFUl9ORUdPX1RJTUVPVVQsa0NyZWF0ZU9mZmVyRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBMQVlFUl9DUkVBVEVfT0ZGRVJfRVJST1Isa1NldExvY2FsRGVzY0Vycm9yOmkuZXJyb3JDb2RlTGlzdC5QTEFZRVJfU0VUX0xPQ0FMX0RFU0NfRVJST1Isa1Nlc3Npb25SZXF1ZXN0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBMQVlFUl9TRVNTSU9OX1JFUVVFU1RfRkFJTCxrU2Vzc2lvblRpbWVvdXRFcnJvcjppLmVycm9yQ29kZUxpc3QuUExBWUVSX1NFU1NJT05fVElNRU9VVCxrU2V0UmVtb3RlRGVzY0Vycm9yOmkuZXJyb3JDb2RlTGlzdC5QTEFZRVJfU0VUX1JFTU9URV9ERVNDX0VSUk9SLGtNZWRpYUNvbm5lY3Rpb25FcnJvcjppLmVycm9yQ29kZUxpc3QuUExBWUVSX01FRElBX0NPTk5FQ1RJT05fRVJST1Isa1dlYnNvY2tldERpc2Nvbm5lY3RlZEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QTEFZRVJfV0VCU09DS0VUX0RJU0NPTk5FQ1RFRCxrQ2FuZGlkYXRlRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBMQVlFUl9DQU5ESURBVEVfRVJST1Isa01lZGlhRGVzY0Vycm9yOmkuZXJyb3JDb2RlTGlzdC5QTEFZRVJfTUVESUFfREVTQ19FUlJPUixrSXNQbGF5aW5nOmkuZXJyb3JDb2RlTGlzdC5QTEFZRVJfSVNfUExBWUlORyxrQ2xpZW50SVBDaGFuZ2VkRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBMQVlFUl9DTElFTlRfSVBfQ0hBTkdFRCxrVFRMT3ZlclRpbWVFcnJvcjppLmVycm9yQ29kZUxpc3QuUExBWUVSX1RUTF9PVkVSVElNRSxrUHJvYmVUaW1lT3V0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBMQVlFUl9QUk9CRV9USU1FT1VUfSxwbGF5T3B0aW9uOm8sbWVzc2FnZTpvLHNlc3Npb25faWQ6byxzdHJlYW06byxhdWRpb19hY3RpdmF0ZTpvLHZpZGVvX2FjdGl2YXRlOm8sdXNlX25hOm99LGtaZWdvVGFza1JlUGxheTp7ZXZlbnQ6XCIvc2RrL3JlcGxheVwiLHN0cmVhbTpvfSxrWmVnb1Rhc2tQbGF5U3RvcDp7ZXZlbnQ6XCIvc2RrL3N0b3BfcGxheVwiLGVycm9yOntrUGFyYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1BBUkFNfSxzdHJlYW06b30sa1plZ29UYXNrRW51bURldmljZXM6e2V2ZW50OlwiL2RldmljZS9saXN0XCIsZXJyb3I6e2tCcm93c2VyTm90U3VwcG9ydEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfQlJPV1NFUl9OT1RfU1VQUE9SVCxrRW51bURldmljZXNFcnJvcjppLmVycm9yQ29kZUxpc3QuRU5VTUVSQVRFX0RFVklDRVNfRkFJTH0sZGV2X2xpc3Q6b30sa1plZ29UYXNrQXVkaW9PdXRwdXQ6e2V2ZW50OlwiL2RldmljZS9hdWRpb19jYXB0dXJlXCIsZXJyb3I6e2tCcm93c2VyTm90U3VwcG9ydEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfQlJPV1NFUl9OT1RfU1VQUE9SVCxrRW51bURldmljZXNFcnJvcjppLmVycm9yQ29kZUxpc3QuRU5VTUVSQVRFX0RFVklDRVNfRkFJTH0sc2Vzc2lvbl9pZDpvLGRldmljZTpvfSxrWmVnb1Rhc2tWaWRlb0NhcHR1cmU6e2V2ZW50OlwiL2RldmljZS92aWRlb19jYXB0dXJlXCIsZXJyb3I6e2tCcm93c2VyTm90U3VwcG9ydEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfQlJPV1NFUl9OT1RfU1VQUE9SVCxrRW51bURldmljZXNFcnJvcjppLmVycm9yQ29kZUxpc3QuRU5VTUVSQVRFX0RFVklDRVNfRkFJTH0sc2Vzc2lvbl9pZDpvLGRldmljZTpvfSxrWmVnb1Rhc2tEZXZpY2VJbnRlcnJ1cHQ6e2V2ZW50OlwiL2RldmljZS9pbnRlcnJ1cHRcIixlcnJvcjp7a0Jyb3dzZXJOb3RTdXBwb3J0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9CUk9XU0VSX05PVF9TVVBQT1JULGtFbnVtRGV2aWNlc0Vycm9yOmkuZXJyb3JDb2RlTGlzdC5FTlVNRVJBVEVfREVWSUNFU19GQUlMfSxzZXNzaW9uX2lkOm8saW50ZXJydXB0Om99LGtaZWdvVGFza1NldERlYnVnOlwiL3Nkay9zZXRfZGVidWdcIixrWmVnb1Rhc2tTZXRMb2c6XCIvc2RrL3NldF9sb2dfY29uZmlnXCIsa1plZ29UYXNrQ2hlY2tTeXN0ZW1SZXF1aXJlbWVudHM6e2V2ZW50OlwiL3Nkay9jaGVja19zeXN0ZW1cIixjYXBhYmlsaXR5Om99LGtaZWdvVGFza1JlbW90ZUNhbWVyYVVwZGF0ZTp7ZXZlbnQ6XCIvc2RrL3JlbW90ZV9jYW1lcmFfdXBkYXRlXCIsc3RyZWFtOm8sc3RhdHVzOm99LGtaZWdvVGFza1JlbW90ZU1pY1VwZGF0ZTp7ZXZlbnQ6XCIvc2RrL3JlbW90ZV9taWNfdXBkYXRlXCIsc3RyZWFtOm8sc3RhdHVzOm99LGtaZWdvVGFza0Rlc3Ryb3lTdHJlYW06e2V2ZW50OlwiL3Nkay9kZXN0cm95X3N0cmVhbVwiLGVycm9yOntrTG9jYWxTdHJlYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuTE9DQUxTVFJFQU1fV1JPTkd9fSxrWmVnb1Rhc2tTY3JlZW5TaGFyaW5nRW5kZWQ6XCIvc2RrL3NjcmVlbl9zaGFyZV9lbmRcIixrWmVnb1Rhc2tBdWRpb091dHB1dENoYW5nZWQ6e2V2ZW50OlwiL2RldmljZS9hcGkvYXVkaW9fb3V0cHV0XCIsc2Vzc2lvbl9pZDpvLHN0cmVhbTpvLGRldmljZTpvLHJlYXNvbjpvfSxrWmVnb0V2ZW50UHVibGlzaFN0YXQ6XCIvc2RrL3B1Ymxpc2hfc3RhdF9yZXBvcnRcIixrWmVnb0V2ZW50UGxheVN0YXQ6XCIvc2RrL3BsYXlfc3RhdF9yZXBvcnRcIixrWmVnb1Rhc2tMaXZlUm9vbUdldFN0cmVhbVVwZGF0ZUluZm86e2V2ZW50OlwiL2xpdmVyb29tL2dldF9zdHJlYW1fdXBkYXRlX2luZm9cIixzdHJlYW1fdXBkYXRlX3R5cGU6byx1cGRhdGVfc3RyZWFtOm99LGtaZWdvVGFza0xpdmVSb29tR2V0U3RyZWFtRXh0cmFJbmZvOntldmVudDpcIi9saXZlcm9vbS9nZXRfc3RyZWFtX2V4dHJhX2luZm9cIix1cGRhdGVfc3RyZWFtOm99LGtaZWdvVGFza1BsYXlEZWNvZGVGaXJzdFZpZGVvRnJhbWU6e2V2ZW50OlwiL3Nkay9wbGF5X2RlY29kZV9maXJzdF92aWRlb19mcmFtZVwiLHNlc3Npb25faWQ6byxmZnRfY29uc3VtZWQ6b30sa1plZ29WaXNpYmlsaXR5Q2hhbmdlOntldmVudDpcIi9hcHAvYmFja2dyb3VuZFwifSxrWmVnb1NldENhcHR1cmVWb2x1bWU6e2V2ZW50OlwiL3Nkay9zZXRfY2FwdHVyZV92b2x1bWVcIixlcnJvcjp7a1BhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNfX0sa1plZ29MaXN0ZW5lcjp7ZXZlbnQ6XCIvc2RrL2xpc3RlbmVyXCJ9LGtaZWdvTmV0UHJvYmU6e2V2ZW50OlwiL3Nkay9uZXRfcHJvYmVcIn0sa1plZ29OZXRQcm9iZVJlc3VsdDp7ZXZlbnQ6XCIvc2RrL25ldF9wcm9iZV9yZXN1bHRcIn0sa1plZ29UYXNrQ2xvdWRTZXR0aW5nQ2FjaGU6e2V2ZW50OlwiL2Nsb3VkX3NldHRpbmcvY2FjaGVcIn0sa1plZ29UYXNrQ2xvdWRTZXR0aW5nUmVmcmVzaDp7ZXZlbnQ6XCIvY2xvdWRfc2V0dGluZy9yZWZyZXNoXCJ9fSx0LlplZ29XZWNoYXRMb2dFdmVudD17a1plZ29UYXNrQ2hlY2tTeXN0ZW1SZXF1aXJlbWVudHM6e2V2ZW50OlwiL3Nkay9jaGVja19zeXN0ZW1cIixlcnJvcjp7a0NoZWNrU3lzdGVtR2V0U2V0dGluZ0ZhaWxFcnJvcjppLmVycm9yQ29kZUxpc3QuV1hfR0VUX1NFVFRJTkdfRkFJTH0sY2FwYWJpbGl0eTpvfSxrWmVnb1Rhc2tQdWJsaXNoU3RhcnQ6e2V2ZW50OlwiL3Nkay9hcGkvcHVibGlzaF9yZXF1ZXN0XCIsZXJyb3I6e2tQdWJsaXNoU3RyZWFtSUROdWxsRXJyb3I6aS5lcnJvckNvZGVMaXN0LlNUUkVBTV9JRF9OVUxMLGtQdWJsaXNoUGFyYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1BBUkFNLGtQdWJsaXNoU3RyZWFtSURUb29Mb25nRXJyb3I6aS5lcnJvckNvZGVMaXN0LlNUUkVBTUlEX1RPT19MT05HLGtQdWJsaXNoU3RyZWFtSURJbnZhbGlkQ2hhcmFjdGVyRXJyb3I6aS5lcnJvckNvZGVMaXN0LlNUUkVBTV9JRF9JTlZBTElEX0NIQVJBQ1RFUixrUHVibGlzaE5ldHdvcmtUaW1lb3V0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlRJTUVPVVQsa1B1Ymxpc2hEaXNwYXRjaFRpbWVvdXRFcnJvcjppLmVycm9yQ29kZUxpc3QuRElTUEFUQ0hfVElNRU9VVCxrUHVibGlzaERpc3BhdGNoRXJyb3I6aS5lcnJvckNvZGVMaXN0LkRJU1BBVENIX0VSUk9SLGtQdWJsaXNoTmV0d29ya0Jyb2tlbkVycm9yOmkuZXJyb3JDb2RlTGlzdC5ORVRXT1JLX0JST0tFTixrUHVibGlzaE5vTG9naW5FcnJvcjppLmVycm9yQ29kZUxpc3QuTk9UX0xPR0lOLGtQdWJsaXNoUmV0cnlUaW1lb3V0RXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9SRVRSWV9USU1FT1VULGtJc1B1Ymxpc2hpbmc6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9JU19QVUJMSVNISU5HfSxwdWJsaXNoT3B0aW9uOm8sc3RyZWFtOm8sbWVzc2FnZTpvfSxrWmVnb1Rhc2tQbGF5U3RhcnQ6e2V2ZW50OlwiL3Nkay9hcGkvcGxheV9yZXF1ZXN0XCIsZXJyb3I6e2tQbGF5U3RyZWFtSUROdWxsRXJyb3I6aS5lcnJvckNvZGVMaXN0LlNUUkVBTV9JRF9OVUxMLGtQbGF5UGFyYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuUExBWUVSX1BBUkFNLGtQbGF5U3RyZWFtSURUb29Mb25nRXJyb3I6aS5lcnJvckNvZGVMaXN0LlNUUkVBTUlEX1RPT19MT05HLGtQbGF5U3RyZWFtSURJbnZhbGlkQ2hhcmFjdGVyRXJyb3I6aS5lcnJvckNvZGVMaXN0LlNUUkVBTV9JRF9JTlZBTElEX0NIQVJBQ1RFUixrUGxheU5vTG9naW5FcnJvcjppLmVycm9yQ29kZUxpc3QuTk9UX0xPR0lOLGtQbGF5UmVwZWF0ZWRQdWxsRXJyb3I6aS5lcnJvckNvZGVMaXN0LlJFUEVBVEVEX1BVTEwsa1BsYXlOZXR3b3JrVGltZW91dEVycm9yOmkuZXJyb3JDb2RlTGlzdC5USU1FT1VULGtQbGF5RGlzcGF0Y2hUaW1lb3V0RXJyb3I6aS5lcnJvckNvZGVMaXN0LkRJU1BBVENIX1RJTUVPVVQsa1BsYXlEaXNwYXRjaEVycm9yOmkuZXJyb3JDb2RlTGlzdC5ESVNQQVRDSF9FUlJPUixrUGxheU5ldHdvcmtCcm9rZW5FcnJvcjppLmVycm9yQ29kZUxpc3QuTkVUV09SS19CUk9LRU4sa1BsYXlSZXRyeVRpbWVvdXRFcnJvcjppLmVycm9yQ29kZUxpc3QuUExBWUVSX1JFVFJZX1RJTUVPVVQsa0lzUGxheWluZzppLmVycm9yQ29kZUxpc3QuUExBWUVSX0lTX1BMQVlJTkd9LHBsYXlPcHRpb246byxtZXNzYWdlOm8sc2Vzc2lvbl9pZDpvLHN0cmVhbTpvLGF1ZGlvX2FjdGl2YXRlOm8sdmlkZW9fYWN0aXZhdGU6b30sa1plZ29FdmVudFB1Ymxpc2hTdGF0OlwiL3Nkay9wdWJsaXNoX3N0YXRfcmVwb3J0XCIsa1plZ29FdmVudFBsYXlTdGF0OlwiL3Nkay9wbGF5X3N0YXRfcmVwb3J0XCIsa1plZ29UYXNrUmVQdWJsaXNoOlwiL3Nkay9yZXB1Ymxpc2hcIixrWmVnb1Rhc2tSZVBsYXk6XCIvc2RrL3JlcGxheVwiLGtaZWdvVGFza1B1Ymxpc2hTdG9wOntldmVudDpcIi9zZGsvc3RvcF9wdWJsaXNoXCIsZXJyb3I6e2tQYXJhbUVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfUEFSQU19LHN0cmVhbTpvfSxrWmVnb1Rhc2tQbGF5U3RvcDp7ZXZlbnQ6XCIvc2RrL3N0b3BfcGxheVwiLGVycm9yOntrUGFyYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1BBUkFNfSxzdHJlYW06b30sa1plZ29UYXNrTGl2ZVJvb21HZXRTdHJlYW1VcGRhdGVJbmZvOntldmVudDpcIi9saXZlcm9vbS9nZXRfc3RyZWFtX3VwZGF0ZV9pbmZvXCIsc3RyZWFtX3VwZGF0ZV90eXBlOm8sdXBkYXRlX3N0cmVhbTpvfSxrWmVnb1Rhc2tMaXZlUm9vbUdldFN0cmVhbUV4dHJhSW5mbzp7ZXZlbnQ6XCIvbGl2ZXJvb20vZ2V0X3N0cmVhbV9leHRyYV9pbmZvXCIsdXBkYXRlX3N0cmVhbTpvfX19LDYwNDU6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlpFR09fV0VCUlRDX0FDVElPTj12b2lkIDAsZnVuY3Rpb24oZSl7ZS5TRVRfVklERU9fQ09ORklHPVwiemMuc3ZjXCIsZS5TRVRfQVVESU9fQ09ORklHPVwiemMuc2FjXCIsZS5SRVBMQUNFX1RSQUNLPVwiemMucnBcIixlLlNFVF9CRUFVVFlfRUZGRUNUPVwiemMuc2JlXCIsZS5FTkFCTEVfU1RSRUFNPVwiemMuZXNcIixlLkVOQUJMRV9NSUNfT05MWT1cInpjLmVtb1wiLGUuQUNUSVZBVEVfU0VJX0lOU0VSVD1cInpjLmFzaVwiLGUuTVVURV9QVUJMSVNIX1NUUkVBTV9WSURFTz1cInpjLm1wc3YuMFwiLGUuTVVURV9QVUJMSVNIX1NUUkVBTV9BVURJTz1cInpjLm1wc2EuMFwiLGUuTVVURV9NSUM9XCJ6Yy5tbVwiLGUuTVVURV9QTEFZX1NUUkVBTV9WSURFTz1cInpjLm1wc3YuMVwiLGUuTVVURV9QTEFZX1NUUkVBTV9BVURJTz1cInpjLm1wc2EuMVwiLGUuQUREX1RSQUNLPVwiemMuYXRcIixlLlJFTU9WRV9UUkFDSz1cInpjLnJ0XCIsZS5IQU5ETEVfVFJBQ0s9XCJ6Yy5odFwifSh0LlpFR09fV0VCUlRDX0FDVElPTnx8KHQuWkVHT19XRUJSVENfQUNUSU9OPXt9KSl9LDY0ODU6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxpPWFyZ3VtZW50cy5sZW5ndGg7cjxpO3IrKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbz10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sbil7ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxhKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LG49dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG8sbixzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBuPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYobltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxuO2Z1bmN0aW9uIGEobil7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihuKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxpJiYobz0yJm5bMF0/aS5yZXR1cm46blswXT9pLnRocm93fHwoKG89aS5yZXR1cm4pJiZvLmNhbGwoaSksMCk6aS5uZXh0KSYmIShvPW8uY2FsbChpLG5bMV0pKS5kb25lKXJldHVybiBvO3N3aXRjaChpPTAsbyYmKG49WzImblswXSxvLnZhbHVlXSksblswXSl7Y2FzZSAwOmNhc2UgMTpvPW47YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm5bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxpPW5bMV0sbj1bMF07Y29udGludWU7Y2FzZSA3Om49cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShvPXMudHJ5cywobz1vLmxlbmd0aD4wJiZvW28ubGVuZ3RoLTFdKXx8NiE9PW5bMF0mJjIhPT1uWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1uWzBdJiYoIW98fG5bMV0+b1swXSYmblsxXTxvWzNdKSl7cy5sYWJlbD1uWzFdO2JyZWFrfWlmKDY9PT1uWzBdJiZzLmxhYmVsPG9bMV0pe3MubGFiZWw9b1sxXSxvPW47YnJlYWt9aWYobyYmcy5sYWJlbDxvWzJdKXtzLmxhYmVsPW9bMl0scy5vcHMucHVzaChuKTticmVha31vWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bj10LmNhbGwoZSxzKX1jYXRjaChlKXtuPVs2LGVdLGk9MH1maW5hbGx5e3I9bz0wfWlmKDUmblswXSl0aHJvdyBuWzFdO3JldHVybnt2YWx1ZTpuWzBdP25bMV06dm9pZCAwLGRvbmU6ITB9fShbbixhXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5BZHZhbmNlZE1vZHVsZT12b2lkIDA7dmFyIHM9cig2MDQ1KSxhPXIoNjg4NyksYz1yKDM2NDkpLHU9cigzNjA4KSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLmxvZ2dlcj1lLHRoaXMuZGF0YVJlcG9ydD10LHRoaXMuc3RyZWFtQ2VudGVyPXIsdGhpcy5zdGF0ZUNlbnRlcj1pLHRoaXMuc2NyZWVuU2hvdFJlYWR5PSExfXJldHVybiBlLnByb3RvdHlwZS5zZXRWaWRlb0NvbmZpZz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX1ZJREVPX0NPTkZJRytcIiBjYWxsXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe3ZhciBuLGEsZD1jLlplZ29SVENMb2dFdmVudC5rWmVnb1NldFZpZGVvQ29uZmlnLmVycm9yLGw9ZC5rTG9jYWxTdHJlYW1FcnJvcixoPWQua1BhcmFtRXJyb3IscD1yLnN0YXRlQ2VudGVyLmdldFJlcG9ydFNlcSgpO2lmKHIuZGF0YVJlcG9ydC5uZXdSZXBvcnQocCxjLlplZ29SVENMb2dFdmVudC5rWmVnb1NldFZpZGVvQ29uZmlnLmV2ZW50KSwhKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSkpcmV0dXJuIHIubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLlNFVF9WSURFT19DT05GSUcrXCIgbG9jYWxTdHJlYW0gbm90IGZvdW5kXCIpLHIuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHAsbCksci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChwKSx2b2lkIG8oe2Vycm9yQ29kZTpoLmNvZGUsZXh0ZW5kZWREYXRhOmgubWVzc2FnZStcIiBsb2NhbFN0cmVhbSBubyBmb3VuZFwifSk7aWYoIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHwwPT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHIubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLlNFVF9WSURFT19DT05GSUcrXCIgY29uc3RyYWludHMgd3JvbmdcIiksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8ocCxoKSxyLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHApLHZvaWQgbyh7ZXJyb3JDb2RlOmguY29kZSxleHRlbmRlZERhdGE6aC5tZXNzYWdlK1wiIGNvbnN0cmFpbnRzIHdyb25nXCJ9KTtpZih0LndpZHRoJiZcIm51bWJlclwiPT10eXBlb2YgdC53aWR0aCYmIXIuc3RhdGVDZW50ZXIuY2hlY2tWYWxpZE51bWJlcih0LndpZHRoLDAsNzY4MCkpcmV0dXJuIHIubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLlNFVF9WSURFT19DT05GSUcrXCIgY29uc3RyYWludHMgd2lkdGggaW50ZWdlciBudW1iZXIsIHJhbmdlWzAsIDc2ODBdXCIpLHIuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHAse2Vycm9yOmguY29kZSxtZXNzYWdlOmgubWVzc2FnZStcIiBjb25zdHJhaW50cyB3aWR0aCBpbnRlZ2VyIG51bWJlciwgcmFuZ2VbMCwgNzY4MF1cIn0pLHIuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQocCksdm9pZCBvKHtlcnJvckNvZGU6aC5jb2RlLGV4dGVuZGVkRGF0YTpoLm1lc3NhZ2UrXCIgY29uc3RyYWludHMgd3JvbmdcIn0pO2lmKHQud2lkdGgmJlwib2JqZWN0XCI9PXR5cGVvZiB0LndpZHRoKXtpZighKGE9dS5DbGllbnRVdGlsLmNoZWNrQ29uc3RyYWludEV4dGVuZFdpdGhNZXNzYWdlKHQud2lkdGgsXCJ3aWR0aFwiLDAsNzY4MCkpLnJlc3VsdClyZXR1cm4gci5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX1ZJREVPX0NPTkZJRytcIiBjb25zdHJhaW50cyB3aWR0aDogXCIrYS5tZXNzYWdlKSxyLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhwLHtlcnJvcjpoLmNvZGUsbWVzc2FnZTpoLm1lc3NhZ2UrXCIgY29uc3RyYWludHMgd2lkdGg6IFwiK2EubWVzc2FnZX0pLHZvaWQgbyh7ZXJyb3JDb2RlOmguY29kZSxleHRlbmRlZERhdGE6aC5tZXNzYWdlK1wiIGNvbnN0cmFpbnRzIHdyb25nXCJ9KX1lbHNlIGlmKHQud2lkdGgmJlwibnVtYmVyXCIhPXR5cGVvZiB0LndpZHRoJiZcIm9iamVjdFwiIT10eXBlb2YgdC53aWR0aClyZXR1cm4gci5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX1ZJREVPX0NPTkZJRytcIiBjb25zdHJhaW50cyB3aWR0aCBtdXN0IGJlIGEgbnVtYmVyIG9yIGFuIG9iamVjdC4gXCIpLHIuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHAse2Vycm9yOmguY29kZSxtZXNzYWdlOmgubWVzc2FnZStcIiBjb25zdHJhaW50cyB3aWR0aCBtdXN0IGJlIGEgbnVtYmVyIG9yIGFuIG9iamVjdC5cIn0pLHZvaWQgbyh7ZXJyb3JDb2RlOmguY29kZSxleHRlbmRlZERhdGE6aC5tZXNzYWdlK1wiIGNvbnN0cmFpbnRzIHdyb25nXCJ9KTtpZih0LmhlaWdodCYmXCJudW1iZXJcIj09dHlwZW9mIHQuaGVpZ2h0JiYhci5zdGF0ZUNlbnRlci5jaGVja1ZhbGlkTnVtYmVyKHQuaGVpZ2h0LDAsNDMyMCkpcmV0dXJuIHIubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLlNFVF9WSURFT19DT05GSUcrXCIgY29uc3RyYWludHMgaGVpZ2h0IGludGVnZXIgbnVtYmVyLCByYW5nZVswLCA0MzIwXVwiKSxyLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhwLHtlcnJvcjpoLmNvZGUsbWVzc2FnZTpoLm1lc3NhZ2UrXCIgY29uc3RyYWludHMgaGVpZ2h0IGludGVnZXIgbnVtYmVyLCByYW5nZVswLCA0MzIwXVwifSksci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChwKSx2b2lkIG8oe2Vycm9yQ29kZTpoLmNvZGUsZXh0ZW5kZWREYXRhOmgubWVzc2FnZStcIiBjb25zdHJhaW50cyB3cm9uZ1wifSk7aWYodC5oZWlnaHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0LmhlaWdodCl7aWYoIShhPXUuQ2xpZW50VXRpbC5jaGVja0NvbnN0cmFpbnRFeHRlbmRXaXRoTWVzc2FnZSh0LmhlaWdodCxcImhlaWdodFwiLDAsNDMyMCkpLnJlc3VsdClyZXR1cm4gci5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX1ZJREVPX0NPTkZJRytcIiBjb25zdHJhaW50cyBoZWlnaHQ6IFwiK2EubWVzc2FnZSksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8ocCx7ZXJyb3I6aC5jb2RlLG1lc3NhZ2U6aC5tZXNzYWdlK1wiIGNvbnN0cmFpbnRzIGhlaWdodDogXCIrYS5tZXNzYWdlfSksdm9pZCBvKHtlcnJvckNvZGU6aC5jb2RlLGV4dGVuZGVkRGF0YTpoLm1lc3NhZ2UrXCIgY29uc3RyYWludHMgd3JvbmdcIn0pfWVsc2UgaWYodC5oZWlnaHQmJlwibnVtYmVyXCIhPXR5cGVvZiB0LmhlaWdodCYmXCJvYmplY3RcIiE9dHlwZW9mIHQuaGVpZ2h0KXJldHVybiByLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5TRVRfVklERU9fQ09ORklHK1wiIGNvbnN0cmFpbnRzIGhlaWdodCBtdXN0IGJlIGEgbnVtYmVyIG9yIGFuIG9iamVjdC4gXCIpLHIuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHAse2Vycm9yOmguY29kZSxtZXNzYWdlOmgubWVzc2FnZStcIiBjb25zdHJhaW50cyBoZWlnaHQgbXVzdCBiZSBhIG51bWJlciBvciBhbiBvYmplY3QuXCJ9KSx2b2lkIG8oe2Vycm9yQ29kZTpoLmNvZGUsZXh0ZW5kZWREYXRhOmgubWVzc2FnZStcIiBjb25zdHJhaW50cyB3cm9uZ1wifSk7aWYodC5tYXhCaXRyYXRlJiZcIm51bWJlclwiIT10eXBlb2YgdC5tYXhCaXRyYXRlKXJldHVybiByLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5TRVRfVklERU9fQ09ORklHKyhuPVwiIGNvbnN0cmFpbnRzIG1heEJpdHJhdGUgaXMgbm90IGEgbnVtYmVyXCIpKSxyLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhwLHtlcnJvcjpoLmNvZGUsbWVzc2FnZTpoLm1lc3NhZ2Urbn0pLHIuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQocCksdm9pZCBvKHtlcnJvckNvZGU6aC5jb2RlLGV4dGVuZGVkRGF0YTpoLm1lc3NhZ2Urbn0pO2lmKHZvaWQgMCE9PXQuZnJhbWVSYXRlJiZcIm51bWJlclwiIT10eXBlb2YgdC5mcmFtZVJhdGUmJlwib2JqZWN0XCIhPXR5cGVvZiB0LmZyYW1lUmF0ZSlyZXR1cm4gci5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX1ZJREVPX0NPTkZJRysobj1cIiBjb25zdHJhaW50cyBmcmFtZVJhdGUgaXMgbm90IGEgbnVtYmVyIG9yIGFuIG9iamVjdFwiKSksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8ocCx7ZXJyb3I6aC5jb2RlLG1lc3NhZ2U6aC5tZXNzYWdlK259KSxyLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHApLHZvaWQgbyh7ZXJyb3JDb2RlOmguY29kZSxleHRlbmRlZERhdGE6aC5tZXNzYWdlK259KTtpZihcIm51bWJlclwiPT10eXBlb2YgdC5mcmFtZVJhdGUmJiEodC5mcmFtZVJhdGU+MCYmdC5mcmFtZVJhdGUlMT09MCkpcmV0dXJuIHIubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLlNFVF9WSURFT19DT05GSUcrXCIgY29uc3RyYWludHMgZnJhbWVSYXRlIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlciBudW1iZXJcIiksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8ocCx7ZXJyb3I6aC5jb2RlLG1lc3NhZ2U6aC5tZXNzYWdlK1wiIGNvbnN0cmFpbnRzIGZyYW1lUmF0ZSBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIgbnVtYmVyXCJ9KSxyLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHApLHZvaWQgbyh7ZXJyb3JDb2RlOmguY29kZSxleHRlbmRlZERhdGE6aC5tZXNzYWdlK1wiIGNvbnN0cmFpbnRzIHdyb25nXCJ9KTtpZih0LmZyYW1lUmF0ZSYmXCJvYmplY3RcIj09dHlwZW9mIHQuZnJhbWVSYXRlJiYhKGE9dS5DbGllbnRVdGlsLmNoZWNrQ29uc3RyYWludEV4dGVuZFdpdGhNZXNzYWdlKHQuZnJhbWVSYXRlLFwiZnJhbWVSYXRlXCIpKS5yZXN1bHQpcmV0dXJuIHIubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLlNFVF9WSURFT19DT05GSUcrXCIgY29uc3RyYWludHMgZnJhbWVSYXRlOiBcIithLm1lc3NhZ2UpLHIuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHAse2Vycm9yOmguY29kZSxtZXNzYWdlOmgubWVzc2FnZStcIiBjb25zdHJhaW50cyBmcmFtZVJhdGU6IFwiK2EubWVzc2FnZX0pLHZvaWQgbyh7ZXJyb3JDb2RlOmguY29kZSxleHRlbmRlZERhdGE6aC5tZXNzYWdlK1wiIGNvbnN0cmFpbnRzIHdyb25nXCJ9KTtyLnNldFB1Ymxpc2hTdHJlYW1Db25zdHJhaW50cyhlLHQsKGZ1bmN0aW9uKGUpe3IuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQocCksaShlKX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0QXVkaW9Db25maWc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiB0aGlzLmxvZ2dlci5pbmZvKHMuWkVHT19XRUJSVENfQUNUSU9OLlNFVF9BVURJT19DT05GSUcrXCIgY2FsbFwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSl7dmFyIG89ci5zdGF0ZUNlbnRlci5nZXRSZXBvcnRTZXEoKTtpZihyLmRhdGFSZXBvcnQubmV3UmVwb3J0KG8sYy5aZWdvUlRDTG9nRXZlbnQua1plZ29TZXRBdWRpb0NvbmZpZy5ldmVudCksIShlIGluc3RhbmNlb2YgTWVkaWFTdHJlYW0pKXJldHVybiByLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5TRVRfQVVESU9fQ09ORklHK1wiIGxvY2FsU3RyZWFtIG5vdCBmb3VuZFwiKSxyLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhvLGMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvU2V0QXVkaW9Db25maWcuZXJyb3Iua1BhcmFtRXJyb3IpLHIuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyksdm9pZCBpKHtlcnJvckNvZGU6Yy5aZWdvUlRDTG9nRXZlbnQua1plZ29TZXRBdWRpb0NvbmZpZy5lcnJvci5rUGFyYW1FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpjLlplZ29SVENMb2dFdmVudC5rWmVnb1NldEF1ZGlvQ29uZmlnLmVycm9yLmtQYXJhbUVycm9yLm1lc3NhZ2UrXCIgbG9jYWxTdHJlYW0gbm8gZm91bmRcIn0pO2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdHx8MD09T2JqZWN0LmtleXModCkubGVuZ3RofHx2b2lkIDAhPT10LkFFQyYmXCJib29sZWFuXCIhPXR5cGVvZiB0LkFFQ3x8dm9pZCAwIT09dC5BR0MmJlwiYm9vbGVhblwiIT10eXBlb2YgdC5BR0N8fHZvaWQgMCE9PXQuQU5TJiZcImJvb2xlYW5cIiE9dHlwZW9mIHQuQU5TKXJldHVybiByLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5TRVRfQVVESU9fQ09ORklHK1wiIGNvbnN0cmFpbnRzIHdyb25nXCIpLHIuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKG8sYy5aZWdvUlRDTG9nRXZlbnQua1plZ29TZXRBdWRpb0NvbmZpZy5lcnJvci5rUGFyYW1FcnJvciksci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChvKSx2b2lkIGkoe2Vycm9yQ29kZTpjLlplZ29SVENMb2dFdmVudC5rWmVnb1NldEF1ZGlvQ29uZmlnLmVycm9yLmtQYXJhbUVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOmMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvU2V0QXVkaW9Db25maWcuZXJyb3Iua1BhcmFtRXJyb3IubWVzc2FnZStcIiBjb25zdHJhaW50cyB3cm9uZ1wifSk7ci5zZXRQdWJsaXNoU3RyZWFtQ29uc3RyYWludHMoZSx0LChmdW5jdGlvbihlKXtyLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8pLGkoZSl9KSl9KSl9LGUucHJvdG90eXBlLmVuYWJsZVN0cmVhbT1mdW5jdGlvbihlLHQpe2lmKHRoaXMubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uRU5BQkxFX1NUUkVBTStcIiBjYWxsXCIpLFwiYm9vbGVhblwiIT10eXBlb2YgdC52aWRlbyYmXCJib29sZWFuXCIhPXR5cGVvZiB0LmF1ZGlvKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5FTkFCTEVfU1RSRUFNK1wiIG9wdGlvbiBlcnJvclwiKSwhMTt2YXIgcj0hMCxpPSEwO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdC52aWRlbyYmKHI9dGhpcy5lbmFibGVDYW1lcmEoZSx0LnZpZGVvLHQucmV0YWluKSksXCJib29sZWFuXCI9PXR5cGVvZiB0LmF1ZGlvJiYoaT10aGlzLmVuYWJsZU1pY3JvcGhvbmUoZSx0LmF1ZGlvKSksciYmaX0sZS5wcm90b3R5cGUuZW5hYmxlTWljcm9waG9uZU9ubHk9ZnVuY3Rpb24oZSl7aWYodGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5FTkFCTEVfTUlDX09OTFkrXCIgY2FsbFwiKSxcImJvb2xlYW5cIiE9dHlwZW9mIGUpcmV0dXJuITE7Zm9yKHZhciB0PTA7dDx0aGlzLnN0cmVhbUNlbnRlci5wcmV2aWV3U3RyZWFtTGlzdC5sZW5ndGg7dCsrKXtpZighdGhpcy5zdHJlYW1DZW50ZXIucHJldmlld1N0cmVhbUxpc3RbdF0uZW5hYmxlTWljcm9waG9uZU9ubHkoZSx0aGlzLnN0cmVhbUNlbnRlcikpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwienNjLmVtby4wIHByZXZpZXdlciBcIi5jb25jYXQodCxcIiBjaGFuZ2UgbWljIG11dGUgc3RhdGUgZmFpbGVkXCIpKSwhMTswfXJldHVybiB0aGlzLnN0cmVhbUNlbnRlci5pc01pY0VuYWJsZWQ9ZSwhMH0sZS5wcm90b3R5cGUucmVwbGFjZVRyYWNrPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksbyxhO3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVybiBpPXRoaXMuc3RhdGVDZW50ZXIuZ2V0UmVwb3J0U2VxKCksdGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChpLGMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvUmVwbGFjZVRyYWNrLmV2ZW50KSxvPWMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvUmVwbGFjZVRyYWNrLmVycm9yLmtQYXJhbUVycm9yLGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbT90JiZ0IGluc3RhbmNlb2YgTWVkaWFTdHJlYW1UcmFjaz8oYT10aGlzLl9yZXBsYWNlVHJhY2soZSx0LHIpLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoaSksWzIsYV0pOih0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5SRVBMQUNFX1RSQUNLK1wiIG1lZGlhc3RyZWFtIHRyYWNrIG5vIGZvdW5kXCIpLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoaSx2b2lkIDAsbyksWzIse2Vycm9yQ29kZTpvLmNvZGUsZXh0ZW5kZWREYXRhOm8ubWVzc2FnZStcIiBtZWRpYXN0cmVhbSB0cmFjayBubyBmb3VuZFwifV0pOih0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5SRVBMQUNFX1RSQUNLK1wiIGxvY2FsU3RyZWFtIG5vdCBmb3VuZFwiKSx0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KGksdm9pZCAwLG8pLFsyLHtlcnJvckNvZGU6by5jb2RlLGV4dGVuZGVkRGF0YTpvLm1lc3NhZ2UrXCIgbG9jYWxTdHJlYW0gbm8gZm91bmRcIn1dKX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0UHVibGlzaFN0cmVhbUNvbnN0cmFpbnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3RoaXMubG9nZ2VyLmluZm8oXCJ6c2Muc3BzYy4wIGNvbnN0cmFpbnRzXCIsSlNPTi5zdHJpbmdpZnkodCkpO3ZhciBzPXRoaXMuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyhlKTtpZighcylyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2Muc3BzYy4wIHByZXZpZXcgbm8gZm91bmRcIiksdm9pZChyJiZyKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlBVQkxJU0hfTk9fUFJFVklFVy5jb2RlLGV4dGVuZGVkRGF0YTphLmVycm9yQ29kZUxpc3QuUFVCTElTSF9OT19QUkVWSUVXLm1lc3NhZ2V9KSk7dmFyIGM9cy52aWRlb1RyYWNrLHU9cy5hdWRpb1RyYWNrLGQ9ITEsbD0hMTtjJiYodC53aWR0aHx8dC5oZWlnaHR8fHQuZnJhbWVSYXRlfHx0LnZpZGVvUXVhbGl0eSkmJih0LnZpZGVvUXVhbGl0eXx8KHMubWVkaWFTdHJlYW1Db25maWcudmlkZW9RdWFsaXR5PTQpLGQ9ITApLHZvaWQgMD09PXQuQU5TJiZ2b2lkIDA9PT10LkFHQyYmdm9pZCAwPT09dC5BRUN8fChsPSEwKSxkJiYhYz8odGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2Muc3BzYy4wIHZpZGVvIHRyYWNrIG5vdCBmb3VuZFwiKSxyJiZyKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlRSQUNLX05PVF9GT1VORC5jb2RlLGV4dGVuZGVkRGF0YTphLmVycm9yQ29kZUxpc3QuVFJBQ0tfTk9UX0ZPVU5ELm1lc3NhZ2V9KSk6dC52aWRlbz0hMCxsJiYhdT8odGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2Muc3BzYy4wIGF1ZGlvIHRyYWNrIG5vdCBmb3VuZFwiKSxyJiZyKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlRSQUNLX05PVF9GT1VORC5jb2RlLGV4dGVuZGVkRGF0YTphLmVycm9yQ29kZUxpc3QuVFJBQ0tfTk9UX0ZPVU5ELm1lc3NhZ2V9KSk6dC5hdWRpbz0hMDt2YXIgaCxwPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocy5tZWRpYVN0cmVhbUNvbmZpZykpLGc9T2JqZWN0LmFzc2lnbihzLm1lZGlhU3RyZWFtQ29uZmlnLHQpO1wic2NyZWVuXCI9PXMucHJldmlld1R5cGU/KGg9dGhpcy5zdHJlYW1DZW50ZXIuZ2V0U2NyZWVuQ29uc3RyYWlucyhnKSkuYml0UmF0ZSE9PXAuYml0UmF0ZSYmKHQubWF4Qml0cmF0ZT1oLmJpdFJhdGUpOmg9cy5nZXRNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKGcsITApLHRoaXMubG9nZ2VyLmluZm8oXCJ6c2Muc3BzYy4wIGFwcGx5Q29uc3RyYWludHMgXCIsSlNPTi5zdHJpbmdpZnkoaCkpO3ZhciBmPVtdO2QmJmMmJmYucHVzaChjLmFwcGx5Q29uc3RyYWludHMoaC52aWRlbykpO3ZhciBtPSEwO2wmJihtPShudWxsPT11P3ZvaWQgMDp1LmVuYWJsZWQpfHwhMSxudWxsPT11fHx1LnN0b3AoKSxmLnB1c2gobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe3ZpZGVvOiExLGF1ZGlvOmguYXVkaW99KSkpO3ZhciBfPXRoaXMuc3RyZWFtQ2VudGVyLmdldFB1Ymxpc2hMaXN0KGUpO18uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHIsbz1udWxsPT1lP3ZvaWQgMDplLnB1Ymxpc2hlcixuPShudWxsPT09KHI9bnVsbD09bz92b2lkIDA6by5wZWVyQ29ubmVjdGlvbil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0U2VuZGVycygpKXx8W107aWYobi5sZW5ndGg+MCYmdC5tYXhCaXRyYXRlKXt2YXIgYT1uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2smJlwidmlkZW9cIj09PWUudHJhY2sua2luZH0pKTthfHxpLmxvZ2dlci5lcnJvcihcInpzYy5zcHNjLjAgdmlkZW8gc2VuZGVyIG5vIGZvdW5kXCIpO3ZhciBjPWEubGVuZ3RoPjE/YVsxXTphWzBdP2FbMF06bnVsbDtpZihjKXt2YXIgdT1jLmdldFBhcmFtZXRlcnMoKTt1LmVuY29kaW5nc3x8KHUuZW5jb2RpbmdzPVt7fV0pLHUuZW5jb2RpbmdzWzBdLm1heEJpdHJhdGU9MWUzKnQubWF4Qml0cmF0ZSxmLnB1c2goYy5zZXRQYXJhbWV0ZXJzKHUpKX1lbHNlIGkubG9nZ2VyLmVycm9yKFwienNjLnNwc2MuMCB2aWRlbyBzZW5kZXIgbm8gZm91bmRcIil9ZWxzZSB0Lm1heEJpdHJhdGUmJihzLnZpZGVvSW5mby5iaXRSYXRlPXQubWF4Qml0cmF0ZSl9KSksZi5sZW5ndGg+MD9Qcm9taXNlLmFsbChmKS50aGVuKChmdW5jdGlvbihlKXt2YXIgbyxuLGE9ZVsxXTtpZihsKXt2YXIgYz0obj1kP2VbMV06ZVswXSkuZ2V0VmlkZW9UcmFja3MoKVswXTtudWxsPT1jfHxjLnN0b3AoKTt2YXIgdT1uLmdldEF1ZGlvVHJhY2tzKClbMF07dS5lbmFibGVkPW0sYT1KU09OLnN0cmluZ2lmeSh1LmdldFNldHRpbmdzKCkpLHMucmVwbGFjZVByZXZpZXdUcmFjayh1KSxzLmdhaW5Ob2RlfHxzLm9uQXVkaW9UcmFja0NoYW5nZSh1KX1pZih0Lm1heEJpdHJhdGUmJihzLnZpZGVvSW5mby5iaXRSYXRlPXQubWF4Qml0cmF0ZSxfLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPW51bGw9PWU/dm9pZCAwOmUucHVibGlzaGVyO3ImJihyLnZpZGVvSW5mby5iaXRSYXRlPXQubWF4Qml0cmF0ZSl9KSkpLG51bGw9PT0obz1udWxsPT1oP3ZvaWQgMDpoLnZpZGVvKXx8dm9pZCAwPT09bz92b2lkIDA6by5mcmFtZVJhdGUpe3ZhciBwPWgudmlkZW8uZnJhbWVSYXRlO3MudmlkZW9JbmZvLmZyYW1lUmF0ZT1wLF8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbD09ZT92b2lkIDA6ZS5wdWJsaXNoZXI7dCYmKHQudmlkZW9JbmZvLmZyYW1lUmF0ZT1wKX0pKX1pLmxvZ2dlci5pbmZvKFwienNjLnNwc2MuMCBzZXQgY29uc3RyYWludHMgc3VjY2Vzc1wiLGEpLHImJnIoe2Vycm9yQ29kZTowLGV4dGVuZGVkRGF0YTpcIlwifSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiBvKGksdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxvLGMsdSxkPXRoaXM7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2Muc3BzYy4wIGZhaWwgcmVhc29uIFwiLHQubmFtZSx0LnRvU3RyaW5nKCkpLGw/KGk9cy5nZXRNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKHApLHRoaXMubG9nZ2VyLmluZm8oXCJ6c2Muc3BzYy4wIG9sZE1lZGlhU3RyZWFtQ29uc3RyYWludHMgXCIsSlNPTi5zdHJpbmdpZnkoaSkpLFs0LG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzohMSxhdWRpbzppLmF1ZGlvfSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2QubG9nZ2VyLmVycm9yKFwienNjLnNwc2MuMC4xIHNldGJhY2t1cCBmYWlsIFwiK2UubmFtZSl9KSldKTpbMywyXTtjYXNlIDE6KG89bi5zZW50KCkpJiYobnVsbD09KGM9ZS5nZXRWaWRlb1RyYWNrcygpWzBdKXx8Yy5zdG9wKCksdT1vLmdldEF1ZGlvVHJhY2tzKClbMF0scy5yZXBsYWNlUHJldmlld1RyYWNrKHUpLHMuZ2Fpbk5vZGV8fHMub25BdWRpb1RyYWNrQ2hhbmdlKHUpKSx0aGlzLmxvZ2dlci5pbmZvKFwienNjLnNwc2MuMC4xIHNldGJhY2t1cCBzdWMgXCIpLG4ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHImJnIoe2Vycm9yQ29kZTphLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX0NPTlNUUkFJTlRTX0VSUk9SLmNvZGUsZXh0ZW5kZWREYXRhOlwiXCIuY29uY2F0KHQubmFtZSxcIiBcIikuY29uY2F0KHQuY29uc3RyYWludD9cImNvbnN0cmFpbnQ6XCIrdC5jb25zdHJhaW50OlwiXCIpfSksWzJdfX0pKX0pKX0pKToodGhpcy5sb2dnZXIud2FybihcInpzYy5zcHNjLjAgY29uc3RhaW50cyBpcyBubyBjaGFuZ2VzXCIpLHImJnIoe2Vycm9yQ29kZTphLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX0NPTlNUUkFJTlRTX0VSUk9SLmNvZGUsZXh0ZW5kZWREYXRhOlwiY29uc3RyYWludHMgaXMgbm8gY2hhbmdlc1wifSkpfSxlLnByb3RvdHlwZS51c2VWaWRlb0RldmljZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy51dmQuMCBjYWxsXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihpKXt2YXIgbz1yLnN0YXRlQ2VudGVyLmdldFJlcG9ydFNlcSgpO2lmKHIuZGF0YVJlcG9ydC5uZXdSZXBvcnQobyxjLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tVc2VWaWRlb0RldmljZS5ldmVudCksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyx7ZGV2aWNlOmMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1VzZVZpZGVvRGV2aWNlLmRldmljZSh0KX0pLCEoZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtKSlyZXR1cm4gci5sb2dnZXIuZXJyb3IoXCJ6Yy51dmQuMCBsb2NhbFN0cmVhbSBub3QgZm91bmRcIiksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyxjLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tVc2VWaWRlb0RldmljZS5lcnJvci5rTG9jYWxTdHJlYW1FcnJvciksci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChvKSx2b2lkIGkoe2Vycm9yQ29kZTpjLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tVc2VWaWRlb0RldmljZS5lcnJvci5rUGFyYW1FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpjLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tVc2VWaWRlb0RldmljZS5lcnJvci5rUGFyYW1FcnJvci5tZXNzYWdlfSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIHIubG9nZ2VyLmVycm9yKFwiemMudXZkLjAgZGV2aWNlSUQgbXVzdCBiZSBzdHJpbmdcIiksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyx7ZXJyb3I6Yy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVXNlVmlkZW9EZXZpY2UuZXJyb3Iua1BhcmFtRXJyb3IuY29kZSxtZXNzYWdlOmMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1VzZVZpZGVvRGV2aWNlLmVycm9yLmtQYXJhbUVycm9yLm1lc3NhZ2UrXCIgZGV2aWNlSUQgbXVzdCBiZSBzdHJpbmdcIn0pLHIuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyksdm9pZCBpKHtlcnJvckNvZGU6Yy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVXNlVmlkZW9EZXZpY2UuZXJyb3Iua1BhcmFtRXJyb3IuY29kZSxleHRlbmRlZERhdGE6Yy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVXNlVmlkZW9EZXZpY2UuZXJyb3Iua1BhcmFtRXJyb3IubWVzc2FnZX0pO3ZhciBuPWZ1bmN0aW9uKHQpe3IuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyksci5zdHJlYW1DZW50ZXIuZ2V0UHVibGlzaExpc3QoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQscjtlLmNhbWVyYUxhYmVsPShudWxsPT09KHI9bnVsbD09PSh0PWUucHVibGlzaGVyLnByZXZpZXdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQudmlkZW9UcmFjayl8fHZvaWQgMD09PXI/dm9pZCAwOnIubGFiZWwpfHxlLmNhbWVyYUxhYmVsfSkpLGkodCl9O3Iuc3RhdGVDZW50ZXIuZ2V0RGV2aWNlcygoZnVuY3Rpb24obyl7aWYoIW8uY2FtZXJhcy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXZpY2VJRD09dH0pKSlyZXR1cm4gci5sb2dnZXIuZXJyb3IoXCJ6Yy51dmQuMCBkZXZpY2UgaXMgbm90IGZvdW5kXCIpLHZvaWQgaSh7ZXJyb3JDb2RlOmMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1VzZVZpZGVvRGV2aWNlLmVycm9yLmtEZXZpY2VzTm9Gb3VuZEVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOmMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1VzZVZpZGVvRGV2aWNlLmVycm9yLmtEZXZpY2VzTm9Gb3VuZEVycm9yLm1lc3NhZ2V9KTtyLnN3aXRjaERldmljZShcInZpZGVvXCIsZSx0LG4pfSksKGZ1bmN0aW9uKGkpe3IubG9nZ2VyLndhcm4oXCJ6Yy51dmQuMCBnZXREZXZpY2VzIGVycjpcIixpKSxyLnN3aXRjaERldmljZShcInZpZGVvXCIsZSx0LG4pfSkpfSkpfSxlLnByb3RvdHlwZS51c2VBdWRpb0RldmljZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy51YWQuMSBjYWxsXCIpLG5ldyBQcm9taXNlKChmdW5jdGlvbihpKXt2YXIgbz1yLnN0YXRlQ2VudGVyLmdldFJlcG9ydFNlcSgpO3IuZGF0YVJlcG9ydC5uZXdSZXBvcnQobyxjLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tVc2VBdWRpb0RldmljZS5ldmVudCksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyx7ZGV2aWNlOmMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1VzZUF1ZGlvRGV2aWNlLmRldmljZSh0KX0pO3ZhciBuPWZ1bmN0aW9uKGUsdCl7ci5sb2dnZXIuZXJyb3IoXCJ6Yy51YWQuMSBcIit0KTt2YXIgbj1lO24ubWVzc2FnZT1uLm1lc3NhZ2UrKHQ/XCIgXCIrdDpcIlwiKSxyLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhvLG4pLHIuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyksaSh7ZXJyb3JDb2RlOm4uY29kZSxleHRlbmRlZERhdGE6bi5tZXNzYWdlfSl9LHM9ZnVuY3Rpb24odCl7ci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChvKSxyLnN0cmVhbUNlbnRlci5nZXRQdWJsaXNoTGlzdChlKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcjt0Lm1pY3JvTGFiZWw9KG51bGw9PT0ocj1lLmdldEF1ZGlvVHJhY2tzKClbMF0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmxhYmVsKXx8dC5taWNyb0xhYmVsfSkpLGkodCl9O2UgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbT9cInN0cmluZ1wiPT10eXBlb2YgdD9yLnN0YXRlQ2VudGVyLmdldERldmljZXMoKGZ1bmN0aW9uKG8pe2lmKCFvLm1pY3JvcGhvbmVzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRldmljZUlEPT10fSkpKXJldHVybiByLmxvZ2dlci5lcnJvcihcInpjLnVhZC4xIGRldmljZSBpcyBub3QgZm91bmRcIiksdm9pZCBpKHtlcnJvckNvZGU6Yy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVXNlQXVkaW9EZXZpY2UuZXJyb3Iua0RldmljZXNOb0ZvdW5kRXJyb3IuY29kZSxleHRlbmRlZERhdGE6Yy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVXNlQXVkaW9EZXZpY2UuZXJyb3Iua0RldmljZXNOb0ZvdW5kRXJyb3IubWVzc2FnZX0pO3Iuc3dpdGNoRGV2aWNlKFwiYXVkaW9cIixlLHQscyl9KSwoZnVuY3Rpb24oaSl7ci5sb2dnZXIud2FybihcInpjLnVhZC4xIGdldERldmljZXMgZXJyOlwiLGkpLHIuc3dpdGNoRGV2aWNlKFwiYXVkaW9cIixlLHQscyl9KSk6bihjLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tVc2VBdWRpb0RldmljZS5lcnJvci5rUGFyYW1FcnJvcixcImRldmljZUlEIG11c3QgYmUgc3RyaW5nXCIpOm4oYy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVXNlQXVkaW9EZXZpY2UuZXJyb3Iua0xvY2FsU3RyZWFtRXJyb3IsXCJsb2NhbFN0cmVhbSBub3QgZm91bmRcIil9KSl9LGUucHJvdG90eXBlLmVuYWJsZUR1YWxTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhcInpzYy5lZHMgY2FsbFwiKTt2YXIgdD10aGlzLnN0cmVhbUNlbnRlci5jaGVja1ByZXZpZXcoZSk7dCYmIXQubG93U3RyZWFtP25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiZmlyZWZveFwiKT4tMSYmXCJjdXN0b21cIj09dC5wcmV2aWV3VHlwZT90aGlzLmxvZ2dlci5lcnJvcihcInpzYy5lZHMgY2FuIG5vdCBzdXBwb3J0IGZpcmVmb3hcIik6dGhpcy5zdHJlYW1DZW50ZXIuY2hlY2tQdWJsaXNoKGUpP3RoaXMubG9nZ2VyLmVycm9yKFwienNjLmVkcyBpcyBwdWJsaXNoaW5nXCIpOih0LmVuYWJsZUR1YWxTdHJlYW09ITAsdC5jcmVhdGVMb3dTdHJlYW0oKSk6dGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2MuZWRzIHByZXZpZXcgbm8gZm91bmRcIil9LGUucHJvdG90eXBlLnNldExvd1N0cmVhbVBhcmFtZXRlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyhlKTtpZihyKXt2YXIgaT1yLnZpZGVvSW5mbzt0LndpZHRoJiZpLndpZHRoJiZ0LndpZHRoPmkud2lkdGg/dGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2Muc2xzcC4wIGxvdyBzdHJlYW0gd2lkdGggY2FuIG5vdCBsYXJnZXIgdGhhbiBoaWdoIHN0cmVhbVwiKTp0LmhlaWdodCYmaS5oZWlnaHQmJnQuaGVpZ2h0PmkuaGVpZ2h0P3RoaXMubG9nZ2VyLmVycm9yKFwienNjLnNsc3AuMCBsb3cgc3RyZWFtIGhlaWdodCBjYW4gbm90IGxhcmdlciB0aGFuIGhpZ2ggc3RyZWFtXCIpOnQuZnJhbWVSYXRlJiZpLmZyYW1lUmF0ZSYmdC5mcmFtZVJhdGU+aS5mcmFtZVJhdGV8fHQuaGVpZ2h0JiZpLmJpdFJhdGUmJnQuYml0UmF0ZT5pLmJpdFJhdGV8fChyLmxvd1N0cmVhbUNvbmZpZz1PYmplY3QuYXNzaWduKHIubG93U3RyZWFtQ29uZmlnLHQpKX1lbHNlIHRoaXMubG9nZ2VyLmVycm9yKFwienNjLnNsc3AuMCBwcmV2aWV3IG5vIGZvdW5kXCIpfSxlLnByb3RvdHlwZS5oYW5kbGVUcmFjaz1mdW5jdGlvbihlLHQscixpLGMpe3ZhciB1O3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZCxsLGgscCxnLGYsbSxfLHYsRSxTLFQ9dGhpcztyZXR1cm4gbih0aGlzLChmdW5jdGlvbihDKXtzd2l0Y2goQy5sYWJlbCl7Y2FzZSAwOnJldHVybiB0IGluc3RhbmNlb2YgTWVkaWFTdHJlYW0/ciBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2smJlwiYXVkaW9cIiE9ci5raW5kPyhkPXRoaXMuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyh0KSk/XCJ2aWRlb1wiPT09ci5raW5kJiYobnVsbD09PSh1PWQudmlkZW9FZmZlY3QpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LmVuYWJsZWQpPyh0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5IQU5ETEVfVFJBQ0srXCIgbmVlZCB0byBkaXNhYmxlIHZpZGVvIGJlYXV0eSBlZmZlY3QgZmlyc3RcIiksYyYmYyh7ZXJyb3JDb2RlOmEuZXJyb3JDb2RlTGlzdC5WSURFT19FRkZFQ1RfSVNfUlVOTklORy5jb2RlLGV4dGVuZGVkRGF0YTpcIm5lZWQgdG8gZGlzYWJsZSB2aWRlbyBiZWF1dHkgZWZmZWN0IGJlZm9yZSBhZGQgb3IgcmVtb3ZlIHRyYWNrXCJ9KSxbMl0pOlwiQUREXCI9PWUmJih0LmdldFRyYWNrcygpLmxlbmd0aD49Mnx8dC5nZXRUcmFja3MoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5raW5kPT1yLmtpbmR9KSkpPyh0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5IQU5ETEVfVFJBQ0srXCIgb25seSBzdHJlYW0gd2hpY2ggaGF2ZSBvbmUgdHJhY2sgYW5kIGtpbmQgbm8gZXhpc3QgY2FuIGFkZCB0cmFja1wiKSxjJiZjKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlRSQUNLX0NBTl9OT1RfQURELmNvZGUsZXh0ZW5kZWREYXRhOmEuZXJyb3JDb2RlTGlzdC5UUkFDS19DQU5fTk9UX0FERC5tZXNzYWdlfSksWzJdKTpcIlJFTU9WRVwiIT1lfHwxIT10LmdldFRyYWNrcygpLmxlbmd0aCYmdC5nZXRUcmFja3MoKS5pbmNsdWRlcyhyKT8hKGw9dGhpcy5zdHJlYW1DZW50ZXIuY2hlY2tQdWJsaXNoKHQpKXx8NT09PWwucHVibGlzaGVyLnN0YXRlTmVnbyYmMSE9bC5wdWJsaXNoZXIuaXNVcGRhdGVTRFA/KGg9ZC5ydGNWaWV3ZXIsbD8ocD1sLnB1Ymxpc2hlcixnPWQsKGY9bC5wdWJsaXNoZXIucGVlckNvbm5lY3Rpb24pPyhwLmlzVXBkYXRlU0RQPSEwLFwiQUREXCIhPWU/WzMsMV06KGYuYWRkVHJhY2socix0KSxbMyw0XSkpOlsyXSk6WzMsNl0pOih0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5IQU5ETEVfVFJBQ0srXCIgcHVibGlzaCBzdGF0ZSB3cm9uZ1wiKSxjJiZjKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9TVEFURV9XUk9ORy5jb2RlLGV4dGVuZGVkRGF0YTphLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1NUQVRFX1dST05HLm1lc3NhZ2V9KSxbMl0pOih0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5IQU5ETEVfVFJBQ0srXCIgbm90IHN1cHBvcnRlZFwiKSxjKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LkhBTkRMRV9UUkFDS19OT1RfU1VQUE9SVEVELmNvZGUsZXh0ZW5kZWREYXRhOmEuZXJyb3JDb2RlTGlzdC5IQU5ETEVfVFJBQ0tfTk9UX1NVUFBPUlRFRC5tZXNzYWdlfSksWzJdKToodGhpcy5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uSEFORExFX1RSQUNLK1wiIHN0cmVhbSBubyBmb3VuZFwiKSxjJiZjKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlBVQkxJU0hfTk9fUFJFVklFVy5jb2RlLGV4dGVuZGVkRGF0YTphLmVycm9yQ29kZUxpc3QuUFVCTElTSF9OT19QUkVWSUVXLm1lc3NhZ2V9KSxbMl0pOih0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5IQU5ETEVfVFJBQ0srXCIgb25seSBjYW4gaGFuZGxlIHZpZGVvIHRyYWNrXCIpLGMoe2Vycm9yQ29kZTphLmVycm9yQ29kZUxpc3QuSU5QVVRfUEFSQU0uY29kZSxleHRlbmRlZERhdGE6YS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNLm1lc3NhZ2V9KSxbMl0pOih0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5IQU5ETEVfVFJBQ0srXCIgc3RyZWFtIHdyb25nXCIpLGMoe2Vycm9yQ29kZTphLmVycm9yQ29kZUxpc3QuSU5QVVRfUEFSQU0uY29kZSxleHRlbmRlZERhdGE6YS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNLm1lc3NhZ2V9KSxbMl0pO2Nhc2UgMTpyZXR1cm4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uJiZ3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFRyYW5zY2VpdmVycyYmd2luZG93LlJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZS5zdG9wP1s0LGYuZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrJiZlLnRyYWNrPT1yfSkpXToodGhpcy5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uSEFORExFX1RSQUNLK1wiIG5vdCBzdXBwb3J0ZWQgZ2V0VHJhbnNjZWl2ZXJzXCIpLGMoe2Vycm9yQ29kZTphLmVycm9yQ29kZUxpc3QuSEFORExFX1RSQUNLX05PVF9TVVBQT1JURUQuY29kZSxleHRlbmRlZERhdGE6YS5lcnJvckNvZGVMaXN0LkhBTkRMRV9UUkFDS19OT1RfU1VQUE9SVEVELm1lc3NhZ2V9KSxbMl0pO2Nhc2UgMjpyZXR1cm4gbT1DLnNlbnQoKSxbNCxmLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmRlcj09bX0pKV07Y2FzZSAzOmlmKF89Qy5zZW50KCksIShtJiZfJiZfLnN0b3ApKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5IQU5ETEVfVFJBQ0srXCIgc2VuZGVyIG5vIGZvdW5kXCIpLGMmJmMoe2Vycm9yQ29kZTphLmVycm9yQ29kZUxpc3QuVFJBQ0tfTk9UX0ZPVU5ELmNvZGUsZXh0ZW5kZWREYXRhOmEuZXJyb3JDb2RlTGlzdC5UUkFDS19OT1RfRk9VTkQubWVzc2FnZX0pLFsyXTt0cnl7Zi5yZW1vdmVUcmFjayhtKSxfLnN0b3AoKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5IQU5ETEVfVFJBQ0srXCIgXCIrZSksYyYmYyh7ZXJyb3JDb2RlOmEuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfVVBEQVRFX1NEUF9GQUlMLmNvZGUsZXh0ZW5kZWREYXRhOmEuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfVVBEQVRFX1NEUF9GQUlMLm1lc3NhZ2UrXCIgXCIrZX0pfUMubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIHY9e30sRT10aGlzLnN0cmVhbUNlbnRlci5wcmV2aWV3U3RyZWFtTGlzdC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb2NhbFN0cmVhbS5nZXRUcmFja3MoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZT09cn0pKX0pKSx2PUUmJlwiQUREXCI9PWU/RS52aWRlb0luZm86e30sWzQsZi5jcmVhdGVPZmZlcigpXTtjYXNlIDU6cmV0dXJuIFM9Qy5zZW50KCkscC5vbkNyZWF0ZU9mZmVyU3VjY2VzcyhTLCEwLHYsKGZ1bmN0aW9uKHMpe3JldHVybiBvKFQsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbztyZXR1cm4gbih0aGlzLChmdW5jdGlvbihuKXtyZXR1cm4gMCE9PXM/YyYmYyh7ZXJyb3JDb2RlOmEuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfVVBEQVRFX1NEUF9GQUlMLmNvZGUsZXh0ZW5kZWREYXRhOmEuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfVVBEQVRFX1NEUF9GQUlMLm1lc3NhZ2V9KToobz1cInZpZGVvXCI9PXIua2luZD9cInZpZGVvVHJhY2tcIjpcImF1ZGlvVHJhY2tcIixcIkFERFwiPT1lPyh0LmFkZFRyYWNrKHIpLGdbb109cixoJiZoLnNldFRyYWNrKFwidmlkZW9cIj09ci5raW5kLHIpLFwidmlkZW9cIj09ci5raW5kJiYxPT1yLmVuYWJsZWQ/cC5zZW5kU3RyZWFtU3RhdHVzKDAscC5taWNfc3RhdHVzLCEwKToxPT1yLmVuYWJsZWQmJnAuc2VuZFN0cmVhbVN0YXR1cyhwLmNhbWVyYV9zdGF0dXMsMCwhMCkpOihcInZpZGVvXCI9PXIua2luZD9wLnNlbmRTdHJlYW1TdGF0dXMoMixwLm1pY19zdGF0dXMsITApOnAuc2VuZFN0cmVhbVN0YXR1cyhwLmNhbWVyYV9zdGF0dXMsMiwhMCksdC5yZW1vdmVUcmFjayhyKSxnW29dPW51bGwsaCYmaC5zZXRUcmFjayhcInZpZGVvXCI9PXIua2luZCxudWxsKSksZC5tZWRpYVN0cmVhbUNvbmZpZy52aWRlbz1cIkFERFwiPT1lLGkoe2Vycm9yQ29kZTowLGV4dGVuZGVkRGF0YTpcIlwifSkpLFsyXX0pKX0pKX0pKSxbMyw3XTtjYXNlIDY6XCJBRERcIj09ZT8odC5hZGRUcmFjayhyKSxoJiZoLnNldFRyYWNrKFwidmlkZW9cIj09ci5raW5kLHIpKToodC5yZW1vdmVUcmFjayhyKSxoJiZoLnNldFRyYWNrKFwidmlkZW9cIj09ci5raW5kLG51bGwpKSxpKHtlcnJvckNvZGU6MCxleHRlbmRlZERhdGE6XCJcIn0pLGQubWVkaWFTdHJlYW1Db25maWcudmlkZW89XCJBRERcIj09ZSxDLmxhYmVsPTc7Y2FzZSA3OnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLnN3aXRjaERldmljZT1mdW5jdGlvbihlLHQscixvKXt2YXIgbj10aGlzLHM9dGhpcy5zdHJlYW1DZW50ZXIuY2hlY2tQcmV2aWV3KHQpO2lmKCFzKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpzYy5zZC4wIHByZXZpZXcgbm8gZm91bmRcIiksdm9pZChvJiZvKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlBVQkxJU0hfTk9fUFJFVklFVy5jb2RlLGV4dGVuZGVkRGF0YTphLmVycm9yQ29kZUxpc3QuUFVCTElTSF9OT19QUkVWSUVXLm1lc3NhZ2V9KSk7aWYoXCJ2aWRlb1wiPT09ZSYmMD09cy5tZWRpYVN0cmVhbUNvbmZpZy52aWRlbylyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2Muc2QuMCBjYW1lcmEgY2FuIG5vdCBiZSBjaGFuZ2VkIHdoZW4gdmlkZW8gaXMgZmFsc2VcIiksdm9pZChvJiZvKHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlZJREVPX0RFVklDRV9GQUxTRS5jb2RlLGV4dGVuZGVkRGF0YTphLmVycm9yQ29kZUxpc3QuVklERU9fREVWSUNFX0ZBTFNFLm1lc3NhZ2V9KSk7aWYoXCJhdWRpb1wiPT09ZSYmMD09cy5tZWRpYVN0cmVhbUNvbmZpZy5hdWRpbylyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2Muc2QuMCBtaWNyb3Bob25lIGNhbiBub3QgYmUgY2hhbmdlZCB3aGVuIGF1ZGlvIGlzIGZhbHNlXCIpLHZvaWQobyYmbyh7ZXJyb3JDb2RlOmEuZXJyb3JDb2RlTGlzdC5BVURJT19ERVZJQ0VfRkFMU0UuY29kZSxleHRlbmRlZERhdGE6YS5lcnJvckNvZGVMaXN0LkFVRElPX0RFVklDRV9GQUxTRS5tZXNzYWdlfSkpO3MubWVkaWFTdHJlYW1Db25maWcudmlkZW9JbnB1dCE9PXImJmRlbGV0ZSBzLm1lZGlhU3RyZWFtQ29uZmlnLmZhY2luZ01vZGU7dmFyIGMsdT17fTtcInZpZGVvXCI9PT1lPyh1LnZpZGVvSW5wdXQ9cixjPXMudmlkZW9UcmFjayk6KHUuYXVkaW9JbnB1dD1yLGM9cy5hdWRpb1RyYWNrKTt2YXIgZD10aGlzLnN0YXRlQ2VudGVyLmJyb3dzZXI7dGhpcy5sb2dnZXIuaW5mbyhcInpzYy5zZC4wIGJyb3dzZXIgXCIrZCksXCJmaXJlZm94XCI9PT1kJiYobnVsbD09Y3x8Yy5zdG9wKCkpO3ZhciBsPWkoaSh7fSxzLm1lZGlhU3RyZWFtQ29uZmlnKSx1KSxoPXMuZ2V0TWVkaWFTdHJlYW1Db25zdHJhaW50cyhsKSxwPWZ1bmN0aW9uKHIsaSl7aS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihyKXtpZihyLmtpbmQ9PT1lKXt2YXIgaT1cInZpZGVvXCI9PT1lLG89aT9cInZpZGVvVHJhY2tcIjpcImF1ZGlvVHJhY2tcIixhPXNbb107ci5lbmFibGVkPWEuZW5hYmxlZCxpJiZzLmxvd1N0cmVhbSYmcy5sb3dTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RvcCgpfSkpO3ZhciBjPW4uc3RyZWFtQ2VudGVyLmdldFB1Ymxpc2hMaXN0KHQpO2MubGVuZ3RoPjAmJighcy5tdXRlSW1hZ2V8fHIuZW5hYmxlZHx8IWkpP2MubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wdWJsaXNoZXJ9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5yZXBsYWNlUHVibGlzaGVkVHJhY2socil9KSk6cyYmcy5tdXRlSW1hZ2UmJiFyLmVuYWJsZWQmJmk/c1tvXT1yOnMmJnMucmVwbGFjZVByZXZpZXdUcmFjayhyKSxhJiZhLnN0b3AoKX19KSkscy5yZXN0YXJ0U291bmRMZXZlbCgpfTtcImF1ZGlvXCI9PWU/aC52aWRlbz0hMTpoLmF1ZGlvPSExLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGgpLnRoZW4oKGZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24ocy5tZWRpYVN0cmVhbUNvbmZpZyx1KSxwKDAsdCksbi5sb2dnZXIuaW5mbyhcInpzYy5zZC4wIHN3aXRjaCBcIitlK1wiIGRldmljZSBzdWNjZXNzXCIpLG8mJm8oe2Vycm9yQ29kZTowLGV4dGVuZGVkRGF0YTpcIlwifSl9KSwoZnVuY3Rpb24odCl7dmFyIHIsaTtcInZpZGVvXCI9PWU/bnVsbD09PShyPXMudmlkZW9UcmFjayl8fHZvaWQgMD09PXJ8fHIuc3RvcCgpOm51bGw9PT0oaT1zLmF1ZGlvVHJhY2spfHx2b2lkIDA9PT1pfHxpLnN0b3AoKSxuLmxvZ2dlci53YXJuKFwienNjLnNkLjAgc3dpdGNoIFwiK2UrXCIgZGV2aWNlIGZhaWxlZCwgc3RvcCBsYXN0IGRldmljZSBhbmQgcmV0cnkuIFwiLHQrXCJcIiksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaCkudGhlbigoZnVuY3Rpb24odCl7T2JqZWN0LmFzc2lnbihzLm1lZGlhU3RyZWFtQ29uZmlnLHUpLHAoMCx0KSxuLmxvZ2dlci5pbmZvKFwienNjLnNkLjAgc3d0aWNoIFwiK2UrXCIgZGV2aWNlIHN1Y2Nlc3NcIiksbyYmbyh7ZXJyb3JDb2RlOjAsZXh0ZW5kZWREYXRhOlwiXCJ9KX0pLChmdW5jdGlvbih0KXtuLmxvZ2dlci53YXJuKFwienNjLnNkLjAgc3d0aWNoIFwiK2UrXCIgZGV2aWNlIGZhaWxlZCBhbmQgcmVjb3ZlciBsYXN0IGRldmljZS4gXCIsdCtcIlwiKTt2YXIgcj1zLmdldE1lZGlhU3RyZWFtQ29uc3RyYWludHMocy5tZWRpYVN0cmVhbUNvbmZpZyksaT1hLmVycm9yQ29kZUxpc3QuVklERU9fREVWSUNFX0ZBTFNFO1wiYXVkaW9cIj09PWUmJihpPWEuZXJyb3JDb2RlTGlzdC5BVURJT19ERVZJQ0VfRkFMU0UpLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpLnRoZW4oKGZ1bmN0aW9uKHIpe3AoMCxyKSxuLmxvZ2dlci5pbmZvKFwienNjLnNkLjAgcmVjb3ZlciBsYXN0IFwiK2UrXCIgZGV2aWNlIHN1Y2Nlc3NcIiksbyYmbyh7ZXJyb3JDb2RlOmkuY29kZSxleHRlbmRlZERhdGE6aS5tZXNzYWdlK1wiIFwiK0pTT04uc3RyaW5naWZ5KHQpfSl9KSwoZnVuY3Rpb24odCl7bi5sb2dnZXIuZXJyb3IoXCJ6c2Muc2QuMCBzd3RpY2ggXCIrZStcIiBkZXZpY2UgYW5kIHJlY292ZXIgZmFpbGVkLCBwbGVhc2UgcmVjcmVhdGUgc3RyZWFtLiBcIix0K1wiXCIpLG8mJm8oe2Vycm9yQ29kZTppLmNvZGUsZXh0ZW5kZWREYXRhOmkubWVzc2FnZStcIiBcIitKU09OLnN0cmluZ2lmeSh0KX0pfSkpfSkpfSkpfSxlLnByb3RvdHlwZS5fcmVwbGFjZVRyYWNrPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnN0cmVhbUNlbnRlci5jaGVja1ByZXZpZXcoZSksbz10aGlzLnN0cmVhbUNlbnRlci5nZXRQdWJsaXNoTGlzdChlKTtpZihvLmxlbmd0aCl7dmFyIG49bnVsbDtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaTtuPW51bGw9PT0oaT1lLnB1Ymxpc2hlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkucmVwbGFjZVB1Ymxpc2hlZFRyYWNrKHQsITEse2lzVHJhY2tQcm9jZXNzZWRGcm9tT3JpZ2luYWxTdHJlYW06cn0pfSkpLG59cmV0dXJuIGk/aS5sb2NhbFN0cmVhbS5nZXRUcmFja3MoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5raW5kPT09dC5raW5kfSkpPyhpLnJlcGxhY2VQcmV2aWV3VHJhY2sodCwhMSx7aXNUcmFja1Byb2Nlc3NlZEZyb21PcmlnaW5hbFN0cmVhbTpyfSkse2Vycm9yQ29kZTowLGV4dGVuZGVkRGF0YTpcIlwifSk6KHRoaXMubG9nZ2VyLmVycm9yKFwiemMucnQuMCB0cmFjayBubyBmb3VuZFwiKSx7ZXJyb3JDb2RlOmEuZXJyb3JDb2RlTGlzdC5UUkFDS19OT1RfRk9VTkQuY29kZSxleHRlbmRlZERhdGE6YS5lcnJvckNvZGVMaXN0LlRSQUNLX05PVF9GT1VORC5tZXNzYWdlfSk6KHRoaXMubG9nZ2VyLmVycm9yKFwiemMucnQuMCBwcmV2aWV3IG5vIGZvdW5kXCIpLHtlcnJvckNvZGU6YS5lcnJvckNvZGVMaXN0LlBVQkxJU0hfTk9fUFJFVklFVy5jb2RlLGV4dGVuZGVkRGF0YTphLmVycm9yQ29kZUxpc3QuUFVCTElTSF9OT19QUkVWSUVXLm1lc3NhZ2V9KX0sZS5wcm90b3R5cGUuZW5hYmxlTWljcm9waG9uZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyhlKTtyZXR1cm4gcj9yLmVuYWJsZU1pY3JvcGhvbmUodCx0aGlzLnN0cmVhbUNlbnRlcik6KHRoaXMubG9nZ2VyLmVycm9yKFwienNjLmVtLjAgbm8gcHJldmlld1wiKSwhMSl9LGUucHJvdG90eXBlLmVuYWJsZUNhbWVyYT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5zdHJlYW1DZW50ZXIuY2hlY2tQcmV2aWV3KGUpO3JldHVybiBpP2kuZW5hYmxlQ2FtZXJhKHQsdGhpcy5zdHJlYW1DZW50ZXIscik6KHRoaXMubG9nZ2VyLmVycm9yKFwienNjLmVjLjAgbm8gcHJldmlld1wiKSwhMSl9LGUucHJvdG90eXBlLnNldER1bW15Q2FwdHVyZUltYWdlUGF0aD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe3ZhciBuPXIuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyh0KTtpZighbilyZXR1cm4gci5sb2dnZXIuZXJyb3IoXCJ6Yy5zZGNwLjAgcHJldmlldyBubyBmb3VuZFwiKSx2b2lkIGkoITEpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiByLmxvZ2dlci5lcnJvcihcInpjLnNkY3AuMCBmaWxlUGF0aCB0eXBlIGVycm9yXCIpLHZvaWQgaSghMSk7dmFyIHM9bmV3IEltYWdlO3Muc3JjPWUscy5jcm9zc09yaWdpbj1cImFub255bW91c1wiLHMub25sb2FkPWZ1bmN0aW9uKCl7bi5sb2FkSW1nVGltZXImJmNsZWFyVGltZW91dChuLmxvYWRJbWdUaW1lciksbi5sb2FkSW1nVGltZXI9dm9pZCAwLHIubG9nZ2VyLmluZm8oXCJ6Yy5zZGNwLjAgbG9hZCBmaWxlIHBhdGggc3VjY2Vzc1wiKSxuLm11dGVJbWFnZT1zLGkoITApfSxuLmxvYWRJbWdUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3IubG9nZ2VyLmVycm9yKFwiemMuc2RjcC4wIGxvYWQgaW1nIHRpbWVvdXRcIiksaSghMSl9KSw1ZTMpfSkpfSxlfSgpO3QuQWR2YW5jZWRNb2R1bGU9ZH0sMjE5MzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnNpZ25hbD10LnB1Ymxpc2hlcj10LnB1Ymxpc2hNb2R1bGU9dC5wbGF5TW9kdWxlPXQucHJldmlldz10LnN0cmVhbUhhbmRsZXI9dC56ZWdvV2ViUlRDPXQuRU5VTV9QVUJMSVNIX1NUUkVBTV9TVEFURT10LkVOVU1fU1RSRUFNX0NNRF9QUkk9dC5FTlVNX1NUUkVBTV9TVUJfQ01EPXQuUFJPVE9fVkVSU0lPTj12b2lkIDA7dmFyIHM9cig2MDQ1KSxhPXIoNjg4NyksYz1yKDM2NDkpLHU9cigzNjU2KTtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGUmJlwibGl2ZVwiPT09ZS5yZWFkeVN0YXRlPyEwPT09ZS5lbmFibGVkPzA6XCJ2aWRlb1wiPT09ZS5raW5kJiZcImZpcmVmb3hcIj09PXQ/MjoyMDoyfXQuUFJPVE9fVkVSU0lPTj1cIjIuMTkuMFwiLHQuRU5VTV9TVFJFQU1fU1VCX0NNRD17bGl2ZU5vbmU6MCxsaXZlQmVnaW46MjAwMSxsaXZlRW5kOjIwMDIsbGl2ZVVwZGF0ZToyMDAzfSx0LkVOVU1fU1RSRUFNX0NNRF9QUkk9e2xpdmVCZWdpbjpcInplZ29jaGF0X2pzLnJvb21fc3RyZWFtX2NyZWF0ZV9yZXFcIixsaXZlRW5kOlwiemVnb2NoYXRfanMucm9vbV9zdHJlYW1fZGVsZXRlX3JlcVwiLGxpdmVVcGRhdGU6XCJ6ZWdvY2hhdF9qcy5yb29tX3N0cmVhbV91cGRhdGVfcmVxXCJ9LHQuRU5VTV9QVUJMSVNIX1NUUkVBTV9TVEFURT17d2FpdGluZ191cmw6MSx0cnlQdWJsaXNoOjIsdXBkYXRlX2luZm86MyxwdWJsaXNoaW5nOjQsc3RvcDo1LHJldHJ5UHVibGlzaDo2fSx0LnplZ29XZWJSVEM9e211dGVQdWJsaXNoU3RyZWFtVmlkZW86ZnVuY3Rpb24oZSx0LHIpe3RoaXMubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uTVVURV9QVUJMSVNIX1NUUkVBTV9WSURFTytcIiBjYWxsXCIpO3ZhciBpPXRoaXMuc3RhdGVDZW50ZXIuZ2V0UmVwb3J0U2VxKCk7aWYodGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChpLGMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza011dGVQdWJsaXNoVmlkZW8pLFwiYm9vbGVhblwiIT10eXBlb2YgdHx8dm9pZCAwIT09ciYmXCJib29sZWFuXCIhPXR5cGVvZiByKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5NVVRFX1BVQkxJU0hfU1RSRUFNX1ZJREVPK1wiIG9wdGlvbiBlcnJvclwiKSwhMTt2YXIgbz10aGlzLnJ0Y01vZHVsZXMuYWR2YW5jZWRNb2R1bGUuZW5hYmxlU3RyZWFtKGUse3ZpZGVvOiF0LHJldGFpbjpyfSk7cmV0dXJuIHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoaSksdGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5NVVRFX1BVQkxJU0hfU1RSRUFNX1ZJREVPK1wiIGVuZFwiKSxvfSxtdXRlUHVibGlzaFN0cmVhbUF1ZGlvOmZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5NVVRFX1BVQkxJU0hfU1RSRUFNX0FVRElPK1wiIGNhbGxcIik7dmFyIHI9dGhpcy5zdGF0ZUNlbnRlci5nZXRSZXBvcnRTZXEoKTtpZih0aGlzLmRhdGFSZXBvcnQubmV3UmVwb3J0KHIsYy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTXV0ZVB1Ymxpc2hBdWRpbyksXCJib29sZWFuXCIhPXR5cGVvZiB0KXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihzLlpFR09fV0VCUlRDX0FDVElPTi5NVVRFX1BVQkxJU0hfU1RSRUFNX0FVRElPK1wiIG9wdGlvbiBlcnJvclwiKSwhMTt2YXIgaT10aGlzLnJ0Y01vZHVsZXMuYWR2YW5jZWRNb2R1bGUuZW5hYmxlU3RyZWFtKGUse2F1ZGlvOiF0fSk7cmV0dXJuIHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQociksdGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5NVVRFX1BVQkxJU0hfU1RSRUFNX0FVRElPK1wiIGVuZFwiKSxpfSxtdXRlUGxheVN0cmVhbVZpZGVvOmZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5NVVRFX1BMQVlfU1RSRUFNX1ZJREVPK1wiIGNhbGwgXCIrZStcIiBcIit0KTt2YXIgcj10aGlzLnN0YXRlQ2VudGVyLmdldFJlcG9ydFNlcSgpO3RoaXMuZGF0YVJlcG9ydC5uZXdSZXBvcnQocixjLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNdXRlUGxheVZpZGVvKTt2YXIgaT10aGlzLnJ0Y01vZHVsZXMucGxheU1vZHVsZS5tdXRlUGxheVN0cmVhbShlLFwidmlkZW9cIix0KTtyZXR1cm4gdGhpcy5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChyKSx0aGlzLmxvZ2dlci5pbmZvKHMuWkVHT19XRUJSVENfQUNUSU9OLk1VVEVfUExBWV9TVFJFQU1fVklERU8rXCIgZW5kXCIpLGl9LG11dGVQbGF5U3RyZWFtQXVkaW86ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlci5pbmZvKHMuWkVHT19XRUJSVENfQUNUSU9OLk1VVEVfUExBWV9TVFJFQU1fQVVESU8rXCIgY2FsbCBcIitlK1wiIFwiK3QpO3ZhciByPXRoaXMuc3RhdGVDZW50ZXIuZ2V0UmVwb3J0U2VxKCk7dGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChyLGMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza011dGVQbGF5QXVkaW8pO3ZhciBpPXRoaXMucnRjTW9kdWxlcy5wbGF5TW9kdWxlLm11dGVQbGF5U3RyZWFtKGUsXCJhdWRpb1wiLHQpO3JldHVybiB0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHIpLHRoaXMubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uTVVURV9QTEFZX1NUUkVBTV9BVURJTytcImVuZFwiKSxpfSxtdXRlTWljcm9waG9uZTpmdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKHMuWkVHT19XRUJSVENfQUNUSU9OLk1VVEVfTUlDK1wiIGNhbGxcIik7dmFyIHQ9dGhpcy5zdGF0ZUNlbnRlci5nZXRSZXBvcnRTZXEoKTtpZih0aGlzLmRhdGFSZXBvcnQubmV3UmVwb3J0KHQsYy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTXV0ZU1pY3JvcGhvbmUpLFwiYm9vbGVhblwiIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uTVVURV9NSUMrXCIgb3B0aW9uIGVycm9yXCIpLCExO3ZhciByPXRoaXMucnRjTW9kdWxlcy5hZHZhbmNlZE1vZHVsZS5lbmFibGVNaWNyb3Bob25lT25seSghZSk7cmV0dXJuIHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQodCksdGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5NVVRFX01JQytcIiBlbmRcIikscn0sYWN0aXZhdGVTRUlJbnNlcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnRjTW9kdWxlcy5wdWJsaXNoTW9kdWxlLmFjdGl2YXRlU0VJSW5zZXJ0KGUuc3RyZWFtLGUuYWN0aW9uLGUuaW5mb1R5cGUpfSxnZXRBdWRpb0luZm86ZnVuY3Rpb24oZSx0LHIpe2lmKCFlKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcImxvY2FsU3RyZWFtIGlzIGVtcHR5IVwiKSwhMTt2YXIgbz1pKHt9LHIpO3JldHVybiBuZXcgdS5NZWRpYVV0aWwodGhpcy5hYyxvKS5jb25uZWN0VG9Tb3VyY2UoZSwoZnVuY3Rpb24oZSl7dChlKX0pKX0sc3RhcnRSZWNvcmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyhlKTtpZihyKXt2YXIgaT1lLmNsb25lKCksbz1pLmdldEF1ZGlvVHJhY2tzKCk7by5sZW5ndGg+MCYmci5oYXNFbXB0eUF1ZGlvVHJhY2smJm8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5yZW1vdmVUcmFjayhlKX0pKSx0aGlzLnJlY29yZGVkQmxvYnM9W107dmFyIG49e21pbWVUeXBlOlwidmlkZW8vd2VibTtjb2RlY3M9dnA5XCJ9O01lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKG4ubWltZVR5cGUpfHwobj17bWltZVR5cGU6XCJ2aWRlby93ZWJtO2NvZGVjcz12cDgsb3B1c1wifSxNZWRpYVJlY29yZGVyLmlzVHlwZVN1cHBvcnRlZChuLm1pbWVUeXBlKXx8KG49e21pbWVUeXBlOlwidmlkZW8vd2VibTtjb2RlY3M9dnA4XCJ9LE1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKG4ubWltZVR5cGUpfHwobj17bWltZVR5cGU6XCJ2aWRlby93ZWJtXCJ9LE1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKG4ubWltZVR5cGUpfHwobj17bWltZVR5cGU6XCJcIn0pKSkpO3RyeXt0aGlzLm1lZGlhUmVjb3JkZXI9bmV3IE1lZGlhUmVjb3JkZXIoaSxuKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5lcnJvcihcIkV4Y2VwdGlvbiB3aGlsZSBjcmVhdGluZyBaZWdvTWVkaWFSZWNvcmRlcjpcIixlKX10aGlzLm1lZGlhUmVjb3JkZXIub25zdG9wPWZ1bmN0aW9uKGUpe3QubG9nZ2VyLndhcm4oXCJSZWNvcmRlciBzdG9wcGVkOiBcIitlKX0sdGhpcy5tZWRpYVJlY29yZGVyLm9uZGF0YWF2YWlsYWJsZT10aGlzLmhhbmRsZURhdGFBdmFpbGFibGUuYmluZCh0aGlzKSx0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQoMTApfWVsc2UgdGhpcy5sb2dnZXIuZXJyb3IoXCJzdHJlYW0gaXMgbm90IGZyb20gemVnbyFcIil9LHN0b3BSZWNvcmQ6ZnVuY3Rpb24oKXt0aGlzLm1lZGlhUmVjb3JkZXI/dGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKTp0aGlzLmxvZ2dlci53YXJuKFwicGxlYXNlIGludm9rZSBzdGFydFJlY29yZCBmaXJzdFwiKX0scmVzdW1lUmVjb3JkOmZ1bmN0aW9uKCl7dGhpcy5tZWRpYVJlY29yZGVyP3RoaXMubWVkaWFSZWNvcmRlci5yZXN1bWUoKTp0aGlzLmxvZ2dlci53YXJuKFwicGxlYXNlIGludm9rZSBzdGFydFJlY29yZCBmaXJzdFwiKX0scGF1c2VSZWNvcmQ6ZnVuY3Rpb24oKXt0aGlzLm1lZGlhUmVjb3JkZXI/dGhpcy5tZWRpYVJlY29yZGVyLnBhdXNlKCk6dGhpcy5sb2dnZXIud2FybihcInBsZWFzZSBpbnZva2Ugc3RhcnRSZWNvcmQgZmlyc3RcIil9LHNhdmVSZWNvcmQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5tZWRpYVJlY29yZGVyJiZ0aGlzLnJlY29yZGVkQmxvYnMpe3ZhciB0PW5ldyBCbG9iKHRoaXMucmVjb3JkZWRCbG9icyx7dHlwZTpcInZpZGVvL3dlYm1cIn0pLHI9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodCksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtpLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsaS5ocmVmPXIsaS5kb3dubG9hZD1lK1wiLndlYm1cIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpLGkuY2xpY2soKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaSksd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwocil9KSwxMDApfWVsc2UgdGhpcy5sb2dnZXIud2FybihcInBsZWFzZSBpbnZva2Ugc3RhcnRSZWNvcmQgZmlyc3RcIil9LGhhbmRsZURhdGFBdmFpbGFibGU6ZnVuY3Rpb24oZSl7ZS5kYXRhJiZlLmRhdGEuc2l6ZT4wJiZ0aGlzLnJlY29yZGVkQmxvYnMucHVzaChlLmRhdGEpfSxhZGRUcmFjazpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe3IubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uQUREX1RSQUNLK1wiIGNhbGxcIiksci5ydGNNb2R1bGVzLmFkdmFuY2VkTW9kdWxlLmhhbmRsZVRyYWNrKFwiQUREXCIsZSx0LGksbyl9KSl9LHJlbW92ZVRyYWNrOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7ci5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5SRU1PVkVfVFJBQ0srXCIgY2FsbFwiKSxyLnJ0Y01vZHVsZXMuYWR2YW5jZWRNb2R1bGUuaGFuZGxlVHJhY2soXCJSRU1PVkVcIixlLHQsaSxvKX0pKX0sZW5hYmxlQ2FtZXJhQ2FwdHVyaW5nOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSEwKSxvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihpKXtyZXR1cm4ocj10aGlzLnN0cmVhbUNlbnRlci5jaGVja1ByZXZpZXcoZSkpP1syLHIuZW5hYmxlQ2FtZXJhQ2FwdHVyaW5nKHQpXToodGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2MuZWNjIG5vIHByZXZpZXdcIiksWzIsITFdKX0pKX0pKX19LHQuc3RyZWFtSGFuZGxlcj17fSx0LnByZXZpZXc9e2VuYWJsZUNhbWVyYTpmdW5jdGlvbihlLHQscil7dmFyIGksbyxuLHM9dGhpcztpZighdGhpcy5sb2NhbFN0cmVhbXx8MD09dGhpcy5sb2NhbFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6cC5lYy4yIHZpZGVvIHRyYWNrIG5vIGZvdW5kXCIpLCExO3ZhciBhLGM9dGhpcy52aWRlb1RyYWNrO2lmKCFlJiZ0aGlzLm11dGVJbWFnZSl7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt1LndpZHRoPXRoaXMubXV0ZUltYWdlLndpZHRoLHUuaGVpZ2h0PXRoaXMubXV0ZUltYWdlLmhlaWdodDt2YXIgbD11LmdldENvbnRleHQoXCIyZFwiKTt0aGlzLm11dGVJbWFnZUFuSUQ9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7bC5kcmF3SW1hZ2Uocy5tdXRlSW1hZ2UsMCwwKX0pLDEwMCksYT11LmNhcHR1cmVTdHJlYW0oKS5nZXRWaWRlb1RyYWNrcygpWzBdLHRoaXMubG9jYWxTdHJlYW0ucmVtb3ZlVHJhY2sodGhpcy5sb2NhbFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKSx0aGlzLmxvY2FsU3RyZWFtLmFkZFRyYWNrKGEpLHRoaXMucnRjVmlld2VyJiZ0aGlzLnJ0Y1ZpZXdlci5zZXRWaWRlbyhhKX1lbHNlIGUmJnRoaXMubXV0ZUltYWdlJiYoKG51bGw9PT0oaT1udWxsPT10aGlzP3ZvaWQgMDp0aGlzLnZpZGVvRWZmZWN0KXx8dm9pZCAwPT09aT92b2lkIDA6aS5lbmFibGVkKT90aGlzLnJlcGxhY2VQcmV2aWV3VHJhY2sodGhpcy52aWRlb0VmZmVjdC5vdXRwdXQsITApOnRoaXMucmVwbGFjZVByZXZpZXdUcmFjayh0aGlzLnZpZGVvVHJhY2spKTt2YXIgaD10aGlzLnN0YXRlQ2VudGVyLmJyb3dzZXI7aWYociYmIWV8fCFjKXtpZihyJiYhZSlpZihudWxsPT09KG89dGhpcy52aWRlb0VmZmVjdCl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZW5hYmxlZCl0aGlzLmxvZ2dlci53YXJuKFwienAuZWMuMiBVbmFibGUgdG8ga2VlcCB0aGUgcHJldmlldyBzY3JlZW4gd2hlbiBiZWF1dHkgaXMgdHVybmVkIG9uXCIpO2Vsc2V7dmFyIHA9dGhpcy5jbG9uZVZpZGVvVHJhY2s7dGhpcy5jbG9uZVZpZGVvVHJhY2s9dGhpcy52aWRlb1RyYWNrLmNsb25lKCksdGhpcy5jbG9uZVZpZGVvVHJhY2suZW5hYmxlZD0hMCx0aGlzLnJlcGxhY2VQcmV2aWV3VHJhY2sodGhpcy5jbG9uZVZpZGVvVHJhY2ssITEse3JldGFpblRyYWNrOiEwfSkscCYmcC5zdG9wKCl9fWVsc2UgaWYoYy5lbmFibGVkPWUsXCJjaHJvbWVcIj09PWgmJmUmJnZvaWQgMCE9PXR5cGVvZiBjLmdldFNldHRpbmdzKCkud2lkdGgmJmMuZ2V0U2V0dGluZ3MoKS53aWR0aD4wJiZuYXZpZ2F0b3IudXNlckFnZW50KXt2YXIgZz0wLGY9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9jaHJvbWVcXC8oW1xcZC5dKykvKVsxXTtpZihmJiYoZz1wYXJzZUludChmLnNwbGl0KFwiLFwiKVswXSkpLGcmJmc+PTg3JiZnPDkyKXt2YXIgbT1jLmdldFNldHRpbmdzKCkud2lkdGgtMSxfPWMuZ2V0U2V0dGluZ3MoKS5oZWlnaHQtMSx2PWMuZ2V0U2V0dGluZ3MoKS5mcmFtZVJhdGU7Yy5hcHBseUNvbnN0cmFpbnRzKHt3aWR0aDptLGhlaWdodDpfLGZyYW1lUmF0ZTp2fSkudGhlbigoZnVuY3Rpb24oKXtjLmFwcGx5Q29uc3RyYWludHMoe3dpZHRoOnMudmlkZW9JbmZvLndpZHRoLGhlaWdodDpzLnZpZGVvSW5mby5oZWlnaHQsZnJhbWVSYXRlOnZ9KX0pKX19YyYmKGMuZW5hYmxlZD1lKSxudWxsPT09KG49dGhpcy5sb3dTdHJlYW0pfHx2b2lkIDA9PT1ufHxuLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5lbmFibGVkPWV9KSk7dmFyIEU9dC5nZXRQdWJsaXNoTGlzdCh0aGlzLmxvY2FsU3RyZWFtKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnB1Ymxpc2hlcn0pKTtyZXR1cm4gRS5sZW5ndGgmJkUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHIsaT1udWxsPT09KHI9dC5wZWVyQ29ubmVjdGlvbil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0U2VuZGVycygpLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuXCJ2aWRlb1wiPT09KG51bGw9PT0odD1lLnRyYWNrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5raW5kKX0pKTtpJiZpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByOyFlJiZzLm11dGVJbWFnZSYmYT9udWxsPT10fHx0LnJlcGxhY2VUcmFjayhhKTplJiYoKG51bGw9PT0ocj1udWxsPT1zP3ZvaWQgMDpzLnZpZGVvRWZmZWN0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5lbmFibGVkKSYmcy52aWRlb0VmZmVjdC5vdXRwdXQ/dC50cmFjayE9PXMudmlkZW9FZmZlY3Qub3V0cHV0JiYobnVsbD09dHx8dC5yZXBsYWNlVHJhY2socy52aWRlb0VmZmVjdC5vdXRwdXQpKTp0LnRyYWNrIT09cy52aWRlb1RyYWNrJiYobnVsbD09dHx8dC5yZXBsYWNlVHJhY2socy52aWRlb1RyYWNrKSkscy5tdXRlSW1hZ2VBbklEJiZjbGVhckludGVydmFsKHMubXV0ZUltYWdlQW5JRCkpfSkpO3ZhciBvPXMubXV0ZUltYWdlJiYhZT8wOmQocy52aWRlb1RyYWNrLGgpO3Quc2VuZFN0cmVhbVN0YXR1cyhvLHQubWljX3N0YXR1cyl9KSksdGhpcy5pc1ZpZGVvRW5hYmxlZD1lLHRoaXMubG9nZ2VyLmluZm8oXCJ6cC5lYy4yIGNhbGwgc3VjY2Vzc1wiKSwhMH0sZW5hYmxlTWljcm9waG9uZTpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmxvY2FsU3RyZWFtKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpwLmVtLjIgbm8gbG9jYWxTdHJlYW1cIiksITE7dGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZW5hYmxlZD1lfSkpLHRoaXMuYXVkaW9UcmFjayYmKHRoaXMuYXVkaW9UcmFjay5lbmFibGVkPWUmJnQuaXNNaWNFbmFibGVkKTt2YXIgcj10LmdldFB1Ymxpc2hMaXN0KHRoaXMubG9jYWxTdHJlYW0pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucHVibGlzaGVyfSkpO3JldHVybiByLmxlbmd0aCYmci5mb3JFYWNoKChmdW5jdGlvbihyKXtyLnNpZ25hbCYmci5zZW5kU3RyZWFtU3RhdHVzKHIuY2FtZXJhX3N0YXR1cyxlJiZ0LmlzTWljRW5hYmxlZD8wOjIpfSkpLHRoaXMuaXNBdWRpb0VuYWJsZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhcInpwLmVtLjIgY2FsbCBzdWNjZXNzXCIpLCEwfSxyZXBsYWNlUHJldmlld1RyYWNrOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PXImJihyPXt9KSxvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxzLGEsYyx1O3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJ6c2MucnB0LjAgY2FsbFwiKSxlJiZlLmtpbmQmJnRoaXMubG9jYWxTdHJlYW0/KG89ITA9PT0obnVsbD09cj92b2lkIDA6ci5yZXRhaW5UcmFjaykscz1cImF1ZGlvXCI9PT1lLmtpbmQ/XCJhdWRpb1RyYWNrXCI6XCJ2aWRlb1RyYWNrXCIsdHx8IShudWxsPT09KGk9dGhpcy52aWRlb0VmZmVjdCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5hYmxlZCl8fFwidmlkZW9cIiE9PWUua2luZD9bMywzXTpvP1szLDJdOls0LHRoaXMudmlkZW9FZmZlY3Quc2V0SW5wdXQoZSldKTpbMl07Y2FzZSAxOm4uc2VudCgpLG4ubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzMsNF07Y2FzZSAzOlwiYXVkaW9cIj09PWUua2luZCYmdGhpcy5hdWRpb05vZGVRdWV1ZSYmIXIuaXNUcmFja1Byb2Nlc3NlZEZyb21PcmlnaW5hbFN0cmVhbT8oKGE9bmV3IE1lZGlhU3RyZWFtKS5hZGRUcmFjayhlKSxjPXRoaXMuYWMuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoYSksdGhpcy5hdWRpb05vZGVRdWV1ZS5yZXBsYWNlU291cmNlKGMpKToodGhpcy5sb2dnZXIuaW5mbyhcInpzYy5ycHQuMCByZXBsYWNlIGxvY2FsIHRyYWNrXCIpLCh1PXRoaXMubG9jYWxTdHJlYW0uZ2V0VHJhY2tzKCkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2luZD09PWUua2luZH0pKSkhPT1lJiYodSYmdGhpcy5sb2NhbFN0cmVhbS5yZW1vdmVUcmFjayh1KSx0aGlzLmxvY2FsU3RyZWFtLmFkZFRyYWNrKGUpKSx0aGlzLmxvY2FsU3RyZWFtLmFkZFRyYWNrKGUpLHRoaXMucnRjVmlld2VyJiYodGhpcy5ydGNWaWV3ZXIuc2V0VHJhY2soXCJ2aWRlb1wiPT09ZS5raW5kLGUpLFwic2FmYXJpXCI9PT10aGlzLnN0YXRlQ2VudGVyLmJyb3dzZXImJnRoaXMucnRjVmlld2VyLnJlc3VtZSghMCkpLCFvJiZcInZpZGVvXCI9PT1lLmtpbmQmJnRoaXMuZW5hYmxlRHVhbFN0cmVhbSYmdGhpcy5jcmVhdGVMb3dTdHJlYW0oKSksbi5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gdHx8b3x8KHRoaXNbc109ZSksdGhpcy5sb2dnZXIuaW5mbyhcInpzYy5ycHQuMCBlbmRcIiksWzJdfX0pKX0pKX0sZW5hYmxlQ2FtZXJhQ2FwdHVyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG8scyxhLGMsdSxsLGgscDtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmxvY2FsU3RyZWFtJiZ0aGlzLnZpZGVvVHJhY2smJlwiY2FtZXJhXCI9PT10aGlzLnByZXZpZXdUeXBlPyh0PXRoaXMuc3RyZWFtQ2VudGVyLmdldFB1Ymxpc2hMaXN0KHRoaXMubG9jYWxTdHJlYW0pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucHVibGlzaGVyfSkpLGU/XCJsaXZlXCIhPT10aGlzLnZpZGVvVHJhY2sucmVhZHlTdGF0ZT9bMywxXToodGhpcy5sb2dnZXIud2FybihcInpwLmVjYyBjYW1lcmEgaXMgYWxyZWFkeSBjYXB0dXJpbmdcIiksWzMsMTJdKTpbMywxM10pOih0aGlzLmxvZ2dlci5lcnJvcihcInpwLmVjYyBub3QgY2FtZXJhIHN0cmVhbVwiKSxbMiwhMV0pO2Nhc2UgMTpyPXRoaXMuZ2V0TWVkaWFTdHJlYW1Db25zdHJhaW50cyhpKGkoe30sdGhpcy5tZWRpYVN0cmVhbUNvbmZpZykse2F1ZGlvOiExfSkpLG4ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIG4udHJ5cy5wdXNoKFsyLDExLCwxMl0pLFs0LG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpXTtjYXNlIDM6cmV0dXJuIG89bi5zZW50KCksKHM9by5nZXRWaWRlb1RyYWNrcygpWzBdKS5lbmFibGVkPXRoaXMuaXNWaWRlb0VuYWJsZWQsITE9PT1zLmVuYWJsZWQmJnRoaXMubG9nZ2VyLndhcm4oXCJ6cC5lY2MgdmlkZW8gaXMgbm90IGVuYWJsZWRcIiksIXRoaXMubXV0ZUltYWdlfHx0aGlzLmlzVmlkZW9FbmFibGVkP1szLDRdOih0aGlzLnZpZGVvVHJhY2s9cyxzLmVuYWJsZWQ9IXRoaXMuaXNWaWRlb0VuYWJsZWQsWzMsMTBdKTtjYXNlIDQ6aWYoIXQubGVuZ3RoKXJldHVyblszLDldO2E9MCxuLmxhYmVsPTU7Y2FzZSA1OnJldHVybiBhPHQubGVuZ3RoP1s0LHRbYV0ucmVwbGFjZVB1Ymxpc2hlZFRyYWNrKHMpXTpbMyw4XTtjYXNlIDY6aWYoMCE9PShudWxsPT0oYz1uLnNlbnQoKSk/dm9pZCAwOmMuZXJyb3JDb2RlKSl0aHJvdyBjO24ubGFiZWw9NztjYXNlIDc6cmV0dXJuIGErKyxbMyw1XTtjYXNlIDg6cmV0dXJuWzMsMTBdO2Nhc2UgOTp0aGlzLnJlcGxhY2VQcmV2aWV3VHJhY2socyksbi5sYWJlbD0xMDtjYXNlIDEwOnJldHVyblszLDEyXTtjYXNlIDExOnJldHVybiB1PW4uc2VudCgpLHRoaXMubG9nZ2VyLmVycm9yKFwienNjLmVjYyByZXN1bWUgY2FtZXJhIGNhcHR1cmluZyBmYWlsZWQuIFwiK0pTT04uc3RyaW5naWZ5KHUpKSxbMiwhMV07Y2FzZSAxMjpyZXR1cm5bMywxNl07Y2FzZSAxMzpyZXR1cm4gbD10aGlzLnZpZGVvVHJhY2suZW5hYmxlZCxcInNhZmFyaVwiPT09KGg9dGhpcy5zdGF0ZUNlbnRlci5icm93c2VyKT9bMywxNV06KHRoaXMudmlkZW9UcmFjay5lbmFibGVkPSExLFs0LG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uodm9pZCAwKX0pLDIwMCl9KSldKTtjYXNlIDE0Om4uc2VudCgpLG4ubGFiZWw9MTU7Y2FzZSAxNTp0aGlzLnZpZGVvVHJhY2suc3RvcCgpLHRoaXMudmlkZW9UcmFjay5lbmFibGVkPWwsdC5sZW5ndGgmJihwPXRoaXMubXV0ZUltYWdlJiYhdGhpcy5pc1ZpZGVvRW5hYmxlZD8wOmQodGhpcy52aWRlb1RyYWNrLGgpLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zZW5kU3RyZWFtU3RhdHVzKHAsZS5taWNfc3RhdHVzKX0pKSksbi5sYWJlbD0xNjtjYXNlIDE2OnJldHVyblsyLCEwXX19KSl9KSl9fSx0LnBsYXlNb2R1bGU9e211dGVQbGF5U3RyZWFtOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmxvZ2dlci5pbmZvKFwienNjLm1wcy4wIGNhbGwgXCIrdCtcIiBcIityKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxuKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8XCJcIj09ZSlyZXR1cm4gaS5sb2dnZXIuZXJyb3IoXCJ6c2MubXBzLjAgc3RyZWFtSUQgbXVzdCBiZSBzdHJpbmcgYW5kIG5vdCBlbXB0eVwiKSx2b2lkIG4oITEpO2lmKFwiYm9vbGVhblwiIT10eXBlb2YgcilyZXR1cm4gaS5sb2dnZXIuZXJyb3IoXCJ6c2MubXBzLjAgbXV0ZSBtdXN0IGJlIGJvb2xlYW5cIiksdm9pZCBuKCExKTt2YXIgcz1pLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W2VdO2lmKCFzKXJldHVybiBpLmxvZ2dlci5lcnJvcihcInpzYy5tcHMuMCBwbGF5ZXIgbm90IGZvdW5kXCIpLHZvaWQgbighMSk7aWYoXCJ2aWRlb1wiPT09dCl7aWYocy5wbGF5T3B0aW9uJiYhMT09PXMucGxheU9wdGlvbi52aWRlb3x8cy5wbGF5ZXImJjAhPT1zLnBsYXllci5jYW1lcmFTdGF0dXMpcmV0dXJuIGkubG9nZ2VyLmVycm9yKFwienNjLm1wcy4wIHN0cmVhbSBubyBjb250YWluIHZpZGVvXCIpLHZvaWQgbighMSk7cy5wbGF5ZXIuc2lnbmFsLkFjdGl2YXRlUGxheVZpZGVvU3RyZWFtKGkuc3RhdGVDZW50ZXIuZ2V0U2VxKCkscy5wbGF5ZXIuc2Vzc2lvbklkLHIsKGZ1bmN0aW9uKCl7aS5sb2dnZXIuaW5mbyhcInpzYy5tcHMuMCBzdWNcIik7dmFyIGU9aS5zdGF0ZUNlbnRlci5nZXRSZXBvcnRTZXEoKTtzLnBsYXllci5wbGF5TWVkaWFTdGF0dXMudmlkZW89IXIsaS5kYXRhUmVwb3J0Lm5ld1JlcG9ydChlLGMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvUGxheUNvbnRlbnRDaGFuZ2VkLmV2ZW50KSxpLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhlLHtzZXNzaW9uX2lkOmMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvUGxheUNvbnRlbnRDaGFuZ2VkLnNlc3Npb25faWQocy5wbGF5ZXIuc2Vzc2lvbklkKSx2aWRlb19hY3RpdmF0ZTpjLlplZ29SVENMb2dFdmVudC5rWmVnb1BsYXlDb250ZW50Q2hhbmdlZC52aWRlb19hY3RpdmF0ZShzLnBsYXllci5wbGF5TWVkaWFTdGF0dXMudmlkZW8/MTowKSxhdWRpb19hY3RpdmF0ZTpjLlplZ29SVENMb2dFdmVudC5rWmVnb1BsYXlDb250ZW50Q2hhbmdlZC5hdWRpb19hY3RpdmF0ZShzLnBsYXllci5wbGF5TWVkaWFTdGF0dXMuYXVkaW8/MTowKX0pLGkucGxheVZpZGVvU3RhdHVzPWkuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoZSksbyghMCl9KSwoZnVuY3Rpb24oKXtpLmxvZ2dlci5lcnJvcihcInpzYy5tcHMuMCBmYWlsXCIpLG4oITEpfSkpfWVsc2UgaWYoXCJhdWRpb1wiPT09dCl7aWYocy5wbGF5T3B0aW9uJiYhMT09PXMucGxheU9wdGlvbi5hdWRpb3x8cy5wbGF5ZXImJjAhPT1zLnBsYXllci5taWNTdGF0dXMpcmV0dXJuIGkubG9nZ2VyLmVycm9yKFwienNjLm1wcy4wIHN0cmVhbSBubyBjb250YWluIGF1ZGlvXCIpLHZvaWQgbighMSk7cy5wbGF5ZXIuc2lnbmFsLkFjdGl2YXRlUGxheUF1ZGlvU3RyZWFtKGkuc3RhdGVDZW50ZXIuZ2V0U2VxKCkscy5wbGF5ZXIuc2Vzc2lvbklkLHIsKGZ1bmN0aW9uKCl7aS5sb2dnZXIuaW5mbyhcInpzYy5tcHMuMCBzdWNcIik7dmFyIGU9aS5zdGF0ZUNlbnRlci5nZXRSZXBvcnRTZXEoKTtzLnBsYXllci5wbGF5TWVkaWFTdGF0dXMuYXVkaW89IXIsaS5kYXRhUmVwb3J0Lm5ld1JlcG9ydChlLGMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvUGxheUNvbnRlbnRDaGFuZ2VkLmV2ZW50KSxpLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhlLHtzZXNzaW9uX2lkOmMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvUGxheUNvbnRlbnRDaGFuZ2VkLnNlc3Npb25faWQocy5wbGF5ZXIuc2Vzc2lvbklkKSx2aWRlb19hY3RpdmF0ZTpjLlplZ29SVENMb2dFdmVudC5rWmVnb1BsYXlDb250ZW50Q2hhbmdlZC52aWRlb19hY3RpdmF0ZShzLnBsYXllci5wbGF5TWVkaWFTdGF0dXMudmlkZW8/MTowKSxhdWRpb19hY3RpdmF0ZTpjLlplZ29SVENMb2dFdmVudC5rWmVnb1BsYXlDb250ZW50Q2hhbmdlZC5hdWRpb19hY3RpdmF0ZShzLnBsYXllci5wbGF5TWVkaWFTdGF0dXMuYXVkaW8/MTowKX0pLGkuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoZSksbyghMCl9KSwoZnVuY3Rpb24oKXtpLmxvZ2dlci5lcnJvcihcInpzYy5tcHMuMCBmYWlsXCIpLG4oITEpfSkpfWVsc2UgbighMSl9KSl9LHNldFN0cmVhbUF1ZGlvT3V0cHV0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4hKG51bGw9PXR8fDA9PXQubGVuZ3RofHwhZSkmJih0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5zc2FvLjAgZGV2aWNlIFwiK3QpLGU/XCJ1bmRlZmluZWRcIiE9PWUuc2lua0lkPyhlLnNldFNpbmtJZCh0KS50aGVuKChmdW5jdGlvbigpe3IubG9nZ2VyLmluZm8oXCJ6c2Muc3Nhby4wIHN1Y2Nlc3MgZGV2aWNlOiBcIit0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5sb2dnZXIuaW5mbyhcInpzYy5zc2FvLjAgXCIrZS5uYW1lKX0pKSwhMCk6KHRoaXMubG9nZ2VyLmVycm9yKFwienNjLnNzYW8uMCBicm93c2VyIGRvZXMgbm90IHN1cHBwb3J0XCIpLCExKToodGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2Muc3Nhby4wIG5vIGxvY2FsVmlkZW9cIiksITEpKX19LHQucHVibGlzaE1vZHVsZT17YWN0aXZhdGVTRUlJbnNlcnQ6ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPTApO3ZhciBpPXRoaXMuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyhlKTtyZXR1cm4gaT8wIT09dCYmMSE9PXQ/KHRoaXMubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLkFDVElWQVRFX1NFSV9JTlNFUlQrXCIgdmFsdWUgb2Yg4oCcYWN0aW9u4oCdIHNob3VsZCBiZSAwIG9yIDFcIiksITEpOihpLmFjdGl2YXRlc1NFSUNvbmZpZz17YWN0aW9uOnQsaW5mb1R5cGU6cn0sdGhpcy5zdHJlYW1DZW50ZXIuZ2V0UHVibGlzaExpc3QoZSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wdWJsaXNoZXJ9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5hY3RpdmF0ZVNFSUluc2VydCh0LHIpfSkpLCEwKToodGhpcy5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uQUNUSVZBVEVfU0VJX0lOU0VSVCtcIiBzdHJlYW0gaXMgbm90IGNyZWF0ZWRcIiksITEpfX0sdC5wdWJsaXNoZXI9e2FjdGl2YXRlU0VJSW5zZXJ0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7cmV0dXJuIHIuc2lnbmFsPyhyLnNpZ25hbCYmci5zaWduYWwuYWN0aXZhdGVTRUlJbnNlcnQoci5zdGF0ZUNlbnRlci5nZXRTZXEoKSxyLnNlc3Npb25JZCxyLnBlZXJJRCxlLHQsKGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj0hMTswPT09by5yZXN1bHQ/KHIubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uQUNUSVZBVEVfU0VJX0lOU0VSVCtcIiBjYWxsZWQgc3VjY2Vzc1wiKSxuPSEwKToxPT09by5yZXN1bHQ/KHIubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLkFDVElWQVRFX1NFSV9JTlNFUlQrXCIgXCIrby5wZWVyX2lkK1wiIGludmFsaWQgcGFyYW0uXCIpLG49ITEpOjI9PT1vLnJlc3VsdCYmKHIubG9nZ2VyLmVycm9yKHMuWkVHT19XRUJSVENfQUNUSU9OLkFDVElWQVRFX1NFSV9JTlNFUlQrXCIgcGVlciBub3QgZXhpc3RcIiksbj0hMSksaShuKX0pLChmdW5jdGlvbihlKXsxPT09ZSYmci5sb2dnZXIuZXJyb3Iocy5aRUdPX1dFQlJUQ19BQ1RJT04uQUNUSVZBVEVfU0VJX0lOU0VSVCtcIiByZXF1ZXN0IHRpbWVvdXRcIil9KSksITEpOmkoITEpfSkpfSxyZXBsYWNlUHVibGlzaGVkVHJhY2s6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpO3JldHVybiB2b2lkIDA9PT10JiYodD0hMSksbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG8scyxjLHUsbCxoLHAsZztyZXR1cm4gbih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiBzPW51bGw9PShvPXRoaXMucHJldmlld2VyKT92b2lkIDA6by52aWRlb0VmZmVjdCx1PW9bXCJcIi5jb25jYXQoYz1lLmtpbmQsXCJUcmFja1wiKV0sbD1udWxsPT09KGk9dGhpcy5wZWVyQ29ubmVjdGlvbil8fHZvaWQgMD09PWk/dm9pZCAwOmkuZ2V0U2VuZGVycygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2sua2luZD09PWN9KSksaD10aGlzLnN0YXRlQ2VudGVyLmJyb3dzZXIsdT8ocD0wLGc9MCxcInZpZGVvXCI9PT1jPyhwPWQodD91OmUsaCksZz10aGlzLm1pY19zdGF0dXMpOlwiYXVkaW9cIj09PWMmJihnPWQoZSxoKSxwPXRoaXMuY2FtZXJhX3N0YXR1cyksWzQsby5yZXBsYWNlUHJldmlld1RyYWNrKGUsdCxyKV0pOlszLDJdO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksbD8obC5mb3JFYWNoKChmdW5jdGlvbihyLGkpe1wiYXVkaW9cIiE9PWMmJiF0JiYobnVsbD09cz92b2lkIDA6cy5lbmFibGVkKXx8KFwidmlkZW9cIj09YyYmby5sb3dTdHJlYW0mJmwubGVuZ3RoPjEmJjA9PWk/ci5yZXBsYWNlVHJhY2soby5sb3dTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXSk6XCJhdWRpb1wiPT09YyYmby5hdWRpb05vZGVRdWV1ZXx8ci5yZXBsYWNlVHJhY2soZSkpfSkpLHRoaXMuc2VuZFN0cmVhbVN0YXR1cyhwLGcpKTp0aGlzLmxvZ2dlci5pbmZvKFwiemMucnQuMSByZXBsYWNlIHJlbW90ZSB0cmFjayB3aWxsIHdvcmsgYWZ0ZXIgc3RyZWFtIHB1Ymxpc2hlZFwiKSx0aGlzLmxvZ2dlci5pbmZvKFwiemMucnQuMSByZXBsYWNlIHJlbW90ZSB0cmFjayBzdWNjZXNzXCIpLFsyLHtlcnJvckNvZGU6MCxleHRlbmRlZERhdGE6XCJcIn1dO2Nhc2UgMjpyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5ydC4xIHB1Ymxpc2hlciB0cmFjayBubyBmb3VuZFwiKSxbMix7ZXJyb3JDb2RlOmEuZXJyb3JDb2RlTGlzdC5UUkFDS19OT1RfRk9VTkQuY29kZSxleHRlbmRlZERhdGE6YS5lcnJvckNvZGVMaXN0LlRSQUNLX05PVF9GT1VORC5tZXNzYWdlfV19fSkpfSkpfX0sdC5zaWduYWw9e2FjdGl2YXRlU0VJSW5zZXJ0OmZ1bmN0aW9uKGUsdCxyLGksbyxuLGEpe3RoaXMubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uQUNUSVZBVEVfU0VJX0lOU0VSVCtcIiBjYWxsIFwiK3QpO3RoaXMuc2VuZE1lc3NhZ2VXaXRoQ2FsbGJhY2soXCJBY3RpdmF0ZVNFSUluc2VydFJlcVwiLGUsdCx7cGVlcl9pZDpyLGFjdGlvbjppLGluZm9fdHlwZTpvfSxuLGEpfX19LDY4ODc6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmVycm9yQ29kZUxpc3Q9dm9pZCAwLHQuZXJyb3JDb2RlTGlzdD17Tk9UX0xPR0lOOntjb2RlOjEwMDAwMDIsbWVzc2FnZTpcIm5vdCBsb2dpbiByb29tXCJ9LElOUFVUX1BBUkFNOntjb2RlOjExMDAwMDEsbWVzc2FnZTpcImlucHV0IHBhcmFtIGVycm9yLlwifSxQVUJMSVNIX05PVF9QVUJMSVNIOntjb2RlOjExMDMwNDAsbWVzc2FnZTpcInB1Ymxpc2hlciBub3QgZm91bmRcIn0sUFVCTElTSF9OT19QUkVWSUVXOntjb2RlOjExMDMwNDQsbWVzc2FnZTpcInN0cmVhbSBpcyBub3QgZnJvbSB6ZWdvXCJ9LFRSQUNLX05PVF9GT1VORDp7Y29kZToxMTAzMDQ3LG1lc3NhZ2U6XCJ0cmFjayBpcyBub3QgZm91bmRcIn0sREVWSUNFX05PVF9GT1VORDp7Y29kZToxMTAzMDQ4LG1lc3NhZ2U6XCJkZXZpY2UgaXMgbm90IGZvdW5kXCJ9LFBVQkxJU0hFUl9DT05TVFJBSU5UU19FUlJPUjp7Y29kZToxMTAzMDI5LG1lc3NhZ2U6XCJjb25zdHJhaW50IGVycm9yXCJ9LFBVQkxJU0hFUl9DRE5fUFVTSF9FUlJPUjp7Y29kZToxMTAzMDUyLG1lc3NhZ2U6XCJwdWJsaXNoZXIgY2RuIHB1c2ggZXJyb3JcIn0sVklERU9fREVWSUNFX0ZBTFNFOntjb2RlOjExMDMwNDUsbWVzc2FnZTpcInZpZGVvIGlzIGZhbHNlXCJ9LEFVRElPX0RFVklDRV9GQUxTRTp7Y29kZToxMTAzMDQ2LG1lc3NhZ2U6XCJhdWRpbyBpcyBmYWxzZVwifSxVTktOT1dOX1NFUlZFUl9FUlJPUjp7Y29kZToxMTAwOTk5LG1lc3NhZ2U6XCJ1bmtub3duIHNlcnZlciBlcnJvclwifSxMT0NBTFNUUkVBTV9XUk9ORzp7Y29kZToxMDAwMDE4LG1lc3NhZ2U6XCJsb2NhbCBzdHJlYW0gd3JvbmdcIn0sUFVCTElTSEVSX1NUUkVBTV9OT19GT1VORDp7Y29kZToxMTAzMDU1LG1lc3NhZ2U6XCJwdWJsaXNoIHN0cmVhbSBubyBmb3VuZFwifSxQVUJMSVNIX1RBUkdFVF9OT19SRVNQT05TRTp7Y29kZToxMTAzMDYzLG1lc3NhZ2U6XCJwdWJsaXNoIHRhcmdldCBubyByZXNwb25zZVwifSxCSVpfQ0hBTk5FTF9FUlJPUjp7Y29kZToxMTAyMDIxLG1lc3NhZ2U6XCJiaXogY2hhbm5lbCBlcnJvci5cIn0sSU5WQUxJRF9DSEFOTkVMOntjb2RlOjExMDIwMjQsbWVzc2FnZTpcImludmFsaWQgY2hhbm5lbFwifSxQVUJMSVNIRVJfRVhUUkFfSU5GT19OVUxMOntjb2RlOjEwMDMwNTAsbWVzc2FnZTpcImV4dHJhIGluZm8gb2YgcHVibGlzaGluZyBzdHJlYW0gaXMgbnVsbFwifSxQVUJMSVNIRVJfVVBEQVRFX1NUUkVBTV9JTkZPX0ZBSUw6e2NvZGU6MTEwMzA2MixtZXNzYWdlOlwidXBkYXRlIHN0cmVhbSBpbmZvIGZhaWxcIn0sVFJBQ0tfQ0FOX05PVF9BREQ6e2NvZGU6MTEwMzA2MyxtZXNzYWdlOlwib25seSBzdHJlYW0gd2hpY2ggaGF2ZSBvbmUgdHJhY2sgYW5kIGtpbmQgbm8gZXhpc3QgY2FuIGFkZCB0cmFja1wifSxUUkFDS19DQU5fTk9UX1JFTU9WRTp7Y29kZToxMTAzMDY0LG1lc3NhZ2U6XCJzdHJlYW0gd2hpY2ggb25seSBoYXMgb25lIHRyYWNrIGNhbiBub3QgcmVtb3ZlIFwifSxQVUJMSVNIRVJfVVBEQVRFX1NEUF9GQUlMOntjb2RlOjExMDMwNjgsbWVzc2FnZTpcInVwZGF0ZSBzZHAgZmFpbFwifSxQVUJMSVNIRVJfU1RBVEVfV1JPTkc6e2NvZGU6MTEwMzA2OSxtZXNzYWdlOlwicHVibGlzaGVyIHN0YXRlIHdyb25nXCJ9LEhBTkRMRV9UUkFDS19OT1RfU1VQUE9SVEVEOntjb2RlOjExMDMwNzAsbWVzc2FnZTpcIm5vdCBzdXBwb3J0IHJlbW92ZSB0cmFja1wifSxWSURFT19FRkZFQ1RfSVNfUlVOTklORzp7Y29kZToxMTAzMDcxLG1lc3NhZ2U6XCJ2aWRlbyBlZmZlY3QgcHJvY2Vzc29yIGlzIHJ1bm5pbmdcIn19fSw4MTQzOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1yKDY0ODUpLG89cigyMTkzKTt0LmRlZmF1bHQ9e3R5cGU6XCJBZHZhbmNlXCIsaW5zdGFsbDpmdW5jdGlvbihlLHQscixuLHMsYSxjLHUpe2Zvcih2YXIgZCBpbiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbml0QWR2YW5jZVwiLHt2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYWR2YW5jZWRNb2R1bGU9bmV3IGkuQWR2YW5jZWRNb2R1bGUodGhpcy5sb2dnZXIsdGhpcy5kYXRhUmVwb3J0LHRoaXMuc3RyZWFtQ2VudGVyLHRoaXMuc3RhdGVDZW50ZXIpfSx3cml0YWJsZTohMX0pLG8uemVnb1dlYlJUQylPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsZCx7dmFsdWU6by56ZWdvV2ViUlRDW2RdLHdyaXRhYmxlOiExfSk7Zm9yKHZhciBkIGluIG8uc3RyZWFtSGFuZGxlcilPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsZCx7dmFsdWU6by5zdHJlYW1IYW5kbGVyW2RdLHdyaXRhYmxlOiExfSk7Zm9yKHZhciBkIGluIG8ucHJldmlldylPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsZCx7dmFsdWU6by5wcmV2aWV3W2RdLHdyaXRhYmxlOiExfSk7Zm9yKHZhciBkIGluIG8ucGxheU1vZHVsZSlPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsZCx7dmFsdWU6by5wbGF5TW9kdWxlW2RdLHdyaXRhYmxlOiExfSk7Zm9yKHZhciBkIGluIG8ucHVibGlzaE1vZHVsZSlPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5wcm90b3R5cGUsZCx7dmFsdWU6by5wdWJsaXNoTW9kdWxlW2RdLHdyaXRhYmxlOiExfSk7Zm9yKHZhciBkIGluIG8ucHVibGlzaGVyKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLnByb3RvdHlwZSxkLHt2YWx1ZTpvLnB1Ymxpc2hlcltkXSx3cml0YWJsZTohMX0pO2Zvcih2YXIgZCBpbiBvLnNpZ25hbClPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsZCx7dmFsdWU6by5zaWduYWxbZF0sd3JpdGFibGU6ITF9KX19fSwzNjQ5OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlplZ29SVENMb2dFdmVudD12b2lkIDA7dmFyIGk9cig2ODg3KSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlfTt0LlplZ29SVENMb2dFdmVudD17a1plZ29TZXRWaWRlb0NvbmZpZzp7ZXZlbnQ6XCIvc2RrL3NldF92aWRlb19jb25maWdcIixlcnJvcjp7a1BhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNLGtMb2NhbFN0cmVhbUVycm9yOmkuZXJyb3JDb2RlTGlzdC5MT0NBTFNUUkVBTV9XUk9OR319LGtaZWdvU2V0QXVkaW9Db25maWc6e2V2ZW50OlwiL3Nkay9zZXRfYXVkaW9fY29uZmlnXCIsZXJyb3I6e2tQYXJhbUVycm9yOmkuZXJyb3JDb2RlTGlzdC5JTlBVVF9QQVJBTX19LGtaZWdvUmVwbGFjZVRyYWNrOntldmVudDpcIi9zZGsvcmVwbGFjZV90cmFja1wiLGVycm9yOntrUGFyYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuSU5QVVRfUEFSQU19fSxrWmVnb1Rhc2tVc2VWaWRlb0RldmljZTp7ZXZlbnQ6XCIvZGV2aWNlL2FwaS92aWRlb19jXCIsZXJyb3I6e2tQYXJhbUVycm9yOmkuZXJyb3JDb2RlTGlzdC5JTlBVVF9QQVJBTSxrRGV2aWNlc05vRm91bmRFcnJvcjppLmVycm9yQ29kZUxpc3QuREVWSUNFX05PVF9GT1VORCxrTG9jYWxTdHJlYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuTE9DQUxTVFJFQU1fV1JPTkd9LGRldmljZTpvfSxrWmVnb1Rhc2tVc2VBdWRpb0RldmljZTp7ZXZlbnQ6XCIvZGV2aWNlL2FwaS9hdWRpb19jXCIsZXJyb3I6e2tQYXJhbUVycm9yOmkuZXJyb3JDb2RlTGlzdC5JTlBVVF9QQVJBTSxrRGV2aWNlc05vRm91bmRFcnJvcjppLmVycm9yQ29kZUxpc3QuREVWSUNFX05PVF9GT1VORCxrTG9jYWxTdHJlYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuTE9DQUxTVFJFQU1fV1JPTkd9LGRldmljZTpvfSxrWmVnb1BsYXlDb250ZW50Q2hhbmdlZDp7ZXZlbnQ6XCIvc2RrL3BsYXlfY29udGVudF9jaGFuZ2VkXCIsc2Vzc2lvbl9pZDpvLHZpZGVvX2FjdGl2YXRlOm8sYXVkaW9fYWN0aXZhdGU6b30sa1plZ29UYXNrTXV0ZVB1Ymxpc2hWaWRlbzpcIi9zZGsvbXV0ZV9wdWJsaXNoX3ZpZGVvXCIsa1plZ29UYXNrTXV0ZVB1Ymxpc2hBdWRpbzpcIi9zZGsvbXV0ZV9wdWJsaXNoX2F1ZGlvXCIsa1plZ29UYXNrTXV0ZU1pY3JvcGhvbmU6XCIvc2RrL211dGVfbWljcm9waG9uZVwiLGtaZWdvVGFza011dGVQbGF5VmlkZW86XCIvc2RrL211dGVfcGxheV92aWRlb1wiLGtaZWdvVGFza011dGVQbGF5QXVkaW86XCIvc2RrL211dGVfcGxheV9hdWRpb1wifX0sMzY1NjpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTWVkaWFVdGlsPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgcj10LnR5cGUsaT10LmNoYW5uZWxzLG89dm9pZCAwPT09aT8xOmksbj10LmJ1ZmZlclNpemUscz12b2lkIDA9PT1uPzA6bixhPXQuc2FtcGxlQml0LGM9dm9pZCAwPT09YT8xNjphLHU9dC5zYW1wbGVSYXRlLGQ9dm9pZCAwPT09dT80NDEwMDp1LGw9dGhpczt0aGlzLmluc3RhbnQ9MCx0aGlzLnNsb3c9MCx0aGlzLmNsaXA9MCx0aGlzLmNvbnRleHQ9ZSx0aGlzLnR5cGU9cix0aGlzLmNoYW5uZWxzPW8sdGhpcy5idWZmZXJTaXplPXMsdGhpcy5zYW1wbGVCaXQ9Yyx0aGlzLnNhbXBsZVJhdGU9ZCx0aGlzLnNjcmlwdD1lLmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihzLG8sbyk7KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5zY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcihcImF1ZGlvcHJvY2Vzc1wiLChmdW5jdGlvbihlKXt2YXIgdCxpPWUuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCksbz0wLG49MDtmb3IodD0wO3Q8aS5sZW5ndGg7Kyt0KW8rPWlbdF0qaVt0XSxNYXRoLmFicyhpW3RdKT4uOTkmJihuKz0xKTtpZihsLmluc3RhbnQ9TWF0aC5zcXJ0KG8vaS5sZW5ndGgpLGwuc2xvdz0uOTUqbC5zbG93Ky4wNSpsLmluc3RhbnQsbC5jbGlwPW4vaS5sZW5ndGgsXCJwY21cIj09PXJ8fFwid2F2XCI9PT1yKXtmb3IodmFyIHM9W10sYT0wO2E8bC5jaGFubmVsczthKyspcy5wdXNoKGUuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoYSkpO2wucmVjb3JkZXJCdWZmZXIocyl9fSkpLFwicGNtXCIhPT1yJiZcIndhdlwiIT09cnx8dGhpcy5pbml0UmVjb3JkZXJCdWZmZXIocil9cmV0dXJuIGUucHJvdG90eXBlLmNvbm5lY3RUb1NvdXJjZT1mdW5jdGlvbihlLHQpe3RyeXt0aGlzLm1pYz10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoZSksdGhpcy5taWMuY29ubmVjdCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHZvaWQgMCE9PXQmJnQobnVsbCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKSx2b2lkIDAhPT10JiZ0KGUpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5yZWNvcmRlckJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDpcInJlY29yZFwiLHZhbDplfSl9LGUucHJvdG90eXBlLmluaXRSZWNvcmRlckJ1ZmZlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMud29ya2VyPXRoaXMuaW5saW5lV29ya2VyKChmdW5jdGlvbigpe3ZhciBlLHQscixpLG8sbixzPVtdO2Z1bmN0aW9uIGEoZSx0LHIpe2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrLHQrPTIpe3ZhciBvPU1hdGgubWF4KC0xLE1hdGgubWluKDEscltpXSkpO2Uuc2V0SW50MTYodCxvPDA/MzI3NjgqbzozMjc2NypvLCEwKX19ZnVuY3Rpb24gYyhlLHQscil7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyssdCsrKXt2YXIgbz1NYXRoLm1heCgtMSxNYXRoLm1pbigxLHJbaV0pKSxuPW88MD8xMjgqbzoxMjcqbztlLnNldEludDgodCxuKz0xMjgpfX1mdW5jdGlvbiB1KGUsdCxyKXtmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKyllLnNldFVpbnQ4KHQraSxyLmNoYXJDb2RlQXQoaSkpfWZ1bmN0aW9uIGQoZSx0KXtmb3IodmFyIHI9bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aC9lKSxpPTAsbz0wO2k8ci5sZW5ndGg7KXJbaV09dFtvXSxvKz1lLGkrKztyZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCxyKXtmb3IodmFyIGk9bmV3IEZsb2F0MzJBcnJheSh0KmUubGVuZ3RoKSxvPTAsbj0wO248clswXS5sZW5ndGg7bisrKWkuc2V0KHJbMF1bbl0sbyksbys9clswXVtuXS5sZW5ndGg7cmV0dXJuIGl9ZnVuY3Rpb24gaChlLHQpe2Zvcih2YXIgcj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoK3QubGVuZ3RoKSxpPTA7aTxlLmxlbmd0aCt0Lmxlbmd0aDtpKz0yKXJbaV09ZVtpLzI+PjBdLHJbaSsxXT10W2kvMj4+MF07cmV0dXJuIHJ9ZnVuY3Rpb24gcCh0KXt2YXIgcixpO2lmKDE9PWUpcj1sKHNbMF0sbyxzKSwxIT10JiYoaT1kKHQscikpO2Vsc2UgaWYoMj09ZSl7dmFyIG49bChzWzBdLG8scyksYT1sKHNbMV0sbyxzKTsxIT10P2k9aChkKHQsbiksZCh0LGEpKTpyPWgobixhKX1yZXR1cm4gMSE9dD9pOnJ9ZnVuY3Rpb24gZyhlKXt2YXIgcj1mdW5jdGlvbihlLHIpe3ZhciBpOzg9PXI/aT1lLmxlbmd0aDoxNj09ciYmKGk9ZS5sZW5ndGgsaSo9Mik7dmFyIG89bmV3IEFycmF5QnVmZmVyKGkpLG49bmV3IERhdGFWaWV3KG8pO3JldHVybiA4PT1yP2MobiwwLGUpOjE2PT10JiZhKG4sMCxlKSxufShwKGUpLHQpO3NlbGYucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6XCJleHBvcnRQY21MaXZlXCIsdmFsOnJ9KX1mdW5jdGlvbiBmKGkpe3ZhciBvPWZ1bmN0aW9uKGksbyl7dmFyIG47OD09bz9uPWkubGVuZ3RoOjE2PT10JiYobj1pLmxlbmd0aCxuKj0yKTt2YXIgcz1uZXcgQXJyYXlCdWZmZXIobis0NCksZD1uZXcgRGF0YVZpZXcocyksbD1yLGg9dCxwPWU7cmV0dXJuIHUoZCwwLFwiUklGRlwiKSxkLnNldFVpbnQzMig0LDM2K24sITApLHUoZCw4LFwiV0FWRVwiKSx1KGQsMTIsXCJmbXQgXCIpLGQuc2V0VWludDMyKDE2LDE2LCEwKSxkLnNldFVpbnQxNigyMCwxLCEwKSxkLnNldFVpbnQxNigyMixwLCEwKSxkLnNldFVpbnQzMigyNCxsLCEwKSxkLnNldFVpbnQzMigyOCxsKnAqKGgvOCksITApLGQuc2V0VWludDE2KDMyLHAqKGgvOCksITApLGQuc2V0VWludDE2KDM0LGgsITApLHUoZCwzNixcImRhdGFcIiksZC5zZXRVaW50MzIoNDAsbiwhMCksOD09dD9jKGQsNDQsaSk6MTY9PXQmJmEoZCw0NCxpKSxkfShwKGkpLHQpO3NlbGYucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6XCJleHBvcnRXYXZcIix2YWw6b30pfXRoaXMub25tZXNzYWdlPWZ1bmN0aW9uKGEpe3N3aXRjaChhLmRhdGEuY29tbWFuZCl7Y2FzZVwiaW5pdFwiOmU9KGM9YS5kYXRhLnZhbCkuc2FtcGxlQ2hhbm5lbCx0PWMuc2FtcGxlQml0LHI9Yy5zYW1wbGVSYXRlLGk9Yy5vbGRTYW1wbGVSYXRlLG89Yy5idWZmZXJTaXplLG49Yy50eXBlO2JyZWFrO2Nhc2VcInJlY29yZFwiOiFmdW5jdGlvbih0KXtmb3IodmFyIG89MDtvPGU7bysrKXNbb118fChzW29dPVtdKSxzW29dLnB1c2godFtvXSk7dmFyIGE9TWF0aC5yb3VuZChpL3IpO1wicGNtXCI9PT1uP2coYSk6XCJ3YXZcIj09PW4mJmYoYSkscz1bXX0oYS5kYXRhLnZhbCl9dmFyIGN9fSkpLHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtjb21tYW5kOlwiaW5pdFwiLHZhbDp7c2FtcGxlQ2hhbm5lbDp0aGlzLmNoYW5uZWxzLHNhbXBsZUJpdDp0aGlzLnNhbXBsZUJpdCxzYW1wbGVSYXRlOnRoaXMuc2FtcGxlUmF0ZSxvbGRTYW1wbGVSYXRlOnRoaXMuY29udGV4dC5zYW1wbGVSYXRlLGJ1ZmZlclNpemU6dGhpcy5idWZmZXJTaXplLHR5cGU6ZX19KSx0aGlzLndvcmtlci5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7c3dpdGNoKGUuZGF0YS5jb21tYW5kKXtjYXNlXCJleHBvcnRQY21MaXZlXCI6dC5vblJlY2VpdmVCdWZmZXIoZS5kYXRhLnZhbCk7YnJlYWs7Y2FzZVwiZXhwb3J0V2F2XCI6dC5vblJlY2VpdmVXYXYoZS5kYXRhLnZhbCl9fX0sZS5wcm90b3R5cGUub25SZWNlaXZlQnVmZmVyPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25SZWNlaXZlV2F2PWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUud3JpdGVTdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKWUuc2V0VWludDgodCtpLHIuY2hhckNvZGVBdChpKSl9LGUucHJvdG90eXBlLndyaXRlQnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGk9MDtpPHIuYnl0ZUxlbmd0aDtpKyspZS5zZXRVaW50OCh0K2kscltpXSl9LGUucHJvdG90eXBlLmNvbmNhdGVuYXRpb249ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj0wO3I8ZS5sZW5ndGg7KytyKXQrPWVbcl0uYnVmZmVyLmJ5dGVMZW5ndGg7dmFyIGk9bmV3IFVpbnQ4QXJyYXkodCksbz0wO2ZvcihyPTA7cjxlLmxlbmd0aDsrK3IpaS5zZXQobmV3IFVpbnQ4QXJyYXkoZVtyXS5idWZmZXIpLG8pLG8rPWVbcl0uYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIGl9LGUucHJvdG90eXBlLmVuY29kZVdhdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb25jYXRlbmF0aW9uKGUpLHI9dC5ieXRlTGVuZ3RoLGk9bmV3IEFycmF5QnVmZmVyKHIrNDQpLG89bmV3IERhdGFWaWV3KGkpLG49dGhpcy5zYW1wbGVSYXRlLHM9dGhpcy5zYW1wbGVCaXQsYT10aGlzLmNoYW5uZWxzO3JldHVybiB0aGlzLndyaXRlU3RyaW5nKG8sMCxcIlJJRkZcIiksby5zZXRVaW50MzIoNCwzNityLCEwKSx0aGlzLndyaXRlU3RyaW5nKG8sOCxcIldBVkVcIiksdGhpcy53cml0ZVN0cmluZyhvLDEyLFwiZm10IFwiKSxvLnNldFVpbnQzMigxNiwxNiwhMCksby5zZXRVaW50MTYoMjAsMSwhMCksby5zZXRVaW50MTYoMjIsYSwhMCksby5zZXRVaW50MzIoMjQsbiwhMCksby5zZXRVaW50MzIoMjgsbiphKihzLzgpLCEwKSxvLnNldFVpbnQxNigzMixhKihzLzgpLCEwKSxvLnNldFVpbnQxNigzNCxzLCEwKSx0aGlzLndyaXRlU3RyaW5nKG8sMzYsXCJkYXRhXCIpLG8uc2V0VWludDMyKDQwLHIsITApLHRoaXMud3JpdGVCdWZmZXIobyw0NCx0KSxvfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5taWMuZGlzY29ubmVjdCgpLHRoaXMuc2NyaXB0LmRpc2Nvbm5lY3QoKX0sZS5wcm90b3R5cGUuaW5saW5lV29ya2VyPWZ1bmN0aW9uKGUpe2lmKFdvcmtlciYmZSl7dmFyIHQ9ZS50b1N0cmluZygpLnRyaW0oKS5tYXRjaCgvXmZ1bmN0aW9uXFxzKlxcdypcXHMqXFwoW1xcd1xccyxdKlxcKVxccyp7KFtcXHdcXFddKj8pfSQvKVsxXSxyPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IHdpbmRvdy5CbG9iKFt0XSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSkpO3JldHVybiBuZXcgV29ya2VyKHIpfXJldHVybiBudWxsfSxlfSgpO3QuTWVkaWFVdGlsPXJ9LDU0MjM6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlpFR09fV0VCUlRDX0FDVElPTj12b2lkIDAsZnVuY3Rpb24oZSl7ZS5QUkVMT0FEX0VGRkVDVD1cInpjLnBlLjBcIixlLlBMQVlfRUZGRUNUPVwiemMucGUuMVwiLGUuUEFVU0VfRUZGRUNUPVwiemMucGUuMlwiLGUuUkVTVU1FX0VGRkVDVD1cInpjLnJlXCIsZS5TVE9QX0VGRkVDVD1cInpjLnNlXCIsZS5VTkxPQURfRUZGRUNUPVwiemMudWVcIixlLkFVRElPX0VGRkVDVF9QUk9DRVNTPVwiemMuYWVwXCIsZS5TRVRfRUZGRUNUX1ZPTFVNRT1cInpjLnNldlwiLGUuU1RBUlRfTUlYSU5HX0FVRElPPVwiemMuc21hLjBcIixlLlNUT1BfTUlYSU5HX0FVRElPPVwiemMuc21hLjFcIixlLk1JWElOR19CVUZGRVI9XCJ6Yy5tYlwiLGUuU1RPUF9NSVhJTkdfQlVGRkVSPVwiemMuc21iXCIsZS5QVUJMSVNIRVJfUExBWV9FRkZFQ1Q9XCJ6Yy5wLjAucGUuMFwiLGUuUFVCTElTSEVSX1BBVVNFX0VGRkVDVD1cInpjLnAuMC5wZS4xXCIsZS5QVUJMSVNIRVJfUkVTVU1FX0VGRkVDVD1cInpjLnAuMC5yZVwiLGUuUFVCTElTSEVSX1NUT1BfRUZGRUNUPVwiemMucC4wLnNlXCIsZS5QVUJMSVNIRVJfU1RBUlRfTUlYSU5HX0FVRElPPVwiemMucC4wLnNtYS4wXCIsZS5QVUJMSVNIRVJfU1RPUF9NSVhJTkdfQVVESU89XCJ6Yy5wLjAuc21hLjFcIixlLlNFVF9NSVhJTkdfQVVESU9fVk9MVU1FPVwiemMuc21hdlwiLGUuUFVCTElTSEVSX01JWElOR19CVUZGRVI9XCJ6Yy5wLjAubWJcIixlLlBVQkxJU0hFUl9TRVRfTUlYSU5HX0FVRElPX1ZPTFVNRT1cInpjLnAuMC5zbWF2XCJ9KHQuWkVHT19XRUJSVENfQUNUSU9OfHwodC5aRUdPX1dFQlJUQ19BQ1RJT049e30pKX0sODYwNjpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5BdWRpb0J1ZmZlclByb2Nlc3Nvcj12b2lkIDA7dmFyIGk9cig4ODkyKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLmxvZ2dlcj1lLHRoaXMuYWM9dCx0aGlzLmxvY2FsU3RyZWFtPXIsdGhpcy5ydGNWaWV3ZXI9aSx0aGlzLmF1ZGlvQnVmZmVyTGlzdD1bXSx0aGlzLnJlcGxhY2U9ITEsdGhpcy5lZmZlY3RFbmRlZENhbGxCYWNrPW51bGwsdGhpcy5lZmZlY3RFbmRlZExpc3RlbmVyPW51bGwsdGhpcy5zdGFydFRpbWVzPTAsdGhpcy5zdGFydE9mZnNldD0wLHRoaXMucGF1c2VUaW1lcz0wLHRoaXMucmVzdW1lT2Zmc2V0PTAsdGhpcy5wYXVzZWQ9ITEsdGhpcy5pc01peEF1ZGlvPSExLHRoaXMuaXNNaXhpbmdCdWZmZXI9ITEsdGhpcy5sb29wPSExfXJldHVybiBlLnByb3RvdHlwZS5wbGF5RWZmZWN0PWZ1bmN0aW9uKGUsdCxyLGksbyl7dmFyIG49dGhpczshMCE9PXRoaXMuaXNNaXhBdWRpbz90aGlzLmF1ZGlvQnVmZmVyPyh0aGlzLnN0YXJ0T2Zmc2V0PWV8fDAsdGhpcy5sb29wPXR8fCExLHRoaXMucmVwbGFjZT1yfHwhMSx0aGlzLmVmZmVjdEVuZGVkQ2FsbEJhY2s9byx0aGlzLm1peEVmZmVjdCh0aGlzLmF1ZGlvQnVmZmVyLChmdW5jdGlvbigpe24uYnVmZlNvdXJjZS5sb29wPSEhdCxlP24uYnVmZlNvdXJjZS5zdGFydCgwLGUvMWUzKTpuLmJ1ZmZTb3VyY2Uuc3RhcnQoMCksbi5zdGFydFRpbWVzPURhdGUubm93KCksbi5lZmZlY3RFbmRlZExpc3RlbmVyPW4uZWZmZWN0RW5kZWRIYW5kbGVyLmJpbmQobiksbi5idWZmU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4uZWZmZWN0RW5kZWRMaXN0ZW5lciksaSYmaSgpfSkpKTp0aGlzLmxvZ2dlci5lcnJvcihcImFtdS5wZS4xIG5vIGF1ZGlvIGJ1ZmZlciBmb3VuZFwiKTp0aGlzLmxvZ2dlci53YXJuKFwiYW11LnBlLjEgYXVkaW8gaXMgbWl4aW5nXCIpfSxlLnByb3RvdHlwZS5zdG9wTWl4aW5nQnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNNaXhpbmdCdWZmZXI9ITEsdGhpcy5zdG9wTWl4aW5nQXVkaW8oKX0sZS5wcm90b3R5cGUucGxheVJlYWxUaW1lRWZmZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5taXhFZmZlY3QoZSwoZnVuY3Rpb24oKXt0LmJ1ZmZTb3VyY2UmJnQuYnVmZlNvdXJjZS5zdGFydCgwKSx0LmJ1ZmZTb3VyY2UmJnQuYnVmZlNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwoZnVuY3Rpb24oKXt0LmF1ZGlvQnVmZmVyTGlzdC5zaGlmdCgpLHQuYXVkaW9CdWZmZXJMaXN0Lmxlbmd0aD4wJiZ0LmlzTWl4QXVkaW8mJnQucGxheVJlYWxUaW1lRWZmZWN0KHQuYXVkaW9CdWZmZXJMaXN0WzBdKX0pKX0pKX0sZS5wcm90b3R5cGUucGF1c2VFZmZlY3Q9ZnVuY3Rpb24oKXt0aGlzLmF1ZGlvQnVmZmVyTGlzdC5sZW5ndGg+MD90aGlzLmxvZ2dlci5lcnJvcihcImFtdS5wZS4wIHJlYWwgdGltZSBidWZmZXIgY2FuIG5vdCBiZSBwYXVzZWRcIik6KHRoaXMuc3RvcE1peGluZ0F1ZGlvKCEwKSx0aGlzLnJlc3VtZU9mZnNldD0odGhpcy5wYXVzZVRpbWVzLXRoaXMuc3RhcnRUaW1lcyt0aGlzLnN0YXJ0T2Zmc2V0KSUoMWUzKnRoaXMuYXVkaW9CdWZmZXIuZHVyYXRpb24pLHRoaXMucGF1c2VkPSEwKX0sZS5wcm90b3R5cGUucmVzdW1lRWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXVkaW9CdWZmZXJMaXN0Lmxlbmd0aD4wPyh0aGlzLmxvZ2dlci5lcnJvcihcImFtdS5wZS4wIHJlYWwgdGltZSBidWZmZXIgY2FuIG5vdCBiZSByZXN1bWVcIiksITEpOih0aGlzLnBsYXlFZmZlY3QodGhpcy5yZXN1bWVPZmZzZXQsdGhpcy5sb29wLHRoaXMucmVwbGFjZSx2b2lkIDAsdGhpcy5lZmZlY3RFbmRlZENhbGxCYWNrKSx0aGlzLnN0YXJ0T2Zmc2V0PXRoaXMucmVzdW1lT2Zmc2V0LHRoaXMucGF1c2VkPSExLCEwKX0sZS5wcm90b3R5cGUubWl4RWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2NhbFN0cmVhbT8odGhpcy5hYy5yZXN1bWUoKSx0aGlzLmdhaW5Ob2RlPXRoaXMuYWMuY3JlYXRlR2FpbigpLHRoaXMuYnVmZlNvdXJjZT10aGlzLmFjLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHRoaXMuYnVmZlNvdXJjZS5idWZmZXI9ZSx0aGlzLmJ1ZmZTb3VyY2UuY29ubmVjdCh0aGlzLmdhaW5Ob2RlKSx0aGlzLmdhaW5Ob2RlLmNvbm5lY3QodGhpcy5hYy5kZXN0aW5hdGlvbiksdGhpcy5yZXBsYWNlVHJhY2soKSYmdCgpKTp0aGlzLmxvZ2dlci5lcnJvcihcImFtdS5tZS4wIGxvY2FsU3RyZWFtIGNhbiBub3QgYmUgZm91bmRcIil9LGUucHJvdG90eXBlLnJlcGxhY2VUcmFjaz1mdW5jdGlvbigpe2lmKCF0aGlzLmRlc3RpbmF0aW9ufHwhdGhpcy5zdHJlYW1Tb3VyY2UpcmV0dXJuITE7IXRoaXMucmVwbGFjZSYmdGhpcy5zdHJlYW1Tb3VyY2UuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uKSx0aGlzLmdhaW5Ob2RlLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbik7dmFyIGU9dGhpcy5kZXN0aW5hdGlvbi5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtyZXR1cm4gdGhpcy5taWNUcmFjaz10aGlzLmxvY2FsU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0sdGhpcy5sb2NhbFN0cmVhbS5yZW1vdmVUcmFjayh0aGlzLm1pY1RyYWNrKSx0aGlzLmxvY2FsU3RyZWFtLmFkZFRyYWNrKGUpLHRoaXMucnRjVmlld2VyJiZ0aGlzLnJ0Y1ZpZXdlci5zZXRBdWRpbyhlKSx0aGlzLmlzTWl4QXVkaW89ITAsITB9LGUucHJvdG90eXBlLmVmZmVjdEVuZGVkSGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuc3RvcE1peGluZ0F1ZGlvKCksdGhpcy5lZmZlY3RFbmRlZENhbGxCYWNrJiZ0aGlzLmVmZmVjdEVuZGVkQ2FsbEJhY2soKSx0aGlzLmVmZmVjdEVuZGVkQ2FsbEJhY2s9bnVsbH0sZS5wcm90b3R5cGUuc3RvcE1peGluZ0F1ZGlvPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5wYXVzZWQ/KHRoaXMubG9nZ2VyLmluZm8oXCJhbXUuc21hLjEgYXVkaW9FZmZlY3QgaXMgcGF1c2VkXCIpLCFlJiZ0aGlzLmVmZmVjdEVuZGVkTGlzdGVuZXImJih0aGlzLmVmZmVjdEVuZGVkQ2FsbEJhY2smJnRoaXMuZWZmZWN0RW5kZWRDYWxsQmFjaygpLHRoaXMuZWZmZWN0RW5kZWRDYWxsQmFjaz1udWxsKSwhMCk6dGhpcy5pc01peEF1ZGlvP3RoaXMubG9jYWxTdHJlYW0/KHRoaXMuYnVmZlNvdXJjZSYmKHRoaXMuYnVmZlNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLmVmZmVjdEVuZGVkTGlzdGVuZXIpLHRoaXMuYnVmZlNvdXJjZS5zdG9wKCksdGhpcy5wYXVzZVRpbWVzPURhdGUubm93KCksdGhpcy5idWZmU291cmNlLmRpc2Nvbm5lY3QodGhpcy5nYWluTm9kZSksdGhpcy5idWZmU291cmNlPW51bGwpLHRoaXMuZ2Fpbk5vZGUuZGlzY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uKSx0aGlzLmdhaW5Ob2RlLmRpc2Nvbm5lY3QodGhpcy5hYy5kZXN0aW5hdGlvbiksdGhpcy5pc01peEF1ZGlvPSExLHRoaXMuYXVkaW9CdWZmZXJMaXN0PVtdLCFlJiZ0aGlzLmVmZmVjdEVuZGVkTGlzdGVuZXImJih0aGlzLmVmZmVjdEVuZGVkQ2FsbEJhY2smJnRoaXMuZWZmZWN0RW5kZWRDYWxsQmFjaygpLHRoaXMuZWZmZWN0RW5kZWRDYWxsQmFjaz1udWxsKSwhMCk6KHRoaXMubG9nZ2VyLmVycm9yKFwiYW11LnNtYS4xIGxvY2FsU3RyZWFtIGNhbiBub3QgYmUgZm91bmRcIiksITEpOih0aGlzLmxvZ2dlci53YXJuKFwiYW11LnNtYS4xIG5vIG1peGluZyBhdWRpbyBmb3VuZFwiKSwhMCl9LGUucHJvdG90eXBlLmdldFByb2Nlc3M9ZnVuY3Rpb24oKXt2YXIgZT1EYXRlLm5vdygpO3JldHVybiB0aGlzLnBhdXNlZCYmKGU9dGhpcy5wYXVzZVRpbWVzKSwoZS10aGlzLnN0YXJ0VGltZXMrdGhpcy5zdGFydE9mZnNldCklKDFlMyp0aGlzLmF1ZGlvQnVmZmVyLmR1cmF0aW9uKX0sZS5wcm90b3R5cGUuc2Vla1RvPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPTApLHRoaXMuc3RhcnRPZmZzZXQ9ZSx0aGlzLnBhdXNlZD90aGlzLnJlc3VtZU9mZnNldD1lOih0aGlzLnN0b3BNaXhpbmdBdWRpbyghMCksdGhpcy5wbGF5RWZmZWN0KGUsdGhpcy5sb29wLHRoaXMucmVwbGFjZSx2b2lkIDAsdGhpcy5lZmZlY3RFbmRlZENhbGxCYWNrKSl9LGUucHJvdG90eXBlLm1peGluZ0J1ZmZlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ITAhPT10aGlzLmlzTWl4QXVkaW98fDAhPXRoaXMuYXVkaW9CdWZmZXJMaXN0Lmxlbmd0aHx8MCE9dGhpcy5pc01peGluZ0J1ZmZlcj8odGhpcy5hYy5yZXN1bWUoKSx0aGlzLmFjLmRlY29kZUF1ZGlvRGF0YShlLChmdW5jdGlvbihlKXtyLmF1ZGlvQnVmZmVyTGlzdC5wdXNoKGUpLDE9PXIuYXVkaW9CdWZmZXJMaXN0Lmxlbmd0aCYmci5wbGF5UmVhbFRpbWVFZmZlY3Qoci5hdWRpb0J1ZmZlckxpc3RbMF0pLHIuaXNNaXhpbmdCdWZmZXI9ITAsdCYmdCgpfSksKGZ1bmN0aW9uKGUpe3IubG9nZ2VyLmVycm9yKFwiYW11Lm1iLjAgXCIrZSksdCYmdCh7Y29kZTppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX0RFQ09ERV9BVURJT19GQUlMLmNvZGUsbWVzc2FnZTppLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX0RFQ09ERV9BVURJT19GQUlMLm1lc3NhZ2UrXCIgXCIrZX0pfSkpKTp0aGlzLmxvZ2dlci5lcnJvcihcImFtdS5tYi4wIGF1ZGlvIGlzIG1peGluZ1wiKX0sZS5wcm90b3R5cGUuc2V0TWl4aW5nQXVkaW9Wb2x1bWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2Fpbk5vZGU/KHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT1lLCEwKToodGhpcy5sb2dnZXIuZXJyb3IoXCJhbXUuc21hLjIgbm8gbWl4aW5nIGF1ZGlvIGZvdW5kXCIpLCExKX0sZX0oKTt0LkF1ZGlvQnVmZmVyUHJvY2Vzc29yPW99LDY2MjQ6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkF1ZGlvTWl4PXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxvLG4pe3RoaXMubG9nZ2VyPWUsdGhpcy5hYz10LHRoaXMubG9jYWxTdHJlYW09cix0aGlzLm1lZGlhRWxlU291cmNlcz1pLHRoaXMuYnJvd3Nlcj1vLHRoaXMucnRjVmlld2VyPW4sdGhpcy5yZXBsYWNlPSExLHRoaXMuaXNNaXhBdWRpbz0hMSx0aGlzLmF1ZGlvQ3VycmVudFRpbWVyPW51bGwsdGhpcy5hdWRpb1Jlc3VtZWRUaW1lcj1udWxsfXJldHVybiBlLnByb3RvdHlwZS5zdGFydE1peGluZ0F1ZGlvPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5yZXBsYWNlPXR8fCExLHRoaXMuaXNNaXhBdWRpbylyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJhbXUuc21hLjAgYXVkaW8gaXMgbWl4aW5nXCIpLCExO2lmKCF0aGlzLmxvY2FsU3RyZWFtKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcImFtdS5zbWEuMCBsb2NhbFN0cmVhbSBjYW4gbm90IGJlIGZvdW5kXCIpLCExO2lmKGUuY2FwdHVyZVN0cmVhbT1lLmNhcHR1cmVTdHJlYW18fGUubW96Q2FwdHVyZVN0cmVhbXx8ZS53ZWJraXRDYXB0dXJlU3RyZWFtLHRoaXMuYWMucmVzdW1lKCksdGhpcy5nYWluTm9kZT10aGlzLmFjLmNyZWF0ZUdhaW4oKSxcInNhZmFyaVwiPT09dGhpcy5icm93c2VyKXt2YXIgcj10aGlzLm1lZGlhRWxlU291cmNlcy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdWRpbz09PWV9KSk7aWYocil0aGlzLmF1ZGlvTm9kZT1yLm5vZGU7ZWxzZXt2YXIgaT10aGlzLmFjLmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShlKTt0aGlzLmF1ZGlvTm9kZT1pLHRoaXMubWVkaWFFbGVTb3VyY2VzLnB1c2goe2F1ZGlvOmUsbm9kZTppfSl9dGhpcy5nZXRCcm93c2VySW5mbygpO3RoaXMuYXVkaW9SZXN1bWVkVGltZXI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5jdXJyZW50VGltZT1lLmN1cnJlbnRUaW1lKy40NX0pLDZlMyl9ZWxzZSB0aGlzLmF1ZGlvTm9kZT10aGlzLmFjLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUuY2FwdHVyZVN0cmVhbSgpKTtyZXR1cm4gdGhpcy5hdWRpb05vZGUuY29ubmVjdCh0aGlzLmdhaW5Ob2RlKSx0aGlzLnJlcGxhY2VUcmFjaygpfSxlLnByb3RvdHlwZS5nZXRCcm93c2VySW5mbz1mdW5jdGlvbigpe3ZhciBlLHQ9e30scj1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7ZT0oci5tYXRjaCgveCBbXFxkLl9dKy9naSkrXCJcIikucmVwbGFjZSgvW14wLTl8Xy5dL2dpLFwiXCIpLnJlcGxhY2UoL18vZ2ksXCIuXCIpLHQuc3lzVmVyPWU7dmFyIGk9ci5tYXRjaCgvKG1zaWV8ZmlyZWZveHxjaHJvbWV8b3BlcmF8dmVyc2lvbikuKj8oW1xcZC5dKykvKTtyZXR1cm4gaSYmKHQuYnJvd3Nlcj1pWzFdLnJlcGxhY2UoL3ZlcnNpb24vLFwiJ3NhZmFyaVwiKSx0LnZlcj1pWzJdKSx0fSxlLnByb3RvdHlwZS5yZXBsYWNlVHJhY2s9ZnVuY3Rpb24oKXtpZighdGhpcy5kZXN0aW5hdGlvbnx8IXRoaXMuc3RyZWFtU291cmNlKXJldHVybiExOyF0aGlzLnJlcGxhY2UmJnRoaXMuc3RyZWFtU291cmNlLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbiksdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb24pO3ZhciBlPXRoaXMuZGVzdGluYXRpb24uc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07cmV0dXJuIHRoaXMubWljVHJhY2s9dGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLHRoaXMubG9jYWxTdHJlYW0ucmVtb3ZlVHJhY2sodGhpcy5taWNUcmFjayksdGhpcy5sb2NhbFN0cmVhbS5hZGRUcmFjayhlKSx0aGlzLnJ0Y1ZpZXdlciYmdGhpcy5ydGNWaWV3ZXIuc2V0QXVkaW8oZSksdGhpcy5pc01peEF1ZGlvPSEwLCEwfSxlLnByb3RvdHlwZS5zdG9wTWl4aW5nQXVkaW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc01peEF1ZGlvP3RoaXMubG9jYWxTdHJlYW0/KHRoaXMuYXVkaW9Ob2RlJiYodGhpcy5hdWRpb05vZGUuZGlzY29ubmVjdCh0aGlzLmdhaW5Ob2RlKSx0aGlzLmF1ZGlvTm9kZT1udWxsLHRoaXMuYXVkaW9DdXJyZW50VGltZXImJihjbGVhckludGVydmFsKHRoaXMuYXVkaW9DdXJyZW50VGltZXIpLHRoaXMuYXVkaW9DdXJyZW50VGltZXI9bnVsbCksdGhpcy5hdWRpb1Jlc3VtZWRUaW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy5hdWRpb1Jlc3VtZWRUaW1lciksdGhpcy5hdWRpb1Jlc3VtZWRUaW1lcj1udWxsKSksdGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KHRoaXMuZGVzdGluYXRpb24pLHRoaXMuaXNNaXhBdWRpbz0hMSwhMCk6KHRoaXMubG9nZ2VyLmVycm9yKFwiYW11LnNtYS4xIGxvY2FsU3RyZWFtIGNhbiBub3QgYmUgZm91bmRcIiksITEpOih0aGlzLmxvZ2dlci53YXJuKFwiYW11LnNtYS4xIG5vIG1peGluZyBhdWRpbyBmb3VuZFwiKSwhMCl9LGUucHJvdG90eXBlLnNldE1peGluZ0F1ZGlvVm9sdW1lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdhaW5Ob2RlPyh0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWU9ZSwhMCk6KHRoaXMubG9nZ2VyLmVycm9yKFwiYW11LnNtYS4yIG5vIG1peGluZyBhdWRpbyBmb3VuZFwiKSwhMSl9LGV9KCk7dC5BdWRpb01peD1yfSw3MTA0OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sbil7ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxhKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LG89dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG8sbixzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBuPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYobltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxuO2Z1bmN0aW9uIGEobil7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihuKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxpJiYobz0yJm5bMF0/aS5yZXR1cm46blswXT9pLnRocm93fHwoKG89aS5yZXR1cm4pJiZvLmNhbGwoaSksMCk6aS5uZXh0KSYmIShvPW8uY2FsbChpLG5bMV0pKS5kb25lKXJldHVybiBvO3N3aXRjaChpPTAsbyYmKG49WzImblswXSxvLnZhbHVlXSksblswXSl7Y2FzZSAwOmNhc2UgMTpvPW47YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm5bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxpPW5bMV0sbj1bMF07Y29udGludWU7Y2FzZSA3Om49cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShvPXMudHJ5cywobz1vLmxlbmd0aD4wJiZvW28ubGVuZ3RoLTFdKXx8NiE9PW5bMF0mJjIhPT1uWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1uWzBdJiYoIW98fG5bMV0+b1swXSYmblsxXTxvWzNdKSl7cy5sYWJlbD1uWzFdO2JyZWFrfWlmKDY9PT1uWzBdJiZzLmxhYmVsPG9bMV0pe3MubGFiZWw9b1sxXSxvPW47YnJlYWt9aWYobyYmcy5sYWJlbDxvWzJdKXtzLmxhYmVsPW9bMl0scy5vcHMucHVzaChuKTticmVha31vWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bj10LmNhbGwoZSxzKX1jYXRjaChlKXtuPVs2LGVdLGk9MH1maW5hbGx5e3I9bz0wfWlmKDUmblswXSl0aHJvdyBuWzFdO3JldHVybnt2YWx1ZTpuWzBdP25bMV06dm9pZCAwLGRvbmU6ITB9fShbbixhXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5BdWRpb01peE1vZHVsZT12b2lkIDA7dmFyIG49cig1NDIzKSxzPXIoNDMyMSksYT1yKDE4MzApLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbyl7dGhpcy5sb2dnZXI9ZSx0aGlzLmRhdGFSZXBvcnQ9dCx0aGlzLnN0YXRlQ2VudGVyPXIsdGhpcy5zdHJlYW1DZW50ZXI9aSx0aGlzLmFjPW8sdGhpcy5idWZmZXI9bnVsbCx0aGlzLmJsYW5rPW51bGwsXCJzYWZhcmlcIj09dGhpcy5zdGF0ZUNlbnRlci5icm93c2VyJiZudWxsPT10aGlzLmJsYW5rJiZudWxsPT10aGlzLmJ1ZmZlciYmKHRoaXMuYWMucmVzdW1lKCksdGhpcy5idWZmZXI9dGhpcy5hYy5jcmVhdGVCdWZmZXIoMSwxLHRoaXMuYWMuc2FtcGxlUmF0ZSksdGhpcy5ibGFuaz10aGlzLmFjLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHRoaXMuYmxhbmsuYnVmZmVyPXRoaXMuYnVmZmVyLHRoaXMuYmxhbmsuY29ubmVjdCh0aGlzLmFjLmRlc3RpbmF0aW9uKSx0aGlzLmJsYW5rLnN0YXJ0KCkpfXJldHVybiBlLnByb3RvdHlwZS5wcmVsb2FkRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLmNoZWNrUHJldmlld2VyKG4uWkVHT19XRUJSVENfQUNUSU9OLlBSRUxPQURfRUZGRUNULHtlZmZlY3RJRDplfSx7ZWZmZWN0SUQ6ITB9KSlpZih0JiZcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYodGhpcy5zdGF0ZUNlbnRlci5hdWRpb0VmZmVjdEJ1ZmZlcltlXSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihuLlpFR09fV0VCUlRDX0FDVElPTi5QUkVMT0FEX0VGRkVDVCtcIiBhdWRpbyBidWZmZXIgYWxyZWFkeSBleGlzdHNcIiksdm9pZChyJiZyKCkpO3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uUFJFTE9BRF9FRkZFQ1QrXCIgc3RhcnQgcHJlbG9hZCBlZmZlY3RcIiksdGhpcy5fcHJlbG9hZEVmZmVjdCh0aGlzLmFjLGUsdCxyKX1lbHNlIHRoaXMubG9nZ2VyLmVycm9yKG4uWkVHT19XRUJSVENfQUNUSU9OLlBSRUxPQURfRUZGRUNUK1wiIHBhcmFtcyBlcnJvclwiKX0sZS5wcm90b3R5cGUuY2hlY2tQcmV2aWV3ZXI9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgaT0hIShudWxsPT1yP3ZvaWQgMDpyLmVmZmVjdElEKSxvPSEhKG51bGw9PXI/dm9pZCAwOnIucHJldmlld2VyKSxuPXQuZWZmZWN0SUQscz10LnN0cmVhbUlEO2lmKCghIShudWxsPT1yP3ZvaWQgMDpyLnN0cmVhbUlEKXx8cykmJlwic3RyaW5nXCIhPXR5cGVvZiBzJiYhKHMgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSkpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKGUrXCIgc3RyZWFtIHR5cGUgZXJyb3JcIiksITE7aWYoaSYmIW4pcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKGUrXCIgZWZmZWN0SUQgcmVxdWlyZWRcIiksITE7aWYobiYmXCJzdHJpbmdcIiE9dHlwZW9mIG4pcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKGUrXCIgZWZmZWN0SUQgdHlwZSBlcnJvclwiKSwhMTtpZihvKXt2YXIgYT10aGlzLnN0cmVhbUNlbnRlci5nZXRQcmV2aWV3ZXIocyk7cmV0dXJuIGF8fCh0aGlzLmxvZ2dlci5lcnJvcihcInN0cmluZ1wiPT10eXBlb2Ygcz9lK1wiIFwiK3MrXCIgc3RyZWFtIGlzIG5vdCBwdWJsaXNoaW5nXCI6ZStcIiBzdHJlYW0gZG9lc24ndCBleGlzdFwiKSwhMSl9cmV0dXJuITB9LGUucHJvdG90eXBlLmdldEVmZmVjdER1cmF0aW9uPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNoZWNrUHJldmlld2VyKG4uWkVHT19XRUJSVENfQUNUSU9OLkFVRElPX0VGRkVDVF9QUk9DRVNTLHtlZmZlY3RJRDplfSx7ZWZmZWN0SUQ6ITB9KSlyZXR1cm4gMDt2YXIgdD10aGlzLnN0YXRlQ2VudGVyLmF1ZGlvRWZmZWN0QnVmZmVyW2VdO3JldHVybiB0P3QuZHVyYXRpb24/TWF0aC5mbG9vcigxZTMqdC5kdXJhdGlvbik6MDoodGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uQVVESU9fRUZGRUNUX1BST0NFU1MrXCIgZWZmZWN0IG5vdCBmb3VuZFwiKSwwKX0sZS5wcm90b3R5cGUuZ2V0RWZmZWN0UHJvZ3Jlc3M9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmNoZWNrUHJldmlld2VyKG4uWkVHT19XRUJSVENfQUNUSU9OLkFVRElPX0VGRkVDVF9QUk9DRVNTLHtzdHJlYW1JRDplLGVmZmVjdElEOnR9LHtlZmZlY3RJRDohMCxzdHJlYW1JRDohMCxwcmV2aWV3ZXI6ITB9KTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHI/MDp0aGlzLmdldEF1ZGlvTWFuYWdlcihyKS5nZXRFZmZlY3RQcm9ncmVzcyh0KX0sZS5wcm90b3R5cGUuc2Vla0F1ZGlvRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtpZihyPDApcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKG4uWkVHT19XRUJSVENfQUNUSU9OLkFVRElPX0VGRkVDVF9QUk9DRVNTK1wiIHBhcmFtIHRpbWUgZXJyb3IgXCIpLCExO3ZhciBpPXRoaXMuY2hlY2tQcmV2aWV3ZXIobi5aRUdPX1dFQlJUQ19BQ1RJT04uQVVESU9fRUZGRUNUX1BST0NFU1Mse3N0cmVhbUlEOmUsZWZmZWN0SUQ6dH0se2VmZmVjdElEOiEwLHN0cmVhbUlEOiEwLHByZXZpZXdlcjohMH0pO3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgaSYmdGhpcy5nZXRBdWRpb01hbmFnZXIoaSkuc2Vla0F1ZGlvRWZmZWN0KHQscil9LGUucHJvdG90eXBlLnBsYXlFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxzLGEsYz10aGlzO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGk9ZS5wYXRoLHRoaXMuY2hlY2tQcmV2aWV3ZXIobi5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWV9FRkZFQ1Qse3N0cmVhbUlEOmUuc3RyZWFtfHxlLnN0cmVhbUlELGVmZmVjdElEOnM9ZS5lZmZlY3RJRH0se3N0cmVhbUlEOiEwLGVmZmVjdElEOiEwfSk/KGE9dGhpcy5zdGF0ZUNlbnRlci5hdWRpb0VmZmVjdEJ1ZmZlcltzXSxpP2E/KHRoaXMubG9nZ2VyLndhcm4obi5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWV9FRkZFQ1QrXCIgYXVkaW8gZWZmZWN0IGFscmVhZHkgZXhpc3RzXCIpLFszLDNdKTpbMywxXTpbMyw0XSk6WzJdO2Nhc2UgMTpyZXR1cm5bNCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtjLnByZWxvYWRFZmZlY3QocyxpLChmdW5jdGlvbihyKXtyPyhjLmxvZ2dlci5lcnJvcihuLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZX0VGRkVDVCtcIiBwcmVsb2FkIGF1ZGlvIGVmZmVjdCBmYWlsZWRcIiksdChyKSk6ZSh2b2lkIDApfSkpfSkpXTtjYXNlIDI6by5zZW50KCksby5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMyw1XTtjYXNlIDQ6aWYoIWEpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKG4uWkVHT19XRUJSVENfQUNUSU9OLlBMQVlfRUZGRUNUK1wiIGF1ZGlvIGVmZmVjdCBkb2Vzbid0IGV4aXN0c1wiKSxbMl07by5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gdGhpcy5fcGxheUVmZmVjdChlLHQsciksWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUucGF1c2VFZmZlY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGF1c2VFZmZlY3QoZSx0KX0sZS5wcm90b3R5cGUucmVzdW1lRWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3Jlc3VtZUVmZmVjdChlLHQpfSxlLnByb3RvdHlwZS5zdG9wRWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3N0b3BFZmZlY3QoZSx0KX0sZS5wcm90b3R5cGUudW5sb2FkRWZmZWN0PWZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy5jaGVja1ByZXZpZXdlcihuLlpFR09fV0VCUlRDX0FDVElPTi5VTkxPQURfRUZGRUNULHtlZmZlY3RJRDplfSx7ZWZmZWN0SUQ6ITB9KSYmKGRlbGV0ZSB0aGlzLnN0YXRlQ2VudGVyLmF1ZGlvRWZmZWN0QnVmZmVyW2VdLCEwKX0sZS5wcm90b3R5cGUuc2V0RWZmZWN0Vm9sdW1lPWZ1bmN0aW9uKGUsdCxyKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dDwwfHx0PjIwMClyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX0VGRkVDVF9WT0xVTUUrXCIgdm9sdW1lIG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAyMDBcIiksITE7dmFyIGk9dGhpcy5jaGVja1ByZXZpZXdlcihuLlpFR09fV0VCUlRDX0FDVElPTi5TRVRfRUZGRUNUX1ZPTFVNRSx7c3RyZWFtSUQ6ZSxlZmZlY3RJRDpyfSx7c3RyZWFtSUQ6ITAscHJldmlld2VyOiEwfSk7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZiBpJiZ0aGlzLmdldEF1ZGlvTWFuYWdlcihpKS5zZXRFZmZlY3RWb2x1bWUodC8xMDAscil9LGUucHJvdG90eXBlLnN0YXJ0TWl4aW5nQXVkaW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TVEFSVF9NSVhJTkdfQVVESU8rXCIgY2FsbCBcIitlKSxlP3Q/KHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfTUlYSU5HX0FVRElPK1wiIGVuZCBcIitlKSxBcnJheS5pc0FycmF5KHQpJiYwIT09dC5sZW5ndGgmJnQuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgSFRNTE1lZGlhRWxlbWVudH0pKT90aGlzLl9zdGFydE1peGluZ0F1ZGlvKGUsdCk6KHRoaXMubG9nZ2VyLmVycm9yKG4uWkVHT19XRUJSVENfQUNUSU9OLlNUQVJUX01JWElOR19BVURJTytcIiBhdWRpbyBsaXN0IHBhcmFtIHR5cGUgZXJyb3JcIiksITEpKToodGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfTUlYSU5HX0FVRElPK1wiIG5vIGF1ZGlvXCIpLCExKToodGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfTUlYSU5HX0FVRElPK1wiIHN0cmVhbSBub3QgZm91bmRcIiksITEpfSxlLnByb3RvdHlwZS5zdG9wTWl4aW5nQXVkaW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9BcnJheS5pc0FycmF5KHQpJiYwIT09dC5sZW5ndGh8fHZvaWQgMD09PXQ/dGhpcy5fc3RvcE1peGluZ0F1ZGlvKGUsdCk6KHRoaXMubG9nZ2VyLmVycm9yKG4uWkVHT19XRUJSVENfQUNUSU9OLlNUT1BfTUlYSU5HX0FVRElPK1wiIGF1ZGlvIHBhcmFtIHR5cGUgZXJyb3JcIiksITEpOih0aGlzLmxvZ2dlci5lcnJvcihuLlpFR09fV0VCUlRDX0FDVElPTi5TVE9QX01JWElOR19BVURJTytcIiBzdHJlYW0gbm90IGZvdW5kXCIpLCExKX0sZS5wcm90b3R5cGUubWl4aW5nQnVmZmVyPWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uTUlYSU5HX0JVRkZFUitcIiBjYWxsIHN0cmVhbUlEOiBcIitKU09OLnN0cmluZ2lmeShlKStcIiBzb3VyY2VJRDpcIit0KSxlP3QmJlwic3RyaW5nXCI9PXR5cGVvZiB0Pyh0aGlzLl9taXhpbmdCdWZmZXIoZSx0LHIsaSksdGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5NSVhJTkdfQlVGRkVSK1wiIGVuZFwiKSk6dGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uTUlYSU5HX0JVRkZFUitcIiBwYXJhbSBzb3VyY2UgaWQgZm9ybWF0IGVycm9yXCIpOnRoaXMubG9nZ2VyLmVycm9yKG4uWkVHT19XRUJSVENfQUNUSU9OLk1JWElOR19CVUZGRVIrXCIgcGFyYW0gc3RyZWFtaWQgZm9ybWF0IGVycm9yXCIpfSxlLnByb3RvdHlwZS5zdG9wTWl4aW5nQnVmZmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3N0b3BNaXhpbmdCdWZmZXIoZSx0KX0sZS5wcm90b3R5cGUuc2V0TWl4aW5nQXVkaW9Wb2x1bWU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNFVF9NSVhJTkdfQVVESU9fVk9MVU1FK1wiIGNhbGxcIiksZT9cIm51bWJlclwiIT10eXBlb2YgdHx8dDwwfHx0PjIwMD8odGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX01JWElOR19BVURJT19WT0xVTUUrXCIgdm9sdW1lIG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAyMDBcIiksITEpOnImJnIgaW5zdGFuY2VvZiBIVE1MTWVkaWFFbGVtZW50P3RoaXMuX3NldE1peGluZ0F1ZGlvVm9sdW1lKGUsdCxyKToodGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX01JWElOR19BVURJT19WT0xVTUUrXCIgbm8gYXVkaW9cIiksITEpOih0aGlzLmxvZ2dlci5lcnJvcihuLlpFR09fV0VCUlRDX0FDVElPTi5TRVRfTUlYSU5HX0FVRElPX1ZPTFVNRStcIiBzdHJlYW0gbm90IGZvdW5kXCIpLCExKX0sZS5wcm90b3R5cGUuZ2V0U291bmRMZXZlbD1mdW5jdGlvbihlLHQscil7dGhpcy5sb2dnZXIuaW5mbyhcInpjLmdzbCBjYWxsXCIpO3ZhciBpPXRoaXMuc3RhdGVDZW50ZXIuZ2V0UmVwb3J0U2VxKCk7dGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChpLHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0dldFNvdW5kTGV2ZWwuZXZlbnQpO3RyeXt0aGlzLmFjLnJlc3VtZSgpO3ZhciBvPXRoaXMuYWMuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoZSksbj10aGlzLmFjLmNyZWF0ZVNjcmlwdFByb2Nlc3Nvcig0MDk2LDEsMSk7dGhpcy5zdGF0ZUNlbnRlci5hdWRpb1N0cmVhbUxpc3RbZS5pZF09e21pYzpvLHNjcmlwdDpufSxvLmNvbm5lY3Qobiksbi5jb25uZWN0KHRoaXMuYWMuZGVzdGluYXRpb24pLG4ub25hdWRpb3Byb2Nlc3M9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPWUuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCksaT0wLG89MDtvPHIubGVuZ3RoO28rKylpPHJbb10mJihpPXJbb10pO3QoaSl9LHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoaSl9Y2F0Y2goZSl7cihlKSx0aGlzLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhpLHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0dldFNvdW5kTGV2ZWwuZXJyb3Iua0dldFNvdW5kTGV2ZWxFcnJvciksdGhpcy5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChpKX10aGlzLmxvZ2dlci5pbmZvKFwiemMuZ3NsIGNhbGwgc3VjY2Vzc1wiKX0sZS5wcm90b3R5cGUuc3RvcFNvdW5kTGV2ZWw9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhcInpjLnNzbCBjYWxsXCIpO3ZhciB0PXRoaXMuc3RhdGVDZW50ZXIuZ2V0UmVwb3J0U2VxKCk7dGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydCh0LHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1N0b3BTb3VuZExldmVsKTt2YXIgcj10aGlzLnN0YXRlQ2VudGVyLmF1ZGlvU3RyZWFtTGlzdFtlLmlkXTtyLm1pYy5kaXNjb25uZWN0KCksci5zY3JpcHQuZGlzY29ubmVjdCgpLGRlbGV0ZSB0aGlzLnN0YXRlQ2VudGVyLmF1ZGlvU3RyZWFtTGlzdFtlLmlkXSx0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHQpfSxlLnByb3RvdHlwZS5fcHJlbG9hZEVmZmVjdD1mdW5jdGlvbihlLHQscixpKXt2YXIgbz10aGlzLG49bmV3IFhNTEh0dHBSZXF1ZXN0O24ub3BlbihcIkdFVFwiLHIsITApLG4uc2V0UmVxdWVzdEhlYWRlcihcIlJhbmdlXCIsXCJub25lXCIpLG4ucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIixuLm9ubG9hZD1mdW5jdGlvbigpe2lmKDIwMD09bi5zdGF0dXN8fDMwND09bi5zdGF0dXMpe2UuZGVjb2RlQXVkaW9EYXRhKG4ucmVzcG9uc2UsKGZ1bmN0aW9uKGUpe28ubG9nZ2VyLmluZm8oXCJ6Yy5wZS4wIGVmZmVjdCAnXCIuY29uY2F0KHQsXCInIHByZWxvYWQgc3VjY2Vzc1wiKSksby5zdGF0ZUNlbnRlci5hdWRpb0VmZmVjdEJ1ZmZlclt0XT1lLGkmJmkoKX0pLChmdW5jdGlvbihlKXtvLmxvZ2dlci5lcnJvcihcInpjLnBlLjAgZWZmZWN0ICdcIi5jb25jYXQodCxcIicgcHJlbG9hZCBmYWlsLiBcIikrZSksaSYmaShlKX0pKX1lbHNle3ZhciByPW4uc3RhdHVzVGV4dDtvLmxvZ2dlci5lcnJvcihcInpjLnBlLjAgZWZmZWN0ICdcIi5jb25jYXQodCxcIicgcHJlbG9hZCBmYWlsLlwiKStyKSxpJiZpKHIpfX0sbi5zZW5kKCl9LGUucHJvdG90eXBlLl9wbGF5RWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnN0YXRlQ2VudGVyLmF1ZGlvRWZmZWN0QnVmZmVyW2UuZWZmZWN0SURdO2lmKGkpe3ZhciBvPXRoaXMuY2hlY2tQcmV2aWV3ZXIobi5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWV9FRkZFQ1Qse3N0cmVhbUlEOmUuc3RyZWFtfHxlLnN0cmVhbUlELGVmZmVjdElEOmUuZWZmZWN0SUR9LHtzdHJlYW1JRDohMCxlZmZlY3RJRDohMCxwcmV2aWV3ZXI6ITB9KTtcImJvb2xlYW5cIiE9dHlwZW9mIG8mJnRoaXMuZ2V0QXVkaW9NYW5hZ2VyKG8pLnBsYXlFZmZlY3QoZSxpLHQscil9ZWxzZSB0aGlzLmxvZ2dlci5lcnJvcihuLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZX0VGRkVDVCtcIiBubyBhdWRpbyBidWZmZXIgZm91bmRcIil9LGUucHJvdG90eXBlLl9wYXVzZUVmZmVjdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuY2hlY2tQcmV2aWV3ZXIobi5aRUdPX1dFQlJUQ19BQ1RJT04uUEFVU0VfRUZGRUNULHtzdHJlYW1JRDplLGVmZmVjdElEOnR9LHtzdHJlYW1JRDohMCxwcmV2aWV3ZXI6ITB9KTtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIHImJnRoaXMuZ2V0QXVkaW9NYW5hZ2VyKHIpLnBhdXNlRWZmZWN0KHQpfSxlLnByb3RvdHlwZS5fcmVzdW1lRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5jaGVja1ByZXZpZXdlcihuLlpFR09fV0VCUlRDX0FDVElPTi5SRVNVTUVfRUZGRUNULHtzdHJlYW1JRDplLGVmZmVjdElEOnR9LHtzdHJlYW1JRDohMCxwcmV2aWV3ZXI6ITB9KTtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIHImJnRoaXMuZ2V0QXVkaW9NYW5hZ2VyKHIpLnJlc3VtZUVmZmVjdCh0KX0sZS5wcm90b3R5cGUuX3N0b3BFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmNoZWNrUHJldmlld2VyKG4uWkVHT19XRUJSVENfQUNUSU9OLlNUT1BfRUZGRUNULHtzdHJlYW1JRDplLGVmZmVjdElEOnR9LHtzdHJlYW1JRDohMCxwcmV2aWV3ZXI6ITB9KTtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIHImJnRoaXMuZ2V0QXVkaW9NYW5hZ2VyKHIpLnN0b3BFZmZlY3QodCl9LGUucHJvdG90eXBlLl9zZXRNaXhpbmdBdWRpb1ZvbHVtZT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5zdHJlYW1DZW50ZXIuZ2V0UHJldmlld2VyKGUpO3JldHVybiBpP3RoaXMuZ2V0QXVkaW9NYW5hZ2VyKGkpLnNldE1peGluZ0F1ZGlvVm9sdW1lKHQvMTAwLHIpOih0aGlzLmxvZ2dlci5lcnJvcihcInpjLnNtYS4yIHB1Ymxpc2hlciBkb2Vzbid0IGV4aXN0XCIpLCExKX0sZS5wcm90b3R5cGUuX3N0YXJ0TWl4aW5nQXVkaW89ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnN0cmVhbUNlbnRlci5nZXRQcmV2aWV3ZXIoZSk7cmV0dXJuIHI/dGhpcy5nZXRBdWRpb01hbmFnZXIocikuc3RhcnRNaXhpbmdBdWRpbyh0KToodGhpcy5sb2dnZXIuZXJyb3IoXCJzdHJpbmdcIj09dHlwZW9mIGU/XCJ6Yy5zbWEuMCBcIitlK1wiIHN0cmVhbSBpcyBub3QgcHVibGlzaGluZ1wiOlwiemMuc21hLjAgc3RyZWFtIGRvZXNuJ3QgZXhpc3RcIiksITEpfSxlLnByb3RvdHlwZS5fc3RvcE1peGluZ0F1ZGlvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5zdHJlYW1DZW50ZXIuZ2V0UHJldmlld2VyKGUpO3JldHVybiByP3RoaXMuZ2V0QXVkaW9NYW5hZ2VyKHIpLnN0b3BNaXhpbmdBdWRpbyh0KToodGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5zbWEuMCBzdHJlYW0gZG9lc24ndCBleGlzdFwiKSwhMSl9LGUucHJvdG90eXBlLl9taXhpbmdCdWZmZXI9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG89dGhpcy5jaGVja1ByZXZpZXdlcihuLlpFR09fV0VCUlRDX0FDVElPTi5TVE9QX01JWElOR19CVUZGRVIse3N0cmVhbUlEOmUsZWZmZWN0SUQ6dH0se2VmZmVjdElEOiEwLHN0cmVhbUlEOiEwLHByZXZpZXdlcjohMH0pO1wiYm9vbGVhblwiIT10eXBlb2YgbyYmKHIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj90aGlzLmdldEF1ZGlvTWFuYWdlcihvKS5taXhpbmdCdWZmZXIodCxyLGkpOnRoaXMubG9nZ2VyLmVycm9yKFwiemMubWIuMCBhcnJheSBidWZmZXIgbm90IGZvdW5kXCIpKX0sZS5wcm90b3R5cGUuX3N0b3BNaXhpbmdCdWZmZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmNoZWNrUHJldmlld2VyKG4uWkVHT19XRUJSVENfQUNUSU9OLlNUT1BfTUlYSU5HX0JVRkZFUix7c3RyZWFtSUQ6ZSxlZmZlY3RJRDp0fSx7ZWZmZWN0SUQ6ITAsc3RyZWFtSUQ6ITAscHJldmlld2VyOiEwfSk7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZiByJiZ0aGlzLmdldEF1ZGlvTWFuYWdlcihyKS5zdG9wTWl4aW5nQnVmZmVyKHQpfSxlLnByb3RvdHlwZS5nZXRBdWRpb01hbmFnZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdWRpb01peE1hbmFnZXI7cmV0dXJuIHR8fCh0PW5ldyBhLlByZXZpZXdBdWRpb01hbmFnZXIoZSksZS5hdWRpb01peE1hbmFnZXI9dCksdH0sZX0oKTt0LkF1ZGlvTWl4TW9kdWxlPWN9LDg4OTI6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmVycm9yQ29kZUxpc3Q9dm9pZCAwLHQuZXJyb3JDb2RlTGlzdD17R0VUX1NPVU5EX0xFVkVMX0ZBSUw6e2NvZGU6MTAwMDAxOSxtZXNzYWdlOlwiZ2V0IHNvdW5kIGxldmVsIGVycm9yXCJ9LFBVQkxJU0hFUl9ERUNPREVfQVVESU9fRkFJTDp7Y29kZToxMTAzMDU3LG1lc3NhZ2U6XCJkZWNvZGUgYXVkaW8gZGF0YSBmYWlsXCJ9fX0sNzkyOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1yKDcxMDQpO3QuZGVmYXVsdD17dHlwZTpcIkF1ZGlvTWl4XCIsaW5zdGFsbDpmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpbml0QXVkaW9NaXhcIix7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmF1ZGlvTWl4TW9kdWxlPW5ldyBpLkF1ZGlvTWl4TW9kdWxlKHRoaXMubG9nZ2VyLHRoaXMuZGF0YVJlcG9ydCx0aGlzLnN0YXRlQ2VudGVyLHRoaXMuc3RyZWFtQ2VudGVyLHRoaXMuYWMpfX0pfX19LDQzMjE6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb1JUQ0xvZ0V2ZW50PXZvaWQgMDt2YXIgaT1yKDg4OTIpO3QuWmVnb1JUQ0xvZ0V2ZW50PXtrWmVnb1Rhc2tHZXRTb3VuZExldmVsOntldmVudDpcIi9zZGsvZ2V0X3NvdW5kX2xldmVsXCIsZXJyb3I6e2tHZXRTb3VuZExldmVsRXJyb3I6aS5lcnJvckNvZGVMaXN0LkdFVF9TT1VORF9MRVZFTF9GQUlMfX0sa1plZ29UYXNrU3RvcFNvdW5kTGV2ZWw6XCIvc2RrL3N0b3Bfc291bmRfbGV2ZWxcIn19LDE4MzA6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUHJldmlld0F1ZGlvTWFuYWdlcj12b2lkIDA7dmFyIGk9cig1NDIzKSxvPXIoODYwNiksbj1yKDY2MjQpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMucHJldmlld2VyPWUsdGhpcy5hdWRpb1NyY05vZGU9dm9pZCAwLHRoaXMuYXVkaW9EZXN0Tm9kZT12b2lkIDAsdGhpcy5hdWRpb01peExpc3Q9W10sdGhpcy5hcnJheUJ1ZmZlck1hcD17fSx0aGlzLmVmZmVjdExpc3Q9W10sdGhpcy5tZWRpYUVsZVNvdXJjZXM9ZS5zdHJlYW1DZW50ZXIubWVkaWFFbGVTb3VyY2VzfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsb2dnZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldmlld2VyLmxvZ2dlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsb2NhbFN0cmVhbVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2aWV3ZXIubG9jYWxTdHJlYW19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RyZWFtQ2VudGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZpZXdlci5zdHJlYW1DZW50ZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYWNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldmlld2VyLmFjfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnN0YXJ0TWl4aW5nQXVkaW89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhpLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfTUlYSU5HX0FVRElPK1wiIGNhbGxcIiksdGhpcy5sb2NhbFN0cmVhbT8oZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcjtpZih0LmF1ZGlvTWl4TGlzdC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tZWRpYT09ZX0pKSl0LmxvZ2dlci53YXJuKGkuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9NSVhJTkdfQVVESU8rXCIgbWl4IGF1ZGlvIGFscmVhZHkgZXhpc3RcIik7ZWxzZSBpZih0LmxvY2FsU3RyZWFtKXt0LnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnQucHJldmlld2VyLnN0b3BTb3VuZExldmVsKCk7dmFyIG89bmV3IG4uQXVkaW9NaXgodC5sb2dnZXIsdC5hYyx0LmxvY2FsU3RyZWFtLHQubWVkaWFFbGVTb3VyY2VzLHQucHJldmlld2VyLnN0YXRlQ2VudGVyLmJyb3dzZXIsdC5wcmV2aWV3ZXIucnRjVmlld2VyKTt0LmF1ZGlvU3JjTm9kZXx8KHQuYXVkaW9TcmNOb2RlPXQuYWMuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodC5sb2NhbFN0cmVhbSkpO3ZhciBzPSExO3QuYXVkaW9EZXN0Tm9kZXx8KHQuYXVkaW9EZXN0Tm9kZT10LmFjLmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSxzPSEwKSxvLmRlc3RpbmF0aW9uPXQuYXVkaW9EZXN0Tm9kZSxvLnN0cmVhbVNvdXJjZT10LmF1ZGlvU3JjTm9kZSx0LmF1ZGlvTWl4TGlzdC5wdXNoKHthdWRpb01peDpvLG1lZGlhOmV9KSxvLnN0YXJ0TWl4aW5nQXVkaW8oZSkscyYmKG51bGw9PT0ocj10LmF1ZGlvRGVzdE5vZGUpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnN0cmVhbSkmJnQucHJldmlld2VyLm9uQXVkaW9UcmFja0NoYW5nZSh0LmF1ZGlvRGVzdE5vZGUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0pLHQuc3RyZWFtQ2VudGVyLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmdC5wcmV2aWV3ZXIuc3RhcnRTb3VuZExldmVsKCl9fSkpLCEwKToodGhpcy5sb2dnZXIuZXJyb3IoaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX01JWElOR19BVURJTytcIiBsb2NhbFN0cmVhbSBub3QgZm91bmRcIiksITEpfSxlLnByb3RvdHlwZS5zdG9wTWl4aW5nQXVkaW89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhpLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RPUF9NSVhJTkdfQVVESU8rXCIgY2FsbFwiKSxlP2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciByPTA7cjx0LmF1ZGlvTWl4TGlzdC5sZW5ndGg7cisrKWlmKHQuYXVkaW9NaXhMaXN0W3JdLm1lZGlhPT1lKXt0LmF1ZGlvTWl4TGlzdFtyXS5hdWRpb01peC5zdG9wTWl4aW5nQXVkaW8oKSYmdC5hdWRpb01peExpc3Quc3BsaWNlKHItLSwxKTticmVha319KSk6KHRoaXMuYXVkaW9NaXhMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmF1ZGlvTWl4LnN0b3BNaXhpbmdBdWRpbygpfSkpLHRoaXMuYXVkaW9NaXhMaXN0PVtdKSwhMH0sZS5wcm90b3R5cGUuc2V0TWl4aW5nQXVkaW9Wb2x1bWU9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlci5pbmZvKGkuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TRVRfTUlYSU5HX0FVRElPX1ZPTFVNRStcIiBjYWxsXCIpO3ZhciByPXRoaXMuYXVkaW9NaXhMaXN0LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lZGlhPT09dH0pKTtyZXR1cm4gcj8oci5hdWRpb01peC5zZXRNaXhpbmdBdWRpb1ZvbHVtZShlKSx0aGlzLmxvZ2dlci5pbmZvKGkuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TRVRfTUlYSU5HX0FVRElPX1ZPTFVNRStcIiBjYWxsIHN1Y2Nlc3NcIiksITApOih0aGlzLmxvZ2dlci5lcnJvcihpLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU0VUX01JWElOR19BVURJT19WT0xVTUUrXCIgYXVkaW8gaXMgbm90IG1peGluZ1wiKSwhMSl9LGUucHJvdG90eXBlLnBsYXlFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIHM9dGhpcztpZih0aGlzLmxvZ2dlci5pbmZvKGkuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9QTEFZX0VGRkVDVCtcIiBjYWxsXCIpLHRoaXMubG9jYWxTdHJlYW0paWYodGhpcy5lZmZlY3RMaXN0LmZpbmQoKGZ1bmN0aW9uKHIpe3JldHVybiByLmVmZmVjdElEPT1lLmVmZmVjdElEJiZyLmF1ZGlvQnVmZmVyPT10fSkpKXRoaXMubG9nZ2VyLndhcm4oaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1BMQVlfRUZGRUNUK1wiIGVmZmVjdCBhbHJlYWR5IGV4aXN0IFwiKTtlbHNle3RoaXMuc3RyZWFtQ2VudGVyLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmdGhpcy5wcmV2aWV3ZXIuc3RvcFNvdW5kTGV2ZWwoKTt2YXIgYT1uZXcgby5BdWRpb0J1ZmZlclByb2Nlc3Nvcih0aGlzLmxvZ2dlcix0aGlzLmFjLHRoaXMubG9jYWxTdHJlYW0sdGhpcy5wcmV2aWV3ZXIucnRjVmlld2VyKTt0aGlzLmF1ZGlvU3JjTm9kZXx8KHRoaXMuYXVkaW9TcmNOb2RlPXRoaXMuYWMuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodGhpcy5sb2NhbFN0cmVhbSkpO3ZhciBjPSExO3RoaXMuYXVkaW9EZXN0Tm9kZXx8KHRoaXMuYXVkaW9EZXN0Tm9kZT10aGlzLmFjLmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSxjPSEwKSxhLmRlc3RpbmF0aW9uPXRoaXMuYXVkaW9EZXN0Tm9kZSxhLnN0cmVhbVNvdXJjZT10aGlzLmF1ZGlvU3JjTm9kZSxhLmF1ZGlvQnVmZmVyPXQ7dmFyIHU9e3Byb2Nlc3NvcjphLGVmZmVjdElEOmUuZWZmZWN0SUQsYXVkaW9CdWZmZXI6dH07dGhpcy5lZmZlY3RMaXN0LnB1c2godSk7YS5wbGF5RWZmZWN0KGUucGxheVRpbWUsZS5sb29wLCExLChmdW5jdGlvbigpe3ZhciBlO2MmJihudWxsPT09KGU9cy5hdWRpb0Rlc3ROb2RlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zdHJlYW0pJiZzLnByZXZpZXdlci5vbkF1ZGlvVHJhY2tDaGFuZ2Uocy5hdWRpb0Rlc3ROb2RlLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdKSxyJiZyKCl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cy5lZmZlY3RMaXN0PXMuZWZmZWN0TGlzdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dX0pKSxuJiZuLmFwcGx5KHZvaWQgMCxlKX0pKSx0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0YXJ0U291bmRMZXZlbCgpLHRoaXMubG9nZ2VyLmluZm8oaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1BMQVlfRUZGRUNUK1wiIHBsYXkgZWZmZWN0IFwiK2UuZWZmZWN0SUQrXCIgc3VjY2Vzc1wiKX1lbHNlIHRoaXMubG9nZ2VyLndhcm4oaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1BMQVlfRUZGRUNUK1wiIHN0cmVhbSBub3QgZm91bmRcIil9LGUucHJvdG90eXBlLnBhdXNlRWZmZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWZmZWN0TGlzdC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lZmZlY3RJRD09ZX0pKTtpZih0KXRoaXMuc3RyZWFtQ2VudGVyLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmdGhpcy5wcmV2aWV3ZXIuc3RvcFNvdW5kTGV2ZWwoKSx0LnByb2Nlc3Nvci5wYXVzZUVmZmVjdCgpLHRoaXMuc3RyZWFtQ2VudGVyLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmdGhpcy5wcmV2aWV3ZXIuc3RhcnRTb3VuZExldmVsKCksdGhpcy5sb2dnZXIuaW5mbyhpLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfUEFVU0VfRUZGRUNUK1wiIHBhdXNlIFwiK2UrXCIgc3VjY2Vzc1wiKTtlbHNle2lmKHZvaWQgMCE9PWUpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKGkuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9QQVVTRV9FRkZFQ1QrXCIgZWZmZWN0IG5vdCBmb3VuZFwiKSwhMTt0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0b3BTb3VuZExldmVsKCksdGhpcy5lZmZlY3RMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnByb2Nlc3Nvci5wYXVzZUVmZmVjdCgpfSkpLHRoaXMuc3RyZWFtQ2VudGVyLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmdGhpcy5wcmV2aWV3ZXIuc3RhcnRTb3VuZExldmVsKCl9cmV0dXJuITB9LGUucHJvdG90eXBlLnJlc3VtZUVmZmVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVmZmVjdExpc3QuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZWZmZWN0SUQ9PWV9KSk7aWYodCl7dGhpcy5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiZ0aGlzLnByZXZpZXdlci5zdG9wU291bmRMZXZlbCgpO3ZhciByPXQucHJvY2Vzc29yLnJlc3VtZUVmZmVjdCgpO3JldHVybiB0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0YXJ0U291bmRMZXZlbCgpLHRoaXMubG9nZ2VyLmluZm8oaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1JFU1VNRV9FRkZFQ1QrXCIgcmVzdW1lIFwiK2UrXCIgc3VjY2Vzc1wiKSxyfXJldHVybiB2b2lkIDA9PT1lPyh0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0b3BTb3VuZExldmVsKCksdGhpcy5lZmZlY3RMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnByb2Nlc3Nvci5yZXN1bWVFZmZlY3QoKX0pKSx0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0YXJ0U291bmRMZXZlbCgpLCEwKToodGhpcy5sb2dnZXIuZXJyb3IoaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1JFU1VNRV9FRkZFQ1QrXCIgbm8gZWZmZWN0IGZvdW5kXCIpLCExKX0sZS5wcm90b3R5cGUuc3RvcEVmZmVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVmZmVjdExpc3QuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZWZmZWN0SUQ9PWV9KSk7aWYodCl0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0b3BTb3VuZExldmVsKCksdC5wcm9jZXNzb3Iuc3RvcE1peGluZ0F1ZGlvKCksdGhpcy5lZmZlY3RMaXN0PXRoaXMuZWZmZWN0TGlzdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKSx0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0YXJ0U291bmRMZXZlbCgpLHRoaXMubG9nZ2VyLmluZm8oaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUT1BfRUZGRUNUK1wiIHBhdXNlIFwiK2UrXCIgc3VjY2Vzc1wiKTtlbHNle2lmKHZvaWQgMCE9PWUpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKGkuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVE9QX0VGRkVDVCtcIiBlZmZlY3Qgbm90IGZvdW5kXCIpLCExO3RoaXMuc3RyZWFtQ2VudGVyLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmdGhpcy5wcmV2aWV3ZXIuc3RvcFNvdW5kTGV2ZWwoKSx0aGlzLmVmZmVjdExpc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJvY2Vzc29yLnN0b3BNaXhpbmdBdWRpbygpfSkpLHRoaXMuZWZmZWN0TGlzdD1bXSx0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0YXJ0U291bmRMZXZlbCgpfXJldHVybiEwfSxlLnByb3RvdHlwZS5zZXRFZmZlY3RWb2x1bWU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmVmZmVjdExpc3QuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWZmZWN0SUQ9PXR9KSk7aWYocilyLnByb2Nlc3Nvci5zZXRNaXhpbmdBdWRpb1ZvbHVtZShlKSx0aGlzLmxvZ2dlci5pbmZvKFwienAuc2V2LjAgc2V0IHZvbHVtZSBcIit0K1wiIHN1Y2Nlc3NcIik7ZWxzZXtpZih2b2lkIDAhPT10KXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpwLnNldi4wIGVmZmVjdCBub3QgZm91bmRcIiksITE7dGhpcy5lZmZlY3RMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb2Nlc3Nvci5zZXRNaXhpbmdBdWRpb1ZvbHVtZShlKX0pKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUubWl4aW5nQnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX01JWElOR19CVUZGRVIrXCIgY2FsbFwiKSx0aGlzLmxvY2FsU3RyZWFtKWlmKHRoaXMuYXJyYXlCdWZmZXJNYXBbZV0pdGhpcy5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiZ0aGlzLnByZXZpZXdlci5zdG9wU291bmRMZXZlbCgpLHRoaXMuYXJyYXlCdWZmZXJNYXBbZV0ubWl4aW5nQnVmZmVyKHQsKGZ1bmN0aW9uKCl7bi5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiZuLnByZXZpZXdlci5zdGFydFNvdW5kTGV2ZWwoKSxyJiZyKCl9KSk7ZWxzZXt0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0b3BTb3VuZExldmVsKCk7dmFyIHM9bmV3IG8uQXVkaW9CdWZmZXJQcm9jZXNzb3IodGhpcy5sb2dnZXIsdGhpcy5hYyx0aGlzLmxvY2FsU3RyZWFtLHRoaXMucHJldmlld2VyLnJ0Y1ZpZXdlcik7dGhpcy5hdWRpb1NyY05vZGV8fCh0aGlzLmF1ZGlvU3JjTm9kZT10aGlzLmFjLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHRoaXMubG9jYWxTdHJlYW0pKTt2YXIgYT0hMTt0aGlzLmF1ZGlvRGVzdE5vZGV8fCh0aGlzLmF1ZGlvRGVzdE5vZGU9dGhpcy5hYy5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCksYT0hMCkscy5kZXN0aW5hdGlvbj10aGlzLmF1ZGlvRGVzdE5vZGUscy5zdHJlYW1Tb3VyY2U9dGhpcy5hdWRpb1NyY05vZGUsdGhpcy5hcnJheUJ1ZmZlck1hcFtlXT1zLHMubWl4aW5nQnVmZmVyKHQsKGZ1bmN0aW9uKCl7dmFyIGU7bi5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiZuLnByZXZpZXdlci5zdGFydFNvdW5kTGV2ZWwoKSxhJiYobnVsbD09PShlPW4uYXVkaW9EZXN0Tm9kZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuc3RyZWFtKSYmbi5wcmV2aWV3ZXIub25BdWRpb1RyYWNrQ2hhbmdlKG4uYXVkaW9EZXN0Tm9kZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSksciYmcigpfSkpfX0sZS5wcm90b3R5cGUuc3RvcE1peGluZ0J1ZmZlcj1mdW5jdGlvbihlKXtpZihlJiZ0aGlzLmFycmF5QnVmZmVyTWFwW2VdKXJldHVybiB0aGlzLnN0cmVhbUNlbnRlci5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMucHJldmlld2VyLnN0b3BTb3VuZExldmVsKCksdGhpcy5hcnJheUJ1ZmZlck1hcFtlXS5zdG9wTWl4aW5nQnVmZmVyKCksZGVsZXRlIHRoaXMuYXJyYXlCdWZmZXJNYXBbZV0sdGhpcy5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiZ0aGlzLnByZXZpZXdlci5zdGFydFNvdW5kTGV2ZWwoKSwhMDtpZih2b2lkIDA9PT1lKXtmb3IodmFyIHQgaW4gdGhpcy5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiZ0aGlzLnByZXZpZXdlci5zdG9wU291bmRMZXZlbCgpLHRoaXMuYXJyYXlCdWZmZXJNYXApdGhpcy5hcnJheUJ1ZmZlck1hcFt0XS5zdG9wTWl4aW5nQnVmZmVyKCk7cmV0dXJuIHRoaXMuc3RyZWFtQ2VudGVyLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmdGhpcy5wcmV2aWV3ZXIuc3RhcnRTb3VuZExldmVsKCksITB9cmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oaS5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX01JWElOR19CVUZGRVIrXCIgYXJyYXlCdWZmZXIgbm8gZm91bmRcIiksITF9LGUucHJvdG90eXBlLmdldEVmZmVjdFByb2dyZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWZmZWN0TGlzdC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5lZmZlY3RJRD09ZX0pKTtyZXR1cm4gdD90LnByb2Nlc3Nvci5nZXRQcm9jZXNzKCk6KHRoaXMubG9nZ2VyLmVycm9yKGkuWkVHT19XRUJSVENfQUNUSU9OLkFVRElPX0VGRkVDVF9QUk9DRVNTK1wiICBlZmZlY3Qgbm90IGZvdW5kXCIpLDApfSxlLnByb3RvdHlwZS5zZWVrQXVkaW9FZmZlY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmVmZmVjdExpc3QuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZWZmZWN0SUQ9PWV9KSk7cmV0dXJuIHI/KHRoaXMuc3RyZWFtQ2VudGVyLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmdGhpcy5wcmV2aWV3ZXIuc3RvcFNvdW5kTGV2ZWwoKSxyLnByb2Nlc3Nvci5zZWVrVG8odCksdGhpcy5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiZ0aGlzLnByZXZpZXdlci5zdGFydFNvdW5kTGV2ZWwoKSwhMCk6KHRoaXMubG9nZ2VyLmVycm9yKGkuWkVHT19XRUJSVENfQUNUSU9OLkFVRElPX0VGRkVDVF9QUk9DRVNTK1wiIGVmZmVjdCBub3QgZm91bmRcIiksITEpfSxlLnByb3RvdHlwZS5zdG9wQXVkaW9NYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5zdG9wTWl4aW5nQXVkaW8oKSx0aGlzLnN0b3BNaXhpbmdCdWZmZXIoKSx0aGlzLnN0b3BFZmZlY3QoKX0sZX0oKTt0LlByZXZpZXdBdWRpb01hbmFnZXI9c30sNTg2MzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5EYXRhQ2hhbm5lbD12b2lkIDA7dmFyIGk9cig4MzE4KTt0LkRhdGFDaGFubmVsPXt0eXBlOlwiRGF0YUNoYW5uZWxcIixpbnN0YWxsOmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNyZWF0ZVJlYWxUaW1lU2VxdWVudGlhbERhdGFNYW5hZ2VyXCIse3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZW5hYmxlRGF0YUNoYW5uZWwoITApO3ZhciB0PXRoaXMuc3RhdGVDZW50ZXIuZ2V0Um9vbUJ5Um9vbUlEKGUpO3JldHVybiB0P3QuZGF0YUNoYW5uZWxNYW5hZ2VyP251bGw6KHQuZGF0YUNoYW5uZWxNYW5hZ2VyPW5ldyBpLlplZ29SZWFsVGltZVNlcXVlbnRpYWxEYXRhTWFuYWdlcih0aGlzLGUpLHQuZGF0YUNoYW5uZWxNYW5hZ2VyKToodGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5jcnNkbSByb29tIG5vIGV4aXN0XCIpLG51bGwpfSx3cml0YWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRlc3Ryb3lSZWFsVGltZVNlcXVlbnRpYWxEYXRhTWFuYWdlclwiLHt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlQ2VudGVyLnJvb21MaXN0LmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGFDaGFubmVsTWFuYWdlcj09ZX0pKTt0JiYoZS5kYXRhQ2hhbm5lbE1hbmFnZXIucmVzZXQoKSx0LmRhdGFDaGFubmVsTWFuYWdlcj1udWxsKX0sd3JpdGFibGU6ITF9KX19fSw3MTY2OmZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihvLG4pe2Z1bmN0aW9uIHMoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxpPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLG4scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbjtmdW5jdGlvbiBhKG4pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsaSYmKG89MiZuWzBdP2kucmV0dXJuOm5bMF0/aS50aHJvd3x8KChvPWkucmV0dXJuKSYmby5jYWxsKGkpLDApOmkubmV4dCkmJiEobz1vLmNhbGwoaSxuWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2goaT0wLG8mJihuPVsyJm5bMF0sby52YWx1ZV0pLG5bMF0pe2Nhc2UgMDpjYXNlIDE6bz1uO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpuWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssaT1uWzFdLG49WzBdO2NvbnRpbnVlO2Nhc2UgNzpuPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1uWzBdJiYyIT09blswXSkpe3M9MDtjb250aW51ZX1pZigzPT09blswXSYmKCFvfHxuWzFdPm9bMF0mJm5bMV08b1szXSkpe3MubGFiZWw9blsxXTticmVha31pZig2PT09blswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1uO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2gobik7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW49dC5jYWxsKGUscyl9Y2F0Y2goZSl7bj1bNixlXSxpPTB9ZmluYWxseXtyPW89MH1pZig1Jm5bMF0pdGhyb3cgblsxXTtyZXR1cm57dmFsdWU6blswXT9uWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sYV0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRGF0YUNoYW5uZWxMaXN0ZW5lcj12b2lkIDA7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy56ZWdvV2ViUlRDPWUsdGhpcy5yb29tSUQ9dCx0aGlzLnB1YkRhdGFDaGFubmVsTGlzdD1bXSx0aGlzLnN1YkRhdGFDaGFubmVsTGlzdD1bXSx0aGlzLmxpc3RlbmVyTGlzdD17cmVjZWl2ZVJlYWxUaW1lU2VxdWVudGlhbERhdGE6W119LHRoaXMubG9nZ2VyPWUubG9nZ2VyfXJldHVybiBlLnByb3RvdHlwZS5zdGFydEJyb2FkY2FzdGluZz1mdW5jdGlvbihlLHQpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG8sbjtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmxvZ2dlci5pbmZvKFwiZGMuc2IuMCBjYWxsXCIpLHRoaXMucHViRGF0YUNoYW5uZWxMaXN0LmluY2x1ZGVzKGUpPyh0aGlzLmxvZ2dlci5lcnJvcihcImRjLnNiLjAgZGF0YWNoYW5uZWwgYWxyZWFkeSBleGlzdFwiKSxbMiwhMV0pOih0PXRoaXMuemVnb1dlYlJUQy5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdFtlXSkmJnQucHVibGlzaGVyLmRhdGFDaGFubmVsPyh0aGlzLnB1YkRhdGFDaGFubmVsTGlzdC5wdXNoKGUpLFsyLCEwXSk6dCYmIXQucHVibGlzaGVyLmRhdGFDaGFubmVsPyh0aGlzLmxvZ2dlci5lcnJvcihcImRjLnNiLjAgcHVibGlzaCBkYXRhY2hhbm5lbCBubyBleGlzdCwgdHJ5IG90aGVyIHN0cmVhbSBJRFwiKSxbMiwhMV0pOnRoaXMuYnJvYWRjYXN0U3RyZWFtP1szLDJdOihyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksbz10aGlzLFs0LHRoaXMuemVnb1dlYlJUQy5jcmVhdGVTdHJlYW0oe2N1c3RvbTp7c291cmNlOnJ9fSldKTtjYXNlIDE6by5icm9hZGNhc3RTdHJlYW09aS5zZW50KCksaS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4obj10aGlzLnplZ29XZWJSVEMuc3RhcnRQdWJsaXNoaW5nU3RyZWFtKGUsdGhpcy5icm9hZGNhc3RTdHJlYW0se3Jvb21JRDp0aGlzLnJvb21JRH0sITApKSYmdGhpcy5wdWJEYXRhQ2hhbm5lbExpc3QucHVzaChlKSx0aGlzLmxvZ2dlci5pbmZvKFwiZGMuc2IuMCBlbmRcIiksWzIsbl19fSkpfSkpfSxlLnByb3RvdHlwZS5zdG9wQnJvYWRjYXN0aW5nPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8oXCJkYy5zYi4xIGNhbGxcIiksdGhpcy5wdWJEYXRhQ2hhbm5lbExpc3Q9dGhpcy5wdWJEYXRhQ2hhbm5lbExpc3QuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KSk7dmFyIHQ9dGhpcy56ZWdvV2ViUlRDLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W2VdO3JldHVybiB0Pyh0LnJvb20ucm9vbUlEPT10aGlzLnJvb21JRCYmdC5pc0RhdGFDaGFubmVsJiZ0aGlzLnplZ29XZWJSVEMuc3RvcFB1Ymxpc2hpbmdTdHJlYW0oZSksdGhpcy5sb2dnZXIuaW5mbyhcImRjLnNiLjEgZW5kXCIpLCEwKToodGhpcy5sb2dnZXIuZXJyb3IoXCJkYy5zYi4xIGRhdGFjaGFubmVsIG5vIGZvdW5kXCIpLCExKX0sZS5wcm90b3R5cGUuc2VuZFJlYWxUaW1lU2VxdWVudGlhbERhdGE9ZnVuY3Rpb24oZSx0KXtpZighdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcImRjLnNyc2QgZGF0YSB0eXBlIHdyb25nXCIpLCExO3ZhciByPXRoaXMuemVnb1dlYlJUQy5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdFtlXTtyZXR1cm4gciYmdGhpcy5wdWJEYXRhQ2hhbm5lbExpc3QuaW5jbHVkZXMoZSk/dGhpcy5zZW5kQkNNZXNzYWdlKHIucHVibGlzaGVyLHQpOih0aGlzLmxvZ2dlci5lcnJvcihcImRjLnNyc2QgZGF0YWNoYW5uZWwgbm8gZm91bmRcIiksITEpfSxlLnByb3RvdHlwZS5zZW5kQkNNZXNzYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYoIWUuZGF0YUNoYW5uZWxTdGF0ZSlyZXR1cm4hMTtmb3IodmFyIGk9bmV3IFVpbnQ4QXJyYXkodCksbz0wLG49dC5ieXRlTGVuZ3RoLHM9ZS5zZW5kX3NlcSxhPTAsYz0obmV3IERhdGUpLmdldFRpbWUoKSx1PTA7bj4wOyl7bj4xMTUxP3U9MTE0MToodT1uLGE9MSk7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkodSsxMCk7ZFswXT0xLGRbMV09YSxkWzJdPWUuc2VuZF9zZXE+PjgmMjU1LGRbM109MjU1JmUuc2VuZF9zZXEsZFs0XT1zPj44JjI1NSxkWzVdPTI1NSZzLGRbNl09Yz4+MjQmMjU1LGRbN109Yz4+MTYmMjU1LGRbOF09Yz4+OCYyNTUsZFs5XT0yNTUmYztmb3IodmFyIGw9MDtsPHU7bCsrKWRbbCsxMF09aVtsK29dO24tPXUsbys9dSxlLnNlbmRfc2VxKyssZS5zZW5kX3NlcT49NjU1MzYmJihlLnNlbmRfc2VxPTApLG51bGw9PT0ocj1lLmRhdGFDaGFubmVsKXx8dm9pZCAwPT09cnx8ci5zZW5kKGQpfXJldHVybiEwfSxlLnByb3RvdHlwZS5zdGFydFN1YnNjcmliaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIG8sbjtyZXR1cm4gcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmxvZ2dlci5pbmZvKFwiZGMuc3MuMCBjYWxsXCIpLHRoaXMuc3ViRGF0YUNoYW5uZWxMaXN0LmluY2x1ZGVzKGUpPyh0aGlzLmxvZ2dlci5lcnJvcihcImRjLnNzLjAgZGF0YWNoYW5uZWwgYWxyZWFkeSBleGlzdFwiKSxbMiwhMV0pOih0PXRoaXMuemVnb1dlYlJUQy5zdHJlYW1DZW50ZXIucGxheWVyTGlzdFtlXSk/WzMsMl06WzQsdGhpcy56ZWdvV2ViUlRDLnN0YXJ0UGxheWluZ1N0cmVhbShlLHZvaWQgMCwhMCldO2Nhc2UgMTppLnNlbnQoKSx0PXRoaXMuemVnb1dlYlJUQy5zdHJlYW1DZW50ZXIucGxheWVyTGlzdFtlXSxpLmxhYmVsPTI7Y2FzZSAyOnJldHVybihyPXQucGxheWVyKS5kYXRhQ2hhbm5lbD8oIShudWxsPT09KG89ci5vbkRhdGFDaGFubmVsTGlzdCl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaW5jbHVkZXModGhpcy5vblJlY2VpdmVkRGF0YUNoYW5uZWwuYmluZCh0aGlzKSkpJiYobnVsbD09PShuPXIub25EYXRhQ2hhbm5lbExpc3QpfHx2b2lkIDA9PT1ufHxuLnB1c2godGhpcy5vblJlY2VpdmVkRGF0YUNoYW5uZWwuYmluZCh0aGlzKSkpLHRoaXMuc3ViRGF0YUNoYW5uZWxMaXN0LnB1c2goZSksdGhpcy5sb2dnZXIuaW5mbyhcImRjLnNzLjAgZW5kXCIpLFsyLCEwXSk6KHRoaXMubG9nZ2VyLmVycm9yKFwiZGMuc3MuMCBkYXRhY2hhbm5lbCBubyBleGlzdCwgdHJ5IG90aGVyIHN0cmVhbSBJRFwiKSxbMiwhMV0pfX0pKX0pKX0sZS5wcm90b3R5cGUuc3RvcFN1YnNjcmliaW5nPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8oXCJkYy5zcy4xIGNhbGxcIiksdGhpcy5zdWJEYXRhQ2hhbm5lbExpc3Q9dGhpcy5zdWJEYXRhQ2hhbm5lbExpc3QuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KSk7dmFyIHQ9dGhpcy56ZWdvV2ViUlRDLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W2VdO3JldHVybiB0Pyh0LnJvb20ucm9vbUlEPT10aGlzLnJvb21JRCYmdC5pc0RhdGFDaGFubmVsJiZ0aGlzLnplZ29XZWJSVEMuc3RvcFBsYXlpbmdTdHJlYW0oZSksdGhpcy5sb2dnZXIuaW5mbyhcImRjLnNzLjEgZW5kXCIpLCEwKToodGhpcy5sb2dnZXIuZXJyb3IoXCJkYy5zcy4xIGRhdGFjaGFubmVsIG5vIHN1YnNjcmliZVwiKSwhMSl9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5iaW5kTGlzdGVuZXIoZSx0KX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7dGhpcy5kZWxldGVMaXN0ZW5lcihlLHQpfSxlLnByb3RvdHlwZS5iaW5kTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5saXN0ZW5lckxpc3RbZV0/XCJmdW5jdGlvblwiIT10eXBlb2YgdD8odGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5vLjAgbGlzdGVuZXIgY2FsbEJhY2sgbXVzdCBiZSBmdW5jaXRvblwiKSwhMSk6KC0xPT10aGlzLmxpc3RlbmVyTGlzdFtlXS5pbmRleE9mKHQpJiZ0aGlzLmxpc3RlbmVyTGlzdFtlXS5wdXNoKHQpLCEwKToodGhpcy5sb2dnZXIuZXJyb3IoXCJkYy5vLjAgZXZlbnQgXCIrZStcIiBubyBmb3VuZFwiKSwhMSl9LGUucHJvdG90eXBlLmRlbGV0ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMubGlzdGVuZXJMaXN0W2VdKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcImRjLm8uMSBsaXN0ZW5lciBubyBmb3VuZFwiKSwhMTt2YXIgcj10aGlzLmxpc3RlbmVyTGlzdFtlXTtyZXR1cm4gdD9yLnNwbGljZShyLmluZGV4T2YodCksMSk6dGhpcy5saXN0ZW5lckxpc3RbZV09W10sITB9LGUucHJvdG90eXBlLmFjdGlvbkxpc3RlbmVyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLHI9W10saT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTt0aGlzLmxpc3RlbmVyTGlzdFtlXSYmdGhpcy5saXN0ZW5lckxpc3RbZV0uZm9yRWFjaCgoZnVuY3Rpb24oaSl7dHJ5e3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5hcHBseSh2b2lkIDAscil9KSwwKX1jYXRjaChyKXt0LmxvZ2dlci5lcnJvcihcImRjLmFsIFwiK2UrXCIgXCIrcil9fSkpfSxlLnByb3RvdHlwZS5vblJlY2VpdmVkRGF0YUNoYW5uZWw9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuYWN0aW9uTGlzdGVuZXIoXCJyZWNlaXZlUmVhbFRpbWVTZXF1ZW50aWFsRGF0YVwiLGUsdCxyKX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2Zvcih2YXIgdCBpbiB0aGlzLmxvZ2dlci5pbmZvKFwiZGMucnMgY2FsbFwiKSx0aGlzLnB1YkRhdGFDaGFubmVsTGlzdC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lLnplZ29XZWJSVEMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdF07ciYmci5yb29tLnJvb21JRD09ZS5yb29tSUQmJnIuaXNEYXRhQ2hhbm5lbCYmZS56ZWdvV2ViUlRDLnN0b3BQdWJsaXNoaW5nU3RyZWFtKHQpfSkpLHRoaXMuc3ViRGF0YUNoYW5uZWxMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPWUuemVnb1dlYlJUQy5zdHJlYW1DZW50ZXIucGxheWVyTGlzdFt0XTtyJiZyLnJvb20ucm9vbUlEPT1lLnJvb21JRCYmci5pc0RhdGFDaGFubmVsJiZlLnplZ29XZWJSVEMuc3RvcFBsYXlpbmdTdHJlYW0odCl9KSksdGhpcy5saXN0ZW5lckxpc3QpdGhpcy5saXN0ZW5lckxpc3RbdF09W107dGhpcy5icm9hZGNhc3RTdHJlYW0mJnRoaXMuemVnb1dlYlJUQy5kZXN0cm95U3RyZWFtKHRoaXMuYnJvYWRjYXN0U3RyZWFtKSx0aGlzLmJyb2FkY2FzdFN0cmVhbT12b2lkIDAsdGhpcy5sb2dnZXIuaW5mbyhcImRjLnJzIGVuZFwiKX0sZX0oKTt0LkRhdGFDaGFubmVsTGlzdGVuZXI9b30sODQ1NDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnN0cmVhbUhhbmRsZXI9dC56ZWdvV2ViUlRDPXZvaWQgMDt2YXIgbz1yKDY1NDgpLG49cig2MzA0KSxzPVwiMi4xOS4wXCIsYT0xZTQsYz17fSx1PVwiYWRkTXNnSW5mb1wiLGQ9MTAwNTAyNyxsPVwibWl4IHN0cmVhbSBpbnB1dCBwYXJhbWV0ZXJzIGFyZSB3cm9uZ1wiO2Z1bmN0aW9uIGgoZSx0KXt2YXIgcixpLG4scyxjPVwiXCIsdT1vLmVycm9yQ29kZUxpc3Q7cmV0dXJuIHQuZXJyb3JDb2RlPDJlOSYmdC5lcnJvckNvZGU+MWU5PyhuPXsxOlwiTUlYRVJfU1RBUlRfUkVRVUVTVF9FUlJPUlwiLDI6XCJNSVhFUl9TVEFSVF9SRVFVRVNUX0VSUk9SXCIsMzpcIk1JWEVSX0FVVEhFTlRJQ0FUSU9OX0ZBSUxFRFwiLDE1MDpcIk1JWEVSX0lOUFVUX1NUUkVBTV9OT1RfRVhJU1RTXCIsMTUxOlwiTUlYRVJfU1RBUlRfUkVRVUVTVF9FUlJPUlwiLDE1MjpcIk1JWEVSX1NUT1BfUkVRVUVTVF9FUlJPUlwiLDE1MzpcIk1JWEVSX0lOUFVUX1BBUkFNRVRFUlNfRVJST1JcIiwxNTQ6XCJNSVhFUl9FWENFRURfTUFYX09VVFBVVF9DT1VOVFwiLDE1NTpcIk1JWEVSX0lOUFVUX1BBUkFNRVRFUlNfRVJST1JcIiwxNTY6XCJNSVhFUl9WSURFT19DT05GSUdfSU5WQUxJRFwiLDE1NzpcIk1JWEVSX05PX1NFUlZJQ0VTXCIsMTU4OlwiTUlYRVJfRVhDRUVEX01BWF9JTlBVVF9DT1VOVFwiLDE1OTpcIk1JWEVSX1NUQVJUX1JFUVVFU1RfRVJST1JcIiwxNjA6XCJNSVhFUl9OT1RfT1dORVJfU1RPUE1JWEVSXCIsMTcwOlwiTUlYRVJfV0FURVJNQVJLX1BBUkFNRVRFUlNfRVJST1JcIiwxNzE6XCJNSVhFUl9XQVRFUk1BUktfTlVMTFwiLDE3NTpcIk1JWEVSX1JFUEVBVF9JTlBVVFwiLDE5MDpcIk1JWEVSX1NUQVJUX1JFUVVFU1RfRVJST1JcIn0scz1cIk1JWEVSX0lOTkVSX0VSUk9SXCIsKGk9dC5lcnJvckNvZGUtYSk+MWU5JiZuW2ktMWU5XSYmKHM9bltpLTFlOV0pLHI9dVtjPXNdKTp0LmVycm9yQ29kZTwxZTYmJihyPWUuZGVjb2RlU2VydmVyRXJyb3IodC5lcnJvckNvZGUsdC5leHRlbmRlZERhdGEpLGM9ZS5nZXRMaXZlUm9vbUVycm9yKHQuZXJyb3JDb2RlLHRoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQpKSx7cmVwb3J0RXJyOnIsYWN0dWFsRXJyb3I6dVtjXX19dC56ZWdvV2ViUlRDPXtzdGFydE1peGVyVGFzazpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXt2YXIgbz10LnN0YXRlQ2VudGVyLmdldFJlcG9ydFNlcSgpO3QuZGF0YVJlcG9ydC5uZXdSZXBvcnQobyxuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5ldmVudCksdC5zdGF0ZUNlbnRlci5sb2dSZXBvcnRDYWxsYmFjayhcImtaZWdvVGFza01peFN0YXJ0XCIrZS50YXNrSUQsdC5kYXRhUmVwb3J0LG8sdC5zdGF0ZUNlbnRlci5yZXBvcnRMaXN0KTt2YXIgcz17ZXJyb3JDb2RlOmQsZXh0ZW5kZWREYXRhOmx9O2lmKCEhKG51bGw9PWU/dm9pZCAwOmUuaW5wdXRMaXN0LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLnN0cmVhbUlEJiYocy5leHRlbmRlZERhdGE9cy5leHRlbmRlZERhdGErXCIuIHN0cmVhbUlEIHNob3VsZCBiZSBvZiBzdHJpbmcgdHlwZVwiLCEwKX0pKSkpcmV0dXJuIHQuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKG8scyksdC5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChvKSx0LnN0YXRlQ2VudGVyLnVucmVnaXN0ZXJDYWxsYmFjayhcImtaZWdvVGFza01peFN0YXJ0XCIrZS50YXNrSUQsdC5zdGF0ZUNlbnRlci5yZXBvcnRMaXN0KSx2b2lkIGkocyk7ZS5vdXRwdXRDb25maWcmJmUub3V0cHV0Q29uZmlnLm91dHB1dEZwcyYmKGUub3V0cHV0Q29uZmlnLm91dHB1dEZQUz1lLm91dHB1dENvbmZpZy5vdXRwdXRGcHMpO3ZhciBhPWZ1bmN0aW9uKHIpe3ZhciBuPWgodC5zdGF0ZUNlbnRlcixyKSxzPW4ucmVwb3J0RXJyLGE9bi5hY3R1YWxFcnJvcjt0LmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhvLHN8fHIpLHQuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyksdC5zdGF0ZUNlbnRlci51bnJlZ2lzdGVyQ2FsbGJhY2soXCJrWmVnb1Rhc2tNaXhTdGFydFwiK2UudGFza0lELHQuc3RhdGVDZW50ZXIucmVwb3J0TGlzdCksYSYmKHIuZXJyb3JDb2RlPW51bGw9PWE/dm9pZCAwOmEuY29kZSxyLmV4dGVuZGVkRGF0YT0obnVsbD09YT92b2lkIDA6YS5tZXNzYWdlKXx8XCJcIiksaShyKX0sYz10LnN0YXRlQ2VudGVyLnJvb21MaXN0WzBdO2M/Yy5zdHJlYW1IYW5kbGVyLnVwZGF0ZU1peFN0cmVhbShlLChmdW5jdGlvbihpKXt0LmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8pLHQuc3RhdGVDZW50ZXIudW5yZWdpc3RlckNhbGxiYWNrKFwia1plZ29UYXNrTWl4U3RhcnRcIitlLnRhc2tJRCx0LnN0YXRlQ2VudGVyLnJlcG9ydExpc3QpLHIoaSl9KSxhKTphKHtlcnJvckNvZGU6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua05vTG9naW5FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rTm9Mb2dpbkVycm9yLm1lc3NhZ2V9KX0pKX0sc2V0TWl4ZXJUYXNrQ29uZmlnOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3ZhciBvPXQuc3RhdGVDZW50ZXIuZ2V0UmVwb3J0U2VxKCk7dC5kYXRhUmVwb3J0Lm5ld1JlcG9ydChvLG4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peENvbmZpZy5ldmVudCksdC5zdGF0ZUNlbnRlci5sb2dSZXBvcnRDYWxsYmFjayhcImtaZWdvVGFza01peENvbmZpZ1wiLHQuZGF0YVJlcG9ydCxvLHQuc3RhdGVDZW50ZXIucmVwb3J0TGlzdCk7dmFyIHM9dC5zdGF0ZUNlbnRlci5yb29tTGlzdFswXTtzP3Muc3RyZWFtSGFuZGxlci5zZXRNaXhlclRhc2tDb25maWcoZSkudGhlbigoZnVuY3Rpb24oZSl7dC5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChvKSx0LnN0YXRlQ2VudGVyLnVucmVnaXN0ZXJDYWxsYmFjayhcImtaZWdvVGFza01peENvbmZpZ1wiLHQuc3RhdGVDZW50ZXIucmVwb3J0TGlzdCkscihlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyxlKSx0LmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8pLHQuc3RhdGVDZW50ZXIudW5yZWdpc3RlckNhbGxiYWNrKFwia1plZ29UYXNrTWl4Q29uZmlnXCIsdC5zdGF0ZUNlbnRlci5yZXBvcnRMaXN0KSxpKGUpfSkpOmkoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhDb25maWcuZXJyb3Iua05vTG9naW5FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhDb25maWcuZXJyb3Iua05vTG9naW5FcnJvci5tZXNzYWdlfSl9KSl9LHN0b3BNaXhlclRhc2s6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dmFyIG89dC5zdGF0ZUNlbnRlci5nZXRSZXBvcnRTZXEoKTtpZih0LmRhdGFSZXBvcnQubmV3UmVwb3J0KG8sbi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RvcC5ldmVudCksIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlfHxlLmxlbmd0aD4yNTZ8fCF0LnN0YXRlQ2VudGVyLmNoZWNrSWxsZWdhbENoYXJhY3RlcnMoZSkpcmV0dXJuIHQubG9nZ2VyLmVycm9yKFwiemIucmgubGcgdGFza0lEIG11c3QgYmUgc3RyaW5nIGxlc3MgMjU2XCIpLHQuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKG8se2Vycm9yOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0b3AuZXJyb3Iua1BhcmFtRXJyb3IuY29kZSxtZXNzYWdlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0b3AuZXJyb3Iua1BhcmFtRXJyb3IubWVzc2FnZStcIiBwYXJhbSB0YXNrSUQgZXJyb3JcIn0pLHQuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyksdm9pZCBpKHtlcnJvckNvZGU6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RvcC5lcnJvci5rUGFyYW1FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdG9wLmVycm9yLmtQYXJhbUVycm9yLm1lc3NhZ2UrXCIgcGFyYW0gdGFza0lEIGVycm9yXCJ9KTt2YXIgcz1mdW5jdGlvbihlKXt2YXIgcj1oKHQuc3RhdGVDZW50ZXIsZSksbj1yLnJlcG9ydEVycixzPXIuYWN0dWFsRXJyb3I7dC5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyxufHxlKSx0LmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8pLHMmJihlLmVycm9yQ29kZT1udWxsPT1zP3ZvaWQgMDpzLmNvZGUsZS5leHRlbmRlZERhdGE9KG51bGw9PXM/dm9pZCAwOnMubWVzc2FnZSl8fFwiXCIpLGkoZSl9LGE9dC5zdGF0ZUNlbnRlci5yb29tTGlzdFswXTthP2Euc3RyZWFtSGFuZGxlci5zdG9wTWl4U3RyZWFtKGUsKGZ1bmN0aW9uKGUpe3QuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobykscihlKX0pLHMpOnMoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdG9wLmVycm9yLmtOb0xvZ2luRXJyb3IuY29kZSxleHRlbmRlZERhdGE6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RvcC5lcnJvci5rTm9Mb2dpbkVycm9yLm1lc3NhZ2V9KX0pKX19LHQuc3RyZWFtSGFuZGxlcj17c2V0TWl4ZXJUYXNrQ29uZmlnOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3ZhciBvLHM9e30sYT17fTtpZihlJiZlLnZpZGVvQ29kZWMpe3ZhciBkPWUudmlkZW9Db2RlYy50b0xvd2VyQ2FzZSgpO2lmKC0xPT1bXCJ2cDhcIixcImgyNjRcIl0uaW5kZXhPZihkKSlyZXR1cm4gdC5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgcGFyYW0gdmlkZW9Db2RlIGVycm9yXCIpLGkoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhDb25maWcuZXJyb3Iua1ZpZGVvQ29uZmlnSW52YWxpZEVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peENvbmZpZy5lcnJvci5rVmlkZW9Db25maWdJbnZhbGlkRXJyb3IubWVzc2FnZX0pLCExO3MudmlkZW9Db2RlYz1kLGEudmlkZW9fY29kZWM9ZH1pZihlLmJhY2tncm91bmRDb2xvcil7aWYoIXQuc3RhdGVDZW50ZXIuY2hlY2tJbnRlZ2VyKGUuYmFja2dyb3VuZENvbG9yKSlyZXR1cm4gdC5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgcGFyYW0gYmFja2dyb3VuZENvbG9yIG11c3QgYmUgaW50ZWdlciBudW1iZXJcIiksaSh7ZXJyb3JDb2RlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peENvbmZpZy5lcnJvci5rUGFyYW1FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhDb25maWcuZXJyb3Iua1BhcmFtRXJyb3IubWVzc2FnZX0pLCExO3MuYmFja2dyb3VuZENvbG9yPWUuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZF9jb2xvcj1lLmJhY2tncm91bmRDb2xvcn1pZihlLmJhY2tncm91bmRJbWFnZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuYmFja2dyb3VuZEltYWdlKXJldHVybiB0LmxvZ2dlci5lcnJvcihcInpiLnNoLnVtcyBwYXJhbSBvdXRwdXRCZ0ltYWdlIGVycm9yXCIpLGkoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhDb25maWcuZXJyb3Iua1BhcmFtRXJyb3IuY29kZSxleHRlbmRlZERhdGE6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4Q29uZmlnLmVycm9yLmtQYXJhbUVycm9yLm1lc3NhZ2V9KSwhMTtpZighZS5iYWNrZ3JvdW5kSW1hZ2Uuc3RhcnRzV2l0aChcInByZXNldC1pZDovL1wiKXx8IWUuYmFja2dyb3VuZEltYWdlLmVuZHNXaXRoKFwiLmpwZ1wiKSYmIWUuYmFja2dyb3VuZEltYWdlLmVuZHNXaXRoKFwiLnBuZ1wiKSlyZXR1cm4gdC5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgaWxsZWdhbCBpbnB1dCBiYWNrZ3JvdW5kIGltYWdlIFVSTFwiKSxpKHtlcnJvckNvZGU6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4Q29uZmlnLmVycm9yLmtCYWNrZ3JvdW5kSW1hZ2VVcmxJbnZhbGlkRXJyb3IuY29kZSxleHRlbmRlZERhdGE6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4Q29uZmlnLmVycm9yLmtCYWNrZ3JvdW5kSW1hZ2VVcmxJbnZhbGlkRXJyb3IubWVzc2FnZX0pLCExO3MuYmFja2dyb3VuZEltYWdlPWUuYmFja2dyb3VuZEltYWdlLGEuYmFja2dyb3VuZF9pbWFnZT1lLmJhY2tncm91bmRJbWFnZX1pZihlLndhdGVyTWFyayYmKHMud2F0ZXJNYXJrPWUud2F0ZXJNYXJrLGEud2F0ZXJfbWFyaz1lLndhdGVyTWFyayksZSYmZS51c2VyRGF0YSl7aWYoIShlLnVzZXJEYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkpcmV0dXJuIHQubG9nZ2VyLmVycm9yKFwiemIuc2gudW1zIHBhcmFtIHVzZXJEYXRhIHJlcXVpcmVkIFVpbnQ4QXJyYXlcIiksaSh7ZXJyb3JDb2RlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peENvbmZpZy5lcnJvci5rUGFyYW1FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhDb25maWcuZXJyb3Iua1BhcmFtRXJyb3IubWVzc2FnZX0pLCExO2lmKGUudXNlckRhdGEuYnl0ZUxlbmd0aD4xZTMpcmV0dXJuIHQubG9nZ2VyLmVycm9yKFwiemIuc2gudW1zIHBhcmFtIHVzZXJEYXRhIHNob3VsZCBzaG9ydGVyIHRoYW4gMTAwMFwiKSxpKHtlcnJvckNvZGU6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4Q29uZmlnLmVycm9yLmtQYXJhbUVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peENvbmZpZy5lcnJvci5rUGFyYW1FcnJvci5tZXNzYWdlfSksITE7cy51c2VyRGF0YT1lLnVzZXJEYXRhfWUuZXh0cmFQYXJhbXMmJihzLmV4dHJhUGFyYW1zfHwocy5leHRyYVBhcmFtcz1bXSksKG89cy5leHRyYVBhcmFtcykucHVzaC5hcHBseShvLGUuZXh0cmFQYXJhbXMpKSxjPXMsdC5zdGF0ZUNlbnRlci5hY3Rpb25TdWNjZXNzQ2FsbGJhY2soXCJrWmVnb1Rhc2tNaXhDb25maWdcIix0LnN0YXRlQ2VudGVyLnJlcG9ydExpc3QpJiZ0LnN0YXRlQ2VudGVyLmFjdGlvblN1Y2Nlc3NDYWxsYmFjayhcImtaZWdvVGFza01peENvbmZpZ1wiLHQuc3RhdGVDZW50ZXIucmVwb3J0TGlzdCkodSx2b2lkIDAse2NvbmZpZzpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhDb25maWcuY29uZmlnKGEpfSkscih7ZXJyb3JDb2RlOjAsZXh0ZW5kZWREYXRhOlwiXCJ9KX0pKX0sc3RvcE1peFN0cmVhbTpmdW5jdGlvbihlLHQscixpLGMpe3ZhciB1PXRoaXM7dGhpcy5sb2dnZXIuaW5mbyhcInpiLnNoLnNtcyBjYWxsXCIpO3ZhciBkPXtpZF9uYW1lOnRoaXMuc3RhdGVDZW50ZXIuaWROYW1lLGxpdmVfY2hhbm5lbDp0aGlzLnJvb21JRCxhcHBpZDp0aGlzLnN0YXRlQ2VudGVyLmFwcGlkLHZlcnNpb246c307aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihkLnRhc2tfaWQ9ZSksbnVsbCE9aT9kLnN0cmVhbV9pZD10aGlzLnN0YXRlQ2VudGVyLnRlc3RFbnZpcm9ubWVudD9cInplZ290ZXN0LVwiK3RoaXMuc3RhdGVDZW50ZXIuYXBwaWQrXCItXCIraTppOm51bGwhPWMmJihkLm1peHVybD1jKSx0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50KXRoaXMuc2VuZEJpekNoYW5uZWxSZXF1ZXN0VjIoe3NlcnZlcjoxMixsb2NhdGlvbjpcIi9pbnRlcmZhY2UvY29tbWFuZFwiLGNtZDpcInN0b3BfbWl4XCJ9LGQsKGZ1bmN0aW9uKGUpe3QmJnQoe2Vycm9yQ29kZTowLGV4dGVuZGVkRGF0YTpcIlwifSl9KSwoZnVuY3Rpb24oZSx0LGkscyl7dmFyIGM9XCJcIjtpZihzKXJldHVybiBzPT1vLmVycm9yQ29kZUxpc3QuVElNRU9VVCYmKHM9bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1JlcXVlc3RFcnJvcikscy5jb2RlJiYyMDAxMD09PXMuY29kZSYmKHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvLmVycm9yQ29kZUxpc3QuTUlYRVJfTk9fU0VSVklDRVMpKSksdm9pZChyJiZyKHMsYykpO2lmKHM9bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua0ludGVybmFsRXJyb3IsMjAwPT09ZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIHUubG9nZ2VyLmRlYnVnKFwiemIuc2guc21zIGVycm9yOiBcIit0KSx0Kz0xZTksdm9pZChyJiZyKHtlcnJvckNvZGU6dS5zdGF0ZUNlbnRlci5nZXRTZXJ2ZXJFcnJvcihhK3QpLmNvZGUsZXh0ZW5kZWREYXRhOmN9KSk7dS5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC5zbXMgc3RvcCBtaXggZmFpbCBcIitKU09OLnN0cmluZ2lmeShlcnJvcikpO3ZhciBkPW4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtJbnRlcm5hbEVycm9yO3ImJnIoe2Vycm9yQ29kZTpkLmNvZGUsZXh0ZW5kZWREYXRhOmQubWVzc2FnZX0pfWVsc2UgdS5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC5zbXMgXCIrKGM9XCJyZXF1ZXN0IG1peCBzZXJ2ZXIgZmFpbCwgZXJyb3I6IFwiK2UpKSxyJiZyKHMsYyl9KSk7ZWxzZXt2YXIgbD17Y2hhbm5lbDpcInpldXNcIixjbWQ6XCJzdG9wX21peFwiLHJlcV9ib2R5OkpTT04uc3RyaW5naWZ5KGQpfTt0aGlzLnNlbmRCaXpDaGFubmVsUmVxdWVzdChsLChmdW5jdGlvbigpe3QmJnQoe2Vycm9yQ29kZTowLGV4dGVuZGVkRGF0YTpcIlwifSl9KSwoZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpciYmcih7ZXJyb3JDb2RlOnUuc3RhdGVDZW50ZXIuZ2V0U2VydmVyRXJyb3IoYStlKS5jb2RlLGV4dGVuZGVkRGF0YTpcIlwifSk7ZWxzZXt1LmxvZ2dlci5lcnJvcihcInpiLnNoLnNtcyBzdG9wIG1peCBmYWlsIFwiK0pTT04uc3RyaW5naWZ5KGUpKTt2YXIgdD12b2lkIDA7dD1lPT1vLmVycm9yQ29kZUxpc3QuVElNRU9VVD9uLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdG9wLmVycm9yLmtSZXF1ZXN0RXJyb3I6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RvcC5lcnJvci5rSW50ZXJuYWxFcnJvcixyJiZyKHtlcnJvckNvZGU6dC5jb2RlLGV4dGVuZGVkRGF0YTp0Lm1lc3NhZ2V9KX19KSl9cmV0dXJuITB9LHVwZGF0ZU1peFN0cmVhbTpmdW5jdGlvbihlLHQscil7dmFyIGQsbD10aGlzO3RoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC51bXMgY2FsbFwiKTt2YXIgaDtpZighZS5ub1Rhc2tJRCYmIWUudGFza0lEKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpiLnNoLnVtcyBubyB0YXNrSWQgZm91bmRcIikscih7ZXJyb3JDb2RlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtUYXNrSUROdWxsRXJyb3IuY29kZSxleHRlbmRlZERhdGE6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1Rhc2tJRE51bGxFcnJvci5tZXNzYWdlfSksITE7aWYoIWUubm9UYXNrSUQmJlwic3RyaW5nXCIhPXR5cGVvZiBlLnRhc2tJRClyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5yaC5sZyB0YXNrSWQgbXVzdCBiZSBzdHJpbmdcIikscih7ZXJyb3JDb2RlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtQYXJhbUVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtQYXJhbUVycm9yLm1lc3NhZ2V9KSwhMTtpZighZS5ub1Rhc2tJRCYmZS50YXNrSUQubGVuZ3RoPjI1NilyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgdGFza0lkIGlzIHRvbyBsb25nXCIpLHIoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rVGFza0lEVG9Mb25nRXJyb3IuY29kZSxleHRlbmRlZERhdGE6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1Rhc2tJRFRvTG9uZ0Vycm9yLm1lc3NhZ2V9KSwhMTtpZighZS5ub1Rhc2tJRCYmIXRoaXMuc3RhdGVDZW50ZXIuY2hlY2tJbGxlZ2FsQ2hhcmFjdGVycyhlLnRhc2tJRCkpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwiemIuc2gudW1zIHRhc2sgSUQgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzXCIpLHIoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rVGFza0lESW52YWxpZENoYXJhY3RlckVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtUYXNrSURJbnZhbGlkQ2hhcmFjdGVyRXJyb3IubWVzc2FnZX0pLCExO2lmKCFlLmlucHV0TGlzdHx8MD09ZS5pbnB1dExpc3QubGVuZ3RoKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpiLnNoLnVtcyBpbnB1dCBsaXN0IHdyb25nXCIpLHIoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rSW5wdXRMaXN0TnVsbEVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtJbnB1dExpc3ROdWxsRXJyb3IubWVzc2FnZX0pLCExO2UuaW5wdXRMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiQVVESU9cIj09PWUuY29udGVudFR5cGUmJighZS5sYXlvdXQmJihlLmxheW91dD17dG9wOjAsbGVmdDowLGJvdHRvbTowLHJpZ2h0OjB9KSxlLmxheW91dC50b3A9MCxlLmxheW91dC5sZWZ0PTAsZS5sYXlvdXQuYm90dG9tPTEsZS5sYXlvdXQucmlnaHQ9MSl9KSk7Zm9yKHZhciBwPTA7cDxlLmlucHV0TGlzdC5sZW5ndGg7cCsrKXt2YXIgZz1lLmlucHV0TGlzdFtwXSxmPXtlcnJvckNvZGU6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1BhcmFtRXJyb3IuY29kZSxleHRlbmRlZERhdGE6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1BhcmFtRXJyb3IubWVzc2FnZX07aWYoXCJvYmplY3RcIiE9dHlwZW9mIGcubGF5b3V0KXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpiLnNoLnVtcyBpbnB1dCBsYXlvdXQgbXVzdCBiZSBvYmplY3RcIikscihmKSwhMTtpZighKHRoaXMuc3RhdGVDZW50ZXIuY2hlY2tJbnRlZ2VyKGcubGF5b3V0LnRvcCwhMSkmJnRoaXMuc3RhdGVDZW50ZXIuY2hlY2tJbnRlZ2VyKGcubGF5b3V0LmJvdHRvbSwhMSkmJnRoaXMuc3RhdGVDZW50ZXIuY2hlY2tJbnRlZ2VyKGcubGF5b3V0LmxlZnQsITEpJiZ0aGlzLnN0YXRlQ2VudGVyLmNoZWNrSW50ZWdlcihnLmxheW91dC5yaWdodCwhMSkpKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpiLnNoLnVtcyB0b3DjgIFsZWZ044CBYm90dG9t44CBcmlnaHQgbXVzdCBiZSBpbnRlZ2VyIG51bWJlclwiKSxyKGYpLCExO2lmKHZvaWQgMCE9PWcucmVuZGVyTW9kZSYmIVswLDFdLmluY2x1ZGVzKGcucmVuZGVyTW9kZSkpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwiemIuc2gudW1zIHJlbmRlcl9tb2RlIGlzIHdyb25nXCIpLHIoZiksITF9aWYoIWUub3V0cHV0TGlzdHx8MD09ZS5vdXRwdXRMaXN0Lmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgbm8gb3V0cHV0IGxpc3QgZm91bmRcIikscih7ZXJyb3JDb2RlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtPdXRwdXRMaXN0TnVsbEVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtPdXRwdXRMaXN0TnVsbEVycm9yLm1lc3NhZ2V9KSwhMTtpZihlLm91dHB1dExpc3Quc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJiFsLnN0YXRlQ2VudGVyLmlzVXJsKGUpJiYhbC5zdGF0ZUNlbnRlci5jaGVja0lsbGVnYWxDaGFyYWN0ZXJzKGUpfHxcIm9iamVjdFwiPT10eXBlb2YgZSYmZS50YXJnZXQmJiFsLnN0YXRlQ2VudGVyLmlzVXJsKGUudGFyZ2V0KSYmIWwuc3RhdGVDZW50ZXIuY2hlY2tJbGxlZ2FsQ2hhcmFjdGVycyhlLnRhcmdldCl9KSkpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwiemIuc2gudW1zIHN0cmVhbSBvdXRwdXQgdGFyZ2V0IGlzIGluY29ycmVjdFwiKSxyKHtlcnJvckNvZGU6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua091dHB1dFRhcmdldEludmFsaWRFcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rT3V0cHV0VGFyZ2V0SW52YWxpZEVycm9yLm1lc3NhZ2V9KSwhMTtpZighKChoPWUuaW5wdXRMaXN0LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm5cIkFVRElPXCI9PT1lLmNvbnRlbnRUeXBlfSkpKXx8ZS5vdXRwdXRDb25maWcmJlwib2JqZWN0XCI9PXR5cGVvZiBlLm91dHB1dENvbmZpZykpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwiemIuc2gudW1zIG5vIG91dHB1dCBjb25maWcgZm91bmRcIikscih7ZXJyb3JDb2RlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtPdXRwdXROb1RhcmdldEVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtPdXRwdXROb1RhcmdldEVycm9yLm1lc3NhZ2V9KSwhMTtpZihoJiYoZS5vdXRwdXRDb25maWc9aShpKHt9LGUub3V0cHV0Q29uZmlnfHx7fSkse291dHB1dEJpdHJhdGU6LjAwMSxvdXRwdXRGUFM6MSxvdXRwdXRXaWR0aDoxLG91dHB1dEhlaWdodDoxfSkpLCEoaHx8ZS5vdXRwdXRDb25maWcub3V0cHV0Qml0cmF0ZSYmdGhpcy5zdGF0ZUNlbnRlci5jaGVja0ludGVnZXIoZS5vdXRwdXRDb25maWcub3V0cHV0Qml0cmF0ZSkpKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpiLnNoLnVtcyBiaXRyYXRlIHBhcmFtIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGludGVnZXIgbnVtYmVyXCIpLHIoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rUGFyYW1FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rUGFyYW1FcnJvci5tZXNzYWdlfSksITE7aWYoIWUub3V0cHV0Q29uZmlnLm91dHB1dEZQU3x8IXRoaXMuc3RhdGVDZW50ZXIuY2hlY2tJbnRlZ2VyKGUub3V0cHV0Q29uZmlnLm91dHB1dEZQUykpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwiemIuc2gudW1zIGZwcyBwYXJhbSBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBpbnRlZ2VyIG51bWJlclwiKSxyKHtlcnJvckNvZGU6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1BhcmFtRXJyb3IuY29kZSxleHRlbmRlZERhdGE6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1BhcmFtRXJyb3IubWVzc2FnZX0pLCExO2lmKCFlLm91dHB1dENvbmZpZy5vdXRwdXRXaWR0aHx8IXRoaXMuc3RhdGVDZW50ZXIuY2hlY2tJbnRlZ2VyKGUub3V0cHV0Q29uZmlnLm91dHB1dFdpZHRoKSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgd2lkdGggcGFyYW0gaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgaW50ZWdlciBudW1iZXJcIikscih7ZXJyb3JDb2RlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtQYXJhbUVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtQYXJhbUVycm9yLm1lc3NhZ2V9KSwhMTtpZighZS5vdXRwdXRDb25maWcub3V0cHV0SGVpZ2h0fHwhdGhpcy5zdGF0ZUNlbnRlci5jaGVja0ludGVnZXIoZS5vdXRwdXRDb25maWcub3V0cHV0SGVpZ2h0KSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgaGVpZ2h0IHBhcmFtIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGludGVnZXIgbnVtYmVyXCIpLHIoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rUGFyYW1FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rUGFyYW1FcnJvci5tZXNzYWdlfSksITE7aWYodm9pZCAwIT09ZS5vdXRwdXRDb25maWcub3V0cHV0QXVkaW9Db2RlY0lEJiYhdGhpcy5zdGF0ZUNlbnRlci5jaGVja0ludGVnZXIoZS5vdXRwdXRDb25maWcub3V0cHV0QXVkaW9Db2RlY0lELCExKSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgQXVkaW9Db2RlY0lEIHBhcmFtIG11c3QgYmUgaW50ZWdlciBudW1iZXJcIikscih7ZXJyb3JDb2RlOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtQYXJhbUVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtQYXJhbUVycm9yLm1lc3NhZ2V9KSwhMTtpZih2b2lkIDAhPT1lLm91dHB1dENvbmZpZy5vdXRwdXRBdWRpb0JpdHJhdGUmJiF0aGlzLnN0YXRlQ2VudGVyLmNoZWNrSW50ZWdlcihlLm91dHB1dENvbmZpZy5vdXRwdXRBdWRpb0JpdHJhdGUpKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpiLnNoLnVtcyBBdWRpb0JpdHJhdGUgcGFyYW0gbXVzdCBiZSBpbnRlZ2VyIG51bWJlclwiKSxyKHtlcnJvckNvZGU6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1BhcmFtRXJyb3IuY29kZSxleHRlbmRlZERhdGE6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQuZXJyb3Iua1BhcmFtRXJyb3IubWVzc2FnZX0pLCExO2lmKHZvaWQgMCE9PWUub3V0cHV0Q29uZmlnLm91dHB1dEF1ZGlvQ2hhbm5lbHMmJiF0aGlzLnN0YXRlQ2VudGVyLmNoZWNrSW50ZWdlcihlLm91dHB1dENvbmZpZy5vdXRwdXRBdWRpb0NoYW5uZWxzLCExKSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgQXVkaW9DaGFubmVscyBwYXJhbSBtdXN0IGJlIGludGVnZXIgbnVtYmVyXCIpLHIoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rUGFyYW1FcnJvci5jb2RlLGV4dGVuZGVkRGF0YTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rUGFyYW1FcnJvci5tZXNzYWdlfSksITE7dmFyIG09e30sXz0wO2Uub3V0cHV0Q29uZmlnLnNpbmdsZVN0cmVhbVBhc3NUaHJvdWdoJiZcImJvb2xlYW5cIj09dHlwZW9mIGUub3V0cHV0Q29uZmlnLnNpbmdsZVN0cmVhbVBhc3NUaHJvdWdoJiYoXz1lLm91dHB1dENvbmZpZy5zaW5nbGVTdHJlYW1QYXNzVGhyb3VnaD8xOjApLG09e3Rhc2tfaWQ6ZS50YXNrSUQsaWRfbmFtZTp0aGlzLnN0YXRlQ2VudGVyLmlkTmFtZSxsaXZlX2NoYW5uZWw6dGhpcy5yb29tSUQsYXBwaWQ6dGhpcy5zdGF0ZUNlbnRlci5hcHBpZCx2ZXJzaW9uOnMsYnlwYXNzOl8sdGltZXN0YW1wOk1hdGguY2VpbCgobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpfTt2YXIgdj1jO3YmJih2LnZpZGVvQ29kZWMmJihtLmV4dHJhX3BhcmFtcz1be2tleTpcInZpZGVvX2VuY29kZVwiLHZhbHVlOnYudmlkZW9Db2RlY31dKSx2LmJhY2tncm91bmRDb2xvciYmKG0ub3V0cHV0X2JnX2NvbG9yPXYuYmFja2dyb3VuZENvbG9yKSx2LmJhY2tncm91bmRJbWFnZSYmKG0ub3V0cHV0X2JnX2ltYWdlPXYuYmFja2dyb3VuZEltYWdlKSx2LndhdGVyTWFyayYmKG0ud2F0ZXJtYXJrPXYud2F0ZXJNYXJrKSx2LnVzZXJEYXRhJiYobS51c2VyZGF0YT10aGlzLnN0YXRlQ2VudGVyLnVpbnQ4YXJyYXlUb0Jhc2U2NCh2LnVzZXJEYXRhKSksdi5leHRyYVBhcmFtcyYmKCFtLmV4dHJhX3BhcmFtcyYmKG0uZXh0cmFfcGFyYW1zPVtdKSwoZD1tLmV4dHJhX3BhcmFtcykucHVzaC5hcHBseShkLHYuZXh0cmFQYXJhbXMpKSksbS5NaXhJbnB1dD1lLmlucHV0TGlzdC5tYXAoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5zdHJlYW1JRDtyZXR1cm4gbC5zdGF0ZUNlbnRlci50ZXN0RW52aXJvbm1lbnQmJihyPVwiemVnb3Rlc3QtXCIrbC5zdGF0ZUNlbnRlci5hcHBpZCtcIi1cIitlLnN0cmVhbUlEKSx7c3RyZWFtX2lkOnIsY29udGVudF9jb250cm9sOlwiQVVESU9cIj09PWUuY29udGVudFR5cGU/MTowLHJlY3Q6e2xheWVyOnQsdG9wOmUubGF5b3V0LnRvcCxsZWZ0OmUubGF5b3V0LmxlZnQsYm90dG9tOmUubGF5b3V0LmJvdHRvbSxyaWdodDplLmxheW91dC5yaWdodH0scmVuZGVyX21vZGU6ZS5yZW5kZXJNb2RlfX0pKSx0aGlzLnN0YXRlQ2VudGVyLmFjdGlvblN1Y2Nlc3NDYWxsYmFjayhcImtaZWdvVGFza01peFN0YXJ0XCIrZS50YXNrSUQsdGhpcy5zdGF0ZUNlbnRlci5yZXBvcnRMaXN0KSYmdGhpcy5zdGF0ZUNlbnRlci5hY3Rpb25TdWNjZXNzQ2FsbGJhY2soXCJrWmVnb1Rhc2tNaXhTdGFydFwiK2UudGFza0lELHRoaXMuc3RhdGVDZW50ZXIucmVwb3J0TGlzdCkodSx2b2lkIDAse21peF9zdHJlYW1faWQ6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQubWl4X3N0cmVhbV9pZChlLnRhc2tJRCksc3RyZWFtX2NudDpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5zdHJlYW1fY250KG0uTWl4SW5wdXQubGVuZ3RoKSxpbnB1dF9zdHJlYW1fbGlzdDpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5pbnB1dF9zdHJlYW1fbGlzdChtLk1peElucHV0KX0pLG0uTWl4T3V0cHV0PWUub3V0cHV0TGlzdC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBpPXt9LG89XCJcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClvPXQ7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8IXQudGFyZ2V0KXJldHVybiBsLmxvZ2dlci5lcnJvcihcInpiLnNoLnVtcyBvdXRwdXQgdGFyZ2V0IHJlcXVpcmVkXCIpLHIoe2Vycm9yQ29kZTpuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rT3V0cHV0VGFyZ2V0SW52YWxpZEVycm9yLmNvZGUsZXh0ZW5kZWREYXRhOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtPdXRwdXRUYXJnZXRJbnZhbGlkRXJyb3IubWVzc2FnZX0pLCExO289dC50YXJnZXR9cmV0dXJuIG8uc3RhcnRzV2l0aChcInJ0bXA6Ly9cIil8fG8uc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpJiZvLmVuZHNXaXRoKFwiLmZsdlwiKXx8by5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIikmJm8uZW5kc1dpdGgoXCIubTN1OFwiKT9pLm1peHVybD1vOmkuc3RyZWFtX2lkPWwuc3RhdGVDZW50ZXIudGVzdEVudmlyb25tZW50P1wiemVnb3Rlc3QtXCIrbC5zdGF0ZUNlbnRlci5hcHBpZCtcIi1cIitvOm8saS5iaXRyYXRlPTFlMyplLm91dHB1dENvbmZpZy5vdXRwdXRCaXRyYXRlLGkuZnBzPWUub3V0cHV0Q29uZmlnLm91dHB1dEZQUyxpLndpZHRoPWUub3V0cHV0Q29uZmlnLm91dHB1dFdpZHRoLGkuaGVpZ2h0PWUub3V0cHV0Q29uZmlnLm91dHB1dEhlaWdodCxlLm91dHB1dENvbmZpZy5vdXRwdXRBdWRpb0NvZGVjSUQmJihpLmF1ZGlvX2VuY19pZD1lLm91dHB1dENvbmZpZy5vdXRwdXRBdWRpb0NvZGVjSUQpLFwidnA4XCI9PT12LnZpZGVvQ29kZWM/aS5hdWRpb19lbmNfaWQ9MzpcImgyNjRcIj09PXYudmlkZW9Db2RlYyYmKGkuYXVkaW9fZW5jX2lkPTApLGUub3V0cHV0Q29uZmlnLm91dHB1dEF1ZGlvQml0cmF0ZSYmKGkuYXVkaW9fYml0cmF0ZT0xZTMqZS5vdXRwdXRDb25maWcub3V0cHV0QXVkaW9CaXRyYXRlKSxlLm91dHB1dENvbmZpZy5vdXRwdXRBdWRpb0NoYW5uZWxzJiYoaS5hdWRpb19jaGFubmVsX2NudD1lLm91dHB1dENvbmZpZy5vdXRwdXRBdWRpb0NoYW5uZWxzKSxpLnRlc3RlbnY9bC5zdGF0ZUNlbnRlci50ZXN0RW52aXJvbm1lbnQ/MTowLGl9KSksdGhpcy5zdGF0ZUNlbnRlci5hY3Rpb25TdWNjZXNzQ2FsbGJhY2soXCJrWmVnb1Rhc2tNaXhTdGFydFwiK2UudGFza0lELHRoaXMuc3RhdGVDZW50ZXIucmVwb3J0TGlzdCkmJnRoaXMuc3RhdGVDZW50ZXIuYWN0aW9uU3VjY2Vzc0NhbGxiYWNrKFwia1plZ29UYXNrTWl4U3RhcnRcIitlLnRhc2tJRCx0aGlzLnN0YXRlQ2VudGVyLnJlcG9ydExpc3QpKHUsdm9pZCAwLHtvdXRwdXRfdGFyZ2V0X2xpc3Q6bi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTWl4U3RhcnQub3V0cHV0X3RhcmdldF9saXN0KG0uTWl4T3V0cHV0KX0pLHRoaXMubG9nZ2VyLmRlYnVnKFwiemIuc2gudW1zIHNlbmQgY29tbWFuZFwiKTt2YXIgRT1cInplZ290ZXN0LVwiK3RoaXMuc3RhdGVDZW50ZXIuYXBwaWQrXCItXCI7aWYodGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudCl0aGlzLnNlbmRCaXpDaGFubmVsUmVxdWVzdFYyKHtzZXJ2ZXI6MTIsbG9jYXRpb246XCIvaW50ZXJmYWNlL2NvbW1hbmRcIixjbWQ6XCJzdGFydF9taXhcIn0sbSwoZnVuY3Rpb24oZSl7dmFyIHI9ZS5wbGF5Lm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9e3J0bXBVUkw6XCJcIixobHNVUkw6XCJcIixmbHZVUkw6XCJcIn0scj1lLnN0cmVhbV9hbGlhc3x8XCJcIjtyZXR1cm4gbC5zdGF0ZUNlbnRlci50ZXN0RW52aXJvbm1lbnQmJnImJnIuc3RhcnRzV2l0aChFKSYmKHI9ci5zbGljZShFLmxlbmd0aCkpLHQuc3RyZWFtSUQ9cixlLnJ0bXBfdXJsJiZlLnJ0bXBfdXJsLmxlbmd0aD4wJiYodC5ydG1wVVJMPWUucnRtcF91cmwpLGUuaGxzX3VybCYmZS5obHNfdXJsLmxlbmd0aD4wJiYodC5obHNVUkw9ZS5obHNfdXJsKSxlLmhkbF91cmwmJmUuaGRsX3VybC5sZW5ndGg+MCYmKHQuZmx2VVJMPWUuaGRsX3VybCksdH0pKTt0JiZ0KHtlcnJvckNvZGU6MCxleHRlbmRlZERhdGE6SlNPTi5zdHJpbmdpZnkoe21peGVyT3V0cHV0TGlzdDpyfSl9KX0pLChmdW5jdGlvbihlLHQsaSxzKXt2YXIgYz1cIlwiO2lmKHMpcmV0dXJuIHM9PW8uZXJyb3JDb2RlTGlzdC5USU1FT1VUJiYocz1uLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rUmVxdWVzdEVycm9yKSxzLmNvZGUmJjIwMDEwPT09cy5jb2RlJiYocz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG8uZXJyb3JDb2RlTGlzdC5NSVhFUl9OT19TRVJWSUNFUykpKSx2b2lkKHImJnIocyxjKSk7aWYocz1uLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rSW50ZXJuYWxFcnJvciwyMDA9PT1lKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7aWYobC5sb2dnZXIuZGVidWcoXCJ6Yi5zaC51bXMgZXJyb3I6IFwiK3QpLDEwMDAwMDAxNTA9PSh0Kz0xZTkpJiZpKXt2YXIgdT1pLGQ9KG51bGw9PXU/dm9pZCAwOnUubm9uX2V4aXN0X3N0cmVhbXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbC5zdGF0ZUNlbnRlci50ZXN0RW52aXJvbm1lbnQmJmUuc3RhcnRzV2l0aChFKT9lLnNsaWNlKEUubGVuZ3RoKTplfSkpKXx8W107ZC5sZW5ndGg+MCYmKGwubG9nZ2VyLmRlYnVnKFwiemIuc2gudW1zIG5vdCBleGlzdCBzdHJlYW1zOiBcIitkKSxjPWQuam9pbihcIixcIikpfXJldHVybiB2b2lkKHImJnIoe2Vycm9yQ29kZTpsLnN0YXRlQ2VudGVyLmdldFNlcnZlckVycm9yKGErdCkuY29kZSxleHRlbmRlZERhdGE6Y30pKX1sLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLnVtcyBlcnJvciBjb2RlIFwiK3QpO3ZhciBoPW4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtJbnRlcm5hbEVycm9yO3ImJnIoe2Vycm9yQ29kZTpoLmNvZGUsZXh0ZW5kZWREYXRhOmgubWVzc2FnZX0pfWVsc2UgbC5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC51bXMgXCIrKGM9XCJyZXF1ZXN0IG1peCBzZXJ2ZXIgZmFpbCwgZXJyb3I6IFwiK2UpKSxyJiZyKHMsYyl9KSk7ZWxzZXt2YXIgUz17Y2hhbm5lbDpcInpldXNcIixjbWQ6XCJzdGFydF9taXhcIixyZXFfYm9keTpKU09OLnN0cmluZ2lmeShtKX07dGhpcy5zZW5kQml6Q2hhbm5lbFJlcXVlc3QoUywoZnVuY3Rpb24oZSxpLG8pe2lmKGwubG9nZ2VyLmRlYnVnKFwiemIuc2gudW1zIHJlY2VpdmUgbWVzc2FnZVwiKSwwIT1vLmxlbmd0aCl7Zm9yKHZhciBuPUpTT04ucGFyc2Uobykscz1bXSxhPTA7YTxuLnBsYXkubGVuZ3RoO2ErKyl7dmFyIGM9e3J0bXBVUkw6XCJcIixobHNVUkw6XCJcIixmbHZVUkw6XCJcIn0sdT1uLnBsYXlbYV0uc3RyZWFtX2FsaWFzfHxcIlwiO2wuc3RhdGVDZW50ZXIudGVzdEVudmlyb25tZW50JiZ1JiZ1LnN0YXJ0c1dpdGgoRSkmJih1PXUuc2xpY2UoRS5sZW5ndGgpKSxjLnN0cmVhbUlEPXUsbi5wbGF5W2FdLnJ0bXBfdXJsJiZuLnBsYXlbYV0ucnRtcF91cmwubGVuZ3RoPjAmJihjLnJ0bXBVUkw9bi5wbGF5W2FdLnJ0bXBfdXJsKSxuLnBsYXlbYV0uaGxzX3VybCYmbi5wbGF5W2FdLmhsc191cmwubGVuZ3RoPjAmJihjLmhsc1VSTD1uLnBsYXlbYV0uaGxzX3VybCksbi5wbGF5W2FdLmhkbF91cmwmJm4ucGxheVthXS5oZGxfdXJsLmxlbmd0aD4wJiYoYy5mbHZVUkw9bi5wbGF5W2FdLmhkbF91cmwpLHMucHVzaChjKX1pZih0KXQoe2Vycm9yQ29kZTowLGV4dGVuZGVkRGF0YTpKU09OLnN0cmluZ2lmeSh7bWl4ZXJPdXRwdXRMaXN0OnN9KX0pfWVsc2UgciYmcih7ZXJyb3JDb2RlOmwuc3RhdGVDZW50ZXIuZ2V0U2VydmVyRXJyb3IoMTAwMDEpLmNvZGUsZXh0ZW5kZWREYXRhOlwiXCJ9KX0pLChmdW5jdGlvbihlLHQsaSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpe2wubG9nZ2VyLmRlYnVnKFwiemIuc2gudW1zIGVycm9yOiBcIitlKTt2YXIgcz1bXTtpZigxMDAwMDAwMTUwPT1lJiYwIT1pLmxlbmd0aClmb3IodmFyIGM9SlNPTi5wYXJzZShpKSx1PTA7dTxjLm5vbl9leGlzdF9zdHJlYW1zLmxlbmd0aDt1Kyspe3ZhciBkPWMubm9uX2V4aXN0X3N0cmVhbXNbdV07bC5zdGF0ZUNlbnRlci50ZXN0RW52aXJvbm1lbnQmJmQuc3RhcnRzV2l0aChFKT9zLnB1c2goZC5zbGljZShFLmxlbmd0aCkpOnMucHVzaChkKX1yJiZyKHtlcnJvckNvZGU6bC5zdGF0ZUNlbnRlci5nZXRTZXJ2ZXJFcnJvcihhK2UpLmNvZGUsZXh0ZW5kZWREYXRhOlwiXCJ9KX1lbHNle2wubG9nZ2VyLmRlYnVnKFwiemIuc2gudW1zIGVycm9yIGNvZGUgXCIrZS5jb2RlKTt2YXIgaD12b2lkIDA7aD1lPT1vLmVycm9yQ29kZUxpc3QuVElNRU9VVD9uLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tNaXhTdGFydC5lcnJvci5rUmVxdWVzdEVycm9yOm4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza01peFN0YXJ0LmVycm9yLmtJbnRlcm5hbEVycm9yLHImJnIoe2Vycm9yQ29kZTpoLmNvZGUsZXh0ZW5kZWREYXRhOmgubWVzc2FnZX0pfX0pKX1yZXR1cm4hMH19fSw2NTQ4OmZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5lcnJvckNvZGVMaXN0PXZvaWQgMCx0LmVycm9yQ29kZUxpc3Q9e05PVF9MT0dJTjp7Y29kZToxMDAwMDAyLG1lc3NhZ2U6XCJub3QgbG9naW4gcm9vbVwifSxJTlBVVF9QQVJBTTp7Y29kZToxMTAwMDAxLG1lc3NhZ2U6XCJpbnB1dCBwYXJhbSBlcnJvci5cIn0sVElNRU9VVDp7Y29kZToxMTAwMDAyLG1lc3NhZ2U6XCJuZXR3b3JrIHRpbWVvdXQuXCJ9LE1JWEVSX05PX1NFUlZJQ0VTOntjb2RlOjEwMDVlMyxtZXNzYWdlOlwibm8gbWl4IHN0cmVhbSBzZXJ2aWNlXCJ9LE1JWEVSX1RBU0tfSURfTlVMTDp7Y29kZToxMDA1MDAxLG1lc3NhZ2U6XCJtaXhlciB0YXNrIGlzIG51bGxcIn0sTUlYRVJfVEFTS19JRF9UT09fTE9ORzp7Y29kZToxMDA1MDAyLG1lc3NhZ2U6XCJ0YXNrIElEIGlzIHRvbyBsb25nXCJ9LE1JWEVSX1RBU0tfSURfSU5WQUxJRF9DSEFSQUNURVI6e2NvZGU6MTAwNTAwMyxtZXNzYWdlOlwidGFzayBJRCBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnNcIn0sTUlYRVJfTk9fT1VUUFVUX1RBUkdFVDp7Y29kZToxMDA1MDA1LG1lc3NhZ2U6XCJ0YXNrIGNvbmZpZ3VyYXRpb24gZG9lcyBub3Qgc3BlY2lmeSBvdXRwdXRcIn0sTUlYRVJfT1VUUFVUX1RBUkdFVF9JTlZBTElEOntjb2RlOjEwMDUwMDYsbWVzc2FnZTpcInN0cmVhbSBvdXRwdXQgdGFyZ2V0IGlzIGluY29ycmVjdFwifSxNSVhFUl9TVEFSVF9SRVFVRVNUX0VSUk9SOntjb2RlOjEwMDUwMTAsbWVzc2FnZTpcInN0YXJ0IG1peGVyIHRhc2sgZmFpbCwgcG9zc2libHkgZHVlIHRvIG5ldHdvcmsgcmVhc29uc1wifSxNSVhFUl9TVE9QX1JFUVVFU1RfRVJST1I6e2NvZGU6MTAwNTAxMSxtZXNzYWdlOlwic3RvcCBtaXhlciB0YXNrIGZhaWwsIHBvc3NpYmx5IGR1ZSB0byBuZXR3b3JrIHJlYXNvbnNcIn0sTUlYRVJfTk9UX09XTkVSX1NUT1BfTUlYRVI6e2NvZGU6MTAwNTAxMixtZXNzYWdlOlwiIG1heGVkIHRhc2sgbXVzdCBiZSBzdG9wcGVkIGJ5IHRoZSBzdGFydCB1c2VyIG9mIHRoZSB0YXNrXCJ9LE1JWEVSX0lOUFVUTElTVF9OVUxMOntjb2RlOjEwMDUwMjAsbWVzc2FnZTpcIk1peGVkIHN0cmVhbSB0YXNrIGlucHV0IGxpc3QgaXMgbnVsbFwifSxNSVhFUl9PVVRQVVRMSVNUX05VTEw6e2NvZGU6MTAwNTAyMSxtZXNzYWdlOlwiTWl4ZWQgc3RyZWFtIHRhc2sgb3V0cHV0IGxpc3QgaXMgbnVsbFwifSxNSVhFUl9WSURFT19DT05GSUdfSU5WQUxJRDp7Y29kZToxMDA1MDIzLG1lc3NhZ2U6XCJpbnZhbGlkIG1peGVkIHN0cmVhbSB0YXNrIHZpZGVvIGNvbmZpZ3VyYXRpb25cIn0sTUlYRVJfRVhDRUVEX01BWF9JTlBVVF9DT1VOVDp7Y29kZToxMDA1MDI1LG1lc3NhZ2U6XCJtb3JlIHRoYW4gdGhlIG1heGltdW0gbnVtYmVyIG9mIGlucHV0IHN0cmVhbXNcIn0sTUlYRVJfSU5QVVRfU1RSRUFNX05PVF9FWElTVFM6e2NvZGU6MTAwNTAyNixtZXNzYWdlOlwiSW5wdXQgc3RyZWFtIGRvZXMgbm90IGV4aXN0XCJ9LE1JWEVSX0VYQ0VFRF9NQVhfT1VUUFVUX0NPVU5UOntjb2RlOjEwMDUwMzAsbWVzc2FnZTpcIm1vcmUgdGhhbiB0aGUgbWF4aW11bSBudW1iZXIgb2Ygb3V0cHV0IHN0cmVhbXNcIn0sTUlYRVJfQVVUSEVOVElDQVRJT05fRkFJTEVEOntjb2RlOjEwMDUwNTAsbWVzc2FnZTpcIm1peGVkIHN0cmVhbSBhdXRoZW50aWNhdGlvbiBmYWlsZWRcIn0sTUlYRVJfV0FURVJNQVJLX05VTEw6e2NvZGU6MTAwNTA2MSxtYWc6XCJpbnB1dCB3YXRlcm1hcmsgaXMgbnVsbFwifSxNSVhFUl9XQVRFUk1BUktfUEFSQU1FVEVSU19FUlJPUjp7Y29kZToxMDA1MDYyLG1lc3NhZ2U6XCJpbnB1dCB3YXRlcm1hcmsgcGFyYW1ldGVyIGlzIHdyb25nXCJ9LE1JWEVSX1dBVEVSTUFSS19VUkxfSU5WQUxJRDp7Y29kZToxMDA1MDYzLG1lc3NhZ2U6XCJpbGxlZ2FsIGlucHV0IHdhdGVybWFyayBVUkxcIn0sTUlYRVJfQkFDS0dST1VORF9JTUFHRV9VUkxfSU5WQUxJRDp7Y29kZToxMDA1MDY3LG1lc3NhZ2U6XCJpbGxlZ2FsIGlucHV0IGJhY2tncm91bmQgaW1hZ2UgVVJMXCJ9LE1JWEVSX1JFUEVBVF9JTlBVVDp7Y29kZToxMDA1MDk5LG1lc3NhZ2U6XCJtaXggc3RyZWFtIGlucHV0IHJlcGVhdFwifSxNSVhFUl9JTk5FUl9FUlJPUjp7Y29kZToxMDA1MDk5LG1lc3NhZ2U6XCJtaXhlciBpbnRlcm5hbCBlcnJvclwifX19LDMzOTI6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPXIoODQ1NCk7dC5kZWZhdWx0PXt0eXBlOlwiTWl4U3RyZWFtXCIsaW5zdGFsbDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiBpLnplZ29XZWJSVEMpT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLHIse3ZhbHVlOmkuemVnb1dlYlJUQ1tyXSx3cml0YWJsZTohMX0pO2Zvcih2YXIgciBpbiBpLnN0cmVhbUhhbmRsZXIpT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLHIse3ZhbHVlOmkuc3RyZWFtSGFuZGxlcltyXSx3cml0YWJsZTohMX0pfX19LDYzMDQ6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb1JUQ0xvZ0V2ZW50PXZvaWQgMDt2YXIgaT1yKDY1NDgpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O3QuWmVnb1JUQ0xvZ0V2ZW50PXtrWmVnb1Rhc2tNaXhTdGFydDp7ZXZlbnQ6XCIvbWl4L3N0YXJ0X21peFwiLGVycm9yOntrUGFyYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuSU5QVVRfUEFSQU0sa1Rhc2tJRE51bGxFcnJvcjppLmVycm9yQ29kZUxpc3QuTUlYRVJfVEFTS19JRF9OVUxMLGtUYXNrSURUb0xvbmdFcnJvcjppLmVycm9yQ29kZUxpc3QuTUlYRVJfVEFTS19JRF9UT09fTE9ORyxrVGFza0lESW52YWxpZENoYXJhY3RlckVycm9yOmkuZXJyb3JDb2RlTGlzdC5NSVhFUl9UQVNLX0lEX0lOVkFMSURfQ0hBUkFDVEVSLGtJbnB1dExpc3ROdWxsRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk1JWEVSX0lOUFVUTElTVF9OVUxMLGtPdXRwdXRMaXN0TnVsbEVycm9yOmkuZXJyb3JDb2RlTGlzdC5NSVhFUl9PVVRQVVRMSVNUX05VTEwsa091dHB1dFRhcmdldEludmFsaWRFcnJvcjppLmVycm9yQ29kZUxpc3QuTUlYRVJfT1VUUFVUX1RBUkdFVF9JTlZBTElELGtPdXRwdXROb1RhcmdldEVycm9yOmkuZXJyb3JDb2RlTGlzdC5NSVhFUl9OT19PVVRQVVRfVEFSR0VULGtSZXF1ZXN0RXJyb3I6aS5lcnJvckNvZGVMaXN0Lk1JWEVSX1NUQVJUX1JFUVVFU1RfRVJST1Isa0ludGVybmFsRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk1JWEVSX0lOTkVSX0VSUk9SLGtOb0xvZ2luRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk5PVF9MT0dJTn0sbWl4X3N0cmVhbV9pZDpvLHN0cmVhbV9jbnQ6byxpbnB1dF9zdHJlYW1fbGlzdDpvLG91dHB1dF90YXJnZXRfbGlzdDpvfSxrWmVnb1Rhc2tNaXhTdG9wOntldmVudDpcIi9taXgvc3RvcF9taXhcIixlcnJvcjp7a1BhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNLGtUYXNrSUROdWxsRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk1JWEVSX1RBU0tfSURfTlVMTCxrUmVxdWVzdEVycm9yOmkuZXJyb3JDb2RlTGlzdC5NSVhFUl9TVE9QX1JFUVVFU1RfRVJST1Isa0ludGVybmFsRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk1JWEVSX0lOTkVSX0VSUk9SLGtOb0xvZ2luRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk5PVF9MT0dJTn19LGtaZWdvVGFza01peENvbmZpZzp7ZXZlbnQ6XCIvbWl4L2NvbmZpZ19taXhcIixlcnJvcjp7a1BhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNLGtWaWRlb0NvbmZpZ0ludmFsaWRFcnJvcjppLmVycm9yQ29kZUxpc3QuTUlYRVJfVklERU9fQ09ORklHX0lOVkFMSUQsa0JhY2tncm91bmRJbWFnZVVybEludmFsaWRFcnJvcjppLmVycm9yQ29kZUxpc3QuTUlYRVJfQkFDS0dST1VORF9JTUFHRV9VUkxfSU5WQUxJRCxrTm9Mb2dpbkVycm9yOmkuZXJyb3JDb2RlTGlzdC5OT1RfTE9HSU59LGNvbmZpZzpvfX19LDIwMzY6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxpPWFyZ3VtZW50cy5sZW5ndGg7cjxpO3IrKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbz10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sbil7ZnVuY3Rpb24gcyhlKXt0cnl7YyhpLm5leHQoZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2MoaS50aHJvdyhlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxhKX1jKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LG49dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG8sbixzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBuPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYobltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxuO2Z1bmN0aW9uIGEobil7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihuKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxpJiYobz0yJm5bMF0/aS5yZXR1cm46blswXT9pLnRocm93fHwoKG89aS5yZXR1cm4pJiZvLmNhbGwoaSksMCk6aS5uZXh0KSYmIShvPW8uY2FsbChpLG5bMV0pKS5kb25lKXJldHVybiBvO3N3aXRjaChpPTAsbyYmKG49WzImblswXSxvLnZhbHVlXSksblswXSl7Y2FzZSAwOmNhc2UgMTpvPW47YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm5bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxpPW5bMV0sbj1bMF07Y29udGludWU7Y2FzZSA3Om49cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShvPXMudHJ5cywobz1vLmxlbmd0aD4wJiZvW28ubGVuZ3RoLTFdKXx8NiE9PW5bMF0mJjIhPT1uWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1uWzBdJiYoIW98fG5bMV0+b1swXSYmblsxXTxvWzNdKSl7cy5sYWJlbD1uWzFdO2JyZWFrfWlmKDY9PT1uWzBdJiZzLmxhYmVsPG9bMV0pe3MubGFiZWw9b1sxXSxvPW47YnJlYWt9aWYobyYmcy5sYWJlbDxvWzJdKXtzLmxhYmVsPW9bMl0scy5vcHMucHVzaChuKTticmVha31vWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bj10LmNhbGwoZSxzKX1jYXRjaChlKXtuPVs2LGVdLGk9MH1maW5hbGx5e3I9bz0wfWlmKDUmblswXSl0aHJvdyBuWzFdO3JldHVybnt2YWx1ZTpuWzBdP25bMV06dm9pZCAwLGRvbmU6ITB9fShbbixhXSl9fX0scz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJBTkdFX0FVRElPPXZvaWQgMDt2YXIgYT1zKHIoODE1MikpLGM9cyhyKDYwOTgpKSx1PXMocig2NDQpKSxkPXMocig5NTYpKSxsPXIoMjU4Nik7dC5SQU5HRV9BVURJTz1cInpjLnJhLjBcIjt2YXIgaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyKXt2YXIgbz10aGlzO3RoaXMubG9nZ2VyPXIsdGhpcy5pc1NwYXRpYWw9ITEsdGhpcy5hdWRpb1NvdXJjZUxpc3Q9W10sdGhpcy5hdWRpb1NvdXJjZVVwZGF0ZT0hMSx0aGlzLmxvY2FsVXNlckxpc3Q9W10sdGhpcy5zcGVha2luZ1VzZXJJZExpc3Q9W10sdGhpcy52b2x1bWU9MSx0aGlzLnNwZWFrZXI9XCJcIix0aGlzLl9hdWRpb0N0eD1udWxsLHRoaXMuc3VwcG9ydFNwZWFrZXJTZXQ9ITEsdGhpcy56ZWdvUlRDPWUsdGhpcy56ZWdvUlRDLm9uKFwicm9vbVN0cmVhbVVwZGF0ZVwiLChmdW5jdGlvbihlLHIsbil7by5sb2dnZXIuaW5mbyh0LlJBTkdFX0FVRElPK1wiIHJvb21TdHJlYW1VcGRhdGU6IFwiK0pTT04uc3RyaW5naWZ5KG4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm57ZXh0cmFJbmZvOmUuZXh0cmFJbmZvLHN0cmVhbUlEOmUuc3RyZWFtSUR9fSkpKSk7dmFyIHM9bi5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PW8uZ2V0U3RyZWFtSW5mbyhlLmV4dHJhSW5mbyxlLnN0cmVhbUlEKSxyPXQuaXNSYW5nZUF1ZGlvU3RyZWFtLG49dC50ZWFtSUQscz10LnNlbmRNb2RlO3JldHVybiBpKGkoe30sZSkse2lzUmFuZ2VBdWRpb1N0cmVhbTpyLHRlYW1JRDpuLHNlbmRNb2RlOnN9KX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzUmFuZ2VBdWRpb1N0cmVhbX0pKSxjPXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51c2VyLnVzZXJJRH0pKTtcIkRFTEVURVwiPT09cj9vLnNwZWFraW5nVXNlcklkTGlzdD1vLnNwZWFraW5nVXNlcklkTGlzdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciB0PSFjLmluY2x1ZGVzKGUpO2lmKCF0KXt2YXIgcj1vLmF1ZGlvU291cmNlTWFwW2VdO2lmKHImJnIuaXNQbGF5aW5nKXtyLnN0b3BQbGF5aW5nQXVkaW8oXCJzdG9wIGZvciBzdHJlYW0gZGVsZXRlXCIpfX1yZXR1cm4gdH0pKTpcIkFERFwiPT09ciYmKG8uc3BlYWtpbmdVc2VySWRMaXN0PW8uc3BlYWtpbmdVc2VySWRMaXN0LmNvbmNhdChjKSxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUudXNlci51c2VySUQscj1vLmF1ZGlvU291cmNlTWFwW3RdLGk9ZS50ZWFtSUQsbj1lLnNlbmRNb2RlLHM9ISghW1wiXCIsdm9pZCAwXS5pbmNsdWRlcyhpKSYmby5yYW5nZUxpc3RlbmVyLnRlYW1JRD09PWkpJiZvLmlzU3BhdGlhbDtpZihyKXIuc3RyZWFtSUQ9ZS5zdHJlYW1JRCx2b2lkIDAhPT1uJiYoci5zZW5kTW9kZT1uKSxpIT09ci50ZWFtSUQmJihyLnRlYW1JRD1pKSxyLmVuYWJsZVNwYXRpYWxpemVyKHMpO2Vsc2V7dmFyIGM9bmV3IGEuZGVmYXVsdChvLmxvZ2dlcix7dXNlcklEOnQsdGVhbUlEOmksc2VuZE1vZGU6bn0se2F1ZGlvQ3R4Om8uYXVkaW9DdHgsemVnb1JUQzpvLnplZ29SVEMsaXNTcGF0aWFsOnMsbWF4RGlzdGFuY2U6by5yYW5nZUxpc3RlbmVyLnJlY3ZSYW5nZSx2b2x1bWU6by52b2x1bWUsc3BlYWtlcjpvLnNwZWFrZXJ9KTtjLnN0cmVhbUlEPWUuc3RyZWFtSUQsby5hdWRpb1NvdXJjZUxpc3QucHVzaChjKSxvLnBsYXlTdHJlYW1IYW5kbGVyLmhhc0NoYW5nZWQ9ITB9fSkpKSxvLnBsYXlTdHJlYW1IYW5kbGVyLnNldEF1ZGlvU291cmNlTGlzdChvLnNwZWFraW5nQXVkaW9Tb3VyY2VMaXN0KX0pKSx0aGlzLnplZ29SVEMub24oXCJwbGF5ZXJTdGF0ZVVwZGF0ZVwiLChmdW5jdGlvbihlKXt2YXIgdD1vLmF1ZGlvU291cmNlTGlzdC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdHJlYW1JRD09PWUuc3RyZWFtSUR9KSk7dCYmKFwiTk9fUExBWVwiPT09ZS5zdGF0ZT90LmlzUGxheWluZz0hMTooXCJQTEFZSU5HXCI9PT1lLnN0YXRlJiZ0LmNoZWNrVHJhY2tDaGFuZ2VkKCksdC5pc1BsYXlpbmc9ITApKX0pKSx0aGlzLnplZ29SVEMub24oXCJzdHJlYW1FeHRyYUluZm9VcGRhdGVcIiwoZnVuY3Rpb24oZSxyKXtvLmxvZ2dlci5pbmZvKHQuUkFOR0VfQVVESU8rXCIgcmVjdiBleHRyYSBpbmZvOiBcIitKU09OLnN0cmluZ2lmeShyKSksci5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1vLmF1ZGlvU291cmNlTWFwW2UudXNlci51c2VySURdO2lmKHQmJnQuc3RyZWFtSUQpe3ZhciByPW8uZ2V0U3RyZWFtSW5mbyhlLmV4dHJhSW5mbyxlLnN0cmVhbUlEKSxpPXIudGVhbUlELG49ci5zZW5kTW9kZTtpIT09dC50ZWFtSUQmJih0LnRlYW1JRD1pLG8uZW5hYmxlU3BhdGlhbGl6ZXIoby5pc1NwYXRpYWwpKSx2b2lkIDAhPT1uJiYodC5zZW5kTW9kZT1uKSxvLnBsYXlTdHJlYW1IYW5kbGVyLmhhc0NoYW5nZWQ9ITB9fSkpfSkpLHRoaXMuemVnb1JUQy5SVE0uX29uKFwiX3Jvb21TdGF0ZVVwZGF0ZVwiLChmdW5jdGlvbihlLHQpe1wiQ09OTkVDVEVEXCI9PT10PyhvLnJvb21JRD1lLG8ucmFuZ2VMaXN0ZW5lci51c2VySUQ9by56ZWdvUlRDLlJUTS5nZXRVc2VySUQoKSxvLnBsYXlTdHJlYW1IYW5kbGVyLmhhc0NoYW5nZWQ9ITApOlwiRElTQ09OTkVDVEVEXCI9PT10JiYoby5yb29tSUQ9dm9pZCAwLG8ucmFuZ2VMaXN0ZW5lci5yZXNldCgpLG8uZW5hYmxlU3BlYWtlcighMSksby5hdWRpb1NvdXJjZUxpc3Q9W10sby5wbGF5U3RyZWFtSGFuZGxlci5zZXRBdWRpb1NvdXJjZUxpc3QoW10pLG8ubG9jYWxVc2VyTGlzdD1bXSxvLnBsYXlTdHJlYW1IYW5kbGVyLnNldExvY2FsVXNlckxpc3QoW10pKX0pKSx0aGlzLnplZ29SVEMuUlRNLm9uKFwicm9vbVVzZXJVcGRhdGVcIiwoZnVuY3Rpb24oZSxyLGkpe3ZhciBuO28ubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiByb29tVXNlclVwZGF0ZTogXCIsZSxyLEpTT04uc3RyaW5naWZ5KGkpKSxcIkFERFwiPT09cj8obj1vLmxvY2FsVXNlckxpc3QpLnB1c2guYXBwbHkobixpKTpcIkRFTEVURVwiPT09ciYmaS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLmxvY2FsVXNlckxpc3Q9by5sb2NhbFVzZXJMaXN0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQudXNlcklEIT09ZS51c2VySUR9KSl9KSksby5wbGF5U3RyZWFtSGFuZGxlci5zZXRMb2NhbFVzZXJMaXN0KG8ubG9jYWxVc2VyTGlzdCl9KSk7dmFyIG49d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDt0aGlzLl9hdWRpb0N0eD10aGlzLnplZ29SVEMmJnRoaXMuemVnb1JUQy5hY3x8bmV3IG4sdGhpcy5yYW5nZUxpc3RlbmVyPWMuZGVmYXVsdC5nZXRJbnN0YW5jZSh0aGlzLmF1ZGlvQ3R4LHRoaXMuemVnb1JUQyksdGhpcy5wbGF5U3RyZWFtSGFuZGxlcj11LmRlZmF1bHQuZ2V0SW5zdGFuY2UodGhpcy5sb2dnZXIsdGhpcy5yYW5nZUxpc3RlbmVyKSx0aGlzLmV2ZW50TWFuYWdlcj1kLmRlZmF1bHQuZ2V0SW5zdGFuY2UoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYXVkaW9Tb3VyY2VNYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXVkaW9Tb3VyY2VMaXN0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC51c2VySUQmJihlW3QudXNlcklEXT10KSxlfSkse30pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNwZWFraW5nQXVkaW9Tb3VyY2VMaXN0XCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuYXVkaW9Tb3VyY2VMaXN0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGUuc3BlYWtpbmdVc2VySWRMaXN0LmluY2x1ZGVzKHQudXNlcklEKX0pKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwbGF5aW5nQXVkaW9Tb3VyY2VMaXN0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF1ZGlvU291cmNlTGlzdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzUGxheWluZ30pKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhdWRpb0N0eFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fYXVkaW9DdHgpe3ZhciBlPXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7dGhpcy5fYXVkaW9DdHg9bmV3IGV9cmV0dXJuIHRoaXMuX2F1ZGlvQ3R4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5pbnN0YW5jZXx8KGUuaW5zdGFuY2U9bmV3IGUodCxyKSksZS5pbnN0YW5jZX0sZS5wcm90b3R5cGUucmVzdW1lQXVkaW9Db250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24odCl7cmV0dXJuWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2UuYXVkaW9DdHgub25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe1wicnVubmluZ1wiPT09ZS5hdWRpb0N0eC5zdGF0ZSYmdCghMCl9LGUuYXVkaW9DdHguc3VzcGVuZCgpLGUuYXVkaW9DdHgucmVzdW1lKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KCExKX0pLDNlMyl9KSldfSkpfSkpfSxlLnByb3RvdHlwZS5nZXRBdWRpb0NvbnRleHRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF1ZGlvQ3R4LnN0YXRlfSxlLnByb3RvdHlwZS5nZXRTdHJlYW1JbmZvPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwLG89bnVsbDt0cnl7bz1KU09OLnBhcnNlKGUpfWNhdGNoKGUpe3JldHVybiB0aGlzLmxvZ2dlci53YXJuKHQuUkFOR0VfQVVESU8rXCIgcGFyc2Ugcm9vbSBleHRyYSBpbmZvIGZhaWxlZC4gXCIuY29uY2F0KHIsXCIgaXMgbm90IHJhIHN0cmVhbS5cIikpLHtpc1JhbmdlQXVkaW9TdHJlYW06ITF9fWlmKCFvLmhhc093blByb3BlcnR5KFwicmFuZ2VfYXVkaW9fdGVhbV9pZFwiKXx8IW8uaGFzT3duUHJvcGVydHkoXCJyYW5nZV9hdWRpb19tb2RlXCIpKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKHQuUkFOR0VfQVVESU8rXCIgZXh0cmEgaW5mbyBoYXMgbm8gbW9kZS4gXCIuY29uY2F0KHIsXCIgaXMgbm90IHJhIHN0cmVhbS5cIikpLHtpc1JhbmdlQXVkaW9TdHJlYW06ITF9O2k9ezE6MCwyOjEsMzoyfVtvLnJhbmdlX2F1ZGlvX21vZGVdO3ZhciBuPW8ucl9hX3NfZmxhZyxzPXt0ZWFtSUQ6by5yYW5nZV9hdWRpb190ZWFtX2lkfHx2b2lkIDAsc2VuZE1vZGU6aSxpc1JhbmdlQXVkaW9TdHJlYW06dm9pZCAwPT09bnx8MT09PW59O3JldHVybiB0aGlzLmxvZ2dlci5pbmZvKFwiXCIuY29uY2F0KHQuUkFOR0VfQVVESU8sXCIgXCIpLmNvbmNhdChyLFwiIHBhcnNlIGV4dHJhIGluZm86IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkocyksXCIuXCIpKSxzfSxlLnByb3RvdHlwZS5zZXRBdWRpb1JlY2VpdmVSYW5nZT1mdW5jdGlvbihlKXtpZighKDAsbC5jaGVja051bWJlcikoZSkpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnc2V0QXVkaW9SZWNlaXZlUmFuZ2UnOiBBcmd1bWVudCAncmFuZ2UnIHJlcXVpcmVzIHRvIGJlIHR5cGUgbnVtYmVyLlwiKTtpZigoZT1OdW1iZXIoZSkpPDApdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnc2V0QXVkaW9SZWNlaXZlUmFuZ2UnOiBBcmd1bWVudCAncmFuZ2UnIGNhbiBub3QgYmUgbGVzcyB0aGFuIDAuXCIpO3RoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBzZXQgcmVjZWl2ZSByYW5nZTogXCIrZSksdGhpcy5yYW5nZUxpc3RlbmVyLnJlY3ZSYW5nZT1lLHRoaXMuYXVkaW9Tb3VyY2VMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3Quc2V0TWF4RGlzdGFuY2UoZSl9KSksdGhpcy5wbGF5U3RyZWFtSGFuZGxlci5oYXNDaGFuZ2VkPSEwfSxlLnByb3RvdHlwZS51cGRhdGVTZWxmUG9zaXRpb249ZnVuY3Rpb24oZSxyLGksbyl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuXCJGYWlsZWQgdG8gZXhlY3V0ZSAndXBkYXRlU2VsZlBvc2l0aW9uJzogQXJndW1lbnQgJ1wiLmNvbmNhdChlLFwiJyByZXF1aXJlcyBhbiBhcnJheSBvZiB0eXBlIG51bWJlci5cXFwiXCIpfTtpZighKDAsbC5jaGVja0Nvb3JkaW5hdGUpKGUpKXRocm93IG5ldyBFcnJvcihuKFwicG9zaXRpb25cIikpO2lmKCEoMCxsLmNoZWNrQ29vcmRpbmF0ZSkocikpdGhyb3cgbmV3IEVycm9yKG4oXCJheGlzRm9yd2FyZFwiKSk7aWYoISgwLGwuY2hlY2tDb29yZGluYXRlKShpKSl0aHJvdyBuZXcgRXJyb3IobihcImF4aXNSaWdodFwiKSk7aWYoISgwLGwuY2hlY2tDb29yZGluYXRlKShvKSl0aHJvdyBuZXcgRXJyb3IobihcImF4aXNVcFwiKSk7dGhpcy5sb2dnZXIuaW5mbyh0LlJBTkdFX0FVRElPK1wiIHNldCBzZWxmIHBvc2l0aW9uIFtcIi5jb25jYXQoZSxcIl1cIikpLHRoaXMucmFuZ2VMaXN0ZW5lciYmdGhpcy5yYW5nZUxpc3RlbmVyLnVwZGF0ZVNlbGZQb3NpdGlvbihlLHIsbyksdGhpcy5wbGF5U3RyZWFtSGFuZGxlci5zZXRMaXN0ZW5lcih0aGlzLnJhbmdlTGlzdGVuZXIpfSxlLnByb3RvdHlwZS51cGRhdGVBdWRpb1NvdXJjZT1mdW5jdGlvbihlLHIpe2lmKGU9U3RyaW5nKGUpLCEoMCxsLmNoZWNrQ29vcmRpbmF0ZSkocikpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3VwZGF0ZUF1ZGlvU291cmNlJzogQXJndW1lbnRzICdwb3NpdGlvbicgbXVzdCBiZSBhbiBhcnJheSBvZiB0eXBlIG51bWJlci5cIik7dGhpcy5sb2dnZXIuaW5mbyh0LlJBTkdFX0FVRElPK1wiIHNldCBzb3VyY2UgXCIuY29uY2F0KGUsXCIgcG9zaXRpb24gW1wiKS5jb25jYXQocixcIl1cIikpO3ZhciBpPXRoaXMuYXVkaW9Tb3VyY2VNYXBbZV07aT9pLnNldFBvc2l0aW9uKHIpOihpPW5ldyBhLmRlZmF1bHQodGhpcy5sb2dnZXIse3VzZXJJRDplLHBvc2l0aW9uOnJ9LHthdWRpb0N0eDp0aGlzLmF1ZGlvQ3R4LHplZ29SVEM6dGhpcy56ZWdvUlRDLGlzU3BhdGlhbDp0aGlzLmlzU3BhdGlhbCxtYXhEaXN0YW5jZTp0aGlzLnJhbmdlTGlzdGVuZXIucmVjdlJhbmdlLHZvbHVtZTp0aGlzLnZvbHVtZSxzcGVha2VyOnRoaXMuc3BlYWtlcn0pLHRoaXMuZW5hYmxlU3BhdGlhbGl6ZXIodGhpcy5pc1NwYXRpYWwpLHRoaXMuYXVkaW9Tb3VyY2VMaXN0LnB1c2goaSkpLHRoaXMucGxheVN0cmVhbUhhbmRsZXIuc2V0QXVkaW9Tb3VyY2VMaXN0KHRoaXMuc3BlYWtpbmdBdWRpb1NvdXJjZUxpc3QsdGhpcy5hdWRpb1NvdXJjZUxpc3QpfSxlLnByb3RvdHlwZS5lbmFibGVNaWNyb3Bob25lPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUmJihlPSEwKSwhdGhpcy5yYW5nZUxpc3RlbmVyLnVzZXJJRCl0aHJvdyBuZXcgRXJyb3IoXCJFbmFibGUgbWljIGZhaWxlZC4gUGxlYXNlIGxvZyBpbiByb29tIGZpcnN0LlwiKTtyZXR1cm4gZT90aGlzLnJhbmdlTGlzdGVuZXIuc3RhcnRQdWJsaXNoaW5nU3RyZWFtKCk6dGhpcy5yYW5nZUxpc3RlbmVyLnN0b3BQdWJsaXNoaW5nU3RyZWFtKCl9LGUucHJvdG90eXBlLnNlbGVjdE1pYz1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvLHM7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDppZihcInN0cmluZ1wiIT10eXBlb2YgZSYmdm9pZCAwIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJTZWxlY3QgbWljIGZhaWxlZC4gRGV2aWNlSUQgZXJyb3IuXCIpO2lmKGk9KHI9dGhpcy5yYW5nZUxpc3RlbmVyKS5hdWRpb1N0cmVhbSxvPXIuaXNQdWJsaXNoaW5nLHRoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBzZWxlY3QgbWljOiBcIitlKSwhaXx8IW8pcmV0dXJuWzMsNV07cz17ZXJyb3JDb2RlOjB9LG4ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG4udHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCx0aGlzLnplZ29SVEMudXNlQXVkaW9EZXZpY2UoaSxlfHxcIlwiKV07Y2FzZSAyOnJldHVybiBzPW4uc2VudCgpLFszLDRdO2Nhc2UgMzpyZXR1cm4gbi5zZW50KCksWzIsITFdO2Nhc2UgNDpyZXR1cm4gMD09PXMuZXJyb3JDb2RlPyh0aGlzLnJhbmdlTGlzdGVuZXIubWljSUQ9ZSxbMiwhMF0pOlsyLCExXTtjYXNlIDU6cmV0dXJuIHRoaXMucmFuZ2VMaXN0ZW5lci5taWNJRD1lLFsyLCEwXTtjYXNlIDY6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuZW5hYmxlU3BlYWtlcj1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lJiYoZT0hMCksZSYmIXRoaXMucm9vbUlEKXRocm93IG5ldyBFcnJvcihcIkVuYWJsZSBzcGVha2VyIGZhaWxlZC4gUGxlYXNlIGxvZyBpbiByb29tIGZpcnN0LlwiKTt0aGlzLnBsYXlTdHJlYW1IYW5kbGVyLmlzRW5hYmxlPWUsZT90aGlzLnBsYXlTdHJlYW1IYW5kbGVyLnN0YXJ0UGxheWluZ0F1ZGlvU3RyZWFtKCk6dGhpcy5wbGF5U3RyZWFtSGFuZGxlci5zdG9wUGxheWluZ0F1ZGlvU3RyZWFtKCl9LGUucHJvdG90eXBlLmVuYWJsZVNwYXRpYWxpemVyPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9ITApLHRoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBzZXQgc3BhdGlhbGl6ZXI6IFwiK2UpLHRoaXMuaXNTcGF0aWFsPSEhZSx0aGlzLmF1ZGlvU291cmNlTGlzdC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgaT0hKCFbXCJcIix2b2lkIDBdLmluY2x1ZGVzKHQudGVhbUlEKSYmci5yYW5nZUxpc3RlbmVyLnRlYW1JRD09PXQudGVhbUlEKSYmZTt0LmVuYWJsZVNwYXRpYWxpemVyKGkpfSkpLGUmJnRoaXMucmFuZ2VMaXN0ZW5lci51cGRhdGVMaXN0ZW5lckVmZmVjdCgpfSxlLnByb3RvdHlwZS5zZXRSYW5nZUF1ZGlvVGVhbUlEPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBzZXQgdGVhbSBpZDogXCIrZSksdGhpcy5yYW5nZUxpc3RlbmVyLnNldFRlYW1JRChlKSx0aGlzLmVuYWJsZVNwYXRpYWxpemVyKHRoaXMuaXNTcGF0aWFsKSx0aGlzLnBsYXlTdHJlYW1IYW5kbGVyLmhhc0NoYW5nZWQ9ITB9LGUucHJvdG90eXBlLnNldFJhbmdlQXVkaW9Nb2RlPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBzZXQgbW9kZSBcIitlKSx0aGlzLnJhbmdlTGlzdGVuZXIuc2V0U2VuZE1vZGUoZSksdGhpcy5yYW5nZUxpc3RlbmVyLnNldFJlY3ZNb2RlKGUpLHRoaXMucGxheVN0cmVhbUhhbmRsZXIuaGFzQ2hhbmdlZD0hMH0sZS5wcm90b3R5cGUuc2V0QXVkaW9Wb2x1bWU9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcztpZih0aGlzLmxvZ2dlci5pbmZvKHQuUkFOR0VfQVVESU8rXCIgc2V0IHZvbHVtZSBcIi5jb25jYXQoZSkpLGU8MCl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnc2V0Vm9sdW1lJzogVGhlIHZvbHVtZSBwcm92aWRlZCBpcyBvdXRzaWRlIHRoZSByYW5nZSBbMCwgMjAwXS5cIik7dGhpcy52b2x1bWU9ZS8xMDAsdGhpcy5hdWRpb1NvdXJjZUxpc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zZXRWb2x1bWUoci52b2x1bWUpfSkpfSxlLnByb3RvdHlwZS5zZWxlY3RTcGVha2VyPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7aWYodm9pZCAwPT09ZSYmKGU9XCJcIiksXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiU2VsZWN0IHNwZWFrZXIgZmFpbGVkLiBEZXZpY2UgSUQgZXJyb3IuXCIpO2lmKCF0aGlzLnN1cHBvcnRTcGVha2VyU2V0KXtpZighISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIikuc2V0U2lua0lkKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdzZWxlY3RTcGVha2VyJzogYnJvd3NlciBub3Qgc3VwcG9ydC5cIik7dGhpcy5zdXBwb3J0U3BlYWtlclNldD0hMH10aGlzLnNwZWFrZXI9ZSx0aGlzLmxvZ2dlci5pbmZvKHQuUkFOR0VfQVVESU8rXCIgc2V0IHNwZWFrZXI6IFwiK2UpLFwiXCI9PT1lJiZ0aGlzLmxvZ2dlci53YXJuKHQuUkFOR0VfQVVESU8rXCIgc2V0IHNwZWFrZXIgdG8gYmUgZGVmYXVsdC4gXCIpO3RoaXMuYXVkaW9Tb3VyY2VMaXN0LmZpbmQoKGZ1bmN0aW9uKGkpe3JldHVybiBvKHIsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiBvLnRyeXMucHVzaChbMCwyLCwzXSksWzQsaS5zZXRTcGVha2VyKGUpXTtjYXNlIDE6cmV0dXJuIG8uc2VudCgpLFszLDNdO2Nhc2UgMjpyZXR1cm4gcj1vLnNlbnQoKSx0aGlzLmxvZ2dlci53YXJuKHQuUkFOR0VfQVVESU8rXCIgc2V0IHNwZWFrZXIgZmFpbGVkLiBpZDogXCIuY29uY2F0KGUsXCIsIGVycm9yOiBcIikuY29uY2F0KHIpKSxbMiwhMF07Y2FzZSAzOnJldHVyblsyLCExXX19KSl9KSl9KSl9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uVXBkYXRlRnJlcXVlbmN5PWZ1bmN0aW9uKGUpe2lmKCEoZT49MTUpKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdzZXRQb3NpdGlvblVwZGF0ZUZyZXF1ZW5jeSc6IFRoZSBmcmVxdWVuY3kgcHJvdmlkZWQgaXMgb3V0c2lkZSB0aGUgcmFuZ2UgWzE1LCArXS5cIik7dGhpcy5wbGF5U3RyZWFtSGFuZGxlci5pbnRlcnZhbD1OdW1iZXIoZSl8fDEwMH0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRIYW5kbGVyKGUsdCl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmV2ZW50TWFuYWdlci5yZW1vdmVFdmVudEhhbmRsZXIoZSx0KX0sZS5wcm90b3R5cGUuZW5hYmxlQXVkaW9Tb3VyY2VVcGRhdGVDaGVja2VyPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBzZXQgc291cmNlIHVwZGF0ZTogXCIrZSksdGhpcy5hdWRpb1NvdXJjZVVwZGF0ZT1lLHRoaXMucGxheVN0cmVhbUhhbmRsZXIuc2V0QXVkaW9Tb3VyY2VVcGRhdGUoZSl9LGV9KCk7dC5kZWZhdWx0PWh9LDYzODM6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUmFuZ2VBdWRpbz12b2lkIDA7dmFyIGk9cigxOTM5KTt0LlJhbmdlQXVkaW89e3R5cGU6XCJSYW5nZUF1ZGlvXCIsaW5zdGFsbDpmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjcmVhdGVSYW5nZUF1ZGlvSW5zdGFuY2VcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZUF1ZGlvfHwodGhpcy5yYW5nZUF1ZGlvPWkuWmVnb0V4cHJlc3NSYW5nZUF1ZGlvLmdldEluc3RhbmNlKHRoaXMsdGhpcy5sb2dnZXIpKSx0aGlzLnJhbmdlQXVkaW99LHdyaXRhYmxlOiExfSl9fX0sODE1MjpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihvLG4pe2Z1bmN0aW9uIHMoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxvPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLG4scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbjtmdW5jdGlvbiBhKG4pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsaSYmKG89MiZuWzBdP2kucmV0dXJuOm5bMF0/aS50aHJvd3x8KChvPWkucmV0dXJuKSYmby5jYWxsKGkpLDApOmkubmV4dCkmJiEobz1vLmNhbGwoaSxuWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2goaT0wLG8mJihuPVsyJm5bMF0sby52YWx1ZV0pLG5bMF0pe2Nhc2UgMDpjYXNlIDE6bz1uO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpuWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssaT1uWzFdLG49WzBdO2NvbnRpbnVlO2Nhc2UgNzpuPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1uWzBdJiYyIT09blswXSkpe3M9MDtjb250aW51ZX1pZigzPT09blswXSYmKCFvfHxuWzFdPm9bMF0mJm5bMV08b1szXSkpe3MubGFiZWw9blsxXTticmVha31pZig2PT09blswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1uO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2gobik7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW49dC5jYWxsKGUscyl9Y2F0Y2goZSl7bj1bNixlXSxpPTB9ZmluYWxseXtyPW89MH1pZig1Jm5bMF0pdGhyb3cgblsxXTtyZXR1cm57dmFsdWU6blswXT9uWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sYV0pfX19LG49dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SQU5HRV9BVURJTz12b2lkIDA7dmFyIHM9cigyMTk1KTt0LlJBTkdFX0FVRElPPVwiemMucmEuMVwiO3ZhciBhPW4ocigyMTg4KSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMubG9nZ2VyPWUsdGhpcy5zdHJlYW1JRD1udWxsLHRoaXMucGFubmVyPW51bGwsdGhpcy5nYWluTm9kZT1udWxsLHRoaXMudm9sdW1lPTEsdGhpcy5pc1NwYXRpYWw9ITEsdGhpcy5hdXRvUGxheT0hMCx0aGlzLmxvb3BiYWNrQ29ubj1udWxsLHRoaXMuc3BlYWtlcj1cIlwiLHRoaXMucG9zaXRpb249bnVsbCx0aGlzLnN0cmVhbT1udWxsLHRoaXMuc291cmNlTm9kZT1udWxsLHRoaXMuaXNQbGF5aW5nPSExLHRoaXMuZGlzdGFuY2U9bnVsbCx0aGlzLmF1ZGlvVHJhY2s9bnVsbCx0aGlzLmF1ZGlvRWw9bnVsbCx0aGlzLnBsYXlPbkF1ZGlvQ29udGV4dD0hMSx0aGlzLmF1ZGlvQ3R4PXIuYXVkaW9DdHgsdGhpcy56ZWdvUlRDPXIuemVnb1JUQyx0aGlzLmlzU3BhdGlhbD1yLmlzU3BhdGlhbCx0aGlzLm1heERpc3RhbmNlPXIubWF4RGlzdGFuY2V8fDFlNSx0aGlzLnNldFZvbHVtZShyLnZvbHVtZSksdGhpcy5zZXRTcGVha2VyKHIuc3BlYWtlcikuY2F0Y2goKGZ1bmN0aW9uKGUpe30pKSx0aGlzLnVzZXJJRD10LnVzZXJJRCx0aGlzLnRlYW1JRD10LnRlYW1JRCx0aGlzLnNlbmRNb2RlPXZvaWQgMCE9PXQuc2VuZE1vZGU/dC5zZW5kTW9kZTpzLlplZ29SYW5nZUF1ZGlvTW9kZS5Xb3JsZCx0LnBvc2l0aW9uJiYodGhpcy5wb3NpdGlvbj10LnBvc2l0aW9uKSx0aGlzLmRlc3ROb2RlPXRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpfXJldHVybiBlLnByb3RvdHlwZS5jcmVhdGVQYW5uZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBvc2l0aW9ufHxbMCwwLDBdLHQ9dGhpcy5tYXhEaXN0YW5jZSxyPXRoaXMuYXVkaW9DdHguY3JlYXRlUGFubmVyKCksaT10aGlzLmF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTtyZXR1cm4gci5wYW5uaW5nTW9kZWw9XCJIUlRGXCIsci5kaXN0YW5jZU1vZGVsPVwibGluZWFyXCIsci5yZWZEaXN0YW5jZT0xLHIubWF4RGlzdGFuY2U9Mi42KnQsci5yb2xsb2ZmRmFjdG9yPTEsci5jb25lT3V0ZXJHYWluPS40LHZvaWQgMCE9PXIucG9zaXRpb25YPyhyLnBvc2l0aW9uWC52YWx1ZT1lWzFdLHIucG9zaXRpb25ZLnZhbHVlPWVbMl0sci5wb3NpdGlvbloudmFsdWU9LWVbMF0pOnIuc2V0UG9zaXRpb24oZVsxXSxlWzJdLC1lWzBdKSx7cGFubmVyOnIsZ2Fpbk5vZGU6aX19LGUucHJvdG90eXBlLnNldFZvbHVtZT1mdW5jdGlvbihlKXtpc05hTihlKXx8KHRoaXMudm9sdW1lPWUsdGhpcy5nYWluTm9kZSYmKHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT10aGlzLnZvbHVtZSkpfSxlLnByb3RvdHlwZS5zZXRTcGVha2VyPWZ1bmN0aW9uKGUpe3ZhciByO3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxuO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuWzJdO2lmKHRoaXMuc3BlYWtlcj1lLCF0aGlzLmF1ZGlvRWwpcmV0dXJuWzMsMTBdO2lmKCEoaT1udWxsPT09KHI9dGhpcy5hdWRpb0VsKXx8dm9pZCAwPT09cj92b2lkIDA6ci5zZXRTaW5rSWQpKXJldHVyblszLDhdO28ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG8udHJ5cy5wdXNoKFsxLDYsLDddKSx0aGlzLnBsYXlPbkF1ZGlvQ29udGV4dD9bMywzXTpbNCxpLmNhbGwodGhpcy5hdWRpb0VsLGV8fFwiXCIpXTtjYXNlIDI6cmV0dXJuIG8uc2VudCgpLFszLDVdO2Nhc2UgMzpyZXR1cm5bNCxpLmNhbGwodGhpcy5hdWRpb0VsLFwiXCIpXTtjYXNlIDQ6by5zZW50KCksby5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyh0LlJBTkdFX0FVRElPK1wiIFwiLmNvbmNhdCh0aGlzLnVzZXJJRCxcIiBzZXQgc3BlYWtlciBzdWNjZXNzLiBpZDogXCIpLmNvbmNhdChlLFwiLlwiKSksWzMsN107Y2FzZSA2OnRocm93IG49by5zZW50KCksdGhpcy5sb2dnZXIuZXJyb3IodC5SQU5HRV9BVURJTytcIiBcIi5jb25jYXQodGhpcy51c2VySUQsXCIgc2V0IHNwZWFrZXIgZmFpbGVkLiBpZDogXCIpLmNvbmNhdChlLFwiICBlcnJvcjogXCIpLmNvbmNhdChuLFwiLlwiKSksbjtjYXNlIDc6cmV0dXJuWzMsOV07Y2FzZSA4OnRocm93XCJzZXR0aW5nIHNwZWFrZXIgbm90IHN1cHBvcnQuXCI7Y2FzZSA5OnJldHVyblszLDExXTtjYXNlIDEwOnRoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBcIi5jb25jYXQodGhpcy51c2VySUQsXCIgbm8gZWxlbWVudC5cIikpLG8ubGFiZWw9MTE7Y2FzZSAxMTpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5jaGVja1RyYWNrQ2hhbmdlZD1mdW5jdGlvbigpe3ZhciBlO2lmKHRoaXMuc3RyZWFtKXt2YXIgcj10aGlzLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO3ImJnIhPT10aGlzLmF1ZGlvVHJhY2smJih0aGlzLmxvZ2dlci5pbmZvKHQuUkFOR0VfQVVESU8rXCIgcmV0cnkgcGxheSBzdWNjZXNzLCByZW5kZXIgc3RyZWFtLlwiKSxudWxsPT09KGU9dGhpcy5zb3VyY2VOb2RlKXx8dm9pZCAwPT09ZXx8ZS5kaXNjb25uZWN0KCksdGhpcy5zb3VyY2VOb2RlPXRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodGhpcy5zdHJlYW0pLHRoaXMuZW5hYmxlU3BhdGlhbGl6ZXIodGhpcy5pc1NwYXRpYWwsITApLHRoaXMuYXVkaW9UcmFjaz1yKX19LGUucHJvdG90eXBlLnN0YXJ0UGxheWluZ0F1ZGlvPWZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG4scyxhO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6aWYoIXRoaXMuc3RyZWFtSUQpcmV0dXJuWzJdO28ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG8udHJ5cy5wdXNoKFsxLDMsLDRdKSxyPXRoaXMsWzQsdGhpcy56ZWdvUlRDLnN0YXJ0UGxheWluZ1N0cmVhbSh0aGlzLnN0cmVhbUlEKV07Y2FzZSAyOnJldHVybiByLnN0cmVhbT1vLnNlbnQoKSxlJiZ0aGlzLmxvZ2dlci5pbmZvKHQuUkFOR0VfQVVESU8rXCIgXCIuY29uY2F0KHRoaXMuc3RyZWFtSUQsXCIgXCIpK2UpLHRoaXMuYXVkaW9UcmFjaz10aGlzLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLFszLDRdO2Nhc2UgMzppZigxMTAzMDQ5PT09KGk9by5zZW50KCkpLmNvZGUpcmV0dXJuWzJdO3Rocm93IGk7Y2FzZSA0OnJldHVybihuPXRoaXMuYXVkaW9FbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIikpLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJhdXRvcGxheVwiKSxuLnNldEF0dHJpYnV0ZShcImlkXCIsXCJ6Zy1hdWRpby1zb3VyY2UtXCIrdGhpcy51c2VySUQpLG4ubXV0ZWQ9ITAsdGhpcy5zdHJlYW0mJih0aGlzLnNvdXJjZU5vZGU9dGhpcy5hdWRpb0N0eC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0aGlzLnN0cmVhbSkpLHRoaXMucGFubmVyfHwocz10aGlzLmNyZWF0ZVBhbm5lcigpLGE9cy5nYWluTm9kZSx0aGlzLnBhbm5lcj1zLnBhbm5lcix0aGlzLmdhaW5Ob2RlPWEsYS5nYWluLnZhbHVlPXRoaXMudm9sdW1lKSx0aGlzLnNvdXJjZU5vZGU/WzQsdGhpcy5lbmFibGVTcGF0aWFsaXplcih0aGlzLmlzU3BhdGlhbCwhMCldOlszLDZdO2Nhc2UgNTpvLnNlbnQoKSxvLmxhYmVsPTY7Y2FzZSA2OnJldHVyblwic3VzcGVuZGVkXCI9PT10aGlzLmF1ZGlvQ3R4LnN0YXRlJiZ0aGlzLmF1ZGlvQ3R4LnJlc3VtZSgpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLnN0b3BQbGF5aW5nQXVkaW89ZnVuY3Rpb24oZSl7dGhpcy5pc1BsYXlpbmcmJnRoaXMuc3RyZWFtSUQ/KHRoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBcIi5jb25jYXQodGhpcy5zdHJlYW1JRCxcIiBcIikrZSksdGhpcy56ZWdvUlRDLnN0b3BQbGF5aW5nU3RyZWFtKHRoaXMuc3RyZWFtSUQpLHRoaXMuaXNQbGF5aW5nPSExKTp0aGlzLmxvZ2dlci5pbmZvKHQuUkFOR0VfQVVESU8rXCIgXCIuY29uY2F0KHRoaXMuc3RyZWFtSUQsXCIgbm90IHBsYXlpbmcsIFwiKStlKSx0aGlzLnN0cmVhbT1udWxsLHRoaXMuc291cmNlTm9kZSYmKHRoaXMuc291cmNlTm9kZS5kaXNjb25uZWN0KCksdGhpcy5zb3VyY2VOb2RlPW51bGwpLHRoaXMuYXVkaW9FbCYmKHRoaXMuYXVkaW9FbC5zcmNPYmplY3Q9bnVsbCx0aGlzLmF1ZGlvRWwucGFyZW50Tm9kZSYmdGhpcy5hdWRpb0VsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5hdWRpb0VsKSx0aGlzLmF1ZGlvRWw9bnVsbCksdGhpcy5sb29wYmFja0Nvbm4mJih0aGlzLmxvb3BiYWNrQ29ubi5jbG9zZSgpLHRoaXMubG9vcGJhY2tDb25uLm9uRXJyb3I9bnVsbCl9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3RoaXMucG9zaXRpb249ZSx0aGlzLnBhbm5lciYmKHZvaWQgMCE9PXRoaXMucGFubmVyLnBvc2l0aW9uWD8odGhpcy5wYW5uZXIucG9zaXRpb25YLnZhbHVlPWVbMV0sdGhpcy5wYW5uZXIucG9zaXRpb25ZLnZhbHVlPWVbMl0sdGhpcy5wYW5uZXIucG9zaXRpb25aLnZhbHVlPS1lWzBdKTp0aGlzLnBhbm5lci5zZXRQb3NpdGlvbihlWzFdLGVbMl0sLWVbMF0pKX0sZS5wcm90b3R5cGUuc2V0TWF4RGlzdGFuY2U9ZnVuY3Rpb24oZSl7dGhpcy5tYXhEaXN0YW5jZT1lLHRoaXMucGFubmVyJiYoZTwxMCYmKGU9MTApLHRoaXMucGFubmVyLm1heERpc3RhbmNlPTIuNiplKX0sZS5wcm90b3R5cGUuZ2V0RGlzdGFuY2VGcm9tTGlzdGVuZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wb3NpdGlvbixyPWUucG9zaXRpb247aWYoIXJ8fCF0KXJldHVybiBudWxsO3ZhciBpPVt0WzBdLXJbMF0sdFsxXS1yWzFdLHRbMl0tclsyXV07cmV0dXJuIHRoaXMuZGlzdGFuY2U9TWF0aC5zcXJ0KE1hdGgucG93KGlbMF0sMikrTWF0aC5wb3coaVsxXSwyKStNYXRoLnBvdyhpWzJdLDIpKSx0aGlzLmRpc3RhbmNlfSxlLnByb3RvdHlwZS5lbmFibGVTcGF0aWFsaXplcj1mdW5jdGlvbihlLHIsbil7dmFyIHMsYztyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PW4mJihuPSExKSxpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSx1LGQsbCxoLHA9dGhpcztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiByfHx0aGlzLmlzU3BhdGlhbCE9PWU/KHRoaXMuaXNTcGF0aWFsPWUsaT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG9jYWxlTG93ZXJDYXNlKCksdT1pLmluY2x1ZGVzKFwic2FmYXJpXCIpJiYhaS5pbmNsdWRlcyhcImNocm9tZVwiKSxkPWkuaW5jbHVkZXMoXCJtaWNyb21lc3NlbmdlclwiKSYmbmV3IFJlZ0V4cCgvKGlwaG9uZXxpcGFkfGlwb2R8aW9zKS9pKS50ZXN0KGkpLHRoaXMucGxheU9uQXVkaW9Db250ZXh0PW4sdGhpcy5zb3VyY2VOb2RlPyh0aGlzLnNvdXJjZU5vZGUuZGlzY29ubmVjdCgpLG51bGw9PT0ocz10aGlzLnBhbm5lcil8fHZvaWQgMD09PXN8fHMuZGlzY29ubmVjdCgpLG51bGw9PT0oYz10aGlzLmdhaW5Ob2RlKXx8dm9pZCAwPT09Y3x8Yy5kaXNjb25uZWN0KCksdGhpcy5nYWluTm9kZT8obD10aGlzLnNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLmdhaW5Ob2RlKSx0aGlzLnBhbm5lciYmZSYmKGw9dGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMucGFubmVyKSksbC5jb25uZWN0KG4/dGhpcy5hdWRpb0N0eC5kZXN0aW5hdGlvbjp0aGlzLmRlc3ROb2RlKSx0aGlzLnBvc2l0aW9uJiZ0aGlzLnNldFBvc2l0aW9uKHRoaXMucG9zaXRpb24pLHRoaXMubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBwbGF5IFwiLmNvbmNhdChlP1wiM2RcIjpcIm5vcm1hbFwiLFwiIHN0cmVhbSAnXCIpLmNvbmNhdCh0aGlzLnN0cmVhbUlELFwiJyBvbiBcIikuY29uY2F0KG4/XCJhdWRpbyBjdHhcIjpcImVsZW1lbnRcIikpLHRoaXMuYXVkaW9FbD9uPyh0aGlzLmF1ZGlvRWwuc3JjT2JqZWN0IT09dGhpcy5zdHJlYW0mJih0aGlzLmF1ZGlvRWwuc3JjT2JqZWN0PXRoaXMuc3RyZWFtKSx0aGlzLmF1ZGlvRWwubXV0ZWQ9ITAsWzMsNF0pOlszLDFdOlszLDRdKTpbMyw0XSk6WzMsNF0pOlsyXTtjYXNlIDE6cmV0dXJuIGg9dGhpcy5kZXN0Tm9kZS5zdHJlYW0sIWQmJiF1Pyh0aGlzLmxvb3BiYWNrQ29ubiYmKHRoaXMubG9vcGJhY2tDb25uLmNsb3NlKCksdGhpcy5sb29wYmFja0Nvbm4ub25FcnJvcj1udWxsKSx0aGlzLmxvb3BiYWNrQ29ubj10aGlzLmxvb3BiYWNrQ29ubnx8bmV3IGEuZGVmYXVsdCh0aGlzLnN0cmVhbUlEfHxcIlwiLHRoaXMubG9nZ2VyKSx0aGlzLmxvb3BiYWNrQ29ubi5vbkVycm9yPWZ1bmN0aW9uKCl7cC5sb2dnZXIud2Fybih0LlJBTkdFX0FVRElPK1wiIFwiLmNvbmNhdChwLnN0cmVhbUlELFwiIGxvb3BiYWNrIGZhaWxlZCFcIikpLHAuZW5hYmxlU3BhdGlhbGl6ZXIocC5pc1NwYXRpYWwsITAsITApfSxbNCx0aGlzLmxvb3BiYWNrQ29ubi5iaW5kU3RyZWFtKHRoaXMuZGVzdE5vZGUuc3RyZWFtKV0pOlszLDNdO2Nhc2UgMjpoPW8uc2VudCgpLG8ubGFiZWw9MztjYXNlIDM6dGhpcy5hdWRpb0VsLm11dGVkPSEwLHRoaXMuYXVkaW9FbC5zcmNPYmplY3Q9aCx0aGlzLnNldFNwZWFrZXIodGhpcy5zcGVha2VyKS5jYXRjaCgoZnVuY3Rpb24oZSl7fSkpLHRoaXMuYXVkaW9FbC5vbmNhbnBsYXk9ZnVuY3Rpb24oKXtwLmF1ZGlvRWwmJihwLmF1ZGlvRWwubXV0ZWQ9ITEscC5hdWRpb0VsLnBsYXkoKS50aGVuKChmdW5jdGlvbigpe3AubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBcIi5jb25jYXQocC5zdHJlYW1JRCxcIiBhdXRvcGxheSBzdWNjZXNzLlwiKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3AubG9nZ2VyLmVycm9yKHQuUkFOR0VfQVVESU8rXCIgXCIuY29uY2F0KHAuc3RyZWFtSUQsXCInIGF1dG9wbGF5IGZhaWxlZC4gZXJyb3I6IFwiKS5jb25jYXQoZSkpLHAuZW5hYmxlU3BhdGlhbGl6ZXIocC5pc1NwYXRpYWwsITAsITApfSkpKX0sby5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMl19fSkpfSkpfSxlfSgpO3QuZGVmYXVsdD1jfSw5NTY6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmhhbmRsZXJMaXN0TWFwPXttaWNyb3Bob25lU3RhdGVVcGRhdGU6W10sYXVkaW9Tb3VyY2VXaXRoaW5SYW5nZVVwZGF0ZTpbXX19cmV0dXJuIGUuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gZS5pbnN0YW5jZXx8KGUuaW5zdGFuY2U9bmV3IGUpLGUuaW5zdGFuY2V9LGUucHJvdG90eXBlLmFkZEV2ZW50SGFuZGxlcj1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLmhhbmRsZXJMaXN0TWFwW2VdKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiUGFyYW1zIGNhbGxCYWNrIGlzIG5vdCBhIEZ1bmN0aW9uXCIpO3JldHVybi0xPT10aGlzLmhhbmRsZXJMaXN0TWFwW2VdLmluZGV4T2YodCkmJnRoaXMuaGFuZGxlckxpc3RNYXBbZV0ucHVzaCh0KSwhMH0sZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISF0aGlzLmhhbmRsZXJMaXN0TWFwW2VdJiYodGhpcy5oYW5kbGVyTGlzdE1hcFtlXT10P3RoaXMuaGFuZGxlckxpc3RNYXBbZV0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSk6W10sITApfSxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3RoaXMuaGFuZGxlckxpc3RNYXBbZV0mJnRoaXMuaGFuZGxlckxpc3RNYXBbZV0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dHJ5e3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5hcHBseSh2b2lkIDAsdCl9KSwwKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKCdGYWlsIHRvIGV4ZWN1dGUgY2FsbGJhY2sgb2YgZXZlbnQgXCInLmNvbmNhdChlLCdcIiA6ICcpLmNvbmNhdCh0KSl9fSkpfSxlfSgpO3QuZGVmYXVsdD1yfSwyMTg4OmZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihvLG4pe2Z1bmN0aW9uIHMoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxpPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLG4scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbjtmdW5jdGlvbiBhKG4pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsaSYmKG89MiZuWzBdP2kucmV0dXJuOm5bMF0/aS50aHJvd3x8KChvPWkucmV0dXJuKSYmby5jYWxsKGkpLDApOmkubmV4dCkmJiEobz1vLmNhbGwoaSxuWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2goaT0wLG8mJihuPVsyJm5bMF0sby52YWx1ZV0pLG5bMF0pe2Nhc2UgMDpjYXNlIDE6bz1uO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpuWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssaT1uWzFdLG49WzBdO2NvbnRpbnVlO2Nhc2UgNzpuPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1uWzBdJiYyIT09blswXSkpe3M9MDtjb250aW51ZX1pZigzPT09blswXSYmKCFvfHxuWzFdPm9bMF0mJm5bMV08b1szXSkpe3MubGFiZWw9blsxXTticmVha31pZig2PT09blswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1uO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2gobik7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW49dC5jYWxsKGUscyl9Y2F0Y2goZSl7bj1bNixlXSxpPTB9ZmluYWxseXtyPW89MH1pZig1Jm5bMF0pdGhyb3cgblsxXTtyZXR1cm57dmFsdWU6blswXT9uWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sYV0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUkFOR0VfQVVESU89dm9pZCAwLHQuUkFOR0VfQVVESU89XCJ6Yy5yYS4zXCI7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zdHJlYW1JRD1lLHRoaXMubG9nZ2VyPXQsdGhpcy5ydGNDb25uPW51bGwsdGhpcy5sb29wYmFja0Nvbm49bnVsbCx0aGlzLmRlc3RTdHJlYW09bmV3IE1lZGlhU3RyZWFtLHRoaXMub25FcnJvcj1udWxsfXJldHVybiBlLnByb3RvdHlwZS5iaW5kU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciBvLG47cmV0dXJuIHIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLHMsYSxjLHUsZD10aGlzO3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9W1wiY29tcGxldGVkXCIsXCJjb25uZWN0ZWRcIl0sdGhpcy5ydGNDb25uJiZ0aGlzLmxvb3BiYWNrQ29ubiYmci5pbmNsdWRlcyh0aGlzLnJ0Y0Nvbm4uY29ubmVjdGlvblN0YXRlKT8ocz1udWxsPT09KG89dGhpcy5ydGNDb25uKXx8dm9pZCAwPT09bz92b2lkIDA6by5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuXCJhdWRpb1wiPT09KG51bGw9PT0odD1lLnRyYWNrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5raW5kKX0pKSxlLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiYXVkaW9cIj09PWUua2luZCYmKG51bGw9PXN8fHMucmVwbGFjZVRyYWNrKGUpKX0pKSxbMywxMF0pOlszLDFdO2Nhc2UgMTp0aGlzLnJ0Y0Nvbm49bmV3IFJUQ1BlZXJDb25uZWN0aW9uLHRoaXMubG9vcGJhY2tDb25uPW5ldyBSVENQZWVyQ29ubmVjdGlvbixhPXtvZmZlclZpZGVvOiEwLG9mZmVyQXVkaW86ITAsb2ZmZXJUb1JlY2VpdmVBdWRpbzohMSxvZmZlclRvUmVjZWl2ZVZpZGVvOiExfSx0aGlzLnJ0Y0Nvbm4ub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24oZSl7dmFyIHIsaT1lLmNhbmRpZGF0ZTtpJiYoZC5sb2dnZXIuaW5mbyh0LlJBTkdFX0FVRElPK1wiIFwiLmNvbmNhdChkLnN0cmVhbUlELFwiIGxvb3BiYWNrIGFkZCBvdXQgY2FuZGlkYXRlOiBcIikuY29uY2F0KGkpKSxudWxsPT09KHI9ZC5sb29wYmFja0Nvbm4pfHx2b2lkIDA9PT1yfHxyLmFkZEljZUNhbmRpZGF0ZShuZXcgUlRDSWNlQ2FuZGlkYXRlKGkpKSl9LHRoaXMubG9vcGJhY2tDb25uLm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGUpe3ZhciByLGk9ZS5jYW5kaWRhdGU7aSYmKGQubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBcIi5jb25jYXQoZC5zdHJlYW1JRCxcIiBsb29wYmFjayBhZGQgaW4gY2FuZGlkYXRlOiBcIikuY29uY2F0KGkpKSxudWxsPT09KHI9ZC5ydGNDb25uKXx8dm9pZCAwPT09cnx8ci5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZShpKSkpfSx3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtkLnJ0Y0Nvbm4mJmQubG9vcGJhY2tDb25uJiYoci5pbmNsdWRlcyhkLnJ0Y0Nvbm4uaWNlQ29ubmVjdGlvblN0YXRlKSYmci5pbmNsdWRlcyhkLmxvb3BiYWNrQ29ubi5pY2VDb25uZWN0aW9uU3RhdGUpP2QubG9nZ2VyLmluZm8odC5SQU5HRV9BVURJTytcIiBcIi5jb25jYXQoZC5zdHJlYW1JRCxcIiBsb29wYmFjayBjb25uZWN0IG9rLlwiKSk6KGQubG9nZ2VyLmVycm9yKHQuUkFOR0VfQVVESU8rXCIgXCIuY29uY2F0KGQuc3RyZWFtSUQsXCIgbG9vcGJhY2sgY29ubmVjdCBmYWlsZWQuIHN0YXRlOiBcIikuY29uY2F0KGQucnRjQ29ubi5pY2VDb25uZWN0aW9uU3RhdGUpKSxkLmNsb3NlKCksZC5vbkVycm9yJiZkLm9uRXJyb3IoKSkpfSksMmUzKSx0aGlzLmxvb3BiYWNrQ29ubi5vbnRyYWNrPWZ1bmN0aW9uKGUpe3ZhciByPWUudHJhY2s7ZC5sb2dnZXIuaW5mbyh0LlJBTkdFX0FVRElPK1wiIFwiLmNvbmNhdChkLnN0cmVhbUlELFwiIGxvb3BiYWNrIHJlY2VpdmUgdHJhY2tcIikpLGQucmVwbGFjZVRyYWNrKHIpfSxlLmdldFRyYWNrcygpLmZpbmQoKGZ1bmN0aW9uKGUpe3ZhciB0O2lmKFwiYXVkaW9cIj09PWUua2luZClyZXR1cm4gbnVsbD09PSh0PWQucnRjQ29ubil8fHZvaWQgMD09PXR8fHQuYWRkVHJhY2soZSksITB9KSksaS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gaS50cnlzLnB1c2goWzIsOSwsMTBdKSxbNCx0aGlzLnJ0Y0Nvbm4uY3JlYXRlT2ZmZXIoYSldO2Nhc2UgMzpyZXR1cm4gYz1pLnNlbnQoKSxbNCx0aGlzLnJ0Y0Nvbm4uc2V0TG9jYWxEZXNjcmlwdGlvbihjKV07Y2FzZSA0OnJldHVybiBpLnNlbnQoKSxbNCx0aGlzLmxvb3BiYWNrQ29ubi5zZXRSZW1vdGVEZXNjcmlwdGlvbihjKV07Y2FzZSA1OnJldHVybiBpLnNlbnQoKSxbNCx0aGlzLmxvb3BiYWNrQ29ubi5jcmVhdGVBbnN3ZXIoKV07Y2FzZSA2OnJldHVybih1PWkuc2VudCgpKS5zZHA9bnVsbD09PShuPXUuc2RwKXx8dm9pZCAwPT09bj92b2lkIDA6bi5yZXBsYWNlKC91c2VpbmJhbmRmZWM9LyxcInN0ZXJlbz0xO3VzZWluYmFuZGZlYz1cIiksWzQsdGhpcy5sb29wYmFja0Nvbm4uc2V0TG9jYWxEZXNjcmlwdGlvbih1KV07Y2FzZSA3OnJldHVybiBpLnNlbnQoKSxbNCx0aGlzLnJ0Y0Nvbm4uc2V0UmVtb3RlRGVzY3JpcHRpb24odSldO2Nhc2UgODpyZXR1cm4gaS5zZW50KCksWzMsMTBdO2Nhc2UgOTpyZXR1cm4gaS5zZW50KCksdGhpcy5sb2dnZXIuZXJyb3IodC5SQU5HRV9BVURJTytcIiBcIi5jb25jYXQodGhpcy5zdHJlYW1JRCxcIiBsb29wYmFjayBjb25uZWN0IGZhaWxlZC5cIikpLHRoaXMuY2xvc2UoKSx0aGlzLm9uRXJyb3ImJnRoaXMub25FcnJvcigpLHRoaXMub25FcnJvcj1udWxsLFszLDEwXTtjYXNlIDEwOnJldHVyblsyLHRoaXMuZGVzdFN0cmVhbV19fSkpfSkpfSxlLnByb3RvdHlwZS5yZXBsYWNlVHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztcImF1ZGlvXCI9PT1lLmtpbmQmJih0aGlzLmRlc3RTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5kZXN0U3RyZWFtLnJlbW92ZVRyYWNrKGUpfSkpLHRoaXMuZGVzdFN0cmVhbS5hZGRUcmFjayhlKSl9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucnRjQ29ubixyPXRoaXMubG9vcGJhY2tDb25uO3RoaXMuZGVzdFN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlLmRlc3RTdHJlYW0ucmVtb3ZlVHJhY2sodCl9KSksbnVsbD09dHx8dC5jbG9zZSgpLG51bGw9PXJ8fHIuY2xvc2UoKSx0aGlzLnJ0Y0Nvbm49bnVsbCx0aGlzLmxvb3BiYWNrQ29ubj1udWxsfSxlfSgpO3QuZGVmYXVsdD1vfSw2NDQ6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUkFOR0VfQVVESU89dm9pZCAwO3ZhciBpPXIoMjE5NSk7dC5SQU5HRV9BVURJTz1cInpjLnJhLjJcIjt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmxvZ2dlcj1lLHRoaXMuaXNFbmFibGU9ITEsdGhpcy5pbnRlcnZhbD0xMDAsdGhpcy50aW1lcj1udWxsLHRoaXMuYXVkaW9Tb3VyY2VMaXN0PVtdLHRoaXMuaGFzQ2hhbmdlZD0hMSx0aGlzLmF1ZGlvU291cmNlVXBkYXRlPSExLHRoaXMubWF4UGxheWluZ1F1YW50aXR5PTIwLHRoaXMuYWxsQXVkaW9Tb3VyY2VMaXN0PVtdLHRoaXMuYXVkaW9Tb3VyY2VXaXRoaW5SYW5nZUxpc3Q9W10sdGhpcy5sb2NhbFVzZXJMaXN0PVtdLHRoaXMucmFuZ2VMaXN0ZW5lcj10fXJldHVybiBlLmdldEluc3RhbmNlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuaW5zdGFuY2V8fChlLmluc3RhbmNlPW5ldyBlKHQscikpLGUuaW5zdGFuY2V9LGUucHJvdG90eXBlLnNldEF1ZGlvU291cmNlVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuYXVkaW9Tb3VyY2VVcGRhdGU9ZX0sZS5wcm90b3R5cGUuc2V0TGlzdGVuZXI9ZnVuY3Rpb24oZSl7dGhpcy5yYW5nZUxpc3RlbmVyPWUsdGhpcy5oYXNDaGFuZ2VkPSEwfSxlLnByb3RvdHlwZS5zZXRBdWRpb1NvdXJjZUxpc3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLmF1ZGlvU291cmNlTGlzdD1lLHQmJih0aGlzLmFsbEF1ZGlvU291cmNlTGlzdD10KSx0aGlzLmhhc0NoYW5nZWQ9ITB9LGUucHJvdG90eXBlLnN0YXJ0UGxheWluZ0F1ZGlvU3RyZWFtPWZ1bmN0aW9uKCl7dGhpcy50aW1lciYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPW51bGwpLHRoaXMuaGFzQ2hhbmdlZD0hMCx0aGlzLnBsYXlBdWRpb1Rhc2soKX0sZS5wcm90b3R5cGUucGxheUF1ZGlvVGFzaz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5oYXNDaGFuZ2VkJiYodGhpcy5oYXNDaGFuZ2VkPSExLHRoaXMuaGFuZGxlUGxheUF1ZGlvVGFzaygpKSx0aGlzLnRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UucGxheUF1ZGlvVGFzaygpfSksdGhpcy5pbnRlcnZhbCl9LGUucHJvdG90eXBlLmhhbmRsZVBsYXlBdWRpb1Rhc2s9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuaXNFbmFibGUpe3ZhciByPVtdLG89dGhpcy5nZXRUZWFtQXVkaW9Tb3VyY2VHcm91cCgpLG49by5vdGhlckxpc3Qscz0wO28udGVhbUxpc3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7czxlLm1heFBsYXlpbmdRdWFudGl0eSYmKHQuaXNQbGF5aW5nfHx0LnN0YXJ0UGxheWluZ0F1ZGlvKFwicGxheSBmb3IgdGVhbVwiKSxzKyspfSkpO3ZhciBhPXRoaXMucmFuZ2VMaXN0ZW5lci5yZWN2TW9kZT09PWkuWmVnb1JhbmdlQXVkaW9Nb2RlLldvcmxkO2lmKGEmJihuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZGlzdGFuY2U9dC5nZXREaXN0YW5jZUZyb21MaXN0ZW5lcihlLnJhbmdlTGlzdGVuZXIpfSkpLG4uc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09PWUuZGlzdGFuY2U/MTpudWxsPT09dC5kaXN0YW5jZXx8ZS5kaXN0YW5jZTx0LmRpc3RhbmNlPy0xOmUuZGlzdGFuY2U+dC5kaXN0YW5jZT8xOjB9KSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoYSYmczxlLm1heFBsYXlpbmdRdWFudGl0eSYmKHQuc2VuZE1vZGU9PT1pLlplZ29SYW5nZUF1ZGlvTW9kZS5Xb3JsZCYmbnVsbCE9PXQuZGlzdGFuY2UmJihudWxsPT09ZS5yYW5nZUxpc3RlbmVyLnJlY3ZSYW5nZXx8dC5kaXN0YW5jZTw9ZS5yYW5nZUxpc3RlbmVyLnJlY3ZSYW5nZSkpKXQuaXNQbGF5aW5nfHx0LnN0YXJ0UGxheWluZ0F1ZGlvKFwicGxheSBmb3IgcmFuZ2VcIikscysrO2Vsc2V7dmFyIHI9XCJzdG9wIGZvciBtb2RlIG9yIHJhbmdlLiBtb2RlOiBcIi5jb25jYXQodC5zZW5kTW9kZSxcIiwgcmFuZ2U6IFwiKS5jb25jYXQodC5kaXN0YW5jZSxcIiA+IFwiKS5jb25jYXQoZS5yYW5nZUxpc3RlbmVyLnJlY3ZSYW5nZSk7dC5zdG9wUGxheWluZ0F1ZGlvKHIpfX0pKSx0aGlzLmxvZ2dlci5pbmZvKHQuUkFOR0VfQVVESU8rXCIgcGxheWluZyBxdWFudGl0eTogXCIuY29uY2F0KHMsXCIuXCIpKSx0aGlzLmF1ZGlvU291cmNlVXBkYXRlKXRoaXMuYWxsQXVkaW9Tb3VyY2VMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZGlzdGFuY2U9dC5nZXREaXN0YW5jZUZyb21MaXN0ZW5lcihlLnJhbmdlTGlzdGVuZXIpO3ZhciBpPW51bGwhPT10LmRpc3RhbmNlJiYobnVsbD09PWUucmFuZ2VMaXN0ZW5lci5yZWN2UmFuZ2V8fHQuZGlzdGFuY2U8PWUucmFuZ2VMaXN0ZW5lci5yZWN2UmFuZ2UpLG89ISFlLmxvY2FsVXNlckxpc3QuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXNlcklEPT09dC51c2VySUR9KSk7aSYmbyYmci5wdXNoKHt1c2VySUQ6dC51c2VySUQscG9zaXRpb246dC5wb3NpdGlvbn0pfSkpLHRoaXMuY2hlY2tBdWRpb1NvdXJjZUxpc3REaWZmKHIsdGhpcy5hdWRpb1NvdXJjZVdpdGhpblJhbmdlTGlzdCkmJnRoaXMucmFuZ2VMaXN0ZW5lci5ldmVudEhhbmRsZXIuZW1pdChcImF1ZGlvU291cmNlV2l0aGluUmFuZ2VVcGRhdGVcIixyKSx0aGlzLmF1ZGlvU291cmNlV2l0aGluUmFuZ2VMaXN0PXJ9ZWxzZSB0aGlzLnN0b3BQbGF5aW5nQXVkaW9TdHJlYW0oKX0sZS5wcm90b3R5cGUuZ2V0VGVhbUF1ZGlvU291cmNlR3JvdXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W10scj1bXTtyZXR1cm4gdGhpcy5hdWRpb1NvdXJjZUxpc3QuZm9yRWFjaCgoZnVuY3Rpb24oaSl7W2kudGVhbUlELGUucmFuZ2VMaXN0ZW5lci50ZWFtSURdLmluY2x1ZGVzKHZvaWQgMCl8fFwiXCI9PT1pLnRlYW1JRHx8aS50ZWFtSUQhPT1lLnJhbmdlTGlzdGVuZXIudGVhbUlEP3IucHVzaChpKTp0LnB1c2goaSl9KSkse3RlYW1MaXN0OnQsb3RoZXJMaXN0OnJ9fSxlLnByb3RvdHlwZS5zdG9wUGxheWluZ0F1ZGlvU3RyZWFtPWZ1bmN0aW9uKCl7dGhpcy50aW1lciYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPW51bGwpLHRoaXMuYXVkaW9Tb3VyY2VMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RvcFBsYXlpbmdBdWRpbyhcInN0b3AgZm9yIGFsbCBzdHJlYW1cIil9KSl9LGUucHJvdG90eXBlLnNldExvY2FsVXNlckxpc3Q9ZnVuY3Rpb24oZSl7dGhpcy5sb2NhbFVzZXJMaXN0PWUsdGhpcy5oYXNDaGFuZ2VkPSEwfSxlLnByb3RvdHlwZS5jaGVja0F1ZGlvU291cmNlTGlzdERpZmY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT0wO2k8ZS5sZW5ndGg7aSsrKXtyPSExO2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKWlmKGVbaV0udXNlcklEPT09dFtvXS51c2VySUQpe3I9ITA7YnJlYWt9aWYoIXIpcmV0dXJuITB9Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3I9ITE7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspaWYodFtuXS51c2VySUQ9PT1lW3NdLnVzZXJJRCl7cj0hMDticmVha31pZighcilyZXR1cm4hMH1yZXR1cm4hMX0sZX0oKTt0LmRlZmF1bHQ9b30sNjA5ODpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89cigyMTk1KSxuPXIoODE1Mikscz1pKHIoOTU2KSk7ZnVuY3Rpb24gYShlKXtyZXR1cm57MDoxLDE6MiwyOjN9W2VdfXZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciByPXRoaXM7dGhpcy5yZWN2TW9kZT1vLlplZ29SYW5nZUF1ZGlvTW9kZS5Xb3JsZCx0aGlzLnNlbmRNb2RlPW8uWmVnb1JhbmdlQXVkaW9Nb2RlLldvcmxkLHRoaXMucmVjdlJhbmdlPW51bGwsdGhpcy5wb3NpdGlvbj1udWxsLHRoaXMuZm9yd2FyZEF4aXM9WzEsMCwwXSx0aGlzLnVwQXhpcz1bMCwwLDFdLHRoaXMuYXVkaW9TdHJlYW09bnVsbCx0aGlzLmVuYWJsZU1pYz0hMSx0aGlzLmlzUHVibGlzaGluZz0hMSx0aGlzLnN0cmVhbUlEPW51bGwsdGhpcy56ZWdvUlRDPXQsdGhpcy5hdWRpb0N0eD1lLHRoaXMuYXVkaW9MaXN0ZW5lcj10aGlzLmF1ZGlvQ3R4Lmxpc3RlbmVyLHRoaXMuZXZlbnRIYW5kbGVyPXMuZGVmYXVsdC5nZXRJbnN0YW5jZSgpLHRoaXMuemVnb1JUQy5vbihcInB1Ymxpc2hlclN0YXRlVXBkYXRlXCIsKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGUsaT1lLmVycm9yQ29kZSxuPWUuZXh0ZW5kZWREYXRhO2Uuc3RyZWFtSUQ9PT1yLnN0cmVhbUlEJiYoXCJOT19QVUJMSVNIXCI9PT10PyhyLmlzUHVibGlzaGluZz0hMSxyLnN0b3BQdWJsaXNoaW5nU3RyZWFtKCkpOnIuaXNQdWJsaXNoaW5nPSEwKSxyLmV2ZW50SGFuZGxlci5lbWl0KFwibWljcm9waG9uZVN0YXRlVXBkYXRlXCIse05PX1BVQkxJU0g6by5aZWdvUmFuZ2VBdWRpb01pY3JvcGhvbmVTdGF0ZS5PZmYsUFVCTElTSF9SRVFVRVNUSU5HOm8uWmVnb1JhbmdlQXVkaW9NaWNyb3Bob25lU3RhdGUuVHVybmluZ09uLFBVQkxJU0hJTkc6by5aZWdvUmFuZ2VBdWRpb01pY3JvcGhvbmVTdGF0ZS5Pbn1bdF0saSxuKX0pKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibG9nZ2VyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnplZ29SVEMubG9nZ2VyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5pbnN0YW5jZXx8KGUuaW5zdGFuY2U9bmV3IGUodCxyKSksZS5pbnN0YW5jZX0sZS5wcm90b3R5cGUudXBkYXRlU2VsZlBvc2l0aW9uPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnBvc2l0aW9uPWUsdGhpcy5mb3J3YXJkQXhpcz10LEFycmF5LmlzQXJyYXkocikmJih0aGlzLnVwQXhpcz1yKSx0aGlzLnVwZGF0ZUxpc3RlbmVyRWZmZWN0KCl9LGUucHJvdG90eXBlLnVwZGF0ZUxpc3RlbmVyRWZmZWN0PWZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvbiYmKHRoaXMuYXVkaW9MaXN0ZW5lci5wb3NpdGlvblg/KHRoaXMuYXVkaW9MaXN0ZW5lci5wb3NpdGlvblgudmFsdWU9dGhpcy5wb3NpdGlvblsxXSx0aGlzLmF1ZGlvTGlzdGVuZXIucG9zaXRpb25ZLnZhbHVlPXRoaXMucG9zaXRpb25bMl0sdGhpcy5hdWRpb0xpc3RlbmVyLnBvc2l0aW9uWi52YWx1ZT0tdGhpcy5wb3NpdGlvblswXSk6dGhpcy5hdWRpb0xpc3RlbmVyLnNldFBvc2l0aW9uKHRoaXMucG9zaXRpb25bMV0sdGhpcy5wb3NpdGlvblsyXSwtdGhpcy5wb3NpdGlvblswXSksdGhpcy5hdWRpb0xpc3RlbmVyLmZvcndhcmRYPyh0aGlzLmF1ZGlvTGlzdGVuZXIuZm9yd2FyZFgudmFsdWU9dGhpcy5mb3J3YXJkQXhpc1sxXSx0aGlzLmF1ZGlvTGlzdGVuZXIuZm9yd2FyZFkudmFsdWU9dGhpcy5mb3J3YXJkQXhpc1syXSx0aGlzLmF1ZGlvTGlzdGVuZXIuZm9yd2FyZFoudmFsdWU9LXRoaXMuZm9yd2FyZEF4aXNbMF0sdGhpcy5hdWRpb0xpc3RlbmVyLnVwWC52YWx1ZT10aGlzLnVwQXhpc1sxXSx0aGlzLmF1ZGlvTGlzdGVuZXIudXBZLnZhbHVlPXRoaXMudXBBeGlzWzJdLHRoaXMuYXVkaW9MaXN0ZW5lci51cFoudmFsdWU9LXRoaXMudXBBeGlzWzBdKTp0aGlzLmF1ZGlvTGlzdGVuZXIuc2V0T3JpZW50YXRpb24odGhpcy5mb3J3YXJkQXhpc1sxXSx0aGlzLmZvcndhcmRBeGlzWzJdLC10aGlzLmZvcndhcmRBeGlzWzBdLHRoaXMudXBBeGlzWzFdLHRoaXMudXBBeGlzWzJdLC10aGlzLnVwQXhpc1swXSkpfSxlLnByb3RvdHlwZS5zdGFydFB1Ymxpc2hpbmdTdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZW5hYmxlTWljP3RoaXMubG9nZ2VyLndhcm4obi5SQU5HRV9BVURJTytcIiBtaWMgaXMgYWxyZWFkeSBlbmFibGVkXCIpOih0aGlzLmVuYWJsZU1pYz0hMCx0aGlzLnplZ29SVEMuY3JlYXRlU3RyZWFtKHtjYW1lcmE6e3ZpZGVvOiExLGF1ZGlvOiEwLGF1ZGlvSW5wdXQ6dGhpcy5taWNJRHx8dm9pZCAwLGF1ZGlvQml0cmF0ZTozMH19KS50aGVuKChmdW5jdGlvbih0KXtpZighZS51c2VySUQpdGhyb3cgZS56ZWdvUlRDLmRlc3Ryb3lTdHJlYW0odCksZS5lbmFibGVNaWM9ITEsRXJyb3IoXCJFbmFibGUgbWljIGZhaWxlZC4gUGxlYXNlIGxvZyBpbiByb29tIGZpcnN0LlwiKTtlLmF1ZGlvU3RyZWFtJiZlLmF1ZGlvU3RyZWFtIT09dCYmZS56ZWdvUlRDLmRlc3Ryb3lTdHJlYW0oZS5hdWRpb1N0cmVhbSksZS5hdWRpb1N0cmVhbT10O3ZhciByPXtyYW5nZV9hdWRpb190ZWFtX2lkOmUudGVhbUlEfHxcIlwiLHJhbmdlX2F1ZGlvX21vZGU6YShlLnNlbmRNb2RlKSxyX2Ffc19mbGFnOjF9O2Uuc3RyZWFtSUQ9ZS51c2VySUQrXCJfXCIrRGF0ZS5ub3coKSxlLnplZ29SVEMuc3RhcnRQdWJsaXNoaW5nU3RyZWFtKGUuc3RyZWFtSUQsdCx7ZXh0cmFJbmZvOkpTT04uc3RyaW5naWZ5KHIpfSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IGUuYXVkaW9TdHJlYW09bnVsbCxlLmVuYWJsZU1pYz0hMSx0fSkpKX0sZS5wcm90b3R5cGUuc3RvcFB1Ymxpc2hpbmdTdHJlYW09ZnVuY3Rpb24oKXt0aGlzLmlzUHVibGlzaGluZyYmdGhpcy5zdHJlYW1JRCYmdGhpcy56ZWdvUlRDLnN0b3BQdWJsaXNoaW5nU3RyZWFtKHRoaXMuc3RyZWFtSUQpLHRoaXMuaXNQdWJsaXNoaW5nPSExLHRoaXMuYXVkaW9TdHJlYW0mJih0aGlzLnplZ29SVEMuZGVzdHJveVN0cmVhbSh0aGlzLmF1ZGlvU3RyZWFtKSx0aGlzLmF1ZGlvU3RyZWFtPW51bGwpLHRoaXMuZW5hYmxlTWljPSExfSxlLnByb3RvdHlwZS5zZXRSZWN2TW9kZT1mdW5jdGlvbihlKXt0aGlzLnJlY3ZNb2RlPWV9LGUucHJvdG90eXBlLnNldFNlbmRNb2RlPWZ1bmN0aW9uKGUpe3RoaXMuc2VuZE1vZGU9ZSx0aGlzLnVwZGF0ZVN0ZWFtRXh0cmFJbmZvKCl9LGUucHJvdG90eXBlLnNldFRlYW1JRD1mdW5jdGlvbihlKXt0aGlzLnRlYW1JRD1lLHRoaXMudXBkYXRlU3RlYW1FeHRyYUluZm8oKX0sZS5wcm90b3R5cGUudXBkYXRlU3RlYW1FeHRyYUluZm89ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbUlEJiZ0aGlzLmlzUHVibGlzaGluZyYmdGhpcy56ZWdvUlRDLnNldFN0cmVhbUV4dHJhSW5mbyh0aGlzLnN0cmVhbUlELEpTT04uc3RyaW5naWZ5KHtyYW5nZV9hdWRpb190ZWFtX2lkOnRoaXMudGVhbUlEfHxcIlwiLHJhbmdlX2F1ZGlvX21vZGU6YSh0aGlzLnNlbmRNb2RlKSxyX2Ffc19mbGFnOjF9KSl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hdWRpb1N0cmVhbSYmdGhpcy5zdG9wUHVibGlzaGluZ1N0cmVhbSgpLHRoaXMudXNlcklEPXZvaWQgMCx0aGlzLnN0cmVhbUlEPW51bGx9LGV9KCk7dC5kZWZhdWx0PWN9LDI1ODY6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3JldHVybiFpc05hTihOdW1iZXIoZSkpJiZOdW1iZXIuTUFYX1NBRkVfSU5URUdFUj49TnVtYmVyKGUpJiZOdW1iZXIoZSk+PS1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUn1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNoZWNrQ29vcmRpbmF0ZT10LmNoZWNrQm9vbGVhbj10LmNoZWNrTnVtYmVyPXZvaWQgMCx0LmNoZWNrTnVtYmVyPXIsdC5jaGVja0Jvb2xlYW49ZnVuY3Rpb24oZSl7cmV0dXJuITF9LHQuY2hlY2tDb29yZGluYXRlPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wO3Q8Mzt0Kyspe2lmKCFyKGVbdF0pKXJldHVybiExfXJldHVybiEwfXJldHVybiExfX0sNjc1NTpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5BZHZhbmNlZE1vZHVsZT12b2lkIDA7dmFyIGk9cig2MzA1KSxvPXIoOTMwNCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy5sb2dnZXI9ZSx0aGlzLmRhdGFSZXBvcnQ9dCx0aGlzLnN0cmVhbUNlbnRlcj1yLHRoaXMuc3RhdGVDZW50ZXI9aSx0aGlzLnNjcmVlblNob3RSZWFkeT0hMX1yZXR1cm4gZS5wcm90b3R5cGUucHVibGlzaFRhcmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5zdGF0ZUNlbnRlci5nZXRSZXBvcnRTZXEoKTtzd2l0Y2goZS50eXBlKXtjYXNlXCJhZGRwdXNoXCI6dGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChyLG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0FkZFB1Ymxpc2hDZG5VcmwuZXZlbnQpO2JyZWFrO2Nhc2VcImRlbHB1c2hcIjpjYXNlXCJjbGVhcnB1c2hcIjp0aGlzLmRhdGFSZXBvcnQubmV3UmVwb3J0KHIsby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUmVtb3ZlUHVibGlzaENkblVybC5ldmVudCl9cmV0dXJuIHRoaXMuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHIse3N0cmVhbTpvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tSZW1vdmVQdWJsaXNoQ2RuVXJsLnN0cmVhbShlLnN0cmVhbUlEKSx0YXJnZXRfdXJsOm8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1JlbW92ZVB1Ymxpc2hDZG5VcmwudGFyZ2V0X3VybChlLnB1c2hVcmwpfSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scyl7dmFyIGE9ZnVuY3Rpb24oZSxpKXt0LmxvZ2dlci5lcnJvcihcInpiLnB0XCIrKGl8fGUubWVzc2FnZSkpLHQuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHIse2Vycm9yOmUuY29kZSxtZXNzYWdlOmUubWVzc2FnZSsoaXx8XCJcIil9KSx0LmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHIpLHMoe2Vycm9yQ29kZTplLmNvZGUsZXh0ZW5kZWREYXRhOmUubWVzc2FnZSsoaT9cIiBcIitpOlwiXCIpfSl9O2lmKC0xPT1bXCJhZGRwdXNoXCIsXCJkZWxwdXNoXCIsXCJjbGVhcnB1c2hcIl0uaW5kZXhPZihlLnR5cGUpKXJldHVybiB0LmxvZ2dlci5lcnJvcihcInpiLnNoLnB0IGNkbiBwdXNoIHR5cGUgZXJyb3JcIiksdm9pZCBhKGkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfQ0ROX1BVU0hfRVJST1IsXCJ0eXBlIGVycm9yXCIpO2lmKGUuc3RyZWFtSUQmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnN0cmVhbUlEKWlmKGUucHVzaFVybCYmXCJzdHJpbmdcIj09dHlwZW9mIGUucHVzaFVybClpZih0LnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W2Uuc3RyZWFtSURdKXt2YXIgYz10LnN0cmVhbUNlbnRlci5nZXRSb29tQnlTdHJlYW1JRChlLnN0cmVhbUlEKTtpZihjKXtjLnN0cmVhbUhhbmRsZXIuX3B1Ymxpc2hUYXJnZXQoZSwoZnVuY3Rpb24oZSl7dC5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChyKSxuKGUpfSksYSl9ZWxzZSBhKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hUYXJnZXQuZXJyb3Iua05vTG9naW5FcnJvcil9ZWxzZSBhKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hUYXJnZXQuZXJyb3Iua1B1Ymxpc2hTdHJlYW1Ob0ZvdW5kRXJyb3IpO2Vsc2UgYShvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoVGFyZ2V0LmVycm9yLmtQYXJhbUVycm9yLFwicHVzaCB1cmwgZXJyb3JcIik7ZWxzZSBhKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hUYXJnZXQuZXJyb3Iua1BhcmFtRXJyb3IsXCJzdHJlYW0gaWQgdHlwZSBlcnJvclwiKX0pKX0sZX0oKTt0LkFkdmFuY2VkTW9kdWxlPW59LDU2MTA6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuc3RyZWFtSGFuZGxlcj10LnplZ29XZWJSVEM9dC5FTlVNX1BVQkxJU0hfU1RSRUFNX1NUQVRFPXQuRU5VTV9TVFJFQU1fQ01EX1BSST10LkVOVU1fU1RSRUFNX1NVQl9DTUQ9dC5QUk9UT19WRVJTSU9OPXZvaWQgMDt2YXIgaT1yKDYzMDUpLG89cig5MzA0KTt0LlBST1RPX1ZFUlNJT049XCIyLjE5LjBcIix0LkVOVU1fU1RSRUFNX1NVQl9DTUQ9e2xpdmVOb25lOjAsbGl2ZUJlZ2luOjIwMDEsbGl2ZUVuZDoyMDAyLGxpdmVVcGRhdGU6MjAwM30sdC5FTlVNX1NUUkVBTV9DTURfUFJJPXtsaXZlQmVnaW46XCJ6ZWdvY2hhdF9qcy5yb29tX3N0cmVhbV9jcmVhdGVfcmVxXCIsbGl2ZUVuZDpcInplZ29jaGF0X2pzLnJvb21fc3RyZWFtX2RlbGV0ZV9yZXFcIixsaXZlVXBkYXRlOlwiemVnb2NoYXRfanMucm9vbV9zdHJlYW1fdXBkYXRlX3JlcVwifSx0LkVOVU1fUFVCTElTSF9TVFJFQU1fU1RBVEU9e3dhaXRpbmdfdXJsOjEsdHJ5UHVibGlzaDoyLHVwZGF0ZV9pbmZvOjMscHVibGlzaGluZzo0LHN0b3A6NSxyZXRyeVB1Ymxpc2g6Nn0sdC56ZWdvV2ViUlRDPXtzZXRTdHJlYW1FeHRyYUluZm86ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxuKXt2YXIgcz1yLnN0YXRlQ2VudGVyLmdldFJlcG9ydFNlcSgpO3IuZGF0YVJlcG9ydC5uZXdSZXBvcnQocyxvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tMaXZlUm9vbVNlbmRTdHJlYW1FeHRyYUluZm8uZXZlbnQpLHIuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHMse3N0cmVhbTpvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tMaXZlUm9vbVNlbmRTdHJlYW1FeHRyYUluZm8uc3RyZWFtKGUpLHN0cmVhbV9leHRyYV9pbmZvOm8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tU2VuZFN0cmVhbUV4dHJhSW5mby5zdHJlYW1fZXh0cmFfaW5mbyh0KX0pO3ZhciBhPWZ1bmN0aW9uKGUsdCl7ci5sb2dnZXIuZXJyb3IoXCJ6Yi5zc2VpIFwiK3QpLHIuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHMse2Vycm9yOmUuY29kZSxtZXNzYWdlOmUubWVzc2FnZStcIiBcIit0fSksci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChzKSxuKHtlcnJvckNvZGU6ZS5jb2RlLGV4dGVuZGVkRGF0YTplLm1lc3NhZ2UrXCIgXCIrdH0pfTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJcIiE9ZSlpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJcIiE9dClpZihyLlJUTS5pc0Rpc0Nvbm5lY3QoKSlhKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tU2VuZFN0cmVhbUV4dHJhSW5mby5lcnJvci5rTm9Mb2dpbkVycm9yLFwibm90IGxvZ2luXCIpO2Vsc2UgaWYoci5zdGF0ZUNlbnRlci5wdWJsaXNoU3RyZWFtTGlzdFtlXSl7dmFyIGM9ci5zdHJlYW1DZW50ZXIuZ2V0Um9vbUJ5U3RyZWFtSUQoZSk7Yz8oci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8ocyx7cm9vbV9zaWQ6by5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTGl2ZVJvb21TZW5kU3RyZWFtRXh0cmFJbmZvLnJvb21fc2lkKGMuc2Vzc2lvbklEKX0pLGMuc3RyZWFtSGFuZGxlci5zZXRTdHJlYW1FeHRyYUluZm8oZSx0LGksYSksci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChzKSk6YShvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tMaXZlUm9vbVNlbmRTdHJlYW1FeHRyYUluZm8uZXJyb3Iua05vTG9naW5FcnJvcixcIm5vdCBsb2dpblwiKX1lbHNlIGEoby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTGl2ZVJvb21TZW5kU3RyZWFtRXh0cmFJbmZvLmVycm9yLmtQdWJsaXNoU3RyZWFtTm9Gb3VuZEVycm9yLFwicHVibGlzaCBzdHJlYW0gbm8gZm91bmRcIik7ZWxzZSBhKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tU2VuZFN0cmVhbUV4dHJhSW5mby5lcnJvci5rUGFyYW1FcnJvcixcImV4dHJhSW5mbyBtdXN0IGJlIHN0cmluZyBhbmQgbm8gZW1wdHlcIik7ZWxzZSBhKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tU2VuZFN0cmVhbUV4dHJhSW5mby5lcnJvci5rUGFyYW1FcnJvcixcInN0cmVhbUlEIG11c3QgYmUgc3RyaW5nIGFuZCBub3QgZW1wdHlcIil9KSl9fSx0LnN0cmVhbUhhbmRsZXI9e19wdWJsaXNoVGFyZ2V0OmZ1bmN0aW9uKGUscixuKXt2YXIgcz10aGlzO3RoaXMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5wdGNhbGxcIik7dmFyIGE9TWF0aC5jZWlsKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzFlMyksYz1lLnN0cmVhbUlEO3RoaXMuc3RhdGVDZW50ZXIudGVzdEVudmlyb25tZW50JiYoYz1cInplZ290ZXN0LVwiK3RoaXMuc3RhdGVDZW50ZXIuYXBwaWQrXCItXCIrZS5zdHJlYW1JRCk7dmFyIHU9e2FwcGlkOnRoaXMuc3RhdGVDZW50ZXIuYXBwaWQsYml6X3R5cGU6MCx0aW1lc3RhbXA6YSxzZXE6dGhpcy5zdGF0ZUNlbnRlci5jZG5TZXErKyx2ZXJzaW9uOjEqdC5QUk9UT19WRVJTSU9OLHN0cmVhbV9pZDpjLHB1c2h1cmw6ZS5wdXNoVXJsfTtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcInpiLnNoLnB0IHNlbmQgY29tbWFuZFwiKSx0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50KXRoaXMuc2VuZEJpekNoYW5uZWxSZXF1ZXN0VjIoe3NlcnZlcjoxLGxvY2F0aW9uOlwiL2xpdmVyb29tY21kL3B1c2hcIixjbWQ6ZS50eXBlfSx1LChmdW5jdGlvbih0KXtzLmxvZ2dlci5pbmZvKFwiemIuc2gucHQgcmVjZWl2ZSBtZXNzYWdlXCIpO3ZhciBvPXR8fHt9LGE9by5jb2RlLGM9by5tZXNzYWdlO2EmJjAhPWE/KHMubG9nZ2VyLmVycm9yKFwiemIuc2gucHQgXCIrZS50eXBlK1wiIGVycm9yIGNvZGU6IFwiK2ErXCIgXCIrYyksbihpLmVycm9yQ29kZUxpc3QuVU5LTk9XTl9TRVJWRVJfRVJST1IsXCIgY21kOiBcIi5jb25jYXQoZS50eXBlLFwiIFwiKS5jb25jYXQoYSxcIiBcIikuY29uY2F0KGMpKSk6KHMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5wdCBcIitlLnR5cGUrXCIgc3VjY2Vzc1wiKSxyJiZyKHtlcnJvckNvZGU6MCxleHRlbmRlZERhdGE6XCJcIn0pKX0pLChmdW5jdGlvbih0LHIsaSxhKXt2YXIgYz1cIlwiO2F8fChhPW8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hUYXJnZXQuZXJyb3Iua1Vua25vd25TZXJ2ZXJFcnJvciwyMDA9PT10PyhzLmxvZ2dlci5pbmZvKFwiemIuc2gucHQgZXJyb3I6IFwiK3IpLGE9by5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFRhcmdldC5lcnJvci5rVW5rbm93blNlcnZlckVycm9yLDIwMDE9PXI/YT1vLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoVGFyZ2V0LmVycm9yLmtJbnZhbGlkQ2hhbm5lbEVycm9yOjIwMDI9PXImJihhPW8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hUYXJnZXQuZXJyb3Iua0JpekNoYW5uZWxFcnJvciksYz1cImNtZDogXCIuY29uY2F0KGUudHlwZSxcIiwgYml6X2NvZGU6IFwiKS5jb25jYXQocikpOmM9XCJyZXF1ZXN0IG1lZGlhIHNlcnZlciBmYWlsLCBlcnJvcjogXCIrdCxzLmxvZ2dlci5lcnJvcihcInpiLnNoLnB0IFwiK2MpKSxuJiZuKGEsYyl9KSk7ZWxzZXt2YXIgZD17Y2hhbm5lbDpcIm1lZGlhXCIsY21kOmUudHlwZSxyZXFfYm9keTpKU09OLnN0cmluZ2lmeSh1KX07dGhpcy5zZW5kQml6Q2hhbm5lbFJlcXVlc3QoZCwoZnVuY3Rpb24odCxhLGMpe2lmKHMubG9nZ2VyLmluZm8oXCJ6Yi5zaC5wdCByZWNlaXZlIG1lc3NhZ2VcIiksMCE9Yy5sZW5ndGgpe3ZhciB1PUpTT04ucGFyc2UoYyksZD11LmNvZGUsbD11Lm1lc3NhZ2U7ZCYmMCE9ZD8ocy5sb2dnZXIuZXJyb3IoXCJ6Yi5zaC5wdCBcIitlLnR5cGUrXCIgZXJyb3IgY29kZTogXCIrZCtcIiBcIitsKSxuKGkuZXJyb3JDb2RlTGlzdC5VTktOT1dOX1NFUlZFUl9FUlJPUixcIiBjbWQ6IFwiLmNvbmNhdChlLnR5cGUsXCIgXCIpLmNvbmNhdChkLFwiIFwiKS5jb25jYXQobCkpKToocy5sb2dnZXIuaW5mbyhcInpiLnNoLnB0IFwiK2UudHlwZStcIiBzdWNjZXNzXCIpLHImJnIoe2Vycm9yQ29kZTowLGV4dGVuZGVkRGF0YTpcIlwifSkpfWVsc2UgbihvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoVGFyZ2V0LmVycm9yLmtOb1Jlc3BvbnNlRXJyb3IpfSksKGZ1bmN0aW9uKHQscixpKXtzLmxvZ2dlci5pbmZvKFwiemIuc2gucHQgZXJyb3I6IFwiK3QpO3ZhciBhPW8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hUYXJnZXQuZXJyb3Iua1Vua25vd25TZXJ2ZXJFcnJvcjsyMDAxPT10P2E9by5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFRhcmdldC5lcnJvci5rSW52YWxpZENoYW5uZWxFcnJvcjoyMDAyPT10JiYoYT1vLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoVGFyZ2V0LmVycm9yLmtCaXpDaGFubmVsRXJyb3IpLHMubG9nZ2VyLmVycm9yKFwiemIuc2gucHQgXCIpLG4oYSxcIiBjbWQ6IFwiLmNvbmNhdChlLnR5cGUsXCIgXCIpLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQoXCJcIixcIiAgXCIpKX0pKX19LHVwZGF0ZVN0cmVhbUV4dHJhSW5mbzpmdW5jdGlvbihlLHIsaSxuKXt0aGlzLmxvZ2dlci5pbmZvKFwiemIuc2gudXNlaSBjYWxsXCIpO3ZhciBzPXQuRU5VTV9TVFJFQU1fU1VCX0NNRC5saXZlVXBkYXRlO3RoaXMuc3RhdGVDZW50ZXIucHVibGlzaFN0cmVhbUxpc3RbZV0mJnRoaXMuc3RhdGVDZW50ZXIucHVibGlzaFN0cmVhbUxpc3RbZV0uc3RhdGU+PXQuRU5VTV9QVUJMSVNIX1NUUkVBTV9TVEFURS51cGRhdGVfaW5mbz8odGhpcy5zdGF0ZUNlbnRlci5wdWJsaXNoU3RyZWFtTGlzdFtlXS5leHRyYV9pbmZvPXIsdGhpcy51cGRhdGVTdHJlYW1JbmZvKGUscyxyKSxpKHtlcnJvckNvZGU6MH0pKTp0aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W2VdJiZ0aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W2VdLnN0YXRlPT09dC5FTlVNX1BVQkxJU0hfU1RSRUFNX1NUQVRFLnRyeVB1Ymxpc2g/KHRoaXMuc3RhdGVDZW50ZXIucHVibGlzaFN0cmVhbUxpc3RbZV0uZXh0cmFfaW5mbz1yLGkoe2Vycm9yQ29kZTowfSkpOm4oby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrTGl2ZVJvb21TZW5kU3RyZWFtRXh0cmFJbmZvLmVycm9yLmtVcGRhdGVTdHJlYW1JbmZvRmFpbEVycm9yKX0sc2V0U3RyZWFtRXh0cmFJbmZvOmZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMudXBkYXRlU3RyZWFtRXh0cmFJbmZvKGUsdCxyLGkpfX19LDYzMDU6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmVycm9yQ29kZUxpc3Q9dm9pZCAwLHQuZXJyb3JDb2RlTGlzdD17Tk9UX0xPR0lOOntjb2RlOjEwMDAwMDIsbWVzc2FnZTpcIm5vdCBsb2dpbiByb29tXCJ9LElOUFVUX1BBUkFNOntjb2RlOjExMDAwMDEsbWVzc2FnZTpcImlucHV0IHBhcmFtIGVycm9yLlwifSxQVUJMSVNIX05PVF9QVUJMSVNIOntjb2RlOjExMDMwNDAsbWVzc2FnZTpcInB1Ymxpc2hlciBub3QgZm91bmRcIn0sUFVCTElTSF9OT19QUkVWSUVXOntjb2RlOjExMDMwNDQsbWVzc2FnZTpcInN0cmVhbSBpcyBub3QgZnJvbSB6ZWdvXCJ9LFRSQUNLX05PVF9GT1VORDp7Y29kZToxMTAzMDQ3LG1lc3NhZ2U6XCJ0cmFjayBpcyBub3QgZm91bmRcIn0sREVWSUNFX05PVF9GT1VORDp7Y29kZToxMTAzMDQ4LG1lc3NhZ2U6XCJkZXZpY2UgaXMgbm90IGZvdW5kXCJ9LFBVQkxJU0hFUl9DT05TVFJBSU5UU19FUlJPUjp7Y29kZToxMTAzMDI5LG1lc3NhZ2U6XCJjb25zdHJhaW50IGVycm9yXCJ9LFBVQkxJU0hFUl9DRE5fUFVTSF9FUlJPUjp7Y29kZToxMTAzMDUyLG1lc3NhZ2U6XCJwdWJsaXNoZXIgY2RuIHB1c2ggZXJyb3JcIn0sVklERU9fREVWSUNFX0ZBTFNFOntjb2RlOjExMDMwNDUsbWVzc2FnZTpcInZpZGVvIGlzIGZhbHNlXCJ9LEFVRElPX0RFVklDRV9GQUxTRTp7Y29kZToxMTAzMDQ2LG1lc3NhZ2U6XCJhdWRpbyBpcyBmYWxzZVwifSxVTktOT1dOX1NFUlZFUl9FUlJPUjp7Y29kZToxMTAwOTk5LG1lc3NhZ2U6XCJ1bmtub3duIHNlcnZlciBlcnJvclwifSxMT0NBTFNUUkVBTV9XUk9ORzp7Y29kZToxMDAwMDE4LG1lc3NhZ2U6XCJsb2NhbCBzdHJlYW0gd3JvbmdcIn0sUFVCTElTSEVSX1NUUkVBTV9OT19GT1VORDp7Y29kZToxMTAzMDU1LG1lc3NhZ2U6XCJwdWJsaXNoIHN0cmVhbSBubyBmb3VuZFwifSxQVUJMSVNIX1RBUkdFVF9OT19SRVNQT05TRTp7Y29kZToxMTAzMDYzLG1lc3NhZ2U6XCJwdWJsaXNoIHRhcmdldCBubyByZXNwb25zZVwifSxCSVpfQ0hBTk5FTF9FUlJPUjp7Y29kZToxMTAyMDIxLG1lc3NhZ2U6XCJiaXogY2hhbm5lbCBlcnJvci5cIn0sSU5WQUxJRF9DSEFOTkVMOntjb2RlOjExMDIwMjQsbWVzc2FnZTpcImludmFsaWQgY2hhbm5lbFwifSxQVUJMSVNIRVJfRVhUUkFfSU5GT19OVUxMOntjb2RlOjEwMDMwNTAsbWVzc2FnZTpcImV4dHJhIGluZm8gb2YgcHVibGlzaGluZyBzdHJlYW0gaXMgbnVsbFwifSxQVUJMSVNIRVJfVVBEQVRFX1NUUkVBTV9JTkZPX0ZBSUw6e2NvZGU6MTEwMzA2MixtZXNzYWdlOlwidXBkYXRlIHN0cmVhbSBpbmZvIGZhaWxcIn0sVFJBQ0tfQ0FOX05PVF9BREQ6e2NvZGU6MTEwMzA2MyxtZXNzYWdlOlwib25seSBzdHJlYW0gd2hpY2ggaGF2ZSBvbmUgdHJhY2sgYW5kIGtpbmQgbm8gZXhpc3QgY2FuIGFkZCB0cmFja1wifSxUUkFDS19DQU5fTk9UX1JFTU9WRTp7Y29kZToxMTAzMDY0LG1lc3NhZ2U6XCJzdHJlYW0gd2hpY2ggb25seSBoYXMgb25lIHRyYWNrIGNhbiBub3QgcmVtb3ZlIFwifSxQVUJMSVNIRVJfVVBEQVRFX1NEUF9GQUlMOntjb2RlOjExMDMwNjgsbWVzc2FnZTpcInVwZGF0ZSBzZHAgZmFpbFwifSxQVUJMSVNIRVJfU1RBVEVfV1JPTkc6e2NvZGU6MTEwMzA2OSxtZXNzYWdlOlwicHVibGlzaGVyIHN0YXRlIHdyb25nXCJ9LEhBTkRMRV9UUkFDS19OT1RfU1VQUE9SVEVEOntjb2RlOjExMDMwNzAsbWVzc2FnZTpcIm5vdCBzdXBwb3J0IHJlbW92ZSB0cmFja1wifSxWSURFT19FRkZFQ1RfSVNfUlVOTklORzp7Y29kZToxMTAzMDcxLG1lc3NhZ2U6XCJ2aWRlbyBlZmZlY3QgcHJvY2Vzc29yIGlzIHJ1bm5pbmdcIn19fSwyNjU2OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1yKDY3NTUpLG89cig1NjEwKTt0LmRlZmF1bHQ9e3R5cGU6XCJTdHJlYW1Db21tb25cIixpbnN0YWxsOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG4gaW4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW5pdFN0cmVhbUNvbW1vblwiLHt2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RyZWFtQ29tbW9uTW9kdWxlPW5ldyBpLkFkdmFuY2VkTW9kdWxlKHRoaXMubG9nZ2VyLHRoaXMuZGF0YVJlcG9ydCx0aGlzLnN0cmVhbUNlbnRlcix0aGlzLnN0YXRlQ2VudGVyKX0sd3JpdGFibGU6ITF9KSxvLnplZ29XZWJSVEMpT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLG4se3ZhbHVlOm8uemVnb1dlYlJUQ1tuXSx3cml0YWJsZTohMX0pO2Zvcih2YXIgbiBpbiBvLnN0cmVhbUhhbmRsZXIpT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLG4se3ZhbHVlOm8uc3RyZWFtSGFuZGxlcltuXSx3cml0YWJsZTohMX0pfX19LDkzMDQ6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb1JUQ0xvZ0V2ZW50PXZvaWQgMDt2YXIgaT1yKDYzMDUpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O3QuWmVnb1JUQ0xvZ0V2ZW50PXtrWmVnb1Rhc2tQdWJsaXNoVGFyZ2V0OntldmVudDpcIi9zZGsvcHVibGlzaF90YXJnZXRcIixlcnJvcjp7a1BhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNLGtQdWJsaXNoU3RyZWFtTm9Gb3VuZEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfU1RSRUFNX05PX0ZPVU5ELGtOb0xvZ2luRXJyb3I6aS5lcnJvckNvZGVMaXN0Lk5PVF9MT0dJTixrTm9SZXNwb25zZUVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIX1RBUkdFVF9OT19SRVNQT05TRSxrQml6Q2hhbm5lbEVycm9yOmkuZXJyb3JDb2RlTGlzdC5CSVpfQ0hBTk5FTF9FUlJPUixrSW52YWxpZENoYW5uZWxFcnJvcjppLmVycm9yQ29kZUxpc3QuSU5WQUxJRF9DSEFOTkVMLGtVbmtub3duU2VydmVyRXJyb3I6aS5lcnJvckNvZGVMaXN0LlVOS05PV05fU0VSVkVSX0VSUk9SfX0sa1plZ29UYXNrQWRkUHVibGlzaENkblVybDp7ZXZlbnQ6XCIvc2RrL2FkZF9wdWJsaXNoX2Nkbl91cmxcIixlcnJvcjp7a1BhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNfX0sa1plZ29UYXNrUmVtb3ZlUHVibGlzaENkblVybDp7ZXZlbnQ6XCIvc2RrL3JlbW92ZV9wdWJsaXNoX2Nkbl91cmxcIixlcnJvcjp7a1BhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNfSxzdHJlYW06byx0YXJnZXRfdXJsOm99LGtaZWdvVGFza0NsZWFyUHVibGlzaENkblVybDp7ZXZlbnQ6XCIvc2RrL2NsZWFyX3B1Ymxpc2hfY2RuX3VybFwiLGVycm9yOntrUGFyYW1FcnJvcjppLmVycm9yQ29kZUxpc3QuSU5QVVRfUEFSQU19fSxrWmVnb1Rhc2tMaXZlUm9vbVNlbmRTdHJlYW1FeHRyYUluZm86e2V2ZW50OlwiL2xpdmVyb29tL3NlbmRfc3RyZWFtX2V4dHJhX2luZm9cIixlcnJvcjp7a1BhcmFtRXJyb3I6aS5lcnJvckNvZGVMaXN0LklOUFVUX1BBUkFNLGtFeHRyYUluZm9OdWxsRXJyb3I6aS5lcnJvckNvZGVMaXN0LlBVQkxJU0hFUl9FWFRSQV9JTkZPX05VTEwsa05vTG9naW5FcnJvcjppLmVycm9yQ29kZUxpc3QuTk9UX0xPR0lOLGtQdWJsaXNoU3RyZWFtTm9Gb3VuZEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfU1RSRUFNX05PX0ZPVU5ELGtVcGRhdGVTdHJlYW1JbmZvRmFpbEVycm9yOmkuZXJyb3JDb2RlTGlzdC5QVUJMSVNIRVJfVVBEQVRFX1NUUkVBTV9JTkZPX0ZBSUx9LHN0cmVhbTpvLHN0cmVhbV9leHRyYV9pbmZvOm8scm9vbV9zaWQ6b319fSwzNzM0OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsaT1hcmd1bWVudHMubGVuZ3RoO3I8aTtyKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0saS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG89dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihvLG4pe2Z1bmN0aW9uIHMoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxuPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLG4scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbjtmdW5jdGlvbiBhKG4pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsaSYmKG89MiZuWzBdP2kucmV0dXJuOm5bMF0/aS50aHJvd3x8KChvPWkucmV0dXJuKSYmby5jYWxsKGkpLDApOmkubmV4dCkmJiEobz1vLmNhbGwoaSxuWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2goaT0wLG8mJihuPVsyJm5bMF0sby52YWx1ZV0pLG5bMF0pe2Nhc2UgMDpjYXNlIDE6bz1uO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpuWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssaT1uWzFdLG49WzBdO2NvbnRpbnVlO2Nhc2UgNzpuPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1uWzBdJiYyIT09blswXSkpe3M9MDtjb250aW51ZX1pZigzPT09blswXSYmKCFvfHxuWzFdPm9bMF0mJm5bMV08b1szXSkpe3MubGFiZWw9blsxXTticmVha31pZig2PT09blswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1uO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2gobik7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW49dC5jYWxsKGUscyl9Y2F0Y2goZSl7bj1bNixlXSxpPTB9ZmluYWxseXtyPW89MH1pZig1Jm5bMF0pdGhyb3cgblsxXTtyZXR1cm57dmFsdWU6blswXT9uWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sYV0pfX19LHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wcmV2aWV3PXQuemVnb1dlYlJUQz12b2lkIDA7dmFyIGE9cyhyKDQzNCkpLGM9cigzNzg4KTt0LnplZ29XZWJSVEM9e3NldEJlYXV0eUVmZmVjdDpmdW5jdGlvbihlLHQscixvKXt2YXIgbj10aGlzO3JldHVybiB2b2lkIDA9PT1vJiYobz0hMCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHMsYSl7dmFyIHUsZDtpZighKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSkpcmV0dXJuIG4ubG9nZ2VyLmVycm9yKFwiemMucC4wLnNiZS4wIGxvY2FsU3RyZWFtIG5vdCBmb3VuZFwiKSx2b2lkIGEoe2Vycm9yQ29kZToxMTAwMDAxLGV4dGVuZGVkRGF0YTpcIiBsb2NhbFN0cmVhbSBubyBmb3VuZFwifSk7dmFyIGw9ZnVuY3Rpb24oZSl7cyhlKX0saD1uLnN0cmVhbUNlbnRlci5jaGVja1ByZXZpZXcoZSk7aWYoIWgpcmV0dXJuIG4ubG9nZ2VyLmVycm9yKFwiemMuc2JlLjAgcHJldmlldyBubyBmb3VuZFwiKSx2b2lkIGwoe2Vycm9yQ29kZTpjLmVycm9yQ29kZUxpc3QuUFVCTElTSF9OT19QUkVWSUVXLmNvZGUsZXh0ZW5kZWREYXRhOmMuZXJyb3JDb2RlTGlzdC5QVUJMSVNIX05PX1BSRVZJRVcubWVzc2FnZX0pO3ZhciBwPShudWxsPT09KHU9aC52aWRlb0VmZmVjdCl8fHZvaWQgMD09PXU/dm9pZCAwOnUuc3RhdGVGbGFnKXx8e2Jhc2U6ITEsbG93TGlnaHQ6ITF9O2lmKG8pISh0PSEhdCkmJnAubG93TGlnaHQ/cj17c2hhcnBlbkludGVuc2l0eTowLHdoaXRlbkludGVuc2l0eTowLHJvc3lJbnRlbnNpdHk6MCxzbW9vdGhJbnRlbnNpdHk6MCxsb3dsaWdodEVuaGFuY2VtZW50OnAubG93TGlnaHQ/MTowfTp0JiYocj1pKHtsb3dsaWdodEVuaGFuY2VtZW50OnAubG93TGlnaHQ/MTowfSxyKSkscC5iYXNlPXQ7ZWxzZXt2YXIgZz1yLmxvd2xpZ2h0RW5oYW5jZW1lbnQ7cj0obnVsbD09PShkPWgudmlkZW9FZmZlY3QpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLmVuYWJsZWQpfHwxIT09Zz97bG93bGlnaHRFbmhhbmNlbWVudDpnfTp7c2hhcnBlbkludGVuc2l0eTowLHdoaXRlbkludGVuc2l0eTowLHJvc3lJbnRlbnNpdHk6MCxzbW9vdGhJbnRlbnNpdHk6MCxsb3dsaWdodEVuaGFuY2VtZW50Omd9LHAubG93TGlnaHQ9MT09PWd9aC5zZXRCZWF1dHlFZmZlY3QocC5iYXNlfHxwLmxvd0xpZ2h0LHIscCkudGhlbigoZnVuY3Rpb24oKXtsKHtlcnJvckNvZGU6MCxleHRlbmRlZERhdGE6XCJcIn0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKHtlcnJvckNvZGU6ZS5lcnJvckNvZGV8fC0xLGV4dGVuZGVkRGF0YTplLmV4dGVuZGVkRGF0YXx8ZS50b1N0cmluZygpfSl9KSl9KSl9LHNldExvd2xpZ2h0RW5oYW5jZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldEJlYXV0eUVmZmVjdChlLCEwLHtsb3dsaWdodEVuaGFuY2VtZW50OnR9LCExKX19LHQucHJldmlldz17c2V0QmVhdXR5RWZmZWN0OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGkscz10aGlzO3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6aWYoIXRoaXMudmlkZW9UcmFjaylyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5wLjAuc2JlLjAgdmlkZW8gdHJhY2sgbm8gZm91bmRcIiksWzJdO2lmKCEoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCkpdGhyb3d7ZXJyb3JDb2RlOihpPWMuZXJyb3JDb2RlTGlzdC5WSURFT19FRkZFQ1RfTk9UX1NVUFBPUlQpLmNvZGUsZXh0ZW5kZWREYXRhOmkubWVzc2FnZX07cmV0dXJuIGEuZGVmYXVsdD90aGlzLnZpZGVvRWZmZWN0P3RoaXMudmlkZW9UcmFjaz09PXRoaXMudmlkZW9FZmZlY3QuaW5wdXQ/WzMsMl06WzQsdGhpcy52aWRlb0VmZmVjdC5zZXRJbnB1dCh0aGlzLnZpZGVvVHJhY2spXTpbMyw0XTpbMyw3XTtjYXNlIDE6dS5zZW50KCksdS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bNCx0aGlzLnZpZGVvRWZmZWN0LnNldEJlYXV0eUVmZmVjdE9wdGlvbnMoZSx0KV07Y2FzZSAzOnJldHVybiB1LnNlbnQoKSx0aGlzLnZpZGVvRWZmZWN0LnN0YXRlRmxhZz1yLFszLDZdO2Nhc2UgNDpyZXR1cm4gdGhpcy52aWRlb0VmZmVjdD1uZXcgYS5kZWZhdWx0KHRoaXMubG9nZ2VyLHRoaXMudmlkZW9UcmFjayksdGhpcy52aWRlb0VmZmVjdC5vbkVycm9yPWZ1bmN0aW9uKGUsdCl7cy5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcImJlYXV0eUVmZmVjdEVycm9yXCIscy5sb2NhbFN0cmVhbSxlLmVycm9yQ29kZSxlLmV4dGVuZGVkRGF0YSx0KX0sdGhpcy52aWRlb0VmZmVjdC5vbk91dHB1dENoYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gbyhzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihpKXtyZXR1cm4gdGhpcy52aWRlb1RyYWNrJiZ0aGlzLmxvY2FsU3RyZWFtJiYodD10aGlzLnZpZGVvVHJhY2ssZSYmKHQ9ZSksdGhpcy5sb2NhbFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdIT09dCYmKChyPXRoaXMuc3RyZWFtQ2VudGVyLmdldFB1Ymxpc2hMaXN0KHRoaXMubG9jYWxTdHJlYW0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnB1Ymxpc2hlcn0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiZlLnByZXZpZXdlciYmZS5yZXBsYWNlUHVibGlzaGVkVHJhY2sodCwhMCl9KSksMD09PXIubGVuZ3RoJiZ0aGlzLnJlcGxhY2VQcmV2aWV3VHJhY2sodCwhIWUpKSksWzJdfSkpfSkpfSxbNCx0aGlzLnZpZGVvRWZmZWN0LnNldEJlYXV0eUVmZmVjdE9wdGlvbnMoZSx0KV07Y2FzZSA1OnUuc2VudCgpLHRoaXMudmlkZW9FZmZlY3Quc3RhdGVGbGFnPXIsdS5sYWJlbD02O2Nhc2UgNjpyZXR1cm5bMyw4XTtjYXNlIDc6dGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5wLjAuc2JlLjAgYmVhdXR5IGVmZmVjdCBtb2R1bGUgbm8gZm91bmRcIiksdS5sYWJlbD04O2Nhc2UgODpyZXR1cm5bMl19fSkpfSkpfX19LDc4OTU6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fSxuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVD12b2lkIDA7dmFyIHM9bihyKDk3MjApKSxhPW4ocig3MzQxKSksYz1uKHIoMTY0MCkpLHU9bihyKDg4NDEpKTt0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1Q9XCJ6Yy5wLjAuc2JlLjJcIjt2YXIgZD1yKDM3ODgpLmVycm9yQ29kZUxpc3QuVklERU9fRUZGRUNUX05PVF9TVVBQT1JULGw9e2Vycm9yQ29kZTpkLmNvZGUsZXh0ZW5kZWREYXRhOmQubWVzc2FnZX0saD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5sb2dnZXI9ZSx0aGlzLmdsPW51bGwsdGhpcy5lZmZlY3RDb25maWc9e3NoYXJwZW5JbnRlbnNpdHk6LjUsd2hpdGVuSW50ZW5zaXR5Oi41LHJvc3lJbnRlbnNpdHk6LjUsc21vb3RoSW50ZW5zaXR5Oi41LGxvd2xpZ2h0RW5oYW5jZW1lbnQ6MH0sdGhpcy5vcmlnaW5SZXNvbHV0aW9uPXt3aWR0aDowLGhlaWdodDowfSx0aGlzLnNoYWRlckxpc3Q9W10sdGhpcy5mcmFtZUJ1ZmZlckxpc3Q9W10sdGhpcy5vdXRwdXRUZXh0dXJlTGlzdD1bXSx0aGlzLmlucHV0VGV4dHVyZT1udWxsLHRoaXMuZmFpbGVkVGltZXM9MCx0aGlzLm9uUmVuZGVyRXJyb3I9ZnVuY3Rpb24oZSl7fSx0aGlzLmVuYWJsZUJlYXV0eT0hMX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0RW5hYmxlQmVhdXR5PWZ1bmN0aW9uKGUpe3RoaXMuZW5hYmxlQmVhdXR5PSEhZX0sZS5wcm90b3R5cGUuaGFuZGxlSW5pdEVycm9yPWZ1bmN0aW9uKCl7dGhpcy5mYWlsZWRUaW1lcysrLHRoaXMuZmFpbGVkVGltZXM+MzAmJih0aGlzLmZhaWxlZFRpbWVzPTAsdGhpcy5sb2dnZXIuZXJyb3IodC5QVUJMSVNIX1NFVF9CRUFVVFlfRUZGRUNUK1wiIGdldCB3ZWJnbCBjb250ZXh0IGZhaWxlZFwiKSx0aGlzLm9uUmVuZGVyRXJyb3IobCkpfSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUscixuKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksZCxoLHA7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdm9pZCAwIT09d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dD8odGhpcy5jYW52YXNFbD1uLHRoaXMuZ2w9bi5nZXRDb250ZXh0KFwid2ViZ2xcIiksdGhpcy5nbD8odGhpcy5pbml0R0woZSxyKSx0aGlzLmlucHV0VGV4dHVyZT9bNCwoaT1uZXcgYy5kZWZhdWx0KHRoaXMuZ2wsZSxyKSkuc2V0Q29uc3RVbmlmb3JtcygpXToodGhpcy5sb2dnZXIuZXJyb3IodC5QVUJMSVNIX1NFVF9CRUFVVFlfRUZGRUNUK1wiIGlucHV0IHRleHR1cmUgbm90IGZvdW5kXCIpLHRoaXMuaGFuZGxlSW5pdEVycm9yKCksWzJdKSk6KHRoaXMuaGFuZGxlSW5pdEVycm9yKCksWzJdKSk6KHRoaXMubG9nZ2VyLmVycm9yKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiBub3Qgc3VwcG9ydCB3ZWJnbCFcIiksdGhpcy5vblJlbmRlckVycm9yKGwpLFsyXSk7Y2FzZSAxOnJldHVybiBvLnNlbnQoKSwoZD1uZXcgcy5kZWZhdWx0KHRoaXMuZ2wsZSxyKSkuc2V0Q29uc3RVbmlmb3JtcygpLChoPW5ldyBhLmRlZmF1bHQodGhpcy5nbCxlLHIpKS5zZXRDb25zdFVuaWZvcm1zKCksKHA9bmV3IHUuZGVmYXVsdCh0aGlzLmdsLGUscikpLnNldENvbnN0VW5pZm9ybXMoKSx0aGlzLnNoYWRlckxpc3Q9W2ksZCxoLHBdLHRoaXMuc2V0RWZmZWN0Q29uZmlnKHRoaXMuZWZmZWN0Q29uZmlnKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGksbixzLGE9dGhpcztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybihyPXRoaXMuZ2wpJiZ0aGlzLmNhbnZhc0VsJiYhci5pc0NvbnRleHRMb3N0KCk/WzMsNF06dGhpcy5jYW52YXNFbD8odGhpcy5sb2dnZXIud2Fybih0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgZ2wgbG9zdCwgcmVzdGFydCBlZmZlY3RcIiksdGhpcy5yZWxlYXNlKCksWzQsdGhpcy5pbml0KGUudmlkZW9XaWR0aCxlLnZpZGVvSGVpZ2h0LHRoaXMuY2FudmFzRWwpXSk6WzMsMl07Y2FzZSAxOnJldHVybiBvLnNlbnQoKSxbMywzXTtjYXNlIDI6dGhpcy5sb2dnZXIuZXJyb3IodC5QVUJMSVNIX1NFVF9CRUFVVFlfRUZGRUNUK1wiIGNhbnZhcyBsb3N0XCIpLHRoaXMub25SZW5kZXJFcnJvcihsKSxvLmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXTtjYXNlIDQ6cmV0dXJuKHRoaXMub3JpZ2luUmVzb2x1dGlvbi5oZWlnaHQhPT1lLnZpZGVvSGVpZ2h0fHx0aGlzLm9yaWdpblJlc29sdXRpb24ud2lkdGghPT1lLnZpZGVvV2lkdGgpJiYoTWF0aC5hYnModGhpcy5vcmlnaW5SZXNvbHV0aW9uLmhlaWdodC1lLnZpZGVvSGVpZ2h0KT4yfHxNYXRoLmFicyh0aGlzLm9yaWdpblJlc29sdXRpb24ud2lkdGgtZS52aWRlb1dpZHRoKT4yKT8wPT09ZS52aWRlb0hlaWdodHx8MD09PWUudmlkZW9XaWR0aD9bMl06KHRoaXMuY2FudmFzRWwud2lkdGg9ZS52aWRlb1dpZHRoLHRoaXMuY2FudmFzRWwuaGVpZ2h0PWUudmlkZW9IZWlnaHQsZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGUudmlkZW9XaWR0aC50b1N0cmluZygpKSxlLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGUudmlkZW9IZWlnaHQudG9TdHJpbmcoKSksIXRoaXMuZ2x8fHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpP1szLDVdOih0aGlzLmxvZ2dlci5pbmZvKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiByZXNvbHV0aW9uIGNoYW5nZWQgdG8gXCIuY29uY2F0KGUudmlkZW9XaWR0aCxcInhcIikuY29uY2F0KGUudmlkZW9IZWlnaHQsXCIsIHJlc2V0IHJlc29sdXRpb24uXCIpKSx0aGlzLnJlc2V0UmVzb2x1dGlvbihlLnZpZGVvV2lkdGgsZS52aWRlb0hlaWdodCksdGhpcy5zaGFkZXJMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucmVzZXRSZXNvbHV0aW9uKGUudmlkZW9XaWR0aCxlLnZpZGVvSGVpZ2h0KX0pKSxbMyw3XSkpOlszLDddO2Nhc2UgNTpyZXR1cm4gdGhpcy5sb2dnZXIud2Fybih0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgcmVzb2x1dGlvbiBjaGFuZ2VkIGFuZCBnbCBjb250ZXh0IGxvc3QsIHJlc3RhcnQgZWZmZWN0XCIpLHRoaXMucmVsZWFzZSgpLFs0LHRoaXMuaW5pdChlLnZpZGVvV2lkdGgsZS52aWRlb0hlaWdodCx0aGlzLmNhbnZhc0VsKV07Y2FzZSA2Om8uc2VudCgpLG8ubGFiZWw9NztjYXNlIDc6cmV0dXJuIGk9Wy0xLC0xLDAsMSwtMSwwLDEsMSwwLC0xLDEsMF0sbj1bMCwxLDIsMCwyLDNdLHM9WzAsMCwxLDAsMSwxLDAsMV0sci52aWV3cG9ydCgwLDAsZS53aWR0aCxlLmhlaWdodCksci5hY3RpdmVUZXh0dXJlKHIuVEVYVFVSRTApLHIuYmluZFRleHR1cmUoci5URVhUVVJFXzJELHRoaXMuaW5wdXRUZXh0dXJlKSxyLnRleEltYWdlMkQoci5URVhUVVJFXzJELDAsci5SR0JBLHIuUkdCQSxyLlVOU0lHTkVEX0JZVEUsZSksdGhpcy5zaGFkZXJMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7dmFyIG89ZS5wcm9ncmFtO2lmKG8pe2UucmVuZGVyUHJlVGV4dHVyZXMmJmUucmVuZGVyUHJlVGV4dHVyZXMoaSxuLHMpLHIudXNlUHJvZ3JhbShvKSxlLnJlbmRlcigpO3ZhciBjPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKG8sXCJ1VGV4dHVyZVwiKSx1PXIuY3JlYXRlQnVmZmVyKCk7ci5iaW5kQnVmZmVyKHIuQVJSQVlfQlVGRkVSLHUpLHIuYnVmZmVyRGF0YShyLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGkpLHIuU1RBVElDX0RSQVcpO3ZhciBkPXIuY3JlYXRlQnVmZmVyKCk7ci5iaW5kQnVmZmVyKHIuRUxFTUVOVF9BUlJBWV9CVUZGRVIsZCksci5idWZmZXJEYXRhKHIuRUxFTUVOVF9BUlJBWV9CVUZGRVIsbmV3IFVpbnQxNkFycmF5KG4pLHIuU1RBVElDX0RSQVcpO3ZhciBsPXIuZ2V0QXR0cmliTG9jYXRpb24obyxcImFQb3NpdGlvblwiKTtyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGwpLHIudmVydGV4QXR0cmliUG9pbnRlcihsLDMsci5GTE9BVCwhMSwwLDApO3ZhciBoPXIuY3JlYXRlQnVmZmVyKCk7ci5iaW5kQnVmZmVyKHIuQVJSQVlfQlVGRkVSLGgpLHIuYnVmZmVyRGF0YShyLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KHMpLHIuU1RBVElDX0RSQVcpO3ZhciBwPXIuZ2V0QXR0cmliTG9jYXRpb24obyxcImFUZXhDb29yZGluYXRlXCIpO3IuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocCksci52ZXJ0ZXhBdHRyaWJQb2ludGVyKHAsMixyLkZMT0FULCExLDAsMCk7dmFyIGc9dD09PWEuc2hhZGVyTGlzdC5sZW5ndGgtMT9udWxsOmEub3V0cHV0VGV4dHVyZUxpc3RbdF07ci5iaW5kRnJhbWVidWZmZXIoci5GUkFNRUJVRkZFUix0PT09YS5zaGFkZXJMaXN0Lmxlbmd0aC0xP251bGw6YS5mcmFtZUJ1ZmZlckxpc3RbdF0pLHIuY2xlYXJDb2xvcigwLDAsMCwxKSxyLmNsZWFyKHIuQ09MT1JfQlVGRkVSX0JJVCksci5kcmF3RWxlbWVudHMoci5UUklBTkdMRVMsNixyLlVOU0lHTkVEX1NIT1JULDApLHIuYWN0aXZlVGV4dHVyZShyLlRFWFRVUkUwKSxnJiZyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxnKSxyLnVuaWZvcm0xaShjLDApfX0pKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5zZXRFZmZlY3RDb25maWc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpc05hTihlLnNoYXJwZW5JbnRlbnNpdHkpfHwodGhpcy5lZmZlY3RDb25maWcuc2hhcnBlbkludGVuc2l0eT1lLnNoYXJwZW5JbnRlbnNpdHkpLGlzTmFOKGUud2hpdGVuSW50ZW5zaXR5KXx8KHRoaXMuZWZmZWN0Q29uZmlnLndoaXRlbkludGVuc2l0eT1lLndoaXRlbkludGVuc2l0eSksaXNOYU4oZS5yb3N5SW50ZW5zaXR5KXx8KHRoaXMuZWZmZWN0Q29uZmlnLnJvc3lJbnRlbnNpdHk9ZS5yb3N5SW50ZW5zaXR5KSxpc05hTihlLnNtb290aEludGVuc2l0eSl8fCh0aGlzLmVmZmVjdENvbmZpZy5zbW9vdGhJbnRlbnNpdHk9ZS5zbW9vdGhJbnRlbnNpdHkpLGlzTmFOKGUubG93bGlnaHRFbmhhbmNlbWVudCl8fCh0aGlzLmVmZmVjdENvbmZpZy5sb3dsaWdodEVuaGFuY2VtZW50PWUubG93bGlnaHRFbmhhbmNlbWVudCksdGhpcy5zaGFkZXJMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc2V0RWZmZWN0Q29uZmlnKHQuZWZmZWN0Q29uZmlnKX0pKX0sZS5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpczt0aGlzLnNoYWRlckxpc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI7ZS5wcm9ncmFtJiYobnVsbD09PShyPXQuZ2wpfHx2b2lkIDA9PT1yfHxyLmRlbGV0ZVByb2dyYW0oZS5wcm9ncmFtKSl9KSksdGhpcy5vdXRwdXRUZXh0dXJlTGlzdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcjtlJiYobnVsbD09PShyPXQuZ2wpfHx2b2lkIDA9PT1yfHxyLmRlbGV0ZVRleHR1cmUoZSkpfSkpLHRoaXMuZnJhbWVCdWZmZXJMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByO2UmJihudWxsPT09KHI9dC5nbCl8fHZvaWQgMD09PXJ8fHIuZGVsZXRlRnJhbWVidWZmZXIoZSkpfSkpLHRoaXMuaW5wdXRUZXh0dXJlJiYobnVsbD09PShlPXRoaXMuZ2wpfHx2b2lkIDA9PT1lfHxlLmRlbGV0ZVRleHR1cmUodGhpcy5pbnB1dFRleHR1cmUpKSx0aGlzLmlucHV0VGV4dHVyZT10aGlzLmdsPW51bGwsdGhpcy5zaGFkZXJMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVsZWFzZSgpfSkpLHRoaXMuc2hhZGVyTGlzdD1bXSx0aGlzLm91dHB1dFRleHR1cmVMaXN0PVtdLHRoaXMuZnJhbWVCdWZmZXJMaXN0PVtdfSxlLnByb3RvdHlwZS5pbml0R0w9ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzLmdsO2lmKCFpKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcih0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgd2ViZ2wgY29udGV4dCBub3QgZm91bmRcIik7dGhpcy5pbnB1dFRleHR1cmU9aS5jcmVhdGVUZXh0dXJlKCksaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsdGhpcy5pbnB1dFRleHR1cmUpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX1dSQVBfUyxpLkNMQU1QX1RPX0VER0UpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX1dSQVBfVCxpLkNMQU1QX1RPX0VER0UpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX01JTl9GSUxURVIsaS5MSU5FQVIpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX01BR19GSUxURVIsaS5MSU5FQVIpO2Zvcih2YXIgbz0wOzQ+bztvKyspe3ZhciBuPWkuY3JlYXRlVGV4dHVyZSgpO2lmKCFuKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiBjcmVhdGUgdGV4dHVyZSBmYWlsZWRcIik7aS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsbiksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfV1JBUF9TLGkuQ0xBTVBfVE9fRURHRSksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfV1JBUF9ULGkuQ0xBTVBfVE9fRURHRSksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfTUlOX0ZJTFRFUixpLkxJTkVBUiksaS50ZXhJbWFnZTJEKGkuVEVYVFVSRV8yRCwwLGkuUkdCQSxlLHIsMCxpLlJHQkEsaS5VTlNJR05FRF9CWVRFLG51bGwpO3ZhciBzPWkuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighcylyZXR1cm4gdGhpcy5sb2dnZXIud2Fybih0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgY3JlYXRlIGZyYW1lIGJ1ZmZlciBmYWlsZWRcIik7aS5iaW5kRnJhbWVidWZmZXIoaS5GUkFNRUJVRkZFUixzKSxpLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGkuRlJBTUVCVUZGRVIsaS5DT0xPUl9BVFRBQ0hNRU5UMCxpLlRFWFRVUkVfMkQsbiwwKSx0aGlzLm91dHB1dFRleHR1cmVMaXN0LnB1c2gobiksdGhpcy5mcmFtZUJ1ZmZlckxpc3QucHVzaChzKX1pLnZpZXdwb3J0KDAsMCxlLHIpLHRoaXMub3JpZ2luUmVzb2x1dGlvbi53aWR0aD1lLHRoaXMub3JpZ2luUmVzb2x1dGlvbi5oZWlnaHQ9cn0sZS5wcm90b3R5cGUucmVzZXRSZXNvbHV0aW9uPWZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcy5nbDtpZighaSlyZXR1cm4gdGhpcy5sb2dnZXIud2Fybih0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgY2FuIG5vdCBmaW5kIHdlYmdsIGNvbnRleHRcIik7Zm9yKHZhciBvPTA7bzx0aGlzLm91dHB1dFRleHR1cmVMaXN0Lmxlbmd0aDtvKyspe2kuYmluZFRleHR1cmUoaS5URVhUVVJFXzJELHRoaXMub3V0cHV0VGV4dHVyZUxpc3Rbb10pLGkudGV4SW1hZ2UyRChpLlRFWFRVUkVfMkQsMCxpLlJHQkEsZSxyLDAsaS5SR0JBLGkuVU5TSUdORURfQllURSxudWxsKX1pLnZpZXdwb3J0KDAsMCxlLHIpLHRoaXMub3JpZ2luUmVzb2x1dGlvbi53aWR0aD1lLHRoaXMub3JpZ2luUmVzb2x1dGlvbi5oZWlnaHQ9cn0sZX0oKTt0LmRlZmF1bHQ9aH0sMzc4ODpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZXJyb3JDb2RlTGlzdD12b2lkIDAsdC5lcnJvckNvZGVMaXN0PXtWSURFT19FRkZFQ1RfTk9UX1NVUFBPUlQ6e2NvZGU6MTEwMzA3MixtZXNzYWdlOlwibm90IHN1cHBvcnQgYmVhdXR5IGVmZmVjdFwifSxWSURFT19UUkFDS19OT1RfUkVBREFCTEU6e2NvZGU6MTEwMzA3NCxtZXNzYWdlOlwidmlkZW8gdHJhY2sgaXMgbm90IHJlYWRhYmxlXCJ9LFZJREVPX1RSQUNLX09WRVJMT0FEOntjb2RlOjExMDMwNzUsbWVzc2FnZTpcImJlYXV0eSBlZmZlY3Qgb3ZlcmxvYWRcIn0sUFVCTElTSF9OT19QUkVWSUVXOntjb2RlOjExMDMwNDQsbWVzc2FnZTpcInN0cmVhbSBpcyBub3QgZnJvbSB6ZWdvXCJ9fX0sOTk3ODpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CZWF1dHlFZmZlY3Q9dm9pZCAwO3ZhciBpPXIoMzczNCk7dC5CZWF1dHlFZmZlY3Q9e3R5cGU6XCJCZWF1dHlFZmZlY3RcIixpbnN0YWxsOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIGkucHJldmlldylPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUscix7dmFsdWU6aS5wcmV2aWV3W3JdLHdyaXRhYmxlOiExfSk7Zm9yKHZhciByIGluIGkuemVnb1dlYlJUQylPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUscix7dmFsdWU6aS56ZWdvV2ViUlRDW3JdLHdyaXRhYmxlOiExfSl9fX0sMTAyOmZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihvLG4pe2Z1bmN0aW9uIHMoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxpPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLG4scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbjtmdW5jdGlvbiBhKG4pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsaSYmKG89MiZuWzBdP2kucmV0dXJuOm5bMF0/aS50aHJvd3x8KChvPWkucmV0dXJuKSYmby5jYWxsKGkpLDApOmkubmV4dCkmJiEobz1vLmNhbGwoaSxuWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2goaT0wLG8mJihuPVsyJm5bMF0sby52YWx1ZV0pLG5bMF0pe2Nhc2UgMDpjYXNlIDE6bz1uO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpuWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssaT1uWzFdLG49WzBdO2NvbnRpbnVlO2Nhc2UgNzpuPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1uWzBdJiYyIT09blswXSkpe3M9MDtjb250aW51ZX1pZigzPT09blswXSYmKCFvfHxuWzFdPm9bMF0mJm5bMV08b1szXSkpe3MubGFiZWw9blsxXTticmVha31pZig2PT09blswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1uO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2gobik7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW49dC5jYWxsKGUscyl9Y2F0Y2goZSl7bj1bNixlXSxpPTB9ZmluYWxseXtyPW89MH1pZig1Jm5bMF0pdGhyb3cgblsxXTtyZXR1cm57dmFsdWU6blswXT9uWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sYV0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmxvZ2dlcj1lLHRoaXMucmVjb3JkZWRGcmFtZUNvdW50PTAsdGhpcy50YXJnZXRGcmFtZVJhdGU9MCx0aGlzLnJlY29yZGluZ0R1cmF0aW9uPTB9cmV0dXJuIGUucHJvdG90eXBlLnN0YXJ0UmVjb3JkQmVhdXR5RWZmZWN0T3V0cHV0PWZ1bmN0aW9uKGUpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLG8sbj10aGlzO3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9Nix0aGlzLnJlY29yZElEPyh0aGlzLmxvZ2dlci53YXJuKFwiemMucC4wLnNiZS4zIGRldGVjdG9yIGlzIGFscmVhZHkgcmVjb3JkaW5nXCIpLFsyLHtyZXN1bHQ6ITB9XSk6KHI9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5yZWNvcmRJRD1yLHRoaXMudGFyZ2V0RnJhbWVSYXRlPWUsdGhpcy5yZWNvcmRlZEZyYW1lQ291bnQ9MCx0aGlzLnJlY29yZGluZ0R1cmF0aW9uPXQsWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3dpbmRvdy5zZXRUaW1lb3V0KGUsMWUzKm4ucmVjb3JkaW5nRHVyYXRpb24pfSkpXSk7Y2FzZSAxOnJldHVybiBpLnNlbnQoKSx0aGlzLnJlY29yZElEIT09cj8odGhpcy5yZWNvcmRJRD12b2lkIDAsWzIse3Jlc3VsdDohMH1dKToodGhpcy5yZWNvcmRJRD12b2lkIDAsbz10aGlzLnJlY29yZGVkRnJhbWVDb3VudC90LHRoaXMucmVjb3JkZWRGcmFtZUNvdW50PHRoaXMudGFyZ2V0RnJhbWVSYXRlKnRoaXMucmVjb3JkaW5nRHVyYXRpb24vMj8odGhpcy5sb2dnZXIud2FybihcInpjLnAuMC5zYmUuMyBkZXRlY3QgZWZmZWN0IG92ZXJsb2FkOiBjdXJyZW50IGZwczogXCIrbyksWzIse3Jlc3VsdDohMSx0YXJnZXRGUFM6dGhpcy50YXJnZXRGcmFtZVJhdGUsY3VycmVudEZQUzpvfV0pOih0aGlzLmxvZ2dlci5pbmZvKFwiemMucC4wLnNiZS4zIGRldGVjdCBlZmZlY3QgY3VycmVudCBmcHM6IFwiK28pLFsyLHtyZXN1bHQ6ITB9XSkpfX0pKX0pKX0sZS5wcm90b3R5cGUuc3RvcFJlY29yZEJlYXV0eUVmZmVjdE91dHB1dD1mdW5jdGlvbigpe3RoaXMucmVjb3JkZWRGcmFtZUNvdW50PXRoaXMudGFyZ2V0RnJhbWVSYXRlPTAsdGhpcy5yZWNvcmRJRD12b2lkIDB9LGUucHJvdG90eXBlLmFkZEZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5yZWNvcmRJRCYmKHRoaXMucmVjb3JkZWRGcmFtZUNvdW50Kz0xKX0sZX0oKTt0LmRlZmF1bHQ9b30sMjU3MzpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7Zm9yKHZhciB0PWUscj1cIlwiLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG89dC5jaGFyQ29kZUF0KGkpLG49bztvPj02NSYmbzw9OTAmJihuPShvLTY1LTEzKzI2KSUyNis2NSksbz49OTcmJm88PTEyMiYmKG49KG8tOTctMTMrMjYpJTI2Kzk3KSxyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pfXJldHVybiByfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5nbD1lLHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1yLHRoaXMudHlwZT1cImJhc2VTaGFkZXJcIix0aGlzLnByb2dyYW09bnVsbCx0aGlzLnByb2dyYW09bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuc2V0RWZmZWN0Q29uZmlnPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUuc2V0Q29uc3RVbmlmb3Jtcz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUucmVzZXRSZXNvbHV0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy53aWR0aD1lfHx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0PXR8fHRoaXMuaGVpZ2h0fSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnJlbmRlclByZVRleHR1cmVzPWZ1bmN0aW9uKGUsdCxyKXt9LGUucHJvdG90eXBlLm1ha2VQcm9ncmFtPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5nbCxvPXIoZSksbj1yKHQpLHM9dGhpcy5tYWtlU2hhZGVyKG8saS5WRVJURVhfU0hBREVSKSxhPXRoaXMubWFrZVNoYWRlcihuLGkuRlJBR01FTlRfU0hBREVSKSxjPWkuY3JlYXRlUHJvZ3JhbSgpO3JldHVybiBpLmF0dGFjaFNoYWRlcihjLHMpLGkuYXR0YWNoU2hhZGVyKGMsYSksaS5saW5rUHJvZ3JhbShjKSxpLmdldFByb2dyYW1QYXJhbWV0ZXIoYyxpLkxJTktfU1RBVFVTKSxjfSxlLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5tYWtlU2hhZGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nbCxpPXIuY3JlYXRlU2hhZGVyKHQpO3JldHVybiByLnNoYWRlclNvdXJjZShpLGUpLHIuY29tcGlsZVNoYWRlcihpKSxyLmdldFNoYWRlclBhcmFtZXRlcihpLHIuQ09NUElMRV9TVEFUVVMpLGl9LGV9KCk7dC5kZWZhdWx0PWl9LDk3MjA6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpLG89dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbj10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKHIoMjU3MykpLGE9cig3MjM2KSxjPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGkpe3ZhciBvPWUuY2FsbCh0aGlzLHQscixpKXx8dGhpcztyZXR1cm4gby53aWR0aD1yLG8uaGVpZ2h0PWksby50eXBlPVwiQmx1clNoYWRlclwiLG8uYmx1clhQcm9ncmFtPW51bGwsby5ibHVyWVByb2dyYW09bnVsbCxvLmRpZmZQcm9ncmFtPW51bGwsby51SW50ZW5zaXR5PW51bGwsby5zbW9vdGhJbnRlbnNpdHk9LjUsby5ibHVyVGV4dHVyZUxpc3Q9W10sby5ibHVyQnVmZmVyTGlzdD1bXSxvLmJsdXJYUHJvZ3JhbT1vLm1ha2VQcm9ncmFtKGEuYm9yZGVyQmx1clZTLGEuYm9yZGVyQmx1ckZTKSxvLnNldEJvcmRlckJsdXJQcm9ncmFtKG8uYmx1clhQcm9ncmFtLDEvKHJ8fDEpLDApLG8uYmx1cllQcm9ncmFtPW8ubWFrZVByb2dyYW0oYS5ib3JkZXJCbHVyVlMsYS5ib3JkZXJCbHVyRlMpLG8uc2V0Qm9yZGVyQmx1clByb2dyYW0oby5ibHVyWVByb2dyYW0sMCwxLyhpfHwxKSksby5kaWZmUHJvZ3JhbT1vLm1ha2VQcm9ncmFtKGEuZGlmZkJsdXJWUyxhLmRpZmZCbHVyRlMpLG8uc2V0RGlmZkJsdXJQcm9ncmFtKG8uZGlmZlByb2dyYW0pLG8ucHJvZ3JhbT1vLm1ha2VQcm9ncmFtKGEubWl4Qmx1clZTLGEubWl4Qmx1ckZTKSxvLmluaXRCbHVyQnVmZmVyKCksb31yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLnNldEVmZmVjdENvbmZpZz1mdW5jdGlvbihlKXtpc05hTihlLnNtb290aEludGVuc2l0eSl8fCh0aGlzLnNtb290aEludGVuc2l0eT1lLnNtb290aEludGVuc2l0eS8xMDApfSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt0aGlzLmdsLnVuaWZvcm0xZih0aGlzLnVJbnRlbnNpdHksdGhpcy5zbW9vdGhJbnRlbnNpdHkpfSx0LnByb3RvdHlwZS5pbml0Qmx1ckJ1ZmZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdsO3RoaXMuYmx1clRleHR1cmVMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByO3QmJihudWxsPT09KHI9ZS5nbCl8fHZvaWQgMD09PXJ8fHIuZGVsZXRlVGV4dHVyZSh0KSl9KSksdGhpcy5ibHVyQnVmZmVyTGlzdC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcjt0JiYobnVsbD09PShyPWUuZ2wpfHx2b2lkIDA9PT1yfHxyLmRlbGV0ZUZyYW1lYnVmZmVyKHQpKX0pKSx0aGlzLmJsdXJUZXh0dXJlTGlzdD1bXSx0aGlzLmJsdXJCdWZmZXJMaXN0PVtdO2Zvcih2YXIgcj0wO3I8MztyKyspe3ZhciBpPXQuY3JlYXRlVGV4dHVyZSgpO2lmKCFpKXJldHVybjt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxpKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTElORUFSKSx0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0ZMSVBfWV9XRUJHTCwhMCksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDAsdC5SR0JBLHQuVU5TSUdORURfQllURSxudWxsKTt2YXIgbz10LmNyZWF0ZUZyYW1lYnVmZmVyKCk7aWYoIW8pcmV0dXJuO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbyksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELGksMCksdGhpcy5ibHVyVGV4dHVyZUxpc3QucHVzaChpKSx0aGlzLmJsdXJCdWZmZXJMaXN0LnB1c2gobyl9fSx0LnByb3RvdHlwZS5yZW5kZXJQcmVUZXh0dXJlcz1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyxvPXRoaXMuZ2wsbj1bMCwxLDBdLHM9WzEsMSwyXTtbdGhpcy5ibHVyWFByb2dyYW0sdGhpcy5ibHVyWVByb2dyYW0sdGhpcy5kaWZmUHJvZ3JhbV0uZm9yRWFjaCgoZnVuY3Rpb24oYSxjKXtpZihhKXtvLnVzZVByb2dyYW0oYSk7dmFyIHU9by5nZXRVbmlmb3JtTG9jYXRpb24oYSxcInVUZXh0dXJlXCIpO28udW5pZm9ybTFpKHUsbltjXSk7dmFyIGQ9by5jcmVhdGVCdWZmZXIoKTtvLmJpbmRCdWZmZXIoby5BUlJBWV9CVUZGRVIsZCksby5idWZmZXJEYXRhKG8uQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoZSksby5TVEFUSUNfRFJBVyk7dmFyIGw9by5jcmVhdGVCdWZmZXIoKTtvLmJpbmRCdWZmZXIoby5FTEVNRU5UX0FSUkFZX0JVRkZFUixsKSxvLmJ1ZmZlckRhdGEoby5FTEVNRU5UX0FSUkFZX0JVRkZFUixuZXcgVWludDE2QXJyYXkodCksby5TVEFUSUNfRFJBVyk7dmFyIGg9by5nZXRBdHRyaWJMb2NhdGlvbihhLFwiYVBvc2l0aW9uXCIpO28uZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaCksby52ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsMyxvLkZMT0FULCExLDAsMCk7dmFyIHA9by5jcmVhdGVCdWZmZXIoKTtvLmJpbmRCdWZmZXIoby5BUlJBWV9CVUZGRVIscCksby5idWZmZXJEYXRhKG8uQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkociksby5TVEFUSUNfRFJBVyk7dmFyIGc9by5nZXRBdHRyaWJMb2NhdGlvbihhLFwiYVRleENvb3JkaW5hdGVcIik7by5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnKSxvLnZlcnRleEF0dHJpYlBvaW50ZXIoZywyLG8uRkxPQVQsITEsMCwwKSxvLmJpbmRGcmFtZWJ1ZmZlcihvLkZSQU1FQlVGRkVSLGkuYmx1ckJ1ZmZlckxpc3RbY10pLG8uY2xlYXJDb2xvcigwLDAsMCwxKSxvLmNsZWFyKG8uQ09MT1JfQlVGRkVSX0JJVCksby5kcmF3RWxlbWVudHMoby5UUklBTkdMRVMsNixvLlVOU0lHTkVEX1NIT1JULDApLG8uYWN0aXZlVGV4dHVyZShvLlRFWFRVUkUwK3NbY10pLG8uYmluZFRleHR1cmUoby5URVhUVVJFXzJELGkuYmx1clRleHR1cmVMaXN0W2NdKX19KSl9LHQucHJvdG90eXBlLnNldENvbnN0VW5pZm9ybXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndpZHRoLHQ9dGhpcy5oZWlnaHQscj10aGlzLnByb2dyYW07aWYocil7dmFyIGk9dGhpcy5nbDtpLnVzZVByb2dyYW0ocik7dmFyIG89aS5nZXRVbmlmb3JtTG9jYXRpb24ocixcIndpZHRoT2Zmc2V0XCIpO2kudW5pZm9ybTFmKG8sMS9lKTt2YXIgbj1pLmdldFVuaWZvcm1Mb2NhdGlvbihyLFwiaGVpZ2h0T2Zmc2V0XCIpO2kudW5pZm9ybTFmKG4sMS90KSx0aGlzLnVJbnRlbnNpdHk9aS5nZXRVbmlmb3JtTG9jYXRpb24ocixcImJsdXJBbHBoYVwiKSxpLnVuaWZvcm0xZih0aGlzLnVJbnRlbnNpdHksdGhpcy5zbW9vdGhJbnRlbnNpdHkpO3ZhciBzPWkuZ2V0VW5pZm9ybUxvY2F0aW9uKHIsXCJibHVyVGV4dHVyZVwiKTtpLnVuaWZvcm0xaShzLDEpO3ZhciBhPWkuZ2V0VW5pZm9ybUxvY2F0aW9uKHIsXCJibHVyRGlmZlRleHR1cmVcIik7aS51bmlmb3JtMWkoYSwyKX19LHQucHJvdG90eXBlLnJlc2V0UmVzb2x1dGlvbj1mdW5jdGlvbihlLHQpe3RoaXMud2lkdGg9ZXx8dGhpcy53aWR0aCx0aGlzLmhlaWdodD10fHx0aGlzLmhlaWdodH0sdC5wcm90b3R5cGUuc2V0Qm9yZGVyQmx1clByb2dyYW09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuZ2w7aS51c2VQcm9ncmFtKGUpO3ZhciBvPWkuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsXCJ0ZXhCbHVyV2lkdGhPZmZzZXRcIik7aS51bmlmb3JtMWYobyx0KTt2YXIgbj1pLmdldFVuaWZvcm1Mb2NhdGlvbihlLFwidGV4Qmx1ckhlaWdodE9mZnNldFwiKTtpLnVuaWZvcm0xZihuLHIpfSx0LnByb3RvdHlwZS5zZXREaWZmQmx1clByb2dyYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nbDt0LnVzZVByb2dyYW0oZSk7dmFyIHI9dC5nZXRVbmlmb3JtTG9jYXRpb24oZSxcImJsdXJUZXh0dXJlXCIpO3QudW5pZm9ybTFpKHIsMSl9LHR9KHMuZGVmYXVsdCk7dC5kZWZhdWx0PWN9LDg2ODg6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmxpZ2h0THV0PXZvaWQgMCx0LmxpZ2h0THV0PVwiXFxuZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRQUFBQUVBQ0FBQUFBQjVHZmU2QUFBTTNtbERRMUJKUTBNZ1VISnZabWxzWlFBQVdJV2xWd2RZVThrV25sdVMwQko2bFJJNjBnd29YVXFrQnBCZUJGR0pJWkJBQ0RFRkFiRWhpeXU0ZGhIQnNxS2lLSXNkZ2NXR0JRdHJCN3NMdWlnbzYrSXFOaXh2RW9wWWR0Lzd2bmZ6emIzL25YUE9uRHBuYmdCUTVUQUZBaDRLQU1qa2k0V0JVZlNFS1FtSlZOSmRJQWUwZ1RLd0I4cE1sa2hBajRnSWhTeUFuOFZuZzIrdVYrMEFrVDZ2MlVuWCtwYityeGNoaFMxaXdlZHhPSEpUUkt4TUFKQ0pBSkM2V1FLaEdBQjVNemh2T2xzc2tPSWdpRFV5WXFKOElVNENRRTVwU0ZaNkdRV3krV3dobDBVTkZESnpxWUhNekV3bTFkSGVrUm9oekVybDhyNWo5Zjk3WmZJa0k3cmhVQkpsUklmQXB6MjB2ekNGNlNmRnJoRHZaekg5bzRmd2syeHVYQmpFUGdDZ0pnTHhwQ2lJZ3lHZUtjbUlwVU5zQzNGTnFqQWdGbUl2aUc5eUpFRlNQQUVBVEN1UEV4TVBzU0hFd2Z5WlllRVF1MFBNWVlsOEV5RzJncmlTdzJaSTh3UmpocDNuaWhreEVFTjkyRE5oVnBTVTN4b0FmR0lLMjg5L2NCNVB6Y2dLa2RwZ0F2RkJVWGEwLzdETmVSemZzRUZkZUhzNk16Z0NZZ3VJWDdKNWdWR0Q2eEQwQk9JSTZacnduZURINTRXRkR2cEZLR1dMWlA3Q2QwSzdtQk1qelprakFFUVRzVEFtYXRBMllrd3FONEFCY1FERU9SeGhVTlNndjhTakFwNnN6bUJNaU8rRmtxallRUjlKQVd4K3JIUk5hVjBzWUFyOUF3ZGpSV29DY1FnVHNFRVdtQW52TE1BSG5ZQUtSSUFMc21Vb0RUQkJKaHhVYUlFdEhJR1FpdytIRUhLSVFJYU1Rd2k2UnVqREVsSVpBYVJrZ1ZUSXlZTnl3N05Va0FMbEIrV2thMlRCSVgyVHJ0c3RtMk1ONmJPSHc5ZHdPNURBTnc3b2hYUU9SSk5CaDJ3bUI5cVhDWisrY0ZZQ2FXa1FqOVl5S0I4aHMzWFFCdXFROVQxRFdySmt0akJINUQ3YjVndnBmSkFIWjBURG51SGFPQTBmRDRjSEhvcDc0alNabEJCeTVBSTcyZnhFMmR5dzFzK2VTMzNyR2RFNkM5bzYydnZSOFJxTzRRa29KWWJ2UE9naGZ5ZytJbWpOZXlpVE1TVDlsWjhyOUNSV0FrSHBza2pHOUtvUks2Z0Z3aGxjMXFYbGZmK1N0VysxMjMyUnQvRFJkU0dybEpSdjZnTHFJbHdsWENiY0oxd0hWUGo4ZzlCRzZJYm9EdUV1L04zNmJsU3lSbUtRQmtmV1NBV3d2OGdORzNMeVpGcSt0Zk56emdiWCtXb0ZCQnZocE10V2tWSXo0ZURLZUVRaitaTkFMSWIzVkptMDNWZTVDL3hhYjB0K2t3Nmd0aTg5Zmc1UWExUWF6bjZPZGh0ZW4zUk5xU1UvbGI5Q1R5Q1lYcFUvd0JaOHBrcnp3RjRjOWlvTUZOalM5dEo2YWR0b05iUVh0UHVmT1dnM2FIL1MybWhiSU9VcHRobzdoQjNCR3JCR3JCVlE0VnNqZGdKcmtLRWFyQW4rOXYxRGhhZDlwOEtsRmNNYXFtZ3BWVHhVVTZOcmYzUms2YU9pSmVVZmpuRDZQOVRyNklxUlp1eC9zMmowT2w5MkJQYm5YVWN4cFRoUVNCUnJpaE9GVGtFb3h2RG5TUEdCeUpSaVFnbWxhRU5xRU1XUzRrY1pNeEtQNFZybkRXV1krOFgrSHJRNEFWS0hLNEV2Nnk1TXlDbmxZQTc1KzdXUDFDKzhsSHJHSGIyckVETGNWZHhSUGVGN3ZZajZ4YzZLaGJKY01Gc21MNUx0ZHI1TVR2QkYvWWxrWFFqT0lGTmxPZnlPYmJnaDdvQXpZQWNLQjFTY2pqdmhQa040c0NzTjl5VlpwbkJ2U1BYQy9YQlhhUi83b2krdy9xdjFvM2NHbStoT3RDVDZFeTAvMDRsK3hDQmlBSHc2U09lSjQ0akJFTHRKdWNUc0hMSDBrUGZORXVRS3VXa2NNWlVPdjNMWVZBYWZaVzlMZGFRNXdOTk4rczAwK0Nud0lsTDJMWVJvdGJJa3d1ekJPVng2SXdBRitEMmxBWFRocVdvS1QyczdxTlVGZU1BejB4K2VkK0VnQnVaMU92U0RBKzBXd3NqbWc0V2dDSlNBRldBdEtBZWJ3VFpRRFdyQmZuQVlOTUVlZXdaY0FKZEJHN2dEejVNdThCVDBnVmRnQUVFUUVrSkcxQkZkeEFneFIyd1FSOFFWOFVMOGtWQWtDa2xBa3BFMGhJOUlrSHhrRVZLQ3JFTEtrUzFJTmJJUGFVQk9JT2VRSzhndHBCUHBRZjVHM3FFWXFvUnFvQWFvQlRvT2RVWHBhQWdhZzA1RDA5QlphQjVhaUM1RHk5Qkt0QWF0UTArZ0Y5QTJ0QU45aXZaakFGUEV0REJqekE1enhYeXhjQ3dSUzhXRTJEeXNHQ3ZGS3JGYTJBTmFzR3RZQjlhTHZjV0p1RHBPeGUxZ0ZvUHdXSnlGejhMbjRVdnhjbnduWG9lZndxL2huWGdmL3BGQUp1Z1RiQWp1QkFaaENpR05NSnRRUkNnbFZCRU9FVTdERHQxRmVFVWtFclZnZmx4ZzNoS0k2Y1E1eEtYRWpjUTl4T1BFSzhTSHhINFNpYVJMc2lGNWtzSkpUSktZVkVSYVQ2b2hIU05kSlhXUjNzZ3B5aG5KT2NvRnlDWEs4ZVVLNUVybGRza2RsYnNxOTFodVFGNUYzbHplWFQ1Y1BrVStWMzY1L0RiNVJ2bEw4bDN5QXdxcUNwWUtuZ294Q3VrS0N4WEtGR29WVGl2Y1ZYaWhxS2hvb3VpbUdLbklWVnlnV0thNFYvR3NZcWZpV3lVMUpXc2xYNlVrSlluU01xVWRTc2VWYmltOUlKUEpGbVFmY2lKWlRGNUdyaWFmSk44bnY2R29VK3dwREVvS1pUNmxnbEpIdVVwNXBpeXZiSzVNVjU2dW5LZGNxbnhBK1pKeXI0cThpb1dLcndwVFpaNUtoVXFEeWcyVmZsVjFWUWZWY05WTTFhV3F1MVRQcVhhcmtkUXMxUHpWVXRRSzFiYXFuVlI3cUk2cG02cjdxclBVRjZsdlV6K3QzcVZCMUxEVVlHaWthNVJvL0tKeFVhTlBVMDF6Z21hY1pvNW1oZVlSelE0dFRNdENpNkhGMDFxdXRWK3JYZXVkdG9FMlhadXR2VVM3VnZ1cTltdWRNVG8rT215ZFlwMDlPbTA2NzNTcHV2NjZHYm9yZFEvcjN0UEQ5YXoxSXZWbTYyM1NPNjNYTzBaampNY1kxcGppTWZ2SDNOWkg5YTMxby9UbjZHL1ZiOVh2TnpBMENEUVFHS3czT0duUWE2aGw2R09ZYnJqRzhLaGhqNUc2a1pjUjEyaU4wVEdqSjFSTktwM0tvNVpSVDFIN2pQV05nNHdseGx1TUx4b1BtRmlheEpvVW1Pd3h1V2VxWU9wcW1tcTZ4clRadE0vTXlHeXlXYjdaYnJQYjV2TG1ydVljODNYbUxlYXZMU3d0NGkwV1d4eTI2TGJVc1dSWTVsbnV0cnhyUmJieXRwcGxWV2wxZlN4eHJPdllqTEVieDE2MlJxMmRyRG5XRmRhWGJGQWJaeHV1elVhYks3WUVXemRidm0ybDdRMDdKVHU2WGJiZGJydE9leTM3VVBzQys4UDJ6OGFaalVzY3QzSmN5N2lQTkNjYUQ1NXVkeHpVSElJZENod2FIZjUydEhaa09WWTRYaDlQSGg4d2Z2NzQrdkhQSjloTVlFL1lOT0dtazdyVFpLZkZUczFPSDV4ZG5JWE90YzQ5TG1ZdXlTNGJYRzY0YXJoR3VDNTFQZXRHY0p2a050K3R5ZTJ0dTdPNzJIMi8rMThlZGg0Wkhyczh1aWRhVG1SUDNEYnhvYWVKSjlOemkyZUhGOVVyMmV0bnJ3NXZZMittZDZYM0F4OVRueFNmS3AvSDlMSDBkSG9OL2RrazJpVGhwRU9UWHZ1Nis4NzFQZTZIK1FYNkZmdGQ5RmZ6ai9Vdjk3OGZZQktRRnJBN29DL1FLWEJPNFBFZ1FsQkkwTXFnR3d3REJvdFJ6ZWdMZGdtZUczd3FSQ2trT3FRODVFR29kYWd3dEhFeU9qbDQ4dXJKZDhQTXcvaGhoOE5CT0NOOGRmaTlDTXVJV1JHL1JoSWpJeUlySWg5Rk9VVGxSN1ZFcTBmUGlONFYvU3BtVXN6eW1EdXhWckdTMk9ZNDViaWt1T3E0MS9GKzhhdmlPNmFNbXpKM3lvVUV2UVJ1UW4waUtURXVzU3F4ZjZyLzFMVlR1NUtja29xUzJxZFpUc3VaZG02NjNuVGU5Q016bEdjd1p4eElKaVRISis5S2ZzOE1aMVl5KzJjeVptNlkyY2Z5WmExalBVM3hTVm1UMHNQMlpLOWlQMDcxVEYyVjJwM21tYlk2cllmanpTbmw5SEo5dWVYYzUrbEI2WnZUWDJlRVorekkrTVNMNSszSmxNdE16bXpncS9FeitLZXlETE55c3E0SWJBUkZnbzVaN3JQV3p1b1RoZ2lyUklob21xaGVyQUgvWUxaS3JDUS9TRHF6dmJJcnN0L01qcHQ5SUVjMWg1L1RtbXVkdXlUM2NWNUEzdlk1K0J6V25PWjg0L3lGK1oxejZYTzN6RVBtelp6WFBOOTBmdUg4cmdXQkMzWXVWRmlZc2ZDM0FsckJxb0tYaStJWE5SWWFGQzRvZlBoRDRBKzdpeWhGd3FJYml6MFdiLzRSLzVINzQ4VWw0NWVzWC9LeE9LWDRmQW10cExUay9WTFcwdk0vT2Z4VTl0T25aYW5MTGk1M1hyNXBCWEVGZjBYN1N1K1ZPMWVwcnNwYjlYRDE1TlYxYTZocml0ZThYRHRqN2JuU0NhV2IxeW1zazZ6cktBc3RxMTl2dG43Rit2ZmxuUEsyaWtrVmV6Ym9iMWl5NGZYR2xJMVhOL2xzcXQxc3NMbGs4N3VmdVQvZjNCSzRwYTdTb3JKMEszRnI5dFpIMitLMnRXeDMzVjVkcFZkVlV2VmhCMzlIeDg2b25hZXFYYXFyZCtudldyNGIzUzNaM1ZPVFZIUDVGNzlmNm12dGFyZnMwZHBUc2hmc2xleDlzaTk1WC92K2tQM05CMXdQMUI0MFA3amhrUHFoNGpxa0xyZXU3ekRuY0VkOVF2MlZodUNHNWthUHhrTy8ydis2bzhtNHFlS0k1cEhsUnhXT0ZoNzlkQ3p2V1A5eHdmSGVFMmtuSGpiUGFMNXpjc3JKNjZjaVQxMDhIWEw2N0ptQU15ZGI2QzNIem5xZWJUcm5mcTdodk92NXd4ZWNMOVMxT3JVZStzM3B0ME1YblMvV1hYSzVWSC9aN1hMamxZbFhqbDcxdm5yaW10KzFNOWNaMXkrMGhiVmRhWTl0djNrajZVYkh6WlNiM2JkNHQ1N2Z6cjQ5Y0djQi9JZ3Z2cWR5ci9TKy92M0szOGYrdnFmRHVlTklwMTluNjRQb0IzY2VzaDQrL1VQMHgvdXV3a2ZrUjZXUGpSNVhkenQyTi9VRTlGeCtNdlZKMTFQQjA0SGVvajlWLzl6d3pPclp3Yjk4L21ydG05TFg5Vno0L05QZlMxL292dGp4Y3NMTDV2NkkvdnV2TWw4TnZDNStvL3RtNTF2WHR5M3Y0dDg5SHBqOW52Uys3TVBZRDQwZlF6N2UvWlQ1NmROL0FDMWQ4Qng4ZElHK0FBQUFIR2xFVDFRQUFBQUNBQUFBQUFBQUFJQUFBQUFvQUFBQWdBQUFBSUFBQUI3VmRNclZwQUFBSHFGSlJFRlVlQUhzbkhtc25tV1p4ajlubkJsRlVVRmN4MUZ4UTBHc3VDRzc3SXNLTGF2S0RySm9RWWdnSU9CZ3BCUUtqWUJzRVdneGhRb0dhaVVVU21ncERkZ2h5QklFUXBHd2hxV2hRS0NFQW9FMjMxelhkZC9QODk3UHUzem50RDJIWkRKK2Y3U0hBbi80eTdYZHowZnM5Zjc1K1NlQmZ4TDRmMHpnSGIxM3Z2TmZtNTkvV2NYUE8vN3ZmSHJ2ZnZlNzN2V3UvN0RQditmUHY5bm5uYTJmSnJCQmY3S0tMRWY3WCsrOUQ1L1YzOHZQZTk2ejJtcXJ2ZHMrZ0pLb2lFMG00ejg0SVAzV0Nxbjh3MEdBVnZEdmpUU1Ezb2ZXV3V1RGE2NjV4aHByZk9BRDczKy9hQmdPOEJDUmhFUktxV0VobXpxYUZrTEVWQUlaeGwrdElKZVYvc2Q3bi9qUGozL3NveC85eUljL0JCS09RaXdFNDMycjR5TjVVQ0JPcEVJQ3RWQXEvSmlIeWw4NzJOZ2ZSdzJsbjRmQlpkQS9zbElRZXA5WmUrMVBmZksvUG1FY1B2cVJSTUpVUVYxQUdBWURWcWx3T0JDNnBqS08reWRUYWNVaVNBUFpkQk1TcVVFTVZ2enY5ZGI5NGpwZitQeG5nZUhUem9HQ0lBalR4Rm9mQkFvNlJDWUpNRVFqcWNNaXBOSkl6cEtFSkdpbFF5NVpQTU5nNC85SUVrNzc3OE5rMGR0Z3pGZldYdzhVMXZuODV4SUc2Z0hHSUloQUlxS2dNQWdqU2NQRWtkMGkwd2hIY2sxVEpZWkc5a20vWkFaZFB3eWZ6YkFRQ1Z4djR3Mi8rZld2ZlhYTVY3NjgzcGRBNFFzSmcrUkFZeFFnbUJPTWlpQUx1YVNFMFlaRExXTk1aQnI5RXZRUmYweEEvUGN1SE9XZnJ6QWMveGQ2VzI2KzZjWWJiZmpOYnhEQytoVUZxUUd1WUR4SUVCbUV6RkdSb0VQY0lzWkNNQ3Bwc0dYdDQyR2FmMHNTc2JJeExKRkQ3ZWNhbHU1OEtjSHdyd2JCNmUyNC9UWmJiYkhaSmdaaGd6R2tzQzYxWUdKQU5pQWNJSWZBUWRhUU54QVRUb0tpS0ZCRUdBV05oQ1BHaHpHcGdIaTBEc21rS3FGQXAvbS9mK0NmOUhiZDVYczdici90VnQvWmZOTk5OdjQybGJEQlY4ZU1nUlJBd1N5QmFCQUd5Y0U1eUJrSkJDUkJFaEZGR3d0VFJvZ05qbzV1SE1FekpGUDVCai9WdE5INHk0QWovOWhGb2ZlanZYWWZ0ek1aYkwzbEZwdHR1ckVnTUJSa2lIVy9wR0JBTWxRWWFBdHhZRkl5SWd3RUpGRWpJVlVJUmJhSVZZa0hhTXhRd2Fod05PVWhrUVNObEVTR1pnSkltVVh4USsrZy9mZjU0WjY3amQzNWV6dHR2KzAyRUFMZFFDVjhYVkpnTEJnRldBSUJtZFVBVzFRYzZpRHFKQUtLeUVKZDBrMGpxNk5zbDV3aGFZb2tMSVZJaHFFVEUwNXYvR0VISDdEdmovYmFZMWN5MkdHN2JiYmFjZ3U2b1lBUUtFZ01obUh0VHpNZG1oeGNFUzZKd2g3V0lKWVdWWFNta1pHNnRlaFgxMFpRUnllUE9wRzZTbHF0MHp2MnFQR0hIM0lnWkxEWDdvbkIxbHRDQ0hBRElIeUxTbUFxUUFwWkN4SkRVb013U0E3bUN4akRCUkZBVUJKMUVsRVdoUzQ4UDIxb0VFWVpvblczRE9EUklOSkFzdHBxdlpOUE9QYW9JMzV5S0dTdzl3LzIzSDNjTHRMQnRsdHY5UjBKUVJDU0g1eUN4ZU02WDZBbk1vWU9Eb3lJQklLU3FFaWt6UFJkNFNVU0tsVzZTQzRaZ2tad3kwQWVUU0x2NlUzOE5SQWNmZVJQRHYzeGdmdnRBeXZzTm02WDc4TUxEQVFKWVJOVGdrR2dGRXdMVHFHSklkbkM5ZUNDYUlCb0oyR3FTQmFwNmFJRlJxczJDcmNNd2VPOTcrMmRQZWswSVBqRjBVZis5TEJERG9JTWZwZ1k3TGo5ZHR0SUNKc2hFcklTRkkyUUFtSmh2WFU5SHAxQ1ZBTXdXRHdFRG5SR0FVS1NDQ1NpS0dvbzZpd3FHS2xkTzV4Q3cvZ1FhNTlqdll0Kzk5c3pKcHdDQkQvLzJmakREejJZTW9BVmRwVU93QUJtMkRLN0Faa0FKYkFmSUlWSWdjTXBpOEVqRWd1S0tWbHlvQ0NhSUFhU1NDaXNVQnNleWMwYUkzUUFqUkxINnF2M3BsMXk0Ym1UTXdJNDRhRDlLUU13R0VzdjdMakRkdHR1ZzFUY0FyRW9JUWhDaWtZYUltc2hVMUEwQUFQM1U4TFF3YUZVaElFd1RXaGI1WFhGcE1DSGV4TWZVTENQNVVUOGxSajh3L2owRDNYUThlbGRmY1hVaTg4LzU2elRUejNsSktqZ3FDUGdoSU1QZ0F4b2hjUUFnV0JDcUVGSVVsQXNtQ05FUVdJb01WUnl3SHp3SWFVand3UlJBekVraVlSaUVJdGdrK0NUZXFmMFp2MzV5bWxUTGpydjdETW5Fc0Z4eHh4MTVFL3BoUDMzcFJXY3dYZDMzQ0diWWJOTkt5V1lIOWlTWTJTSWxBc2MwYlNFZWdMUmtOVkFERzZMQm9mc2pLbzJkSTduN25CTkZFbFJxV0tnTG5LelNoeEpGL3E5TjIvMlg2NmVmdGtsRi83dXQ1TW1udnJmSi8zeXVHT09Qbkk4blhEQWZtYUYzY2JSQzhZZ0NnRzVTRHNrQ0VvRkdzSXA2SlRvd09CeW9DMEtEamtoSklnV0VJVTc2djdJRHFsazBjaE91U1Y1UkwvM2JwOS8wNndaVjE0KzlmZm5uenQ1MG1tL01RUS9HLzhUT09IQS9jMEt1enVEblJpS3hzQWp3U0FnR1JFS05wZ2doVXlCSldHV1NKNG8xSkRrME01QmdtaUNjSE00aVE1UlZDaUdZckhHR3IyLy8rMjJ1VGRBQkgrNDlLTHp6am5yREVOdzdORS9Pd0pPTUJuODZBZDc3WUZha0E0UWlobkM1cHNwRWdJRXJVWXpSRWtoSlFNOGdXaHdESmFSU2tuYW9zbEJndWdDMFU2aTdvK0Fvb05GNzVINzcxb3c3OGJyWmx4MStWVDQ0T3lNZ0hsNCtLRW1nNzEvcURnWU4zWm5lQ0V3VURjd0Vnb0lsRUpCUWZFWXhEQWtodElYeHNGQXRFaWlnMFFUUlE3T0VCZHJydGw3NXRFSDc3NTkvcHpyWjE3OXgybFRmbi9CdWI4OTgvUUpOTUx4eC83OEtJVEJZWWRBQmt4RU5DTWlzV1JnMWNDQ0RCQVVDZ0dDYXlGUmlHSm9xcUd3aFRpa0plV1Y0YVV4QUVSeVI3SkhDNG1BNG9POWw1NTliT0c5ZDl4MjgyeUk0SXJMTHIzb2ZDSDROUkdnRlk4Y1R5Y29EZmFHRmZiY3ZXUmdpVUFoMUNGd0x3VUs2MXM2bGhTc0owaUJwcWlxd2x5UmJWSG5FSnhoeTdKSXk5d2NmbmY0RWNZWG16WVVhL1hlZkhuUkV3L2RkK2VDVzI2U0NLWmVmT0Y1NTB5ZU5IR0NJVGhHWVlCQWRCa3dEZ0lERHdTT1JjYWkzQ0E3cUI0S0NBcEhkUVFvS0I0OUg1c1lVamhrT1NnZTJqbTRNOW9Vd1NkdCsrZ1dUZmRvRFVXdi8rYVM1NTU4K1A2N2I3OTE3dXhyWjF3MS9RL3dBYUlBblZnaGdCTVFpQ2lGZmZlV0ZjaGdGK1pCQ2dSVkE0U1FJR3pFaXR6d1c2b0hLQ0ZMb1U0QndaQnJncXNocWlGakdJSkRFUkVPSWgrZzBBTS8zU1ErMU92MzMzcGw4Vk9QUEhqUEhiZk51M0hXekt1dnZQeXlTK0FEcEdHRmdHSEFRSlFNWkFYcVlDd1pwRkNrR1Z3SXlRMEpBa3ZTL2VEWmlGZ0lXcWdvdUJpNk1jZ1dRUThoSVBoMG5RNE5QN3JDSlc0Y1draDhHQUQ2eTE1OS91bEhGLzRkTnBoenc3VXovalI5MmhUNEFGRnd4bW11QXVZaE9vR0JlQ0QyRVJJUmNXRFZ1UFAzdlJqVWpraEZjME1IaENpRkpvWFNFKzBZSklkaGNDaXRVVmRFUmVJakJOQmZ0dlNGWng1LzZMNjdici8xWm9rQVlmajdDeEFGaHVEa0UwODREZ2l3RE9nRXltQy9mV0NGRkFlNzdPemxxRUF3SVNRM3FCd0tKVVFwd0JDcUNHeEg1Z0tDb1JRRFBWRmdLRjFoR0xyMDRJS29nV2lTRUlEKzhxVXZQdnZFdy9mZmM4ZGY1OTFFRWZ4eDJ0UkxMa0lVVEQ3emRLckFFQ0FQNVFTWFFiWUNKcEl6MEVxQ0dZSVF2Q0V6aE93SDN3cGNqcG1DeFNNcEJERU13QkRrRURrVXhoZ0toQUhvTDMvdHBVVlBQdkxndlhjdW1EOTM5cXlaMTF4NXhSK21YTXdvbUR5cFFvQktZQzBtR1dRcnNCYWNnVllTOW5JU2dncXloTUR6QWFGUVNDR0ZJdytKSmdWR1E0R0JqVm1wSWJTbXpVazdNS3FURXhNaUpVU2FFU2tzUC9ZeEI5RHZ2Lzd5YzA4aENPNjYvYlo1TjExUEVWd09IekFLemdLQzM1d2lGZnppbUtNWkJuQUNBdkZBN2lOWkFYRWdCaXFHbmNnQWdSQ0V3SlhnRFNrbHNCNEF3YU1SVWxBMm1oUVFqb0ZDbXhpeUtZUWhjT0NscVZ2VFozVXJoeVNJWkkyUFp3RDkxNWNzZnZxeGgrNi8rNDYvM2pKbjluVXpyN2xxT256QUtBQ0NpUk15QW9ZQm5JQkFWQnEwTVdBNUloQUtJYWdnR1FrYmJ3UUkxcEVKQXFLeE5FU2c0TUdRTEpIRjBJbkJiQkh6d1FaRTZZdEtFUldBL2h0TG5uL204WDg4Y08vZkZpQUxKUUx6d2UvT1FTRWtCTWYvNGhnZ01DZVlERHdSOTl3ajZnQU1HQWhpb0VUUVVxSVE2aENTSDFRUUpvV0dGa2doNUtPZUd1U0o0V0d3ZkhBT2RSQUJRUC9OVjE1QUZENG9HOHk1d1VSdzJhVVhYM2crMHpBZ09QYm5DQU00QWRPZ0xvUEtDeHdJd1F6ZWorWUdoK0RKV1BuQnBEQUVoVUlNTlF4MVZ4UnlhT2NRQWZUZmZQWEZSVTgrdXZBKzJHRCtYSWpnejFjakRPRURSRUZBZ0NNQkNCQUdkQUo3RVdtQWNaRGpJT2NCR0FRelpDRU1ncEJtbzBNb3RlRHhHSVBCeEZCaDBGSFJ3RkJ3NENzTVBueVk0NmNBMEg5cjZVdlBQWVVndU9kdi8zTXJDcEVpUUJoT1FTVXFEWk1LZm5uOGNjY2lEeEVHN0lRZ0ExOUl1N1V4VUNwU0NIUkRFNEtTTWZnaFo2TVhaY3FGdEJpR2lTR0VwR01vNHVHVG55d0JpTURUREFLMHdTMXpiNXhGRVV5ZkJoOWNkRDZpZ0lWZ2NTZ0VGZ1llaUVFR1hJbTc3Y3B1UkM5d0tGWm04STJRR2VSTXFPckJvdEdrVUZIQVdyRHBxSTVvcDFBbXBKMllwb2FJb2VUd3FScUEvckxYWGw3OHpPTUlncnZ2V0REL1pvbmdUMzgwSHpRUUlBOFpCbklDWlJBWTdGbGprQUxCNjdFbWhKZ0pVRUlLaFRvRUdxS053a0F4QkZNVUdCS0hPZ0FRV1BMOHMwODhzcEEydUczZW5Oa1V3VlhUa3cvT25rd1ZuTXBTUE9tWEp4eEhCQXdEVFlNS2djZEJxUU14VUROd0ovRjBLdHpRaE5BdWhVU0Jsc0Jxa2haU1MrUUIyWWdHdzlBaWg3VWJBUHJMWDEveUFxTHdvUWZ1dmZQMnY1b0lNSXV1bURZVlBrQVVNQTBqQXVZaHc0Q0JXTWhBQjFPZGdVSXgxMk5tRUNJQk95RU5CU2loZ0ZBWklsTElHTHdyQXdWNUlpUmtHNFltZ1A3eU4xNTVjZEZUai8xRE5yaTFFb0g2QUQ0b0VhQVNtSWQxSjFncjZHaU1lVkFGQXMxUUUwS2VDUmxDU2taTzU4b1FvU0xvaUVZOHloSzVMUWVyNFRNdEFQcjlOMTU5OGJtbkgzOTQ0WDIwQWJJUWRURGpUd3pES2FoRVJRRm1RVFlDRVRBUG16S1FGUmlKbVlHOUlEQVU2MmFvNTJLRU1FQUtyVnBvc1lTSm9hbUd6N1lDd0NCNGFmRXpUenp5MFAxbUF5VUJHaEZoS0Ird0VDb0VKNTV3UEZveGhVSGxCQnNIYWtaak1FNjlJQVllQ0RSRElRUXZTQytIdkpzdEdkMFBUU2wwVTJnVlE4VHd1WFlBL1RlWHZ2ejhzMDgrK284SDJBYTNRZ1RYUXdSb3hNc2R3Ymxub3hPekNvaEFlWmlka05OQVZtQWNzQll3RDhhTnRjT1J6Mms1RURJRGowVkZRamNFdXlVNUc1a0swUkNGSTNKWDFpbEVOWHkrQTBEL3JkZEFnRUZBR3pBTFdRZlhNQXpOQjB6RGlBRERRUHV3NWdUYmlMUUM0NkJnb0NkRk0wTk5DTzRHUllMS29WQkM1UWVYUXNoR1NhRkpRWmJvd05BRkFBUlFCazhoQ0dpREJjaENFd0Vha1NKUUZLZ1RKMDZ3VWp4UkNNb3c4R0xVVHFZVmhzZkF1MEZ1S0NGWVBWUitjQ240Q1pHa3NFSVUxdWtFMEYvMitpdUlRZ1RCQTMrL2kxbUlWU1FSVkQ1QUZFdytjOUxwaHVCWEo1M0lZYUF3S0dXZ2ZVUXJ0RFB3WXVBakFnS2h4UTBESUpTcEVBMlJZMEVka2F2U3RCREYwQTFBQkJDRmo3SVBPUW15Q053SFhBVU5CS29FcTBXZkJpWURKaUx2cFZZZFdDQ3dHWUlaSkFTNUlVVkN0a09oaEFDaEhnc3RGS3JoWkJTK09BQUFCZ0hLNE5rbkgzc1lRWENYc3JBUUFTdVJDRkFJVVFWZUNVa0ZQbzhvQTFyQjQwQzFVR1VpbjlmdFpNZ01mQ01vRnVHR0FSQThGTUpXS0tRd21NS1hCZ0VnQVVhaGdvQTJtSC96bk5uWFgvZVhHVmVqRWFkZHhrckVLbUFoVkFoT2hoR1loemFPOGpTUURKaUliZ1dyaGR3TE9wb0tCbDZQdnBnaGhCUUpLSWU2RWp3VUJrbWhrOEs2QXdIMFdZY3ZMSHI2Y1FZQmJYRHJQS3lpV2RmT3ZBYXpTSDJBZGF4dFNBU25LUTUvbFJGd0k2ZDFwSldzYXlsYUllcEFyNnJPSUpoQlFpamNnRWlvUThBTFc0Q1FwTkF3UkJ1RjlZWUFBQUpMWGtBVUlnaGtBMlNoUklCR3REQ0VEeTQ0ai9NWW5aZ1I0RTZTQ2pJQ094U2lERUljQkIzd2V1NFVRbkJETjRTYUh6S0VYQkUxQ2w4ZUNnRHI4TVhubmtFUW9BL3Y1aVJ3RVZRKzhDZ29FV2dicFVwd0oyUVpaQ3VrU05SVTVrYWlEZ29Hbm9xRkVDd1NCa09nSDdxbFVGRllmMGdBSVBES2k0c1JCRzREN0VLc0lpU0JpWUM3aUZIZ2hZQnhPT0hVWDUveTM3ODZHYTNvS3NoTzBFcW1ERHdSclJsOUhuUXhpUFdvUklBUUxCS1FpM1VJWGc5ZGZpakRVUlMrTWpRQTF1Rkx6Mk1UUFdJMlFCYWlFSmtFRWdGMkVVNGtSZ0hTRUxPZ1FGQTZ3WHFSS3hscDRJbW9kYUJJOUpPcHBvTThGWldLU1FnR1FkM2dES3BnREJEb2gxWXBWSVlZTXd3QUlJQXlXTVFna0EyUWhiZk16U0t3UHJBb1VDRVlBanlaU0FVUmdUbUJ2ZWd5TUNzb0Rqb1o1SGFzZGhLRWtHS3hjRU1Kd1pPeEFhRVdDOE1CMEYvMkJzckFnb0J0Y01jQ0ZtSVNBY1B3c2lsY3gwcERkQ0xHWVdvRXpzT2NoOVlKQ3NSS0J0WUt2cEQ4WExDYnlmTWdoNkxNa0lUUTVZWW1oT2lISWhWa2lLOE9Dd0FHd1ZKRklZT0FiYUFzVENMQUtKQVBQQXBRQ0IwSVBBem9oTG9NcWpob01zaWhxSGFzQzZFbEVoeUN2eWhRQ1lUUUxvVU5oZ2Vndi94TmxBR2pFSDNJTnNCNWhFSjBFZGdvbUhxcG9nQnBTQVFZaHcwVkhHTzFLQ2N3RUNFRHZxUnFJMm9rNm1qVTVjeHF6RHJJeGVDQkFBWkJDTkVOVlM0T0FTRkw0V3ZEQklCSjlCcWpFRUdBUG5RYnpFdEpnR1ZZK1FCcGlBdWhEVUc2bExTTzZBUkxnOFFBdDRMSFFaMUJMa2NQaEdRR1hVNldDSVVReW1Cc1UwS094cThQR3dEcmtBU3dDR1FEVElKS0JKaEZDRVAyQVh5QUtHQWhjQmtWS3NoaG9JSElaOVJLQmloR0phS3N3TWNEWGM1QkJ5V0R3Z3lvaG1GQllEMDAvUENONFFQb3Y0VXlZQlFpQ0I2OFR6WkFJYm9JMElnSVE5NEh0Z3F3RFJzSXFqeFVHTkFKVFJtNEZmU0F3ampJRFBKSVVpaktERUVJc1IrTGxjRFZIT3pRZ1BETkZRQ2dPbnpoT1FVQmJIRFBuY2pDTEFMTUlvVWgrc0NpUUFnd0Mwd0ZhUnVaQ2l3TTZBUVBSRXNEeVVDdDRPdUFWaGlTUVVyRnVoQ3FocXhPQno0dDZkVTlLK0ZiS3dLQWRjZ29WQkN3RFN3TFRRU1lSUXBEK0VDVnlHM0lPN0VWZ1cxazFxSTdJYVNCV3lIRVFaT0Jpa0dCa015QVZFUWkxQ0ZnS25rdWRrSFljSVVBR0FFRmdka0FqMlcwZ2VvQTIxaGhDQjlZRkRBTjFZa3RLckE4WkJpNEUzSXA1RllJY1JCMGtJZGl3YUEwZ3lkQ2xZc0RJSHg3eFFDd0RobUZEQUwwWVdVRGJZS1pNeFNHMkVXcVJLV2hDcUZGQlhvOFV5MjZFMElwbEZhd1NHd3lVRGtXZ1dEMVdCZENGUWtzaDdvU05scEJBRVlBVWNoRnNOQnRvQ3prSnBBSStGSmdQdUNOWklYUVlnVGJoMFRnVHJCNXBEUlFNV1lyY0NXeUZvWmdBRE0waFlDUjRFTHdTS2hEMkhoRkFlQS9MR1VaWUJOaEVhQVA3OFV5OWl6RWlZZ0RpV0dvUG9BUGVDUHhzWUN6b0tHQ0tnL2RDZGFMS1EyQ0ZSaUpRekZJZ1FBR0xVSVlBR0hGQVlqQWk0dTVDQkFFc0FHek1JaUFZY2h4N0pVSUJFekRGZ1IySlRBUFdZc1dpRTBaNkJVdElLanJRQU1oQlVKcXg0SkJOUkxjRFl5RXBJUk5WZ0lBQ0tBTVBBZ1dQdUFFVklnU0FSdFJQckJLdkpDWGNpc0NHd2JNUTNlQ0JXSktBejBjNUlFVUdPeFJkYU15c2M3QXpGQkF3UDFZdWlGRFdCa0FLb09YbmxjUVJCdHdGZDB3QzA4bEVvSDVBSlZvVWVBSVRwK29kZWk3UUFoU0hrWW5wRkxRNHduZmsvbW9QZ3dHS1JUckRLcCtERzRRaEpVQ0FBSW9BMjZpSnpDTWd3MXdIN2tJdUF5VER5d0twQUtMQXA1SmhrRG5zdktRNDZoMGd0SWd5NkNiZ1I5TjBFRXFCZ1JDTkVPeEVWd0lkQU56Y2ZPVkE5QmZoanBrRkRJSTBBYTBnYkl3aWNEREVIMUFIL0JBWUNHRVRrd0krSFIyd3ZGRTRHRmcweUFGb3Q1T0tJTm9oU0lTdFpYRlFHTzVaTkFoaEFoaEpRR3dEbDk5V1ZGb2ZhZzJZQllHRVNnTVZZbFl4MElRbzZCQXdFcndNREFuMktIZ0I2Ty9vZFdza0t1eHlTQ0VZc1dnRWtKWVN0OVpXUUFnOFBxcmlrSXNnc29HUEE0OENTUUM5NEVxc1pHR2JRaWlFMXBsVUxPQ3o0TldCZ2dFTTBNRndRYXpKd0tGc09WS0ErQWdXTHBFVWZnRWJJQWdzRWxnMDNqMjlaeEZDRU9NQXZxQVYyS1podHJIamtDdmgyeEY1cUhWWW5LQ2V0SFRJRmxoR0F4U01iUXdLSVd3MVNvQTZMLzF4bEpGb1FjQlJ4RW5RU0VDaENGR2dmbUF6NGFLZ2pBTFdoRGtNRWpUUUwzSU5LZ25ZcWdGellOQ0IxME1xbnFrRUxaZUZRQ3NRMGJob3FlZkREYkFMdFI5NUNLd1VjQmRwRU81QzRIZWtFTWVoazZRRTBJYVdDSUdHZmhLYkdVUVF4SE5VSm5CaGJETktnRlFIVElLZVJvb0NGSVczbkx6SE5zRU0zRWpJZ3pOQnlrS1dBZ05GVVFFcFJNVWlFRUdMVllZZ2dGQ3NXNEdGOEsycXdhQWRZZ3k0Q1ppRU9BNnV2ZHVMbU5rSVkva0lJTGdnOVNKclFqWWlsNEpLUXpraEFFeXlBdEp0VkRvSUExRjZLRE93SStHN1ZZUmdKVUJvaENMQUJleWp5Sk1ndHZtSnhGY096T0ZvZnNBYVppaklKOElsZ1ZVZ1NPd1paQ2NvTWNqUFNMeU1abHBVSk9CeDRGWEk1NVFVaDUwTVhBemJMK3FBUHJMVlFiYVJNRUd5c0lzQWpRaXd4RGpXRkhBUHNnSXprcUhvaERvK3lRZzhFcXdNMEVYc3g2UGlJQnA0RWN6MG9BREtjZUJMeVJWWThrZ2pTVFhRZFdPTzZ3eUFCRkFHVEFJa2cxNElDb0xsUVM4a2lVQ2pnS2ZoZ1dDTS8xV3pnZzREMjBmaGpCd0ozZ3ZObVRneDhKQUJyYVdDelBzdU9vQU1BaFlCb3BDRWRCdGdGY0NGbUlsZ2hTR2ZEcm1PaTRSVExMbmdnRUlkQ2ZVWk5Dd2dzZUJJckZkQjNVR080MEVBSmFCb3BCQm9EYndTY0JDVENMQUxHSWpaaDhNQTRIbFlRZ0RyU00rSmJmSklGdEJjVEJjQnQ4ZEVRQXFBNjVDSTZBMnNQT0lXVGozSnRiQmRYOVJJK3BJVkJSa0Fya1RTeFZ3SHBZSTlIeW1aMVFpU0dsUXlNRGpvSXJFb1hUd3ZaRUJBQUs0REdJUTRLVUlqMlVzeEZJRUNrTkVRYzBIYVJia2djeHJPU0pJWVpDZGtIc3hwMEVlU0RFT1VqVTJNdEc5OFAwUkFzQTY1QzcyS09Rb3NrbGdoVmlKZ09kQnV3OThGdFFSbEhtb1d2VDNzdzRadUJVVUI0ckVnUXgySGlrQVZnYmNSQjRFSEVYMzNKV3lNQ2NCRzFFWGtsZGlOZ0szb2IwY0RrQ2dXc3hPOElWb3ZRZ25oSEVRcllBNDZHYXd5NGdCQUFHVmdSUGdMSlFOdUF0REVyQVJMUXhESllaWm9HVVVFZmcyVWlzcUR6VVFneE5hMHNESGdheFFSQ0ptb3I1bXduZnZlRVBCUmhvN2R1UUFzQTVmaTBHUWJKQUxFZGNCcjJRUHczb2ZwRHZSeGlHL1VtUXBJZ3VBb014RFBhSnlIZVZwa0FNeEpLS3NVTVZCcW9VYWczRWpDVUIxbUtKUWZmakFmWGdzeTFub1NTQVIySVZVOTRFWGdzWmhKd0xsb2Q3U2lZRFRvSkVHZVNmTENpa08yaGpzT3FJQXFqTElmZWcyUUJacUZXVVJlQmpLQjhVd3NqdHhBQUk5bm5rWTVKRmNJTWd5a0JVS0Jvb0RWR1BXd1c0akM0QUV1QW90Q0hBZkJodW9FQ2tDdkp6enRZaGhHUHVnMm9icXhJaUFUOGpKQ0kwd0dFb0dsUlVRQjZrV01vUGRSeGlBMWFFSTZEUkFIOUlHZkNwU0lXSWFWeUt3QzZrUVFUcVMxSWs4RWR3SVFHRERJTFdpNTJHWEU4cHhVRFZqaWtUVWdqTVlhUUFzZ3lvS0VRUnFBNzRTS0F1eGlySUlyQkVoZ2dMQkJlZGJHZzVHb1BmREhBWXhFSXRTOEdKc1dzR3FrUXhHSEVBa3dOTUFmY2hSNUZtSVFrd2k0RFoySHhpQkVBWDJaTVJaMEtrQ1J4RENvQkdJTGdOUHhHU0ZFSW5Vd2NnRHlBUVVCTGdQb3cxMElRWVIySmtjUlpDaVFJWFFqVUJYZ3VkaHFNWGNDZlZpMUU1T0RQYm10MnlJQStwZ0ZBRGcvNVluUnlHREFQY2hSNUZzb09NQTk1RWxnUjRLUEF5akQyd1laUVM4bFd0WmtJYUJYdEw1bE00d01DZGtCbnc2eWU5SGtrRmhCV2N3S2dBeUFaNEdOUnRZSVpvSThGU1NmWUFraUt2QTBsQ2R5R1hVZ2NBcm9SWUdHVUdYREZJemtzSG9BREFDdG9rUUJPcERid05rSVFwUklyZ1J3ekEyb29zZ1BaZllxeGs3c1FWQjFZbzVERW9uaEhua01sQWlGbFpBSE93OVNnQnlFQ3ptY1JSdG9GM0lWZFFVUVlnQ3Y1RlVDRzBJMGpCUUsrckxWWDY3MnVxRVVnYUZGVENVOXhrdEFJa0FOeEdDUUgyb050QWtRQllXSXZBM1F4QUlVV0NQWml5RXRJeWlFUm9Jd2pJSVlaQW5ZcHNNWUlWOVJ3MkFFZEFxVEVIZ293aVR3QzVFUHBkaEdOcUJsSmFoQ0tUbkVxV2hPcEd6d0xLQS80WEZoRlBUbmFSM2RLOEVmc0ZjMVdLeEVGMEdWVEVtSyt3M2VnRDZ5NzBNK0VwQ0c2QVAxUWFhQkh3eTVTb0NBa3VDUEFyeUxyS1hVNlVoQzJFSUJEa1BXNTNnODBneTBLbVFyTEQvS0FKSWRZaDNJZ1NCK3RCSEVXekFMT1FxU2lJb0dqSDd3S0pBYWVnUEpnTlVvSytVVEFWRkdOUkxRVEpJaVhqQXFBSlFHZkNKSUFVQnJ5TzBBU1lCc3BDRk9FQUU5blhxeFRhTW1JWVZnalB3WWpMeE5QeUhOaktDamdRTkF5S29MNFBnaERZWkhEaTZBUHJMN0RKQUZDb0lvZzF3SHFrUWd3anlLRWg5WU90WWFUZ01CTGtTV21Rd1BqMGJ4RFNBREE0YVpRQlZGSG9ROERwQ0crQkE5Q3hNSXVETGVUV0xRaDhvQ25JYW9oQjhIN2Vwb0J0QlBoUnFNamg0dEFHSUFKOElFSVVNQWw1SDBRWXF4RTRSMkhlSmx5Z0ttSWFwRSsxS3FpSFFOam9KM3lVMDg3RGVpNVVNZmp6cUFFQ0Fsd0ZYSVJjQlo2SGFBQWRpeWtLdElqVmlFQUVmUzBJbEtncVloajRMaGtLUXhsR3RFendRS3hrY012b0FyQXdzQ2xNUVJCdW9FR01kaENSSWxhaDF6Q2h3Qk96RU9nSzltZWpiRkZPQjVXRnRJTG9UZkI3eFdubzdBTEFNOEVpQ2Q2SXFDR0FESElpWUJNcENtOGJWTENwR2dma2dSNEdwWUtVUVpDZm9VSkFNRG50YkFJQUFub2xxUVlCUjVEYXdRbXdWZ2Z2QUtwRlJ3RFQwUWhpa2dxSVZYUVg1WW80eU9QenRBWkNpTUFhQjJjQW5nYThpRGtOdTQ2SVAzQWVxUkVhQnA2R053NllSZENUd3F3UTZ3WWVCTm5KZVJ6NE5UQVp2RXdBU3NDamtJckQ3a0czZ050QnhnUHVJejJVRkFYczVUazhGaklJU0FUdFI3MlpWSS9pWEtRbEJabEJkaSs0RUJlSlAzeTRBVmdhSXdoUUU2a08zQVNkQldrVjFCSGc3ano1Z0ZIZ2FlaWV1S0lMU0NlUGZOZ0IyRzNrVWFoR29Eem1LYUFNN0Rob2lTTSttMDBNbGVoUlVuWmdPeFZJRnZwQWJsVkE2NFlqL0JRQUEvLzhnclRGWUFBQU1QVWxFUVZUbG0rZU9WZGNTaFAzQ0RBakRBSVlCUkxaQlpHeUJTUUlIck9zb1J6bGVYU2ZaQkpGRUV0aFlEQ0NTZkVHRUVVSEgzZFZoOVZwN253SDV4NXdkNWcybTFQVlZkYTk5WGhyTTNOL1R4NDhlM3IvMy96dTNiOTY0ZHZYS1gzLytjZW5DK1hOblRwODZjZnpZMGNPLy8vYnJMei8vK0wvLy92RDlkOTkrOC9WWFgzN3grV2VmZnZMeFJ4OSs4UDUvM252djBMdnZ2UDNXd1lNSDl1L2J1M2ZQN2pmZjNMWHpqVGRlMzdGOSs3YXRXN2RzM3J4cDQ4WU42OWUvOXVxcjY5YXRYYk5tOWVwVksxZXVXTEY4K2JKbFM1ZE9MRm15ZVBFcnJ5eGF0SERoZ2dYajQvUG56NTgzNytXWDU4NmRNMmYyN05salk3Tm16WHBwNXY3L3dlRHA0eWxXNE8vYnQyNWN2enI1MStVL0xsMDhmKzdzNlZNblR4dzdldVR3NzZUQVR5eEJWRUFsT1BRdUpEakFFdXdoQ1hhUkJLOVBJOEdxSk1HRVM2QWFpQVRRWUd4c2JFWUZHRHg5TXZYd3diMjdxc0NWeTM5ZXVuamgzTmt6cDAvU0VKQUNOQVJRb0RJRU5BVThCRFFGQi9hekJMdEpncDBpd2JadFc3ZHMyYnlwTWdXWkJLNkJqQUZMWUdNd3N3SU1uajJaZXNRSzNMbDE4L3ExU2JiQnhXU0RJN0JCUGdUSkI0ZVNENElFTzNac2R3azI1RWFZWGdKMXdwd1pGb0FVZVB6b3dmMjdEb0xTQnIvOUtqWW9oZ0FvaUQ0SUtQaDNFaWdNNXM2MEFJTm5qa0lGUWJTQnNwQ0h3QlFJTUN4OG9DZ2dHazRud1VyRFljWkRBQkZPbUhFQldJR0VRckxCWmJmQlNVcUR3RUtUUU9KQThrQjh3Q2pZcHo0b2FMaHBZOFVJZFJJNEQrZk52QUFTQmc0Q3owT2t3WEZXZ0FQeHB4ODlFRk1pY2lRU0NXSWtKaHBhSmtLQzEwSW9TaW9pRkhVS1lpeU9RZ0FPQTBHaE5nSUdnYWNCU1NBS0ZKMGdLd1djQjZFVlZESnh3L3FxQkZ3TUppWXlKNHlQajQ5RUFBa0RSU0UxZ21nRHFRUjVLMHExU0dDSVBMQklUTVVJS0xCbU5Fd0MwaUNXb3dXakVRQmg0SjFJOHBCcm9kakFlbUhaQ2JRWjVqNUlLQWcwUkRsOElRa1dqa2dBRHdOcEJBUUN0d0dhTVVnUUFqRjE0MUNPZ3crOEc0WkFZQnpXR3lGTXdhSlJDU0Job0NpazFZQ0tNZWNoZGdQcWhZbUZHUW0wRmdHRzBRZmFDZ3dGV1RtczRGQ1dCT1BoeUFUd01FQW5VaERBQm1kb04wQWc1aXowSVpEMUlNc0Q4b0dnd0NTZ0pTbjE0K2trV0R4Q0FTUU1nRUxxUkFvQ1NZTmtBOTJQdkJQb2pwaVdSUFZCZ1FKazRvdElzR1NVQWlBTUZJVzBHakFJb2cxMFBVb2s4QzFaRXBGaGFEN1FTQlFVR0EwUkNMb2xEWnVDaVpFS2tNS0FsaU1GQWJhanMyNkR0Qi9aRUdnM0JneWpEOUt0QU1lQ2xJbGFEdXNsV0RwYUFRSUtxUk14Q1BoTXdrY0N1cE5vTTg1SVlFTWdpZWpIRXZLQnR1T0FnaGVTWU5tSUJYQUZDSVVLQXVTaHBRR1dnMHdDWnFFTUFXQ0lVcUNuQWxrUWdnUjBNa0lnOExrQUswSjFDcGFQV2dBS0ErN0ZoRUs2a2pBSU9BL1ZCcmlUVkFKUmgwQVMwV0ZJKzRGV1F6bVg0R2lHazVGS1FHY3pQaGVVRXF3WXZRQ3FBRjNLRkFSY2pOMEdmaXBpRnFaT0lBc1NZR2lsUUZja1FVR2dvUWFDbHNOU2dwVU5FTUJRU0hjaUE4RnpiQkNId0dGWTZ3TUV3blFTckdxQ0FLSUF0VUlGUWNwRFpxR1VJaytEWWt2MklkQTlXYmJFdkJncERiVVc1RVpZM1FnQkZJVUZDS0lOU2hMbzVSeTF5R0dZVGdYQkIraUd3eVZZMHd3Qm9JQ2prQnVCNUtIdkJsa2EyQkRJbG94RVpCaHlLUkFmeU8yNFNrTnZSallGYTlldWJZZ0FwQURDZ0ZISUlPQmlyTFVRbFVDdkJERVF5eUd3VWlCNUVDSXhCa0pGZ25WTkVVRGlrSG94bzVBYkFVQ0F0eU5SUU82RnJvQStJS1VoWUJocU9mWThDQ2hRR25vdDhGQnNqZ0FaQ3RFSUpBK3JOdkR0UUlZQXRZaGhPTlFIZUVVWklrR0RCR0FGNk9GSVVTZ2cwRHg4N2hCd0xXSVlxZzhJQmR5TDRBTkRnZExRTTVHM0pHSkJrd1N3TU5CT3BDQ290NEdkeTZwRGtIeGdFdEN0QU1Vb0R3UjVUdHZRS0FFc0RCSUlVSXh4S2JKejRaSERkamVuWGlna2tGTkpHSUpxSG1CQlVCcDZKa0tDWmdrZ1ljQW81RTRrSU1CK3lBZFRYaEN6VnFTUDZSZ0NkR05PUklWaFhTUXFDblJENEpzUlNkQXdBVGdNNkNzQ2JvVzhITW1Hekx0QnFVQVJCeGdDcmtVQmh0S0x6QWRBUVU1RFNOQTRBVFFNR0lXOEhIa2U4c0gwK1VNUWZNQ2ZWVmd2c2xhZ0tQQkFJQW1hSjRDRkFUb1JHZ0VlVGdRRXVRMzBZQmhJRUlhQVlCZ2s0TThLOUhLcVh4YnN3TFZnYXdNRnlGR29JRWhIQWdXQnZ5SHFrdXdrQ0VNZ1IwT0x4Q2dCZldIRGo4cDBNR21pQUFVS0V3anFiS0N0Q0JkRHV4WXBERk1wS0ZxQjA1QWthS1FBcWdCUXFDQUllUmhzWUV1eVhFcDRDTkNORXd3clBrQTd4bWRXZkRxbEtXaW1BQllHUUNHV0k5NFBzKzNvZUZvT2hneUJOc1BnQTlzU3ZSaVJCRTBWSUVkaEFrR1ZoUnFJK1JBb0RHTXBxRU1CVFVGakJZQUNkQ0xRVG1RYk1uOUpFUFBRV0NqVm1FbUFleGt0U0FwRFdSSkRIcVFGZ1QrMjI5bGNBU1FNMEFxdEVhUXpDUnBCNm9YNmhTRXVKVWFDTkFSeUxMRmVCQjg0Q25ZMVdJQU1oUUVFNVJEWWNwQVBBWGZqS2d3TEh4QU5teXdBSzhDOW1EOHU1ZFZBTjJRK21nY2IyTFZNV2hFUEFiNDA1VGlnSVVocmN1cEZhTWZhQ25ZM1dnQ0VBWjhJWkQxRU1jN3lNSzFIR29qWWo0d0VhUWprVW1CNWdJYzBSY0dlaGdzUVVDakxFZTZsZURrSlEzQlVqOGI1RUlSYUpPY2lLd1h3Z2FKZ2I5TUZ5RkE0QkFTMkkwc2dsa05Rd05EeVFIMndyL0VDR0FxbEU4VU5XVUNRZXFFY1N0Q0tqQVE2QkRFUkN4L3NiNzRBQ1lVNEdBc0l1QmJXc2hDQldETUVBc05RQ3RRSEIxb2dBQlFRRk9xVnBBb0Nxd1JnNFpBaGtITVJTa0h5d2NFMkNDQmhJSzNRWGcyd0d1Z01vQlV4Q0lTRmxTSElFaEZEa0h6d1Zqc0VrRENRU3hrYUFYOUlVTEdCckVjU2lOeUtBZ21LUkV4NThIWkxCTkF3U0oyb3FrQjJLRUVnOG42a25ZQ0dnTjlQUUFJckJmREJPMjBSd01NZ0xVZHhCdnhjS0wwUWdWZ2RBcE9BMzVEd21FcFh3OVlJa0tGUW53L0ZCVEVOcEJJZ0VPTVE2SUxrNndHR0FENDQxQjRCUklHRXdwbzgxR1lNRmo1L0NDUVBXaVNBaHNGUUZKb05BZ3M1RUpVRTFTRVFIN1JLZ0lUQ1NpZEtDNkpVQWh4S09CQURDZmhVRW5aRThVRzdCSWdvMUEyNXlFTnR4bUNodDZJMEJONk5yUmwrMERJQlNoU1dJRkFiSkJaYUs5Sk9JSGZqQU1NUDJ5YUFvbEF2WlhnKzlCbHdHMGdsY0JibUpDaDgwRG9CVElHeUU0WHRTR3dBRm5vZ3BtS1lEOEhIN1JOZ1lMMllEOFlDZ3F3VzZzMDRzWkFEY2VnUWZOSkdBYW9vREFyb3VWQXFnYk9RVzFIdEVIemFTZ0dHb3RDUEJMSWdnb1V4RUxNNFFDSisxazRCSEFUUkJXRTNFQnNrRm5JZzFnL0I1eTBWd0JXb0JVRzBnYk5RVzFFeEJGKzBWUUR2eFZVRjdGYVdYbzhzRUd1RzRNdjJDa0JEOEhnS3p5WlpHUGlaSk5pQVdjaUJXRE1FWDdWWWdCb1VWdElBbGNCWnFJRVk0K0RyTmdzd0RRalVCdEtNVVFuWUJqVkQ4RTJyQlJpcWdOVkMyQUNWZ0ZuSWdWZ093YmZ0RnFCZUFjL0Q4SFRDTnRBaDRFRDBPOEYzTFJlZ3BoZnpwNFh4VmdZYm9CSUVGbm94L0w3MUFtUW96RllEcVlYeWhzbzJNQlpxSzVJaCtLSDlBdFRiWU5LZURXQURyd1RWSWVpQUFMVUtETEZCWUtHU29Bc0NWQlh3UTFHd2dWZUNGSWhNZ2s0SVVDaVFIcyswRmxac29JSElROUFOQVNnTTZIT2lTakd1cElHeE1BeEJWd1NvVTBEenNMQUI5MEpsSVMvSm5SR2dxb0NCUUdxaDI0QXJnYktRcTNGM0JDZ1VjQkNFVXVUTldIc2hWK01PQ1JBVUNJY2l6VU5zUnloRm5BWnFBOTZQdWlSQUhRcTFHQ2NiZURPVzVlQnd0d1FJUXlCWEV2blYwZVFWNUNIZTBka0djUWc2SmtDaGdJRkE4dEJ0d00xWVdYaTBhd0pFQmZ4VUZ2T1EwNEJ0b0pYZ1dPY0VjQVg0QzJOOU9SSVExTnJnZVBjRWdBSlpLMVFRSUE5TEc1em9vQUJsR0NnSUpBOVJDNE1OVG5aU0FMY0J1OEFlVUFVRW5JY3hEVTUxVTRDZ2dJRkFpbkhGQnFjN0tvQXBnQjliOEF6b3B4VEl3MmlETTEwVm9FU2hnS0JxZzdPZEZTQkhZU1VQTFEzT2RWZ0Fzd0VWZ2d3RW1RM09kMWtBVjhBNmtZQUFlV2hwY0tIVEFxZ0Mvb1FjUU1DMWtHMXdzZHNDNUNpTUlPQTg1RFM0MUhFQkJzL0N0VFJ1eUF3QzJLRHJBb1F3ME9Vb2dRQTI2TDRBaGtMclJBQUI5a1BZb0FjQzVDZ1VFS0FZd3daOUVDQkRZUUFCNStHVlhnaEFDdmpEa1hRaWdJQ0w4V1EvQkVnbzFFN2tJTGphRndGeUZDWVFYT3VOQUtLQXZwOG1FRnp2andBUmhRa0VOM29rUUVDaGRDSUd3YzArQ1pCNk1WQUlFTnpxbFFBV0JySWVBZ1MzZXlaQVJDRkFjS2R2QWdRVUFnUi85MDZBaEVJQlFmOEVjQlJpUGJ6YlF3RXlGTjdycFFBQmhmZjdLVUJDNFlPZUN1QW9mTmhYQVF5Rmozb3JnS0p3cXNjQ0NBajZMQUFyOEtUWEFqQUsreTBBb2JEbkFnd0cvd0Nicm5OTWhUME1EZ0FBQUFCSlJVNUVya0pnZ2c9PVwifSw3MzQxOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxvPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG49dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9bihyKDI1NzMpKSxhPXIoNzIzNiksYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpKXt2YXIgbz1lLmNhbGwodGhpcyx0LHIsaSl8fHRoaXM7cmV0dXJuIG8ud2lkdGg9cixvLmhlaWdodD1pLG8udHlwZT1cIkxpZ2h0U2hhZGVyXCIsby51TGlnaHRJbnRlbnNpdHk9bnVsbCxvLnVSZWRJbnRlbnNpdHk9bnVsbCxvLndoaXRlbkludGVuc2l0eT0uNSxvLnJvc3lJbnRlbnNpdHk9LjUsby5wcm9ncmFtPW8ubWFrZVByb2dyYW0oYS5saWdodFZTLGEubGlnaHRGUyksb31yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLnNldEVmZmVjdENvbmZpZz1mdW5jdGlvbihlKXtpc05hTihlLndoaXRlbkludGVuc2l0eSl8fCh0aGlzLndoaXRlbkludGVuc2l0eT1lLndoaXRlbkludGVuc2l0eS8xMDApLGlzTmFOKGUucm9zeUludGVuc2l0eSl8fCh0aGlzLnJvc3lJbnRlbnNpdHk9ZS5yb3N5SW50ZW5zaXR5LzEwMCl9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7ZS51bmlmb3JtMWYodGhpcy51TGlnaHRJbnRlbnNpdHksdGhpcy53aGl0ZW5JbnRlbnNpdHkpLGUudW5pZm9ybTFmKHRoaXMudVJlZEludGVuc2l0eSx0aGlzLnJvc3lJbnRlbnNpdHkpfSx0LnByb3RvdHlwZS5zZXRDb25zdFVuaWZvcm1zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9ncmFtO2lmKGUpe3ZhciB0PXRoaXMuZ2w7dC51c2VQcm9ncmFtKGUpLHRoaXMudUxpZ2h0SW50ZW5zaXR5PXQuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsXCJpbnRlbnNpdHlcIiksdC51bmlmb3JtMWYodGhpcy51TGlnaHRJbnRlbnNpdHksdGhpcy53aGl0ZW5JbnRlbnNpdHkpLHRoaXMudVJlZEludGVuc2l0eT10LmdldFVuaWZvcm1Mb2NhdGlvbihlLFwicm9zeUludGVuc2l0eVwiKSx0LnVuaWZvcm0xZih0aGlzLnVSZWRJbnRlbnNpdHksdGhpcy5yb3N5SW50ZW5zaXR5KTt2YXIgcj10LmdldFVuaWZvcm1Mb2NhdGlvbihlLFwidVBNVk1hdHJpeFwiKTt0LnVuaWZvcm1NYXRyaXg0ZnYociwhMSxbMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0pfX0sdH0ocy5kZWZhdWx0KTt0LmRlZmF1bHQ9Y30sMTY0MDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxuPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0scz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fSxhPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPWEocigyNTczKSksdT1yKDcyMzYpLGQ9cig4Njg4KSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGkpe3ZhciBvPWUuY2FsbCh0aGlzLHQscixpKXx8dGhpcztyZXR1cm4gby53aWR0aD1yLG8uaGVpZ2h0PWksby50eXBlPVwiTG93TGlnaHRTaGFkZXJcIixvLnVJbnRlbnNpdHk9bnVsbCxvLmxvd2xpZ2h0RW5oYW5jZW1lbnQ9ITEsby5sdXRUZXg9bnVsbCxvLmx1dEltZz1udWxsLG8ubHV0VGV4SWR4PTEwLG8udUx1dFRleD1udWxsLG8ucHJvZ3JhbT1vLm1ha2VQcm9ncmFtKHUubGlnaHRFbmhhbmNlVlMsdS5saWdodEVuaGFuY2VGUyksb31yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLnNldEVmZmVjdENvbmZpZz1mdW5jdGlvbihlKXt0aGlzLmxvd2xpZ2h0RW5oYW5jZW1lbnQ9MT09PWUubG93bGlnaHRFbmhhbmNlbWVudH0sdC5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuZ2wuZGVsZXRlVGV4dHVyZSh0aGlzLmx1dFRleCl9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7ZS51bmlmb3JtMWYodGhpcy51SW50ZW5zaXR5LHRoaXMubG93bGlnaHRFbmhhbmNlbWVudD8uNjowKTt2YXIgdD10aGlzLHI9dC5wcm9ncmFtLGk9dC53aWR0aCxvPXQuaGVpZ2h0LG49dC5sdXRUZXg7aWYocil7dmFyIHM9ZS5nZXRVbmlmb3JtTG9jYXRpb24ocixcInRleGVsV2lkdGhcIik7ZS51bmlmb3JtMWYocywxL2kpO3ZhciBhPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHIsXCJ0ZXhlbEhlaWdodFwiKTtlLnVuaWZvcm0xZihhLDEvbyksZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTArdGhpcy5sdXRUZXhJZHgpLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELG4pfX0sdC5wcm90b3R5cGUuc2V0Q29uc3RVbmlmb3Jtcz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LHIsaSxvLG4sYSxjLHUsbCxoPXRoaXM7cmV0dXJuIHModGhpcywoZnVuY3Rpb24ocyl7c3dpdGNoKHMubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0sdD1bMSwxLDEsMCwtLjM0NCwxLjc3MiwxLjQwMiwtLjcxNCwwXSxyPVsuMjk4OTczLC0uMTY4NzIxLC41MDAwMTksLjU4NzA2LC0uMzMxMjk4LC0uNDE4NzMsLjExMzk2NywuNTAwMDE5LC0uMDgxMjg5XSwoaT10aGlzLnByb2dyYW0pPygobz10aGlzLmdsKS51c2VQcm9ncmFtKGkpLHRoaXMudUludGVuc2l0eT1vLmdldFVuaWZvcm1Mb2NhdGlvbihpLFwidUludGVuc2l0eVwiKSxuPW8uZ2V0VW5pZm9ybUxvY2F0aW9uKGksXCJtYXRZVVZ0b1JHQlwiKSxvLnVuaWZvcm1NYXRyaXgzZnYobiwhMSx0KSxhPW8uZ2V0VW5pZm9ybUxvY2F0aW9uKGksXCJtYXRSR0J0b1lVVlwiKSxvLnVuaWZvcm1NYXRyaXgzZnYoYSwhMSxyKSxjPW8uZ2V0VW5pZm9ybUxvY2F0aW9uKGksXCJ1UE1WTWF0cml4XCIpLG8udW5pZm9ybU1hdHJpeDRmdihjLCExLGUpLHU9by5nZXRVbmlmb3JtTG9jYXRpb24oaSxcImlucHV0SW1hZ2VUZXh0dXJlMlwiKSxsPXRoaXMsWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3ZhciB0PW8uY3JlYXRlVGV4dHVyZSgpLHI9aC5sdXRUZXhJZHgsaT1oLmx1dEltZztpfHwoaT1uZXcgSW1hZ2UpO2kub25sb2FkPWZ1bmN0aW9uKCl7aC5sdXRJbWc9aSxvLmFjdGl2ZVRleHR1cmUoby5URVhUVVJFMCtyKSxvLmJpbmRUZXh0dXJlKG8uVEVYVFVSRV8yRCx0KSxvLnBpeGVsU3RvcmVpKG8uVU5QQUNLX0ZMSVBfWV9XRUJHTCwhMSksby50ZXhJbWFnZTJEKG8uVEVYVFVSRV8yRCwwLG8uTFVNSU5BTkNFLG8uTFVNSU5BTkNFLG8uVU5TSUdORURfQllURSxpKSxvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFXzJELG8uVEVYVFVSRV9XUkFQX1Msby5DTEFNUF9UT19FREdFKSxvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFXzJELG8uVEVYVFVSRV9XUkFQX1Qsby5DTEFNUF9UT19FREdFKSxvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFXzJELG8uVEVYVFVSRV9NSU5fRklMVEVSLG8uTkVBUkVTVCksby50ZXhQYXJhbWV0ZXJpKG8uVEVYVFVSRV8yRCxvLlRFWFRVUkVfTUFHX0ZJTFRFUixvLk5FQVJFU1QpLG8udW5pZm9ybTFpKHUsciksdCYmZSh0KX0saS5zcmM9ZC5saWdodEx1dH0pKV0pOlsyXTtjYXNlIDE6cmV0dXJuIGwubHV0VGV4PXMuc2VudCgpLFsyXX19KSl9KSl9LHR9KGMuZGVmYXVsdCk7dC5kZWZhdWx0PWx9LDcyMzY6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmxpZ2h0RW5oYW5jZUZTPXQubGlnaHRFbmhhbmNlVlM9dC5taXhCbHVyRlM9dC5taXhCbHVyVlM9dC5kaWZmQmx1ckZTPXQuZGlmZkJsdXJWUz10LmJvcmRlckJsdXJGUz10LmJvcmRlckJsdXJWUz10LnNoYXJwbmVzc0ZTPXQuc2hhcnBuZXNzVlM9dC5saWdodEZTPXQubGlnaHRWUz12b2lkIDAsdC5saWdodFZTPVwiY2VycHZmdmJhIHV2dHVjIHN5Ym5nO1xcbm5nZ2V2b2hnciBpcnAyIG5HcmtQYmJlcXZhbmdyO1xcbm5nZ2V2b2hnciBpcnA0IG5DYmZ2Z3ZiYTtcXG5oYXZzYmV6IHpuZzQgaENaSVpuZ2V2aztcXG5pbmVsdmF0IGlycDIgaUdya1BiYmVxO1xcbmlidnEgem52YSgpIHtcXG4gICAgdHlfQ2Jmdmd2YmEgPSBoQ1pJWm5nZXZrICogbkNiZnZndmJhO1xcbiAgICBpR3JrUGJiZXEgPSBuR3JrUGJiZXF2YW5ncjtcXG59XCIsdC5saWdodEZTPVwiY2VycHZmdmJhIHV2dHVjIHN5Ym5nO1xcbmluZWx2YXQgaXJwMiBpR3JrUGJiZXE7XFxuaGF2c2JleiBmbnpjeXJlMlEgaEdya2doZXI7XFxuaGF2c2JleiBzeWJuZyB2YWdyYWZ2Z2w7XFxuaGF2c2JleiBzeWJuZyBlYmZsVmFncmFmdmdsO1xcbmlycDMgb2V2dHVnYXJmZk5hcVBiYWdlbmZnKGlycDMgcGJ5YmUpe1xcbiAgc3libmcgdiA9IHZhZ3JhZnZnbCAqIDEuMDtcXG4gIHN5Ym5nIENWID0gMy4xNDE1OTI2O1xcbiAgc3libmcgTyA9IDAuMTIgKiB2O1xcbiAgc3libmcgcCA9IDAuMSAqIHY7XFxuICBzeWJuZyB4ID0gZ25hKCg0NS4gKyA0NC4gKiBwKSAvIDE4MC4wICogQ1YpO1xcbiAgcGJ5YmUgPSAoKHBieWJlKjI1NS4wIC0gMTI3LjUgKiAoMS4wIC0gTykpICogeCArIDEyNy41ICogKDEuMCArIE8pKSAvIDI1NS4wO1xcbiAgZXJnaGVhIHBieWJlO1xcbn1cXG5pYnZxIHpudmEoKSB7XFxuICBpcnA0IGdya2doZXJQYnliZSA9IGdya2doZXIyUShoR3JrZ2hlciwgaUdya1BiYmVxKTtcXG4gIGdya2doZXJQYnliZSA9IGlycDQob2V2dHVnYXJmZk5hcVBiYWdlbmZnKGdya2doZXJQYnliZS5ldG8pLCBncmtnaGVyUGJ5YmUuaik7XFxuICBncmtnaGVyUGJ5YmUuZSA9IHp2YShncmtnaGVyUGJ5YmUuZSArIDAuMDYgKiBlYmZsVmFncmFmdmdsLCAxLjApO1xcbiAgdHlfU2VudFBieWJlID0gZ3JrZ2hlclBieWJlO1xcbn1cIix0LnNoYXJwbmVzc1ZTPVwiXFxubmdnZXZvaGdyIGlycDQgbkNiZnZndmJhO1xcbm5nZ2V2b2hnciBpcnA0IG5HcmtQYmJlcXZhbmdyO1xcbmhhdnNiZXogc3libmcgdnpudHJKdnFndVNucGdiZTtcXG5oYXZzYmV6IHN5Ym5nIHZ6bnRyVXJ2dHVnU25wZ2JlO1xcbmhhdnNiZXogc3libmcgZnVuZWNhcmZmOyBcXG5pbmVsdmF0IGlycDIgaUdya1BiYmVxO1xcbmluZWx2YXQgaXJwMiB5cnNnR3JrZ2hlclBiYmVxdmFuZ3I7XFxuaW5lbHZhdCBpcnAyIGV2dHVnR3JrZ2hlclBiYmVxdmFuZ3I7XFxuaW5lbHZhdCBpcnAyIGdiY0dya2doZXJQYmJlcXZhbmdyO1xcbmluZWx2YXQgaXJwMiBvYmdnYnpHcmtnaGVyUGJiZXF2YW5ncjtcXG5pbmVsdmF0IHN5Ym5nIHByYWdyZVpoeWd2Y3l2cmU7XFxuaW5lbHZhdCBzeWJuZyBycXRyWmh5Z3ZjeXZyZTtcXG5pYnZxIHpudmEoKSB7XFxuICB0eV9DYmZ2Z3ZiYSA9IG5DYmZ2Z3ZiYTtcXG4gIGlycDIganZxZ3VGZ3JjID0gaXJwMih2em50ckp2cWd1U25wZ2JlLCAwLjApO1xcbiAgaXJwMiB1cnZ0dWdGZ3JjID0gaXJwMigwLjAsIHZ6bnRyVXJ2dHVnU25wZ2JlKTtcXG4gIGlHcmtQYmJlcSA9IG5HcmtQYmJlcXZhbmdyLmtsO1xcbiAgeXJzZ0dya2doZXJQYmJlcXZhbmdyID0gbkdya1BiYmVxdmFuZ3Iua2wgLSBqdnFndUZncmM7XFxuICBldnR1Z0dya2doZXJQYmJlcXZhbmdyID0gbkdya1BiYmVxdmFuZ3Iua2wgKyBqdnFndUZncmM7XFxuICBnYmNHcmtnaGVyUGJiZXF2YW5nciA9IG5HcmtQYmJlcXZhbmdyLmtsICsgdXJ2dHVnRmdyYztcXG4gIG9iZ2diekdya2doZXJQYmJlcXZhbmdyID0gbkdya1BiYmVxdmFuZ3Iua2wgLSB1cnZ0dWdGZ3JjO1xcbiAgcHJhZ3JlWmh5Z3ZjeXZyZSA9IDEuMCArIDQuMCAqIGZ1bmVjYXJmZjtcXG4gIHJxdHJaaHlndmN5dnJlID0gZnVuZWNhcmZmO1xcbn1cXG5cIix0LnNoYXJwbmVzc0ZTPVwiXFxuY2VycHZmdmJhIHV2dHVjIHN5Ym5nO1xcbmluZWx2YXQgdXZ0dWMgaXJwMiBpR3JrUGJiZXE7XFxuaW5lbHZhdCB1dnR1YyBpcnAyIHlyc2dHcmtnaGVyUGJiZXF2YW5ncjtcXG5pbmVsdmF0IHV2dHVjIGlycDIgZXZ0dWdHcmtnaGVyUGJiZXF2YW5ncjtcXG5pbmVsdmF0IHV2dHVjIGlycDIgZ2JjR3JrZ2hlclBiYmVxdmFuZ3I7XFxuaW5lbHZhdCB1dnR1YyBpcnAyIG9iZ2diekdya2doZXJQYmJlcXZhbmdyO1xcbmluZWx2YXQgdXZ0dWMgc3libmcgcHJhZ3JlWmh5Z3ZjeXZyZTtcXG5pbmVsdmF0IHV2dHVjIHN5Ym5nIHJxdHJaaHlndmN5dnJlO1xcbmhhdnNiZXogZm56Y3lyZTJRIGhHcmtnaGVyO1xcbmlidnEgem52YSgpIHtcXG4gIHpycXZoemMgaXJwNCBuUGJ5YmUgPSBncmtnaGVyMlEoaEdya2doZXIsIGlHcmtQYmJlcSk7XFxuICB6cnF2aHpjIGlycDMgZ3JrZ2hlclBieWJlID0gblBieWJlLmV0bztcXG4gIHpycXZoemMgaXJwMyB5cnNnR3JrZ2hlclBieWJlID0gZ3JrZ2hlcjJRKGhHcmtnaGVyLCB5cnNnR3JrZ2hlclBiYmVxdmFuZ3IpLmV0bztcXG4gIHpycXZoemMgaXJwMyBldnR1Z0dya2doZXJQYnliZSA9IGdya2doZXIyUShoR3JrZ2hlciwgZXZ0dWdHcmtnaGVyUGJiZXF2YW5ncikuZXRvO1xcbiAgenJxdmh6YyBpcnAzIGdiY0dya2doZXJQYnliZSA9IGdya2doZXIyUShoR3JrZ2hlciwgZ2JjR3JrZ2hlclBiYmVxdmFuZ3IpLmV0bztcXG4gIHpycXZoemMgaXJwMyBvYmdnYnpHcmtnaGVyUGJ5YmUgPSBncmtnaGVyMlEoaEdya2doZXIsIG9iZ2diekdya2doZXJQYmJlcXZhbmdyKS5ldG87XFxuICB0eV9TZW50UGJ5YmUgPSBpcnA0KChncmtnaGVyUGJ5YmUgKiBwcmFncmVaaHlndmN5dnJlIC0gKHlyc2dHcmtnaGVyUGJ5YmUgKiBycXRyWmh5Z3ZjeXZyZSArIGV2dHVnR3JrZ2hlclBieWJlICogcnF0clpoeWd2Y3l2cmUgKyBnYmNHcmtnaGVyUGJ5YmUgKiBycXRyWmh5Z3ZjeXZyZSArIG9iZ2diekdya2doZXJQYnliZSAqIHJxdHJaaHlndmN5dnJlKSksIG5QYnliZS5uKTtcXG59XCIsdC5ib3JkZXJCbHVyVlM9XCJuZ2dldm9oZ3IgaXJwNCBuQ2Jmdmd2YmE7XFxubmdnZXZvaGdyIGlycDQgbkdya1BiYmVxdmFuZ3I7XFxuaGF2c2JleiB1dnR1YyBzeWJuZyBncmtPeWhlSnZxZ3VCc3Nmcmc7XFxuaGF2c2JleiB1dnR1YyBzeWJuZyBncmtPeWhlVXJ2dHVnQnNzZnJnO1xcbmluZWx2YXQgaXJwMiBpX2dya3BiYmVxMDtcXG5pbmVsdmF0IGlycDQgZ3JrZ2hlckZ1dnNnXzE7XFxuaW5lbHZhdCBpcnA0IGdya2doZXJGdXZzZ18yO1xcbmluZWx2YXQgaXJwNCBncmtnaGVyRnV2c2dfMztcXG5pbmVsdmF0IGlycDQgZ3JrZ2hlckZ1dnNnXzQ7XFxuaWJ2cSB6bnZhKClcXG57XFxuICB0eV9DYmZ2Z3ZiYSA9IG5DYmZ2Z3ZiYTtcXG4gIGlfZ3JrcGJiZXEwID0gbkdya1BiYmVxdmFuZ3Iua2w7XFxuXFxuICBpcnAyIGZ2YXR5ckZncmNCc3NmcmcgPSBpcnAyKGdya095aGVKdnFndUJzc2ZyZywgZ3JrT3loZVVydnR1Z0Jzc2ZyZykqMi41O1xcblxcbiAgZ3JrZ2hlckZ1dnNnXzEgPSBpcnA0KG5HcmtQYmJlcXZhbmdyLmtsIC0gZnZhdHlyRmdyY0Jzc2ZyZywgbkdya1BiYmVxdmFuZ3Iua2wgKyBmdmF0eXJGZ3JjQnNzZnJnKTtcXG4gIGdya2doZXJGdXZzZ18yID0gaXJwNChuR3JrUGJiZXF2YW5nci5rbCAtIDIuMCAqIGZ2YXR5ckZncmNCc3NmcmcsIG5HcmtQYmJlcXZhbmdyLmtsICsgMi4wICogZnZhdHlyRmdyY0Jzc2ZyZyk7XFxuICBncmtnaGVyRnV2c2dfMyA9IGlycDQobkdya1BiYmVxdmFuZ3Iua2wgLSAzLjAgKiBmdmF0eXJGZ3JjQnNzZnJnLCBuR3JrUGJiZXF2YW5nci5rbCArIDMuMCAqIGZ2YXR5ckZncmNCc3NmcmcpO1xcbiAgZ3JrZ2hlckZ1dnNnXzQgPSBpcnA0KG5HcmtQYmJlcXZhbmdyLmtsIC0gNC4wICogZnZhdHlyRmdyY0Jzc2ZyZywgbkdya1BiYmVxdmFuZ3Iua2wgKyA0LjAgKiBmdmF0eXJGZ3JjQnNzZnJnKTtcXG59XCIsdC5ib3JkZXJCbHVyRlM9XCJjZXJwdmZ2YmEgenJxdmh6YyBzeWJuZztcXG5oYXZzYmV6IGZuemN5cmUyUSBoR3JrZ2hlcjtcXG5pbmVsdmF0IGlycDIgaV9ncmtwYmJlcTA7XFxuaW5lbHZhdCB1dnR1YyBpcnA0IGdya2doZXJGdXZzZ18xO1xcbmluZWx2YXQgdXZ0dWMgaXJwNCBncmtnaGVyRnV2c2dfMjtcXG5pbmVsdmF0IHV2dHVjIGlycDQgZ3JrZ2hlckZ1dnNnXzM7XFxuaW5lbHZhdCB1dnR1YyBpcnA0IGdya2doZXJGdXZzZ180O1xcbmlidnEgem52YShpYnZxKSB7IFxcbiAgenJxdmh6YyBpcnAzIGZoeiA9IGdya2doZXIyUShoR3JrZ2hlciwgaV9ncmtwYmJlcTApLmV0bztcXG4gIGZoeiArPSBncmtnaGVyMlEoaEdya2doZXIsIGdya2doZXJGdXZzZ18xLmtsKS5ldG87XFxuICBmaHogKz0gZ3JrZ2hlcjJRKGhHcmtnaGVyLCBncmtnaGVyRnV2c2dfMS5taikuZXRvO1xcbiAgZmh6ICs9IGdya2doZXIyUShoR3JrZ2hlciwgZ3JrZ2hlckZ1dnNnXzIua2wpLmV0bztcXG4gIGZoeiArPSBncmtnaGVyMlEoaEdya2doZXIsIGdya2doZXJGdXZzZ18yLm1qKS5ldG87XFxuICBmaHogKz0gZ3JrZ2hlcjJRKGhHcmtnaGVyLCBncmtnaGVyRnV2c2dfMy5rbCkuZXRvO1xcbiAgZmh6ICs9IGdya2doZXIyUShoR3JrZ2hlciwgZ3JrZ2hlckZ1dnNnXzMubWopLmV0bztcXG4gIGZoeiArPSBncmtnaGVyMlEoaEdya2doZXIsIGdya2doZXJGdXZzZ180LmtsKS5ldG87XFxuICBmaHogKz0gZ3JrZ2hlcjJRKGhHcmtnaGVyLCBncmtnaGVyRnV2c2dfNC5taikuZXRvO1xcbiAgdHlfU2VudFBieWJlID0gaXJwNChmaHogKiAwLjExMTEsIDEuMCk7IFxcbn1cIix0LmRpZmZCbHVyVlM9XCJuZ2dldm9oZ3IgaXJwNCBuQ2Jmdmd2YmE7XFxubmdnZXZvaGdyIGlycDQgbkdya1BiYmVxdmFuZ3I7XFxuaGF2c2JleiB6bmc0IGhDWklabmdldms7XFxuaW5lbHZhdCBpcnAyIGlfZ3JrcGJiZXEwO1xcbmlidnEgem52YSgpXFxue1xcbiAgLy8gdHlfQ2Jmdmd2YmEgPSBoQ1pJWm5nZXZrICogbkNiZnZndmJhO1xcbiAgdHlfQ2Jmdmd2YmEgPSBuQ2Jmdmd2YmE7XFxuICBpX2dya3BiYmVxMCA9IG5HcmtQYmJlcXZhbmdyLmtsO1xcbn1cIix0LmRpZmZCbHVyRlM9XCJjZXJwdmZ2YmEgenJxdmh6YyBzeWJuZztcXG5oYXZzYmV6IGZuemN5cmUyUSBoR3JrZ2hlcjtcXG5pbmVsdmF0IGlycDIgaV9ncmtwYmJlcTA7XFxuaGF2c2JleiBmbnpjeXJlMlEgb3loZUdya2doZXI7XFxuaWJ2cSB6bnZhKGlidnEpIHtcXG4gIGlycDQgdlBieWJlID0gZ3JrZ2hlcjJRKG95aGVHcmtnaGVyLCBpX2dya3BiYmVxMCk7XFxuICBpcnA0IHpybmFQYnliZSA9IGdya2doZXIyUShoR3JrZ2hlciwgaV9ncmtwYmJlcTApO1xcbiAgaXJwNCBxdnNzUGJ5YmUgPSB2UGJ5YmUgLSB6cm5hUGJ5YmU7XFxuICBxdnNzUGJ5YmUuZSA9IHp2YShxdnNzUGJ5YmUuZSAqIDUwLjAgKiBxdnNzUGJ5YmUuZSwgMS4wKTtcXG4gIHF2c3NQYnliZS50ID0genZhKHF2c3NQYnliZS50ICogNTAuMCAqIHF2c3NQYnliZS50LCAxLjApO1xcbiAgcXZzc1BieWJlLm8gPSB6dmEocXZzc1BieWJlLm8gKiA1MC4wICogcXZzc1BieWJlLm8sIDEuMCk7XFxuICB0eV9TZW50UGJ5YmUgPSBpcnA0KHF2c3NQYnliZS5ldG8sIDEuMCk7XFxufVwiLHQubWl4Qmx1clZTPVwiXFxubmdnZXZvaGdyIGlycDQgbkNiZnZndmJhO1xcbm5nZ2V2b2hnciBpcnA0IG5HcmtQYmJlcXZhbmdyO1xcbmluZWx2YXQgaXJwMiBpX2dya3BiYmVxMDtcXG5oYXZzYmV6IHN5Ym5nIGp2cWd1QnNzZnJnO1xcbmhhdnNiZXogc3libmcgdXJ2dHVnQnNzZnJnO1xcbmluZWx2YXQgaXJwMiBncmtnaGVyRnV2c2dfMTtcXG5pbmVsdmF0IGlycDIgZ3JrZ2hlckZ1dnNnXzI7XFxuaW5lbHZhdCBpcnAyIGdya2doZXJGdXZzZ18zO1xcbmluZWx2YXQgaXJwMiBncmtnaGVyRnV2c2dfNDtcXG5pYnZxIHpudmEoKVxcbntcXG4gIHR5X0NiZnZndmJhID0gbkNiZnZndmJhO1xcbiAgaV9ncmtwYmJlcTAgPSBuR3JrUGJiZXF2YW5nci5rbDtcXG4gIGdya2doZXJGdXZzZ18xID0gaXJwMihpX2dya3BiYmVxMCArIDAuNSAqIGlycDIoanZxZ3VCc3NmcmcsdXJ2dHVnQnNzZnJnKSk7XFxuICBncmtnaGVyRnV2c2dfMiA9IGlycDIoaV9ncmtwYmJlcTAgKyAwLjUgKiBpcnAyKC1qdnFndUJzc2ZyZywtdXJ2dHVnQnNzZnJnKSk7XFxuICBncmtnaGVyRnV2c2dfMyA9IGlycDIoaV9ncmtwYmJlcTAgKyAwLjUgKiBpcnAyKC1qdnFndUJzc2ZyZyx1cnZ0dWdCc3NmcmcpKTtcXG4gIGdya2doZXJGdXZzZ180ID0gaXJwMihpX2dya3BiYmVxMCArIDAuNSAqIGlycDIoanZxZ3VCc3NmcmcsLXVydnR1Z0Jzc2ZyZykpO1xcbn1cXG5cIix0Lm1peEJsdXJGUz1cIlxcbmNlcnB2ZnZiYSB6cnF2aHpjIHN5Ym5nO1xcbmhhdnNiZXogZm56Y3lyZTJRIGhHcmtnaGVyO1xcbmluZWx2YXQgaXJwMiBpX2dya3BiYmVxMDtcXG5oYXZzYmV6IGZuemN5cmUyUSBveWhlR3JrZ2hlcjtcXG5oYXZzYmV6IGZuemN5cmUyUSBveWhlUXZzc0dya2doZXI7XFxuaGF2c2JleiB5YmpjIHN5Ym5nIG95aGVOeWN1bjtcXG5pYnZxIHpudmEoaWJ2cSkge1xcbiAgeWJqYyBpcnA0IHZQYnliZSA9IGdya2doZXIyUShoR3JrZ2hlciwgaV9ncmtwYmJlcTApO1xcbiAgeWJqYyBpcnA0IHpybmFQYnliZSA9IGdya2doZXIyUShveWhlR3JrZ2hlciwgaV9ncmtwYmJlcTApO1xcbiAgeWJqYyBpcnA0IGluZVBieWJlID0gZ3JrZ2hlcjJRKG95aGVRdnNzR3JrZ2hlciwgaV9ncmtwYmJlcTApO1xcbiAgeWJqYyBzeWJuZyBueWN1biA9IG95aGVOeWN1biAqIDEuMDtcXG4gIHliamMgc3libmcgZ3VyZ24gPSAwLjE7XFxuICB6cnF2aHpjIHN5Ym5nIGMgPSBweW56YygoenZhKHZQYnliZS5lLCB6cm5hUGJ5YmUuZSAtIDAuMSkgLSAwLjIpICogNC4wLCAwLjAsIDEuMCk7XFxuICB6cnF2aHpjIHN5Ym5nIHpybmFJbmUgPSB6bmsoem5rKGluZVBieWJlLmUsIGluZVBieWJlLnQpLCBpbmVQYnliZS5vKTtcXG4gIHpycXZoemMgc3libmcgeFp2YSA9IDAuMTtcXG4gIHliamMgaXJwMyBlcmZoeWdQYnliZTtcXG4gIHhadmEgPSAoMS4wIC0genJuYUluZSAvICh6cm5hSW5lICsgZ3VyZ24pKSAqIGMgKiBueWN1bjtcXG4gIGVyZmh5Z1BieWJlID0genZrKHZQYnliZS5ldG8sIHpybmFQYnliZS5ldG8sIHhadmEpO1xcbiAgZXJmaHlnUGJ5YmUgPSB6dmsodlBieWJlLmV0bywgZXJmaHlnUGJ5YmUsIHp2YSgxLjAsbnljdW4pKTtcXG4gIHR5X1NlbnRQYnliZSA9IGlycDQoZXJmaHlnUGJ5YmUsMS4wKTtcXG59XCIsdC5saWdodEVuaGFuY2VWUz1cIlxcbm5nZ2V2b2hnciBpcnA0IG5DYmZ2Z3ZiYTtcXG5uZ2dldm9oZ3IgaXJwNCBuR3JrUGJiZXF2YW5ncjtcXG5oYXZzYmV6IHN5Ym5nIGdya3J5SnZxZ3U7XFxuaGF2c2JleiBzeWJuZyBncmtyeVVydnR1ZztcXG5pbmVsdmF0IGlycDIgZ3JrZ2hlclBiYmVxdmFuZ3JbOV07XFxuaW5lbHZhdCBpcnAyIGdya2doZXJQYmJlcXZhbmdyMjtcXG5oYXZzYmV6IHpuZzQgaENaSVpuZ2V2aztcXG5pYnZxIHpudmEoKXtcXG4gICAgdHlfQ2Jmdmd2YmEgPSBoQ1pJWm5nZXZrICogbkNiZnZndmJhO1xcbiAgICBncmtnaGVyUGJiZXF2YW5ncjIgPSBuR3JrUGJiZXF2YW5nci5rbDtcXG4gICAgZ3JrZ2hlclBiYmVxdmFuZ3JbMF0gPSBuR3JrUGJiZXF2YW5nci5rbDtcXG4gICAgaXJwMiBqdnFndUZncmMgPSBpcnAyKGdya3J5SnZxZ3UsIDAuMCk7XFxuICAgIGlycDIgdXJ2dHVnRmdyYyA9IGlycDIoMC4wLCBncmtyeVVydnR1Zyk7XFxuICAgIGlycDIganZxZ3VVcnZ0dWdGZ3JjID0gaXJwMihncmtyeUp2cWd1LCBncmtyeVVydnR1Zyk7XFxuICAgIGlycDIganZxZ3VBcnRuZ3ZpclVydnR1Z0ZncmMgPSBpcnAyKGdya3J5SnZxZ3UsIC1ncmtyeVVydnR1Zyk7XFxuICAgIFxcbiAgICBncmtnaGVyUGJiZXF2YW5nclswXSA9IG5HcmtQYmJlcXZhbmdyLmtsO1xcbiAgICBncmtnaGVyUGJiZXF2YW5nclsxXSA9IG5HcmtQYmJlcXZhbmdyLmtsIC0ganZxZ3VGZ3JjO1xcbiAgICBncmtnaGVyUGJiZXF2YW5nclsyXSA9IG5HcmtQYmJlcXZhbmdyLmtsICsganZxZ3VGZ3JjO1xcbiAgICBcXG4gICAgZ3JrZ2hlclBiYmVxdmFuZ3JbM10gPSBuR3JrUGJiZXF2YW5nci5rbCAtIHVydnR1Z0ZncmM7XFxuICAgIGdya2doZXJQYmJlcXZhbmdyWzRdID0gbkdya1BiYmVxdmFuZ3Iua2wgLSBqdnFndVVydnR1Z0ZncmM7XFxuICAgIGdya2doZXJQYmJlcXZhbmdyWzVdID0gbkdya1BiYmVxdmFuZ3Iua2wgKyBqdnFndUFydG5ndmlyVXJ2dHVnRmdyYztcXG4gICAgXFxuICAgIGdya2doZXJQYmJlcXZhbmdyWzZdID0gbkdya1BiYmVxdmFuZ3Iua2wgKyB1cnZ0dWdGZ3JjO1xcbiAgICBncmtnaGVyUGJiZXF2YW5ncls3XSA9IG5HcmtQYmJlcXZhbmdyLmtsIC0ganZxZ3VBcnRuZ3ZpclVydnR1Z0ZncmM7XFxuICAgIGdya2doZXJQYmJlcXZhbmdyWzhdID0gbkdya1BiYmVxdmFuZ3Iua2wgKyBqdnFndVVydnR1Z0ZncmM7XFxufVxcblwiLHQubGlnaHRFbmhhbmNlRlM9XCJjZXJwdmZ2YmEgdXZ0dWMgc3libmc7XFxuaW5lbHZhdCB1dnR1YyBpcnAyIGdya2doZXJQYmJlcXZhbmdyWzldO1xcbmluZWx2YXQgdXZ0dWMgaXJwMiBncmtnaGVyUGJiZXF2YW5ncjI7XFxuaGF2c2JleiBmbnpjeXJlMlEgaEdya2doZXI7XFxuaGF2c2JleiBmbnpjeXJlMlEgdmFjaGdWem50ckdya2doZXIyO1xcbmhhdnNiZXogdXZ0dWMgem5nMyB6bmdMSElnYkVUTztcXG5oYXZzYmV6IHV2dHVjIHpuZzMgem5nRVRPZ2JMSEk7XFxuaGF2c2JleiBzeWJuZyBoVmFncmFmdmdsO1xcbnBiYWZnIGlycDMgcGJ6Y0lycCA9IGlycDMoLTAuMC8yNTUuMCwgLTEyOC4wLzI1NS4wLCAtMTI4LjAvMjU1LjApO1xcbmlycDQgZXRvMmxoaShpcnA0IHZhY2hnRVRPKSB7XFxuICAgIGlycDMgYmhnY2hnTEhJO1xcbiAgICBiaGdjaGdMSEkgPSB6bmdFVE9nYkxISSAqIHZhY2hnRVRPLmV0bztcXG4gICAgYmhnY2hnTEhJIC09IHBiemNJcnA7XFxuICAgIGVyZ2hlYSBpcnA0KHB5bnpjKGJoZ2NoZ0xISSxcXG4gICAgICAgICAgICAgICAgICAgICAgICBpcnAzKDAuMCwgMC4wLCAwLjApLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlycDMoMS4wLCAxLjAsIDEuMCkpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhY2hnRVRPLm4pO1xcbn1cXG5pcnAyIGZuZ2hlbmd2YmEoaXJwMiBiZXQsIHN5Ym5nIHNucGdiZSkge1xcbiAgICBpcnAyIHpicSA9IGlycDIoKGJldC5rIC0gMTI4LjAvMjU1LjApICogc25wZ2JlICsgMTI4LjAvMjU1LjAsXFxuICAgICAgICAgICAgICAgICAgICAoYmV0LmwgLSAxMjguMC8yNTUuMCkgKiBzbnBnYmUgKyAxMjguMC8yNTUuMCk7XFxuICAgIGVyZ2hlYSBweW56Yyh6YnEsIGlycDIoMC4wLCAwLjApLCBpcnAyKDEuMCwgMS4wKSk7XFxufVxcbmlycDQgbGhpMmV0byhpcnA0IHZhY2hnTEhJKSB7XFxuICAgIGlycDMgYmhnY2hnRVRPO1xcbiAgICB2YWNoZ0xISS5ldG8gKz0gcGJ6Y0lycDtcXG4gICAgYmhnY2hnRVRPID0gem5nTEhJZ2JFVE8gKiB2YWNoZ0xISS5ldG87XFxuICAgIGVyZ2hlYSBpcnA0KHB5bnpjKGJoZ2NoZ0VUTyxcXG4gICAgICAgICAgICAgICAgICAgICAgICBpcnAzKDAuMCwgMC4wLCAwLjApLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlycDMoMS4wLCAxLjAsIDEuMCkpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhY2hnTEhJLm4pO1xcbn1cXG5pYnZxIHpudmEoKXtcXG4gICAgaXJwNCBsaGlbOV07XFxuICAgIHNiZSh2YWcgdiA9IDA7IHYgPCA5OyB2Kyspe1xcbiAgICAgICAgbGhpW3ZdID0gZXRvMmxoaShncmtnaGVyMlEoaEdya2doZXIsIGdya2doZXJQYmJlcXZhbmdyW3ZdKSk7XFxuICAgIH1cXG4gICAgc3libmcgZnpiYmd1TCA9IDAuMDtcXG4gICAgZnpiYmd1TCArPSAxLjAqbGhpWzRdLmUgKyAyLjAqbGhpWzNdLmUgKyAxLjAqbGhpWzVdLmU7XFxuICAgIGZ6YmJndUwgKz0gMi4wKmxoaVsxXS5lICsgNC4wKmxoaVswXS5lICsgMi4wKmxoaVsyXS5lO1xcbiAgICBmemJiZ3VMICs9IDEuMCpsaGlbN10uZSArIDIuMCpsaGlbNl0uZSArIDEuMCpsaGlbOF0uZTtcXG4gICAgZnpiYmd1TCA9IGZ6YmJndUwgLyAxNi4wO1xcbiAgICBzeWJuZyBiaGdjaGdMID0gZ3JrZ2hlcjJRKHZhY2hnVnpudHJHcmtnaGVyMiwgaXJwMihmemJiZ3VMLCBsaGlbMF0uZSkpLmU7XFxuICAgIGlycDMgYXJqTEhJID0gaXJwMyh6dmsoZnpiYmd1TCwgYmhnY2hnTCwgaFZhZ3JhZnZnbCksIGxoaVswXS50byk7XFxuICAgIHR5X1NlbnRQYnliZSA9IGxoaTJldG8oaXJwNChhcmpMSEkuZXRvLCBsaGlbMF0ubikpO1xcbn1cXG5cIn0sODg0MTpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4ocigyNTczKSksYT1yKDcyMzYpLGM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSl7dmFyIG89ZS5jYWxsKHRoaXMsdCxyLGkpfHx0aGlzO3JldHVybiBvLndpZHRoPXIsby5oZWlnaHQ9aSxvLnR5cGU9XCJTaGFycG5lc3NTaGFkZXJcIixvLnVJbnRlbnNpdHk9bnVsbCxvLnNoYXJwZW5JbnRlbnNpdHk9LjUsby5wcm9ncmFtPW8ubWFrZVByb2dyYW0oYS5zaGFycG5lc3NWUyxhLnNoYXJwbmVzc0ZTKSxvfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuc2V0RWZmZWN0Q29uZmlnPWZ1bmN0aW9uKGUpe2lzTmFOKGUuc2hhcnBlbkludGVuc2l0eSl8fCh0aGlzLnNoYXJwZW5JbnRlbnNpdHk9ZS5zaGFycGVuSW50ZW5zaXR5LzEwMCl9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3RoaXMuZ2wudW5pZm9ybTFmKHRoaXMudUludGVuc2l0eSwuNSp0aGlzLnNoYXJwZW5JbnRlbnNpdHkpfSx0LnByb3RvdHlwZS5yZXNldFJlc29sdXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLndpZHRoPWV8fHRoaXMud2lkdGgsdGhpcy5oZWlnaHQ9dHx8dGhpcy5oZWlnaHQsdGhpcy5zZXRDb25zdFVuaWZvcm1zKCl9LHQucHJvdG90eXBlLnNldENvbnN0VW5pZm9ybXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndpZHRoLHQ9dGhpcy5oZWlnaHQscj10aGlzLnByb2dyYW07aWYocil7dmFyIGk9dGhpcy5nbDtpLnVzZVByb2dyYW0ocik7dmFyIG89aS5nZXRVbmlmb3JtTG9jYXRpb24ocixcImltYWdlV2lkdGhGYWN0b3JcIik7aS51bmlmb3JtMWYobywxL2UpO3ZhciBuPWkuZ2V0VW5pZm9ybUxvY2F0aW9uKHIsXCJpbWFnZUhlaWdodEZhY3RvclwiKTtpLnVuaWZvcm0xZihuLDEvdCksdGhpcy51SW50ZW5zaXR5PWkuZ2V0VW5pZm9ybUxvY2F0aW9uKHIsXCJzaGFycG5lc3NcIiksaS51bmlmb3JtMWYodGhpcy51SW50ZW5zaXR5LC41KnRoaXMuc2hhcnBlbkludGVuc2l0eSl9fSx0fShzLmRlZmF1bHQpO3QuZGVmYXVsdD1jfSw0MzQ6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fSxuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVD12b2lkIDA7dmFyIHM9bihyKDEwMikpLGE9bihyKDc4OTUpKSxjPXIoMzc4OCksdT1jLmVycm9yQ29kZUxpc3QuVklERU9fVFJBQ0tfTk9UX1JFQURBQkxFLGQ9Yy5lcnJvckNvZGVMaXN0LlZJREVPX1RSQUNLX09WRVJMT0FELGw9e2Vycm9yQ29kZTp1LmNvZGUsZXh0ZW5kZWREYXRhOnUubWVzc2FnZX0saD17ZXJyb3JDb2RlOmQuY29kZSxleHRlbmRlZERhdGE6ZC5tZXNzYWdlfTt0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1Q9XCJ6Yy5wLjAuc2JlLjFcIjt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgcj10aGlzO3RoaXMubG9nZ2VyPWUsdGhpcy5raW5kPVwidmlkZW9cIix0aGlzLl9lbmFibGVkPSExLHRoaXMubGFzdFJlbmRlclRpbWU9MCx0aGlzLnN0YXRlRmxhZz17YmFzZTohMSxsb3dMaWdodDohMX0sdGhpcy5pc1N0YXJ0aW5nPSExLHRoaXMuYW5pbWF0aW9uRnJhbWVJZD0wLHRoaXMuYmFja2dyb3VuZExvb3A9bnVsbCx0aGlzLmV2ZW50SGFuZGxlcj17dmlzaWJpbGl0eWNoYW5nZTpmdW5jdGlvbigpe2lmKGRvY3VtZW50LmhpZGRlbil7dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gaShyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5iYWNrZ3JvdW5kTG9vcD13aW5kb3cuc2V0VGltZW91dChlLE1hdGguZmxvb3IoMWUzL3RoaXMuZnBzKSksIWRvY3VtZW50LmhpZGRlbiYmdGhpcy5iYWNrZ3JvdW5kTG9vcD8oY2xlYXJUaW1lb3V0KHRoaXMuYmFja2dyb3VuZExvb3ApLHRoaXMuYmFja2dyb3VuZExvb3A9bnVsbCxbMl0pOls0LHRoaXMucmVuZGVyQUZyYW1lKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pKX0pKX07ZSgpfWVsc2Ugci5iYWNrZ3JvdW5kTG9vcCYmKGNsZWFyVGltZW91dChyLmJhY2tncm91bmRMb29wKSxyLmJhY2tncm91bmRMb29wPW51bGwpfX0sdGhpcy5zZXRJbnB1dCh0LCEwKSx0aGlzLmZwcz0xNSx0aGlzLmRldGVjdG9yPW5ldyBzLmRlZmF1bHQoZSksdGhpcy5iYWNrZ3JvdW5kTG9vcCYmY2xlYXJUaW1lb3V0KHRoaXMuYmFja2dyb3VuZExvb3ApLHRoaXMuYmFja2dyb3VuZExvb3A9bnVsbCx0aGlzLmxhc3RSZW5kZXJUaW1lPTAsdGhpcy5tYW5hZ2VyPW5ldyBhLmRlZmF1bHQoZSksdGhpcy5tYW5hZ2VyLm9uUmVuZGVyRXJyb3I9ZnVuY3Rpb24oZSl7MTEwMzA3Mj09PWUuZXJyb3JDb2RlJiZyLnN0b3BFZmZlY3QoKSxyLm9uRXJyb3IoZSl9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJlbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZW5hYmxlZD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm91dHB1dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3V0cHV0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9wdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuYWdlci5lZmZlY3RDb25maWd8fHt9fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldEJlYXV0eUVmZmVjdE9wdGlvbnM9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9e30pLGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGUmJnRoaXMubWFuYWdlci5zZXRFZmZlY3RDb25maWcociksdGhpcy5lbmFibGVkPT09ZT9bMyw2XToodGhpcy5tYW5hZ2VyLnNldEVuYWJsZUJlYXV0eShlKSx0aGlzLmVuYWJsZWQhPT1lJiZ0aGlzLmxvZ2dlci5pbmZvKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiBlZmZlY3QgZW5hYmxlZCBcIitlK1wiOyBvcHRpb25zOiBcIitKU09OLnN0cmluZ2lmeShyKSksdGhpcy5lbmFibGVkPWUsZT8oaT10aGlzLmlucHV0KT9bNCx0aGlzLnN0YXJ0RWZmZWN0KCldOlszLDJdOlszLDNdKTtjYXNlIDE6aT1vLnNlbnQoKSxvLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBpLFszLDVdO2Nhc2UgMzpyZXR1cm5bNCx0aGlzLnN0b3BFZmZlY3QoKV07Y2FzZSA0Om8uc2VudCgpLG8ubGFiZWw9NTtjYXNlIDU6by5sYWJlbD02O2Nhc2UgNjpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5zdGFydEVmZmVjdD1mdW5jdGlvbigpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxyLG49dGhpcztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmlzU3RhcnRpbmc9ITAsdGhpcy5sb2dnZXIuaW5mbyh0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgY2FsbCBzdGFydCBlZmZlY3RcIiksdGhpcy5pbnB1dD90aGlzLmlucHV0JiZ0aGlzLm91dHB1dCYmdGhpcy5pbnB1dCE9PXRoaXMub3V0cHV0Pyh0aGlzLmxvZ2dlci53YXJuKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiB2aWRlbyBlZmZlY3QgaXMgYWxyZWFkeSBlbmFibGVkXCIpLFsyXSk6WzQsdGhpcy5zdGFydFdlYkdMUHJvY2Vzc29yKCkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IG4uc3RvcEVmZmVjdCgpLGV9KSldOih0aGlzLmxvZ2dlci5lcnJvcih0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgc3RhcnQgZWZmZWN0IGZhaWxlZCwgaW5wdXQgdHJhY2sgaXMgbnVsbFwiKSxbMl0pO2Nhc2UgMTpyZXR1cm4gZT1zLnNlbnQoKSxbNCx0aGlzLnVwZGF0ZU91dHB1dChlKV07Y2FzZSAyOnJldHVybiBzLnNlbnQoKSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5sb2dnZXIuaW5mbyh0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgc3RhcnQgZWZmZWN0IHN1Y2Nlc3NcIiksdGhpcy5kZXRlY3Rvci5zdGFydFJlY29yZEJlYXV0eUVmZmVjdE91dHB1dCh0aGlzLmZwcykudGhlbigoZnVuY3Rpb24oZSl7IWUucmVzdWx0JiZuLm9uRXJyb3ImJm4ub25FcnJvcihoLHt0YXJnZXRGUFM6ZS50YXJnZXRGUFMsY3VycmVudEZQUzplLmN1cnJlbnRGUFN9KX0pKSxyPWZ1bmN0aW9uKCl7cmV0dXJuIGkobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuZW5hYmxlZCYmKHRoaXMuYW5pbWF0aW9uRnJhbWVJZD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocikpLFs0LHRoaXMucmVuZGVyQUZyYW1lKCldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksWzJdfX0pKX0pKX0sdGhpcy5hbmltYXRpb25GcmFtZUlkPXJlcXVlc3RBbmltYXRpb25GcmFtZShyKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuZXZlbnRIYW5kbGVyLnZpc2liaWxpdHljaGFuZ2UsITEpLHRoaXMuaXNTdGFydGluZz0hMSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5yZW5kZXJBRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsdCxyO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9RGF0ZS5ub3coKSx0PTFlMy90aGlzLmZwcywocj10aGlzLmxhc3RSZW5kZXJUaW1lP2UtdGhpcy5sYXN0UmVuZGVyVGltZTp0KT49dD8odGhpcy5sYXN0UmVuZGVyVGltZT1lLShyLXQpLHRoaXMudmlkZW9FbCYmdGhpcy52aWRlb0VsLnBhdXNlZCYmdGhpcy52aWRlb0VsLnBsYXkoKSx0aGlzLmVuYWJsZWQmJnRoaXMudmlkZW9FbD90aGlzLnZpZGVvRWwudmlkZW9XaWR0aD42JiZ0aGlzLnZpZGVvRWwudmlkZW9IZWlnaHQ+Nj9bNCx0aGlzLm1hbmFnZXIucmVuZGVyKHRoaXMudmlkZW9FbCldOlszLDJdOlszLDNdKTpbMywzXTtjYXNlIDE6aS5zZW50KCksaS5sYWJlbD0yO2Nhc2UgMjp0aGlzLm91dHB1dCYmdGhpcy5vdXRwdXQucmVxdWVzdEZyYW1lJiZ0aGlzLm91dHB1dC5yZXF1ZXN0RnJhbWUoKSx0aGlzLmRldGVjdG9yLmFkZEZyYW1lKCksaS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5zdG9wRWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5lbmFibGVkPSExLHRoaXMubG9nZ2VyLmluZm8odC5QVUJMSVNIX1NFVF9CRUFVVFlfRUZGRUNUK1wiIGNhbGwgc3RvcCBlZmZlY3RcIiksdGhpcy5hbmltYXRpb25GcmFtZUlkJiYoY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25GcmFtZUlkKSx0aGlzLmFuaW1hdGlvbkZyYW1lSWQ9MCksdGhpcy5kZXRlY3Rvci5zdG9wUmVjb3JkQmVhdXR5RWZmZWN0T3V0cHV0KCksdGhpcy5tYW5hZ2VyLnJlbGVhc2UoKSxbNCx0aGlzLnVwZGF0ZU91dHB1dCgpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLHZvaWQgMD09PXRoaXMucmVtb3ZlRG9tVGltZXImJih0aGlzLnJlbW92ZURvbVRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpeyExPT09ZS5lbmFibGVkJiZlLmRlc3Ryb3koKX0pLDE4ZTQpKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuZXZlbnRIYW5kbGVyLnZpc2liaWxpdHljaGFuZ2UpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5pbmZvKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiBkZXN0cm95IGhpZGRlbiBlbGVtZW50c1wiKSx0aGlzLmNhbnZhc0VsJiZ0aGlzLmNhbnZhc0VsLnJlbW92ZSgpLHRoaXMudmlkZW9FbCYmdGhpcy52aWRlb0VsLnJlbW92ZSgpLHRoaXMudmlkZW9FbD10aGlzLmNhbnZhc0VsPXZvaWQgMCx0aGlzLnJlbW92ZURvbVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMucmVtb3ZlRG9tVGltZXIpLHRoaXMucmVtb3ZlRG9tVGltZXI9dm9pZCAwKX0sZS5wcm90b3R5cGUuc3RhcnRXZWJHTFByb2Nlc3Nvcj1mdW5jdGlvbigpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxyLGksbixzPXRoaXM7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pbnB1dD8odGhpcy5sb2dnZXIuaW5mbyh0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgc3RhcnQgd2ViZ2wgcHJvY2Vzc29yXCIpLHRoaXMucmVtb3ZlRG9tVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5yZW1vdmVEb21UaW1lciksdGhpcy5yZW1vdmVEb21UaW1lcj12b2lkIDApLHRoaXMuY2FudmFzRWwmJnRoaXMudmlkZW9FbD9bMywyXToodGhpcy5sb2dnZXIuaW5mbyh0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgY3JlYXRlIGVsZW1lbnRzXCIpLHRoaXMuY2FudmFzRWwmJih0aGlzLmNhbnZhc0VsLnJlbW92ZSgpLHRoaXMuY2FudmFzRWw9dm9pZCAwKSx0aGlzLnZpZGVvRWwmJih0aGlzLnZpZGVvRWwucmVtb3ZlKCksdGhpcy52aWRlb0VsPXZvaWQgMCksdGhpcy5jYW52YXNFbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMudmlkZW9FbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdGhpcy52aWRlb0VsLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksdGhpcy52aWRlb0VsLnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksdGhpcy52aWRlb0VsLm11dGVkPSEwLHRoaXMudmlkZW9FbC5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLHRoaXMudmlkZW9FbC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTpub25lXCIpLGU9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUscil7dmFyIGk9bnVsbCxvPWZ1bmN0aW9uKCl7aSYmY2xlYXJUaW1lb3V0KGkpLHMudmlkZW9FbCYmcy52aWRlb0VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsbyksZSh2b2lkIDApfTtzLnZpZGVvRWwmJnMudmlkZW9FbC5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLG8pLGk9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cy5sb2dnZXIud2Fybih0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIgdmlkZW8gdHJhY2sgZXJyb3JcIikscihsKX0pLDFlMyl9KSksdGhpcy52aWRlb0VsLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMuaW5wdXRdKSx0aGlzLnZpZGVvRWwucGxheSgpLFs0LGVdKSk6KHRoaXMubG9nZ2VyLmVycm9yKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiBpbnB1dCB0cmFjayBpcyBudWxsXCIpLFsyXSk7Y2FzZSAxOm8uc2VudCgpLG8ubGFiZWw9MjtjYXNlIDI6aWYocj10aGlzLmlucHV0LmdldFNldHRpbmdzKCksaT1yLndpZHRofHx0aGlzLnZpZGVvRWwudmlkZW9XaWR0aCxuPXIuaGVpZ2h0fHx0aGlzLnZpZGVvRWwudmlkZW9IZWlnaHQsci5mcmFtZVJhdGUmJnRoaXMuZnBzIT09ci5mcmFtZVJhdGUmJih0aGlzLmZwcz1yLmZyYW1lUmF0ZSx0aGlzLmxvZ2dlci5pbmZvKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiBzZXQgdGFyZ2V0IGZwczogXCIrdGhpcy5mcHMpKSx0aGlzLmxvZ2dlci5pbmZvKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiBiZWF1dHkgdmlkZW8gcHJvY2Vzc29yOiB3aWR0aCBcIityLndpZHRoK1wiIGhlaWdodCBcIityLmhlaWdodCksIWl8fCFuKXRocm93IHRoaXMubG9nZ2VyLmVycm9yKHQuUFVCTElTSF9TRVRfQkVBVVRZX0VGRkVDVCtcIiByZXNvbHV0aW9uIG9mIHRyYWNrIGlzIHdyb25nXCIpLGw7cmV0dXJuIHRoaXMuY2FudmFzRWwud2lkdGg9aSx0aGlzLmNhbnZhc0VsLmhlaWdodD1uLHRoaXMudmlkZW9FbC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGkudG9TdHJpbmcoKSksdGhpcy52aWRlb0VsLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLG4udG9TdHJpbmcoKSksdGhpcy5tYW5hZ2VyLmluaXQoaSxuLHRoaXMuY2FudmFzRWwpLFsyLHRoaXMuY2FudmFzRWwuY2FwdHVyZVN0cmVhbSgpLmdldFZpZGVvVHJhY2tzKClbMF1dfX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0SW5wdXQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITEpLGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG47cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT09PXRoaXMuaW5wdXQ/WzMsNl06ZS5raW5kIT09dGhpcy5raW5kPyh0aGlzLmxvZ2dlci5lcnJvcih0LlBVQkxJU0hfU0VUX0JFQVVUWV9FRkZFQ1QrXCIga2luZCBvZiB0cmFjayBpcyBub3QgdmlkZW9cIiksWzJdKToodGhpcy5vdXRwdXQmJnRoaXMuaW5wdXQ9PT10aGlzLm91dHB1dCYmdGhpcy5sb2dnZXIuZXJyb3IodC5QVUJMSVNIX1NFVF9CRUFVVFlfRUZGRUNUK1wiIGlucHV0IHRyYWNrIGlzIHNhbWUgYXMgZWZmZWN0IHRyYWNrXCIpLHRoaXMubG9nZ2VyLmluZm8odC5QVUJMSVNIX1NFVF9CRUFVVFlfRUZGRUNUK1wiIGNoYW5nZSBpbnB1dCB0cmFja1wiKSxyP3RoaXMuaW5wdXQ/WzQsdGhpcy5yZW1vdmVJbnB1dCgpXTpbMywyXTpbMyw1XSk7Y2FzZSAxOm8uc2VudCgpLG8ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHRoaXMuaW5wdXQ9ZSx0aGlzLmVuYWJsZWQmJiF0aGlzLnZpZGVvRWw/WzQsdGhpcy5zdGFydEVmZmVjdCgpXTpbMyw0XTtjYXNlIDM6by5zZW50KCksby5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMyw2XTtjYXNlIDU6dGhpcy5pbnB1dD1lLChpPXRoaXMudmlkZW9FbCkmJihpLnNyY09iamVjdD8oKG49aS5zcmNPYmplY3QpLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLnJlbW92ZVRyYWNrKGUpfSkpLG4uYWRkVHJhY2sodGhpcy5pbnB1dCkpOmkuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbdGhpcy5pbnB1dF0pLGkucGxheSgpKSxvLmxhYmVsPTY7Y2FzZSA2OnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZUlucHV0PWZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuaW5wdXQ9dm9pZCAwLFs0LHRoaXMuc3RvcEVmZmVjdCgpXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLnVwZGF0ZU91dHB1dD1mdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5vdXRwdXQ9PT1lP1szLDNdOih0aGlzLl9vdXRwdXQ9ZSx0aGlzLm9uT3V0cHV0Q2hhbmdlP1s0LHRoaXMub25PdXRwdXRDaGFuZ2UodGhpcy5fb3V0cHV0KV06WzMsMl0pO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUub25PdXRwdXRDaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pKX0pKX0sZS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlLHQpe30sZX0oKTt0LmRlZmF1bHQ9cH0sNjkyMDpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQXVkaW9Ob2RlUXVldWU9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuc291cmNlPWUsdGhpcy5kZXN0aW5hdGlvbj10LHRoaXMuYXVkaW9Ob2RlTGlzdD1bXSx0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb24pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsYXN0Tm9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/bnVsbDp0aGlzLmF1ZGlvTm9kZUxpc3RbdGhpcy5hdWRpb05vZGVMaXN0Lmxlbmd0aC0xXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWNvbmRUb0xhc3ROb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF1ZGlvTm9kZUxpc3QubGVuZ3RoPDI/bnVsbDp0aGlzLmF1ZGlvTm9kZUxpc3RbdGhpcy5hdWRpb05vZGVMaXN0Lmxlbmd0aC0yXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJmaXJzdE5vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP251bGw6dGhpcy5hdWRpb05vZGVMaXN0WzBdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNlY29uZE5vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXVkaW9Ob2RlTGlzdC5sZW5ndGg8Mj9udWxsOnRoaXMuYXVkaW9Ob2RlTGlzdFsxXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wdXNoQmFjaz1mdW5jdGlvbihlKXt0aGlzLmxhc3ROb2RlPyh0aGlzLmxhc3ROb2RlLmRpc2Nvbm5lY3QoKSx0aGlzLmxhc3ROb2RlLmNvbm5lY3QoZSksZS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb24pKToodGhpcy5zb3VyY2UuZGlzY29ubmVjdCgpLHRoaXMuc291cmNlLmNvbm5lY3QoZSksZS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb24pKSx0aGlzLmF1ZGlvTm9kZUxpc3QucHVzaChlKX0sZS5wcm90b3R5cGUucG9wQmFjaz1mdW5jdGlvbigpe3RoaXMubGFzdE5vZGUmJih0aGlzLmxhc3ROb2RlLmRpc2Nvbm5lY3QoKSx0aGlzLnNlY29uZFRvTGFzdE5vZGU/KHRoaXMuc2Vjb25kVG9MYXN0Tm9kZS5kaXNjb25uZWN0KCksdGhpcy5zZWNvbmRUb0xhc3ROb2RlLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbikpOih0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCksdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uKSkpLHRoaXMuYXVkaW9Ob2RlTGlzdC5wb3AoKX0sZS5wcm90b3R5cGUucHVzaEZyb250PWZ1bmN0aW9uKGUpe3RoaXMuc291cmNlLmRpc2Nvbm5lY3QoKSx0aGlzLnNvdXJjZS5jb25uZWN0KGUpLGUuY29ubmVjdCh0aGlzLmZpcnN0Tm9kZT90aGlzLmZpcnN0Tm9kZTp0aGlzLmRlc3RpbmF0aW9uKSx0aGlzLmF1ZGlvTm9kZUxpc3QudW5zaGlmdChlKX0sZS5wcm90b3R5cGUucG9wRnJvbnQ9ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCksdGhpcy5maXJzdE5vZGUmJih0aGlzLmZpcnN0Tm9kZS5kaXNjb25uZWN0KCksdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLnNlY29uZE5vZGU/dGhpcy5zZWNvbmROb2RlOnRoaXMuZGVzdGluYXRpb24pKSx0aGlzLmF1ZGlvTm9kZUxpc3Quc2hpZnQoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYXVkaW9Ob2RlTGlzdC5pbmRleE9mKGUpO2lmKC0xIT09dCl7aWYoZS5kaXNjb25uZWN0KCksdC0xPj0wKXt2YXIgcj10aGlzLmF1ZGlvTm9kZUxpc3RbdC0xXTtyLmRpc2Nvbm5lY3QoKSxyLmNvbm5lY3QodGhpcy5sYXN0Tm9kZSE9ZT90aGlzLmF1ZGlvTm9kZUxpc3RbdCsxXTp0aGlzLmRlc3RpbmF0aW9uKX1lbHNlIHRoaXMuc291cmNlLmRpc2Nvbm5lY3QoKSx0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMubGFzdE5vZGUhPWU/dGhpcy5hdWRpb05vZGVMaXN0W3QrMV06dGhpcy5kZXN0aW5hdGlvbik7dGhpcy5hdWRpb05vZGVMaXN0LnNwbGljZSh0LDEpfX0sZS5wcm90b3R5cGUuaXNDb25uZWN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT10aGlzLmF1ZGlvTm9kZUxpc3QuaW5kZXhPZihlKX0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5hdWRpb05vZGVMaXN0Lmxlbmd0aH0sZS5wcm90b3R5cGUucmVwbGFjZVNvdXJjZT1mdW5jdGlvbihlKXt0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCksZS5jb25uZWN0KHRoaXMuZmlyc3ROb2RlP3RoaXMuZmlyc3ROb2RlOnRoaXMuZGVzdGluYXRpb24pLHRoaXMuc291cmNlPWV9LGUucHJvdG90eXBlLnJlcGxhY2VEZXN0aW5hdGlvbj1mdW5jdGlvbihlKXt0aGlzLmxhc3ROb2RlPyh0aGlzLmxhc3ROb2RlLmRpc2Nvbm5lY3QoKSx0aGlzLmxhc3ROb2RlLmNvbm5lY3QoZSkpOih0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCksdGhpcy5zb3VyY2UuY29ubmVjdChlKSksdGhpcy5kZXN0aW5hdGlvbj1lfSxlfSgpO3QuQXVkaW9Ob2RlUXVldWU9cn0sMzYwODpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DbGllbnRVdGlsPXZvaWQgMDt2YXIgaT1yKDk4ODcpLG89cig4MzM1KSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5jaGVja0lsbGVnYWxDaGFyYWN0ZXJzPWZ1bmN0aW9uKGUpe3JldHVybi9eKFswLTlhLXpBLVojISQlJigpYCcrLTs8PS4+QF5ffixcXFxcKl0pKyQvLnRlc3QoZSkmJi9eW146L10qJC9nLnRlc3QoZSl9LGUuaXNVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5zdGFydHNXaXRoKFwicnRtcDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiYXZlcnRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKSYmZS5lbmRzV2l0aChcIi5mbHZcIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpJiZlLmVuZHNXaXRoKFwiLm0zdThcIikpfSxlLnJlZ2lzdGVyQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0LHIpe3Quc3VjY2VzcyYmKHJbZStcIlN1Y2Nlc3NDYWxsYmFja1wiXT10LnN1Y2Nlc3MpLHQuZXJyb3ImJihyW2UrXCJFcnJvckNhbGxiYWNrXCJdPXQuZXJyb3IpfSxlLmFjdGlvbkVycm9yQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdFtlK1wiRXJyb3JDYWxsYmFja1wiXX0sZS5hY3Rpb25TdWNjZXNzQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdFtlK1wiU3VjY2Vzc0NhbGxiYWNrXCJdfSxlLmxvZ1JlcG9ydENhbGxiYWNrPWZ1bmN0aW9uKHQscixpLG8pe2UucmVnaXN0ZXJDYWxsYmFjayh0LHtzdWNjZXNzOmZ1bmN0aW9uKHQsbyl7Zm9yKHZhciBuPVtdLHM9MjtzPGFyZ3VtZW50cy5sZW5ndGg7cysrKW5bcy0yXT1hcmd1bWVudHNbc107ZS5kYXRhUmVwb3J0RXZlbnQocixpLHQsbyxuKX19LG8pfSxlLmFjdGlvbkxvZ1JlcG9ydENhbGxiYWNrPWZ1bmN0aW9uKHQscixpLG8sbil7ZS5hY3Rpb25TdWNjZXNzQ2FsbGJhY2sodCxyKSYmZS5hY3Rpb25TdWNjZXNzQ2FsbGJhY2sodCxyKShpLG8pfSxlLmdldFNlcnZlckVycm9yPWZ1bmN0aW9uKGUsdCxyKXtpZih0KXJldHVybntjb2RlOmUsbWVzc2FnZTpyfHxcImxpdmVyb29tIGVycm9yXCJ9O3ZhciBpPXsxOlwicGFyc2UganNvbiBlcnJvci5cIiwxMDAxOlwibG9naW4gaXMgcHJvY2Vzc2luZy5cIiwxMDAyOlwibGl2ZXJvb20gcmVxdWVzdCBlcnJvci5cIiwxMDAzOlwienB1c2ggY29ubmVjdCBmYWlsLlwiLDEwMDQ6XCJ6cHVzaCBoYW5kc2hha2UgZmFpbC5cIiwxMDA1OlwienB1c2ggbG9naW4gZmFpbC5cIiwxMDA2OlwidXNlciBsb2dpbiBzdGF0ZSBpcyB3cm9uZy5cIiwxMDA3OlwiZ290IG5vIHpwdXNoIGFkZHJcIiwxMDA4OlwidG9rZW4gZXJyb3JcIiwxMDA5OlwiZGlzcGF0Y2ggZXJyb3JcIiwxMDEwOlwidG9rZW4gZXhwaXJlZFwiLDEwMTE6XCJ0b2tlbiBmb3JtYXQgZXJyb3JcIiwxMDEzOlwidG9rZW4wMyBmb3JtYXQgZXJyb3JcIiwyMDAyOlwiYml6IGNoYW5uZWwgZXJyb3JcIiwxZTk6XCJsaXZlcm9vbSBjbWQgZXJyb3IsIGNvZGU6XCIsMTAwMDAwMjAwMTpcIm5lZWQgcmVsb2dpblwiLDEwMDAwMDIwMDI6XCJ0aGlyZCB0b2tlbiBhdXRoIGVycm9yXCIsMTAwMDAwMjAwMzpcInRva2VuIG5vbmNlIHR5cGUgc2hvdWxkIGJlIGludDY0XCIsMTAwMDAwMjAwNDpcInRva2VuIGFwcGlkIHR5cGUgIHNob3VsZCBiZSB1aW50MzJcIiwxMDAwMDAyMDA1OlwidG9rZW4gdGltZW91dCB0eXBlIHNob3VsZCBiZSBpbnQ2NFwiLDEwMDAwMDIwMDY6XCJ0b2tlbiB1c2VyX2lkIHR5cGUgc2hvdWxkIGJlIHN0cmluZ1wiLDEwMDAwMDIwMDc6XCJ0b2tlbiByb29tX2lkIHR5cGUgc2hvdWxkIGJlIHN0cmluZ1wiLDEwMDAwMDIwMDg6XCJ0b2tlbiBmb3JtYXQgZXJyb3JcIiwxMDAwMDAyMDA5OlwidG9rZW4gcHJpdmlsZWdlIHR5cGUgc2hvdWxkIGJlIG1hcFwiLDEwMDAwMDIwMTA6XCJ0b2tlbiBleHBpcmVfdGltZSB0eXBlIHNob3VsZCBiZSBpbnQ2NFwiLDEwMDAwMDIwMTE6XCJ0b2tlbiB1c2VyX2lkIHR5cGUgc2hvdWxkIGJlIHN0cmluZ1wiLDEwMDAwMDIwMTI6XCJ0b2tlbiBub3QgZXhpc3RcIiwxMDAwMDAyMDEzOlwidG9rZW4gdXBkYXRlIGVycm9yXCIsMTAwMDAwMjAxNDpcInRva2VuIG5vdCBuZWVkIHRvIGNoZWNrXCJ9O2lmKDA9PT1lKXJldHVybntjb2RlOjAsbWVzc2FnZTpcIlwifTt2YXIgbz17Y29kZTowLG1lc3NhZ2U6XCJsaXZlcm9vbSBjbWQgZXJyb3JcIn07aWYoby5jb2RlPWUsZT4xZTkpe3ZhciBuPWlbZV07by5tZXNzYWdlPW4/XCJsaXZlcm9vbSBjbWQgZXJyb3IsIGNvZGU6IFwiK2UrXCIsIG1lc3NhZ2U6IFwiK246aVsxZTldK2V9ZWxzZSBvLm1lc3NhZ2U9aVtlXT9pW2VdK1wiIGNvZGU6XCIrZTpcInVua25vd24gZXJyb3IgY29kZTpcIitlO3JldHVybiBvfSxlLnVucmVnaXN0ZXJDYWxsYmFjaz1mdW5jdGlvbihlLHQpe2RlbGV0ZSB0W2UrXCJTdWNjZXNzQ2FsbGJhY2tcIl0sZGVsZXRlIHRbZStcIkVycm9yQ2FsbGJhY2tcIl19LGUuZGVjb2RlU2VydmVyRXJyb3I9ZnVuY3Rpb24oZSx0KXt2YXIgcj17Y29kZTotMSxtZXNzYWdlOlwic2VydmVyIGVycm9yXCJ9O3JldHVybiBlPjFlOSYmKHIuY29kZT1lLTFlOSs1MmU2KSx0JiYoci5tZXNzYWdlPXQpLHJ9LGUuZ2V0TGl2ZVJvb21FcnJvcj1mdW5jdGlvbihlLHQpe3ZhciByPXsxMDE2OlwiTVVMVElfUk9PTV9VTkFCTEVcIiwxMTA1OlwiUk9PTV9NQVhfVVNFUl9DT1VOVFwiLDEwMTI6XCJQVUJMSVNIRVJfRVJST1JfUkVQRVRJVElWRV9QVUJMSVNIX1NUUkVBTVwiLDIwMDI6XCJUT0tFTl9FUlJPUlwiLDIwMDM6XCJST09NX0VSUk9SX0xPR0lOX1RJTUVPVVRcIiwyMDEwOlwiVE9LRU5fRVJST1JcIiw1MDIyOlwiUk9PTV9DT1VOVF9FWENFRURcIn07aWYodClyZXR1cm4gZT4yZTUmJmU8M2U1P3JbZS0yZTVdOmU8MmU1P3s1MDExNjpcIlRPS0VOX0VSUk9SXCIsNTAxMTc6XCJUT0tFTl9FWFBJUkVEXCIsNTAxMTg6XCJUT0tFTl9FUlJPUlwiLDUwMTE5OlwiVE9LRU5fRVJST1JcIiw1MDEyMDpcIlRPS0VOX0VSUk9SXCIsNTAxMjE6XCJUT0tFTl9FUlJPUlwiLDUwMTIyOlwiVE9LRU5fRVJST1JcIiw1MDEyMzpcIlRPS0VOX0VYUElSRURcIiw1MDEyNDpcIlRPS0VOX0VSUk9SXCIsNTAxMjU6XCJUT0tFTl9FUlJPUlwiLDUwMTI2OlwiVE9LRU5fRVJST1JcIiw1MDEyNzpcIlRPS0VOX0VSUk9SXCIsNTAxMjg6XCJUT0tFTl9FUlJPUlwifVtlXXx8cltlXXx8XCJST09NX0lOTkVSX0VSUk9SXCI6cltlXXx8XCJST09NX0lOTkVSX0VSUk9SXCI7cmV0dXJuIGU+MWU5P3JbZS0xZTldfHxcIlwiOnsxOlwiUEFSU0VfSlNPTl9FUlJPUlwiLDEwMDE6XCJMT0dJTl9QUk9DRVNTSU5HXCIsMTAwMjpcIkxJVkVST01NX1JFUVVFU1RfRVJST1JcIiwxMDAzOlwiWlBVU0hfUkVRVUVTVF9GQUlMXCIsMTAwNDpcIlpQVVNIX1JFUVVFU1RfRkFJTFwiLDEwMDU6XCJaUFVTSF9SRVFVRVNUX0ZBSUxcIiwxMDA2OlwiTE9HSU5fU1RBVEVfV1JPTkdcIiwxMDA3OlwiWlBVU0hfUkVRVUVTVF9GQUlMXCIsMTAwODpcIlRPS0VOX0VSUk9SXCIsMTAwOTpcIkRJQVBBVENIX0VSUk9SXCIsMTAxMDpcIlRPS0VOX0VYUElSRURcIiwxMDExOlwiVE9LRU5fRVJST1JcIiwxMDEyOlwiU1VCQ01EX0VSUk9SXCIsMTEwMTpcIlpFR09fQVVUSF9FUlJPUlwiLDIwMDE6XCJCSVpfQ0hBTk5FTF9FUlJPUlwiLDIwMDI6XCJCSVpfQ0hBTk5FTF9FUlJPUlwifVtlXXx8XCJST09NX0lOTkVSX0VSUk9SXCJ9LGUuZ2V0S2lja291dEVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3N3aXRjaChlKXtjYXNlIDE6dC5jb2RlPTYzMDAwMDAxLHQubWVzc2FnZT1cInpwdXNoIG11bHRpcGxlIGxvZ2luIGtpY2tvdXRcIix0Lm5hbWU9XCJNVUxUSVBMRV9MT0dJTl9LSUNLT1VUXCI7YnJlYWs7Y2FzZSAyOnQuY29kZT02MzAwMDAwMix0Lm1lc3NhZ2U9XCJ6cHVzaCBtYW51YWwga2lja291dFwiLHQubmFtZT1cIk1BTlVBTF9LSUNLT1VUXCI7YnJlYWs7Y2FzZSAzOnQuY29kZT02MzAwMDAwMyx0Lm1lc3NhZ2U9XCJraWNrb3V0IHJlYXNvbiA9IFwiK2U7YnJlYWs7Y2FzZSA0OnQuY29kZT02MzAwMDAwNCx0Lm1lc3NhZ2U9XCJ6cHVzaCBtdWx0aXBsZSBsb2dpbiBraWNrb3V0XCIsdC5uYW1lPVwiTVVMVElQTEVfTE9HSU5fS0lDS09VVFwiO2JyZWFrO2Nhc2UgNTp0LmNvZGU9NjMwMDAwMDUsdC5tZXNzYWdlPVwienB1c2ggdG9rZW4gZXhwaXJlZFwiLHQubmFtZT1cIlRPS0VOX0VYUElSRURcIjticmVhaztkZWZhdWx0OnQuY29kZT1lLHQubWVzc2FnZT1cImtpY2tvdXQgcmVhc29uID0gXCIrZX1yZXR1cm4gdH0sZS5kYXRhUmVwb3J0RXZlbnQ9ZnVuY3Rpb24oZSx0LHIsaSxvKXtzd2l0Y2gocil7Y2FzZVwiZXZlbnRTdGFydFwiOmUuZXZlbnRTdGFydCh0LGkpO2JyZWFrO2Nhc2VcImV2ZW50RW5kV2l0aE1zZ0luZm9cIjplLmV2ZW50RW5kV2l0aE1zZ0luZm8odCxpLG9bMF0pO2JyZWFrO2Nhc2VcImFkZEV2ZW50TXNnXCI6ZS5hZGRFdmVudE1zZyh0LGksb1swXSxvWzFdKTticmVhaztjYXNlXCJhZGRFdmVudFwiOmUuYWRkRXZlbnQodCxpKTticmVhaztjYXNlXCJldmVudEVuZFwiOmUuZXZlbnRFbmQodCxpKTticmVhaztjYXNlXCJhZGRNc2dJbmZvXCI6ZS5hZGRNc2dJbmZvKHQsb1swXSl9fSxlLmlzS2VlcFRyeUxvZ2luPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDEwMDI6Y2FzZSAxMDAzOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxlLm1lcmdlU3RyZWFtTGlzdD1mdW5jdGlvbihlLHQscixpKXt2YXIgbyxuPVtdLHM9W10sYT1bXTtyfHwocj1bXSk7Zm9yKHZhciBjPTA7YzxyLmxlbmd0aDtjKyspaWYocltjXS5hbmNob3JfaWRfbmFtZSE9ZSYmcltjXS5pZF9uYW1lIT1lJiZyW2NdLnVzZXJfaWQhPWUpe289ITE7Zm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1KyspaWYocltjXS5zdHJlYW1faWQ9PT10W3VdLnN0cmVhbV9pZCl7cltjXS5leHRyYV9pbmZvIT09dFt1XS5leHRyYV9pbmZvJiZhLnB1c2gocltjXSksbz0hMDticmVha31vfHxuLnB1c2gocltjXSl9Zm9yKHZhciBkPTA7ZDx0Lmxlbmd0aDtkKyspe289ITE7Zm9yKHZhciBsPTA7bDxyLmxlbmd0aDtsKyspaWYodFtkXS5zdHJlYW1faWQ9PT1yW2xdLnN0cmVhbV9pZCl7bz0hMDticmVha31vfHxzLnB1c2godFtkXSl9dC5zcGxpY2UoMCk7Zm9yKGM9MDtjPHIubGVuZ3RoO2MrKyl0LnB1c2gocltjXSk7aShuLHMsYSl9LGUuY2hlY2tJbnRlZ2VyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PXQ/XCJudW1iZXJcIj09dHlwZW9mIGUmJmUlMT09MCYmZT49MDpcIm51bWJlclwiPT10eXBlb2YgZSYmZSUxPT0wJiZlPjB9LGUuY2hlY2tWYWxpZE51bWJlcj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9dHx8MSxyPXJ8fDFlNCxcIm51bWJlclwiPT10eXBlb2YgZSYmZSUxPT0wJiZlPj10JiZlPD1yfSxlLnV1aWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixpPVwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5zcGxpdChcIlwiKSxvPVtdO2lmKHQ9dHx8aS5sZW5ndGgsZSlmb3Iocj0wO3I8ZTtyKyspb1tyXT1pWzB8TWF0aC5yYW5kb20oKSp0XTtlbHNle3ZhciBuPXZvaWQgMDtmb3Iob1s4XT1vWzEzXT1vWzE4XT1vWzIzXT1cIi1cIixvWzE0XT1cIjRcIixyPTA7cjwzNjtyKyspb1tyXXx8KG49MHwxNipNYXRoLnJhbmRvbSgpLG9bcl09aVsxOT09cj8zJm58ODpuXSl9cmV0dXJuIG8uam9pbihcIlwiKX0sZS5nZXREZXZpY2VzPWZ1bmN0aW9uKGUsdCl7dm9pZCAwIT09bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmdm9pZCAwIT09bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzP25hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxpPVtdLG89W10sbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcz10W25dO1wiYXVkaW9pbnB1dFwiPT09cy5raW5kJiZyLnB1c2goe2RldmljZU5hbWU6cy5sYWJlbCxkZXZpY2VJRDpzLmRldmljZUlkfSksXCJhdWRpb291dHB1dFwiPT09cy5raW5kJiZpLnB1c2goe2RldmljZU5hbWU6cy5sYWJlbCxkZXZpY2VJRDpzLmRldmljZUlkfSksXCJ2aWRlb2lucHV0XCI9PT1zLmtpbmQmJm8ucHVzaCh7ZGV2aWNlTmFtZTpzLmxhYmVsLGRldmljZUlEOnMuZGV2aWNlSWR9KX1lJiZlKHttaWNyb3Bob25lczpyLHNwZWFrZXJzOmksY2FtZXJhczpvfSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoXCJlbnVtZXJhdGUgZGV2aWNlcyB3cm9uZyBcIitlKSx0JiZ0KG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0VudW1EZXZpY2VzLmVycm9yLmtFbnVtRGV2aWNlc0Vycm9yKX0pKTp0JiZ0KG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0VudW1EZXZpY2VzLmVycm9yLmtCcm93c2VyTm90U3VwcG9ydEVycm9yKX0sZS5nZXRQdWJsaXNoZXJTdGF0ZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PWV8fDE9PWU/MD09ZT9cIlBVQkxJU0hJTkdcIjpcIk5PX1BVQkxJU0hcIjpcIlBVQkxJU0hfUkVRVUVTVElOR1wifSxlLmdldFBsYXllclN0YXRlVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gMD09ZXx8MT09ZT8wPT1lP1wiUExBWUlOR1wiOlwiTk9fUExBWVwiOlwiUExBWV9SRVFVRVNUSU5HXCJ9LGUuZ2V0U3RlYW1VcGRhdGVUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiAwPT1lP1wiREVMRVRFXCI6XCJBRERcIn0sZS5jaGVja1NjcmVlblBhcmFtcz1mdW5jdGlvbih0LHIpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ2b2lkIDAhPT10LnZpZGVvUXVhbGl0eSYmIWUuY2hlY2tJbnRlZ2VyKHQudmlkZW9RdWFsaXR5KSlyZXR1cm4gcihvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgdmlkZW9RdWFsaXR5IG11c3QgYmUgaW50ZWdlciBudW1iZXJcIiksITE7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJnZvaWQgMCE9PXQuc291cmNlSUQmJlwic3RyaW5nXCIhPXR5cGVvZiB0LnNvdXJjZUlEKXJldHVybiByKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixcIiBzb3VyY2VJRCBtdXN0IGJlIHN0cmluZ1wiKSwhMTtpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmND09PXQudmlkZW9RdWFsaXR5KXtpZighZS5jaGVja0NhbWVyYU9yU2NyZWVuQml0UmF0ZSh0LmJpdFJhdGUscikpcmV0dXJuITE7aWYoIWUuY2hlY2tQYXJhbXNXaXRoQ29uc3RyYWludEV4dGVuZCh0LHIpKXJldHVybiExfXJldHVybiEwfSxlLmNoZWNrUGFyYW1zV2l0aENvbnN0cmFpbnRFeHRlbmQ9ZnVuY3Rpb24odCxyKXtmb3IodmFyIGk9MCxuPVtcImZyYW1lUmF0ZVwiLFwid2lkdGhcIixcImhlaWdodFwiXTtpPG4ubGVuZ3RoO2krKyl7dmFyIHM9bltpXSxhPXRbc107aWYodm9pZCAwPT09YSlyZXR1cm4gciYmcihvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgXCIuY29uY2F0KHMsXCIgaXMgcmVxdWlyZWQgd2hlbiB2aWRlb1F1YWxpdHkgaXMgNFwiKSksITE7aWYoXCJudW1iZXJcIj09dHlwZW9mIGEmJiFlLmNoZWNrSW50ZWdlcihhLCExKSlyZXR1cm4gciYmcihvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgXCIuY29uY2F0KHMsXCIgbXVzdCBiZSBpbnRlZ2VyIG51bWJlclwiKSksITE7aWYoXCJudW1iZXJcIj09dHlwZW9mIGEmJihcIndpZHRoXCI9PT1zfHxcImhlaWdodFwiPT09cykmJmE8MClyZXR1cm4gciYmcihvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgXCIuY29uY2F0KHMsXCIgbXVzdCBncmVhdGVyIHRoYW4gMC5cIikpLCExO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhJiZcIndpZHRoXCI9PT1zJiZhPjc2ODApciYmcihvLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgXCIuY29uY2F0KHMsXCIgY2Fubm90IGdyZWF0ZXIgdGhhbiA3NjgwLlwiKSk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgYSYmXCJoZWlnaHRcIj09PXMmJmE+NDMyMClyJiZyKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixcIiBcIi5jb25jYXQocyxcIiBjYW5ub3QgZ3JlYXRlciB0aGFuIDQzMjAuXCIpKTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtpZihcIndpZHRoXCI9PT1zJiYhZS5jaGVja0NvbnN0cmFpbnRFeHRlbmQoYSxzLHIsMCw3NjgwKSlyZXR1cm4hMTtpZihcImhlaWdodFwiPT09cyYmIWUuY2hlY2tDb25zdHJhaW50RXh0ZW5kKGEscyxyLDAsNDMyMCkpcmV0dXJuITE7aWYoXCJmcmFtZVJhdGVcIj09PXMmJiFlLmNoZWNrQ29uc3RyYWludEV4dGVuZChhLHMscikpcmV0dXJuITF9ZWxzZSBpZihcIm51bWJlclwiIT10eXBlb2YgYSYmXCJvYmplY3RcIiE9dHlwZW9mIGEpcmV0dXJuIHImJnIoby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtQYXJhbUVycm9yLFwiIFwiLmNvbmNhdChzLFwiIG11c3QgYmUgbnVtYmVyIG9yIG9iamVjdFwiKSksITF9cmV0dXJuITB9LGUuY2hlY2tDb25zdHJhaW50RXh0ZW5kV2l0aE1lc3NhZ2U9ZnVuY3Rpb24odCxyLGksbyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJue3Jlc3VsdDohMSxtZXNzYWdlOlwiSW52YWxpZCBjb25zdHJhaW50LiBDb25zdHJhaW50IEV4dGVuZCBtdXN0IGJlIGEgb2JqZWN0XCJ9O2lmKDA9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJue3Jlc3VsdDohMSxtZXNzYWdlOlwiXCIuY29uY2F0KHIsXCIgY2FuIG5vdCBiZSBhIGVtcHR5IG9iamVjdFwiKX07Zm9yKHZhciBuPTAscz1bXCJleGFjdFwiLFwiaWRlYWxcIixcIm1heFwiLFwibWluXCJdO248cy5sZW5ndGg7bisrKXt2YXIgYT1zW25dLGM9dFthXTtpZihcIm51bWJlclwiPT10eXBlb2YgYyYmIWUuY2hlY2tJbnRlZ2VyKGMsITEpKXJldHVybntyZXN1bHQ6ITEsbWVzc2FnZTpcIiBcIi5jb25jYXQoYSxcIiBvZiBcIikuY29uY2F0KHIsXCIgbXVzdCBiZSBpbnRlZ2VyIG51bWJlclwiKX07aWYoXCJudW1iZXJcIj09dHlwZW9mIGkmJlwibnVtYmVyXCI9PXR5cGVvZiBjJiZjPGkpcmV0dXJue3Jlc3VsdDohMSxtZXNzYWdlOlwiIFwiLmNvbmNhdChhLFwiIG9mIFwiKS5jb25jYXQocixcIiBtdXN0IGdyZWF0ZXIgdGhhbiBcIikuY29uY2F0KGkpfTtpZihcIm51bWJlclwiPT10eXBlb2YgbyYmXCJudW1iZXJcIj09dHlwZW9mIGMmJmM+bylyZXR1cm57cmVzdWx0OiExLG1lc3NhZ2U6XCIgXCIuY29uY2F0KGEsXCIgb2YgXCIpLmNvbmNhdChyLFwiIGNhbm5vdCBncmVhdGVyIHRoYW4gXCIpLmNvbmNhdChvKX19cmV0dXJue3Jlc3VsdDohMCxtZXNzYWdlOlwiQ29uc3RyYWludCBFeHRlbmQgT0suXCJ9fSxlLmNoZWNrQ29uc3RyYWludEV4dGVuZD1mdW5jdGlvbih0LHIsaSxuLHMpe3ZhciBhPWUuY2hlY2tDb25zdHJhaW50RXh0ZW5kV2l0aE1lc3NhZ2UodCxyLG4scyk7cmV0dXJuIGEucmVzdWx0fHxpJiZpKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixhLm1lc3NhZ2UpLGEucmVzdWx0fSxlLmNoZWNrQml0UmF0ZUxpbWl0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIShlPjEwMjQwKXx8KHQoby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtQYXJhbUVycm9yLFwiIGJpdHJhdGUgY2Fubm90IGdyZWF0ZXIgdGhhbiAxMCBNYnBzXCIpLCExKX0sZS5jaGVja0NhbWVyYU9yU2NyZWVuQml0UmF0ZT1mdW5jdGlvbih0LHIpe2lmKHZvaWQgMD09PXQpcmV0dXJuIHIoby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtQYXJhbUVycm9yLFwiIGJpdHJhdGUgaXMgcmVxdWlyZWQgd2hlbiB2aWRlb1F1YWxpdHkgaXMgNFwiKSwhMTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7aWYoIWUuY2hlY2tWYWxpZE51bWJlcih0LDAsMTAyNDApKXJldHVybiByKG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixcIiBiaXRyYXRlIG11c3QgYmUgaW50ZWdlciBudW1iZXJcIiksITE7aWYoIWUuY2hlY2tCaXRSYXRlTGltaXQodCxyKSlyZXR1cm4hMX1lbHNlIHIoby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtQYXJhbUVycm9yLFwiIGJpdHJhdGUgbXVzdCBiZSBudW1iZXJcIik7cmV0dXJuITB9LGUuY2hlY2tDYW1lcmFQYXJhbXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4hIWUuY2hlY2tQYXJhbXNXaXRoQ29uc3RyYWludEV4dGVuZCh0LHIpJiYhIWUuY2hlY2tDYW1lcmFPclNjcmVlbkJpdFJhdGUodC5iaXRSYXRlLHIpfSxlLmlzUGFyYW1FbXB0eT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmXCJcIiE9PWV9LGUuaXNUeXBlU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxlLmlzVG9vTG9uZz1mdW5jdGlvbihlLHQpe3JldHVybiEoZS5sZW5ndGg+PXQpfSxlLmlzUmVEaXNwYXRjaD1mdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2UubWF0Y2goL2FjdGlvbjooXFxkKykvKSxyPXQ/TnVtYmVyKHRbMV0pOk5hTjtyZXR1cm5bby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtUVExPdmVyVGltZUVycm9yLG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdGFydC5lcnJvci5rQ2xpZW50SVBDaGFuZ2VkRXJyb3Isby5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtUVExPdmVyVGltZUVycm9yLG8uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rQ2xpZW50SVBDaGFuZ2VkRXJyb3JdLmluY2x1ZGVzKGUpfHxbNl0uaW5jbHVkZXMocil9LGUuYXJyQXZnPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5wdXNoKHQpLGUubGVuZ3RoPnImJmUuc2hpZnQoKSxlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0fSkpL2UubGVuZ3RofSxlLmdldE5ldFF1YWxpdHk9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMCE9PXIpe3JldHVybi4xNSp0aGlzLmNhbGNRdWFsaXR5T2ZKaXR0ZXIocikrLjg1Kk1hdGgubWluKHRoaXMuY2FsY1F1YWxpdHlPZlJ0dChlKSx0aGlzLmNhbGNRdWFsaXR5T2ZMb3N0UmF0ZSh0LCExKSl9cmV0dXJuIE1hdGgubWluKHRoaXMuY2FsY1F1YWxpdHlPZlJ0dChlKSx0aGlzLmNhbGNRdWFsaXR5T2ZMb3N0UmF0ZSh0LCEwKSl9LGUuY2FsY1F1YWxpdHlPZlJ0dD1mdW5jdGlvbihlKXtyZXR1cm4gZTw2MDA/OTctTWF0aC5wb3coLjA5KmUsMS4xKToxOCpNYXRoLmV4cCguMDAyKig2MDAtZSkpfSxlLmNhbGNRdWFsaXR5T2ZKaXR0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8PTUwPzk4LU1hdGgucG93KGUsMS4xNSk6aS5RVUFMSVRZX0NPTlNUQU5ULlBvb3JNaW5RdWFsaXR5fSxlLmNhbGNRdWFsaXR5T2ZMb3N0UmF0ZT1mdW5jdGlvbihlLHQpe2lmKHQpe3JldHVybiBlPD01NT85OS1NYXRoLnBvdyguOCplLDEuMTgpOmkuUVVBTElUWV9DT05TVEFOVC5Qb29yTWluUXVhbGl0eX12YXIgcj0xMDAqZTtyZXR1cm4gcjw9NDA/OTYtTWF0aC5wb3cociwxLjIyKTppLlFVQUxJVFlfQ09OU1RBTlQuUG9vck1pblF1YWxpdHl9LGUucXVhbGl0eTJRdWFsaXR5R3JhZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PWkuUVVBTElUWV9DT05TVEFOVC5FeGNlbGxlbnRNaW5RdWFsaXR5P2kuUXVhbGl0eUdyYWRlLkV4Y2VsbGVudDplPj1pLlFVQUxJVFlfQ09OU1RBTlQuR29vZE1pblF1YWxpdHk/aS5RdWFsaXR5R3JhZGUuR29vZDplPj1pLlFVQUxJVFlfQ09OU1RBTlQuTWlkZGxlTWluUXVhbGl0eT9pLlF1YWxpdHlHcmFkZS5NaWRkbGU6ZT49aS5RVUFMSVRZX0NPTlNUQU5ULlBvb3JNaW5RdWFsaXR5P2kuUXVhbGl0eUdyYWRlLlBvb3I6aS5RdWFsaXR5R3JhZGUuRGllfSxlLmNoZWNrQXVkaW9UcmFja0lzQWN0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiEhZS5lbmFibGVkfSxlLmNoZWNrVmlkZW9UcmFja0lzQWN0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiEhZS5lbmFibGVkfSxlLmlzU3VwcG9ydEVuY29kZWRUcmFuc2Zvcm1zPWZ1bmN0aW9uKCl7dmFyIGU9ISF3aW5kb3cuUlRDUnRwU2NyaXB0VHJhbnNmb3JtO2lmKCFlKXt2YXIgdD0hIVJUQ1J0cFNlbmRlci5wcm90b3R5cGUuY3JlYXRlRW5jb2RlZFN0cmVhbXMscj0hMTt0cnl7bmV3IFJlYWRhYmxlU3RyZWFtO3I9ITB9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIlRyYW5zZmVyYWJsZSBzdHJlYW1zIGFyZSBub3Qgc3VwcG9ydGVkLlwiKX1lPXQmJnJ9cmV0dXJuIGV9LGUudWludDhhcnJheVRvQmFzZTY0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTAsaT1lLmxlbmd0aCxvPVwiXCI7cjxpOyl0PWUuc3ViYXJyYXkocixNYXRoLm1pbihyKzMyNzY4LGkpKSxvKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsQXJyYXkuZnJvbSh0KSkscis9MzI3Njg7cmV0dXJuIGJ0b2Eobyl9LGUuaXNNb2JpbGU9ZnVuY3Rpb24oKXtyZXR1cm4hIShuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9Nb2JpL2kpfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSkpfSxlfSgpO3QuQ2xpZW50VXRpbD1ufSw2NTE6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmhhbmRsZXJMaXN0TWFwPXt9fXJldHVybiBlLnByb3RvdHlwZS5hZGRFdmVudEhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmhhbmRsZXJMaXN0TWFwW2VdfHwodGhpcy5oYW5kbGVyTGlzdE1hcFtlXT1bXSksXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJQYXJhbXMgY2FsbEJhY2sgaXMgbm90IGEgRnVuY3Rpb25cIik7cmV0dXJuLTE9PXRoaXMuaGFuZGxlckxpc3RNYXBbZV0uaW5kZXhPZih0KSYmdGhpcy5oYW5kbGVyTGlzdE1hcFtlXS5wdXNoKHQpLCEwfSxlLnByb3RvdHlwZS5yZW1vdmVFdmVudEhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIXRoaXMuaGFuZGxlckxpc3RNYXBbZV0mJih0aGlzLmhhbmRsZXJMaXN0TWFwW2VdPXQ/dGhpcy5oYW5kbGVyTGlzdE1hcFtlXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKTpbXSwhMCl9LGUucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07dGhpcy5oYW5kbGVyTGlzdE1hcFtlXSYmdGhpcy5oYW5kbGVyTGlzdE1hcFtlXS5mb3JFYWNoKChmdW5jdGlvbihyKXt0cnl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLmFwcGx5KHZvaWQgMCx0KX0pLDApfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoJ0ZhaWwgdG8gZXhlY3V0ZSBjYWxsYmFjayBvZiBldmVudCBcIicuY29uY2F0KGUsJ1wiIDogJykuY29uY2F0KHQpKX19KSl9LGV9KCk7dC5kZWZhdWx0PXJ9LDQ4NjQ6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkgyNjRQYXJzZXI9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnZpZXc9ZSx0aGlzLm9mZnNldD0wLHRoaXMuY3VycmVudF9zdGFydF9jb2RlX3NpemU9MCx0aGlzLmN1cnJlbnRfbmFsdV9zdGFydD0wLHRoaXMuY3VycmVudF9uYWx1X3NpemU9MCx0aGlzLnN0YXJ0X2NvZGVfc2l6ZT0wLHRoaXMubmFsdV9zdGFydD0wLHRoaXMubGVmdF9zaXplPTAsdGhpcy5uYWx1X3NpemU9MCx0aGlzLmxlZnRfc2l6ZT1lLmJ5dGVMZW5ndGh9cmV0dXJuIGUucHJvdG90eXBlLkZpbmRTdGFydENvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZpZXcuYnl0ZUxlbmd0aC10aGlzLm9mZnNldDtmb3IodGhpcy5jdXJyZW50X3N0YXJ0X2NvZGVfc2l6ZT0wLHRoaXMuY3VycmVudF9uYWx1X3N0YXJ0PS0xO2U+PTM7KXtpZigwPT10aGlzLnZpZXcuZ2V0VWludDgodGhpcy5vZmZzZXQpJiYwPT10aGlzLnZpZXcuZ2V0VWludDgodGhpcy5vZmZzZXQrMSkmJjE9PXRoaXMudmlldy5nZXRVaW50OCh0aGlzLm9mZnNldCsyKSlyZXR1cm4gdGhpcy5jdXJyZW50X3N0YXJ0X2NvZGVfc2l6ZT0zLHRoaXMuY3VycmVudF9uYWx1X3N0YXJ0PXRoaXMub2Zmc2V0LHRoaXMub2Zmc2V0LTE+PTAmJjA9PXRoaXMudmlldy5nZXRVaW50OCh0aGlzLm9mZnNldC0xKSYmKCsrdGhpcy5jdXJyZW50X3N0YXJ0X2NvZGVfc2l6ZSwtLXRoaXMuY3VycmVudF9uYWx1X3N0YXJ0KSx0aGlzLm9mZnNldCs9MywhMDstLWUsKyt0aGlzLm9mZnNldH1yZXR1cm4hMX0sZS5wcm90b3R5cGUuRmluZE5hbHU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydF9jb2RlX3NpemU9MCx0aGlzLm5hbHVfc3RhcnQ9MCx0aGlzLm5hbHVfc2l6ZT0wLCEodGhpcy5vZmZzZXQ+PXRoaXMudmlldy5ieXRlTGVuZ3RoKSYmKCEhdGhpcy5GaW5kU3RhcnRDb2RlKCkmJih0aGlzLnN0YXJ0X2NvZGVfc2l6ZT10aGlzLmN1cnJlbnRfc3RhcnRfY29kZV9zaXplLHRoaXMubmFsdV9zdGFydD10aGlzLmN1cnJlbnRfbmFsdV9zdGFydCwhMCkpfSxlLnByb3RvdHlwZS5OZXh0TmFsdT1mdW5jdGlvbihlKXtpZih0aGlzLnN0YXJ0X2NvZGVfc2l6ZT0wLHRoaXMubmFsdV9zdGFydD0wLHRoaXMubmFsdV9zaXplPTAsdGhpcy5vZmZzZXQ+PXRoaXMudmlldy5ieXRlTGVuZ3RoKXJldHVybiExO2lmKCF0aGlzLkZpbmRTdGFydENvZGUoKSlyZXR1cm4hMTtpZigodGhpcy5zdGFydF9jb2RlX3NpemU9dGhpcy5jdXJyZW50X3N0YXJ0X2NvZGVfc2l6ZSx0aGlzLm5hbHVfc3RhcnQ9dGhpcy5jdXJyZW50X25hbHVfc3RhcnQsZSkmJjYhPSgzMSZ0aGlzLnZpZXcuZ2V0VWludDgodGhpcy5uYWx1X3N0YXJ0K3RoaXMuc3RhcnRfY29kZV9zaXplKSkpcmV0dXJuITA7cmV0dXJuIHRoaXMuRmluZFN0YXJ0Q29kZSgpPyh0aGlzLm9mZnNldD10aGlzLmN1cnJlbnRfbmFsdV9zdGFydCx0aGlzLm5hbHVfc2l6ZT10aGlzLmN1cnJlbnRfbmFsdV9zdGFydC10aGlzLm5hbHVfc3RhcnQsITApOih0aGlzLm5hbHVfc2l6ZT10aGlzLnZpZXcuYnl0ZUxlbmd0aC10aGlzLm5hbHVfc3RhcnQsITApfSxlfSgpO3QuSDI2NFBhcnNlcj1yfSwyNjE6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJldHJ5SGFuZGxlcj12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5SRVRSWV9NQVhfVElNRT0zMDAsdGhpcy5SRVRSWV9TVEFSVF9USU1FX0lOVEVSVkFMPTQsdGhpcy5SRVRSWV9DT05USU5VRV9DT1VOVD0yLHRoaXMuUkVUUllfTUFYX1RJTUVfSU5URVJWQUw9MzIsdGhpcy5yZXRyeVN0YXJ0VGltZT0wLHRoaXMucmV0cnlBY3RpdmVDb3VudD0xLHRoaXMuaXNPdmVyVGltZT0hMX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQscixpKXt0aGlzLmludmFsaWQoKSx0aGlzLnN0b3BNYXhUaW1lKCksdGhpcy5pc092ZXJUaW1lPSExLFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPDM2MDAmJih0aGlzLlJFVFJZX01BWF9USU1FPWUpLFwibnVtYmVyXCI9PXR5cGVvZiB0JiYodGhpcy5SRVRSWV9TVEFSVF9USU1FX0lOVEVSVkFMPXQpLFwibnVtYmVyXCI9PXR5cGVvZiByJiYodGhpcy5SRVRSWV9DT05USU5VRV9DT1VOVD1yKSxcIm51bWJlclwiPT10eXBlb2YgaSYmKHRoaXMuUkVUUllfTUFYX1RJTUVfSU5URVJWQUw9aSl9LGUucHJvdG90eXBlLmludmFsaWQ9ZnVuY3Rpb24oKXt0aGlzLnJldHJ5VGltZXImJmNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZXIpLHRoaXMucmV0cnlUaW1lcj1udWxsLHRoaXMuc3RhcnRSZXRyeVRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5zdGFydFJldHJ5VGltZXIpLHRoaXMuc3RhcnRSZXRyeVRpbWVyPW51bGwsdGhpcy5yZXRyeVN0YXJ0VGltZT0wLHRoaXMucmV0cnlBY3RpdmVDb3VudD0xfSxlLnByb3RvdHlwZS5pc1JldHJ5aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnJldHJ5VGltZXJ8fG51bGwhPT10aGlzLnN0YXJ0UmV0cnlUaW1lcnx8bnVsbCE9PXRoaXMubWF4VGltZXJ9LGV9KCk7dC5SZXRyeUhhbmRsZXI9cn0sMzExMTpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXx8ZnVuY3Rpb24oZSx0LHIpe2lmKHJ8fDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgaSxvPTAsbj10Lmxlbmd0aDtvPG47bysrKSFpJiZvIGluIHR8fChpfHwoaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDAsbykpLGlbb109dFtvXSk7cmV0dXJuIGUuY29uY2F0KGl8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TZHBVdGlsPXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuemVnb1NkcD1mdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KFwiXFxyXFxuXCIpLGk9W10sbz1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2goL2E9cnRwbWFwOihcXGQrKVxccysoKEgyNjRcXC85MDAwMCl8KG9wdXNcXC80ODAwMFxcLzIpKS8pO3QmJnRbMV0mJnRbMl0mJihcIkgyNjQvOTAwMDBcIj09PXRbMl0mJmkucHVzaCh0WzFdKSxcIm9wdXMvNDgwMDAvMlwiPT09dFsyXSYmby5wdXNoKHRbMV0pKX0pKTt2YXIgbj1bXTtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PSEwLHM9ZS5tYXRjaCgvKChhPXJ0Y3AtZmI6KXwoYT1ydHBtYXA6KXwoYT1mbXRwOikpKFxcZCspLyk7aWYocyYmc1s1XSYmKHIocihbXSxpLCEwKSxvLCEwKS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZT09c1s1XX0pKXx8KHQ9ITEpKSxlLmluZGV4T2YoXCJtPXZpZGVvXCIpPi0xKXt2YXIgYT1lLnNwbGl0KFwiIFwiKTtlPXIoW2FbMF0sYVsxXSxhWzJdXSxpLCEwKS5qb2luKFwiIFwiKX1lbHNlIGlmKGUuaW5kZXhPZihcIm09YXVkaW9cIik+LTEpe2E9ZS5zcGxpdChcIiBcIik7ZT1yKFthWzBdLGFbMV0sYVsyXV0sbywhMCkuam9pbihcIiBcIil9dCYmbi5wdXNoKGUpfSkpLG4uam9pbihcIlxcclxcblwiKX0sZS5nZXRTRFBCeVZpZGVEZWNvZGVUeXBlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbz17c3RyOlwiXCIsYXJyOltdLG9iajp7SDI2NDpbXSxIMjY1OltdLFZQODpbXSxWUDk6W10sT1RIRVI6W119fTtpZighZS5pbmNsdWRlcyhcIm09dmlkZW9cIikpcmV0dXJuIGU7dmFyIG49L209dmlkZW8uKy8uZXhlYyhlKVswXTtuPW4ubWF0Y2goL1tcXHN8XFxkXSsvZylbMV0ucmVwbGFjZShcIiBcIixcIlwiKSxvLnN0cj1uLG8uYXJyPW8uc3RyLnNwbGl0KFwiIFwiKSxvLmFyci5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1uZXcgUmVnRXhwKFwiYT1ydHBtYXA6XCIrdCtcIi4rXCIpLmV4ZWMoZSlbMF07ci5pbmNsdWRlcyhcIkgyNjRcIik/by5vYmouSDI2NC5wdXNoKHQpOnIuaW5jbHVkZXMoXCJIMjY1XCIpP28ub2JqLkgyNjUucHVzaCh0KTpyLmluY2x1ZGVzKFwiVlA4XCIpP28ub2JqLlZQOC5wdXNoKHQpOnIuaW5jbHVkZXMoXCJWUDlcIik/by5vYmouVlA5LnB1c2godCk6by5vYmouT1RIRVIucHVzaCh0KX0pKSxvLm9iai5PVEhFUi5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1uZXcgUmVnRXhwKFwiYT1mbXRwOlwiK3QrXCIuK2FwdD0oXFxcXGQrKVwiKS5leGVjKGUpLGk9ciYmclsxXTtpJiYoby5vYmouSDI2NC5pbmNsdWRlcyhpKT9vLm9iai5IMjY0LnB1c2godCk6by5vYmouSDI2NS5pbmNsdWRlcyhpKT9vLm9iai5IMjY1LnB1c2godCk6by5vYmouVlA4LmluY2x1ZGVzKGkpP28ub2JqLlZQOC5wdXNoKHQpOm8ub2JqLlZQOS5pbmNsdWRlcyhpKSYmby5vYmouVlA5LnB1c2godCkpfSkpO3ZhciBzPVtdO2lmKFwiVlA5XCI9PT10P3M9cihyKHIoW10sby5vYmouSDI2NSwhMCksby5vYmouSDI2NCwhMCksby5vYmouVlA4LCEwKTpcIlZQOFwiPT09dD9zPXIocihyKFtdLG8ub2JqLkgyNjUsITApLG8ub2JqLkgyNjQsITApLG8ub2JqLlZQOSwhMCk6XCJIMjY0XCI9PT10P3M9cihyKHIoW10sby5vYmouSDI2NSwhMCksby5vYmouVlA4LCEwKSxvLm9iai5WUDksITApOlwiSDI2NVwiPT09dCYmKHM9cihyKHIoW10sby5vYmouVlA4LCEwKSxvLm9iai5IMjY0LCEwKSxvLm9iai5WUDksITApKSxcIkgyNjRcIj09dCYmXCJib29sZWFuXCI9PXR5cGVvZiBpKXt2YXIgYT1bXTtvLm9iai5IMjY0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPW5ldyBSZWdFeHAoXCJhPWZtdHA6XCIrdCtcIi4rXFxcXHNcXFxcblwiLFwiZ1wiKS5leGVjKGUpO2k/KG51bGw9PXI/dm9pZCAwOnIuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5jbHVkZXMoXCJwcm9maWxlLWxldmVsLWlkPTQyZTAxZlwiKX0pKSl8fGEucHVzaCh0KToobnVsbD09cj92b2lkIDA6ci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pbmNsdWRlcyhcInByb2ZpbGUtbGV2ZWwtaWQ9NDJlMDFmXCIpfSkpKSYmYS5wdXNoKHQpO3ZhciBvPW5ldyBSZWdFeHAoXCJhPWZtdHA6XCIrdCtcIi4rYXB0PShcXFxcZCspXCIpLmV4ZWMoZSksbj1vJiZvWzFdO24mJmEuaW5jbHVkZXMobikmJmEucHVzaCh0KX0pKSxhLmxlbmd0aD09by5vYmouSDI2NC5sZW5ndGgmJihhPVtdKSxzPXMuY29uY2F0KGEpfXJldHVybiBzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPW8uYXJyLmluZGV4T2YodCk7by5hcnIuc3BsaWNlKHIsMSk7dmFyIGk9bmV3IFJlZ0V4cChcImE9cnRwbWFwOlwiK3QrXCIuK1xcXFxzXFxcXG5cIixcImdcIiksbj1uZXcgUmVnRXhwKFwiYT1ydGNwLWZiOlwiK3QrXCIuK1xcXFxzXFxcXG5cIixcImdcIikscz1uZXcgUmVnRXhwKFwiYT1mbXRwOlwiK3QrXCIuK1xcXFxzXFxcXG5cIixcImdcIik7ZT0oZT0oZT1lLnJlcGxhY2UoaSxcIlwiKSkucmVwbGFjZShuLFwiXCIpKS5yZXBsYWNlKHMsXCJcIil9KSksZT1lLnJlcGxhY2UobixvLmFyci5qb2luKFwiIFwiKSl9LGV9KCk7dC5TZHBVdGlsPWl9LDMzNjQ6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LldlYlJUQ1V0aWw9dm9pZCAwO3ZhciBuPXIoODMzNSkscz1yKDc4OTkpLGE9cigzNjA4KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5zdXBwb3J0RGV0ZWN0aW9uPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxzLGEsYyx1LGQsbCxoO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGk9e3dlYlJUQzohMSxjdXN0b21DYXB0dXJlOiExLGNhbWVyYTohMSxtaWNyb3Bob25lOiExLHZpZGVvQ29kZWM6e0gyNjQ6ITEsSDI2NTohMSxWUDg6ITEsVlA5OiExfSxzY3JlZW5TaGFyaW5nOmUsZXJySW5mbzp7fX0sbiYmXCJzY3JlZW5TaGFyaW5nXCI9PT1uPyh0KHtyZXN1bHQ6ZSxlcnJJbmZvOmkuZXJySW5mb30pLFsyXSk6biYmXCJjdXN0b21DYXB0dXJlXCIhPT1ufHwoKChzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSkuY2FwdHVyZVN0cmVhbXx8cy5tb3pDYXB0dXJlU3RyZWFtKSYmKGkuY3VzdG9tQ2FwdHVyZT0hMCksXCJjdXN0b21DYXB0dXJlXCIhPT1uKT8oYT1uYXZpZ2F0b3ImJm5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLGM9XCJodHRwczpcIiE9PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmXCJmaWxlOlwiIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiYtMT09d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluZGV4T2YoXCIxMjcuMC4wLjFcIikmJi0xPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5kZXhPZihcImxvY2FsaG9zdFwiKSxuJiZcImNhbWVyYVwiIT09biYmXCJtaWNyb3Bob25lXCIhPT1uP1szLDldOmE/Yz8oaS5jYW1lcmE9ITEsY29uc29sZS5lcnJvcihcIndlYnJ0YyByZXF1aXJlcyBodHRwcyBvciBsb2NhbGhvc3RcIiksWzMsOV0pOlszLDFdOlszLDldKToodCh7cmVzdWx0OmkuY3VzdG9tQ2FwdHVyZSxlcnJJbmZvOmkuZXJySW5mb30pLFsyXSk7Y2FzZSAxOmlmKG4mJlwiY2FtZXJhXCIhPT1uKXJldHVyblszLDVdO28ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIG8udHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7dmlkZW86ITB9KV07Y2FzZSAzOnJldHVybih1PW8uc2VudCgpKSYmKGkuY2FtZXJhPSEwKSYmdS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdG9wKCl9KSksWzMsNV07Y2FzZSA0OnJldHVybiBkPW8uc2VudCgpLGkuZXJySW5mby5jYW1lcmE9e25hbWU6ZC5uYW1lLG1lc3NhZ2U6ZC5tZXNzYWdlfSxjb25zb2xlLmVycm9yKFwiY2FtZXJhIGRldmljZXMgZGV0ZWN0IGVycm9yOiBcIixkLm5hbWUsZC5tZXNzYWdlKSxbMyw1XTtjYXNlIDU6aWYobiYmXCJtaWNyb3Bob25lXCIhPT1uKXJldHVyblszLDldO28ubGFiZWw9NjtjYXNlIDY6cmV0dXJuIG8udHJ5cy5wdXNoKFs2LDgsLDldKSxbNCxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86ITB9KV07Y2FzZSA3OnJldHVybihsPW8uc2VudCgpKSYmKGkubWljcm9waG9uZT0hMCkmJmwuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RvcCgpfSkpLFszLDldO2Nhc2UgODpyZXR1cm4gaD1vLnNlbnQoKSxpLmVyckluZm8ubWljcm9waG9uZT17bmFtZTpoLm5hbWUsbWVzc2FnZTpoLm1lc3NhZ2V9LGNvbnNvbGUuZXJyb3IoXCJtaWNyb3Bob25lIGRldmljZXMgZGV0ZWN0IGVycm9yOiBcIixoLm5hbWUsaC5tZXNzYWdlKSxbMyw5XTtjYXNlIDk6cmV0dXJuXCJjYW1lcmFcIj09PW58fFwibWljcm9waG9uZVwiPT09bj8odCh7cmVzdWx0Omlbbl0sZXJySW5mbzppLmVyckluZm99KSxbMl0pOih0aGlzLnN1cHBvcnRWaWRlb0NvZGVUeXBlKChmdW5jdGlvbihlLHIpe258fChpLnZpZGVvQ29kZWMuSDI2ND1lLkgyNjQsaS52aWRlb0NvZGVjLkgyNjU9ZS5IMjY1LGkudmlkZW9Db2RlYy5WUDg9ZS5WUDgsaS52aWRlb0NvZGVjLlZQOT1lLlZQOSxpLndlYlJUQz1lLndlYlJUQyksciYmKFwic3RyaW5nXCI9PXR5cGVvZiByP2kuZXJySW5mby5leHRlbmRlZERhdGU9cjppLmVyckluZm8ud2ViUlRDPXtuYW1lOnIubmFtZSxtZXNzYWdlOnIubWVzc2FnZX0sY29uc29sZS5lcnJvcihcInZpZGVvQ29kZWMgZGV0ZWN0IGVycm9yOiBcIityKSksdCYmdChuP3tyZXN1bHQ6ZVtuXSxlcnJJbmZvOmkuZXJySW5mb306aSl9KSxyLG4pLFsyXSl9fSkpfSkpfSxlLnN1cHBvcnRWaWRlb0NvZGVUeXBlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksbixhLGMsdSxkLGwsaCxwLGc7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaT17d2ViUlRDOiExLEgyNjQ6ITEsVlA4OiExLFZQOTohMSxIMjY1OiExfSxyPzEhPT10fHxcIlZQOFwiIT09ciYmXCJIMjY0XCIhPT1yP1szLDJdOls0LChnPW5ldyBzLkNoZWNrTW9kdWxlKS5jaGVja1N1cHBvcnRCeVR5cGUocildOlszLDJdO2Nhc2UgMTpyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mKG49by5zZW50KCkpPyhpW3JdPW4sWzIsZShpKV0pOihpW3JdPSExLFsyLGUoaSxuKV0pO2Nhc2UgMjppZihcIndlYlJUQ1wiIT09ciYmMSE9PXQpcmV0dXJuWzMsN107by5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gby50cnlzLnB1c2goWzMsNSwsNl0pLFs0LChuZXcgUlRDUGVlckNvbm5lY3Rpb24pLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KV07Y2FzZSA0OnJldHVybiBvLnNlbnQoKSxpLndlYlJUQz0hMCxbMyw2XTtjYXNlIDU6cmV0dXJuIGE9by5zZW50KCksZSYmZShpLGEpLFszLDZdO2Nhc2UgNjppZihcIndlYlJUQ1wiPT09cilyZXR1cm5bMixlKGkpXTtvLmxhYmVsPTc7Y2FzZSA3OmlmKDE9PT10KXtmb3IoYz1cIlwiLGQ9W10sbD0wLGg9dT1bXCJWUDhcIixcIkgyNjRcIl07bDxoLmxlbmd0aDtsKyspcD1oW2xdLGc9bmV3IHMuQ2hlY2tNb2R1bGUsZC5wdXNoKGcuY2hlY2tTdXBwb3J0QnlUeXBlKHApKTtyZXR1cm4gUHJvbWlzZS5hbGwoZCkudGhlbigoZnVuY3Rpb24odCl7dC5mb3JFYWNoKChmdW5jdGlvbihlLHQpe1wiYm9vbGVhblwiPT10eXBlb2YgZT9pW3VbdF1dPSEwOihpW3VbdF1dPSExLGM9ZSl9KSksYz9lKGksYyk6ZShpKX0pKSxbMl19dHJ5eyhuZXcgUlRDUGVlckNvbm5lY3Rpb24pLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KS50aGVuKChmdW5jdGlvbih0KXtpZihpLndlYlJUQz0hMCx0JiZ0LnNkcCl7dmFyIG89dC5zZHAuc3BsaXQoXCJcXHJcXG5cIik7aWYoaS5IMjY0PW8uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnRzV2l0aChcImE9cnRwbWFwOlwiKSYmZS5pbmRleE9mKFwiSDI2NC9cIik+LTF9KSksXCJIMjY0XCI9PT1yKXJldHVybiBlKGkpO2lmKGkuVlA4PW8uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnRzV2l0aChcImE9cnRwbWFwOlwiKSYmZS5pbmRleE9mKFwiVlA4L1wiKT4tMX0pKSxcIlZQOFwiPT09cilyZXR1cm4gZShpKTtpLlZQOT1vLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXJ0c1dpdGgoXCJhPXJ0cG1hcDpcIikmJmUuaW5kZXhPZihcIlZQOS9cIik+LTF9KSksaS5IMjY1PW8uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnRzV2l0aChcImE9cnRwbWFwOlwiKSYmZS5pbmRleE9mKFwiSDI2NS9cIik+LTF9KSksZSYmZShpKX19KSl9Y2F0Y2godCl7ZSYmZShpLHQpfXJldHVyblsyXX19KSl9KSl9LGUuY2hlY2tTY3JlZW5QYXJhbXM9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmdm9pZCAwIT09ZS52aWRlb1F1YWxpdHkmJiFhLkNsaWVudFV0aWwuY2hlY2tJbnRlZ2VyKGUudmlkZW9RdWFsaXR5KSlyZXR1cm4gdChuLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgdmlkZW9RdWFsaXR5IG11c3QgYmUgaW50ZWdlciBudW1iZXJcIiksITE7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJnZvaWQgMCE9PWUuc291cmNlSUQmJlwic3RyaW5nXCIhPXR5cGVvZiBlLnNvdXJjZUlEKXJldHVybiB0KG4uWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixcIiBzb3VyY2VJRCBtdXN0IGJlIHN0cmluZ1wiKSwhMTtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmND09PWUudmlkZW9RdWFsaXR5KXtpZighYS5DbGllbnRVdGlsLmNoZWNrQ2FtZXJhT3JTY3JlZW5CaXRSYXRlKGUuYml0UmF0ZSx0KSlyZXR1cm4hMTtpZighYS5DbGllbnRVdGlsLmNoZWNrUGFyYW1zV2l0aENvbnN0cmFpbnRFeHRlbmQoZSx0KSlyZXR1cm4hMX1yZXR1cm4hMH0sZS5jaGVja0NhbWVyYVBhcmFtcz1mdW5jdGlvbihlLHQpe3JldHVybiEhYS5DbGllbnRVdGlsLmNoZWNrUGFyYW1zV2l0aENvbnN0cmFpbnRFeHRlbmQoZSx0KSYmISFhLkNsaWVudFV0aWwuY2hlY2tDYW1lcmFPclNjcmVlbkJpdFJhdGUoZS5iaXRSYXRlLHQpfSxlLmJhc2U2NFRvVWludDhBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9KGUrXCI9XCIucmVwZWF0KCg0LWUubGVuZ3RoJTQpJTQpKS5yZXBsYWNlKC9cXC0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKSxyPXdpbmRvdy5hdG9iKHQpLGk9bmV3IFVpbnQ4QXJyYXkoci5sZW5ndGgpLG89MDtvPHIubGVuZ3RoOysrbylpW29dPXIuY2hhckNvZGVBdChvKTtyZXR1cm4gaX0sZS5kZWNvZGVTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsQXJyYXkuZnJvbShlKSkpKX0sZS5lbmNvZGVTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShBcnJheS5mcm9tKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckNvZGVBdCgwKX0pKSl9LGV9KCk7dC5XZWJSVENVdGlsPWN9LDg0NjY6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQscixpKXt2b2lkIDA9PT1pJiYoaT1yKTt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik7byYmIShcImdldFwiaW4gbz8hdC5fX2VzTW9kdWxlOm8ud3JpdGFibGV8fG8uY29uZmlndXJhYmxlKXx8KG89e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbcl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxvKX06ZnVuY3Rpb24oZSx0LHIsaSl7dm9pZCAwPT09aSYmKGk9ciksZVtpXT10W3JdfSksbz10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSl9OmZ1bmN0aW9uKGUsdCl7ZS5kZWZhdWx0PXR9KSxuPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlcImRlZmF1bHRcIiE9PXImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZpKHQsZSxyKTtyZXR1cm4gbyh0LGUpLHR9LHM9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihvLG4pe2Z1bmN0aW9uIHMoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxhPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLG4scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbjtmdW5jdGlvbiBhKG4pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsaSYmKG89MiZuWzBdP2kucmV0dXJuOm5bMF0/aS50aHJvd3x8KChvPWkucmV0dXJuKSYmby5jYWxsKGkpLDApOmkubmV4dCkmJiEobz1vLmNhbGwoaSxuWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2goaT0wLG8mJihuPVsyJm5bMF0sby52YWx1ZV0pLG5bMF0pe2Nhc2UgMDpjYXNlIDE6bz1uO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpuWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssaT1uWzFdLG49WzBdO2NvbnRpbnVlO2Nhc2UgNzpuPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1uWzBdJiYyIT09blswXSkpe3M9MDtjb250aW51ZX1pZigzPT09blswXSYmKCFvfHxuWzFdPm9bMF0mJm5bMV08b1szXSkpe3MubGFiZWw9blsxXTticmVha31pZig2PT09blswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1uO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2gobik7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW49dC5jYWxsKGUscyl9Y2F0Y2goZSl7bj1bNixlXSxpPTB9ZmluYWxseXtyPW89MH1pZig1Jm5bMF0pdGhyb3cgblsxXTtyZXR1cm57dmFsdWU6blswXT9uWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sYV0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb1dlYlJUQz12b2lkIDA7dmFyIGM9cig5ODg3KSx1PXIoMzYwOCksZD1yKDMzNjQpLGw9cigyMzk5KSxoPXIoNjI2MikscD1yKDgzMzUpLGc9cig4NjY4KSxmPXIoNjU2MiksbT1yKDE4NTYpLF89cig1NjY0KSx2PW4ocig1NTE1KSksRT1yKDkzMzQpLFM9cig2NDIzKSxUPXIoMjk4MSksQz1yKDU3NDkpLHk9cig3OTgwKSxSPXIoOTI2MSksYj1yKDkyNjEpLEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkpe3ZvaWQgMD09PWkmJihpPTApO3ZhciBvPXRoaXM7dGhpcy5tZWRpYUVsZVNvdXJjZXM9W10sdGhpcy5sb2dnZXI9ZSx0aGlzLmRhdGFSZXBvcnQ9dCx0aGlzLmFjPW5ldyhcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0P3dlYmtpdEF1ZGlvQ29udGV4dDpBdWRpb0NvbnRleHQpLHRoaXMuYWMuYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsKGZ1bmN0aW9uKCl7XCJzdXNwZW5kZWRcIj09PW8uYWMuc3RhdGUmJm8uYWMucmVzdW1lKCl9KSksdGhpcy5jaGVja0F1ZGlvQ29udGV4dCgpLHRoaXMuc3RhdGVDZW50ZXI9bmV3IGwuU3RhdGVDZW50ZXIodGhpcy5sb2dnZXIsdGhpcy5kYXRhUmVwb3J0KSx0aGlzLnN0YXRlQ2VudGVyLmNsaWVudFR5cGU9XCJ3ZWJydGNcIix0aGlzLlJUTT1yLHRoaXMuc3RyZWFtQ2VudGVyPW5ldyBmLlplZ29TdHJlYW1DZW50ZXJXZWIodGhpcy5sb2dnZXIsdGhpcy5zdGF0ZUNlbnRlcix0aGlzLmRhdGFSZXBvcnQsdGhpcy5SVE0sdGhpcy5hYyx0aGlzLm1lZGlhRWxlU291cmNlcyksdGhpcy5ydGNNb2R1bGVzPW5ldyBnLlJUQ01vZHVsZXModGhpcy5sb2dnZXIsdGhpcy5kYXRhUmVwb3J0LHRoaXMuc3RhdGVDZW50ZXIsdGhpcy5zdHJlYW1DZW50ZXIsdGhpcy5SVE0sdGhpcy5hYyksdGhpcy5zdGF0ZUNlbnRlci5uZXR3b3JrU3RhdGU9bmF2aWdhdG9yP25hdmlnYXRvci5vbkxpbmU/Yy5FTlVNX05FVFdPUktfU1RBVEUub25saW5lOmMuRU5VTV9ORVRXT1JLX1NUQVRFLm9mZmxpbmU6Yy5FTlVNX05FVFdPUktfU1RBVEUub25saW5lLHRoaXMuc3RhdGVDZW50ZXIuYnJvd3Nlcj12LmJyb3dzZXJEZXRhaWxzLmJyb3dzZXIsdGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnPW5ldyBiLlplZ29TZXR0aW5nQ29uZmlnLHRoaXMuUlRNLmNsb3VkU2V0dGluZy5zZXRFbnZWYXJpYWJsZShcInNka192ZXJzaW9uXCIsYy5QUk9UT19WRVJTSU9OKSx0aGlzLlJUTS5jbG91ZFNldHRpbmcuZ2V0U2V0dGluZ0NhY2hlKFIuUlRDKS50aGVuKChmdW5jdGlvbihlKXtvLmxvZ2dlci5pbmZvKGguWkVHT19XRUJSVENfQUNUSU9OLkNPTlNUUlVDVE9SK1wiIHN0cmVhbUNvbmZpZyBcIitKU09OLnN0cmluZ2lmeShlKSk7dmFyIHQ9KDAsYy5nZXRSZXBvcnRTZXEpKCk7by5kYXRhUmVwb3J0Lm5ld1JlcG9ydCh0LHAuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0Nsb3VkU2V0dGluZ0NhY2hlLmV2ZW50KSxvLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyh0LHtmaWxlczpbe25hbWU6Ui5SVEMsY29udGVudDpudWxsPT1lP3ZvaWQgMDplLnNldHRpbmcsdmVyc2lvbnM6bnVsbD09ZT92b2lkIDA6ZS52ZXJzaW9uc31dfSksby5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydCh0KSxvLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuc2V0U2V0dGluZyhudWxsPT1lP3ZvaWQgMDplLnNldHRpbmcpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvLmxvZ2dlci53YXJuKGguWkVHT19XRUJSVENfQUNUSU9OLkNPTlNUUlVDVE9SK1wiIHN0cmVhbUNvbmZpZyBcIitKU09OLnN0cmluZ2lmeShlKSl9KSl9cmV0dXJuIGUucHJvdG90eXBlLmNoZWNrQXVkaW9Db250ZXh0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmFjJiZcInN1c3BlbmRlZFwiPT09dGhpcy5hYy5zdGF0ZSl7dmFyIHQ9ZnVuY3Rpb24oKXtlLmFjLnJlc3VtZSgpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0KX07d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHQpfX0sZS5wcm90b3R5cGUubXV0ZVB1Ymxpc2hTdHJlYW1WaWRlbz1mdW5jdGlvbihlLHQscil7cmV0dXJuITF9LGUucHJvdG90eXBlLm11dGVQdWJsaXNoU3RyZWFtQXVkaW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4hMX0sZS5wcm90b3R5cGUubXV0ZVBsYXlTdHJlYW1WaWRlbz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtjb25zb2xlLmVycm9yKFwic2hvdWxkIGluc3RhbGwgYWR2YW5jZWQgbW9kdWxlXCIpLGUoITEpfSkpfSxlLnByb3RvdHlwZS5tdXRlUGxheVN0cmVhbUF1ZGlvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2NvbnNvbGUuZXJyb3IoXCJzaG91bGQgaW5zdGFsbCBhZHZhbmNlZCBtb2R1bGVcIiksZSghMSl9KSl9LGUucHJvdG90eXBlLm11dGVNaWNyb3Bob25lPWZ1bmN0aW9uKGUpe3JldHVybiExfSxlLnByb3RvdHlwZS5pc01pY3JvcGhvbmVNdXRlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLnN0cmVhbUNlbnRlci5pc01pY0VuYWJsZWR9LGUucHJvdG90eXBlLnNldEF1ZGlvT3V0cHV0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oaC5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX0FVRElPX09VVFBVVCtcIiBjYWxsXCIpLFwic3RyaW5nXCIhPXR5cGVvZiB0Pyh0aGlzLmxvZ2dlci5lcnJvcihcImF1ZGlvb3V0cHV0IGlzIG5vdCBzdHJpbmdcIiksITEpOnRoaXMucnRjTW9kdWxlcy5wbGF5TW9kdWxlLnNldFN0cmVhbUF1ZGlvT3V0cHV0KGUsdCl9LGUucHJvdG90eXBlLnNldEN1c3RvbVNpZ25hbFVybD1mdW5jdGlvbihlKXtpZih0aGlzLmxvZ2dlci5pbmZvKGguWkVHT19XRUJSVENfQUNUSU9OLlNFVF9DVVNUT01fU0lHTkFMX1VSTCtcIiBjYWxsOiBcIitlKSxlJiYwIT1lLmxlbmd0aCl7dmFyIHQ9ITA7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gMCE9ZS5pbmRleE9mKFwid3NzOi8vXCIpJiYodD0hMSl9KSksdD90aGlzLnN0YXRlQ2VudGVyLmN1c3RvbVVybD1lOnRoaXMubG9nZ2VyLmVycm9yKGguWkVHT19XRUJSVENfQUNUSU9OLlNFVF9DVVNUT01fU0lHTkFMX1VSTCtcIiB1cmwgaXMgbm90IGNvcnJlY3RcIil9ZWxzZSB0aGlzLmxvZ2dlci5lcnJvcihoLlpFR09fV0VCUlRDX0FDVElPTi5TRVRfQ1VTVE9NX1NJR05BTF9VUkwrXCIgcGFyYW0gZXJyb3JcIil9LGUucHJvdG90eXBlLnNldEdXTm9kZT1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg+MCYmKHRoaXMuc3RyZWFtQ2VudGVyLmd3Tm9kZT1lKX0sZS5wcm90b3R5cGUuc2V0UXVhbGl0eU1vbml0b3JDeWNsZT1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmZT49MWUzPyh0aGlzLnN0cmVhbUNlbnRlci5zZXRRdWFsaXR5TW9uaXRvckN5Y2xlKGUpLCEwKToodGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5zcW1jLjAgdGltZSBtdXN0IGJlIG51bWJlciBhbmQgYmlnZ2VyIHRoYW4gMTAwMFwiKSwhMSl9LGUucHJvdG90eXBlLnN0YXJ0UGxheWluZ1N0cmVhbT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oaC5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfUExBWUlOR19TVFJFQU0rXCIgY2FsbCBieSB1c2VyXCIpLHRoaXMucnRjTW9kdWxlcy5wbGF5TW9kdWxlLnN0YXJ0UGxheWluZ1N0cmVhbShlLHQscil9LGUucHJvdG90eXBlLnN0b3BQbGF5aW5nU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8oaC5aRUdPX1dFQlJUQ19BQ1RJT04uU1RPUF9QTEFZSU5HX1NUUkVBTStcIiBjYWxsIGJ5IHVzZXJcIiksdGhpcy5ydGNNb2R1bGVzLnBsYXlNb2R1bGUuc3RvcFBsYXlpbmdTdHJlYW0oZSl9LGUucHJvdG90eXBlLnNldFBsYXlBY2NlbGVyYXRlPWZ1bmN0aW9uKGUpe3RoaXMuc3RhdGVDZW50ZXIucGxheUFjY2VsZXJhdGU9ZX0sZS5wcm90b3R5cGUuc2V0VHVybk92ZXJUY3BPbmx5PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8oaC5aRUdPX1dFQlJUQ19BQ1RJT04uU0VUX1RVUk5fT1ZFUl9UQ1BfT05MWStcIiBjYWxsIFwiK2UpLFwiYm9vbGVhblwiPT10eXBlb2YgZT90aGlzLnN0YXRlQ2VudGVyLnR1cm5PdmVyVGNwT25seT1lOnRoaXMubG9nZ2VyLmVycm9yKFwiemMucC5zdG90by4wIHBhcmFtIG11c3QgYmUgcGFyYW1cIil9LGUucHJvdG90eXBlLmNyZWF0ZVN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydGNNb2R1bGVzLnB1Ymxpc2hNb2R1bGUuY3JlYXRlU3RyZWFtKGUpfSxlLnByb3RvdHlwZS5kZXN0cm95U3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMucnRjTW9kdWxlcy5wdWJsaXNoTW9kdWxlLmRlc3Ryb3lTdHJlYW0oZSl9LGUucHJvdG90eXBlLnN0YXJ0UHVibGlzaGluZ1N0cmVhbT1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhoLlpFR09fV0VCUlRDX0FDVElPTi5TVEFSVF9QVUJMSVNISU5HX1NUUkVBTStcIiBjYWxsIGJ5IHVzZXJcIiksXCJib29sZWFuXCIhPXR5cGVvZiB0aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcImhhcmR3YXJlX2VuY29kZVwiKXx8dGhpcy5zdGF0ZUNlbnRlci5zY3JlZW5IYXJkd2FyZUVuY29kZXJ8fCh0aGlzLnN0YXRlQ2VudGVyLnNjcmVlbkhhcmR3YXJlRW5jb2Rlcj10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcImhhcmR3YXJlX2VuY29kZVwiKSksdGhpcy5ydGNNb2R1bGVzLnB1Ymxpc2hNb2R1bGUuc3RhcnRQdWJsaXNoaW5nU3RyZWFtKGUsdCxyLGkpfSxlLnByb3RvdHlwZS5hY3RpdmF0ZVNFSUluc2VydD1mdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS5lcnJvcihcInNob3VsZCBpbnN0YWxsIGFkdmFuY2VkIG1vZHVsZVwiKSwhMX0sZS5wcm90b3R5cGUuc2V0U0VJQ29uZmlnPWZ1bmN0aW9uKGUpe3RoaXMuc3RhdGVDZW50ZXIuc2VpQ29uZmlnPWV9LGUucHJvdG90eXBlLnNlbmRTRUk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5ydGNNb2R1bGVzLnB1Ymxpc2hNb2R1bGUuc2VuZFNFSShlLHQpfSxlLnByb3RvdHlwZS5zdG9wUHVibGlzaGluZ1N0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhoLlpFR09fV0VCUlRDX0FDVElPTi5TVE9QX1BVQkxJU0hJTkdfU1RSRUFNK1wiIGNhbGwgYnkgdXNlclwiKSx0aGlzLnJ0Y01vZHVsZXMucHVibGlzaE1vZHVsZS5zdG9wUHVibGlzaGluZ1N0cmVhbShlLHZvaWQgMCwhMCl9LGUucHJvdG90eXBlLnNldFZpZGVvQ29uZmlnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucnRjTW9kdWxlcy5hZHZhbmNlZE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYWR2YW5jZWRNb2R1bGUuc2V0VmlkZW9Db25maWcoZSx0KTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtjb25zb2xlLmVycm9yKFwic2hvdWxkIGluc3RhbGwgYWR2YW5jZWQgbW9kdWxlXCIpLGUoe2Vycm9yQ29kZTotMSxleHRlbmRlZERhdGE6XCJzaG91bGQgaW5zdGFsbCBhZHZhbmNlZCBtb2R1bGVcIn0pfSkpfSxlLnByb3RvdHlwZS5zZXRBdWRpb0NvbmZpZz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnJ0Y01vZHVsZXMuYWR2YW5jZWRNb2R1bGU/dGhpcy5ydGNNb2R1bGVzLmFkdmFuY2VkTW9kdWxlLnNldEF1ZGlvQ29uZmlnKGUsdCk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5lcnJvcihcInNob3VsZCBpbnN0YWxsIGFkdmFuY2VkIG1vZHVsZVwiKSxlKHtlcnJvckNvZGU6LTEsZXh0ZW5kZWREYXRhOlwic2hvdWxkIGluc3RhbGwgYWR2YW5jZWQgbW9kdWxlXCJ9KX0pKX0sZS5wcm90b3R5cGUucmVwbGFjZVRyYWNrPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5ydGNNb2R1bGVzLmFkdmFuY2VkTW9kdWxlP3RoaXMucnRjTW9kdWxlcy5hZHZhbmNlZE1vZHVsZS5yZXBsYWNlVHJhY2soZSx0LHIpOm5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2NvbnNvbGUuZXJyb3IoXCJzaG91bGQgaW5zdGFsbCBhZHZhbmNlZCBtb2R1bGVcIiksZSh7ZXJyb3JDb2RlOi0xLGV4dGVuZGVkRGF0YTpcInNob3VsZCBpbnN0YWxsIGFkdmFuY2VkIG1vZHVsZVwifSl9KSl9LGUucHJvdG90eXBlLnByZWxvYWRFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMCE9PXRoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUucHJlbG9hZEVmZmVjdChlLHQscik6Y29uc29sZS5lcnJvcihcIuacquW8leWFpea3t+mfs+aooeWdl1wiKX0sZS5wcm90b3R5cGUuZ2V0RWZmZWN0RHVyYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUuZ2V0RWZmZWN0RHVyYXRpb24oZSk6KGNvbnNvbGUuZXJyb3IoXCLmnKrlvJXlhaXmt7fpn7PmqKHlnZdcIiksMCl9LGUucHJvdG90eXBlLmdldEVmZmVjdEN1cnJlbnRQcm9ncmVzcz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGU/dGhpcy5ydGNNb2R1bGVzLmF1ZGlvTWl4TW9kdWxlLmdldEVmZmVjdFByb2dyZXNzKGUsdCk6KGNvbnNvbGUuZXJyb3IoXCLmnKrlvJXlhaXmt7fpn7PmqKHlnZdcIiksMCl9LGUucHJvdG90eXBlLnNlZWtBdWRpb0VmZmVjdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHZvaWQgMCE9PXRoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUuc2Vla0F1ZGlvRWZmZWN0KGUsdCxyKTooY29uc29sZS5lcnJvcihcIuacquW8leWFpea3t+mfs+aooeWdl1wiKSwhMSl9LGUucHJvdG90eXBlLnBsYXlFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMCE9PXRoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUucGxheUVmZmVjdChlLHQscik6Y29uc29sZS5lcnJvcihcIuacquW8leWFpea3t+mfs+aooeWdl1wiKX0sZS5wcm90b3R5cGUucGF1c2VFZmZlY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09dGhpcy5ydGNNb2R1bGVzLmF1ZGlvTWl4TW9kdWxlP3RoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZS5wYXVzZUVmZmVjdChlLHQpOihjb25zb2xlLmVycm9yKFwi5pyq5byV5YWl5re36Z+z5qih5Z2XXCIpLCExKX0sZS5wcm90b3R5cGUucmVzdW1lRWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUucmVzdW1lRWZmZWN0KGUsdCk6KGNvbnNvbGUuZXJyb3IoXCLmnKrlvJXlhaXmt7fpn7PmqKHlnZdcIiksITEpfSxlLnByb3RvdHlwZS5zdG9wRWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUuc3RvcEVmZmVjdChlLHQpOihjb25zb2xlLmVycm9yKFwi5pyq5byV5YWl5re36Z+z5qih5Z2XXCIpLCExKX0sZS5wcm90b3R5cGUudW5sb2FkRWZmZWN0PWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGU/dGhpcy5ydGNNb2R1bGVzLmF1ZGlvTWl4TW9kdWxlLnVubG9hZEVmZmVjdChlKTooY29uc29sZS5lcnJvcihcIuacquW8leWFpea3t+mfs+aooeWdl1wiKSwhMSl9LGUucHJvdG90eXBlLnNldEVmZmVjdFZvbHVtZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHZvaWQgMCE9PXRoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUuc2V0RWZmZWN0Vm9sdW1lKGUsdCxyKTooY29uc29sZS5lcnJvcihcIuacquW8leWFpea3t+mfs+aooeWdl1wiKSwhMSl9LGUucHJvdG90eXBlLnN0YXJ0TWl4aW5nQXVkaW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09dGhpcy5ydGNNb2R1bGVzLmF1ZGlvTWl4TW9kdWxlP3RoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZS5zdGFydE1peGluZ0F1ZGlvKGUsdCk6KGNvbnNvbGUuZXJyb3IoXCLmnKrlvJXlhaXmt7fpn7PmqKHlnZdcIiksITEpfSxlLnByb3RvdHlwZS5zdG9wTWl4aW5nQXVkaW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09dGhpcy5ydGNNb2R1bGVzLmF1ZGlvTWl4TW9kdWxlP3RoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZS5zdG9wTWl4aW5nQXVkaW8oZSx0KTooY29uc29sZS5lcnJvcihcIuacquW8leWFpea3t+mfs+aooeWdl1wiKSwhMSl9LGUucHJvdG90eXBlLm1peGluZ0J1ZmZlcj1mdW5jdGlvbihlLHQscixpKXt2b2lkIDAhPT10aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGU/dGhpcy5ydGNNb2R1bGVzLmF1ZGlvTWl4TW9kdWxlLm1peGluZ0J1ZmZlcihlLHQscixpKTpjb25zb2xlLmVycm9yKFwi5pyq5byV5YWl5re36Z+z5qih5Z2XXCIpfSxlLnByb3RvdHlwZS5zdG9wTWl4aW5nQnVmZmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUuc3RvcE1peGluZ0J1ZmZlcihlLHQpOihjb25zb2xlLmVycm9yKFwi5pyq5byV5YWl5re36Z+z5qih5Z2XXCIpLCExKX0sZS5wcm90b3R5cGUuc2V0TWl4aW5nQXVkaW9Wb2x1bWU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2b2lkIDAhPT10aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGU/dGhpcy5ydGNNb2R1bGVzLmF1ZGlvTWl4TW9kdWxlLnNldE1peGluZ0F1ZGlvVm9sdW1lKGUsdCxyKTooY29uc29sZS5lcnJvcihcIuacquW8leWFpea3t+mfs+aooeWdl1wiKSwhMSl9LGUucHJvdG90eXBlLmNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzPWZ1bmN0aW9uKHQscil7dmFyIGk9dGhpcyxvPW5hdmlnYXRvciYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKGUuc2NyZWVuU2hvdFJlYWR5fHxcImdldERpc3BsYXlNZWRpYVwiaW4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oaC5aRUdPX1dFQlJUQ19BQ1RJT04uQ0hFQ0tfU1VQUE9SVCtcIiBjYWxsXCIrbmF2aWdhdG9yLnVzZXJBZ2VudCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3ZhciBuPSgwLGMuZ2V0UmVwb3J0U2VxKSgpO2kuZGF0YVJlcG9ydC5uZXdSZXBvcnQobixwLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDaGVja1N5c3RlbVJlcXVpcmVtZW50cy5ldmVudCk7dmFyIHM9cnx8XCJhbGxcIixhPWZ1bmN0aW9uKHQpe2kuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKG4se2NhcGFiaWxpdHk6cC5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ2hlY2tTeXN0ZW1SZXF1aXJlbWVudHMuY2FwYWJpbGl0eSh0KX0pLGkuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobik7dmFyIHI9aS5zdGF0ZUNlbnRlci5jaGVja0xpc3QuaW5kZXhPZihzKTtpLnN0YXRlQ2VudGVyLmNoZWNrTGlzdC5zcGxpY2UociwxKSxlKHQpfTtyZXR1cm5bXCJ3ZWJSVENcIixcImN1c3RvbUNhcHR1cmVcIixcImNhbWVyYVwiLFwibWljcm9waG9uZVwiLFwic2NyZWVuU2hhcmluZ1wiLFwiSDI2NFwiLFwiVlA4XCIsXCJhbGxcIl0uaW5jbHVkZXMocykmJlswLDFdLmluY2x1ZGVzKHQpP2kuc3RhdGVDZW50ZXIuY2hlY2tMaXN0LmluY2x1ZGVzKHMpfHxpLnN0YXRlQ2VudGVyLmNoZWNrTGlzdC5pbmNsdWRlcyhcImFsbFwiKT9hKHtyZXN1bHQ6ITEsZXJySW5mbzp7ZXh0ZW5kZWREYXRlOlwiVGhlIGxhc3QgdGVzdCBvZiB0aGUgc2FtZSB0eXBlIGhhcyBub3QgcmV0dXJuZWQgYSByZXN1bHQgXCJ9fSk6KGkuc3RhdGVDZW50ZXIuY2hlY2tMaXN0LnB1c2gocyksdm9pZCBkLldlYlJUQ1V0aWwuc3VwcG9ydERldGVjdGlvbihvLGEsdCxyKSk6YSh7cmVzdWx0OiExLGVyckluZm86e2V4dGVuZGVkRGF0ZTpcInBhcmFtIGVycm9yXCJ9fSl9KSl9LGUucHJvdG90eXBlLmVudW1EZXZpY2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGksbyxuLHMsdSxkLGwsaCxnLGYsbSxfLHY9dGhpcztyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmxvZ2dlci5pbmZvKFwiemMuZWQuMCBjYWxsXCIpLHI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9KDAsYy5nZXRSZXBvcnRTZXEpKCk7di5kYXRhUmVwb3J0Lm5ld1JlcG9ydChyLHAuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0VudW1EZXZpY2VzLmV2ZW50KTt2LnJ0Y01vZHVsZXMucHVibGlzaE1vZHVsZS5yZWNvcmREZXZpY2VzKChmdW5jdGlvbih0KXt2YXIgaT1bXSxvPSEwLG49ITA7dC5jYW1lcmFzLmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiXCI9PT1lLmRldmljZUlEJiYobz0hMSksaS5wdXNoKHtkZXZpY2U6ZS5kZXZpY2VOYW1lLHR5cGU6MH0pfSkpLHQubWljcm9waG9uZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJcIj09PWUuZGV2aWNlSUQmJihuPSExKSxpLnB1c2goe2RldmljZTplLmRldmljZU5hbWUsdHlwZToxfSl9KSksdC5zcGVha2Vycy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wdXNoKHtkZXZpY2U6ZS5kZXZpY2VOYW1lLHR5cGU6Mn0pfSkpLHYuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHIse2Rldl9saXN0OnAuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0VudW1EZXZpY2VzLmRldl9saXN0KGkpfSksdi5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChyKSxlKHtkZXZpY2VzOnQsZW5hYmxlQ2FtZXJhOm8sZW5hYmxlTWljOm59KX0pLChmdW5jdGlvbihlKXt2LmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhyLGUpLHYuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQociksdChlKX0pKX0pKX0sWzQscigpXTtjYXNlIDE6cmV0dXJuIGk9YS5zZW50KCksbz1pLmVuYWJsZUNhbWVyYSxuPWkuZW5hYmxlTWljLHM9aS5kZXZpY2VzLGU/KHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy5lZC4wIGNoZWNrIHBlcm1pc3Npb25cIiksdT17dmlkZW86ITAsYXVkaW86ITB9LFwidmlkZW9pbnB1dFwiPT09dD91LmF1ZGlvPSExOlwiYXVkaW9pbnB1dFwiIT09dCYmXCJhdWRpb291dHB1dFwiIT09dHx8KHUudmlkZW89ITEpLGw9dS5hdWRpbyYmIW4sKGQ9dS52aWRlbyYmIW8pfHxsPyh0aGlzLmxvZ2dlci5pbmZvKFwiemMuZWQuMCBuZWVkIHRvIGdldCBkZXZpY2UgcGVybWlzc2lvbi4gbmVlZENhbWVyYTogXCIuY29uY2F0KGQsXCIsIG5lZWRNaWM6IFwiKS5jb25jYXQobCkpLFs0LG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHUpLmNhdGNoKChmdW5jdGlvbigpe30pKV0pOlszLDRdKTpbMyw0XTtjYXNlIDI6cmV0dXJuKGg9YS5zZW50KCkpJiZoLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSkpLFs0LHIoKV07Y2FzZSAzOmc9YS5zZW50KCksZj1nLmRldmljZXMsbT1nLmVuYWJsZUNhbWVyYSxfPWcuZW5hYmxlTWljLHUudmlkZW8mJiFtJiZ0aGlzLmxvZ2dlci53YXJuKFwiemMuZWQuMCBnZXQgdmlkZW8gZGV2aWNlIHBlcm1pc3Npb24gZmFpbGVkLlwiKSx1LmF1ZGlvJiYhXyYmdGhpcy5sb2dnZXIud2FybihcInpjLmVkLjAgZ2V0IGF1ZGlvIGRldmljZSBwZXJtaXNzaW9uIGZhaWxlZC5cIikscz1mLGEubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzIsc119fSkpfSkpfSxlLnByb3RvdHlwZS5nZXRDYW1lcmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5lbnVtRGV2aWNlcyghMCxcInZpZGVvaW5wdXRcIildO2Nhc2UgMTpyZXR1cm5bMixlLnNlbnQoKS5jYW1lcmFzXX19KSl9KSl9LGUucHJvdG90eXBlLmdldE1pY3JvcGhvbmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5lbnVtRGV2aWNlcyghMCxcImF1ZGlvaW5wdXRcIildO2Nhc2UgMTpyZXR1cm5bMixlLnNlbnQoKS5taWNyb3Bob25lc119fSkpfSkpfSxlLnByb3RvdHlwZS5nZXRTcGVha2Vycz1mdW5jdGlvbigpe3JldHVybiBzKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZW51bURldmljZXMoITAsXCJhdWRpb291dHB1dFwiKV07Y2FzZSAxOnJldHVyblsyLGUuc2VudCgpLnNwZWFrZXJzXX19KSl9KSl9LGUucHJvdG90eXBlLmdldEF1ZGlvSW5mbz1mdW5jdGlvbihlLHQscil7fSxlLnByb3RvdHlwZS5nZXRTb3VuZExldmVsPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGU/dGhpcy5ydGNNb2R1bGVzLmF1ZGlvTWl4TW9kdWxlLmdldFNvdW5kTGV2ZWwoZSx0LHIpOmNvbnNvbGUuZXJyb3IoXCLmnKrlvJXlhaXmt7fpn7PmqKHlnZdcIil9LGUucHJvdG90eXBlLnN0b3BTb3VuZExldmVsPWZ1bmN0aW9uKGUpe3RoaXMucnRjTW9kdWxlcy5hdWRpb01peE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYXVkaW9NaXhNb2R1bGUuc3RvcFNvdW5kTGV2ZWwoZSk6Y29uc29sZS5lcnJvcihcIuacquW8leWFpea3t+mfs+aooeWdl1wiKX0sZS5oYW5kbGVEYXRhQXZhaWxhYmxlPWZ1bmN0aW9uKHQpe3QuZGF0YSYmdC5kYXRhLnNpemU+MCYmZS5yZWNvcmRlZEJsb2JzLnB1c2godC5kYXRhKX0sZS5wcm90b3R5cGUuc3RhcnRSZWNvcmQ9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5zdG9wUmVjb3JkPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5yZXN1bWVSZWNvcmQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnBhdXNlUmVjb3JkPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zYXZlUmVjb3JkPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUudXNlVmlkZW9EZXZpY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5ydGNNb2R1bGVzLmFkdmFuY2VkTW9kdWxlP3RoaXMucnRjTW9kdWxlcy5hZHZhbmNlZE1vZHVsZS51c2VWaWRlb0RldmljZShlLHQpOm5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2Uoe2Vycm9yQ29kZTotMSxleHRlbmRlZERhdGE6XCJzaG91bGQgaW5zdGFsbCBhZHZhbmNlZCBtb2R1bGVcIn0pfSkpfSxlLnByb3RvdHlwZS51c2VBdWRpb0RldmljZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnJ0Y01vZHVsZXMuYWR2YW5jZWRNb2R1bGU/dGhpcy5ydGNNb2R1bGVzLmFkdmFuY2VkTW9kdWxlLnVzZUF1ZGlvRGV2aWNlKGUsdCk6KGNvbnNvbGUuZXJyb3IoXCJzaG91bGQgdXNlIGFkdmFuY2VkIG1vZHVsZSBmaXJzdFwiKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtlKHtlcnJvckNvZGU6LTEsZXh0ZW5kZWREYXRhOlwic2hvdWxkIGluc3RhbGwgYWR2YW5jZWQgbW9kdWxlXCJ9KX0pKSl9LGUucHJvdG90eXBlLmdldEVsZWN0cm9uU2NyZWVuU291cmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJ0Y01vZHVsZXMucHVibGlzaE1vZHVsZS5nZXRFbGVjdHJvblNjcmVlblNvdXJjZXMoKX0sZS5wcm90b3R5cGUuc2V0U291bmRMZXZlbERlbGVnYXRlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmxvZ2dlci5pbmZvKFwiemMuc3NkLjAgY2FsbFwiKSxcImJvb2xlYW5cIj09dHlwZW9mIGU/dCYmKCF0aGlzLnN0YXRlQ2VudGVyLmNoZWNrSW50ZWdlcih0KXx8dDwxMDB8fHQ+M2UzKT90aGlzLmxvZ2dlci5lcnJvcihcInpjLnNzZC4wIHNvdW5kTGV2ZWwgaW50ZXJ2YWwgbXVzdCBiZSBpbnRlZ2VyIG51bWJlciB3aGljaCBpcyBiZXR3ZWVuIDEwMCBhbmQgMzAwMFwiKTp0aGlzLnN0cmVhbUNlbnRlci5zZXRTb3VuZExldmVsRGVsZWdhdGUoZSx0LHIpOnRoaXMubG9nZ2VyLmVycm9yKFwiemMuc3NkLjAgcGFyYW0gMSBtdXN0IGJlIGJvb2xlYW5cIil9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucnRjTW9kdWxlcy5iaW5kTGlzdGVuZXIoZSx0KX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucnRjTW9kdWxlcy5kZWxldGVMaXN0ZW5lcihlLHQpfSxlLnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGMuUFJPVE9fVkVSU0lPTn0sZS5wcm90b3R5cGUuc2V0U3RyZWFtRXh0cmFJbmZvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2NvbnNvbGUuZXJyb3IoXCJzaG91bGQgdXNlIGFkdmFuY2VkIG1vZHVsZSBmaXJzdFwiKSx0KCl9KSl9LGUucHJvdG90eXBlLmFkZFB1Ymxpc2hDZG5Vcmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhcInpnLmNtLmFwdSBjYWxsIFwiLGUsdCksdGhpcy5ydGNNb2R1bGVzLnN0cmVhbUNvbW1vbk1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuc3RyZWFtQ29tbW9uTW9kdWxlLnB1Ymxpc2hUYXJnZXQoe3R5cGU6XCJhZGRwdXNoXCIsc3RyZWFtSUQ6ZSxwdXNoVXJsOnR9KTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtjb25zb2xlLmVycm9yKFwic2hvdWxkIGluc3RhbGwgYWR2YW5jZWQgbW9kdWxlXCIpLGUoe2Vycm9yQ29kZTotMSxleHRlbmRlZERhdGE6XCJzaG91bGQgaW5zdGFsbCBhZHZhbmNlZCBtb2R1bGVcIn0pfSkpfSxlLnByb3RvdHlwZS5yZW1vdmVQdWJsaXNoQ2RuVXJsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJ6Zy5jbS5hcHUgY2FsbCBcIixlLHQpLHRoaXMucnRjTW9kdWxlcy5zdHJlYW1Db21tb25Nb2R1bGU/dGhpcy5ydGNNb2R1bGVzLnN0cmVhbUNvbW1vbk1vZHVsZS5wdWJsaXNoVGFyZ2V0KHt0eXBlOlwiZGVscHVzaFwiLHN0cmVhbUlEOmUscHVzaFVybDp0fSk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5lcnJvcihcInNob3VsZCBpbnN0YWxsIGFkdmFuY2VkIG1vZHVsZVwiKSxlKHtlcnJvckNvZGU6LTEsZXh0ZW5kZWREYXRhOlwic2hvdWxkIGluc3RhbGwgYWR2YW5jZWQgbW9kdWxlXCJ9KX0pKX0sZS5wcm90b3R5cGUuc3RhcnRNaXhlclRhc2s9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2NvbnNvbGUuZXJyb3IoXCLmnKrlvJXlhaXmt7fmtYHmqKHlnZdcIiksdCgpfSkpfSxlLnByb3RvdHlwZS5zZXRNaXhlclRhc2tDb25maWc9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2NvbnNvbGUuZXJyb3IoXCLmnKrlvJXlhaXmt7fmtYHmqKHlnZdcIiksdCgpfSkpfSxlLnByb3RvdHlwZS5zdG9wTWl4ZXJUYXNrPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtjb25zb2xlLmVycm9yKFwi5pyq5byV5YWl5re35rWB5qih5Z2XXCIpLHQoKX0pKX0sZS5wcm90b3R5cGUuc2V0Q2FwdHVyZVZvbHVtZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnJ0Y01vZHVsZXMucHVibGlzaE1vZHVsZS5zZXRDYXB0dXJlVm9sdW1lKGUsdCl9LGUudXNlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcIkF1ZGlvTWl4XCI6dC5pbnN0YWxsKGcuUlRDTW9kdWxlcyxfLlplZ29QdWJsaXNoKTticmVhaztjYXNlXCJNaXhTdHJlYW1cIjp0Lmluc3RhbGwoZSxtLlN0cmVhbUhhbmRsZXIsZy5SVENNb2R1bGVzKTticmVhaztjYXNlXCJTdHJlYW1Db21tb25cIjp0Lmluc3RhbGwoZSxnLlJUQ01vZHVsZXMsbS5TdHJlYW1IYW5kbGVyKTticmVhaztjYXNlXCJBZHZhbmNlXCI6dC5pbnN0YWxsKGUsZy5SVENNb2R1bGVzLG0uU3RyZWFtSGFuZGxlcixFLlplZ29QcmV2aWV3LFMuUGxheU1vZHVsZSxULlB1Ymxpc2hNb2R1bGUsXy5aZWdvUHVibGlzaCxDLlplZ29TaWduYWwpO2JyZWFrO2Nhc2VcIkJlYXV0eUVmZmVjdFwiOnQuaW5zdGFsbChlLEUuWmVnb1ByZXZpZXcpO2JyZWFrO2Nhc2VcIlJhbmdlQXVkaW9cIjpjYXNlXCJEYXRhQ2hhbm5lbFwiOmNhc2VcIkFpRGVub2lzZVwiOnQuaW5zdGFsbChlKX19LGUucHJvdG90eXBlLmNyZWF0ZVJhbmdlQXVkaW9JbnN0YW5jZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcInNob3VsZCB1c2UgcmFuZ2UgYXVkaW8gbW9kdWxlXCIpfSxlLnByb3RvdHlwZS5jcmVhdGVSZWFsVGltZVNlcXVlbnRpYWxEYXRhTWFuYWdlcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJzaG91bGQgdXNlIGRhdGFjaGFubmVsIG1vZHVsZVwiKX0sZS5wcm90b3R5cGUuZGVzdHJveVJlYWxUaW1lU2VxdWVudGlhbERhdGFNYW5hZ2VyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInNob3VsZCB1c2UgZGF0YWNoYW5uZWwgbW9kdWxlXCIpfSxlLnByb3RvdHlwZS5lbmFibGVEYXRhQ2hhbm5lbD1mdW5jdGlvbihlKXtcImJvb2xlYW5cIj09dHlwZW9mIGUmJih0aGlzLnN0cmVhbUNlbnRlci5pc0RhdGFDaGFubmVsRW5hYmxlZD1lKX0sZS5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7dGhyb3cgbmV3IEVycm9yKFwidXNlIGFkdmFuY2VkIG1vZHVsZSBmaXJzdFwiKX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7dGhyb3cgbmV3IEVycm9yKFwidXNlIGFkdmFuY2VkIG1vZHVsZSBmaXJzdFwiKX0pKX0sZS5wcm90b3R5cGUuc2V0QmVhdXR5RWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5lcnJvcihcInNob3VsZCBpbnN0YWxsIHZpZGVvIGVmZmVjdCBtb2R1bGUgYW5kIGFkdmFuY2VkIG1vZHVsZVwiKSxlKHtlcnJvckNvZGU6LTEsZXh0ZW5kZWREYXRhOlwic2hvdWxkIGluc3RhbGwgdmlkZW8gZWZmZWN0IG1vZHVsZSBhbmQgYWR2YW5jZWQgbW9kdWxlXCJ9KX0pKX0sZS5wcm90b3R5cGUuc2V0TG93bGlnaHRFbmhhbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2NvbnNvbGUuZXJyb3IoXCJzaG91bGQgaW5zdGFsbCB2aWRlbyBlZmZlY3QgbW9kdWxlIGFuZCBhZHZhbmNlZCBtb2R1bGVcIiksZSh7ZXJyb3JDb2RlOi0xLGV4dGVuZGVkRGF0YTpcInNob3VsZCBpbnN0YWxsIHZpZGVvIGVmZmVjdCBtb2R1bGUgYW5kIGFkdmFuY2VkIG1vZHVsZVwifSl9KSl9LGUucHJvdG90eXBlLmdldFB1Ymxpc2hpbmdTdHJlYW1RdWFsaXR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ0Y01vZHVsZXMucHVibGlzaE1vZHVsZS5nZXRTdHJlYW1TdGF0cyhlKX0sZS5wcm90b3R5cGUuZ2V0UGxheWluZ1N0cmVhbVF1YWxpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnRjTW9kdWxlcy5wbGF5TW9kdWxlLmdldFN0cmVhbVN0YXRzKGUpfSxlLnByb3RvdHlwZS5jaGVja0F1ZGlvVHJhY2tJc0FjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gTWVkaWFTdHJlYW1UcmFjayBpbnN0YW5jZW9mIGUmJlwidmlkZW9cIj09PWUua2luZD91LkNsaWVudFV0aWwuY2hlY2tBdWRpb1RyYWNrSXNBY3RpdmUoZSk6KHRoaXMubG9nZ2VyLmVycm9yKFwiemMuY2FpYS4wIHRyYWNrIHR5cGUgZXJyb3JcIiksITEpfSxlLnByb3RvdHlwZS5jaGVja1ZpZGVvVHJhY2tJc0FjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gTWVkaWFTdHJlYW1UcmFjayBpbnN0YW5jZW9mIGUmJlwiYXVkaW9cIj09PWUua2luZD91LkNsaWVudFV0aWwuY2hlY2tWaWRlb1RyYWNrSXNBY3RpdmUoZSk6KHRoaXMubG9nZ2VyLmVycm9yKFwiemMuY3ZpYS4wIHRyYWNrIHR5cGUgZXJyb3JcIiksITEpfSxlLnByb3RvdHlwZS5zZXREdW1teUNhcHR1cmVJbWFnZVBhdGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5ydGNNb2R1bGVzLmFkdmFuY2VkTW9kdWxlP3RoaXMucnRjTW9kdWxlcy5hZHZhbmNlZE1vZHVsZS5zZXREdW1teUNhcHR1cmVJbWFnZVBhdGgoZSx0KTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtjb25zb2xlLmVycm9yKFwic2hvdWxkIGluc3RhbGwgYWR2YW5jZWQgbW9kdWxlXCIpLGUoITEpfSkpfSxlLnByb3RvdHlwZS5zZXRBY2Nlc3M9ZnVuY3Rpb24oZSl7dGhpcy5SVE0uc2V0QWNjZXNzKGUpLHRoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQ9dGhpcy5SVE0uZ2V0U2V0dGluZ1VuaWZ5KCEwKSx0aGlzLlJUTS5zZXRBY2Nlc3ModGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudCksdGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudD10aGlzLlJUTS5nZXRVc2VOZXRBZ2VudCgpfSxlLnByb3RvdHlwZS5zZXRBdWRpb091dHB1dERldmljZT1mdW5jdGlvbihlLHQpe3JldHVybiBzKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybihyPW51bGw9PWU/dm9pZCAwOmUuc2V0U2lua0lkKT8oZS5zZXRzaW5raWQmJihlLnNldHNpbmtpZC5lbmFibGVkPSEwKSxbNCxyLmNhbGwoZSx0KV0pOlszLDJdO2Nhc2UgMTpyZXR1cm4gaS5zZW50KCksWzIsITBdO2Nhc2UgMjp0aHJvdyBFcnJvcihcIkJyb3dzZXIgbm90IHN1cHBvcnQgc2V0IGF1ZGlvIG91dHB1dC5cIil9fSkpfSkpfSxlLnByb3RvdHlwZS5lbmFibGVDYW1lcmFDYXB0dXJpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITApLHModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwic2hvdWxkIHVzZSBhZHZhbmNlZCBtb2R1bGUgZmlyc3RcIiksWzIsITFdfSkpfSkpfSxlLnByb3RvdHlwZS5lbmFibGVEdWFsU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMucnRjTW9kdWxlcy5hZHZhbmNlZE1vZHVsZT90aGlzLnJ0Y01vZHVsZXMuYWR2YW5jZWRNb2R1bGUuZW5hYmxlRHVhbFN0cmVhbShlKTpjb25zb2xlLmVycm9yKFwidXNlIGFkdmFuY2UgbW9kdWxlIGZpcnN0XCIpfSxlLnByb3RvdHlwZS5zZXRMb3dTdHJlYW1QYXJhbWV0ZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLnJ0Y01vZHVsZXMuYWR2YW5jZWRNb2R1bGU/dGhpcy5ydGNNb2R1bGVzLmFkdmFuY2VkTW9kdWxlLnNldExvd1N0cmVhbVBhcmFtZXRlcihlLHQpOmNvbnNvbGUuZXJyb3IoXCJ1c2UgYWR2YW5jZSBtb2R1bGUgZmlyc3RcIil9LGUucHJvdG90eXBlLnNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGU9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhcInpjLnNyZHZzIGNhbGxcIiksWzAsMSwyXS5pbmNsdWRlcyhlKT90aGlzLnN0YXRlQ2VudGVyLnN0cmVhbVR5cGU9ZTp0aGlzLmxvZ2dlci5lcnJvcihcInpjLnNyZHZzIHN0cmVhbVR5cGUgbXVzdCBiZSBudW1iZXIgMCBvciAxIG9yIDJcIil9LGUucHJvdG90eXBlLmVuYWJsZVZpZGVvSGFyZHdhcmVFbmNvZGVyPWZ1bmN0aW9uKGUpe1wiYm9vbGVhblwiPT10eXBlb2YgZSYmKHRoaXMuc3RhdGVDZW50ZXIuc2NyZWVuSGFyZHdhcmVFbmNvZGVyPWUsdGhpcy5zdGF0ZUNlbnRlci5oYXJkd2FyZUVuY29kZXI9ZSl9LGUucHJvdG90eXBlLmNyZWF0ZUxvY2FsVmlld2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyhlKSxyPW51bGw9PXQ/dm9pZCAwOnQuZ2V0Vmlld2VyKCk7aWYoIXIpdGhyb3cgRXJyb3IoXCJjcmVhdGUgdmlld2VyIGZhaWxlZC5cIik7cmV0dXJuIG5ldyB5LlplZ29TdHJlYW1WaWV3KHIpfSxlLnByb3RvdHlwZS5jcmVhdGVSZW1vdGVWaWV3ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdHJlYW1DZW50ZXIuY2hlY2tQbGF5ZXIoZSkscj1udWxsPT10P3ZvaWQgMDp0LmdldFZpZXdlcigpO2lmKCFyKXRocm93IEVycm9yKFwiY3JlYXRlIHZpZXdlciBmYWlsZWQuXCIpO3JldHVybiBuZXcgeS5aZWdvU3RyZWFtVmlldyhyKX0sZS5wcm90b3R5cGUuZW5hYmxlQWlEZW5vaXNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2NvbnNvbGUuZXJyb3IoXCJzaG91bGQgaW5zdGFsbCBhaSBkZW5vaXNlIG1vZHVsZSBhbmQgYWR2YW5jZWQgbW9kdWxlXCIpLGUoe2Vycm9yQ29kZTotMSxleHRlbmRlZERhdGE6XCJzaG91bGQgaW5zdGFsbCBhaSBkZW5vaXNlIG1vZHVsZSBhbmQgYWR2YW5jZWQgbW9kdWxlXCJ9KX0pKX0sZS5zY3JlZW5TaG90UmVhZHk9ITEsZX0oKTt0LlplZ29XZWJSVEM9SSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhLnR5cGUscj1lLm9yaWdpbjtyIT09d2luZG93LmxvY2F0aW9uLm9yaWdpbiYmY29uc29sZS53YXJuKFwiU2NyZWVuU3RyZWFtOiB5b3Ugc2hvdWxkIGRpc2NhcmQgZm9yZWlnbiBldmVudCBmcm9tIG9yaWdpbjpcIixyKSxcIlNTX1BJTkdcIj09PXQmJihJLnNjcmVlblNob3RSZWFkeT0hMCl9KSl9LDI0MjQ6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQW5hbG9nU29ja2V0PXZvaWQgMDt2YXIgaSxvLG49cig5ODg3KSxzPXIoNjI2Mik7IWZ1bmN0aW9uKGUpe2VbZS5Db25uZWN0ZWQ9MF09XCJDb25uZWN0ZWRcIixlW2UuRGlzY29ubmVjdGVkPTFdPVwiRGlzY29ubmVjdGVkXCIsZVtlLkJyb2tlbj0yXT1cIkJyb2tlblwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5BVVRPPTBdPVwiQVVUT1wiLGVbZS5NQU5VQUw9MV09XCJNQU5VQUxcIn0ob3x8KG89e30pKTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsbyl7dmFyIHM9dGhpczt0aGlzLnNlcnZlcj1lLHRoaXMubmV0QWdlbnQ9dCx0aGlzLnNpZ25hbENvbmZpZz1yLHRoaXMubG9nZ2VyPW8sdGhpcy5yZWFkeVN0YXRlPVdlYlNvY2tldC5DTE9TRUQsdGhpcy5pc0FjdGl2ZT0hMSx0aGlzLmFjY2Vzc1NlcnZlclN0YXRlPWkuRGlzY29ubmVjdGVkLHRoaXMub3JpZ2luQWNjZXNzU2VydmVyU3RhdGU9aS5EaXNjb25uZWN0ZWQsdGhpcy5tZWRpYVNlcnZlclN0YXRlPWkuRGlzY29ubmVjdGVkLHRoaXMub3JpZ2luTWVkaWFTZXJ2ZXJTdGF0ZT1pLkRpc2Nvbm5lY3RlZCx0aGlzLmV2ZW50SGFuZGxlcj17YWNjZXNzRGlzY29ubmVjdDpmdW5jdGlvbigpe3Muc2V0QWNjZXNzU2VydmVyU3RhdGUoaS5EaXNjb25uZWN0ZWQpfSxhY2Nlc3NDb25uZWN0OmZ1bmN0aW9uKCl7cy5zZXRBY2Nlc3NTZXJ2ZXJTdGF0ZShpLkNvbm5lY3RlZCl9LGFjY2Vzc0Jyb2tlbjpmdW5jdGlvbigpe3Muc2V0QWNjZXNzU2VydmVyU3RhdGUoaS5Ccm9rZW4pfSxtZWRpYURpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXtzLnNldE1lZGlhU2VydmVyU3RhdGUoaS5EaXNjb25uZWN0ZWQpfSxtZWRpYUNvbm5lY3Q6ZnVuY3Rpb24oZSl7cy5zZXRNZWRpYVNlcnZlclN0YXRlKGkuQ29ubmVjdGVkLGUpfSxtZWRpYUJyb2tlbjpmdW5jdGlvbigpe3Muc2V0TWVkaWFTZXJ2ZXJTdGF0ZShpLkJyb2tlbil9fSx0aGlzLndzSGFuZGxlcj10LmdldFBDUmVxdWVzdChcInVuaWZpZWRfcnRjXCI9PT1lP24uQnVzaW5lc3NTZXJ2aWNlLlNFUlZJQ0VfV0VCUlRDX1NJR05BTDpuLkJ1c2luZXNzU2VydmljZS5TRVJWSUNFX0wzX1dFQlJUQ19TSUdOQUwse3BhdGg6ci5wYXRoLHF1ZXJ5OnIucXVlcnl9KSx0aGlzLnNldEFjY2Vzc1NlcnZlclN0YXRlKHQuaXNDb25uZWN0KCk/aS5Db25uZWN0ZWQ6aS5EaXNjb25uZWN0ZWQpLHRoaXMuc2V0TWVkaWFTZXJ2ZXJTdGF0ZSgwPT09dGhpcy53c0hhbmRsZXIuY29ubmVjdFN0YXRlP2kuQ29ubmVjdGVkOmkuRGlzY29ubmVjdGVkKX1yZXR1cm4gZS5wcm90b3R5cGUudXBkYXRlQWNjZXNzUmVhZHlTdGF0ZT1mdW5jdGlvbigpe3RoaXMuaXNBY3RpdmUmJnRoaXMuYWNjZXNzU2VydmVyU3RhdGU9PT1pLkNvbm5lY3RlZCYmdGhpcy5tZWRpYVNlcnZlclN0YXRlIT09aS5Db25uZWN0ZWQ/dGhpcy5vbnJlY29ubm5lY3RpbmcmJnRoaXMub25yZWNvbm5uZWN0aW5nKCk6dGhpcy5hY2Nlc3NTZXJ2ZXJTdGF0ZT09PWkuRGlzY29ubmVjdGVkJiZ0aGlzLmxvZ2dlci53YXJuKHMuWkVHT19XRUJSVENfQUNUSU9OLkFOQUxPR1NPQ0tFVF9VUERBVEVfQUNDRVNTX1JFQURZX1NUQVRFK1wiIGFjY2VzcyB0aW1lb3V0XCIpfSxlLnByb3RvdHlwZS51cGRhdGVNZWRpYVJlYWR5U3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uQU5BTE9HU09DS0VUX1VQREFURV9NRURJQV9SRUFEWV9TVEFURStcIiBcIitlKSx0aGlzLm1lZGlhU2VydmVyU3RhdGU9PT1pLkNvbm5lY3RlZD8odGhpcy5vcmlnaW5NZWRpYVNlcnZlclN0YXRlPT09aS5Ccm9rZW4mJmU9PT1vLkFVVE8mJnRoaXMub25yZWNvbm5uZWN0aW5nJiZ0aGlzLm9ucmVjb25ubmVjdGluZygpLHZvaWQodGhpcy5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJih0aGlzLnJlYWR5U3RhdGU9V2ViU29ja2V0Lk9QRU4sdGhpcy5vbm9wZW4mJnRoaXMub25vcGVuKCkpKSk6dGhpcy5tZWRpYVNlcnZlclN0YXRlPT09aS5EaXNjb25uZWN0ZWQ/KHRoaXMud3NIYW5kbGVyLm9mZihcImNvbm5lY3RlZFwiLHRoaXMuZXZlbnRIYW5kbGVyLm1lZGlhQ29ubmVjdCksdGhpcy53c0hhbmRsZXIub2ZmKFwiZGlzY29ubmVjdGVkXCIsdGhpcy5ldmVudEhhbmRsZXIubWVkaWFEaXNjb25uZWN0KSx0aGlzLndzSGFuZGxlci5vZmYoXCJicm9rZW5cIix0aGlzLmV2ZW50SGFuZGxlci5tZWRpYUJyb2tlbiksdGhpcy53c0hhbmRsZXIub2ZmKFwiZG93bkxvYWRNZXNzYWdlXCIpLHRoaXMubmV0QWdlbnQub2ZmKFwiY29ubmVjdGVkXCIsdGhpcy5ldmVudEhhbmRsZXIuYWNjZXNzQ29ubmVjdCksdGhpcy5uZXRBZ2VudC5vZmYoXCJkaXNjb25uZWN0ZWRcIix0aGlzLmV2ZW50SGFuZGxlci5hY2Nlc3NEaXNjb25uZWN0KSx0aGlzLm5ldEFnZW50Lm9mZihcImJyb2tlblwiLHRoaXMuZXZlbnRIYW5kbGVyLmFjY2Vzc0Jyb2tlbiksdm9pZCh0aGlzLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuQ0xPU0VEJiYodGhpcy5yZWFkeVN0YXRlPVdlYlNvY2tldC5DTE9TRUQsdGhpcy5vbmNsb3NlJiZ0aGlzLm9uY2xvc2UoKSkpKTp2b2lkKHRoaXMubWVkaWFTZXJ2ZXJTdGF0ZT09PWkuQnJva2VuJiYodGhpcy5yZWFkeVN0YXRlPVdlYlNvY2tldC5DT05ORUNUSU5HLHRoaXMub25lcnJvciYmdGhpcy5vbmVycm9yKG5ldyBFdmVudChcInNpZ25hbCBjb25uZWN0aW5nXCIpKSkpfSxlLnByb3RvdHlwZS5zZXRNZWRpYVNlcnZlclN0YXRlPWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5BTkFMT0dTT0NLRVRfU0VUX01FRElBX1NFUlZFUl9TVEFURStcIiBcIitlK1wiIFwiK3QpLHRoaXMubWVkaWFTZXJ2ZXJTdGF0ZSE9PWU/KHRoaXMub3JpZ2luTWVkaWFTZXJ2ZXJTdGF0ZT10aGlzLm1lZGlhU2VydmVyU3RhdGUsdGhpcy5tZWRpYVNlcnZlclN0YXRlPWUsdGhpcy51cGRhdGVNZWRpYVJlYWR5U3RhdGUodCkpOnRoaXMubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uQU5BTE9HU09DS0VUX1NFVF9NRURJQV9TRVJWRVJfU1RBVEUrXCIgc2FtZSBzdGF0ZVwiKX0sZS5wcm90b3R5cGUuc2V0QWNjZXNzU2VydmVyU3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5BTkFMT0dTT0NLRVRfU0VUX0FDQ0VTU19TRVJWRVJfU1RBVEUrXCIgXCIrZSksdGhpcy5hY2Nlc3NTZXJ2ZXJTdGF0ZSE9PWU/KHRoaXMub3JpZ2luQWNjZXNzU2VydmVyU3RhdGU9dGhpcy5hY2Nlc3NTZXJ2ZXJTdGF0ZSx0aGlzLmFjY2Vzc1NlcnZlclN0YXRlPWUsdGhpcy51cGRhdGVBY2Nlc3NSZWFkeVN0YXRlKCkpOnRoaXMubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uQU5BTE9HU09DS0VUX1NFVF9BQ0NFU1NfU0VSVkVSX1NUQVRFK1wiIHNhbWUgc3RhdGVcIil9LGUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaXNBY3RpdmU9ITAsdGhpcy5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5BTkFMT0dTT0NLRVRfT1BFTitcIiBzdGF0ZSBcIit0aGlzLm1lZGlhU2VydmVyU3RhdGUpLHRoaXMubWVkaWFTZXJ2ZXJTdGF0ZT09PWkuRGlzY29ubmVjdGVkJiYodGhpcy53c0hhbmRsZXIub24oXCJjb25uZWN0ZWRcIix0aGlzLmV2ZW50SGFuZGxlci5tZWRpYUNvbm5lY3QpLHRoaXMud3NIYW5kbGVyLm9uKFwiZGlzY29ubmVjdGVkXCIsdGhpcy5ldmVudEhhbmRsZXIubWVkaWFEaXNjb25uZWN0KSx0aGlzLndzSGFuZGxlci5vbihcImJyb2tlblwiLHRoaXMuZXZlbnRIYW5kbGVyLm1lZGlhQnJva2VuKSx0aGlzLm5ldEFnZW50Lm9uKFwiY29ubmVjdGVkXCIsdGhpcy5ldmVudEhhbmRsZXIuYWNjZXNzQ29ubmVjdCksdGhpcy5uZXRBZ2VudC5vbihcImRpc2Nvbm5lY3RlZFwiLHRoaXMuZXZlbnRIYW5kbGVyLmFjY2Vzc0Rpc2Nvbm5lY3QpLHRoaXMubmV0QWdlbnQub24oXCJicm9rZW5cIix0aGlzLmV2ZW50SGFuZGxlci5hY2Nlc3NCcm9rZW4pLHRoaXMud3NIYW5kbGVyLm9uKFwiZG93bkxvYWRNZXNzYWdlXCIsKGZ1bmN0aW9uKHQpe2UubG9nZ2VyLmluZm8oXCJ6Yy5hcy5vcCBkb3dubG9hZCBtc2cgXCIrdCksZS5vbm1lc3NhZ2Uoe2RhdGE6dH0pfSkpKX0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlPSExLHRoaXMud3NIYW5kbGVyLm9mZihcImNvbm5lY3RlZFwiLHRoaXMuZXZlbnRIYW5kbGVyLm1lZGlhQ29ubmVjdCksdGhpcy53c0hhbmRsZXIub2ZmKFwiZGlzY29ubmVjdGVkXCIsdGhpcy5ldmVudEhhbmRsZXIubWVkaWFEaXNjb25uZWN0KSx0aGlzLndzSGFuZGxlci5vZmYoXCJicm9rZW5cIix0aGlzLmV2ZW50SGFuZGxlci5tZWRpYUJyb2tlbiksdGhpcy53c0hhbmRsZXIub2ZmKFwiZG93bkxvYWRNZXNzYWdlXCIpLHRoaXMubmV0QWdlbnQub2ZmKFwiY29ubmVjdGVkXCIsdGhpcy5ldmVudEhhbmRsZXIuYWNjZXNzQ29ubmVjdCksdGhpcy5uZXRBZ2VudC5vZmYoXCJkaXNjb25uZWN0ZWRcIix0aGlzLmV2ZW50SGFuZGxlci5hY2Nlc3NEaXNjb25uZWN0KSx0aGlzLm5ldEFnZW50Lm9mZihcImJyb2tlblwiLHRoaXMuZXZlbnRIYW5kbGVyLmFjY2Vzc0Jyb2tlbiksdGhpcy53c0hhbmRsZXIuY2xvc2VSZXF1ZXN0KCl9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7dGhpcy53c0hhbmRsZXIuc2VuZFJlcXVlc3Qoe3BheWxvYWQ6ZSxhY2s6dCxpc0luU2VuZE1hcDpyfSwoZnVuY3Rpb24oZSl7aS5sb2dnZXIuaW5mbyhzLlpFR09fV0VCUlRDX0FDVElPTi5BTkFMT0dTT0NLRVRfU0VORCtcIiBmYWlsIFwiK2UpLGkub25lcnJvciYmaS5vbmVycm9yKGUpfSksKGZ1bmN0aW9uKGUpe2kubG9nZ2VyLmluZm8ocy5aRUdPX1dFQlJUQ19BQ1RJT04uQU5BTE9HU09DS0VUX1NFTkQrXCIgc3VjIFwiK2UpfSkpfSxlLnByb3RvdHlwZS5vbm9wZW49ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25tZXNzYWdlPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25yZWNvbm5uZWN0aW5nPWZ1bmN0aW9uKCl7fSxlfSgpO3QuQW5hbG9nU29ja2V0PWF9LDc4OTk6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNoZWNrTW9kdWxlPXZvaWQgMDt2YXIgbj1yKDMxMTEpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIGU9dGhpczt0aGlzLmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVRpbWVzPTAsdGhpcy5pc0NoZWNrQWxsPSExO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7dC5nZXRDb250ZXh0KFwiMmRcIikuZmlsbFN0eWxlPVwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiO3RyeXt0aGlzLmxvY2FsU3RyZWFtPXQuY2FwdHVyZVN0cmVhbSgpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJjYW52YXMgY2FwdHVyZVN0cmVhbSBlcnJvclwiLGUpfXRoaXMudGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLnJlc29sdmUoXCJEZXRlY3Rpb24gdGltZW91dFwiKSxlLmhhbmd1cCgpfSksNWUzKX1yZXR1cm4gZS5wcm90b3R5cGUuY2hlY2tTdXBwb3J0QnlUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxyLGk9dGhpcztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNoZWNrVHlwZT1lLHQ9e30sdGhpcy5sb2NhbFBjPW5ldyBSVENQZWVyQ29ubmVjdGlvbih0KSx0aGlzLnJlbW90ZVBjPW5ldyBSVENQZWVyQ29ubmVjdGlvbih0KSxyPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gaS5yZXNvbHZlPWV9KSksdGhpcy5sb2NhbFBjLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2VjYW5kaWRhdGVcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGkub25JY2VDYW5kaWRhdGUoaS5sb2NhbFBjLGUpfSkpLHRoaXMucmVtb3RlUGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNhbmRpZGF0ZVwiLChmdW5jdGlvbihlKXtyZXR1cm4gaS5vbkljZUNhbmRpZGF0ZShpLnJlbW90ZVBjLGUpfSkpLHRoaXMucmVtb3RlUGMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLChmdW5jdGlvbih0KXtcImNvbm5lY3RlZFwiPT09aS5yZW1vdGVQYy5pY2VDb25uZWN0aW9uU3RhdGUmJihpLmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVJlc3VsdD0hMCksMj09KytpLmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVRpbWVzJiZpLmljZUNhbmRpZGF0ZSYmKGNsZWFyVGltZW91dChpLnRpbWVyKSxpLnJlc29sdmUoXCJjb25uZWN0ZWRcIj09PWkucmVtb3RlUGMuaWNlQ29ubmVjdGlvblN0YXRlfHxcIlRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgXCIuY29uY2F0KGUsXCIgZm9ybWF0XCIpKSxpLmhhbmd1cCgpKX0pKSx0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBpLmxvY2FsUGMuYWRkVHJhY2soZSxpLmxvY2FsU3RyZWFtKX0pKSxbNCx0aGlzLmNoZWNrKGUpXTtjYXNlIDE6cmV0dXJuIG8uc2VudCgpLFs0LHJdO2Nhc2UgMjpyZXR1cm5bMixvLnNlbnQoKV19fSkpfSkpfSxlLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiBpLnRyeXMucHVzaChbMCwyLCwzXSksWzQsdGhpcy5sb2NhbFBjLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KV07Y2FzZSAxOnJldHVybih0PWkuc2VudCgpKS5zZHA9bi5TZHBVdGlsLmdldFNEUEJ5VmlkZURlY29kZVR5cGUodC5zZHAsZSksdGhpcy5vbkNyZWF0ZU9mZmVyU3VjY2Vzcyh0KSxbMywzXTtjYXNlIDI6cmV0dXJuIHI9aS5zZW50KCksdGhpcy5vbkNyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbkVycm9yKHIpLFszLDNdO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5vbkNyZWF0ZU9mZmVyU3VjY2Vzcz1mdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQscixpLG47cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gby50cnlzLnB1c2goWzAsMiwsM10pLFs0LHRoaXMubG9jYWxQYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpXTtjYXNlIDE6cmV0dXJuIG8uc2VudCgpLFszLDNdO2Nhc2UgMjpyZXR1cm4gdD1vLnNlbnQoKSx0aGlzLm9uU2V0U2Vzc2lvbkRlc2NyaXB0aW9uRXJyb3IodCksWzJdO2Nhc2UgMzpyZXR1cm4gby50cnlzLnB1c2goWzMsNSwsNl0pLFs0LHRoaXMucmVtb3RlUGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSldO2Nhc2UgNDpyZXR1cm4gby5zZW50KCksWzMsNl07Y2FzZSA1OnJldHVybiByPW8uc2VudCgpLHRoaXMub25TZXRTZXNzaW9uRGVzY3JpcHRpb25FcnJvcihyKSxbMl07Y2FzZSA2OnJldHVybiBvLnRyeXMucHVzaChbNiw5LCwxMF0pLFs0LHRoaXMucmVtb3RlUGMuY3JlYXRlQW5zd2VyKCldO2Nhc2UgNzpyZXR1cm4gaT1vLnNlbnQoKSxbNCx0aGlzLm9uQ3JlYXRlQW5zd2VyU3VjY2VzcyhpKV07Y2FzZSA4OnJldHVybiBvLnNlbnQoKSxbMywxMF07Y2FzZSA5OnJldHVybiBuPW8uc2VudCgpLHRoaXMub25DcmVhdGVTZXNzaW9uRGVzY3JpcHRpb25FcnJvcihuKSxbMl07Y2FzZSAxMDpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5vbkNyZWF0ZUFuc3dlclN1Y2Nlc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHI7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaS50cnlzLnB1c2goWzAsMiwsM10pLFs0LHRoaXMucmVtb3RlUGMuc2V0TG9jYWxEZXNjcmlwdGlvbihlKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxbMywzXTtjYXNlIDI6cmV0dXJuIHQ9aS5zZW50KCksdGhpcy5vblNldFNlc3Npb25EZXNjcmlwdGlvbkVycm9yKHQpLFsyXTtjYXNlIDM6cmV0dXJuIGkudHJ5cy5wdXNoKFszLDUsLDZdKSxbNCx0aGlzLmxvY2FsUGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oZSldO2Nhc2UgNDpyZXR1cm4gaS5zZW50KCksWzMsNl07Y2FzZSA1OnJldHVybiByPWkuc2VudCgpLHRoaXMub25TZXRTZXNzaW9uRGVzY3JpcHRpb25FcnJvcihyKSxbMl07Y2FzZSA2OnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLm9uSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGkudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCx0aGlzLmdldE90aGVyUGMoZSkuYWRkSWNlQ2FuZGlkYXRlKHQuY2FuZGlkYXRlKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxbMywzXTtjYXNlIDI6cmV0dXJuIHI9aS5zZW50KCksY29uc29sZS5lcnJvcih0aGlzLmNoZWNrVHlwZSxcIlwiLmNvbmNhdCh0aGlzLmdldFBjTmFtZShlKSxcIiBhZGRJY2VDYW5kaWRhdGUgZXJyb3JcIiksciksY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMuaGFuZ3VwKCksdGhpcy5yZXNvbHZlKHIpLFszLDNdO2Nhc2UgMzpyZXR1cm5cInJlbW90ZVBjXCI9PT10aGlzLmdldFBjTmFtZShlKSYmdC5jYW5kaWRhdGUmJih0aGlzLmljZUNhbmRpZGF0ZT0hMCksdGhpcy5pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VSZXN1bHQmJlwibG9jYWxQY1wiPT09dGhpcy5nZXRQY05hbWUoZSkmJihjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy5oYW5ndXAoKSx0aGlzLnJlc29sdmUoITApKSxbMl19fSkpfSkpfSxlLnByb3RvdHlwZS5nZXRPdGhlclBjPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcy5sb2NhbFBjP3RoaXMucmVtb3RlUGM6dGhpcy5sb2NhbFBjfSxlLnByb3RvdHlwZS5nZXRQY05hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzLmxvY2FsUGM/XCJsb2NhbFBjXCI6XCJyZW1vdGVQY1wifSxlLnByb3RvdHlwZS5vbkNyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbkVycm9yPWZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIHNlc3Npb24gZGVzY3JpcHRpb246IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKSxjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy5oYW5ndXAoKSx0aGlzLnJlc29sdmUoZSl9LGUucHJvdG90eXBlLm9uU2V0U2Vzc2lvbkRlc2NyaXB0aW9uRXJyb3I9ZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZXQgc2Vzc2lvbiBkZXNjcmlwdGlvbjogXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLmhhbmd1cCgpLHRoaXMucmVzb2x2ZShlKX0sZS5wcm90b3R5cGUuaGFuZ3VwPWZ1bmN0aW9uKCl7dGhpcy5sb2NhbFBjLmNsb3NlKCksdGhpcy5yZW1vdGVQYy5jbG9zZSgpLHRoaXMuaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlVGltZXM9MCx0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3AoKX0pKX0sZX0oKTt0LkNoZWNrTW9kdWxlPXN9LDE0NjY6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpLG89dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SZXRyeURpc3BhdGNoSGFuZGxlcj12b2lkIDA7dmFyIG49cigyNjEpLHM9cig5ODg3KSxhPXIoNjI2MiksYz1yKDgzMzUpLHU9cig3NzE2KSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbyl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnJldHJ5QWN0aXZlQ291bnQ9MSxuLlJFVFJZX01BWF9USU1FPTkwLG4ubG9nZ2VyPXQsbi5zdGF0ZUNlbnRlcj1yLG4ucnRtPWksbi5zdHJlYW1DZW50ZXI9byxufXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuaW5pdFN0cmVhbT1mdW5jdGlvbihlLHQscil7dGhpcy5zdHJlYW1JRD1lLHRoaXMucGxheU9wdGlvbj10LHRoaXMuaXNQdWJsaXNoPXJ9LHQucHJvdG90eXBlLmFjdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oYS5aRUdPX1dFQlJUQ19BQ1RJT04uUkRIX0FDVElWRStcIiByZXRyeSBjYWxsIFwiK3RoaXMuc3RyZWFtSUQpLHRoaXMucnRtLmlzRGlzQ29ubmVjdCgpJiZ0aGlzLnN0YXRlQ2VudGVyLm5ldHdvcmtTdGF0ZT09cy5FTlVNX05FVFdPUktfU1RBVEUub2ZmbGluZSlyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhhLlpFR09fV0VCUlRDX0FDVElPTi5SREhfQUNUSVZFK1wiIG5ldHdvcmsgaXMgYnJva2VuLCBzdG9wIHJldHJ5XCIpLCExO2lmKHRoaXMucmV0cnlUaW1lcilyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhhLlpFR09fV0VCUlRDX0FDVElPTi5SREhfQUNUSVZFK1wiIGhhcyBhY3RpdmUsIGlnbm9yZVwiKSwhMTtpZih0aGlzLmlzT3ZlclRpbWUpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oYS5aRUdPX1dFQlJUQ19BQ1RJT04uUkRIX0FDVElWRStcIiByZXRyeSBvdmVyIHRpbWUsIHN0b3AgcmV0cnlcIiksITE7aWYoIXRoaXMucnRtLmlzTG9naW4oKSl7dGhpcy5zdG9wTWF4VGltZSgpLHRoaXMuaW52YWxpZCgpO3ZhciByPXRoaXMuaXNQdWJsaXNoP3RoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdGhpcy5zdHJlYW1JRF06dGhpcy5zdHJlYW1DZW50ZXIucGxheWVyTGlzdFt0aGlzLnN0cmVhbUlEXTtyJiYoci5pc1JlRGlzcGF0Y2g9ITApfXZhciBpPXRoaXMucmV0cnlBY3RpdmVDb3VudC0xLG89dGhpcy5wbGF5T3B0aW9uJiYyPT10aGlzLnBsYXlPcHRpb24ucmVzb3VyY2VNb2RlPzE6MCxuPXtzdHJlYW1faWQ6dGhpcy5zdHJlYW1JRCxwdHlwZTp0aGlzLmlzUHVibGlzaD9cInB1c2hcIjpcInB1bGxcIixzaWduYWxzOnRoaXMuc3RyZWFtQ2VudGVyLmdldEFsbEluVXNlVXJsKCksaGVhZGVyX2t2czpbe2tleTpcImdycGMtbWV0YWRhdGEtcHVzaFwiLHZhbHVlOnRoaXMucGxheU9wdGlvbiYmdGhpcy5wbGF5T3B0aW9uLmNkblVybHx8XCJcIn1dLHJldHJ5OmksY2VudGVyX2FiaWxpdHk6ITAsZGlzcGF0Y2hfdHlwZTpvfTtyZXR1cm4gdGhpcy5yZXRyeVRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5yZXRyeVRpbWVyKSx0aGlzLnJldHJ5VGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnJldHJ5VGltZXI9bnVsbCx0LnJldHJ5QWN0aXZlQ291bnQrKzt2YXIgZT10LnN0cmVhbUNlbnRlci5nZXRSb29tQnlTdHJlYW1JRCh0LnN0cmVhbUlEKSxyPXQucnRtLnNlcnZpY2Uuc2VuZE1lc3NhZ2UoXCJ3ZWJydGNfdXJsXCIsbiwoZnVuY3Rpb24oZSxyKXt0LmhhbmRsZUZldGNoV2ViUnRjVXJsUnNwKGUpfSksKGZ1bmN0aW9uKGUscil7dC5oYW5kbGVGZXRjaFdlYlJ0Y1VybFJzcChlKX0pLHZvaWQgMCx7c2Vzc2lvbklEOm51bGw9PWU/dm9pZCAwOmUuc2Vzc2lvbklELHJvb21JRDpudWxsPT1lP3ZvaWQgMDplLnJvb21JRCxyb29tU2Vzc2lvbklEOm51bGw9PWU/dm9pZCAwOmUucm9vbVNlc3Npb25JRH0pO3QuaXNQdWJsaXNoJiZyP3Quc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdC5zdHJlYW1JRF0mJih0LnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3Quc3RyZWFtSURdLnNlcT1yKTpyJiZ0LnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W3Quc3RyZWFtSURdJiYodC5zdHJlYW1DZW50ZXIucGxheWVyTGlzdFt0LnN0cmVhbUlEXS5zZXE9cil9KSxcIm51bWJlclwiPT10eXBlb2YgZT9lOjFlMyp0aGlzLnJldHJ5QWN0aXZlSW50ZXJ2YWwpLHRoaXMubG9nZ2VyLmluZm8oYS5aRUdPX1dFQlJUQ19BQ1RJT04uUkRIX0FDVElWRStcIiBjYWxsIHN1Y2Nlc3NcIiksITB9LHQucHJvdG90eXBlLnN0YXJ0TWF4VGltZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tYXhUaW1lcnx8KHRoaXMubWF4VGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLmxvZ2dlci53YXJuKFwiXCIuY29uY2F0KGEuWkVHT19XRUJSVENfQUNUSU9OLlJESF9NQVhfVElNRSxcIiBcIikuY29uY2F0KGUuc3RyZWFtSUQsXCIgZGlzcGF0Y2ggb3ZlciBtYXggdGltZSBcIikuY29uY2F0KGUuUkVUUllfTUFYX1RJTUUsXCJzIHN0b3AgcmV0cnlcIikpLGUuaXNPdmVyVGltZT0hMCxlLmludmFsaWQoKTt2YXIgdD1jLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQbGF5U3RhcnQuZXJyb3Iua1BsYXlEaXNwYXRjaEVycm9yO3QubWVzc2FnZT10Lm1lc3NhZ2UrXCIgdHJ5IG1heCBsaW1pdFwiLGUuaXNQdWJsaXNoP2Uuc3RyZWFtQ2VudGVyLm9uUHVibGlzaFN0YXRlVXBkYXRlKHMuRU5VTV9QVUJMSVNIX1NUQVRFX1VQREFURS5lcnJvcixlLnN0cmVhbUlELHQpOmUuc3RyZWFtQ2VudGVyLm9uUGxheVN0YXRlVXBkYXRlKHMuRU5VTV9QTEFZX1NUQVRFX1VQREFURS5lcnJvcixlLnN0cmVhbUlELHQpfSksMWUzKnRoaXMuUkVUUllfTUFYX1RJTUUpKX0sdC5wcm90b3R5cGUuc3RvcE1heFRpbWU9ZnVuY3Rpb24oKXt0aGlzLm1heFRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5tYXhUaW1lciksdGhpcy5tYXhUaW1lcj1udWxsfSx0LnByb3RvdHlwZS5vbmFjdGl2ZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XX0sdC5wcm90b3R5cGUuaGFuZGxlRmV0Y2hXZWJSdGNVcmxSc3A9ZnVuY3Rpb24oZSl7aWYoZS5jb2RlJiZbdS5lcnJvckNvZGVMaXN0LlRJTUVPVVQuY29kZV0uaW5jbHVkZXMoZS5jb2RlKSl0aGlzLmFjdGl2ZSgpO2Vsc2V7aWYoZS5jb2RlJiZbdS5lcnJvckNvZGVMaXN0LlNPQ0tFVF9DTE9TRS5jb2RlXS5pbmNsdWRlcyhlLmNvZGUpKXJldHVybiB0aGlzLnN0b3BNYXhUaW1lKCksdGhpcy5pbnZhbGlkKCksdm9pZCh0aGlzLmlzUHVibGlzaD90aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3RoaXMuc3RyZWFtSURdLmlzUmVEaXNwYXRjaD0hMDp0aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W3RoaXMuc3RyZWFtSURdLmlzUmVEaXNwYXRjaD0hMCk7dmFyIHQ9ZSxyPXQuYm9keS5zdHJlYW1faWQsaT0hMTtpZih0aGlzLmlzUHVibGlzaCYmKCF0aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3JdfHx0LmhlYWRlci5zZXEhPT10aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3RoaXMuc3RyZWFtSURdLnNlcSkpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oYS5aRUdPX1dFQlJUQ19BQ1RJT04uUkRIX1dFQlJUQ19VUkxfUlNQK1wiIHNlcSBpcyBub3QgbWF0Y2gsIGlnbm9yZSBcIit0aGlzLnN0cmVhbUlEKSx0aGlzLnN0b3BNYXhUaW1lKCksdm9pZCB0aGlzLmludmFsaWQoKTtpZighKHRoaXMuaXNQdWJsaXNofHx0aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W3RoaXMuc3RyZWFtSURdJiZ0LmhlYWRlci5zZXE9PT10aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W3RoaXMuc3RyZWFtSURdLnNlcSkpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oYS5aRUdPX1dFQlJUQ19BQ1RJT04uUkRIX1dFQlJUQ19VUkxfUlNQK1wiIHNlcSBpcyBub3QgbWF0Y2gsIGlnbm9yZSBcIit0aGlzLnN0cmVhbUlEKSx0aGlzLnN0b3BNYXhUaW1lKCksdm9pZCB0aGlzLmludmFsaWQoKTtpZih0aGlzLnN0YXRlQ2VudGVyLmNsaWVudElQPXQuYm9keS5jbGllbnRpcHx8XCJcIiwwPT09dC5ib2R5LmVycl9jb2RlfHwyIT10LmJvZHkubmVlZF9hY3Rpb24paWYoMD09PXQuYm9keS5lcnJfY29kZXx8MT09PXQuYm9keS5uZWVkX2FjdGlvbnx8WzMxMDJdLmluY2x1ZGVzKHQuYm9keS5lcnJfY29kZSkpe2lmKHRoaXMuc3RvcE1heFRpbWUoKSx0aGlzLmludmFsaWQoKSx0LmJvZHkudXJscyYmQXJyYXkuaXNBcnJheSh0LmJvZHkudXJscykmJnQuYm9keS51cmxzLmxlbmd0aD4wP2k9ITA6dGhpcy5sb2dnZXIuZXJyb3IoYS5aRUdPX1dFQlJUQ19BQ1RJT04uUkRIX1dFQlJUQ19VUkxfUlNQK1wiIHNpZ25hbCB1cmwgaXMgZW1wdHlcIiksXCJwdXNoXCI9PT10LmJvZHkucHR5cGUmJnRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3Rbcl0pe2lmKCFpKXJldHVybiB2b2lkIHRoaXMuc3RyZWFtQ2VudGVyLm9uUHVibGlzaFN0YXRlVXBkYXRlKHMuRU5VTV9QVUJMSVNIX1NUQVRFX1VQREFURS5lcnJvcixyLGMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rUHVibGlzaERpc3BhdGNoRXJyb3IpO3ZhciBvPXRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3Rbcl07dGhpcy5zdGF0ZUNlbnRlci5wdWJsaXNoU3RyZWFtTGlzdFtyXT8oby50dGw9dC5ib2R5Lmhvc3RzX3R0bD8obmV3IERhdGUpLmdldFRpbWUoKSsxZTMqdC5ib2R5Lmhvc3RzX3R0bDowLG8uaXNDZW50ZXJOb2RlPVwiYm9vbGVhblwiPT10eXBlb2YgdC5ib2R5LmlzX2NlbnRlcl9ub2RlJiZ0LmJvZHkuaXNfY2VudGVyX25vZGUsby5zZXJ2ZXJVcmxzPXQuYm9keS51cmxzLHRoaXMuc3RyZWFtQ2VudGVyLnN0YXJ0UHVibGlzaGluZ1N0cmVhbShyKSk6dGhpcy5sb2dnZXIuZXJyb3IoYS5aRUdPX1dFQlJUQ19BQ1RJT04uUkRIX1dFQlJUQ19VUkxfUlNQK1wiIG5vIHN0cmVhbWlkIHRvIHB1Ymxpc2hcIil9ZWxzZSBpZihcInB1bGxcIj09dC5ib2R5LnB0eXBlJiZ0aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W3JdKXt2YXIgbjtpZighaSlyZXR1cm4obj1jLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQbGF5U3RhcnQuZXJyb3Iua1BsYXlEaXNwYXRjaEVycm9yKS5tZXNzYWdlPW4ubWVzc2FnZSsodC5ib2R5LmVycl9jb2RlP1wiIHNlcnZlciBlcnJvcjpcIit0LmJvZHkuZXJyX2NvZGU6XCJcIiksMzEwMj09PXQuYm9keS5lcnJfY29kZSYmKG49Yy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtQbGF5VW5zdXBwb3J0ZWRSZXNvdXJjZU1vZGUpLHZvaWQgdGhpcy5zdHJlYW1DZW50ZXIub25QbGF5U3RhdGVVcGRhdGUocy5FTlVNX1BMQVlfU1RBVEVfVVBEQVRFLmVycm9yLHIsbik7dmFyIGQ9dGhpcy5zdHJlYW1DZW50ZXIucGxheWVyTGlzdFtyXTtkLnR0bD10LmJvZHkuaG9zdHNfdHRsPyhuZXcgRGF0ZSkuZ2V0VGltZSgpKzFlMyp0LmJvZHkuaG9zdHNfdHRsOjAsZC5pc0NlbnRlck5vZGU9XCJib29sZWFuXCI9PXR5cGVvZiB0LmJvZHkuaXNfY2VudGVyX25vZGUmJnQuYm9keS5pc19jZW50ZXJfbm9kZSxkLnNlcnZlclVybHM9dC5ib2R5LnVybHMsdGhpcy5zdHJlYW1DZW50ZXIuc3RhcnRQbGF5aW5nU3RyZWFtKHIsdGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudCx0aGlzLnN0cmVhbUNlbnRlci5wbGF5U3VjY2Vzc0NhbGxCYWNrTGlzdFtyXSl9fWVsc2UgdGhpcy5yZXRyeUFjdGl2ZUludGVydmFsPU1hdGguZmxvb3IoMypNYXRoLnJhbmRvbSgpKSszLDI9PXRoaXMucmV0cnlBY3RpdmVDb3VudCYmKChuPWMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdGFydC5lcnJvci5rUGxheURpc3BhdGNoRXJyb3IpLm1lc3NhZ2U9bi5tZXNzYWdlKyh0LmJvZHkuZXJyX2NvZGU/XCIgc2VydmVyIGVycm9yOlwiK3QuYm9keS5lcnJfY29kZTpcIlwiKSxcInB1c2hcIj09PXQuYm9keS5wdHlwZT90aGlzLnN0cmVhbUNlbnRlci5vblB1Ymxpc2hTdGF0ZVVwZGF0ZShzLkVOVU1fUFVCTElTSF9TVEFURV9VUERBVEUucmV0cnkscixuKTp0aGlzLnN0cmVhbUNlbnRlci5vblBsYXlTdGF0ZVVwZGF0ZShzLkVOVU1fUExBWV9TVEFURV9VUERBVEUucmV0cnkscixuKSksdGhpcy5hY3RpdmUoKTtlbHNlIHRoaXMucmV0cnlBY3RpdmVJbnRlcnZhbD10LmJvZHkuYWN0aW9uX2RlbGF5LzFlM3x8TWF0aC5mbG9vcigzKk1hdGgucmFuZG9tKCkpKzMsMj09dGhpcy5yZXRyeUFjdGl2ZUNvdW50JiYoKG49Yy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtQbGF5RGlzcGF0Y2hFcnJvcikubWVzc2FnZT1uLm1lc3NhZ2UrKHQuYm9keS5lcnJfY29kZT9cIiBzZXJ2ZXIgZXJyb3I6XCIrdC5ib2R5LmVycl9jb2RlOlwiXCIpLFwicHVzaFwiPT09dC5ib2R5LnB0eXBlP3RoaXMuc3RyZWFtQ2VudGVyLm9uUHVibGlzaFN0YXRlVXBkYXRlKHMuRU5VTV9QVUJMSVNIX1NUQVRFX1VQREFURS5yZXRyeSxyLG4pOnRoaXMuc3RyZWFtQ2VudGVyLm9uUGxheVN0YXRlVXBkYXRlKHMuRU5VTV9QTEFZX1NUQVRFX1VQREFURS5yZXRyeSxyLG4pKSx0aGlzLmFjdGl2ZSgpfX0sdH0obi5SZXRyeUhhbmRsZXIpO3QuUmV0cnlEaXNwYXRjaEhhbmRsZXI9ZH0sNDY2MTpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJldHJ5U3RyZWFtSGFuZGxlcj12b2lkIDA7dmFyIG49cig5ODg3KSxzPXIoMjYxKSxhPXIoODMzNSksYz1yKDYyNjIpLHU9cigzNjA4KSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbyl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmxvZ2dlcj10LG4uc3RhdGVDZW50ZXI9cixuLnN0cmVhbUNlbnRlcj1pLG4uaXNQdWJsaXNoPW8sbi5zZXJ2ZXJVcmxzPVtdLG59cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5pbml0U3RyZWFtPWZ1bmN0aW9uKGUsdCl7dGhpcy5zdHJlYW1JRD1lLHRoaXMuc2VydmVyVXJscz10fSx0LnByb3RvdHlwZS5hY3RpdmVQdWJsaXNoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5sb2dnZXIuaW5mbyhcInpjLnRzaC5hIHJldHJ5IGNhbGwgXCIrdGhpcy5zdHJlYW1JRCksdGhpcy5zdGF0ZUNlbnRlci5uZXR3b3JrU3RhdGU9PW4uRU5VTV9ORVRXT1JLX1NUQVRFLm9mZmxpbmUpcmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy50c2guYSBuZXR3b3JrIGlzIGJyb2tlbiwgc3RvcCByZXRyeVwiKSwhMTtpZih0aGlzLnJldHJ5VGltZXIpcmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy50c2guYSBoYXMgYWN0aXZlLCBpZ25vcmVcIiksITE7aWYodGhpcy5pc092ZXJUaW1lKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKFwiemMudHNoLmEgcmV0cnkgb3ZlciB0aW1lLCBzdG9wIHJldHJ5XCIpLCExO2lmKDE9PXRoaXMucmV0cnlBY3RpdmVDb3VudCl0aGlzLnJldHJ5QWN0aXZlSW50ZXJ2YWw9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKigxLXRoaXMuUkVUUllfU1RBUlRfVElNRV9JTlRFUlZBTCkrdGhpcy5SRVRSWV9TVEFSVF9USU1FX0lOVEVSVkFMKTtlbHNle3ZhciByPU1hdGgucG93KDIsTWF0aC5mbG9vcih0aGlzLnJldHJ5QWN0aXZlQ291bnQvdGhpcy5SRVRSWV9DT05USU5VRV9DT1VOVCsxKS0xKTt0aGlzLnJldHJ5QWN0aXZlSW50ZXJ2YWw9cj50aGlzLlJFVFJZX01BWF9USU1FX0lOVEVSVkFMP3RoaXMuUkVUUllfTUFYX1RJTUVfSU5URVJWQUw6cn12YXIgaT10aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3RoaXMuc3RyZWFtSURdLnB1Ymxpc2hlcixvPXRoaXMuc2VydmVyVXJsc1swXSxzPVtcInVuaWZpZWRfcnRjXCIsXCJ1bmlmaWVkX2wzXCJdLmluY2x1ZGVzKG8pO2lmKCFzKXt2YXIgYT10aGlzLnNlcnZlclVybHMsYz1pLnNpZ25hbD9pLnNpZ25hbC5zZXJ2ZXI6XCJcIjthLmZvckVhY2goKGZ1bmN0aW9uKGUscil7cmV0dXJuIHI8PWEuaW5kZXhPZihjKSYmdC5zZXJ2ZXJVcmxzLnB1c2goZSl9KSksYS5zcGxpY2UoMCxhLmluZGV4T2YoYykrMSksbz10aGlzLnNlcnZlclVybHNbdGhpcy5yZXRyeUFjdGl2ZUNvdW50JXRoaXMuc2VydmVyVXJscy5sZW5ndGg9PTA/dGhpcy5zZXJ2ZXJVcmxzLmxlbmd0aC0xOnRoaXMucmV0cnlBY3RpdmVDb3VudCV0aGlzLnNlcnZlclVybHMubGVuZ3RoLTFdfXZhciB1PVwibnVtYmVyXCI9PXR5cGVvZiBlP2U6MWUzKnRoaXMucmV0cnlBY3RpdmVJbnRlcnZhbDtyZXR1cm4gdGhpcy5yZXRyeVRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5sb2dnZXIuaW5mbyhcInpjLnRzaC5hIHN0cmVhbSBcIi5jb25jYXQodC5zdHJlYW1JRCxcIiA6IGNvbm5lY3QgdG8gXCIpLmNvbmNhdChzP1widW5pZmllZCBzaWduYWwgc2VydmVyXCI6XCJzaWduYWwgc2VydmVyIFwiK28pKSx0LnJldHJ5VGltZXImJmNsZWFyVGltZW91dCh0LnJldHJ5VGltZXIpLHQucmV0cnlUaW1lcj1udWxsLHQucmV0cnlBY3RpdmVDb3VudCsrLHQuc3RyZWFtQ2VudGVyLmNvbm5lY3RQdWJsaXNoU2VydmVyKHQuc3RyZWFtSUQsbyl9KSx1KSx0aGlzLmxvZ2dlci5pbmZvKFwiemMudHNoLmEgY2FsbCBzdWNjZXNzLiBkZWxheTogXCIrdSksITB9LHQucHJvdG90eXBlLmFjdGl2ZVB1bGw9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy50c2guYSByZXRyeSBjYWxsIFwiK3RoaXMuc3RyZWFtSUQpLHQmJih0aGlzLnBsYXlTdHJlYW1TdWNjZXNzPXQpLHRoaXMuc3RhdGVDZW50ZXIubmV0d29ya1N0YXRlPT1uLkVOVU1fTkVUV09SS19TVEFURS5vZmZsaW5lKXJldHVybiB0aGlzLmxvZ2dlci5pbmZvKFwiemMudHNoLmEgbmV0d29yayBpcyBicm9rZW4sIHN0b3AgcmV0cnlcIiksITE7aWYodGhpcy5yZXRyeVRpbWVyKXJldHVybiB0aGlzLmxvZ2dlci5pbmZvKFwiemMudHNoLmEgaGFzIGFjdGl2ZSwgaWdub3JlXCIpLCExO2lmKHRoaXMuaXNPdmVyVGltZSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihcInpjLnRzaC5hIHJldHJ5IG92ZXIgdGltZSwgc3RvcCByZXRyeVwiKSwhMTtpZigxPT10aGlzLnJldHJ5QWN0aXZlQ291bnQpdGhpcy5yZXRyeUFjdGl2ZUludGVydmFsPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooMS10aGlzLlJFVFJZX1NUQVJUX1RJTUVfSU5URVJWQUwpK3RoaXMuUkVUUllfU1RBUlRfVElNRV9JTlRFUlZBTCk7ZWxzZXt2YXIgaT1NYXRoLnBvdygyLE1hdGguZmxvb3IodGhpcy5yZXRyeUFjdGl2ZUNvdW50L3RoaXMuUkVUUllfQ09OVElOVUVfQ09VTlQrMSktMSk7dGhpcy5yZXRyeUFjdGl2ZUludGVydmFsPWk+dGhpcy5SRVRSWV9NQVhfVElNRV9JTlRFUlZBTD90aGlzLlJFVFJZX01BWF9USU1FX0lOVEVSVkFMOml9dmFyIG89dGhpcy5zdHJlYW1DZW50ZXIucGxheWVyTGlzdFt0aGlzLnN0cmVhbUlEXS5wbGF5ZXIscz10aGlzLnNlcnZlclVybHMsYT1vLnNpZ25hbD9vLnNpZ25hbC5zZXJ2ZXI6XCJcIixjPXRoaXMuc2VydmVyVXJsc1swXSx1PVtcInVuaWZpZWRfcnRjXCIsXCJ1bmlmaWVkX2wzXCJdLmluY2x1ZGVzKGMpO3V8fChzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ8PXMuaW5kZXhPZihhKSYmci5zZXJ2ZXJVcmxzLnB1c2goZSl9KSkscy5zcGxpY2UoMCxzLmluZGV4T2YoYSkrMSksYz10aGlzLnNlcnZlclVybHNbdGhpcy5yZXRyeUFjdGl2ZUNvdW50JXRoaXMuc2VydmVyVXJscy5sZW5ndGg9PTA/dGhpcy5zZXJ2ZXJVcmxzLmxlbmd0aC0xOnRoaXMucmV0cnlBY3RpdmVDb3VudCV0aGlzLnNlcnZlclVybHMubGVuZ3RoLTFdKTt2YXIgZD1cIm51bWJlclwiPT10eXBlb2YgZT9lOjFlMyp0aGlzLnJldHJ5QWN0aXZlSW50ZXJ2YWw7cmV0dXJuIHRoaXMucmV0cnlUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3IubG9nZ2VyLndhcm4oXCJ6Yy50c2guYSBzdHJlYW0gXCIuY29uY2F0KHIuc3RyZWFtSUQsXCIgOiBjb25uZWN0IHRvIFwiKS5jb25jYXQodT9cInVuaWZpZWQgc2lnbmFsIHNlcnZlclwiOlwic2lnbmFsIHNlcnZlciBcIitjKSksci5yZXRyeVRpbWVyJiZjbGVhclRpbWVvdXQoci5yZXRyeVRpbWVyKSxyLnJldHJ5VGltZXI9bnVsbCxyLnJldHJ5QWN0aXZlQ291bnQrKyxyLnN0cmVhbUNlbnRlci5jb25uZWN0UGxheVNlcnZlcihyLnN0cmVhbUlELHIucGxheVN0cmVhbVN1Y2Nlc3MsYyl9KSxkKSx0aGlzLmxvZ2dlci5pbmZvKFwiemMudHNoLmEgY2FsbCBzdWNjZXNzLiBkZWxheTogXCIrZCksITB9LHQucHJvdG90eXBlLnN0YXJ0TWF4VGltZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5sb2dnZXIud2FybihcInpjLnRzaC5zbXQgXCIuY29uY2F0KHRoaXMuc3RyZWFtSUQsXCIgY2FsbFwiKSksdGhpcy5tYXhUaW1lcj90aGlzLmxvZ2dlci53YXJuKFwiemMudHNoLnNtdCBtYXggdGltZXJcIik6dGhpcy5tYXhUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKGUubG9nZ2VyLndhcm4oXCJ6Yy50c2guc210IFwiLmNvbmNhdChlLnN0cmVhbUlELFwiIG92ZXIgbWF4IHRpbWUgXCIpLmNvbmNhdChlLlJFVFJZX01BWF9USU1FLFwicywgc3RvcCByZXRyeVwiKSksZS5pc092ZXJUaW1lPSEwLGUuaW52YWxpZCgpLGUuaXNQdWJsaXNoKXtpZighZS5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdFtlLnN0cmVhbUlEXSlyZXR1cm4gdm9pZCBlLmxvZ2dlci5pbmZvKFwiemMudHNoLnNtdCBzdHJlYW1JRCBcIitlLnN0cmVhbUlEK1wiIHB1Ymxpc2ggbm8gZm91bmRcIik7ZS5wdWJsaXNoU3RhdGVIYW5kbGUobi5FTlVNX1BVQkxJU0hfU1RBVEVfVVBEQVRFLmVycm9yLGUuc3RyZWFtSUQsYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtQdWJsaXNoUmV0cnlUaW1lb3V0RXJyb3IsITApfWVsc2V7aWYoIWUuc3RyZWFtQ2VudGVyLnBsYXllckxpc3RbZS5zdHJlYW1JRF0pcmV0dXJuIHZvaWQgZS5sb2dnZXIuaW5mbyhcInpjLnRzaC5zbXQgc3RyZWFtSUQgXCIrZS5zdHJlYW1JRCtcIiBwbGF5IG5vIGZvdW5kXCIpO2UucGxheVN0YXRlSGFuZGxlKG4uRU5VTV9QTEFZX1NUQVRFX1VQREFURS5lcnJvcixlLnN0cmVhbUlELGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdGFydC5lcnJvci5rUGxheVJldHJ5VGltZW91dEVycm9yLCEwKX19KSwxZTMqdGhpcy5SRVRSWV9NQVhfVElNRSl9LHQucHJvdG90eXBlLnN0b3BNYXhUaW1lPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuaW5mbyhcInpjLnRzaC5zdG10IHN0cmVhbUlEIFwiK3RoaXMuc3RyZWFtSUQrXCIgXCIrISF0aGlzLm1heFRpbWVyKSx0aGlzLm1heFRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5tYXhUaW1lciksdGhpcy5tYXhUaW1lcj1udWxsfSx0LnByb3RvdHlwZS5vbmFjdGl2ZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XX0sdC5wcm90b3R5cGUucmV0cnlOZXh0U2lnbmFsPWZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYodGhpcy5zdGF0ZUNlbnRlci5uZXR3b3JrU3RhdGU9PW4uRU5VTV9ORVRXT1JLX1NUQVRFLm9mZmxpbmUpcmV0dXJuITA7aWYodGhpcy5pc1B1Ymxpc2gpe3ZhciBpPXRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdGhpcy5zdHJlYW1JRF07aWYoaS5wdWJsaXNoZXIuc3RhdGU9PW4uRU5VTV9QVUJMSVNIX1NUQVRFLnN0b3AmJlthLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua1Nlc3Npb25UaW1lb3V0RXJyb3IuY29kZSxhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua1B1Ymxpc2hOZWdvVGltZW91dEVycm9yLmNvZGVdLmluY2x1ZGVzKGUuY29kZSkpcmV0dXJuITA7aWYoaS5pc0NlbnRlck5vZGUmJihudWxsPT09KHQ9aS5wdWJsaXNoZXIuc2lnbmFsKXx8dm9pZCAwPT09dD92b2lkIDA6dC53c1JlYWR5U3RhdGUpPT1XZWJTb2NrZXQuT1BFTilyZXR1cm4hMTtpZighaS5pc0NlbnRlck5vZGUmJlthLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua1B1Ymxpc2hTZXNzaW9uQ2xvc2VkRXJyb3IuY29kZV0uaW5jbHVkZXMoZS5jb2RlKSl7dmFyIG89ZS5tZXNzYWdlLm1hdGNoKC9yZWFzb246KFxcZCspLyk7cmV0dXJuIVtcIjI2XCJdLmluY2x1ZGVzKG8/b1sxXTpcIlwiKX1yZXR1cm4hMH12YXIgcz10aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W3RoaXMuc3RyZWFtSURdO2lmKHMucGxheWVyLnN0YXRlPT1uLkVOVU1fUExBWV9TVEFURS5zdG9wJiZbYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtTZXNzaW9uVGltZW91dEVycm9yLmNvZGUsYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtQbGF5TmVnb1RpbWVvdXRFcnJvci5jb2RlXS5pbmNsdWRlcyhlLmNvZGUpKXJldHVybiEwO2lmKHMuaXNDZW50ZXJOb2RlJiYobnVsbD09PShyPXMucGxheWVyLnNpZ25hbCl8fHZvaWQgMD09PXI/dm9pZCAwOnIud3NSZWFkeVN0YXRlKT09V2ViU29ja2V0Lk9QRU4pcmV0dXJuITE7aWYoIXMuaXNDZW50ZXJOb2RlJiZbYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtQbGF5U2Vzc2lvbkNsb3NlZEVycm9yLmNvZGVdLmluY2x1ZGVzKGUuY29kZSkpe289ZS5tZXNzYWdlLm1hdGNoKC9yZWFzb246KFxcZCspLyk7cmV0dXJuIVtcIjI0XCIsXCIyNlwiLFwiMjhcIl0uaW5jbHVkZXMobz9vWzFdOlwiXCIpfXJldHVybiEwfSx0LnByb3RvdHlwZS5wdWJsaXNoU3RhdGVIYW5kbGU9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIX1NUQVRFX0hBTkRMRStcIiBjYWxsIFwiK3QrXCIgXCIrKHI/ci5jb2RlK1wiXCI6XCJcIikpO3ZhciBvPWl8fHRoaXMuUkVUUllfTUFYX1RJTUU8MztpZighbyYmciYmKHUuQ2xpZW50VXRpbC5pc1JlRGlzcGF0Y2gocil8fDA9PXRoaXMuc2VydmVyVXJscy5sZW5ndGgpKXJldHVybiB0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hfU1RBVEVfSEFORExFK1wiIHN0b3AgXCIrbytcIiBcIitKU09OLnN0cmluZ2lmeSh0aGlzLnNlcnZlclVybHMpKSx0aGlzLnN0b3BNYXhUaW1lKCksdGhpcy5yZXRyeVRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5yZXRyeVRpbWVyKSx0aGlzLnJldHJ5VGltZXI9bnVsbCx2b2lkIHRoaXMuc3RyZWFtQ2VudGVyLm9uUHVibGlzaFN0YXRlVXBkYXRlKGUsdCxyKTt2YXIgcz10aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3RdLGQ9cy5wdWJsaXNoZXI7aWYoIW8mJnImJjAhPT1yLmNvZGUpeyF0aGlzLm1heFRpbWVyJiYhbyYmdGhpcy5zdGFydE1heFRpbWUoKSx0aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W3RdLnN0YXRlPW4uRU5VTV9QVUJMSVNIX1NUUkVBTV9TVEFURS5yZXRyeVB1Ymxpc2g7dmFyIGw9ZC5sb2NhbFN0cmVhbSxoPWQudmlkZW9JbmZvLHA9ZC5tZWRpYVN0cmVhbUNvbmZpZyxnPWQucHVibGlzaE9wdGlvbjtpZigwIT1kLnNlc3Npb25JZCYmZC5zaWduYWwmJmQuc2hvdWxkU2VuZENsb3NlU2Vzc2lvbigpJiYoZC5zaWduYWwuc2VuZENsb3NlU2Vzc2lvbigoMCxuLmdldFNlcSkoKSxkLnNlc3Npb25JZCwxKSxkLnNpZ25hbC5yZW1vdmVTZXNzaW9uKGQuc2Vzc2lvbklkKSxkLmNsb3NlU2Vzc2lvblNpZ25hbD0hMCksZC5yZXNldFB1Ymxpc2goKSwhbyYmIXRoaXMucmV0cnlOZXh0U2lnbmFsKHIpKXtpZihzLmlzQ2VudGVyTm9kZSYmZC5nd05vZGVUVEw8KG5ldyBEYXRlKS5nZXRUaW1lKCkmJjAhPT1kLmd3Tm9kZUxpc3QubGVuZ3RoKWQuZ3dOb2RlPVwiXCIsZC5nd05vZGVMaXN0PVtdLGQuZ3dOb2RlVFRMPTA7ZWxzZSBpZihzLmlzQ2VudGVyTm9kZSl7dmFyIGY9ZC5nd05vZGVMaXN0LmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PWQuZ3dOb2RlfSkpO2QuZ3dOb2RlPWQuZ3dOb2RlTGlzdFsrK2YlZC5nd05vZGVMaXN0Lmxlbmd0aF19cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSF9TVEFURV9IQU5ETEUrXCIgcmV0cnkgY3VycmVudCBzaWduYWwgXCIpLHRoaXMuc3RhcnRSZXRyeVRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZC5zdGFydFB1Ymxpc2godCxsLGgscCxnKX0pLDNlMyksdm9pZChyJiYwIT09ci5jb2RlJiZ0aGlzLnN0cmVhbUNlbnRlci5vblB1Ymxpc2hTdGF0ZVVwZGF0ZSgyLHQscikpfXRoaXMuc3RyZWFtQ2VudGVyLnJlbW92ZVN0cmVhbUZyb21TaWduYWwoITAsdCl9aWYobylyZXR1cm4gdGhpcy5zdG9wTWF4VGltZSgpLHRoaXMuaW52YWxpZCgpLDE9PT1lJiZkLnJlc2V0UHVibGlzaCgpLHZvaWQgdGhpcy5zdHJlYW1DZW50ZXIub25QdWJsaXNoU3RhdGVVcGRhdGUoZSx0LHIpO2lmKHImJjAhPT1yLmNvZGUmJnRoaXMuYWN0aXZlUHVibGlzaCh2b2lkIDApKXt2YXIgbT0oMCxuLmdldFJlcG9ydFNlcSkoKTt0aGlzLnN0cmVhbUNlbnRlci5kYXRhUmVwb3J0Lm5ld1JlcG9ydChtKSx0aGlzLnN0cmVhbUNlbnRlci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obSx7c3RyZWFtOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1JlUHVibGlzaC5zdHJlYW0odGhpcy5zdHJlYW1JRCl9KSx0aGlzLnN0cmVhbUNlbnRlci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChtLGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1JlUHVibGlzaC5ldmVudCksdGhpcy5zdHJlYW1DZW50ZXIub25QdWJsaXNoU3RhdGVVcGRhdGUoMix0LHIpfXRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSF9TVEFURV9IQU5ETEUrXCIgZW5kIFwiK3QpfSx0LnByb3RvdHlwZS5wbGF5U3RhdGVIYW5kbGU9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZX1NUQVRFX0hBTkRMRStcIiBjYWxsIFwiK3QrXCIgXCIrKHI/ci5jb2RlK1wiXCI6XCJcIikpO3ZhciBvPWl8fHRoaXMuUkVUUllfTUFYX1RJTUU8MztpZighbyYmciYmKHUuQ2xpZW50VXRpbC5pc1JlRGlzcGF0Y2gocil8fDA9PXRoaXMuc2VydmVyVXJscy5sZW5ndGgpKXJldHVybiB0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlfU1RBVEVfSEFORExFK1wiIHN0b3AgXCIrbytcIiBcIitKU09OLnN0cmluZ2lmeSh0aGlzLnNlcnZlclVybHMpKSx0aGlzLnN0b3BNYXhUaW1lKCksdGhpcy5yZXRyeVRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5yZXRyeVRpbWVyKSx0aGlzLnJldHJ5VGltZXI9bnVsbCx2b2lkIHRoaXMuc3RyZWFtQ2VudGVyLm9uUGxheVN0YXRlVXBkYXRlKGUsdCxyKTtpZighbyYmciYmMCE9PXIuY29kZSl7IXRoaXMubWF4VGltZXImJiFvJiZ0aGlzLnN0YXJ0TWF4VGltZSgpO3ZhciBzPXRoaXMuc3RyZWFtQ2VudGVyLnBsYXllckxpc3RbdF0sZD1zLnBsYXllcixsPWQucGxheU9wdGlvbjtpZigwIT1kLnNlc3Npb25JZCYmZC5zaWduYWwmJmQuc2hvdWxkU2VuZENsb3NlU2Vzc2lvbigpJiYoZC5zaWduYWwuc2VuZENsb3NlU2Vzc2lvbigoMCxuLmdldFNlcSkoKSxkLnNlc3Npb25JZCwxKSxkLnNpZ25hbC5yZW1vdmVTZXNzaW9uKGQuc2Vzc2lvbklkKSxkLmNsb3NlU2Vzc2lvblNpZ25hbD0hMCksZC5yZXNldFBsYXkoKSwhbyYmIXRoaXMucmV0cnlOZXh0U2lnbmFsKHIpKXtpZihzLmlzQ2VudGVyTm9kZSYmZC5nd05vZGVUVEw8KG5ldyBEYXRlKS5nZXRUaW1lKCkmJjAhPT1kLmd3Tm9kZUxpc3QubGVuZ3RoKWQuZ3dOb2RlPVwiXCIsZC5nd05vZGVMaXN0PVtdLGQuZ3dOb2RlVFRMPTA7ZWxzZSBpZihzLmlzQ2VudGVyTm9kZSl7dmFyIGg9ZC5nd05vZGVMaXN0LmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PWQuZ3dOb2RlfSkpO2QuZ3dOb2RlPWQuZ3dOb2RlTGlzdFsrK2glZC5nd05vZGVMaXN0Lmxlbmd0aF19cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWV9TVEFURV9IQU5ETEUrXCIgcmV0cnkgY3VycmVudCBzaWduYWwgXCIpLHRoaXMuc3RhcnRSZXRyeVRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZC5zdGFydFBsYXkodCxkLmdldFJlbW90ZVN0cmVhbVN1YyxsKX0pLDNlMyksdm9pZChyJiYwIT09ci5jb2RlJiZ0aGlzLnN0cmVhbUNlbnRlci5vblBsYXlTdGF0ZVVwZGF0ZSgyLHQscikpfXRoaXMuc3RyZWFtQ2VudGVyLnJlbW92ZVN0cmVhbUZyb21TaWduYWwoITEsdCl9aWYobylyZXR1cm4gdGhpcy5zdG9wTWF4VGltZSgpLHRoaXMuaW52YWxpZCgpLHZvaWQgdGhpcy5zdHJlYW1DZW50ZXIub25QbGF5U3RhdGVVcGRhdGUoZSx0LHIpO2lmKHImJjAhPT1yLmNvZGUmJnRoaXMuYWN0aXZlUHVsbCh2b2lkIDApKXt2YXIgcD0oMCxuLmdldFJlcG9ydFNlcSkoKTt0aGlzLnN0cmVhbUNlbnRlci5kYXRhUmVwb3J0Lm5ld1JlcG9ydChwKSx0aGlzLnN0cmVhbUNlbnRlci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8ocCx7c3RyZWFtOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1JlUGxheS5zdHJlYW0odGhpcy5zdHJlYW1JRCl9KSx0aGlzLnN0cmVhbUNlbnRlci5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChwLGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1JlUGxheS5ldmVudCksdGhpcy5zdHJlYW1DZW50ZXIub25QbGF5U3RhdGVVcGRhdGUoMix0LHIpfXRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWV9TVEFURV9IQU5ETEUrXCIgZW5kIFwiK3QpfSx0fShzLlJldHJ5SGFuZGxlcik7dC5SZXRyeVN0cmVhbUhhbmRsZXI9ZH0sODYxNTpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihvLG4pe2Z1bmN0aW9uIHMoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxvPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLG4scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbjtmdW5jdGlvbiBhKG4pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsaSYmKG89MiZuWzBdP2kucmV0dXJuOm5bMF0/aS50aHJvd3x8KChvPWkucmV0dXJuKSYmby5jYWxsKGkpLDApOmkubmV4dCkmJiEobz1vLmNhbGwoaSxuWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2goaT0wLG8mJihuPVsyJm5bMF0sby52YWx1ZV0pLG5bMF0pe2Nhc2UgMDpjYXNlIDE6bz1uO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpuWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssaT1uWzFdLG49WzBdO2NvbnRpbnVlO2Nhc2UgNzpuPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1uWzBdJiYyIT09blswXSkpe3M9MDtjb250aW51ZX1pZigzPT09blswXSYmKCFvfHxuWzFdPm9bMF0mJm5bMV08b1szXSkpe3MubGFiZWw9blsxXTticmVha31pZig2PT09blswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1uO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2gobik7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW49dC5jYWxsKGUscyl9Y2F0Y2goZSl7bj1bNixlXSxpPTB9ZmluYWxseXtyPW89MH1pZig1Jm5bMF0pdGhyb3cgblsxXTtyZXR1cm57dmFsdWU6blswXT9uWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sYV0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuR2F0ZXdheVNpZ25hbD12b2lkIDA7dmFyIG49cig2MzQ4KSxzPXIoMzYwOCksYT1yKDMzNjQpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuc3RyZWFtU2lnbmFsPWUsdGhpcy5jYWxsYmFja01hcD17fX1yZXR1cm4gZS5wcm90b3R5cGUubWVkaWFTdHJlYW1TRUlVVUlEUmVxPWZ1bmN0aW9uKGUsdCxyLGMpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaT10aGlzO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3JldHVyblsyLG5ldyBQcm9taXNlKChmdW5jdGlvbihvLHUpe3ZhciBkPW4ud2VicnRjX2NtZC5XZWJydGNDbWRSZXFNc2cuZW5jb2RlKHt1c3Jfc2VpX2ZpbHRlcjp7c2VpX2ZpbHRlcjpjfX0pLmZpbmlzaCgpLGw9cy5DbGllbnRVdGlsLnVpbnQ4YXJyYXlUb0Jhc2U2NChkKTtpLnN0cmVhbVNpZ25hbC5zZW5kR1dDbWQoZSx0LHtwZWVyX2lkOnIsY21kX2lkOjUsYm9keTpsfSwoZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWEuV2ViUlRDVXRpbC5iYXNlNjRUb1VpbnQ4QXJyYXkoci5ib2R5KSxzPW4ud2VicnRjX2NtZC5XZWJydGNDbWRSc3BNc2cuZGVjb2RlKGkpO28ocyl9KSwoZnVuY3Rpb24oZSl7dShlKX0pKX0pKV19KSl9KSl9LGUucHJvdG90eXBlLm1ldGFkYXRhQWNrPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksYTtyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtyZXR1cm4gaT1uLndlYnJ0Y19jbWQuV2VicnRjQ21kUnNwTXNnLmVuY29kZSh7bWV0YV9kYXRhX2Fjazp7cmVzdWx0OjF9fSkuZmluaXNoKCksYT1zLkNsaWVudFV0aWwudWludDhhcnJheVRvQmFzZTY0KGkpLHRoaXMuc3RyZWFtU2lnbmFsLnNlbmRHV0FjayhlLHQse3BlZXJfaWQ6cixjbWRfaWQ6MSxib2R5OmF9KSxbMl19KSl9KSl9LGUucHJvdG90eXBlLnJlZ2lzdGVyUHVzaENhbGxiYWNrPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxvPXRoaXMscz10aGlzLmNhbGxiYWNrTWFwW3RdO3M/c1tlXT1yOih0aGlzLmNhbGxiYWNrTWFwW3RdPSgoaT17fSlbZV09cixpKSx0aGlzLnN0cmVhbVNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIkNtZFB1c2hcIix0LChmdW5jdGlvbihlLHQscil7dmFyIGk9YS5XZWJSVENVdGlsLmJhc2U2NFRvVWludDhBcnJheShyLmJvZHkpLHM9bi53ZWJydGNfY21kLldlYnJ0Y0NtZFJlcU1zZy5kZWNvZGUoaSksYz1PYmplY3Qua2V5cyhzKVswXTtjb25zb2xlLmVycm9yKFwiQ21kUHVzaFwiLGMscyksYz1jfHxcIm1ldGFfZGF0YV9wdXNoXCI7dmFyIHU9by5jYWxsYmFja01hcFt0XTtpZih1KXt2YXIgZD11W2NdO2QmJmQoZSx0LHIuYm9keSl9fSkpKX0sZS5wcm90b3R5cGUudW5yZWdpc3RlclB1c2hDYWxsYmFjaz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuY2FsbGJhY2tNYXBbdF07ciYmKGRlbGV0ZSByW2VdLDA9PT1PYmplY3Qua2V5cyhyKS5sZW5ndGgmJih0aGlzLnN0cmVhbVNpZ25hbC51bnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiQ21kUHVzaFwiLHQpLGRlbGV0ZSB0aGlzLmNhbGxiYWNrTWFwW3RdKSl9LGV9KCk7dC5HYXRld2F5U2lnbmFsPWN9LDg2Njg6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJUQ01vZHVsZXM9dm9pZCAwO3ZhciBuPXIoOTg4Nykscz1yKDk4ODcpLGE9cig4MzM1KSxjPXIoMzYwOCksdT1yKDE4NTYpLGQ9cigyOTgxKSxsPXIoNjQyMyksaD1yKDYyNjIpLHA9cig3NzE2KSxnPXIoOTI2MSksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxvLG4pe3RoaXMubG9nZ2VyPWUsdGhpcy5kYXRhUmVwb3J0PXQsdGhpcy5zdGF0ZUNlbnRlcj1yLHRoaXMuc3RyZWFtQ2VudGVyPWksdGhpcy5ydG09byx0aGlzLmFjPW4sdGhpcy5tZWRpYUVsZVNvdXJjZXM9W10sdGhpcy5wdWJsaXNoTW9kdWxlPW5ldyBkLlB1Ymxpc2hNb2R1bGUodGhpcy5sb2dnZXIsdGhpcy5kYXRhUmVwb3J0LHRoaXMuc3RhdGVDZW50ZXIsdGhpcy5zdHJlYW1DZW50ZXIsdGhpcy5ydG0pLHRoaXMucGxheU1vZHVsZT1uZXcgbC5QbGF5TW9kdWxlKHRoaXMubG9nZ2VyLHRoaXMuZGF0YVJlcG9ydCx0aGlzLnN0YXRlQ2VudGVyLHRoaXMuc3RyZWFtQ2VudGVyLHRoaXMucnRtKSx0aGlzLmluaXRBZHZhbmNlKCksdGhpcy5pbml0U3RyZWFtQ29tbW9uKCksdGhpcy5pbml0QXVkaW9NaXgoKSx0aGlzLmluaXQoKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuYmluZFdpbmRvd0xpc3RlbmVyKCksdGhpcy5iaW5kUlRNTGlzdGVuZXIoKSx0aGlzLmJpbmRTdHJlYW1DZW50ZXJIYW5kbGVyKCl9LGUucHJvdG90eXBlLmluaXRBdWRpb01peD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaW5pdEFkdmFuY2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmluaXRTdHJlYW1Db21tb249ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmJpbmRXaW5kb3dMaXN0ZW5lcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIodD9cInBhZ2VoaWRlXCI6XCJmaXJlZm94XCI9PT10aGlzLnN0YXRlQ2VudGVyLmJyb3dzZXI/XCJiZWZvcmV1bmxvYWRcIjpcInVubG9hZFwiLChmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB3aW5kb3cuZXZlbnQmJih3aW5kb3cuZXZlbnQuY2FuY2VsQnViYmxlPSEwKSxlLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0KWUucHVibGlzaE1vZHVsZS5zdG9wUHVibGlzaGluZ1N0cmVhbSh0KTtmb3IodmFyIHQgaW4gZS5zdHJlYW1DZW50ZXIucGxheWVyTGlzdCllLnBsYXlNb2R1bGUuc3RvcFBsYXlpbmdTdHJlYW0odCl9KSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsKGZ1bmN0aW9uKHQpe3ZhciByPXQuZGF0YSxpPXIudHlwZTtcIlNTX0RJQUxPR19TVUNDRVNTXCI9PT1pJiZlLnNjcmVlblN0cmVhbUZyb20oci5zdHJlYW1JZCxyLmNhblJlcXVlc3RBdWRpb1RyYWNrLGMuQ2xpZW50VXRpbC5hY3Rpb25TdWNjZXNzQ2FsbGJhY2soXCJzY3JlZW5TaGFyZVwiLGUuc3RhdGVDZW50ZXIuY2FsbGJhY2tMaXN0KSksXCJTU19ESUFMT0dfQ0FOQ0VMXCI9PT1pJiZjLkNsaWVudFV0aWwuYWN0aW9uU3VjY2Vzc0NhbGxiYWNrKFwic2NyZWVuU2hhcmVcIixlLnN0YXRlQ2VudGVyLmNhbGxiYWNrTGlzdCkoITEsbnVsbCxpKX0pKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwoZnVuY3Rpb24oKXtpZihlLmxvZ2dlci5pbmZvKFwiemMub2ZmLjAgbmV0d29yayBpcyBicm9rZW5cIiksZS5zdGF0ZUNlbnRlci5uZXR3b3JrU3RhdGU9cy5FTlVNX05FVFdPUktfU1RBVEUub2ZmbGluZSxlLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50KWUubG9nZ2VyLmluZm8oXCJ6Yy5vZmYuMCB1c2UgbmV0QWdlbnRcIik7ZWxzZXtmb3IodmFyIHQgaW4gZS5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdCl7KHI9ZS5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdFt0XS5yZXRyeVN0cmVhbUhhbmRsZXIpLnN0b3BNYXhUaW1lKCksci5pbnZhbGlkKCl9Zm9yKHZhciB0IGluIGUuc3RyZWFtQ2VudGVyLnBsYXllckxpc3Qpe3ZhciByOyhyPWUuc3RyZWFtQ2VudGVyLnBsYXllckxpc3RbdF0ucmV0cnlTdHJlYW1IYW5kbGVyKS5zdG9wTWF4VGltZSgpLHIuaW52YWxpZCgpfX19KSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwoZnVuY3Rpb24odCl7Zm9yKHZhciByIGluIGUubG9nZ2VyLmluZm8oXCJ6Yy5vbi4wIG5ldHdvcmsgaXMgb25saW5lXCIpLGUuc3RhdGVDZW50ZXIubmV0d29ya1N0YXRlPXMuRU5VTV9ORVRXT1JLX1NUQVRFLm9ubGluZSxlLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0KXt2YXIgaT1lLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3JdLnB1Ymxpc2hlcixvPWUuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3Rbcl0ucmV0cnlTdHJlYW1IYW5kbGVyO2kuc3RhdGU9PXMuRU5VTV9QVUJMSVNIX1NUQVRFLnN0b3B8fGkuc3RhdGVOZWdvIT09cy5FTlVNX1BVQkxJU0hfU1RBVEVfTkVHTy5pY2VDb25uZWN0ZWQ/IW8uaXNPdmVyVGltZSYmby5wdWJsaXNoU3RhdGVIYW5kbGUocy5FTlVNX1BVQkxJU0hfU1RBVEVfVVBEQVRFLmVycm9yLHIsYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtQdWJsaXNoTmV0d29ya0Jyb2tlbkVycm9yKTppLnN0YXRlPT1zLkVOVU1fUFVCTElTSF9TVEFURS5wdWJsaXNoaW5nJiZvLnN0b3BNYXhUaW1lKCl9Zm9yKHZhciByIGluIGUuc3RyZWFtQ2VudGVyLnBsYXllckxpc3Qpe3ZhciBuPWUuc3RyZWFtQ2VudGVyLnBsYXllckxpc3Rbcl0ucGxheWVyO289ZS5zdHJlYW1DZW50ZXIucGxheWVyTGlzdFtyXS5yZXRyeVN0cmVhbUhhbmRsZXI7bi5zdGF0ZT09cy5FTlVNX1BMQVlfU1RBVEUuc3RvcHx8bi5zdGF0ZU5lZ28hPT1zLkVOVU1fUExBWV9TVEFURV9ORUdPLmljZUNvbm5lY3RlZD8hby5pc092ZXJUaW1lJiZvLnBsYXlTdGF0ZUhhbmRsZShzLkVOVU1fUExBWV9TVEFURV9VUERBVEUuZXJyb3IscixhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQbGF5U3RhcnQuZXJyb3Iua1BsYXlOZXR3b3JrQnJva2VuRXJyb3IpOm4uc3RhdGU9PXMuRU5VTV9QTEFZX1NUQVRFLnBsYXlpbmcmJm8uc3RvcE1heFRpbWUoKX19KSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsKGZ1bmN0aW9uKHQpe2lmKE9iamVjdC5rZXlzKGUuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3QpLmxlbmd0aD4wfHxPYmplY3Qua2V5cyhlLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0KS5sZW5ndGg+MCl7dmFyIHI9KDAscy5nZXRSZXBvcnRTZXEpKCk7ZS5kYXRhUmVwb3J0Lm5ld1JlcG9ydChyLGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVmlzaWJpbGl0eUNoYW5nZS5ldmVudCksZS5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChyKX19KSl9LGUucHJvdG90eXBlLmJpbmRSVE1MaXN0ZW5lcj1mdW5jdGlvbigpe3ZhciBlLHQscj10aGlzO3RoaXMucnRtLl9vbihcIl9zZXR0aW5nQ2FuRmV0Y2hcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGkocix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucnRtLmNsb3VkU2V0dGluZy5mZXRjaFNldHRpbmcoZy5SVEMpLnRoZW4oKGZ1bmN0aW9uKHQpe2UubG9nZ2VyLmluZm8oXCJ6Yy5zY2Ygc3RyZWFtIGNvbmZpZyBcIitKU09OLnN0cmluZ2lmeSh0KSk7dCYmZS5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLnNldFNldHRpbmcodC5zZXR0aW5nLFtcImF1dG9fdG9fdGNwXCIsXCJ1ZHBfbWF4X2ZhaWxfbnVtXCIsXCJwcm9iZV9zdGFydGVkX251bVwiXSksZS5ydG0uX29uKFwiX2Nsb3VkU2V0dGluZ05vdGlmeVwiLChmdW5jdGlvbih0LHIpe3ZhciBpPSgwLHMuZ2V0UmVwb3J0U2VxKSgpO2UuZGF0YVJlcG9ydC5uZXdSZXBvcnQoaSxhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDbG91ZFNldHRpbmdSZWZyZXNoLmV2ZW50KTt2YXIgbz1lLnJ0bS5jbG91ZFNldHRpbmcuZ2V0RW52VmFyaWFibGVzKCk7ZS5kYXRhUmVwb3J0LmFkZE1zZ0luZm8oaSx7cGFyYW1zOm8sZmlsZXM6W3tuYW1lOnQsY29udGVudDpyLnNldHRpbmcsdmVyc2lvbnM6ci52ZXJzaW9uc31dfSksZS5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChpKX0pKX0pKSxbMl19KSl9KSl9KSksdGhpcy5ydG0uX29uKFwiX2FwcENvbmZpZ1JzcFwiLChmdW5jdGlvbigpe3Iuc3RhdGVDZW50ZXIuYXBwQ29uZmlnPXIucnRtLmdldEFwcENvbmZpZygpLHIucHVibGlzaE1vZHVsZS5zdGFydFdhaXRQdWJsaXNoKCksci5wbGF5TW9kdWxlLnN0YXJ0V2FpdFBsYXkoKX0pKSx0aGlzLnJ0bS5fb24oXCJfcm9vbUxvZ2luXCIsKGZ1bmN0aW9uKGUsdCl7ci5zdGF0ZUNlbnRlci5hcHBpZD1yLnJ0bS5nZXRBcHBJRCgpLHIuc3RhdGVDZW50ZXIuaWROYW1lPXIucnRtLmdldFVzZXJJRCgpLHIuc3RhdGVDZW50ZXIudGVzdEVudmlyb25tZW50PXIucnRtLmlzVGVzdEVudmlyb25tZW50KCksci5zdGF0ZUNlbnRlci5pc011bHRpUm9vbT1yLnJ0bS5nZXRNdWx0aVJvb20oKSxyLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50PXIucnRtLmdldFVzZU5ldEFnZW50KCksci5zdHJlYW1DZW50ZXIuc2V0U2Vzc2lvbkluZm8oci5zdGF0ZUNlbnRlci5hcHBpZCxyLnN0YXRlQ2VudGVyLmlkTmFtZSxyLnN0YXRlQ2VudGVyLnRlc3RFbnZpcm9ubWVudCk7dmFyIGk9ci5zdGF0ZUNlbnRlci5nZXRSb29tQnlSb29tSUQoZSk7aWYoIWkpe3ZhciBvPW5ldyB1LlN0cmVhbUhhbmRsZXIoci5sb2dnZXIsci5zdGF0ZUNlbnRlcixyLnJ0bSxyLnN0cmVhbUNlbnRlcixlKTtyLmJpbmRTdHJlYW1IYW5kbGVyKG8pLHIuc3RhdGVDZW50ZXIucm9vbUxpc3QucHVzaChpPXtyb29tSUQ6ZSxzdHJlYW1IYW5kbGVyOm8sc2Vzc2lvbklEOlwiXCIscm9vbVNlc3Npb25JRDpcIlwiLHRva2VuOnQsaXNSZXNldFJvb206ITEsc3RyZWFtTGlzdDpbXSxzdHJlYW1JbmZvTGlzdDpbXX0pfX0pKSx0aGlzLnJ0bS5fb24oXCJyb29tTG9naW5SZXNwb25zZVwiLChmdW5jdGlvbihlKXtyLmxvZ2dlci5pbmZvKFwiemMucmxyIGNhbGwgXCIrSlNPTi5zdHJpbmdpZnkoZSkpO3ZhciB0PWUuaGVhZGVyLnJvb21faWR8fGUuYm9keS5yb29tX2lkO3Iuc3RhdGVDZW50ZXIuYXBwQ29uZmlnPXIucnRtLmdldEFwcENvbmZpZygpO3ZhciBpPXIucnRtLmdldFRva2VuKHQpLG89ci5ydG0uZ2V0U2Vzc2lvbklkKHQpLG49ci5ydG0uZ2V0Um9vbVNlc3Npb25JRCh0KSxzPXIuc3RhdGVDZW50ZXIuZ2V0Um9vbUJ5Um9vbUlEKHQpO2lmKCFzKXt2YXIgYT1uZXcgdS5TdHJlYW1IYW5kbGVyKHIubG9nZ2VyLHIuc3RhdGVDZW50ZXIsci5ydG0sci5zdHJlYW1DZW50ZXIsdCk7ci5iaW5kU3RyZWFtSGFuZGxlcihhKSxyLnN0YXRlQ2VudGVyLnJvb21MaXN0LnB1c2gocz17cm9vbUlEOnQsc3RyZWFtSGFuZGxlcjphLHNlc3Npb25JRDpvLHJvb21TZXNzaW9uSUQ6bix0b2tlbjppLGlzUmVzZXRSb29tOiExLHN0cmVhbUxpc3Q6W10sc3RyZWFtSW5mb0xpc3Q6W119KX1pZihzLnNlc3Npb25JRD1vLHMucm9vbVNlc3Npb25JRD1uLHIuc3RhdGVDZW50ZXIudGVtcFJvb21MaXN0Lmxlbmd0aD4wKWZvcih2YXIgYz1mdW5jdGlvbihlKXt2YXIgdD1yLnN0YXRlQ2VudGVyLnRlbXBSb29tTGlzdFtlXSxpPXQucm9vbUlELG89dC5zdHJlYW1MaXN0LG49ci5zdGF0ZUNlbnRlci5yb29tTGlzdC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yb29tSUQ9PT1pfSkpO24mJihuLnN0cmVhbUxpc3Q9by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciB0PXIuc3RyZWFtQ2VudGVyLnN0b3BlZFBsYXllckxpc3RbbnVsbD09ZT92b2lkIDA6ZS5zdHJlYW1faWRdO3JldHVybiEhKHQmJnQuc3RhdGU8PTYpfSkpLHIuc3RhdGVDZW50ZXIudGVtcFJvb21MaXN0W2VdLnN0cmVhbUxpc3Q9W10pfSxkPTA7ZDxyLnN0YXRlQ2VudGVyLnRlbXBSb29tTGlzdC5sZW5ndGg7ZCsrKWMoZCk7aWYoMT09PWUuYm9keS5zdHJlYW1fZmV0Y2hfZmxhZylyZXR1cm4gci5sb2dnZXIuaW5mbyhcInpjLnJsciBzdHJlYW0gZmV0Y2ggXCIrdCkscy5zdHJlYW1IYW5kbGVyLnJvb209cyx2b2lkIHMuc3RyZWFtSGFuZGxlci5mZXRjaFN0cmVhbUxpc3QoKTtzLnN0cmVhbUhhbmRsZXIuaGFuZGxlU3RyZWFtU3RhcnQoZSxzKSxyLmxvZ2dlci5pbmZvKFwiemMucmxyIGVuZCBcIit0KX0pKSx0aGlzLnJ0bS5fb24oXCJfY29ubmVjdENoYW5nZWRcIiwoZnVuY3Rpb24oZSx0KXtyLmxvZ2dlci5pbmZvKFwiemMuY2MuMCBcIitlK1wiIFwiK0pTT04uc3RyaW5naWZ5KHQpKSxcImNvbm5lY3RpbmdcIj09PWU/ci5zdGF0ZUNlbnRlci5jb25uZWN0Q2hhbmdlZD0hMDpcImNvbm5lY3RlZFwiPT09ZSYmKHIuc3RhdGVDZW50ZXIuY29ubmVjdENoYW5nZWQ9ITEsci5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudD1yLnJ0bS5nZXRVc2VOZXRBZ2VudCgpLHIuaGFuZGxlV2FpdFB1Ymxpc2hBbmRQbGF5cyh0KSl9KSksdGhpcy5ydG0uX29uKFwiSEJSZXNwb25zZVwiLChmdW5jdGlvbihlKXt2YXIgdCxpPW51bGw9PT0odD1udWxsPT1lP3ZvaWQgMDplLmhlYWRlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucm9vbV9pZCxvPXIuc3RhdGVDZW50ZXIuZ2V0Um9vbUJ5Um9vbUlEKGkpO251bGw9PW98fG8uc3RyZWFtSGFuZGxlci5wYXRjaFN0cmVhbUxpc3QoZSl9KSksdGhpcy5ydG0uX29uKFwiX3Jvb21TdGF0ZVVwZGF0ZVwiLChmdW5jdGlvbihlLHQsaSxvLG4pe2lmKFwiRElTQ09OTkVDVEVEXCI9PXQpe3IubG9nZ2VyLmluZm8oXCJ6Yy5yc3UgXCIrZStcIiBkaXNjb25uZWN0ZWQgXCIrKGk/aStcIiBcIjpcIlwiKSsob3x8XCJcIikrbik7dmFyIHM9ci5zdGF0ZUNlbnRlci5nZXRSb29tQnlSb29tSUQoZSk7aWYocyl7dmFyIGE9ci5zdGF0ZUNlbnRlci5yb29tTGlzdC5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJvb21JRD09ZX0pKTtzLmlzUmVzZXRSb29tPSEwLHMuc3RyZWFtSGFuZGxlci5yZXNldCgpLHIuc3RyZWFtQ2VudGVyLnJlc2V0KGUsaSxuKSxyLnN0YXRlQ2VudGVyLnJvb21MaXN0LnNwbGljZShhLDEpLG4/ci5zdGF0ZUNlbnRlci50ZW1wUm9vbUxpc3QucHVzaChzKTpyLnN0YXRlQ2VudGVyLnRlbXBSb29tTGlzdD1yLnN0YXRlQ2VudGVyLnRlbXBSb29tTGlzdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJvb21JRCE9PWV9KSl9fWVsc2Ugci5sb2dnZXIuaW5mbyhcInpjLnJzdSBcIitlK1wiIHN0YXRlOiBcIit0KX0pKSx0aGlzLnJ0bS5fb24oXCJfdG9rZW5SZW5ld2VkXCIsKGZ1bmN0aW9uKGUsdCl7ci5sb2dnZXIuaW5mbyhcInpjLnRyIHJvb21JRDpcIit0K1wiIFwiK2UpO3ZhciBpPXIuc3RhdGVDZW50ZXIuZ2V0Um9vbUJ5Um9vbUlEKHQpO2kmJihpLnRva2VuPWUpfSkpLHRoaXMucnRtLl9vbihcIl90b2tlbkV4cGlyZWRcIiwoZnVuY3Rpb24oZSl7dmFyIHQsaTsoKG51bGw9PT0oaT1udWxsPT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5ib2R5KXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdG9wX3N0cmVhbSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3RyZWFtX2lkX2xpc3QpfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5wdWJsaXNoTW9kdWxlLnN0b3BQdWJsaXNoaW5nU3RyZWFtKGUscC5lcnJvckNvZGVMaXN0LlRPS0VOX0VYUElSRUQpfSkpfSkpLHRoaXMucnRtLnNlcnZpY2Uub24oXCJzdHJlYW1cIiwoZnVuY3Rpb24oZSl7dmFyIHQsaT0obnVsbD09PSh0PW51bGw9PWU/dm9pZCAwOmUuaGVhZGVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yb29tX2lkKXx8XCJcIixvPXIuc3RhdGVDZW50ZXIuZ2V0Um9vbUJ5Um9vbUlEKGkpO28/by5zdHJlYW1IYW5kbGVyLmhhbmRsZVN0cmVhbVVwZGF0ZVJzcChlKTpyLmxvZ2dlci5lcnJvcihoLlpFR09fV0VCUlRDX0FDVElPTi5PTl9TVFJFQU0rXCIgcm9vbSBubyBmb3VuZFwiKX0pKSx0aGlzLnJ0bS5saXZlUm9vbUhhbmRsZXIuaGFuZGxlUHVzaFN0cmVhbU1zZz1mdW5jdGlvbihlKXtlLmJvZHkuc3RyZWFtX2NtZD1uLnN0cmVhbU1hcFtlLmhlYWRlci5zdWJfY21kXSxyLmhhbmRsZVB1c2hTdHJlYW1Nc2coZSl9LG51bGw9PT0oZT10aGlzLnJ0bS5zZXJ2aWNlKXx8dm9pZCAwPT09ZXx8ZS5vbihcInB1c2hfc3RyZWFtX3VwZGF0ZVwiLChmdW5jdGlvbihlKXtyLmhhbmRsZVB1c2hTdHJlYW1Nc2coZSl9KSksbnVsbD09PSh0PXRoaXMucnRtLnNlcnZpY2UpfHx2b2lkIDA9PT10fHx0Lm9uKFwiemVnb2NoYXRfanMucHVzaF9yb29tX3N0cmVhbV91cGRhdGVfcmVxXCIsKGZ1bmN0aW9uKGUpe3ZhciB0LGk9KG51bGw9PT0odD1udWxsPT1lP3ZvaWQgMDplLmhlYWRlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucm9vbV9pZCl8fFwiXCIsbz1yLnN0YXRlQ2VudGVyLmdldFJvb21CeVJvb21JRChpKTtvP28uc3RyZWFtSGFuZGxlci5oYW5kbGVQcmlQdXNoU3RyZWFtVXBkYXRlTXNnKGUpOnIubG9nZ2VyLmVycm9yKGguWkVHT19XRUJSVENfQUNUSU9OLk9OX1NUUkVBTStcIiByb29tIG5vIGZvdW5kXCIpfSkpfSxlLnByb3RvdHlwZS5oYW5kbGVXYWl0UHVibGlzaEFuZFBsYXlzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyh0aGlzLnN0YXRlQ2VudGVyLndhaXRQdWJsaXNoU3RyZWFtTGlzdCkscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdLG89dGhpcy5zdGF0ZUNlbnRlci53YWl0UHVibGlzaFN0cmVhbUxpc3RbaV0sbj1vLmxvY2FsU3RyZWFtLHM9by5wdWJsaXNoT3B0aW9uLGE9by5pc0RhdGFDaGFubmVsO2lmKG8ucmV0cnlTdGFydCl7aWYocy5yb29tSUQmJnMucm9vbUlEIT09KG51bGw9PWU/dm9pZCAwOmUucm9vbUlEKSl7dGhpcy5sb2dnZXIuaW5mbyhcInpjLmh3cGFwLjAgcm9vbSBub3QgY29ubmVjdFwiKTtjb250aW51ZX10aGlzLnB1Ymxpc2hNb2R1bGUuc3RhcnRQdWJsaXNoaW5nU3RyZWFtKGksbixzLGEpLGRlbGV0ZSB0aGlzLnN0YXRlQ2VudGVyLndhaXRQdWJsaXNoU3RyZWFtTGlzdFtpXX19fSxlLnByb3RvdHlwZS5oYW5kbGVQdXNoU3RyZWFtTXNnPWZ1bmN0aW9uKGUpe3ZhciB0LHI9KG51bGw9PT0odD1udWxsPT1lP3ZvaWQgMDplLmhlYWRlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucm9vbV9pZCl8fFwiXCIsaT10aGlzLnN0YXRlQ2VudGVyLmdldFJvb21CeVJvb21JRChyKTtpP2kuc3RyZWFtSGFuZGxlci5oYW5kbGVQdXNoU3RyZWFtVXBkYXRlTXNnKGUpOnRoaXMubG9nZ2VyLmVycm9yKGguWkVHT19XRUJSVENfQUNUSU9OLk9OX1BVU0hfU1RSRUFNX1VQREFURStcIiByb29tIG5vIGZvdW5kXCIpfSxlLnByb3RvdHlwZS5iaW5kU3RyZWFtQ2VudGVySGFuZGxlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zdHJlYW1DZW50ZXIub25QbGF5U3RhdGVVcGRhdGU9ZnVuY3Rpb24odCxyLGkpe3ZhciBvPWUuc3RhdGVDZW50ZXIucmVwb3J0U2VxTGlzdC5zdGFydFBsYXlbcl0sbj1lLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W3JdO2lmKDE9PXQmJm4mJmMuQ2xpZW50VXRpbC5pc1JlRGlzcGF0Y2goaSkpe3ZhciBzPW4ucGxheWVyLGE9bi5yZXRyeURpc3BhdGNoSGFuZGxlcix1PW4ucGxheU9wdGlvbjtyZXR1cm4gMCE9cy5zZXNzaW9uSWQmJnMuc2lnbmFsJiZzLnNob3VsZFNlbmRDbG9zZVNlc3Npb24oKSYmKHMuc2lnbmFsLnNlbmRDbG9zZVNlc3Npb24oZS5zdGF0ZUNlbnRlci5nZXRTZXEoKSxzLnNlc3Npb25JZCwxKSxzLnNpZ25hbC5yZW1vdmVTZXNzaW9uKHMuc2Vzc2lvbklkKSxzLmNsb3NlU2Vzc2lvblNpZ25hbD0hMCkscy5yZXNldFBsYXkoKSxhLnN0b3BNYXhUaW1lKCksYS5pbnZhbGlkKCksYS5pbml0U3RyZWFtKHIsdSwhMSksdm9pZChlLnJ0bS5pc0xvZ2luKCk/KGEuc3RhcnRNYXhUaW1lKCksYS5hY3RpdmUoMCkpOmUuc3RyZWFtQ2VudGVyLnBsYXllckxpc3Rbcl0uaXNSZURpc3BhdGNoPSEwKX1uJiZuLnBsYXllciYmKDA9PXR8fDE9PXQpJiZvJiYoZS5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZ0luZm8obyxcIlBsYXlTdGF0ZVwiLHt0eXBlOnR9KSwxPT10JiZpJiZlLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhvLGkpLGUuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKG8se3Nlc3Npb25faWQ6bi5wbGF5ZXIuc2Vzc2lvbklkfSksZS5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChvKSxkZWxldGUgZS5zdGF0ZUNlbnRlci5yZXBvcnRTZXFMaXN0LnN0YXJ0UGxheVtyXSksMT09PXQmJmUuc3RyZWFtQ2VudGVyLnBsYXlFcnJvckNhbGxCYWNrTGlzdFtyXT8oZS5zdGF0ZUNlbnRlci5jb25uZWN0Q2hhbmdlZHx8KGUubG9nZ2VyLmluZm8oXCJ6Yy5vcHN1LjEgY29ubmVjdCBjaGFuZ2VkXCIpLGUuc3RyZWFtQ2VudGVyLnBsYXlFcnJvckNhbGxCYWNrTGlzdFtyXSh7ZXJyb3JDb2RlOmkmJmkuY29kZSxleHRlbmRlZERhdGE6aSYmaS5tZXNzYWdlfSksZGVsZXRlIGUuc3RyZWFtQ2VudGVyLnBsYXlFcnJvckNhbGxCYWNrTGlzdFtyXSksZS5sb2dnZXIuaW5mbyhcInpjLm9wc3UuMSBzdG9wIHBsYXkgY2FsbGVkIGJ5IHNka1wiKSxlLnBsYXlNb2R1bGUuc3RvcFBsYXlpbmdTdHJlYW0ocixpKSk6ZS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcInBsYXllclN0YXRlVXBkYXRlXCIse3N0YXRlOmMuQ2xpZW50VXRpbC5nZXRQbGF5ZXJTdGF0ZVR5cGUodCksc3RyZWFtSUQ6cixlcnJvckNvZGU6aSYmaS5jb2RlLGV4dGVuZGVkRGF0YTppJiZpLm1lc3NhZ2V9KX0sdGhpcy5zdHJlYW1DZW50ZXIub25QdWJsaXNoU3RhdGVVcGRhdGU9ZnVuY3Rpb24odCxyLGkpe2Uub25QdWJsaXNoU3RhdGVVcGRhdGVIYW5kbGUodCxyLGkpfSx0aGlzLnN0cmVhbUNlbnRlci5vblB1Ymxpc2hRdWFsaXR5VXBkYXRlPWZ1bmN0aW9uKHQscil7ZS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcInB1Ymxpc2hRdWFsaXR5VXBkYXRlXCIsdCxyKX0sdGhpcy5zdHJlYW1DZW50ZXIub25QbGF5UXVhbGl0eVVwZGF0ZT1mdW5jdGlvbih0LHIpe2Uuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJwbGF5UXVhbGl0eVVwZGF0ZVwiLHQscil9LHRoaXMuc3RyZWFtQ2VudGVyLm9uUmVtb3RlQ2FtZXJhU3RhdHVzVXBkYXRlPWZ1bmN0aW9uKHQscixpKXt2YXIgbz0oMCxzLmdldFJlcG9ydFNlcSkoKTtlLmRhdGFSZXBvcnQubmV3UmVwb3J0KG8sYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUmVtb3RlQ2FtZXJhVXBkYXRlLmV2ZW50KSxlLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhvLHtzdHJlYW06YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUmVtb3RlQ2FtZXJhVXBkYXRlLnN0cmVhbSh0KSxzdGF0dXM6YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUmVtb3RlQ2FtZXJhVXBkYXRlLnN0YXR1cyhyKX0pLGUuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyksZS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcInJlbW90ZUNhbWVyYVN0YXR1c1VwZGF0ZVwiLHQsciksZS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcIl9yZW1vdGVDYW1lcmFTdGF0dXNVcGRhdGVcIix0LGkpfSx0aGlzLnN0cmVhbUNlbnRlci5vblJlbW90ZU1pY1N0YXR1c1VwZGF0ZT1mdW5jdGlvbih0LHIsaSl7dmFyIG89KDAscy5nZXRSZXBvcnRTZXEpKCk7ZS5kYXRhUmVwb3J0Lm5ld1JlcG9ydChvLGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1JlbW90ZU1pY1VwZGF0ZS5ldmVudCksZS5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyx7c3RyZWFtOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1JlbW90ZU1pY1VwZGF0ZS5zdHJlYW0odCksc3RhdHVzOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1JlbW90ZU1pY1VwZGF0ZS5zdGF0dXMocil9KSxlLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8pLGUuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJyZW1vdGVNaWNTdGF0dXNVcGRhdGVcIix0LHIpLGUuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJfcmVtb3RlTWljU3RhdHVzVXBkYXRlXCIsdCxpKX0sdGhpcy5zdHJlYW1DZW50ZXIub25Tb3VuZExldmVsVXBkYXRlPWZ1bmN0aW9uKHQpe2Uuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJzb3VuZExldmVsVXBkYXRlXCIsdCl9LHRoaXMuc3RyZWFtQ2VudGVyLm9uTWljU291bmRMZXZlbFVwZGF0ZT1mdW5jdGlvbih0KXtlLnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwiY2FwdHVyZWRTb3VuZExldmVsVXBkYXRlXCIsdCl9fSxlLnByb3RvdHlwZS5iaW5kU3RyZWFtSGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2Uub25TdHJlYW1VcGRhdGVkPWZ1bmN0aW9uKGUscixpKXt2YXIgbz1pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3N0cmVhbUlEOmUuc3RyZWFtSUQsdXNlcjplLnVzZXIsZXh0cmFJbmZvOmUuZXh0cmFJbmZvLHVybHNGTFY6ZS51cmxGbHYsdXJsc1JUTVA6ZS51cmxSdG1wLHVybHNITFM6ZS51cmxIbHMsdXJsc0h0dHBzRkxWOmUudXJsSHR0cHNGbHYsdXJsc0h0dHBzSExTOmUudXJsSHR0cHNIbHN9fSkpLG49e307aWYoMD09PXIpe3ZhciB1PWkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57c3RyZWFtX2lkOmUuc3RyZWFtSUQsY29kZTpzLlNUUkVBTV9ERUxFVEVfUkVBU09OW2UuY2xvc2VUeXBlXSYmcy5TVFJFQU1fREVMRVRFX1JFQVNPTltlLmNsb3NlVHlwZV0uY29kZXx8MCxkZXNjcmlwdGlvbjpzLlNUUkVBTV9ERUxFVEVfUkVBU09OW2UuY2xvc2VUeXBlXSYmcy5TVFJFQU1fREVMRVRFX1JFQVNPTltlLmNsb3NlVHlwZV0uZGVzY3JpcHRpb258fFwidW5rbm93blwifX0pKTtuLnN0cmVhbV9kZWxldGVfcmVhc29uPXV9dmFyIGQ9KDAscy5nZXRSZXBvcnRTZXEpKCk7aWYodC5kYXRhUmVwb3J0Lm5ld1JlcG9ydChkLGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tR2V0U3RyZWFtVXBkYXRlSW5mby5ldmVudCksdC5kYXRhUmVwb3J0LmFkZE1zZ0luZm8oZCx7c3RyZWFtX3VwZGF0ZV90eXBlOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tR2V0U3RyZWFtVXBkYXRlSW5mby5zdHJlYW1fdXBkYXRlX3R5cGUoMT09PXI/XCJhZGRlZFwiOlwiZGVsZXRlZFwiKSx1cGRhdGVfc3RyZWFtOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tR2V0U3RyZWFtVXBkYXRlSW5mby51cGRhdGVfc3RyZWFtKG8pfSksdC5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChkKSxvLmxlbmd0aD4wJiZ0LnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwicm9vbVN0cmVhbVVwZGF0ZVwiLGUsYy5DbGllbnRVdGlsLmdldFN0ZWFtVXBkYXRlVHlwZShyKSxvLE9iamVjdC5rZXlzKG4pLmxlbmd0aD4wP0pTT04uc3RyaW5naWZ5KG4pOlwiXCIpLGkubGVuZ3RoPjAmJnQuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJfc3RyZWFtVXBkYXRlZFwiLHIsaSksMT09PXIpe3ZhciBsPVtdO28uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5leHRyYUluZm8mJmwucHVzaCh7c3RyZWFtSUQ6ZS5zdHJlYW1JRCx1c2VyOmUudXNlcixleHRyYUluZm86ZS5leHRyYUluZm99KX0pKSxsLmxlbmd0aD4wJiZ0LnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwic3RyZWFtRXh0cmFJbmZvVXBkYXRlXCIsZSxsKX19LGUub25QdWJsaXNoU3RhdGVVcGRhdGU9ZnVuY3Rpb24oZSxyLGkpe3QubG9nZ2VyLmluZm8oXCJ6Yi5vcHN1IFwiLHIpO3ZhciBvPXQuc3RhdGVDZW50ZXIucmVwb3J0U2VxTGlzdC5zdGFydFB1Ymxpc2hbcl0sbj10LnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3JdO24mJm4ucHVibGlzaGVyJiYoMD09ZXx8MT09ZSkmJm8mJih0LmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnSW5mbyhvLFwiUHVibGlzaFN0YXRlXCIse3R5cGU6ZX0pLDE9PWUmJnQuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKG8saSksdC5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyx7c2Vzc2lvbl9pZDpuLnB1Ymxpc2hlci5zZXNzaW9uSWR9KSx0LmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8pLDEwMTI9PT1pLmNvZGUmJnQuc3RyZWFtQ2VudGVyLnN0b3BQdWJsaXNoaW5nU3RyZWFtKHIpLGRlbGV0ZSB0LnN0YXRlQ2VudGVyLnJlcG9ydFNlcUxpc3Quc3RhcnRQdWJsaXNoW3JdKSx0LnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwicHVibGlzaGVyU3RhdGVVcGRhdGVcIix7c3RhdGU6Yy5DbGllbnRVdGlsLmdldFB1Ymxpc2hlclN0YXRlVHlwZShlKSxzdHJlYW1JRDpyLGVycm9yQ29kZTppLmNvZGUsZXh0ZW5kZWREYXRhOmkubWVzc2FnZX0pfSxlLm9uU3RyZWFtRXh0cmFJbmZvVXBkYXRlZD1mdW5jdGlvbihlLHIpe3ZhciBpPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm57c3RyZWFtSUQ6ZS5zdHJlYW1JRCx1c2VyOmUudXNlcixleHRyYUluZm86ZS5leHRyYUluZm99fSkpLG89KDAscy5nZXRSZXBvcnRTZXEpKCk7dC5kYXRhUmVwb3J0Lm5ld1JlcG9ydChvLGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tR2V0U3RyZWFtRXh0cmFJbmZvLmV2ZW50KSx0LmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhvLHt1cGRhdGVfc3RyZWFtOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0xpdmVSb29tR2V0U3RyZWFtRXh0cmFJbmZvLnVwZGF0ZV9zdHJlYW0oaSl9KSx0LmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8pLHQuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJzdHJlYW1FeHRyYUluZm9VcGRhdGVcIixlLGkpfX0sZS5wcm90b3R5cGUuc2NyZWVuU3RyZWFtRnJvbT1mdW5jdGlvbihlLHQscil7dmFyIGk9e307aS5hdWRpbz17bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOmV9fSxpLnZpZGVvPXttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwiLGNocm9tZU1lZGlhU291cmNlSWQ6ZSxtYXhXaWR0aDp3aW5kb3cuc2NyZWVuLndpZHRoLG1heEhlaWdodDp3aW5kb3cuc2NyZWVuLmhlaWdodH19LCF0JiYoaS5hdWRpbz0hMSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaSkudGhlbigoZnVuY3Rpb24oZSl7cighMCxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cighMSxudWxsLGUpfSkpfSxlLnByb3RvdHlwZS5vblB1Ymxpc2hTdGF0ZVVwZGF0ZUhhbmRsZT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpczt0aGlzLmxvZ2dlci5pbmZvKFwiemMub3BzdWguMCBjYWxsXCIpO3ZhciBvPXRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdF0sbj1vLnJvb207aWYobilpZigwPT1lKXtpZih0aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W3RdKWlmKFtzLkVOVU1fUFVCTElTSF9TVFJFQU1fU1RBVEUudHJ5UHVibGlzaCxzLkVOVU1fUFVCTElTSF9TVFJFQU1fU1RBVEUucmV0cnlQdWJsaXNoXS5pbmNsdWRlcyh0aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W3RdLnN0YXRlKSYmIW4uc3RyZWFtTGlzdC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdHJlYW1faWQ9PXQmJmUuaWRfbmFtZT09PWkuc3RhdGVDZW50ZXIuaWROYW1lfSkpKXRoaXMuc3RhdGVDZW50ZXIucHVibGlzaFN0cmVhbUxpc3RbdF0uc3RhdGU9cy5FTlVNX1BVQkxJU0hfU1RSRUFNX1NUQVRFLnVwZGF0ZV9pbmZvLG4uc3RyZWFtSGFuZGxlci51cGRhdGVTdHJlYW1JbmZvKHQscy5FTlVNX1NUUkVBTV9TVUJfQ01ELmxpdmVCZWdpbix0aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W3RdLmV4dHJhX2luZm8sKGZ1bmN0aW9uKGUpe30pKTtlbHNlIHRoaXMuc3RhdGVDZW50ZXIucHVibGlzaFN0cmVhbUxpc3RbdF0uc3RhdGU9cy5FTlVNX1BVQkxJU0hfU1RSRUFNX1NUQVRFLnB1Ymxpc2hpbmcsdGhpcy5XZWJydGNPblB1Ymxpc2hTdGF0ZVVwZGF0ZUhhbmRsZShlLHQscil9ZWxzZXtpZigxPT1lJiZvJiZjLkNsaWVudFV0aWwuaXNSZURpc3BhdGNoKHIpKXt2YXIgYT1vLnB1Ymxpc2hlcix1PW8ucmV0cnlEaXNwYXRjaEhhbmRsZXIsZD1vLnB1Ymxpc2hPcHRpb247cmV0dXJuIDAhPWEuc2Vzc2lvbklkJiZhLnNpZ25hbCYmYS5zaG91bGRTZW5kQ2xvc2VTZXNzaW9uKCkmJihhLnNpZ25hbC5zZW5kQ2xvc2VTZXNzaW9uKHRoaXMuc3RhdGVDZW50ZXIuZ2V0U2VxKCksYS5zZXNzaW9uSWQsMSksYS5zaWduYWwucmVtb3ZlU2Vzc2lvbihhLnNlc3Npb25JZCksYS5jbG9zZVNlc3Npb25TaWduYWw9ITApLGEucmVzZXRQdWJsaXNoKCksdS5zdG9wTWF4VGltZSgpLHUuaW52YWxpZCgpLHUuaW5pdFN0cmVhbSh0LGQsITApLHZvaWQodGhpcy5ydG0uaXNMb2dpbigpPyh1LnN0YXJ0TWF4VGltZSgpLHUuYWN0aXZlKDApKTp0aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3RdLmlzUmVEaXNwYXRjaD0hMCl9bi5zdHJlYW1IYW5kbGVyLm9uUHVibGlzaFN0YXRlVXBkYXRlKGUsdCxyKSwxPT1lJiYodGhpcy5sb2dnZXIuaW5mbyhcInpjLm9wc3VoLjAgc3RvcCBwdWJsaXNoIGNhbGxlZCBieSBzZGtcIiksdGhpcy5wdWJsaXNoTW9kdWxlLnN0b3BQdWJsaXNoaW5nU3RyZWFtKHQscikpfWVsc2UgdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5vcHN1aC4wIHJvb20gbm90IGV4aXN0XCIpfSxlLnByb3RvdHlwZS5XZWJydGNPblB1Ymxpc2hTdGF0ZVVwZGF0ZUhhbmRsZT1mdW5jdGlvbihlLHQscil7aWYodGhpcy5zdGF0ZUNlbnRlci5wdWJsaXNoU3RyZWFtTGlzdFt0XS5zdGF0ZT09cy5FTlVNX1BVQkxJU0hfU1RSRUFNX1NUQVRFLnB1Ymxpc2hpbmcpe3ZhciBpPXRoaXMuc3RyZWFtQ2VudGVyLmdldFJvb21CeVN0cmVhbUlEKHQpO2kmJmkuc3RyZWFtSGFuZGxlci5vblB1Ymxpc2hTdGF0ZVVwZGF0ZShlLHQscil9fSxlLnByb3RvdHlwZS5iaW5kTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zdGF0ZUNlbnRlci5saXN0ZW5lckxpc3RbZV0/XCJmdW5jdGlvblwiIT10eXBlb2YgdD8odGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5vLjAgbGlzdGVuZXIgY2FsbEJhY2sgbXVzdCBiZSBmdW5jaXRvblwiKSwhMSk6KC0xPT10aGlzLnN0YXRlQ2VudGVyLmxpc3RlbmVyTGlzdFtlXS5pbmRleE9mKHQpJiZ0aGlzLnN0YXRlQ2VudGVyLmxpc3RlbmVyTGlzdFtlXS5wdXNoKHQpLCEwKToodGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5vLjAgZXZlbnQgXCIrZStcIiBubyBmb3VuZFwiKSwhMSl9LGUucHJvdG90eXBlLmRlbGV0ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuc3RhdGVDZW50ZXIubGlzdGVuZXJMaXN0W2VdKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpjLm8uMSBsaXN0ZW5lciBubyBmb3VuZFwiKSwhMTt2YXIgcj10aGlzLnN0YXRlQ2VudGVyLmxpc3RlbmVyTGlzdFtlXTtyZXR1cm4gdD9yLnNwbGljZShyLmluZGV4T2YodCksMSk6dGhpcy5zdGF0ZUNlbnRlci5saXN0ZW5lckxpc3RbZV09W10sITB9LGV9KCk7dC5SVENNb2R1bGVzPWZ9LDUyNzE6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNhbGN1bGF0ZUN1bXVsYXRpdmVEdXJhdGlvbj10LnJlY29yZEJyZWFrRHVyYXRpb249dC5vbkJyZWFrRW5kPXZvaWQgMDt0Lm9uQnJlYWtFbmQ9ZnVuY3Rpb24oZSx0LHIsaSxvKXtpZih2b2lkIDA9PT1vJiYobz1cInZpZGVvXCIpLHQuYnJlYWtTdGFydFRpbWUpe3ZhciBuPWUtdC5icmVha1N0YXJ0VGltZTtuPj1pJiYodC5jdW11bGF0aXZlQnJlYWtEdXJhdGlvbis9bixyLmJyZWFrRHVyYXRpb24rPW4pLHQuYnJlYWtTdGFydFRpbWU9dm9pZCAwfX07dC5yZWNvcmRCcmVha0R1cmF0aW9uPWZ1bmN0aW9uKGUscixpLG8sbixzLGEsYyx1LGQpe2lmKHZvaWQgMD09PXUmJih1PWMpLHZvaWQgMD09PWQmJihkPVwidmlkZW9cIiksbj4xZTMmJihuPTFlMyksby5icmVha1N0YXJ0VGltZSlpZihpKXtpZigwPT09cillLW8uYnJlYWtTdGFydFRpbWU+PTIyZTMmJigwLHQub25CcmVha0VuZCkoZSxvLGEsbixkKSxzLmJyZWFrRHVyYXRpb24rPTFlMztlbHNlIGlmKGM+PW4paWYoYzw1MDApaWYoYyt1PDFlMykoMCx0Lm9uQnJlYWtFbmQpKGUtKDFlMy11KSxvLGEsbixkKSxvLmJyZWFrU3RhcnRUaW1lPWUtYyxzLmJyZWFrRHVyYXRpb24rPXUrYyxzLmRlY29kZVRpbWUrPTFlMy0odStjKTtlbHNlKDAsdC5vbkJyZWFrRW5kKShlLTFlMyt1LG8sYSxuLGQpLG8uYnJlYWtTdGFydFRpbWU9ZS0xZTMrdSxzLmJyZWFrRHVyYXRpb24rPTFlMztlbHNlIGM+PTUwMCYmKCgwLHQub25CcmVha0VuZCkoZS1jLG8sYSxuLGQpLG8uYnJlYWtTdGFydFRpbWU9ZS1jLHMuYnJlYWtEdXJhdGlvbis9MWUzKTtlbHNlIHU8PW4/KCgwLHQub25CcmVha0VuZCkoZS0xZTMrdSxvLGEsbixkKSxvLmJyZWFrU3RhcnRUaW1lPXZvaWQgMCxzLmJyZWFrRHVyYXRpb24rPXUscy5kZWNvZGVUaW1lKz0xZTMtdSxhLmRlY29kZUR1cmF0aW9uKz0xZTMtdSk6cy5icmVha0R1cmF0aW9uKz0xZTN9ZWxzZXtvLnJlc3VtZVJlY3Y9ITE7dmFyIGw9ZS0xZTMtby5icmVha1N0YXJ0VGltZTtsPD0wJiYobD0wKSxvLmJyZWFrU3RhcnRUaW1lPXZvaWQgMCxvLm5vQnJlYWtOb0RlY29kZUR1cmF0aW9uKz1sLHMuYnJlYWtDYW5jZWxEdXJhdGlvbis9bCxhLmJsYW5rRHVyYXRpb24rPWx9ZWxzZSBpPzA9PT1yP28ucmVzdW1lUmVjdj8oby5icmVha1N0YXJ0VGltZT1lLTFlMyxzLmJyZWFrRHVyYXRpb24rPTFlMyk6KG8ubm9CcmVha05vRGVjb2RlRHVyYXRpb24rPTFlMyxhLmJsYW5rRHVyYXRpb24rPTFlMyk6dT5uP28ucmVzdW1lUmVjdj8oby5icmVha1N0YXJ0VGltZT1lLXUsby5jdW11bGF0aXZlQnJlYWtEdXJhdGlvbis9dSxzLmJyZWFrRHVyYXRpb24rPXUscy5kZWNvZGVUaW1lKz0xZTMtdSxhLmJyZWFrRHVyYXRpb24rPXUsYS5kZWNvZGVEdXJhdGlvbis9MWUzLXUpOihvLm5vQnJlYWtOb0RlY29kZUR1cmF0aW9uKz0xZTMsYS5ibGFua0R1cmF0aW9uKz0xZTMpOihzLmRlY29kZVRpbWUrPTFlMyxhLmRlY29kZUR1cmF0aW9uKz0xZTMpOm8uZGVjb2RlU3RhcnRUaW1lJiYoMD09PXI/KG8ucmVzdW1lUmVjdj0hMSxvLm5vQnJlYWtOb0RlY29kZUR1cmF0aW9uKz0xZTMsYS5ibGFua0R1cmF0aW9uKz0xZTMpOihzLmRlY29kZVRpbWUrPTFlMyxhLmRlY29kZUR1cmF0aW9uKz0xZTMpKTtpJiZyJiYoby5yZXN1bWVSZWN2PSEwKX07dC5jYWxjdWxhdGVDdW11bGF0aXZlRHVyYXRpb249ZnVuY3Rpb24oZSx0LHIsaSxvLG4scyl7aWYodm9pZCAwPT09cyYmKHM9XCJ2aWRlb1wiKSxpPWk+MWUzPzFlMzppLHQuYnJlYWtEdXJhdGlvbj0wLHQuYnJlYWtDYW5jZWxEdXJhdGlvbj0wLHQuZGVjb2RlVGltZT0wLHIuZGVjb2RlRHVyYXRpb249MCxyLmJyZWFrRHVyYXRpb249MCxyLmJsYW5rRHVyYXRpb249MCxlLmRlY29kZVN0YXJ0VGltZSl7dmFyIGE9bixjPWEtZS5kZWNvZGVTdGFydFRpbWU7aWYoZS5kZWNvZGVTdGFydFRpbWU9dm9pZCAwLGUudG90YWxEdXJhdGlvbis9YyxlLmJyZWFrU3RhcnRUaW1lKXt2YXIgdT1hLWUuYnJlYWtTdGFydFRpbWU7ZS5icmVha1N0YXJ0VGltZT12b2lkIDAsbz91PmkmJihlLmN1bXVsYXRpdmVCcmVha0R1cmF0aW9uKz11KTplLm5vQnJlYWtOb0RlY29kZUR1cmF0aW9uKz11fXZhciBkPWUuY3VtdWxhdGl2ZUJyZWFrRHVyYXRpb24sbD1lLnRvdGFsRHVyYXRpb24tZS5jdW11bGF0aXZlQnJlYWtEdXJhdGlvbi1lLm5vQnJlYWtOb0RlY29kZUR1cmF0aW9uO3JldHVybiBlLmN1bXVsYXRpdmVEZWNvZGVEdXJhdGlvbj1sLHtjdW11bGF0aXZlQnJlYWtEdXJhdGlvbjpkLGN1bXVsYXRpdmVEZWNvZGVEdXJhdGlvbjpsfX1yZXR1cm57Y3VtdWxhdGl2ZUJyZWFrRHVyYXRpb246MCxjdW11bGF0aXZlRGVjb2RlRHVyYXRpb246MH19fSw2NDIzOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsaT1hcmd1bWVudHMubGVuZ3RoO3I8aTtyKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0saS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGxheU1vZHVsZT12b2lkIDA7dmFyIG89cig2MjYyKSxuPXIoOTg4Nykscz1yKDgzMzUpLGE9cigzNjA4KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpLG8pe3RoaXMubG9nZ2VyPWUsdGhpcy5kYXRhUmVwb3J0PXQsdGhpcy5zdGF0ZUNlbnRlcj1yLHRoaXMuc3RyZWFtQ2VudGVyPWksdGhpcy5ydG09b31yZXR1cm4gZS5wcm90b3R5cGUuc3RhcnRQbGF5aW5nU3RyZWFtPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmxvZ2dlci5pbmZvKG8uWkVHT19XRUJSVENfQUNUSU9OLlNUQVJUX1BMQVlJTkdfU1RSRUFNK1wiIGNhbGwgXCIsZSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8sbil7cmV0dXJuIGkuX2hhbmRsZVBsYXlTdHJlYW0oZSx0LG8sbixyKX0pKX0sZS5wcm90b3R5cGUuX2hhbmRsZVBsYXlTdHJlYW09ZnVuY3Rpb24oZSx0LHIsYyx1KXt2YXIgZD10aGlzLGw9cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LGg9KDAsbi5nZXRSZXBvcnRTZXEpKCk7dGhpcy5zdGF0ZUNlbnRlci5yZXBvcnRTZXFMaXN0LnN0YXJ0UGxheVtlXT1oLHRoaXMuZGF0YVJlcG9ydC5uZXdSZXBvcnQoaCxsLmV2ZW50KTt2YXIgcCxnPWZ1bmN0aW9uKHQscil7ZC5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfUExBWUlOR19TVFJFQU0rXCIgXCIrKHJ8fHQubWVzc2FnZSkpLGQuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoaCx2b2lkIDAsdCxyKSxkZWxldGUgZC5zdGF0ZUNlbnRlci5yZXBvcnRTZXFMaXN0LnN0YXJ0UGxheVtlXSxjJiZjKGkoaSh7fSx0KSx7ZXJyb3JDb2RlOnQuY29kZSxleHRlbmRlZERhdGE6dC5tZXNzYWdlKyhyP1wiIFwiK3I6XCJcIil9KSl9O2lmKHZvaWQgMD09PWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlfHxcIlwiPT09ZSlyZXR1cm4gZyhsLmVycm9yLmtQbGF5UGFyYW1FcnJvcixcInN0cmVhbSBpZCB0eXBlIGVycm9yXCIpLCExO2lmKGUubGVuZ3RoPm4uTUFYX1NUUkVBTV9JRF9MRU5HVEgpcmV0dXJuIGcobC5lcnJvci5rUGxheVN0cmVhbUlEVG9Mb25nRXJyb3IsXCJzdHJlYW0gaWQgbGVuZ3RoIGxpbWl0IFwiK24uTUFYX1NUUkVBTV9JRF9MRU5HVEgpLCExO2lmKCFhLkNsaWVudFV0aWwuY2hlY2tJbGxlZ2FsQ2hhcmFjdGVycyhlKSlyZXR1cm4gZyhsLmVycm9yLmtQbGF5U3RyZWFtSURJbnZhbGlkQ2hhcmFjdGVyRXJyb3IpLCExO2lmKHZvaWQgMCE9PXQmJlwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiBnKGwuZXJyb3Iua1BsYXlQYXJhbUVycm9yLFwicGxheU9wdGlvbiBtdXN0IGJlIG9iamVjdFwiKSwhMTtpZih0aGlzLnN0YXRlQ2VudGVyLmN1c3RvbVVybCYmMCE9dGhpcy5zdGF0ZUNlbnRlci5jdXN0b21VcmwubGVuZ3RoKXRoaXMubG9nZ2VyLmluZm8oXCJ6Yy5wLnNwcy4xIGN1c3RvbVVybCBcIitKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlQ2VudGVyLmN1c3RvbVVybCkpLHA9dGhpcy5zdGF0ZUNlbnRlci5jdXN0b21Vcmw7ZWxzZXt2YXIgZj10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInNpZ25hbF9ub2Rlc1wiLCEwKTtmJiZmIGluc3RhbmNlb2YgQXJyYXkmJmYubGVuZ3RoPjAmJihwPWYsdGhpcy5sb2dnZXIuaW5mbyhcInpjLnAuc3BzLjEgc2V0dGluZyBjb25maWcgc2lnbmFsX25vZGVzIFwiK0pTT04uc3RyaW5naWZ5KGYpKSl9aWYocCl7dmFyIG09dGhpcy5zdHJlYW1DZW50ZXIuc2V0UGxheVN0YXRlU3RhcnQoZSx0LHUpO3JldHVybiEwIT09bT8oZyhKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG0pKSxcImNhbm5vdCBzdGFydCBwbGF5XCIpLCExKToodGhpcy5zdHJlYW1DZW50ZXIub25QbGF5U3RhdGVVcGRhdGUobi5FTlVNX1BMQVlfU1RBVEVfVVBEQVRFLnJldHJ5LGUse2NvZGU6MCxtZXNzYWdlOlwiXCJ9KSx0aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W2VdLnNlcnZlclVybHM9cCx0aGlzLnN0cmVhbUNlbnRlci5zdGFydFBsYXlpbmdTdHJlYW0oZSwhMSwoZnVuY3Rpb24oZSl7ciYmcihlKX0pKSl9aWYodGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8oaCx7c3RyZWFtOmwuc3RyZWFtKGUpLHBsYXlPcHRpb246bC5wbGF5T3B0aW9uKHQpLHVzZV9uYTp0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50PzE6MH0pLHRoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQmJnRoaXMuc3RhdGVDZW50ZXIucGxheUFjY2VsZXJhdGUmJnRoaXMuc3RhdGVDZW50ZXIucm9vbUxpc3QubGVuZ3RoPjApdGhpcy5sb2dnZXIuaW5mbyhvLlpFR09fV0VCUlRDX0FDVElPTi5TVEFSVF9QTEFZSU5HX1NUUkVBTStcIiBwbGF5IGFjY2VsZXJhdGVcIik7ZWxzZSBpZih0aGlzLnJ0bS5pc0Rpc0Nvbm5lY3QoKSlyZXR1cm4gZyhsLmVycm9yLmtQbGF5Tm9Mb2dpbkVycm9yKSwhMTt0aGlzLnN0YXRlQ2VudGVyLnB1bGxMaW1pdGVkfHwoZT1OYU4rZSksdCYmdC52aWRlb0NvZGVjJiYodC52aWRlb0NvZGVjPXQudmlkZW9Db2RlYy50b1VwcGVyQ2FzZSgpKTt2YXIgXz10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInJlc291cmNlX21vZGVcIiwhMCk7dm9pZCAwIT09XyYmKHRoaXMubG9nZ2VyLmluZm8oby5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfUExBWUlOR19TVFJFQU0sXCIgc2V0dGluZyByZXNvdXJjZV9tb2RlIFwiK18pLCF0JiYodD17fSksdC5yZXNvdXJjZU1vZGU9Xyk7dmFyIHY9dGhpcy5zdHJlYW1DZW50ZXIuc2V0UGxheVN0YXRlU3RhcnQoZSx0LHUpO2lmKCEwIT09dilyZXR1cm4gZyhKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHYpKSxcImNhbm5vdCBzdGFydCBwbGF5XCIpLCExO3RoaXMuc3RyZWFtQ2VudGVyLm9uUGxheVN0YXRlVXBkYXRlKG4uRU5VTV9QTEFZX1NUQVRFX1VQREFURS5yZXRyeSxlLHtjb2RlOjAsbWVzc2FnZTpcIlwifSksdGhpcy5zdHJlYW1DZW50ZXIucGxheVN1Y2Nlc3NDYWxsQmFja0xpc3RbZV09ZnVuY3Rpb24oZSl7ciYmcihlKX0sYyYmKHRoaXMuc3RyZWFtQ2VudGVyLnBsYXlFcnJvckNhbGxCYWNrTGlzdFtlXT1jKTt2YXIgRT10aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50O2lmKEUpcmV0dXJuIHRoaXMuc3RhdGVDZW50ZXIuYXBwQ29uZmlnPyh0aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W2VdLnNlcnZlclVybHM9Mj09PShudWxsPT10P3ZvaWQgMDp0LnJlc291cmNlTW9kZSk/W1widW5pZmllZF9sM1wiXTpbXCJ1bmlmaWVkX3J0Y1wiXSx0aGlzLnN0cmVhbUNlbnRlci5zdGFydFBsYXlpbmdTdHJlYW0oZSxFLHRoaXMuc3RyZWFtQ2VudGVyLnBsYXlTdWNjZXNzQ2FsbEJhY2tMaXN0W2VdKSwhMCk6KHRoaXMuc3RyZWFtQ2VudGVyLndhaXRQbGF5TGlzdC5wdXNoKGUpLCEwKTt2YXIgUz10aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W2VdLnJldHJ5RGlzcGF0Y2hIYW5kbGVyO3JldHVybiBTLnN0b3BNYXhUaW1lKCksUy5pbnZhbGlkKCksUy5pbml0U3RyZWFtKGUsdCwhMSksUy5zdGFydE1heFRpbWUoKSxTLmFjdGl2ZSgwKX0sZS5wcm90b3R5cGUuc3RvcFBsYXlpbmdTdHJlYW09ZnVuY3Rpb24oZSx0KXt2YXIgcixpO3RoaXMubG9nZ2VyLmluZm8oby5aRUdPX1dFQlJUQ19BQ1RJT04uU1RPUF9QTEFZSU5HX1NUUkVBTStcIiBjYWxsXCIsZSk7dmFyIGE9KDAsbi5nZXRSZXBvcnRTZXEpKCk7aWYodGhpcy5zdGF0ZUNlbnRlci5yZXBvcnRTZXFMaXN0LnN0b3BQbGF5W2VdPWEsdGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChhLHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdG9wLmV2ZW50KSx0aGlzLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhhLHtzdHJlYW06cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0b3Auc3RyZWFtKGUpfSksXCJzdHJpbmdcIiE9dHlwZW9mIGV8fFwiXCI9PT1lKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihvLlpFR09fV0VCUlRDX0FDVElPTi5TVE9QX1BMQVlJTkdfU1RSRUFNK1wiIHN0cmVhbWlkIG11c3QgYmUgc3RyaW5nIGFuZCBub3QgZW1wdHlcIiksdGhpcy5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChhLHZvaWQgMCxzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQbGF5U3RvcC5lcnJvci5rUGFyYW1FcnJvcixcInN0cmVhbSBpZCB0eXBlIGVycm9yXCIpLHZvaWQgZGVsZXRlIHRoaXMuc3RhdGVDZW50ZXIucmVwb3J0U2VxTGlzdC5zdG9wUGxheVtlXTt2YXIgYz10aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W2VdLHU9YyYmYy5wbGF5ZXImJmMucGxheWVyLnN0YXRlIT09bi5FTlVNX1BMQVlfU1RBVEUuc3RvcHx8KG51bGw9PT0ocj1udWxsPT1jP3ZvaWQgMDpjLnJldHJ5U3RyZWFtSGFuZGxlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaXNSZXRyeWluZygpKTtmb3IodmFyIGQgaW4gdGhpcy5zdHJlYW1DZW50ZXIuc3RvcFBsYXlpbmdTdHJlYW0oZSksdGhpcy5zdGF0ZUNlbnRlci5zdHJlYW1VcmxNYXApaWYodGhpcy5zdGF0ZUNlbnRlci5zdHJlYW1VcmxNYXBbZF09PT1lKXtkZWxldGUgdGhpcy5zdGF0ZUNlbnRlci5zdHJlYW1VcmxNYXBbZF07YnJlYWt9dGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8oYSx7c2Vzc2lvbl9pZDpudWxsPT09KGk9bnVsbD09Yz92b2lkIDA6Yy5wbGF5ZXIpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNlc3Npb25JZH0pLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoYSksdSYmdGhpcy5zdHJlYW1DZW50ZXIub25QbGF5U3RhdGVVcGRhdGUobi5FTlVNX1BMQVlfU1RBVEVfVVBEQVRFLmVycm9yLGUsdHx8e2NvZGU6MCxtZXNzYWdlOlwiXCJ9KSx0aGlzLmxvZ2dlci5kZWJ1ZyhvLlpFR09fV0VCUlRDX0FDVElPTi5TVE9QX1BMQVlJTkdfU1RSRUFNK1wiIGNhbGwgc3VjY2Vzc1wiKX0sZS5wcm90b3R5cGUubXV0ZVBsYXlTdHJlYW09ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtlKCExKX0pKX0sZS5wcm90b3R5cGUuc2V0U3RyZWFtQXVkaW9PdXRwdXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuc3RhcnRXYWl0UGxheT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zdHJlYW1DZW50ZXIud2FpdFBsYXlMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2Uuc3RyZWFtQ2VudGVyLnN0YXJ0UGxheWluZ1N0cmVhbSh0LGUuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQsZS5zdHJlYW1DZW50ZXIucGxheVN1Y2Nlc3NDYWxsQmFja0xpc3RbdF0pfSkpLHRoaXMuc3RyZWFtQ2VudGVyLndhaXRQbGF5TGlzdD1bXX0sZS5wcm90b3R5cGUuZ2V0U3RyZWFtU3RhdHM9ZnVuY3Rpb24oZSl7dmFyIHQscixpO3JldHVybiB0aGlzLmxvZ2dlci5pbmZvKG8uWkVHT19XRUJSVENfQUNUSU9OLkRFU1RST1lfU1RSRUFNK1wiIGNhbGxcIiksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihpPW51bGw9PT0odD10aGlzLnN0cmVhbUNlbnRlci5wbGF5ZXJMaXN0W2VdKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wbGF5ZXIpLGkmJihudWxsPT09KHI9bnVsbD09aT92b2lkIDA6aS5xdWFsaXR5SGFuZGxlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuY3VycmVudFF1YWxpdHkpP2kucXVhbGl0eUhhbmRsZXIuY3VycmVudFF1YWxpdHl8fG51bGw6KHRoaXMubG9nZ2VyLmVycm9yKFwienNjLnNwLjAgc3RyZWFtIGlzIG5vdCBwbGF5aW5nXCIpLG51bGwpfSxlfSgpO3QuUGxheU1vZHVsZT1jfSw5NTMyOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsaT1hcmd1bWVudHMubGVuZ3RoO3I8aTtyKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0saS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGxheVN0cmVhbVF1YWxpdHk9dm9pZCAwO3ZhciBvPXIoOTg4Nyksbj1yKDYyNjIpLHM9cig4MzM1KSxhPXIoMzYwOCksYz1yKDUyNzEpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkpe3RoaXMucGxheWVyPXQsdGhpcy5sb2dnZXI9cix0aGlzLmRhdGFSZXBvcnQ9aSx0aGlzLnBsYXlRdWFsaXR5TGlzdD1bXSx0aGlzLm1heFF1YWxpdHlMaXN0Q291bnQ9MTAsdGhpcy5xdWFsaXR5VGltZXI9bnVsbCx0aGlzLmxhc3RQbGF5U3RhdHM9e2F1ZGlvUGFja2V0c0xvc3Q6MCx2aWRlb1BhY2tldHNMb3N0OjAsdGltZTowLGF1ZGlvVGltZTowLHZpZGVvVGltZTowLGF1ZGlvQnl0ZXNSZWNlaXZlZDowLHZpZGVvQnl0ZXNSZWNlaXZlZDowLGF1ZGlvUGFja2V0c1JlY2VpdmVkOjAsdmlkZW9QYWNrZXRzUmVjZWl2ZWQ6MCxmcmFtZXNEZWNvZGVkOjAsZnJhbWVzUmVjZWl2ZWQ6MCxmcmFtZXNEcm9wcGVkOjAsYXVkaW9CaXRyYXRlOjB9LHRoaXMuY3VycmVudFF1YWxpdHk9e3ZpZGVvOnt2aWRlb0JpdHJhdGU6MCx2aWRlb0ZQUzowLHZpZGVvVHJhbnNmZXJGUFM6MCxmcmFtZUhlaWdodDowLGZyYW1lV2lkdGg6MCxtdXRlU3RhdGU6XCIxXCIsdmlkZW9RdWFsaXR5Oi0xLGdvb2dDb2RlY05hbWU6XCJcIix2aWRlb1BhY2tldHNMb3N0OjAsdmlkZW9QYWNrZXRzTG9zdFJhdGU6MCx2aWRlb0ZyYW1lc0RlY29kZWQ6MCx2aWRlb0ZyYW1lc0Ryb3BwZWQ6MCx2aWRlb0N1bXVsYXRpdmVEZWNvZGVUaW1lOjAsdmlkZW9DdW11bGF0aXZlQnJlYWtUaW1lOjAsdmlkZW9DdW11bGF0aXZlQnJlYWtSYXRlOjB9LGF1ZGlvOnthdWRpb0JpdHJhdGU6MCxhdWRpb0NvZGVjOlwib3B1c1wiLG11dGVTdGF0ZTpcIjFcIixhdWRpb1F1YWxpdHk6LTEsYXVkaW9GUFM6MCxhdWRpb0ppdHRlcjowLGF1ZGlvTGV2ZWw6MCxhdWRpb1BhY2tldHNMb3N0OjAsYXVkaW9QYWNrZXRzTG9zdFJhdGU6MCxhdWRpb1NhbXBsaW5nUmF0ZTowLGF1ZGlvU2VuZExldmVsOjAsZ29vZ0NvZGVjTmFtZTpcIlwiLGF1ZGlvQ3VtdWxhdGl2ZURlY29kZVRpbWU6MCxhdWRpb0N1bXVsYXRpdmVCcmVha1RpbWU6MCxhdWRpb0N1bXVsYXRpdmVCcmVha1JhdGU6MH0scGVlclRvUGVlckRlbGF5OjAscGVlclRvUGVlclBhY2tldExvc3RSYXRlOjB9LHRoaXMuZGVjb2RlU3RhcnRUaW1lPTAsdGhpcy5uZXRRdWFsaXR5PTAsdGhpcy5wcm9iZVRpbWU9MCx0aGlzLnByb2JlSW50ZXJ2YWw9NmU0LHRoaXMucHJvYmVTdGF0ZT1vLkVOVU1fUFJPQkVfU1RBVEUucHJvYmVkLHRoaXMucHJvYmVUaW1lcj1udWxsLHRoaXMucHJvYmVUaW1lb3V0SW50ZXJ2YWw9M2U0LHRoaXMucXVhbGl0eVVwbG9hZD0hMSx0aGlzLnF1YWxpdHlVcGxvYWRJbnRlcnZhbD0zZTQsdGhpcy5xdWFsaXR5VXBsb2FkTGFzdFRpbWU9MCx0aGlzLmN1bXVsYXRpdmVRdWFsaXR5PXt9LHRoaXMuYXVkaW9CcmVha1RocmVzaG9sZD0yMDAsdGhpcy52aWRlb0JyZWFrVGhyZXNob2xkPTUwMCx0aGlzLnZpZGVvQnJlYWs9e2JyZWFrU3RhcnRUaW1lOnZvaWQgMCxjdW11bGF0aXZlQnJlYWtEdXJhdGlvbjowLGN1bXVsYXRpdmVEZWNvZGVEdXJhdGlvbjowLGRlY29kZVN0YXJ0VGltZTp2b2lkIDAsZGVjb2RlRW5kVGltZTp2b2lkIDAsdG90YWxEdXJhdGlvbjowLG5vQnJlYWtOb0RlY29kZUR1cmF0aW9uOjAscmVzdW1lUmVjdjohMH0sdGhpcy5hdWRpb0JyZWFrPXticmVha1N0YXJ0VGltZTp2b2lkIDAsY3VtdWxhdGl2ZUJyZWFrRHVyYXRpb246MCxjdW11bGF0aXZlRGVjb2RlRHVyYXRpb246MCxkZWNvZGVTdGFydFRpbWU6dm9pZCAwLGRlY29kZUVuZFRpbWU6dm9pZCAwLHRvdGFsRHVyYXRpb246MCxub0JyZWFrTm9EZWNvZGVEdXJhdGlvbjowLHJlc3VtZVJlY3Y6ITB9LHRoaXMubGFzdFNhbXBsZVRpbWU9MCx0aGlzLnZpZGVvQnJlYWtSZXBvcnQ9e2JyZWFrRHVyYXRpb246MCxicmVha0NhbmNlbER1cmF0aW9uOjAsZGVjb2RlVGltZTowfSx0aGlzLmF1ZGlvQnJlYWtSZXBvcnQ9e2JyZWFrRHVyYXRpb246MCxicmVha0NhbmNlbER1cmF0aW9uOjAsZGVjb2RlVGltZTowfSx0aGlzLnZpZGVvUmVsaWFibGVCcmVhaz17ZGVjb2RlRHVyYXRpb246MCxicmVha0R1cmF0aW9uOjAsYmxhbmtEdXJhdGlvbjowfSx0aGlzLmF1ZGlvUmVsaWFibGVCcmVhaz17ZGVjb2RlRHVyYXRpb246MCxicmVha0R1cmF0aW9uOjAsYmxhbmtEdXJhdGlvbjowfSx0aGlzLnRvdGFsUXVhbGl0eT17dG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5OjAsdG90YWxJbnRlckZyYW1lRGVsYXk6MCxmcmFtZXNEZWNvZGU6MCx0b3RhbFNhbXBsZXNSZWNlaXZlZDowLGNvbmNlYWxlZFNhbXBsZXM6MCxhdWRpb0J5dGVzUmVjZWl2ZWQ6MH0sdGhpcy5jdXJyZW50U2Vjb25kUXVhbGl0eT17dG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5OjAsdG90YWxJbnRlckZyYW1lRGVsYXk6MCxmcmFtZXNEZWNvZGU6MCx0b3RhbFNhbXBsZXNSZWNlaXZlZDowLGNvbmNlYWxlZFNhbXBsZXM6MH0sdGhpcy5wb29yUXVhbGl0eU51bT0wLHRoaXMucDJwTmV0U3RhdHM9e3AycExvc3RSYXRlOjAscDJwUlRUOjB9LHRoaXMuc2FtcGxlVGltZXM9MCx0aGlzLnF1YWxpdHlTYW1wbGVJbnRlcnZhbD0xZTMsdGhpcy5xdWFsaXR5VGltZUludGVydmFsPWUsdGhpcy5jdXJyZW50UXVhbGl0eS52aWRlby5tdXRlU3RhdGU9dGhpcy5wbGF5ZXIudmlkZW9NdXRlU3RhdGUsdGhpcy5jdXJyZW50UXVhbGl0eS5hdWRpby5tdXRlU3RhdGU9dGhpcy5wbGF5ZXIuYXVkaW9NdXRlU3RhdGV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInN0cmVhbUlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXllci5zdHJlYW1JZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZXNzaW9uSWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWVyLnNlc3Npb25JZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwZWVySURcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWVyLnBlZXJJRH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRQbGF5U3RhdHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixpLHUsZD10aGlzO2lmKG51bGwhPWUpe3ZhciBsPXRoaXMuc2FtcGxlVGltZXMlcGFyc2VJbnQoKHRoaXMucXVhbGl0eVRpbWVJbnRlcnZhbC90aGlzLnF1YWxpdHlTYW1wbGVJbnRlcnZhbCkudG9TdHJpbmcoKSk9PTA7cGFyc2VJbnQoKHRoaXMucXVhbGl0eVRpbWVJbnRlcnZhbC90aGlzLnF1YWxpdHlTYW1wbGVJbnRlcnZhbCkudG9TdHJpbmcoKSk7bCYmdGhpcy5nZXRQMlBOZXRTdGF0cygpO2Zvcih2YXIgaCxwPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ2aWRlbywgYXVkaW9cIiksZz0wO2c8cC5sZW5ndGg7ZysrKXBbZ10uc3JjT2JqZWN0PT09dGhpcy5wbGF5ZXIucGxheVN0cmVhbSYmKGg9cFtnXSk7dmFyIGY9e3NhbXBsZVRpbWVXaW5kb3c6dGhpcy5xdWFsaXR5VGltZUludGVydmFsLGF1ZGlvRnJhY3Rpb25Mb3N0OjAsYXVkaW9QYWNrZXRzTG9zdDowLGF1ZGlvUGFja2V0c0xvc3RSYXRlOjAsYXVkaW9CaXRyYXRlOjAsYXVkaW9MZXZlbDowLGF1ZGlvU2VuZExldmVsOjAsYXVkaW9TYW1wbGluZ1JhdGU6MCxhdWRpb0NvZGVjOlwib3B1c1wiLGF1ZGlvUXVhbGl0eTowLGF1ZGlvRlBTOjAsdmlkZW9RdWFsaXR5OjAsdmlkZW9QYWNrZXRzTG9zdDowLHZpZGVvUGFja2V0c0xvc3RSYXRlOjAsdmlkZW9CaXRyYXRlOjAsdmlkZW9GUFM6MCxuYWNrQ291bnQ6MCxwbGlDb3VudDowLGF1ZGlvSml0dGVyOjAsdmlkZW9KaXR0ZXI6MCx2aWRlb0ZyYWN0aW9uTG9zdDowLHZpZGVvRnJhbWVzRGVjb2RlZDowLGZyYW1lSGVpZ2h0OjAsZnJhbWVXaWR0aDowLHZpZGVvVHJhbnNmZXJGUFM6MCx2aWRlb0ZyYW1lc0Ryb3BwZWQ6MCx0b3RhbFJvdW5kVHJpcFRpbWU6MCxjdXJyZW50Um91bmRUcmlwVGltZTowLGdvb2dCYW5kd2lkdGhMaW1pdGVkUmVzb2x1dGlvbjp2b2lkIDAsdmlkZW9Db2RlY05hbWU6XCJcIixhdWRpb0NvZGVjTmFtZTpcIlwiLGdvb2dDcHVMaW1pdGVkUmVzb2x1dGlvbjp2b2lkIDAsZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGg6MCxhdWRpb011dGVTdGF0ZTp0aGlzLnBsYXllci5hdWRpb011dGVTdGF0ZSx2aWRlb011dGVTdGF0ZTp0aGlzLnBsYXllci52aWRlb011dGVTdGF0ZSxtdXRlZDpoP2gubXV0ZWQ6dm9pZCAwLHBhdXNlZDpoP2gucGF1c2VkOnZvaWQgMCx2b2x1bWU6aD9oLnZvbHVtZTp2b2lkIDAsc2lua0lkOmg/aC5zaW5rSWQ6dm9pZCAwfSxtPXRoaXMubGFzdFBsYXlTdGF0cy50aW1lLF89MCx2PTAsRT0wLFM9MCxUPTAsQz0wLHk9MCxSPW51bGwsYj1udWxsO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7W1wic3NyY1wiLFwiaW5ib3VuZC1ydHBcIl0uaW5jbHVkZXMoZS50eXBlKSYmKFwidmlkZW9cIj09ZS5tZWRpYVR5cGV8fGUuaWQuaW5kZXhPZihcIlZpZGVvU3RyZWFtXCIpPj0wKSYmKFI9ZSksKFwiaW5ib3VuZC1ydHBcIj09ZS50eXBlfHxcInNzcmNcIj09ZS50eXBlJiZudWxsIT1lLmJ5dGVzUmVjZWl2ZWQpJiYoXCJhdWRpb1wiPT1lLm1lZGlhVHlwZXx8ZS5pZC5pbmRleE9mKFwiQXVkaW9TdHJlYW1cIik+PTApJiYoYj1lKX0pKTt2YXIgST0obmV3IERhdGUpLmdldFRpbWUoKSxBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dD9lLXQ6MH07aWYodGhpcy5sYXN0U2FtcGxlVGltZXx8KHRoaXMubGFzdFNhbXBsZVRpbWU9SS0xZTMpLFIpe3ZhciBrPVIudG90YWxJbnRlckZyYW1lRGVsYXksTD1SLmZyYW1lc0RlY29kZWQsUD1SLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheSxPPUEoTCx0aGlzLnRvdGFsUXVhbGl0eS5mcmFtZXNEZWNvZGUpO3RoaXMudG90YWxRdWFsaXR5LmZyYW1lc0RlY29kZT1MO3ZhciBOPUEoayx0aGlzLnRvdGFsUXVhbGl0eS50b3RhbEludGVyRnJhbWVEZWxheSk7dGhpcy50b3RhbFF1YWxpdHkudG90YWxJbnRlckZyYW1lRGVsYXk9azt2YXIgTT1BKFAsdGhpcy50b3RhbFF1YWxpdHkudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5KTt0aGlzLnRvdGFsUXVhbGl0eS50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXk9UDt2YXIgRD0oTS1NYXRoLnBvdyhOLDIpLyhPfHwxKSkvKE98fDEpO0Q9RD4wP0Q6LUQ7dmFyIHc9cGFyc2VJbnQoKDFlMy8oTysxKSkudG9TdHJpbmcoKSksVT0xZTMqTWF0aC5zcXJ0KEQpLEI9Ti8oT3x8MSkqMWUzfHx3LHg9KEI9cGFyc2VJbnQoKEI+MWUzPzFlMzpCKS50b1N0cmluZygpKSkrVTtpZih4PXBhcnNlSW50KCh4PjFlMz8xZTM6eCkudG9TdHJpbmcoKSksTz4wJiYwPT09dGhpcy5wbGF5ZXIuY2FtZXJhU3RhdHVzJiYhdGhpcy52aWRlb0JyZWFrLmRlY29kZVN0YXJ0VGltZSYmKHRoaXMudmlkZW9CcmVhay5kZWNvZGVTdGFydFRpbWU9SS0xZTMpLHRoaXMudmlkZW9CcmVhay5kZWNvZGVTdGFydFRpbWUpKDAsYy5yZWNvcmRCcmVha0R1cmF0aW9uKShJLE8sMD09PXRoaXMucGxheWVyLmNhbWVyYVN0YXR1cyYmdGhpcy5wbGF5ZXIucGxheU1lZGlhU3RhdHVzLnZpZGVvLHRoaXMudmlkZW9CcmVhayx0aGlzLnZpZGVvQnJlYWtUaHJlc2hvbGQsdGhpcy52aWRlb0JyZWFrUmVwb3J0LHRoaXMudmlkZW9SZWxpYWJsZUJyZWFrLEIseCl9aWYoYil7dmFyIEc9Yi50b3RhbFNhbXBsZXNSZWNlaXZlZCxaPWIuY29uY2VhbGVkU2FtcGxlcyxIPWIuYnl0ZXNSZWNlaXZlZCxXPUEoRyx0aGlzLnRvdGFsUXVhbGl0eS50b3RhbFNhbXBsZXNSZWNlaXZlZCk7dGhpcy50b3RhbFF1YWxpdHkudG90YWxTYW1wbGVzUmVjZWl2ZWQ9Rzt2YXIgRj1BKFosdGhpcy50b3RhbFF1YWxpdHkuY29uY2VhbGVkU2FtcGxlcyk7dGhpcy50b3RhbFF1YWxpdHkuY29uY2VhbGVkU2FtcGxlcz1aO3ZhciBxPUEoSCx0aGlzLnRvdGFsUXVhbGl0eS5hdWRpb0J5dGVzUmVjZWl2ZWQpO3RoaXMudG90YWxRdWFsaXR5LmF1ZGlvQnl0ZXNSZWNlaXZlZD1IO3ZhciB6PXBhcnNlSW50KCgxZTMqKEYvKFd8fDEpKSkudG9TdHJpbmcoKSk7aWYocT4wJiYwPT09dGhpcy5wbGF5ZXIubWljU3RhdHVzJiYhdGhpcy5hdWRpb0JyZWFrLmRlY29kZVN0YXJ0VGltZSYmKHRoaXMuYXVkaW9CcmVhay5kZWNvZGVTdGFydFRpbWU9SS0xZTMpLHRoaXMuYXVkaW9CcmVhay5kZWNvZGVTdGFydFRpbWUpKDAsYy5yZWNvcmRCcmVha0R1cmF0aW9uKShJLHEsMD09PXRoaXMucGxheWVyLm1pY1N0YXR1cyYmdGhpcy5wbGF5ZXIucGxheU1lZGlhU3RhdHVzLmF1ZGlvLHRoaXMuYXVkaW9CcmVhayx0aGlzLmF1ZGlvQnJlYWtUaHJlc2hvbGQsdGhpcy5hdWRpb0JyZWFrUmVwb3J0LHRoaXMuYXVkaW9SZWxpYWJsZUJyZWFrLHoseixcImF1ZGlvXCIpfWlmKHQmJnQucmVzdWx0KCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bCYmKFwic3NyY1wiPT1lLnR5cGUmJihlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dCYW5kd2lkdGhMaW1pdGVkUmVzb2x1dGlvblwiKT49MCYmKGYuZ29vZ0JhbmR3aWR0aExpbWl0ZWRSZXNvbHV0aW9uPWUuc3RhdChcImdvb2dCYW5kd2lkdGhMaW1pdGVkUmVzb2x1dGlvblwiKSksZS5uYW1lcygpLmluZGV4T2YoXCJjb2RlY0ltcGxlbWVudGF0aW9uTmFtZVwiKT49MCYmKGYuY29kZWNJbXBsZW1lbnRhdGlvbk5hbWU9ZS5zdGF0KFwiY29kZWNJbXBsZW1lbnRhdGlvbk5hbWVcIikpLFwidmlkZW9cIj09ZS5zdGF0KFwibWVkaWFUeXBlXCIpJiYoZS5uYW1lcygpLmluZGV4T2YoXCJnb29nQ29kZWNOYW1lXCIpPj0wJiYoZi52aWRlb0NvZGVjTmFtZT1lLnN0YXQoXCJnb29nQ29kZWNOYW1lXCIpKSxlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dDdXJyZW50RGVsYXlNc1wiKT49MCYmKHk9ZS5zdGF0KFwiZ29vZ0N1cnJlbnREZWxheU1zXCIpKSksXCJhdWRpb1wiPT1lLnN0YXQoXCJtZWRpYVR5cGVcIikmJihlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dDb2RlY05hbWVcIik+PTAmJihmLmF1ZGlvQ29kZWNOYW1lPWUuc3RhdChcImdvb2dDb2RlY05hbWVcIikpLGUubmFtZXMoKS5pbmRleE9mKFwiZ29vZ0N1cnJlbnREZWxheU1zXCIpPj0wJiYoQz1lLnN0YXQoXCJnb29nQ3VycmVudERlbGF5TXNcIikpKSxlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dDcHVMaW1pdGVkUmVzb2x1dGlvblwiKT49MCYmKGYuZ29vZ0NwdUxpbWl0ZWRSZXNvbHV0aW9uPWUuc3RhdChcImdvb2dDcHVMaW1pdGVkUmVzb2x1dGlvblwiKSkpLFwiVmlkZW9Cd2VcIj09ZS50eXBlJiZlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoXCIpPj0wJiYoZi5nb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aD1lLnN0YXQoXCJnb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aFwiKSkpfSkpLGwpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoKFwiaW5ib3VuZC1ydHBcIj09ZS50eXBlfHxcInNzcmNcIj09ZS50eXBlJiZudWxsIT1lLmJ5dGVzUmVjZWl2ZWQpJiYoXCJhdWRpb1wiPT1lLm1lZGlhVHlwZXx8ZS5pZC5pbmRleE9mKFwiQXVkaW9TdHJlYW1cIik+PTApKXtpZigwIT1tKWYuYXVkaW9CaXRyYXRlPTgqKGUuYnl0ZXNSZWNlaXZlZC1kLmxhc3RQbGF5U3RhdHMuYXVkaW9CeXRlc1JlY2VpdmVkKS8oZS50aW1lc3RhbXAtbSksKHI9ZS5wYWNrZXRzTG9zdC1kLmxhc3RQbGF5U3RhdHMuYXVkaW9QYWNrZXRzTG9zdCk+MCYmKHY9ci8ocitlLnBhY2tldHNSZWNlaXZlZC1kLmxhc3RQbGF5U3RhdHMuYXVkaW9QYWNrZXRzUmVjZWl2ZWQpKTtmLmF1ZGlvQml0cmF0ZTwwJiYoZi5hdWRpb0JpdHJhdGU9MCksZi5hdWRpb0ppdHRlcj1lLmppdHRlcixlLnBhY2tldHNMb3N0PjAmJihmLmF1ZGlvUGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCksZi5hdWRpb0ZyYWN0aW9uTG9zdD1lLmZyYWN0aW9uTG9zdDt2YXIgdD1lLnBhY2tldHNMb3N0LWQubGFzdFBsYXlTdGF0cy5hdWRpb1BhY2tldHNMb3N0O2YuYXVkaW9GUFM9KGUucGFja2V0c1JlY2VpdmVkLWQubGFzdFBsYXlTdGF0cy5hdWRpb1BhY2tldHNSZWNlaXZlZCkvKGUudGltZXN0YW1wLW0pKjFlMyxmLmF1ZGlvUGFja2V0c0xvc3RSYXRlPXQ+MD90LyhlLnBhY2tldHNSZWNlaXZlZC1kLmxhc3RQbGF5U3RhdHMuYXVkaW9QYWNrZXRzUmVjZWl2ZWQrdCk6MCxkLmxhc3RQbGF5U3RhdHMuYXVkaW9CeXRlc1JlY2VpdmVkPWUuYnl0ZXNSZWNlaXZlZCxlLnBhY2tldHNMb3N0PjAmJihkLmxhc3RQbGF5U3RhdHMuYXVkaW9QYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0KSxkLmxhc3RQbGF5U3RhdHMuYXVkaW9QYWNrZXRzUmVjZWl2ZWQ9ZS5wYWNrZXRzUmVjZWl2ZWQsZC5sYXN0UGxheVN0YXRzLmF1ZGlvVGltZT1lLnRpbWVzdGFtcCxkLmxhc3RQbGF5U3RhdHMudGltZT1lLnRpbWVzdGFtcCxkLmxhc3RQbGF5U3RhdHMuYXVkaW9CaXRyYXRlPWYuYXVkaW9CaXRyYXRlLFM9ZS5qaXR0ZXJ9ZWxzZSBpZigoXCJpbmJvdW5kLXJ0cFwiPT1lLnR5cGV8fFwic3NyY1wiPT1lLnR5cGUmJm51bGwhPWUuYnl0ZXNSZWNlaXZlZCkmJihcInZpZGVvXCI9PWUubWVkaWFUeXBlfHxlLmlkLmluZGV4T2YoXCJWaWRlb1N0cmVhbVwiKT49MCkpe3ZhciByO2lmKDAhPW0pZi52aWRlb0JpdHJhdGU9OCooZS5ieXRlc1JlY2VpdmVkLWQubGFzdFBsYXlTdGF0cy52aWRlb0J5dGVzUmVjZWl2ZWQpLyhlLnRpbWVzdGFtcC1tKSxmLnZpZGVvRlBTPTFlMyooZS5mcmFtZXNEZWNvZGVkLWQubGFzdFBsYXlTdGF0cy5mcmFtZXNEZWNvZGVkKS8oZS50aW1lc3RhbXAtbSksKHI9ZS5wYWNrZXRzTG9zdC1kLmxhc3RQbGF5U3RhdHMudmlkZW9QYWNrZXRzTG9zdCk+MCYmKEU9ci8ocitlLnBhY2tldHNSZWNlaXZlZC1kLmxhc3RQbGF5U3RhdHMudmlkZW9QYWNrZXRzUmVjZWl2ZWQpKTtlbHNlXCJudW1iZXJcIj09dHlwZW9mIGUuZnJhbWVzUGVyU2Vjb25kJiYoZi52aWRlb0ZQUz1lLmZyYW1lc1BlclNlY29uZCk7Zi52aWRlb0JpdHJhdGU8MCYmKGYudmlkZW9CaXRyYXRlPTApLGYudmlkZW9GUFM8MCYmKGYudmlkZW9GUFM9MCksZi52aWRlb0ppdHRlcj1lLmppdHRlcixmLm5hY2tDb3VudD1lLm5hY2tDb3VudCxmLnBsaUNvdW50PWUucGxpQ291bnQsZi52aWRlb0ZyYWN0aW9uTG9zdD1lLmZyYWN0aW9uTG9zdCxmLnZpZGVvRnJhbWVzRGVjb2RlZD1lLmZyYW1lc0RlY29kZWQsZS5wYWNrZXRzTG9zdD4wJiYoZi52aWRlb1BhY2tldHNMb3N0PWUucGFja2V0c0xvc3QpLGYudmlkZW9QYWNrZXRzTG9zdFJhdGU9KHQ9ZS5wYWNrZXRzTG9zdC1kLmxhc3RQbGF5U3RhdHMudmlkZW9QYWNrZXRzTG9zdCk+MD90LyhlLnBhY2tldHNSZWNlaXZlZC1kLmxhc3RQbGF5U3RhdHMudmlkZW9QYWNrZXRzUmVjZWl2ZWQrdCk6MCxkLmxhc3RQbGF5U3RhdHMudmlkZW9CeXRlc1JlY2VpdmVkPWUuYnl0ZXNSZWNlaXZlZCxkLmxhc3RQbGF5U3RhdHMuZnJhbWVzRGVjb2RlZD1lLmZyYW1lc0RlY29kZWQsZS5wYWNrZXRzTG9zdD4wJiYoZC5sYXN0UGxheVN0YXRzLnZpZGVvUGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCksZC5sYXN0UGxheVN0YXRzLnZpZGVvUGFja2V0c1JlY2VpdmVkPWUucGFja2V0c1JlY2VpdmVkLGQubGFzdFBsYXlTdGF0cy52aWRlb1RpbWU9ZS50aW1lc3RhbXAsZC5sYXN0UGxheVN0YXRzLnRpbWU9ZS50aW1lc3RhbXAsVD1lLmppdHRlcn1lbHNlIGlmKFwidHJhY2tcIj09ZS50eXBlJiYoXCJ2aWRlb1wiPT1lLmtpbmR8fGUuaWQuaW5kZXhPZihcInZpZGVvXCIpPj0wKXx8ZS5mcmFtZVdpZHRoKXtpZihmLmZyYW1lSGVpZ2h0PWUuZnJhbWVIZWlnaHQsZi5mcmFtZVdpZHRoPWUuZnJhbWVXaWR0aCwwPT09bXx8ZC5sYXN0UGxheVN0YXRzLmZyYW1lSGVpZ2h0PT09ZS5mcmFtZUhlaWdodCYmZC5sYXN0UGxheVN0YXRzLmZyYW1lV2lkdGg9PT1lLmZyYW1lV2lkdGgpMD09PW0mJihkLmxhc3RQbGF5U3RhdHMuZnJhbWVIZWlnaHQ9ZS5mcmFtZUhlaWdodCxkLmxhc3RQbGF5U3RhdHMuZnJhbWVXaWR0aD1lLmZyYW1lV2lkdGgpO2Vsc2V7dmFyIGk9KDAsby5nZXRSZXBvcnRTZXEpKCk7ZC5kYXRhUmVwb3J0Lm5ld1JlcG9ydChpLHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1ZpZGVvUGxheVNpemUuZXZlbnQpLGQuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKGkse3Nlc3Npb25faWQ6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVmlkZW9QbGF5U2l6ZS5zZXNzaW9uX2lkKGQuc2Vzc2lvbklkKSx3OnMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1ZpZGVvUGxheVNpemUudyhlLmZyYW1lV2lkdGgpLGg6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVmlkZW9QbGF5U2l6ZS5oKGUuZnJhbWVIZWlnaHQpfSksIWQucGxheWVyLmlzUHJvYmUmJmQuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoaSksZC5sYXN0UGxheVN0YXRzLmZyYW1lSGVpZ2h0PWUuZnJhbWVIZWlnaHQsZC5sYXN0UGxheVN0YXRzLmZyYW1lV2lkdGg9ZS5mcmFtZVdpZHRofTAhPW0mJihmLnZpZGVvVHJhbnNmZXJGUFM9MWUzKihlLmZyYW1lc1JlY2VpdmVkLWQubGFzdFBsYXlTdGF0cy5mcmFtZXNSZWNlaXZlZCkvKGUudGltZXN0YW1wLW0pLGYudmlkZW9GcmFtZXNEcm9wcGVkPWUuZnJhbWVzRHJvcHBlZC1kLmxhc3RQbGF5U3RhdHMuZnJhbWVzRHJvcHBlZCksZi52aWRlb1RyYW5zZmVyRlBTPDAmJihmLnZpZGVvVHJhbnNmZXJGUFM9MCksZi52aWRlb0ZyYW1lc0Ryb3BwZWQ8MCYmKGYudmlkZW9GcmFtZXNEcm9wcGVkPTApLGQubGFzdFBsYXlTdGF0cy5mcmFtZXNSZWNlaXZlZD1lLmZyYW1lc1JlY2VpdmVkLGQubGFzdFBsYXlTdGF0cy5mcmFtZXNEcm9wcGVkPWUuZnJhbWVzRHJvcHBlZH1lbHNlXCJ0cmFja1wiPT1lLnR5cGUmJihcImF1ZGlvXCI9PWUua2luZHx8ZS5pZC5pbmRleE9mKFwiYXVkaW9cIik+PTApPyhmLmF1ZGlvTGV2ZWw9ZS5hdWRpb0xldmVsfHwwLGYuYXVkaW9TZW5kTGV2ZWw9ZS50b3RhbEF1ZGlvRW5lcmd5LGYuYXVkaW9TYW1wbGluZ1JhdGU9ZS50b3RhbFNhbXBsZXNEdXJhdGlvbik6XCJjYW5kaWRhdGUtcGFpclwiPT1lLnR5cGUmJihudWxsIT1lLnRvdGFsUm91bmRUcmlwVGltZSYmKGYudG90YWxSb3VuZFRyaXBUaW1lPWUudG90YWxSb3VuZFRyaXBUaW1lKSxudWxsIT1lLmN1cnJlbnRSb3VuZFRyaXBUaW1lJiYoZi5jdXJyZW50Um91bmRUcmlwVGltZT1lLmN1cnJlbnRSb3VuZFRyaXBUaW1lLF89MWUzKmYuY3VycmVudFJvdW5kVHJpcFRpbWUpKX0pKSx0aGlzLmxhc3RQbGF5U3RhdHMuZ29vZ0N1cnJlbnREZWxheU1zPU51bWJlcihDKXx8TnVtYmVyKHkpfHwwLEU9aXNOYU4oRSl8fEU8MD8wOkUsVD1pc05hTihUKXx8VDwwPzA6VCx2PWlzTmFOKHYpfHx2PDA/MDp2LFM9aXNOYU4oUyl8fFM8MD8wOlM7dmFyIGo9YS5DbGllbnRVdGlsLmdldE5ldFF1YWxpdHkoXyxFLFQpLFY9YS5DbGllbnRVdGlsLmdldE5ldFF1YWxpdHkoXyx2LFMpO2YuYXVkaW9RdWFsaXR5PW0+MD9hLkNsaWVudFV0aWwucXVhbGl0eTJRdWFsaXR5R3JhZGUoVik6MCxmLnZpZGVvUXVhbGl0eT1tPjA/YS5DbGllbnRVdGlsLnF1YWxpdHkyUXVhbGl0eUdyYWRlKGopOjAsdGhpcy5wbGF5ZXIuc3RhdGVDZW50ZXIubmV0d29ya1N0YXRlIT09by5FTlVNX05FVFdPUktfU1RBVEUub2ZmbGluZSYmXCJkaXNjb25uZWN0ZWRcIiE9PShudWxsPT09KHI9dGhpcy5wbGF5ZXIucGVlckNvbm5lY3Rpb24pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNvbm5lY3Rpb25TdGF0ZSl8fChmLnZpZGVvUXVhbGl0eT1vLlF1YWxpdHlHcmFkZS5EaWUsZi5hdWRpb1F1YWxpdHk9by5RdWFsaXR5R3JhZGUuRGllKTt2YXIgUT1NYXRoLm1pbihqLFYpO3RoaXMubmV0UXVhbGl0eT1RLGYucGVlclRvUGVlckRlbGF5PWlzTmFOKHRoaXMucDJwTmV0U3RhdHMucDJwUlRUKT8wOnBhcnNlSW50KCh0aGlzLnAycE5ldFN0YXRzLnAycFJUVC8yK3RoaXMubGFzdFBsYXlTdGF0cy5nb29nQ3VycmVudERlbGF5TXMpLnRvU3RyaW5nKCkpLGYucGVlclRvUGVlclBhY2tldExvc3RSYXRlPXRoaXMucDJwTmV0U3RhdHMucDJwTG9zdFJhdGUsUTw9by5RVUFMSVRZX0NPTlNUQU5ULk1pZGRsZU1pblF1YWxpdHk/dGhpcy5wb29yUXVhbGl0eU51bSsrOnRoaXMucG9vclF1YWxpdHlOdW09MCxtPjAmJnRoaXMucG9vclF1YWxpdHlOdW0+PShudWxsPT09KHU9bnVsbD09PShpPXRoaXMucGxheWVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zdHJlYW1DZW50ZXIpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnByb2JlU3RhcnRlZE51bSkmJkk+dGhpcy5wcm9iZVRpbWUrdGhpcy5wcm9iZUludGVydmFsJiYodGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfU0VUX1BMQVlFUl9RVUFMSVRZX1RJTUVSK1wiIG5ldFF1YWxpdHkgXCIrUStcIiBzdGFydCBuZXQgcHJvYmVcIiksdGhpcy5wcm9iZVN0YXRlPW8uRU5VTV9QUk9CRV9TVEFURS50cnlQcm9iZSx0aGlzLnBsYXllci5zdHJlYW1DZW50ZXIuc3RhcnROZXRQcm9iZSghMSx0aGlzLnBsYXllcix0aGlzLnBsYXllci5nd05vZGVMaXN0KSx0aGlzLnByb2JlVGltZT1JKSx0aGlzLnVwbG9hZFBsYXlRdWFsaXR5KGYsSSksdGhpcy51cGRhdGVDdXJyZW50UXVhbGl0eVN0YXRzKGYpLDAhPW0mJnRoaXMucGxheWVyLm9uUGxheVF1YWxpdHlVcGRhdGUodGhpcy5zdHJlYW1JZCx0aGlzLmN1cnJlbnRRdWFsaXR5KX19fSxlLnByb3RvdHlwZS51cGRhdGVDdXJyZW50UXVhbGl0eVN0YXRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudmlkZW9CaXRyYXRlLHI9ZS52aWRlb0ZQUyxvPWUudmlkZW9UcmFuc2ZlckZQUyxuPWUuZnJhbWVIZWlnaHQscz1lLmZyYW1lV2lkdGgsYT1lLnZpZGVvTXV0ZVN0YXRlLGM9ZS52aWRlb1F1YWxpdHksdT1lLnZpZGVvRnJhbWVzRGVjb2RlZCxkPWUudmlkZW9GcmFtZXNEcm9wcGVkLGw9ZS52aWRlb1BhY2tldHNMb3N0LGg9ZS52aWRlb1BhY2tldHNMb3N0UmF0ZSxwPWUuYXVkaW9CaXRyYXRlLGc9ZS5hdWRpb0NvZGVjLGY9ZS5hdWRpb011dGVTdGF0ZSxtPWUuYXVkaW9RdWFsaXR5LF89ZS5hdWRpb0ZQUyx2PWUuYXVkaW9KaXR0ZXIsRT1lLmF1ZGlvTGV2ZWwsUz1lLmF1ZGlvUGFja2V0c0xvc3QsVD1lLmF1ZGlvUGFja2V0c0xvc3RSYXRlLEM9ZS5hdWRpb1NhbXBsaW5nUmF0ZSx5PWUuYXVkaW9TZW5kTGV2ZWwsUj1lLm5hY2tDb3VudCxiPWUucGxpQ291bnQsST1lLnRvdGFsUm91bmRUcmlwVGltZSxBPWUuY3VycmVudFJvdW5kVHJpcFRpbWUsaz1lLnBlZXJUb1BlZXJEZWxheSxMPWUucGVlclRvUGVlclBhY2tldExvc3RSYXRlLFA9ZS5zYW1wbGVUaW1lV2luZG93LE89e3ZpZGVvOmkoaSh7fSx0aGlzLmN1cnJlbnRRdWFsaXR5LnZpZGVvKSx7dmlkZW9CaXRyYXRlOnQsdmlkZW9GUFM6cix2aWRlb1RyYW5zZmVyRlBTOm8sZnJhbWVIZWlnaHQ6bixmcmFtZVdpZHRoOnMsdmlkZW9RdWFsaXR5OmMsdmlkZW9GcmFtZXNEZWNvZGVkOnUsdmlkZW9GcmFtZXNEcm9wcGVkOmQsdmlkZW9QYWNrZXRzTG9zdDpsLHZpZGVvUGFja2V0c0xvc3RSYXRlOmgsbXV0ZVN0YXRlOmEsdmlkZW9DdW11bGF0aXZlRGVjb2RlVGltZTp0aGlzLnZpZGVvUmVsaWFibGVCcmVhay5kZWNvZGVEdXJhdGlvbix2aWRlb0N1bXVsYXRpdmVCcmVha1RpbWU6dGhpcy52aWRlb1JlbGlhYmxlQnJlYWsuYnJlYWtEdXJhdGlvbix2aWRlb0N1bXVsYXRpdmVCcmVha1JhdGU6dGhpcy52aWRlb1JlbGlhYmxlQnJlYWsuYnJlYWtEdXJhdGlvbi8odGhpcy52aWRlb1JlbGlhYmxlQnJlYWsuZGVjb2RlRHVyYXRpb24rdGhpcy52aWRlb1JlbGlhYmxlQnJlYWsuYnJlYWtEdXJhdGlvbnx8MSl9KSxhdWRpbzppKGkoe30sdGhpcy5jdXJyZW50UXVhbGl0eS5hdWRpbykse2F1ZGlvQml0cmF0ZTpwLGF1ZGlvQ29kZWM6ZyxhdWRpb1F1YWxpdHk6bSxhdWRpb0ZQUzpfLGF1ZGlvSml0dGVyOnYsYXVkaW9MZXZlbDpFLGF1ZGlvUGFja2V0c0xvc3Q6UyxhdWRpb1BhY2tldHNMb3N0UmF0ZTpULGF1ZGlvU2FtcGxpbmdSYXRlOkMsYXVkaW9TZW5kTGV2ZWw6eSxtdXRlU3RhdGU6ZixhdWRpb0N1bXVsYXRpdmVEZWNvZGVUaW1lOnRoaXMuYXVkaW9SZWxpYWJsZUJyZWFrLmRlY29kZUR1cmF0aW9uLGF1ZGlvQ3VtdWxhdGl2ZUJyZWFrVGltZTp0aGlzLmF1ZGlvUmVsaWFibGVCcmVhay5icmVha0R1cmF0aW9uLGF1ZGlvQ3VtdWxhdGl2ZUJyZWFrUmF0ZTp0aGlzLmF1ZGlvUmVsaWFibGVCcmVhay5icmVha0R1cmF0aW9uLyh0aGlzLmF1ZGlvUmVsaWFibGVCcmVhay5kZWNvZGVEdXJhdGlvbit0aGlzLmF1ZGlvUmVsaWFibGVCcmVhay5icmVha0R1cmF0aW9ufHwxKX0pLG5hY2tDb3VudDpSLHBsaUNvdW50OmIsdG90YWxSb3VuZFRyaXBUaW1lOkksY3VycmVudFJvdW5kVHJpcFRpbWU6QSxwZWVyVG9QZWVyRGVsYXk6ayxwZWVyVG9QZWVyUGFja2V0TG9zdFJhdGU6KEx8fDApLzI1NSxzYW1wbGVUaW1lV2luZG93OlB9O2lmKHZvaWQgMCE9PWUubXV0ZWQpe3ZhciBOPWUucGF1c2VkLE09ZS52b2x1bWUsRD1lLnNpbmtJZDtPLm11dGVkPWUubXV0ZWQsTy5wYXVzZWQ9TixPLnZvbHVtZT1NLE8uc2lua0lkPUR9aWYodm9pZCAwIT09ZS52aWRlb0NvZGVjTmFtZSl7dmFyIHc9ZS5hdWRpb0NvZGVjTmFtZSxVPWUuY29kZWNJbXBsZW1lbnRhdGlvbk5hbWUsQj1lLmdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoO08udmlkZW8uZ29vZ0NvZGVjTmFtZT1lLnZpZGVvQ29kZWNOYW1lLE8uYXVkaW8uZ29vZ0NvZGVjTmFtZT13LE8uY29kZWNJbXBsZW1lbnRhdGlvbk5hbWU9VSxPLmdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoPUJ9dGhpcy5jdXJyZW50UXVhbGl0eT1PfSxlLnByb3RvdHlwZS51cGxvYWRQbGF5UXVhbGl0eT1mdW5jdGlvbihlLHQpe3ZhciByLGk7aWYodGhpcy5xdWFsaXR5VXBsb2FkJiZ0aGlzLnBsYXllci5zaWduYWwuaXNTZXJ2ZXJDb25uZWN0ZWQpe3ZhciBvPXQ7aWYoMD09dGhpcy5xdWFsaXR5VXBsb2FkTGFzdFRpbWV8fG8tdGhpcy5xdWFsaXR5VXBsb2FkTGFzdFRpbWU+PTJlMyl7aWYoZS5zdHJlYW1fdHlwZT1cInBsYXlcIixlLnN0cmVhbV9pZD10aGlzLnN0cmVhbUlkLGUudGltZVN0YW1wPXBhcnNlSW50KChvLzFlMykudG9TdHJpbmcoKSksZS52aWRlb19icmVha19kdXJhdGlvbj10aGlzLnZpZGVvQnJlYWtSZXBvcnQuYnJlYWtEdXJhdGlvbixlLnZpZGVvX2JyZWFrX2NhbmNlbF9kdXJhdGlvbj10aGlzLnZpZGVvQnJlYWtSZXBvcnQuYnJlYWtDYW5jZWxEdXJhdGlvbixlLnZpZGVvX2RlY29kZV90aW1lPXRoaXMudmlkZW9CcmVha1JlcG9ydC5kZWNvZGVUaW1lLHRoaXMudmlkZW9CcmVha1JlcG9ydC5icmVha0NhbmNlbER1cmF0aW9uPTAsdGhpcy52aWRlb0JyZWFrUmVwb3J0LmJyZWFrRHVyYXRpb249MCx0aGlzLnZpZGVvQnJlYWtSZXBvcnQuZGVjb2RlVGltZT0wLGUuYXVkaW9fYnJlYWtfZHVyYXRpb249dGhpcy5hdWRpb0JyZWFrUmVwb3J0LmJyZWFrRHVyYXRpb24sZS5hdWRpb19icmVha19jYW5jZWxfZHVyYXRpb249dGhpcy5hdWRpb0JyZWFrUmVwb3J0LmJyZWFrQ2FuY2VsRHVyYXRpb24sZS5hdWRpb19kZWNvZGVfdGltZT10aGlzLmF1ZGlvQnJlYWtSZXBvcnQuZGVjb2RlVGltZSx0aGlzLmF1ZGlvQnJlYWtSZXBvcnQuYnJlYWtDYW5jZWxEdXJhdGlvbj0wLHRoaXMuYXVkaW9CcmVha1JlcG9ydC5icmVha0R1cmF0aW9uPTAsdGhpcy5hdWRpb0JyZWFrUmVwb3J0LmRlY29kZVRpbWU9MCxlLnJlYWxfc2FtcGxpbmdfaW50ZXJ2YWw9by10aGlzLmxhc3RTYW1wbGVUaW1lLCFlLmZyYW1lSGVpZ2h0fHwhZS5mcmFtZVdpZHRoKWZvcih2YXIgcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidmlkZW9cIiksYT0wO2E8cy5sZW5ndGg7YSsrKXt2YXIgYz1zW2FdLHU9bnVsbD09PShyPWMuc3JjT2JqZWN0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRWaWRlb1RyYWNrcygpWzBdO2lmKHUmJnU9PShudWxsPT09KGk9dGhpcy5wbGF5ZXIucGxheVN0cmVhbSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZ2V0VmlkZW9UcmFja3MoKVswXSkpe2UuZnJhbWVIZWlnaHQ9Yy52aWRlb0hlaWdodHx8MCxlLmZyYW1lV2lkdGg9Yy52aWRlb1dpZHRofHwwO2JyZWFrfX10aGlzLmxhc3RTYW1wbGVUaW1lPW8sdGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfVVBMT0FEX1BMQVlFUl9RVUFMSVRZK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgdXBsb2FkXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHRoaXMucGxheWVyLnN0cmVhbUNlbnRlci51cGRhdGVRdWFsaXR5KDEsZSksdGhpcy5xdWFsaXR5VXBsb2FkTGFzdFRpbWU9b319fSxlLnByb3RvdHlwZS5nZXRQMlBOZXRTdGF0cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIuc2lnbmFsLmdldFAyUE5ldFN0YXRzKCgwLG8uZ2V0U2VxKSgpLHRoaXMuc2Vzc2lvbklkLHRoaXMucGVlcklELChmdW5jdGlvbih0LHIsaSl7dmFyIG89aS5wMnBfcnR0O2UucDJwTmV0U3RhdHMucDJwTG9zdFJhdGU9aS5wMnBfbG9zdF9yYXRlfHwwLGUucDJwTmV0U3RhdHMucDJwUlRUPW98fDB9KSwoZnVuY3Rpb24oZSl7fSkpfSxlLnByb3RvdHlwZS5zZXRQbGF5UXVhbGl0eVRpbWVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztudWxsPT10aGlzLnF1YWxpdHlUaW1lciYmKHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NFVF9QTEFZRVJfUVVBTElUWV9USU1FUitcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHN0YXJ0VGltZXJcIiksdGhpcy5jbGVhclBsYXlRdWFsaXR5VGltZXIoKSx0aGlzLmdldFAyUE5ldFN0YXRzKCksdGhpcy5xdWFsaXR5VGltZXI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5zYW1wbGVUaW1lcysrO3ZhciB0PWUucGxheWVyLnBlZXJDb25uZWN0aW9uO2lmKHQpe3ZhciByPVt0LmdldFN0YXRzKG51bGwpXTtcImNocm9tZVwiPT1lLnBsYXllci5zdGF0ZUNlbnRlci5icm93c2VyJiZyLnB1c2gobmV3IFByb21pc2UoKGZ1bmN0aW9uKGUscil7dC5nZXRTdGF0cygoZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl9KSl9KSkpLFByb21pc2UuYWxsKHIpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuZ2V0UGxheVN0YXRzKHRbMF0sdFsxXSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2UubG9nZ2VyLmVycm9yKG4uWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TRVRfUExBWUVSX1FVQUxJVFlfVElNRVIrXCIgXCIrZS5zdHJlYW1JZCtcIiBnZXRTdGF0cyBlcnJvciBcIit0LnRvU3RyaW5nKCkpfSkpfX0pLDFlMyksdGhpcy5sYXN0UGxheVN0YXRzPXthdWRpb1BhY2tldHNMb3N0OjAsdmlkZW9QYWNrZXRzTG9zdDowLHRpbWU6MCxhdWRpb1RpbWU6MCx2aWRlb1RpbWU6MCxhdWRpb0J5dGVzUmVjZWl2ZWQ6MCx2aWRlb0J5dGVzUmVjZWl2ZWQ6MCx2aWRlb1BhY2tldHNSZWNlaXZlZDowLGF1ZGlvUGFja2V0c1JlY2VpdmVkOjAsZnJhbWVzRGVjb2RlZDowLGZyYW1lc1JlY2VpdmVkOjAsZnJhbWVzRHJvcHBlZDowLGF1ZGlvQml0cmF0ZTowfSl9LGUucHJvdG90eXBlLmNsZWFyUGxheVF1YWxpdHlUaW1lcj1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMucXVhbGl0eVRpbWVyKXtjbGVhckludGVydmFsKHRoaXMucXVhbGl0eVRpbWVyKSx0aGlzLnF1YWxpdHlUaW1lcj1udWxsO3ZhciBlPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMubGFzdFNhbXBsZVRpbWU9MCx0aGlzLnNhbXBsZVRpbWVzPTAsdGhpcy50b3RhbFF1YWxpdHk9e3RvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheTowLHRvdGFsSW50ZXJGcmFtZURlbGF5OjAsZnJhbWVzRGVjb2RlOjAsdG90YWxTYW1wbGVzUmVjZWl2ZWQ6MCxjb25jZWFsZWRTYW1wbGVzOjAsYXVkaW9CeXRlc1JlY2VpdmVkOjB9LCgwLGMuY2FsY3VsYXRlQ3VtdWxhdGl2ZUR1cmF0aW9uKSh0aGlzLnZpZGVvQnJlYWssdGhpcy52aWRlb0JyZWFrUmVwb3J0LHRoaXMudmlkZW9SZWxpYWJsZUJyZWFrLHRoaXMudmlkZW9CcmVha1RocmVzaG9sZCwwPT09dGhpcy5wbGF5ZXIuY2FtZXJhU3RhdHVzJiZ0aGlzLnBsYXllci5wbGF5TWVkaWFTdGF0dXMudmlkZW8sZSksKDAsYy5jYWxjdWxhdGVDdW11bGF0aXZlRHVyYXRpb24pKHRoaXMuYXVkaW9CcmVhayx0aGlzLmF1ZGlvQnJlYWtSZXBvcnQsdGhpcy5hdWRpb1JlbGlhYmxlQnJlYWssdGhpcy5hdWRpb0JyZWFrVGhyZXNob2xkLDA9PT10aGlzLnBsYXllci5taWNTdGF0dXMmJnRoaXMucGxheWVyLnBsYXlNZWRpYVN0YXR1cy5hdWRpbyxlLFwiYXVkaW9cIil9dGhpcy5wb29yUXVhbGl0eU51bT0wLHRoaXMubGFzdFBsYXlTdGF0cz17YXVkaW9QYWNrZXRzTG9zdDowLHZpZGVvUGFja2V0c0xvc3Q6MCx0aW1lOjAsYXVkaW9UaW1lOjAsdmlkZW9UaW1lOjAsYXVkaW9CeXRlc1JlY2VpdmVkOjAsdmlkZW9CeXRlc1JlY2VpdmVkOjAsdmlkZW9QYWNrZXRzUmVjZWl2ZWQ6MCxhdWRpb1BhY2tldHNSZWNlaXZlZDowLGZyYW1lc0RlY29kZWQ6MCxmcmFtZXNEcm9wcGVkOjAsZnJhbWVzUmVjZWl2ZWQ6MCxhdWRpb0JpdHJhdGU6MH19LGUucHJvdG90eXBlLnN0YXJ0UHJvYmVUaW1lb3V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnByb2JlVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLmxvZ2dlci5lcnJvcihuLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfU1RBUlRfUExBWStcIiBwcm9iZSB0aW1lb3V0XCIpLGUucGxheWVyLnBsYXlTdGF0ZVVwZGF0ZUVycm9yKHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdGFydC5lcnJvci5rUHJvYmVUaW1lT3V0RXJyb3IpfSksdGhpcy5wcm9iZVRpbWVvdXRJbnRlcnZhbCl9LGUucHJvdG90eXBlLnN0b3BQcm9iZVRpbWVvdXQ9ZnVuY3Rpb24oKXt0aGlzLnByb2JlVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5wcm9iZVRpbWVyKSx0aGlzLnByb2JlVGltZXI9bnVsbCl9LGV9KCk7dC5QbGF5U3RyZWFtUXVhbGl0eT11fSw5NDA0OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsaT1hcmd1bWVudHMubGVuZ3RoO3I8aTtyKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0saS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG89dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBuZXcocnx8KHI9UHJvbWlzZSkpKChmdW5jdGlvbihvLG4pe2Z1bmN0aW9uIHMoZSl7dHJ5e2MoaS5uZXh0KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKGkudGhyb3coZSkpfWNhdGNoKGUpe24oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9YygoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxuPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLG4scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbj17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbjtmdW5jdGlvbiBhKG4pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsaSYmKG89MiZuWzBdP2kucmV0dXJuOm5bMF0/aS50aHJvd3x8KChvPWkucmV0dXJuKSYmby5jYWxsKGkpLDApOmkubmV4dCkmJiEobz1vLmNhbGwoaSxuWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2goaT0wLG8mJihuPVsyJm5bMF0sby52YWx1ZV0pLG5bMF0pe2Nhc2UgMDpjYXNlIDE6bz1uO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpuWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssaT1uWzFdLG49WzBdO2NvbnRpbnVlO2Nhc2UgNzpuPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1zLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1uWzBdJiYyIT09blswXSkpe3M9MDtjb250aW51ZX1pZigzPT09blswXSYmKCFvfHxuWzFdPm9bMF0mJm5bMV08b1szXSkpe3MubGFiZWw9blsxXTticmVha31pZig2PT09blswXSYmcy5sYWJlbDxvWzFdKXtzLmxhYmVsPW9bMV0sbz1uO2JyZWFrfWlmKG8mJnMubGFiZWw8b1syXSl7cy5sYWJlbD1vWzJdLHMub3BzLnB1c2gobik7YnJlYWt9b1syXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW49dC5jYWxsKGUscyl9Y2F0Y2goZSl7bj1bNixlXSxpPTB9ZmluYWxseXtyPW89MH1pZig1Jm5bMF0pdGhyb3cgblsxXTtyZXR1cm57dmFsdWU6blswXT9uWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sYV0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb1BsYXlXZWI9dm9pZCAwO3ZhciBzPXIoOTg4NyksYT1yKDMxMTEpLGM9cigzNjA4KSx1PXIoODMzNSksZD1yKDYyNjIpLGw9cig5NTMyKSxoPXIoNDg2NCkscD1yKDMzNjQpLGc9cigyODQ0KSxmPXIoNDgyNSksbT11LlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQbGF5U3RhcnQsXz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxvLG4sYSl7dmFyIGM9dGhpczt0aGlzLnN0YXRlPXMuRU5VTV9QTEFZX1NUQVRFLnN0b3AsdGhpcy5jYW5kaWRhdGVJbmZvPVtdLHRoaXMuYnJvYWRjYXN0ZXJTdGF0dXM9cy5FTlVNX0JST0FEQ0FTVEVSX1NUQVRVUy5zdG9wLHRoaXMucGxheVF1YWxpdHlMaXN0PVtdLHRoaXMubWF4UXVhbGl0eUxpc3RDb3VudD0xMCx0aGlzLnJlcG9ydFNlcT1OYU4sdGhpcy5zdHJlYW1SZXBvcnRTZXE9KDAscy5nZXRTZXEpKCksdGhpcy52aWRlb1NpemVDYWxsYmFjaz0hMSx0aGlzLnJlbW90ZVN0cmVhbT1udWxsLHRoaXMucGxheVN0cmVhbT1udWxsLHRoaXMucnRjVmlld2VyPW51bGwsdGhpcy5wbGF5T3B0aW9uPXt9LHRoaXMucGxheU1lZGlhU3RhdHVzPXt2aWRlbzohMCxhdWRpbzohMH0sdGhpcy5jbG9zZVNlc3Npb25TaWduYWw9ITEsdGhpcy5zdGF0ZU5lZ289cy5FTlVNX1BMQVlfU1RBVEVfTkVHTy5zdG9wLHRoaXMubmVnb1RpbWVyPW51bGwsdGhpcy5uZWdvSW50ZXJ2YWw9MjVlMyx0aGlzLmNhbWVyYVN0YXR1cz0wLHRoaXMubWljU3RhdHVzPTAsdGhpcy5oYXNTZW50U3RyZWFtU3RhdHVzPSExLHRoaXMucGxheUV2ZW50PSExLHRoaXMuZ290U3RyZWFtU3RhdHVzPSExLHRoaXMuc291bmRMZXZlbD0wLHRoaXMubWljPW51bGwsdGhpcy5zY3JpcHQ9bnVsbCx0aGlzLmJlZ2luVGltZT0wLHRoaXMuZmlyc3RGcmFtZVRpbWU9MCx0aGlzLnJlc291cmNlTW9kZT0wLHRoaXMuZ3dOb2RlPVwiXCIsdGhpcy5nd05vZGVMaXN0PVtdLHRoaXMuZ3dOb2RlVFRMPTAsdGhpcy5pc1BlZXI9ITEsdGhpcy5wZWVyRmFpbENvdW50PTAsdGhpcy5pc1Byb2JlPSExLHRoaXMucGVlcklEPTAsdGhpcy5pc1JlY3ZDbGllbnRJbmZvPSExLHRoaXMudmlkZW9Db2RlYz1cIlwiLHRoaXMudmlkZW9Db2RlY1RpbWVzPTAsdGhpcy5hbnN3ZXJTZHBUaW1lPTAsdGhpcy5hdWRpb011dGVTdGF0ZT1cIjBcIix0aGlzLnZpZGVvTXV0ZVN0YXRlPVwiMFwiLHRoaXMuZmlyc3RfcGt0PSEwLHRoaXMubmV4dF9zbj1bXSx0aGlzLnBrdF9saXN0PVtdLHRoaXMub25EYXRhQ2hhbm5lbExpc3Q9W10sdGhpcy5zaWRlTWVkaWFDb25maWc9e2lzU0VJU3RhcnQ6ITEsdW5yZWdpc3RlclNlaUZpbHRlcjpcIlwiLGZpbHRlclNpemU6MH0sdGhpcy5pY2VEaXNjb25uZWN0ZWRNYXhUaW1lPTE1ZTMsdGhpcy5fdHVyblRvVGNwPSExLHRoaXMuZGVjb2RlVmlkZW9GcmFtZT1mdW5jdGlvbihlLHQpe2lmKFwiVlA4XCI9PT1jLnZpZGVvQ29kZWMpdC50ZXJtaW5hdGUoKTtlbHNle2Zvcih2YXIgcj1uZXcgRGF0YVZpZXcoZS5kYXRhKSxpPTAsbz1uZXcgaC5IMjY0UGFyc2VyKHIpLG49MCxzPSExO28uTmV4dE5hbHUocyk7KWlmKDchPShuPTMxJnIuZ2V0VWludDgoby5uYWx1X3N0YXJ0K28uc3RhcnRfY29kZV9zaXplKSkmJjghPW4mJjkhPW4pe2lmKGk9by5uYWx1X3N0YXJ0K28uc3RhcnRfY29kZV9zaXplKzEsNiE9bilicmVhaztzPSEwO2Zvcih2YXIgYT0wOzI1NT09PXIuZ2V0VWludDgoaSk7KWErPTI1NSxpKys7aWYoMjQzPT09KGErPXIuZ2V0VWludDgoaSsrKSl8fDU9PT1hfHwxMDA9PT1hKXtmb3IodmFyIHU9MDsyNTU9PT1yLmdldFVpbnQ4KGkpOyl1Kz0yNTUsaSsrO2lmKHUrPXIuZ2V0VWludDgoaSsrKSxlLmRhdGEuYnl0ZUxlbmd0aC1pPHUpYnJlYWs7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoNCt1KTtzd2l0Y2goZFswXT0wLGRbMV09MCxhKXtjYXNlIDEwMDpkWzJdPTMsZFszXT0yMzU7YnJlYWs7Y2FzZSA1OmRbMl09MyxkWzNdPTIzNjticmVhaztjYXNlIDI0MzpkWzJdPTMsZFszXT0yMzd9Zm9yKHZhciBsPVtdLGc9aTtnPGkrdTspMCE9PXIuZ2V0SW50OChnKXx8MCE9PXIuZ2V0SW50OChnKzEpfHwzIT09ci5nZXRJbnQ4KGcrMil8fDAhPT1yLmdldEludDgoZyszKSYmMSE9PXIuZ2V0SW50OChnKzMpJiYyIT09ci5nZXRJbnQ4KGcrMykmJjMhPT1yLmdldEludDgoZyszKT9nKys6KGwucHVzaChnKzIpLGcrPTQpO2Zvcih2YXIgZj0wLG09MDttPHUrbC5sZW5ndGg7bSsrKWwuaW5jbHVkZXMoaSk/KGkrKyxmKyspOmRbNCttLWZdPXIuZ2V0VWludDgoaSsrKTt2YXIgXz0hMTtpZigyNDM9PT1hKV89ITA7ZWxzZSBpZig1PT09YSYmYy5zaWRlTWVkaWFDb25maWcudW5yZWdpc3RlclNlaUZpbHRlcil7dmFyIHY9ZC5zbGljZSg0LDQrYy5zaWRlTWVkaWFDb25maWcuZmlsdGVyU2l6ZSk7cC5XZWJSVENVdGlsLmRlY29kZVN0cmluZyh2KT09PWMuc2lkZU1lZGlhQ29uZmlnLnVucmVnaXN0ZXJTZWlGaWx0ZXImJihfPSEwKX1fJiZjLnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwicGxheWVyUmVjdlNFSVwiLGMuc3RyZWFtSWQsZCl9fXQuZW5xdWV1ZShlKX19LHRoaXMuZGVjb2RlQXVkaW9GcmFtZT1mdW5jdGlvbihlLHQpe3QuZW5xdWV1ZShlKX0sdGhpcy5sb2dnZXI9ZSx0aGlzLnNpZ25hbD10LHRoaXMuZGF0YVJlcG9ydD1yLHRoaXMuc3RyZWFtQ2VudGVyPW8sdGhpcy5hYz1uLHRoaXMuc3RhdGVDZW50ZXI9YSx0aGlzLmRhdGFSZXBvcnQubmV3UmVwb3J0KHRoaXMuc3RyZWFtUmVwb3J0U2VxKSx0aGlzLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyh0aGlzLnN0cmVhbVJlcG9ydFNlcSx7YWJzX3RpbWU6RGF0ZS5ub3coKX0pLHRoaXMucXVhbGl0eUhhbmRsZXI9bmV3IGwuUGxheVN0cmVhbVF1YWxpdHkoaSx0aGlzLHRoaXMubG9nZ2VyLHRoaXMuZGF0YVJlcG9ydCksdGhpcy5yZXNvdXJjZU1vZGU9dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJyZXNvdXJjZV9tb2RlXCIpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwcm9iZVN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1YWxpdHlIYW5kbGVyLnByb2JlU3RhdGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLnF1YWxpdHlIYW5kbGVyLnByb2JlU3RhdGU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJuZXRRdWFsaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1YWxpdHlIYW5kbGVyLm5ldFF1YWxpdHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLnF1YWxpdHlIYW5kbGVyLm5ldFF1YWxpdHk9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zdGFydFBsYXk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG8sbixzLGE9dGhpcztpZih0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TVEFSVF9QTEFZK1wiIGNhbGxlZCBcIixlKSx0aGlzLnBsYXlFdmVudD0hMSx0aGlzLnNpZ25hbCYmdGhpcy5zaWduYWwubmVnb0ludGVydmFsJiYodGhpcy5uZWdvSW50ZXJ2YWw9dGhpcy5zaWduYWwubmVnb0ludGVydmFsKSxlKXtpZih0aGlzLnN0cmVhbUlkPWUsdGhpcy5nZXRSZW1vdGVTdHJlYW1TdWM9dCx0aGlzLnBsYXlPcHRpb249cnx8e30sdGhpcy5wbGF5TWVkaWFTdGF0dXM9e3ZpZGVvOnZvaWQgMD09PXRoaXMucGxheU9wdGlvbi52aWRlb3x8ISF0aGlzLnBsYXlPcHRpb24udmlkZW8sYXVkaW86dm9pZCAwPT09dGhpcy5wbGF5T3B0aW9uLmF1ZGlvfHwhIXRoaXMucGxheU9wdGlvbi5hdWRpb30sciYmci52aWRlb0NvZGVjJiYodGhpcy5wbGF5T3B0aW9uLnZpZGVvQ29kZWM9ci52aWRlb0NvZGVjKSxcImJvb2xlYW5cIj09dHlwZW9mKG51bGw9PXI/dm9pZCAwOnIuaXNTRUlTdGFydCkmJih0aGlzLnNpZGVNZWRpYUNvbmZpZy5pc1NFSVN0YXJ0PW51bGw9PXI/dm9pZCAwOnIuaXNTRUlTdGFydCksdGhpcy5zaWRlTWVkaWFDb25maWcuaXNTRUlTdGFydCl7dmFyIHU9Yy5DbGllbnRVdGlsLmlzU3VwcG9ydEVuY29kZWRUcmFuc2Zvcm1zKCk7KChudWxsPT09KGk9dGhpcy5wbGF5T3B0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS52aWRlb0NvZGVjKSYmXCJIMjY0XCIhPT0obnVsbD09PShvPXRoaXMucGxheU9wdGlvbil8fHZvaWQgMD09PW8/dm9pZCAwOm8udmlkZW9Db2RlYyl8fCF1KSYmKHRoaXMuc2lkZU1lZGlhQ29uZmlnLmlzU0VJU3RhcnQ9ITEpfShudWxsPT09KG49dGhpcy5zdGF0ZUNlbnRlci5zZWlDb25maWcpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnVucmVnaXN0ZXJTRUlGaWx0ZXIpJiYodGhpcy5zaWRlTWVkaWFDb25maWcudW5yZWdpc3RlclNlaUZpbHRlcj1udWxsPT09KHM9dGhpcy5zdGF0ZUNlbnRlci5zZWlDb25maWcpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnVucmVnaXN0ZXJTRUlGaWx0ZXIsdGhpcy5zaWRlTWVkaWFDb25maWcuZmlsdGVyU2l6ZT1wLldlYlJUQ1V0aWwuZW5jb2RlU3RyaW5nKHRoaXMuc2lkZU1lZGlhQ29uZmlnLnVucmVnaXN0ZXJTZWlGaWx0ZXIpLmJ5dGVMZW5ndGgpLG51bGw9PShudWxsPT1yP3ZvaWQgMDpyLnN0cmVhbVR5cGUpJiZ2b2lkIDAhPT10aGlzLnN0YXRlQ2VudGVyLnN0cmVhbVR5cGUmJih0aGlzLnBsYXlPcHRpb24uc3RyZWFtVHlwZT10aGlzLnN0YXRlQ2VudGVyLnN0cmVhbVR5cGUpO3ZhciBsPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwicGxheV92aWRlb19jb2RlY1wiLCEwKTtsJiYodGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfU1RBUlRfUExBWStcIiBzZXR0aW5nIHBsYXlfdmlkZW9fY29kZWMgXCIrbCksdGhpcy5wbGF5T3B0aW9uLnZpZGVvQ29kZWM9bCksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8odGhpcy5yZXBvcnRTZXEse2F1ZGlvX2FjdGl2YXRlOm0uYXVkaW9fYWN0aXZhdGUoMT09dGhpcy5wbGF5T3B0aW9uLmF1ZGlvPzE6MD09dGhpcy5wbGF5T3B0aW9uLmF1ZGlvPzA6MSksdmlkZW9fYWN0aXZhdGU6bS52aWRlb19hY3RpdmF0ZSgxPT10aGlzLnBsYXlPcHRpb24udmlkZW8/MTowPT10aGlzLnBsYXlPcHRpb24udmlkZW8/MDoxKX0pLHRoaXMuaXNQZWVyP3RoaXMuY3JlYXRlT2ZmZXIoe2VuY29kZWRJbnNlcnRhYmxlU3RyZWFtczp0aGlzLnNpZGVNZWRpYUNvbmZpZy5pc1NFSVN0YXJ0fSk6dGhpcy5jcmVhdGVTZXNzaW9uKCksdGhpcy5uZWdvVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXthLmxvZ2dlci5lcnJvcihkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfU1RBUlRfUExBWStcIiB3YWl0aW5nIHRpbWVvdXRcIiksYS5wbGF5U3RhdGVVcGRhdGVFcnJvcihtLmVycm9yLmtQbGF5TmVnb1RpbWVvdXRFcnJvcil9KSx0aGlzLm5lZ29JbnRlcnZhbCksdGhpcy5pc1Byb2JlJiZ0aGlzLnF1YWxpdHlIYW5kbGVyLnN0YXJ0UHJvYmVUaW1lb3V0KCl9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TVEFSVF9QTEFZK1wiIHN0cmVhbUlkIGlzIG51bGxcIil9LGUucHJvdG90eXBlLm9uQ3JlYXRlUGxheVNlc3Npb25TdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1kLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fQ1JFQVRFX1BMQVlfU0VTU0lPTl9TVUNDRVNTO3RoaXMubG9nZ2VyLmluZm8ocitcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHN1Y2Nlc3NcIik7dmFyIGk9W107aWYoZS50dXJuX3NlcnZlcil7dmFyIG89ZS50dXJuX3NlcnZlcjt0aGlzLl90dXJuVG9UY3A9dGhpcy5zdGF0ZUNlbnRlci50dXJuT3ZlclRjcE9ubHksdGhpcy5zdHJlYW1DZW50ZXIuYXV0b1N3aXRjaFByb3RvY29sPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiYXV0b190b190Y3BcIil8fCExO3ZhciBuPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwidWRwX21heF9mYWlsX251bVwiKTshaXNOYU4obikmJih0aGlzLnN0cmVhbUNlbnRlci5tYXhVZHBGYWlsTnVtPW4pO3ZhciBzPXRoaXMuc3RyZWFtQ2VudGVyLGE9cy5hdXRvU3dpdGNoUHJvdG9jb2wsYz1zLm1heFVkcEZhaWxOdW0sdT1zLnVkcEZhaWxOdW07dGhpcy5sb2dnZXIuaW5mbyhyK1wiICBhdXRvVG9UY3A6IFwiLmNvbmNhdChhLFwiLCB1ZHBGYWlsTnVtOiBcIikuY29uY2F0KHUsXCIsIG1heFVkcEZhaWxOdW06IFwiKS5jb25jYXQoYyxcIi5cIikpLGEmJiF0aGlzLl90dXJuVG9UY3AmJnU+PWMmJih0aGlzLmxvZ2dlci5pbmZvKHIrXCIgc3dpdGNoIHRvIHRjcC5cIiksdGhpcy5fdHVyblRvVGNwPSEwKTt2YXIgbD10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInVkcF9vcl90Y3BcIiwhMCk7bCYmKHRoaXMubG9nZ2VyLmluZm8ocitcIiBzZXR0aW5nIHVkcF9vcl90Y3AgXCIrbCksdGhpcy5fdHVyblRvVGNwPVwidGNwXCI9PT1sKSx0aGlzLl90dXJuVG9UY3AmJihvPW8ucmVwbGFjZShcInVkcFwiLFwidGNwXCIpKSx0aGlzLmxvZ2dlci5pbmZvKHIrXCIgdHVybiBvdmVyIHRjcCBcIitvKSxpLnB1c2gobyl9ZS5zdHVuX3NlcnZlciYmaS5wdXNoKGUuc3R1bl9zZXJ2ZXIpO3ZhciBoPXtpY2VUcmFuc3BvcnRQb2xpY3k6XCJyZWxheVwiLGljZVNlcnZlcnM6W3t1cmxzOmksdXNlcm5hbWU6ZS50dXJuX3VzZXJuYW1lLGNyZWRlbnRpYWw6ZS50dXJuX2F1dGhfa2V5fV0sZW5jb2RlZEluc2VydGFibGVTdHJlYW1zOnRoaXMuc2lkZU1lZGlhQ29uZmlnLmlzU0VJU3RhcnR9O3RoaXMubG9nZ2VyLmluZm8ocitcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHVzZXJuYW1lOiBcIitlLnR1cm5fdXNlcm5hbWUpLHRoaXMubG9nZ2VyLmluZm8ocitcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNyZWRlbnRpYWw6IFwiK2UudHVybl9hdXRoX2tleSksdGhpcy5jcmVhdGVPZmZlcihoKTt2YXIgcD1wZXJmb3JtYW5jZS5ub3coKTt0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIk1lZGlhRGVzY1B1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSxyLGkpe3Qub25SZWN2TWVkaWFEZXNjKGUscixpKX0pKSx0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIkNhbmRpZGF0ZUluZm9QdXNoXCIsdGhpcy5zZXNzaW9uSWQsKGZ1bmN0aW9uKGUscixpKXt0Lm9uUmVjdkNhbmRpZGF0ZUluZm8oZSxyLGkpfSkpLHRoaXMuc2lnbmFsLnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiQ2xvc2VTZXNzaW9uUHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLGksbyl7aWYocCl7dmFyIG49KHBlcmZvcm1hbmNlLm5vdygpLXApLnRvRml4ZWQoMCk7cD12b2lkIDAsdC5sb2dnZXIuaW5mbyhyK1wiIFwiLmNvbmNhdCh0LnN0cmVhbUlkLFwiLCBjbWQ6IENsb3NlU2Vzc2lvblB1c2gsIGNvc3RfdGltZTogXCIpLmNvbmNhdChuKSl9dC5vblJlY3ZDbG9zZVNlc3Npb24oZSxpLG8pfSkpLHRoaXMuc2lnbmFsLnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiU2Vzc2lvblJlc2V0UHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLHIsaSl7dC5vblJlY3ZSZXNldFNlc3Npb24oZSxyLGkpfSkpLHRoaXMuc2lnbmFsLnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiU3RyZWFtU3RhdHVzTm90aWZ5UHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLHIsaSl7dC5nb3RTdHJlYW1TdGF0dXM9ITAsdC5zdHJlYW1TdGF0dXM9aSx0LnBsYXlTdHJlYW0mJnQub25SZWN2U3RyZWFtU3RhdHVzKGkpfSkpLHRoaXMuc2lnbmFsLnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiUGxheUV2ZW50UHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLGksbyl7aWYocCl7dmFyIG49KHBlcmZvcm1hbmNlLm5vdygpLXApLnRvRml4ZWQoMCk7dC5sb2dnZXIuaW5mbyhyK1wiIFwiLmNvbmNhdCh0LnN0cmVhbUlkLFwiLCBjbWQ6IFBsYXlFdmVudFB1c2gsIGNvc3RfdGltZTogXCIpLmNvbmNhdChuKSl9dC5vblJlY3ZQbGF5RXZlbnQoZSxpLG8pfSkpLHRoaXMuc2lnbmFsLnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiQ2xpZW50SW5mb1B1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSxyLGkpe3Qub25SZWN2Q2xpZW50SW5mbyhlLHIsaSl9KSksdGhpcy5sb2dnZXIuaW5mbyhyK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbCBzdWNjZXNzXCIpfSxlLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX0NSRUFURV9QTEFZX1NFU1NJT05fU1VDQ0VTUzt0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihlKSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGUpe3Qub25JY2VDYW5kaWRhdGUoZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXt0Lm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUpe3Qub25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub250cmFjaz1mdW5jdGlvbihlKXt0Lm9uR290UmVtb3RlU3RyZWFtKGUuc3RyZWFtc1swXSxlLnJlY2VpdmVyKX0sdGhpcy5zdHJlYW1DZW50ZXIuaXNEYXRhQ2hhbm5lbEVuYWJsZWQmJih0aGlzLmRhdGFDaGFubmVsPXRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwodGhpcy5zdHJlYW1JZCksdGhpcy5kYXRhQ2hhbm5lbC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLmRhdGFDaGFubmVsLm9ub3Blbj1mdW5jdGlvbihlKXt0LmxvZ2dlci5pbmZvKHIrXCIgXCIrdC5zdHJlYW1JZCtcIiBkYXRhIGNoYW5uZWwgb3BlblwiKX0sdGhpcy5kYXRhQ2hhbm5lbC5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7aWYodC5sb2dnZXIuaW5mbyhyK1wiIFwiK3Quc3RyZWFtSWQrXCIgZGF0YSBjaGFubmVsIG9ubWVzc2FnZVwiKSxlLmRhdGEgaW5zdGFuY2VvZiBCbG9iKXt2YXIgaT1uZXcgRmlsZVJlYWRlcixvPXt9O2kucmVhZEFzQXJyYXlCdWZmZXIoZS5kYXRhKSxpLm9ubG9hZD1mdW5jdGlvbigpe28uZGF0YT1pLnJlc3VsdCx0Lm9uUmVjZWl2ZWREYXRhQ2hhbm5lbChvKX19ZWxzZSB0Lm9uUmVjZWl2ZWREYXRhQ2hhbm5lbChlKX0pO3ZhciBpPXtvZmZlclRvUmVjZWl2ZUF1ZGlvOjEsb2ZmZXJUb1JlY2VpdmVWaWRlbzoxfTt0aGlzLnBsYXlPcHRpb24mJiExPT09dGhpcy5wbGF5T3B0aW9uLnZpZGVvJiYoaS5vZmZlclRvUmVjZWl2ZVZpZGVvPTApLHRoaXMucGxheU9wdGlvbiYmITE9PT10aGlzLnBsYXlPcHRpb24uYXVkaW8mJihpLm9mZmVyVG9SZWNlaXZlQXVkaW89MCksdGhpcy5sb2dnZXIuaW5mbyhyK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY3JlYXRlT2ZmZXI6IFwiK0pTT04uc3RyaW5naWZ5KGkpKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIkNyZWF0ZU9mZmVyXCIpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMuc3RyZWFtUmVwb3J0U2VxLFwiQ3JlYXRlT2ZmZXJcIiksdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcihpKS50aGVuKChmdW5jdGlvbihlKXt0LmRhdGFSZXBvcnQuZXZlbnRFbmQodC5yZXBvcnRTZXEsXCJDcmVhdGVPZmZlclwiKSx0LmRhdGFSZXBvcnQuZXZlbnRFbmQodC5zdHJlYW1SZXBvcnRTZXEsXCJDcmVhdGVPZmZlclwiKSx0Lm9uQ3JlYXRlT2ZmZXJTdWNjZXNzKGUpfSksKGZ1bmN0aW9uKGUpe3QuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codC5yZXBvcnRTZXEsXCJDcmVhdGVPZmZlclwiLHtlcnJvcjplLnRvU3RyaW5nKCl9KSx0LmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHQuc3RyZWFtUmVwb3J0U2VxLFwiQ3JlYXRlT2ZmZXJcIix7ZXJyb3I6ZS50b1N0cmluZygpfSksdC5sb2dnZXIuZXJyb3IocitcIiBcIit0LnN0cmVhbUlkK1wiIGNyZWF0ZSBvZmZlciBlcnJvciBcIitlLnRvU3RyaW5nKCkpLHQucGxheVN0YXRlVXBkYXRlRXJyb3IobS5lcnJvci5rQ3JlYXRlT2ZmZXJFcnJvciwhMCl9KSl9LGUucHJvdG90eXBlLmNyZWF0ZVNlc3Npb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnNlc3Npb25TZXE9KDAscy5nZXRTZXEpKCk7dmFyIHI9dGhpcy5zdHJlYW1JZDsxPT10aGlzLnN0cmVhbUNlbnRlci50ZXN0RW52aXJvbm1lbnQmJihyPVwiemVnb3Rlc3QtXCIrdGhpcy5zdHJlYW1DZW50ZXIuYXBwaWQrXCItXCIrdGhpcy5zdHJlYW1JZCksdGhpcy5zdHJlYW1DZW50ZXIuZ3dOb2RlJiYodGhpcy5nd05vZGU9dGhpcy5zdHJlYW1DZW50ZXIuZ3dOb2RlKTt2YXIgaT10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcImd3X25vZGVzXCIpO2kmJmkgaW5zdGFuY2VvZiBBcnJheSYmaS5sZW5ndGg+MCYmKHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NUQVJUX1BMQVkrXCIgc2V0dGluZyBcIitKU09OLnN0cmluZ2lmeShpKSksdGhpcy5nd05vZGVMaXN0PWksdGhpcy5nd05vZGU9dGhpcy5nd05vZGVMaXN0WzBdfHx0aGlzLmd3Tm9kZSk7dmFyIG89dGhpcy5zdGF0ZUNlbnRlci50dXJuT3ZlclRjcE9ubHksbj10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInVkcF9vcl90Y3BcIiwhMCk7aWYobiYmKHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfTUVESUFfREVTQytcIiBzZXR0aW5nIHVkcF9vcl90Y3AgXCIrbiksbz1cInRjcFwiPT09biksbyYmKHRoaXMuaXNQZWVyPSExKSx0aGlzLmlzUGVlcil7dGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5yZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uV2l0aFNkcFwiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25XaXRoU2RwXCIpO3ZhciBhPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwibDNfcGxheV9idWZmZXJfbXNcIiksYz0obmV3IERhdGUpLmdldFRpbWUoKSx1PVwiXCI7XCJudW1iZXJcIj09dHlwZW9mIHRoaXMucGxheU9wdGlvbi5zdHJlYW1UeXBlJiYodSs9XCJcIj09dT9cInZpZGVvX3N0cmVhbV90eXBlPVwiK3RoaXMucGxheU9wdGlvbi5zdHJlYW1UeXBlOlwiJiZ2aWRlb19zdHJlYW1fdHlwZT1cIit0aGlzLnBsYXlPcHRpb24uc3RyZWFtVHlwZSksdGhpcy5zaWduYWwuY3JlYXRlU2Vzc2lvbldpdGhTZHAoe3NlcTp0aGlzLnNlc3Npb25TZXEsdHlwZTp0aGlzLmlzUHJvYmU/MjoxLG1vZGU6MCxzdHJlYW1JZDpyLHN0ckF1dGhQYXJhbTp0aGlzLnBsYXlPcHRpb24mJnRoaXMucGxheU9wdGlvbi5zdHJlYW1QYXJhbXN8fFwiXCIsc2RwOmUuc2RwLHNlcnZlckhvc3Q6dGhpcy5nd05vZGUscGxheUJ1ZkxldmVsOjI9PXRoaXMucmVzb3VyY2VNb2RlP2E6dm9pZCAwLHBhcmFtczp1fSwoZnVuY3Rpb24oZSxyLGkpe3ZhciBvPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3QubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NUQVJUX1BMQVkrXCIgY3JlYXRlIHNlc3Npb24gdGltZSBcIisoby1jKSksdC5oYW5kbGVDcmVhdGVTZXNzaW9uV2l0aFNkcFJlc3AoZSxyLGkpfSksKGZ1bmN0aW9uKGUscil7dC5zZXNzaW9uU2VxPT1yPyh0LmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHQucmVwb3J0U2VxLFwiQ3JlYXRlU2Vzc2lvblwiLHtlcnJvcjplfSksdC5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyh0LnN0cmVhbVJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25cIix7ZXJyb3I6ZX0pLHQucGxheVN0YXRlVXBkYXRlRXJyb3IoZT09cy5TRU5EX01TR19USU1FT1VUP20uZXJyb3Iua1Nlc3Npb25UaW1lb3V0RXJyb3I6bS5lcnJvci5rU2Vzc2lvblJlcXVlc3RFcnJvcikpOnQubG9nZ2VyLndhcm4oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NUQVJUX1BMQVkrXCIgc2VxIGlzIG5vdCBtYXRjaC5cIil9KSl9ZWxzZSB0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25cIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uXCIpLHRoaXMuc2lnbmFsLmNyZWF0ZVNlc3Npb24odGhpcy5zZXNzaW9uU2VxLDEsMCxyLHRoaXMucGxheU9wdGlvbiYmdGhpcy5wbGF5T3B0aW9uLnN0cmVhbVBhcmFtcyx0aGlzLmd3Tm9kZSwoZnVuY3Rpb24oZSxyLGkpe3QuaGFuZGxlQ3JlYXRlU2Vzc2lvblJlc3AoZSxyLGkpfSksKGZ1bmN0aW9uKGUscil7dC5zZXNzaW9uU2VxPT1yPyh0LmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHQucmVwb3J0U2VxLFwiQ3JlYXRlU2Vzc2lvblwiLHtlcnJvcjplfSksdC5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyh0LnN0cmVhbVJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25cIix7ZXJyb3I6ZX0pLHQucGxheVN0YXRlVXBkYXRlRXJyb3IoZT09cy5TRU5EX01TR19USU1FT1VUP20uZXJyb3Iua1Nlc3Npb25UaW1lb3V0RXJyb3I6bS5lcnJvci5rU2Vzc2lvblJlcXVlc3RFcnJvcikpOnQubG9nZ2VyLndhcm4oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NUQVJUX1BMQVkrXCIgc2VxIGlzIG5vdCBtYXRjaC5cIil9KSk7dGhpcy5zdGF0ZT1zLkVOVU1fUExBWV9TVEFURS53YWl0aW5nU2Vzc2lvblJzcCx0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TVEFSVF9QTEFZK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbGVkIHN1Y2Nlc3NcIiksdGhpcy5zdGF0ZU5lZ289cy5FTlVNX1BMQVlfU1RBVEVfTkVHTy5zdGFydH0sZS5wcm90b3R5cGUuaGFuZGxlQ3JlYXRlU2Vzc2lvblJlc3A9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIudHVybl9zZXJ2ZXIsbz1pLnNwbGl0KFwiP1wiKVswXSYmaS5zcGxpdChcIj9cIilbMF0uc2xpY2UoNSksbj10aGlzLnN0cmVhbUNlbnRlci5zZXJ2ZXIuc3BsaXQoXCI/XCIpLHM9blsxXSYmblsxXS5zbGljZSgyKSxhPVwid2VicnRjOi8vXCIuY29uY2F0KG8sXCIvXCIpLmNvbmNhdChzLFwiL1wiKS5jb25jYXQodGhpcy5zdHJlYW1JZCk7dGhpcy5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25cIix7c2Vzc2lvbklkOnIuc2Vzc2lvbl9pZCx1cmw6YX0pLHRoaXMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codGhpcy5yZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uXCIse3Nlc3Npb25JZDpyLnNlc3Npb25faWQsdXJsOmF9KSx0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TVEFSVF9QTEFZK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgc2Vzc2lvbklkOlwiK3Iuc2Vzc2lvbl9pZCksdGhpcy5zZXNzaW9uU2VxPT1lPyh0aGlzLmd3Tm9kZUxpc3Q9ci5nd19ub2RlcyYmci5nd19ub2Rlcy5sZW5ndGg+MD9yLmd3X25vZGVzOnRoaXMuZ3dOb2RlTGlzdCx0aGlzLmd3Tm9kZT1yLmd3X25vZGVzJiZyLmd3X25vZGVzLmxlbmd0aD4wP3RoaXMuZ3dOb2RlTGlzdFswXTp0aGlzLmd3Tm9kZSx0aGlzLmd3Tm9kZVRUTD1yLmd3X25vZGVzX3R0bD8obmV3IERhdGUpLmdldFRpbWUoKSsxZTMqci5nd19ub2Rlc190dGw6dGhpcy5nd05vZGVUVEwsdGhpcy5zdGF0ZUNlbnRlci5jbGllbnRJUD1yLmNsaWVudGlwP3IuY2xpZW50aXA6dGhpcy5zdGF0ZUNlbnRlci5jbGllbnRJUCwwIT09ci5yZXN1bHQ/KHRoaXMubG9nZ2VyLmVycm9yKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TVEFSVF9QTEFZK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY3JlYXRlIGVycm9yXCIpLHRoaXMucGxheVN0YXRlVXBkYXRlRXJyb3IobS5lcnJvci5rU2Vzc2lvblJlcXVlc3RFcnJvcikpOih0aGlzLnNlc3Npb25JZD1yLnNlc3Npb25faWQsdGhpcy5zZXNzaW9uVG9rZW49ci5zZXNzaW9uX3Rva2VuLHRoaXMuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHRoaXMucmVwb3J0U2VxLHtzZXNzaW9uX2lkOm0uc2Vzc2lvbl9pZCh0aGlzLnNlc3Npb25JZCl9KSx0aGlzLm9uQ3JlYXRlUGxheVNlc3Npb25TdWNjZXNzKHIpKSk6dGhpcy5sb2dnZXIuZXJyb3IoZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NUQVJUX1BMQVkrXCIgc2VxIGlzIG5vdCBtYXRjaC5cIil9LGUucHJvdG90eXBlLmhhbmRsZUNyZWF0ZVNlc3Npb25XaXRoU2RwUmVzcD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcztpZih0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9IQU5ETEVfQ1JFQVRFX1NFU1NJT05fV0lUSF9TRFArXCIgc2Vzc2lvbklkOlwiK3QpLHRoaXMuc2Vzc2lvblNlcT09ZSl7dGhpcy5nd05vZGVMaXN0PXIuZ3dfbm9kZXMmJnIuZ3dfbm9kZXMubGVuZ3RoPjA/ci5nd19ub2Rlczp0aGlzLmd3Tm9kZUxpc3QsdGhpcy5nd05vZGU9ci5nd19ub2RlcyYmci5nd19ub2Rlcy5sZW5ndGg+MD90aGlzLmd3Tm9kZUxpc3RbMF06dGhpcy5nd05vZGUsdGhpcy5nd05vZGVUVEw9ci5nd19ub2Rlc190dGw/KG5ldyBEYXRlKS5nZXRUaW1lKCkrMWUzKnIuZ3dfbm9kZXNfdHRsOnRoaXMuZ3dOb2RlVFRMLHRoaXMuc3RhdGVDZW50ZXIuY2xpZW50SVA9ci5jbGllbnRpcD9yLmNsaWVudGlwOnRoaXMuc3RhdGVDZW50ZXIuY2xpZW50SVAsdGhpcy5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25XaXRoU2RwXCIse3Nlc3Npb25JZDp0fSk7dmFyIG89MCxuPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKHRoaXMuZGF0YVJlcG9ydC5kYXRhU3RhdGlzdGljc1t0aGlzLnJlcG9ydFNlcV0mJnRoaXMubG9nZ2VyLndhcm4oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX0hBTkRMRV9DUkVBVEVfU0VTU0lPTl9XSVRIX1NEUCtcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNyZWF0ZSBzZHAgdGltZSBcIisobz1uLXRoaXMuZGF0YVJlcG9ydC5kYXRhU3RhdGlzdGljc1t0aGlzLnJlcG9ydFNlcV0uZXZlbnRfdGltZSkpLHRoaXMuYW5zd2VyU2RwVGltZT1uLHRoaXMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codGhpcy5yZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uV2l0aFNkcFwiLHtzZXNzaW9uSWQ6dCxzZXNzaW9uVGltZTpvfSksMCE9PXIucmVzdWx0KXtpZih0aGlzLmxvZ2dlci5lcnJvcihkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfSEFORExFX0NSRUFURV9TRVNTSU9OX1dJVEhfU0RQK1wiIGNyZWF0ZSBzZXNzaW9uIGZhaWxlZCBcIityLnJlc3VsdCksdGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudCYmMTAwND09PShudWxsPT1yP3ZvaWQgMDpyLnJlc3VsdCkpcmV0dXJuIHZvaWQgdGhpcy5wbGF5U3RhdGVVcGRhdGVFcnJvcihtLmVycm9yLmtQbGF5U3RyZWFtTm90Rm91bmQsITApO3RoaXMucGxheVN0YXRlVXBkYXRlRXJyb3IobS5lcnJvci5rU2Vzc2lvblJlcXVlc3RFcnJvcil9ZWxzZXt0aGlzLnNlc3Npb25JZD10LHRoaXMuc2Vzc2lvblRva2VuPXIuc2Vzc2lvbl90b2tlbix0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9IQU5ETEVfQ1JFQVRFX1NFU1NJT05fV0lUSF9TRFArXCIgY3JlYXRlIHNlc3Npb24gc3VjY2VzcyBcIix0aGlzLnN0cmVhbUlkKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIkljZUNvbm5lY3RlZFwiKTt2YXIgcz1wZXJmb3JtYW5jZS5ub3coKTt0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIkNsb3NlU2Vzc2lvblB1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSx0LHIpe2lmKHMpe3ZhciBvPShwZXJmb3JtYW5jZS5ub3coKS1zKS50b0ZpeGVkKDApO3M9dm9pZCAwLGkubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgXCIuY29uY2F0KGkuc3RyZWFtSWQsXCIsIGNtZDogQ2xvc2VTZXNzaW9uUHVzaCwgY29zdF90aW1lOiBcIikuY29uY2F0KG8pKX1pLm9uUmVjdkNsb3NlU2Vzc2lvbihlLHQscil9KSksdGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJTZXNzaW9uUmVzZXRQdXNoXCIsdGhpcy5zZXNzaW9uSWQsKGZ1bmN0aW9uKGUsdCxyKXtpLm9uUmVjdlJlc2V0U2Vzc2lvbihlLHQscil9KSksdGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJTdHJlYW1TdGF0dXNOb3RpZnlQdXNoXCIsdGhpcy5zZXNzaW9uSWQsKGZ1bmN0aW9uKGUsdCxyKXtpLmdvdFN0cmVhbVN0YXR1cz0hMCxpLnN0cmVhbVN0YXR1cz1yLGkucGxheVN0cmVhbSYmaS5vblJlY3ZTdHJlYW1TdGF0dXMocil9KSksdGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJQbGF5RXZlbnRQdXNoXCIsdGhpcy5zZXNzaW9uSWQsKGZ1bmN0aW9uKGUsdCxyKXtpZihzKXt2YXIgbz0ocGVyZm9ybWFuY2Uubm93KCktcykudG9GaXhlZCgwKTtzPXZvaWQgMCxpLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIFwiLmNvbmNhdChpLnN0cmVhbUlkLFwiLCBjbWQ6IFBsYXlFdmVudFB1c2gsIGNvc3RfdGltZTogXCIpLmNvbmNhdChvKSl9aS5vblJlY3ZQbGF5RXZlbnQoZSx0LHIpfSkpLHRoaXMuc2lnbmFsLnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiQ2xpZW50SW5mb1B1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSx0LHIpe2kub25SZWN2Q2xpZW50SW5mbyhlLHQscil9KSksdGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJOZXRRdWFsaXR5UHJvYmVSc3BcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSx0LHIpe2kub25SZWN2UGxheUV2ZW50KGUsdCxyKX0pKSx0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIk5ldFF1YWxpdHlJbmZvUHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLHQscil7aS5vblJlY3ZOZXRRdWFsaXR5SW5mbyhlLHQscil9KSksdGhpcy5vbkdldFJlbW90ZU9mZmVyU3VjY2VzcyhyLnNkcCl9fWVsc2UgdGhpcy5sb2dnZXIuZXJyb3IoZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX0hBTkRMRV9DUkVBVEVfU0VTU0lPTl9XSVRIX1NEUCtcIiBzZXEgaXMgbm90IG1hdGNoLlwiKX0sZS5wcm90b3R5cGUub25DcmVhdGVPZmZlclN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9DUkVBVEVfT0ZGRVJfU1VDQ0VTUytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGxvY2FsU2RwMSBcIitlLnNkcC5zdWJzdHIoMCxlLnNkcC5sZW5ndGgvMikpLHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX0NSRUFURV9PRkZFUl9TVUNDRVNTK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgbG9jYWxTZHAyIFwiK2Uuc2RwLnN1YnN0cihlLnNkcC5sZW5ndGgvMikpLGUuc2RwPWUuc2RwLnJlcGxhY2UoL3NlbmRyZWN2L2csXCJyZWN2b25seVwiKSxlLnNkcD1lLnNkcC5yZXBsYWNlKC91c2VpbmJhbmRmZWM9LyxcInN0ZXJlbz0xO3VzZWluYmFuZGZlYz1cIik7dmFyIHI9ZS5zZHAubWF0Y2goL209YXBwbGljYXRpb25bXFxzXFxTXStkYXRhY2hhbm5lbFtcXHNcXFNdKy8pP2Uuc2RwLm1hdGNoKC9tPWFwcGxpY2F0aW9uW1xcc1xcU10rZGF0YWNoYW5uZWxbXFxzXFxTXSsvKVswXTpudWxsO2lmKHIpe3ZhciBpPXIucmVwbGFjZSgvcmVjdm9ubHkvLFwic2VuZHJlY3ZcIik7ZS5zZHA9ZS5zZHAucmVwbGFjZShyLGkpfWUuc2RwPSgwLGYuYWRkU1BTRGVzY3JpcHRpb24pKGUuc2RwKSxlLnNkcD0oMCxmLmFkZFJSVFJMaW5lKShlLnNkcCksdGhpcy5wbGF5T3B0aW9uLnZpZGVvQ29kZWMmJihlLnNkcD1hLlNkcFV0aWwuZ2V0U0RQQnlWaWRlRGVjb2RlVHlwZShlLnNkcCx0aGlzLnBsYXlPcHRpb24udmlkZW9Db2RlYykpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMucmVwb3J0U2VxLFwiU2V0TG9jYWxEZXNjcmlwdGlvblwiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIlNldExvY2FsRGVzY3JpcHRpb25cIiksdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLnRoZW4oKGZ1bmN0aW9uKCl7dC5kYXRhUmVwb3J0LmV2ZW50RW5kKHQucmVwb3J0U2VxLFwiU2V0TG9jYWxEZXNjcmlwdGlvblwiKSx0LmRhdGFSZXBvcnQuZXZlbnRFbmQodC5zdHJlYW1SZXBvcnRTZXEsXCJTZXRMb2NhbERlc2NyaXB0aW9uXCIpLHQub25TZXRMb2NhbERlc2NyaXB0aW9uU3VjY2VzcyhlKX0pLChmdW5jdGlvbihlKXt0LmxvZ2dlci5lcnJvcihkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fQ1JFQVRFX09GRkVSX1NVQ0NFU1MrXCIgXCIrdC5zdHJlYW1JZCtcIiBzZXQgZXJyb3IgXCIrZS50b1N0cmluZygpKSx0LmRhdGFSZXBvcnQuZXZlbnRFbmQodC5yZXBvcnRTZXEsXCJTZXRMb2NhbERlc2NyaXB0aW9uXCIse2Vycm9yOmUudG9TdHJpbmcoKX0pLHQuZGF0YVJlcG9ydC5ldmVudEVuZCh0LnN0cmVhbVJlcG9ydFNlcSxcIlNldExvY2FsRGVzY3JpcHRpb25cIix7ZXJyb3I6ZS50b1N0cmluZygpfSksdC5wbGF5U3RhdGVVcGRhdGVFcnJvcihtLmVycm9yLmtTZXRMb2NhbERlc2NFcnJvciwhMCl9KSl9LGUucHJvdG90eXBlLm9uU2V0TG9jYWxEZXNjcmlwdGlvblN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9TRVRfTE9DQUxfREVTQ1JJUFRJT05fU1VDQ0VTUytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHN1Y2Nlc3NcIiksdGhpcy5pc1BlZXIpdGhpcy5jcmVhdGVTZXNzaW9uKGUpO2Vsc2V7dmFyIHI9e3NkcDplLnNkcH07Mj09dGhpcy5yZXNvdXJjZU1vZGUmJihyLm1pbl9wbGF5X2J1Zl9sZXZlbF9tcz01MDApLHRoaXMuYW5zd2VyU2VxPSgwLHMuZ2V0U2VxKSgpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMucmVwb3J0U2VxLFwiU2VuZE1lZGlhRGVzY1wiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIlNlbmRNZWRpYURlc2NcIiksdGhpcy5zaWduYWwuc2VuZE1lZGlhRGVzYyh0aGlzLmFuc3dlclNlcSx0aGlzLnNlc3Npb25JZCwwLHIsKGZ1bmN0aW9uKGUscixpKXt0LmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9TRVRfTE9DQUxfREVTQ1JJUFRJT05fU1VDQ0VTUytcIiBcIit0LnN0cmVhbUlkK1wiIHNlbmRNZWRpYURlc2MgcmVzcFwiKSx0LmFuc3dlclNlcT09ZSYmdC5zZXNzaW9uSWQ9PXI/KHQubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1NFVF9MT0NBTF9ERVNDUklQVElPTl9TVUNDRVNTK1wiIFwiK3Quc3RyZWFtSWQrXCIgc2VuZCBzdWNjZXNzIHN0YXRlTmVnbzp3YWl0ZXJBbnN3ZXJcIiksdC5zdGF0ZU5lZ289cy5FTlVNX1BMQVlfU1RBVEVfTkVHTy53YWl0ZXJBbnN3ZXIsdC5kYXRhUmVwb3J0LmV2ZW50RW5kKHQucmVwb3J0U2VxLFwiU2VuZE1lZGlhRGVzY1wiKSx0LmRhdGFSZXBvcnQuZXZlbnRFbmQodC5zdHJlYW1SZXBvcnRTZXEsXCJTZW5kTWVkaWFEZXNjXCIpLHQuc3RhdGU9cy5FTlVNX1BMQVlfU1RBVEUud2FpdGluZ1NlcnZlckFuc3dlcik6dC5sb2dnZXIuZXJyb3IoZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1NFVF9MT0NBTF9ERVNDUklQVElPTl9TVUNDRVNTK1wiIFwiK3Quc3RyZWFtSWQrXCIgc2VxIG9yIHNlc3Npb25JZCBpcyBub3QgZXF1YWwgXCIrdC5hbnN3ZXJTZXErXCIgXCIrZSwwK3Quc2Vzc2lvbklkK1wiIFwiK3IpfSksKGZ1bmN0aW9uKGUscil7dC5sb2dnZXIuZXJyb3IoZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1NFVF9MT0NBTF9ERVNDUklQVElPTl9TVUNDRVNTK1wiIFwiK3Quc3RyZWFtSWQrXCIgZmFpbGVkIHRvIHNlbmQgXCIrZSksdC5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyh0LnJlcG9ydFNlcSxcIlNlbmRNZWRpYURlc2NcIix7ZXJyb3I6ZX0pLHQuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codC5zdHJlYW1SZXBvcnRTZXEsXCJTZW5kTWVkaWFEZXNjXCIse2Vycm9yOmV9KSx0LnBsYXlTdGF0ZVVwZGF0ZUVycm9yKG0uZXJyb3Iua01lZGlhRGVzY0Vycm9yKX0pKSx0aGlzLnN0YXRlPXMuRU5VTV9QTEFZX1NUQVRFLndhaXRpbmdPZmZlclJzcH19LGUucHJvdG90eXBlLm9uUmVjdk1lZGlhRGVzYz1mdW5jdGlvbihlLHQscil7dGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9NRURJQV9ERVNDK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgcmVjZWl2ZWQgXCIsciksdGhpcy5zdGF0ZU5lZ289cy5FTlVNX1BMQVlfU1RBVEVfTkVHTy53YWl0aW5nQ2FuZGlkYXRlLHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfTUVESUFfREVTQytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHJlY2VpdmVkIHN0YXRlTmVnbzp3YWl0aW5nQ2FuZGlkYXRlXCIpLHRoaXMuc3RhdGU9PT1zLkVOVU1fUExBWV9TVEFURS53YWl0aW5nU2VydmVyQW5zd2VyPyh0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5yZXBvcnRTZXEsXCJSZWN2TWVkaWFEZXNjXCIpLHRoaXMuZGF0YVJlcG9ydC5hZGRFdmVudCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIlJlY3ZNZWRpYURlc2NcIiksdGhpcy5zaWduYWwuc2VuZE1lZGlhRGVzY0FjayhlLHRoaXMuc2Vzc2lvbklkLDApLHRoaXMub25HZXRSZW1vdGVPZmZlclN1Y2Nlc3Moci5zZHApKTp0aGlzLmxvZ2dlci5lcnJvcihkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9NRURJQV9ERVNDK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY3VycmVudCBzdGF0ZSBcIit0aGlzLnN0YXRlK1wiIG5vdCBhbGxvd2VkXCIpfSxlLnByb3RvdHlwZS5vbkdldFJlbW90ZU9mZmVyU3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMsaT17dHlwZTpcImFuc3dlclwiLHNkcDplLHRvSlNPTjpmdW5jdGlvbigpe319O3RoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMucmVwb3J0U2VxLFwiU2V0UmVtb3RlRGVzY3JpcHRpb25cIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJTZXRSZW1vdGVEZXNjcmlwdGlvblwiKSx0aGlzLl90dXJuVG9UY3A9dGhpcy5zdGF0ZUNlbnRlci50dXJuT3ZlclRjcE9ubHksdGhpcy5zdHJlYW1DZW50ZXIuYXV0b1N3aXRjaFByb3RvY29sPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiYXV0b190b190Y3BcIil8fCExO3ZhciBvPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwidWRwX21heF9mYWlsX251bVwiKTshaXNOYU4obykmJih0aGlzLnN0cmVhbUNlbnRlci5tYXhVZHBGYWlsTnVtPW8pO3ZhciBuPXRoaXMuc3RyZWFtQ2VudGVyLGE9bi5hdXRvU3dpdGNoUHJvdG9jb2wsYz1uLm1heFVkcEZhaWxOdW0sdT1uLnVkcEZhaWxOdW07dGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9NRURJQV9ERVNDK1wiICBhdXRvVG9UY3A6IFwiLmNvbmNhdChhLFwiLCB1ZHBGYWlsTnVtOiBcIikuY29uY2F0KHUsXCIsIG1heFVkcEZhaWxOdW06IFwiKS5jb25jYXQoYyxcIi5cIikpLGEmJiF0aGlzLl90dXJuVG9UY3AmJnU+PWMmJih0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9SRUNWX01FRElBX0RFU0MrXCIgc3dpdGNoIHRvIHRjcC5cIiksdGhpcy5fdHVyblRvVGNwPSEwKTt2YXIgbD10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInVkcF9vcl90Y3BcIiwhMCk7bCYmKHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfTUVESUFfREVTQytcIiBzZXR0aW5nIHVkcF9vcl90Y3AgXCIrbCksdGhpcy5fdHVyblRvVGNwPVwidGNwXCI9PT1sKSx0aGlzLl90dXJuVG9UY3AmJihudWxsPT09KHQ9aS5zZHAubWF0Y2goL2NhbmRpZGF0ZS4qL2cpKXx8dm9pZCAwPT09dHx8dC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoL3VkcC8sXCJ0Y3BcIik7dC5pbmNsdWRlcyhcIiB0Y3B0eXBlIFwiKXx8KHQ9dC5yZXBsYWNlKFwiIHR5cCBob3N0IFwiLFwiIHR5cCBob3N0IHRjcHR5cGUgcGFzc2l2ZSBcIikpLGkuc2RwPWkuc2RwLnJlcGxhY2UoZSx0KX0pKSksdGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9NRURJQV9ERVNDK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgcmVtb3RlU2RwIFwiLGkuc2RwKSx0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oaSkpLnRoZW4oKGZ1bmN0aW9uKCl7ci5kYXRhUmVwb3J0LmV2ZW50RW5kKHIucmVwb3J0U2VxLFwiU2V0UmVtb3RlRGVzY3JpcHRpb25cIiksci5kYXRhUmVwb3J0LmV2ZW50RW5kKHIuc3RyZWFtUmVwb3J0U2VxLFwiU2V0UmVtb3RlRGVzY3JpcHRpb25cIiksci5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9NRURJQV9ERVNDK1wiIFwiK3Iuc3RyZWFtSWQrXCIgc2V0IHN1Y2Nlc3NcIil9KSwoZnVuY3Rpb24oZSl7ci5sb2dnZXIuZXJyb3IoZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfTUVESUFfREVTQytcIiBcIityLnN0cmVhbUlkK1wiIHNldCByZW1vdGUgZXJyb3IgXCIrZS50b1N0cmluZygpKSxyLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHIucmVwb3J0U2VxLFwiU2V0UmVtb3RlRGVzY3JpcHRpb25cIix7ZXJyb3I6ZS50b1N0cmluZygpfSksci5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyhyLnN0cmVhbVJlcG9ydFNlcSxcIlNldFJlbW90ZURlc2NyaXB0aW9uXCIse2Vycm9yOmUudG9TdHJpbmcoKX0pLHIucGxheVN0YXRlVXBkYXRlRXJyb3IobS5lcnJvci5rU2V0UmVtb3RlRGVzY0Vycm9yLCEwKX0pKSx0aGlzLnN0YXRlPXMuRU5VTV9QTEFZX1NUQVRFLndhaXRpbmdTZXJ2ZXJJQ0UsdGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9NRURJQV9ERVNDK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbCBzdWNjZXNzXCIpfSxlLnByb3RvdHlwZS5vblJlY3ZDYW5kaWRhdGVJbmZvPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfQ0FORElEQVRFX0lORk8rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZWNlaXZlZCBcIiksdGhpcy5zdGF0ZT09cy5FTlVNX1BMQVlfU1RBVEUud2FpdGluZ1NlcnZlcklDRSl7dGhpcy5kYXRhUmVwb3J0LmFkZEV2ZW50KHRoaXMucmVwb3J0U2VxLFwiUmVjdkljZUNhbmRpZGF0ZVwiKSx0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJSZWN2SWNlQ2FuZGlkYXRlXCIpLHRoaXMuc2lnbmFsLnNlbmRDYW5kaWRhdGVJbmZvQWNrKGUsdGhpcy5zZXNzaW9uSWQsMCksdGhpcy5zZW5kQ2FuZGlkYXRlSW5mbyh0aGlzLmNhbmRpZGF0ZUluZm8pLHRoaXMuY2FuZGlkYXRlSW5mbz1bXTtmb3IodmFyIG89MDtvPHIuaW5mb3MubGVuZ3RoO28rKyl7dmFyIG49e3NkcE1pZDpyLmluZm9zW29dLnNkcE1pZCxzZHBNTGluZUluZGV4OnIuaW5mb3Nbb10uc2RwTUxpbmVJbmRleCxjYW5kaWRhdGU6ci5pbmZvc1tvXS5jYW5kaWRhdGV9O3RoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfQ0FORElEQVRFX0lORk8rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBjYW5kaWRhdGUgXCIrbi5jYW5kaWRhdGUpLHRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKG5ldyBSVENJY2VDYW5kaWRhdGUobikpLnRoZW4oKGZ1bmN0aW9uKCl7aS5sb2dnZXIuZGVidWcoZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfQ0FORElEQVRFX0lORk8rXCIgXCIraS5zdHJlYW1JZCtcIiBhZGQgc3VjY2Vzc1wiKX0pLChmdW5jdGlvbihlKXtpLmxvZ2dlci5lcnJvcihkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9DQU5ESURBVEVfSU5GTytcIiBcIitpLnN0cmVhbUlkK1wiIGFkZCBlcnJvciBcIitlLnRvU3RyaW5nKCkpLGkucGxheVN0YXRlVXBkYXRlRXJyb3IobS5lcnJvci5rQ2FuZGlkYXRlRXJyb3IsITApfSkpfXRoaXMuc3RhdGU9cy5FTlVNX1BMQVlfU1RBVEUuY29ubmVjdGluZyx0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9SRUNWX0NBTkRJREFURV9JTkZPK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbCBzdWNjZXNzXCIpfWVsc2UgdGhpcy5sb2dnZXIud2FybihkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9DQU5ESURBVEVfSU5GTytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGN1cnJlbnQgc3RhdGUgXCIrdGhpcy5zdGF0ZStcIiBub3QgYWxsb3dlZFwiKX0sZS5wcm90b3R5cGUub25SZWN2UGxheUV2ZW50PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9SRUNWX1BMQVlfRVZFTlQrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZWNlaXZlZFwiKSwhMD09PXRoaXMucGxheUV2ZW50JiYwPT1yLmV2ZW50KXt0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9SRUNWX1BMQVlfRVZFTlQrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZXRyeTogXCIrdGhpcy5zdHJlYW1JZCk7dmFyIGk9dGhpcy5zdHJlYW1JZCxvPXRoaXMucGxheU9wdGlvbjt0aGlzLnNpZ25hbC5zZW5kQ2xvc2VTZXNzaW9uKCgwLHMuZ2V0U2VxKSgpLHRoaXMuc2Vzc2lvbklkLDEpLHRoaXMucmVzZXRQbGF5KCksdGhpcy5zdGFydFBsYXkoaSx0aGlzLmdldFJlbW90ZVN0cmVhbVN1YyxvKX1lbHNlIHRoaXMucGxheUV2ZW50PSEwfSxlLnByb3RvdHlwZS5vblJlY3ZDbGllbnRJbmZvPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnN0YXRlQ2VudGVyLmNsaWVudElQIT09ci5jbGllbnRpcCYmdGhpcy5sb2dnZXIud2FybihkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9DTElFTlRfSU5GTytcIiBjbGllbnQgaXAgY2hhbmdlZCBcIit0aGlzLnN0YXRlQ2VudGVyLmNsaWVudElQK1wiIFwiK3IuY2xpZW50aXApLHRoaXMuc3RhdGVDZW50ZXIuY2xpZW50SVA9ci5jbGllbnRpcCx0aGlzLnBlZXJJRD1yLnBlZXJfaWQsdGhpcy5pc1Byb2JlJiZ0aGlzLnN0YXRlTmVnbz09cy5FTlVNX1BMQVlfU1RBVEVfTkVHTy5pY2VDb25uZWN0ZWQmJnRoaXMuc2lnbmFsLnNlbmROZXRQcm9iZSgoMCxzLmdldFNlcSkoKSx0aGlzLnNlc3Npb25JZCx0aGlzLnBlZXJJRCwoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSksdGhpcy5pc1JlY3ZDbGllbnRJbmZvPSEwfSxlLnByb3RvdHlwZS5vblJlY3ZOZXRRdWFsaXR5SW5mbz1mdW5jdGlvbihlLHQscil7dGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9ORVRfUVVBTElUWV9JTkZPK1wiIGNhbGxcIiksdGhpcy5xdWFsaXR5SGFuZGxlci5zdG9wUHJvYmVUaW1lb3V0KCk7dmFyIGk9MCxvPXIubG9zc3JhdGUsbj1yLnJ0dDt0aGlzLnBlZXJJRD09PXIucGVlcl9pZCYmbnVsbCE9dHlwZW9mIG8mJm51bGwhPXR5cGVvZiBufHwodGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9ORVRfUVVBTElUWV9JTkZPK1wiIGxvY2FsIHBlZXJJRDpcIit0aGlzLnBlZXJJRCtcIiByZW1vdGUgcGVlcklEOlwiK3IucGVlcl9pZCtcIiBsb3NzcmF0ZTpcIitvK1wiIHJ0dDpcIituKSxpPTEpLHRoaXMuc2lnbmFsLnNlbmROZXRRdWFsaXR5SW5mb1B1c2hBY2soKDAscy5nZXRTZXEpKCksdGhpcy5zZXNzaW9uSWQsdGhpcy5wZWVySUQsaSksMD09aSYmXCJudW1iZXJcIj09dHlwZW9mIG8mJlwibnVtYmVyXCI9PXR5cGVvZiBuP3RoaXMub25DYWxOZXRRdWFsaXR5UmVzdWx0KDAsYy5DbGllbnRVdGlsLmdldE5ldFF1YWxpdHkobixvKSk6dGhpcy5vbkNhbE5ldFF1YWxpdHlSZXN1bHQoMSl9LGUucHJvdG90eXBlLm9uSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKGUpeyh0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9JQ0VfQ0FORElEQVRFK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbGVkXCIpLG51bGwhPWUuY2FuZGlkYXRlKSYmKHRoaXMubG9nZ2VyLmRlYnVnKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9JQ0VfQ0FORElEQVRFK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FuZGlkYXRlIFwiK2UuY2FuZGlkYXRlLmNhbmRpZGF0ZSksdGhpcy5zdGF0ZTxzLkVOVU1fUExBWV9TVEFURS5jb25uZWN0aW5nfHx0aGlzLnN0YXRlPT1zLkVOVU1fUExBWV9TVEFURS5zdG9wPyh0aGlzLmxvZ2dlci5kZWJ1ZyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fSUNFX0NBTkRJREFURStcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNhY2hlZFwiKSx0aGlzLmNhbmRpZGF0ZUluZm8ucHVzaCh7Y2FuZGlkYXRlOmUuY2FuZGlkYXRlLmNhbmRpZGF0ZSxzZHBNaWQ6ZS5jYW5kaWRhdGUuc2RwTWlkLHNkcE1MaW5lSW5kZXg6ZS5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleH0pKToodGhpcy5sb2dnZXIuZGVidWcoZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX0lDRV9DQU5ESURBVEUrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBzZW5kXCIpLHRoaXMuc2VuZENhbmRpZGF0ZUluZm8oW3tjYW5kaWRhdGU6ZS5jYW5kaWRhdGUuY2FuZGlkYXRlLHNkcE1pZDplLmNhbmRpZGF0ZS5zZHBNaWQsc2RwTUxpbmVJbmRleDplLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4fV0pKSl9LGUucHJvdG90eXBlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbGVkIFwiK2UudGFyZ2V0LnNpZ25hbGluZ1N0YXRlKX0sZS5wcm90b3R5cGUub25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnN0YXRlIT1zLkVOVU1fUExBWV9TVEFURS5zdG9wJiZudWxsIT10aGlzLnBlZXJDb25uZWN0aW9uKWlmKHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX0lDRV9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRStcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHN0YXRlQ2hhbmdlZCBcIit0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSksXCJjb25uZWN0ZWRcIj09PXRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKXtpZih0aGlzLnN0YXRlTmVnbz1zLkVOVU1fUExBWV9TVEFURV9ORUdPLmljZUNvbm5lY3RlZCx0aGlzLmlzUHJvYmUmJnRoaXMuaXNQZWVyJiZ0aGlzLmlzUmVjdkNsaWVudEluZm8pcmV0dXJuIHRoaXMuc2lnbmFsLnNlbmROZXRQcm9iZSgoMCxzLmdldFNlcSkoKSx0aGlzLnNlc3Npb25JZCx0aGlzLnBlZXJJRCwoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSksdm9pZChudWxsIT10aGlzLm5lZ29UaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLm5lZ29UaW1lciksdGhpcy5uZWdvVGltZXI9bnVsbCkpO2lmKG51bGwhPXRoaXMubmVnb1RpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMubmVnb1RpbWVyKSx0aGlzLm5lZ29UaW1lcj1udWxsKSxudWxsIT10aGlzLmljZURpc2Nvbm5lY3RlZFRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuaWNlRGlzY29ubmVjdGVkVGltZXIpLHRoaXMuaWNlRGlzY29ubmVjdGVkVGltZXI9bnVsbCksdGhpcy5kYXRhUmVwb3J0LmFkZEV2ZW50KHRoaXMucmVwb3J0U2VxLFwiSWNlQ29ubmVjdGVkXCIpLHRoaXMuZGF0YVJlcG9ydC5hZGRFdmVudCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIkljZUNvbm5lY3RlZFwiKSx0aGlzLmFuc3dlclNkcFRpbWUpe3ZhciByPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuYW5zd2VyU2RwVGltZTt0aGlzLmxvZ2dlci53YXJuKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9JQ0VfQ09OTkVDVElPTl9TVEFURV9DSEFOR0UrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBpY2UgdGltZSBcIityKX1mb3IodmFyIGkgaW4gdGhpcy5pc1Byb2JlfHx0aGlzLnN0YXRlPT1zLkVOVU1fUExBWV9TVEFURS5wbGF5aW5nfHwodGhpcy5vblBsYXlTdGF0ZVVwZGF0ZShzLkVOVU1fUExBWV9TVEFURV9VUERBVEUuc3RhcnQsdGhpcy5zdHJlYW1JZCx7Y29kZTowLG1lc3NhZ2U6XCJcIn0sITApLHRoaXMuZ2V0UmVtb3RlU3RyZWFtU3VjJiZ0aGlzLmdldFJlbW90ZVN0cmVhbVN1Yyh0aGlzLnBsYXlTdHJlYW0pKSx0aGlzLnN0YXRlPXMuRU5VTV9QTEFZX1NUQVRFLnBsYXlpbmcsdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5yZXBvcnRTZXEsXCJQbGF5U3RhdGVcIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJQbGF5U3RhdGVcIiksdGhpcy5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdCl7aWYodGhpcy5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdFtpXS5wdWJsaXNoZXIuc3RhdGU9PXMuRU5VTV9QVUJMSVNIX1NUQVRFLnB1Ymxpc2hpbmcmJnRoaXMuYnJvYWRjYXN0ZXJTdGF0dXM9PXMuRU5VTV9CUk9BRENBU1RFUl9TVEFUVVMuc3RvcCl7dGhpcy5zaWduYWwmJnRoaXMuc2lnbmFsLnNlbmRCcm9hZGNhc3RlclN0YXR1cygoMCxzLmdldFNlcSkoKSx0aGlzLnNlc3Npb25JZCwxKSx0aGlzLmJyb2FkY2FzdGVyU3RhdHVzPXMuRU5VTV9CUk9BRENBU1RFUl9TVEFUVVMuc3RhcnQ7YnJlYWt9fWlmKCF0aGlzLmlzUHJvYmUpe3RoaXMucXVhbGl0eUhhbmRsZXIuc2V0UGxheVF1YWxpdHlUaW1lcigpO3ZhciBvPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwicHJvYmVfc3RhcnRlZF9udW1cIik7IWlzTmFOKG8pJiYodGhpcy5zdHJlYW1DZW50ZXIucHJvYmVTdGFydGVkTnVtPW8pfWlmKHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX0lDRV9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRStcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHN0YXRlTmVnbzppY2VDb25uZWN0ZWRcIiksdGhpcy5pc1BlZXImJih0aGlzLnBlZXJGYWlsQ291bnQ9MCksMD09dGhpcy5maXJzdEZyYW1lVGltZSl7dGhpcy5maXJzdEZyYW1lVGltZT0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLmJlZ2luVGltZTt2YXIgbj0oMCxzLmdldFJlcG9ydFNlcSkoKTt0aGlzLmRhdGFSZXBvcnQubmV3UmVwb3J0KG4sdS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheURlY29kZUZpcnN0VmlkZW9GcmFtZS5ldmVudCksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obix7c2Vzc2lvbl9pZDp1LlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQbGF5RGVjb2RlRmlyc3RWaWRlb0ZyYW1lLnNlc3Npb25faWQodGhpcy5zZXNzaW9uSWQpLGZmdF9jb25zdW1lZDp1LlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQbGF5RGVjb2RlRmlyc3RWaWRlb0ZyYW1lLmZmdF9jb25zdW1lZCh0aGlzLmZpcnN0RnJhbWVUaW1lKX0pLCF0aGlzLmlzUHJvYmUmJnRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobil9dGhpcy5fdHVyblRvVGNwfHwodGhpcy5zdHJlYW1DZW50ZXIudWRwRmFpbE51bT0wKX1lbHNlXCJjbG9zZWRcIj09PXRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlPyh0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5yZXBvcnRTZXEsXCJJY2VDbG9zZWRcIiksdGhpcy5zdGF0ZU5lZ289cy5FTlVNX1BMQVlfU1RBVEVfTkVHTy5pY2VDbG9zZWQsdGhpcy5jaGVja1BsYXlDb25uZWN0aW9uRmFpbGVkU3RhdGUodGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpKTpcImZhaWxlZFwiPT09dGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGU/KHRoaXMuZGF0YVJlcG9ydC5hZGRFdmVudCh0aGlzLnJlcG9ydFNlcSxcIkljZUZhaWxlZFwiKSx0aGlzLnN0YXRlTmVnbz1zLkVOVU1fUExBWV9TVEFURV9ORUdPLmljZUZhaWxlZCx0aGlzLmNoZWNrUGxheUNvbm5lY3Rpb25GYWlsZWRTdGF0ZSh0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSkpOlwiZGlzY29ubmVjdGVkXCI9PT10aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuZGF0YVJlcG9ydC5hZGRFdmVudCh0aGlzLnJlcG9ydFNlcSxcIkljZURpc2Nvbm5lY3RlZFwiKSx0aGlzLnN0YXRlTmVnbz1zLkVOVU1fUExBWV9TVEFURV9ORUdPLmljZURpc2Nvbm5lY3RlZCx0aGlzLmxvZ2dlci53YXJuKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9JQ0VfQ09OTkVDVElPTl9TVEFURV9DSEFOR0UrXCIgaWNlIGRpc2Nvbm5lY3RlZFwiKSx0aGlzLmljZURpc2Nvbm5lY3RlZFRpbWVyfHwodGhpcy5pY2VEaXNjb25uZWN0ZWRUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY2hlY2tQbGF5Q29ubmVjdGlvbkZhaWxlZFN0YXRlKFwiZGlzY29ubmVjdGVkXCIpfSksdGhpcy5pY2VEaXNjb25uZWN0ZWRNYXhUaW1lKSkpfSxlLnByb3RvdHlwZS5jaGVja1BsYXlDb25uZWN0aW9uRmFpbGVkU3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFK1wiICBzdGF0ZSBcIit0aGlzLnN0YXRlK1wiIGNvbm5lY3Rpb25TdGF0ZSBcIitlKSx0aGlzLnBsYXlTdGF0ZVVwZGF0ZUVycm9yKG0uZXJyb3Iua01lZGlhQ29ubmVjdGlvbkVycm9yKX0sZS5wcm90b3R5cGUucmVzZXRQbGF5PWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfUkVTRVRfUExBWStcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNhbGxcIiksdGhpcy5zdGF0ZT1zLkVOVU1fUExBWV9TVEFURS5zdG9wLHRoaXMucGxheUV2ZW50PSExLHRoaXMuaXNSZWN2Q2xpZW50SW5mbz0hMSxudWxsIT10aGlzLnBlZXJDb25uZWN0aW9uJiYodGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMucGVlckNvbm5lY3Rpb249bnVsbCksbnVsbCE9dGhpcy5uZWdvVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5uZWdvVGltZXIpLHRoaXMubmVnb1RpbWVyPW51bGwpLG51bGwhPXRoaXMuaWNlRGlzY29ubmVjdGVkVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5pY2VEaXNjb25uZWN0ZWRUaW1lciksdGhpcy5pY2VEaXNjb25uZWN0ZWRUaW1lcj1udWxsKSx0aGlzLnN0b3BWaWRlb2NUaW1lcigpLHRoaXMucXVhbGl0eUhhbmRsZXIuc3RvcFByb2JlVGltZW91dCgpLHRoaXMucXVhbGl0eUhhbmRsZXIuY2xlYXJQbGF5UXVhbGl0eVRpbWVyKCksdGhpcy5zaWduYWwmJih0aGlzLnNpZ25hbC51bnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiTWVkaWFEZXNjUHVzaFwiLHRoaXMuc2Vzc2lvbklkKSx0aGlzLnNpZ25hbC51bnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiQ2FuZGlkYXRlSW5mb1B1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIkNsb3NlU2Vzc2lvblB1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIlNlc3Npb25SZXNldFB1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIlBsYXlFdmVudFB1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIkNsaWVudEluZm9QdXNoXCIsdGhpcy5zZXNzaW9uSWQpLHRoaXMuc2lnbmFsLnVucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJOZXRRdWFsaXR5UHJvYmVSc3BcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIk5ldFF1YWxpdHlJbmZvUHVzaFwiLHRoaXMuc2Vzc2lvbklkKSksdGhpcy5zZXNzaW9uU2VxPTAsdGhpcy5hbnN3ZXJTZXE9MCx0aGlzLnZpZGVvU2l6ZUNhbGxiYWNrPSExLHRoaXMuc3RvcFNvdW5kTGV2ZWwoKX0sZS5wcm90b3R5cGUub25SZWN2UmVzZXRTZXNzaW9uPWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9SRUNWX1JFU0VUX1NFU1NJT04rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZWNlaXZlZCBcIiksdD09dGhpcy5zZXNzaW9uSWQpe3RoaXMuc2lnbmFsLnNlbmRDbG9zZVNlc3Npb25BY2soZSx0aGlzLnNlc3Npb25JZCwwKTt2YXIgaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG0uZXJyb3Iua1BsYXlTZXNzaW9uQ2xvc2VkRXJyb3IpKTt0aGlzLm5lZ29UaW1lciYmY2xlYXJUaW1lb3V0KHRoaXMubmVnb1RpbWVyKSx0aGlzLnBsYXlTdGF0ZVVwZGF0ZUVycm9yKGkpfWVsc2UgdGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9SRVNFVF9TRVNTSU9OK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2Fubm90IGZpbmQgc2Vzc2lvblwiKX0sZS5wcm90b3R5cGUub25SZWN2Q2xvc2VTZXNzaW9uPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9SRUNWX0NMT1NFX1NFU1NJT04rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBcIitKU09OLnN0cmluZ2lmeShyKSksdGhpcy5zaWduYWwuc2VuZENsb3NlU2Vzc2lvbkFjayhlLHRoaXMuc2Vzc2lvbklkLDApO3ZhciBpPXIuZXJyX2luZm8/SlNPTi5wYXJzZShyLmVycl9pbmZvLnRvTG93ZXJDYXNlKCkpOnt9LG89aS5hY3Rpb24/aS5hY3Rpb246bnVsbCxuPTEqci5yZWFzb24scz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG0uZXJyb3Iua1BsYXlTZXNzaW9uQ2xvc2VkRXJyb3IpKTtzLm1lc3NhZ2UrPVwiIHJlYXNvbjpcIi5jb25jYXQobixcIiBcIikuY29uY2F0KG8/XCIgYWN0aW9uOlwiK286XCJcIixcIiBcIikuY29uY2F0KChudWxsPT1pP3ZvaWQgMDppLmVycik/XCIgZXJyOlwiKyhudWxsPT1pP3ZvaWQgMDppLmVycik6XCJcIiksdGhpcy5uZWdvVGltZXImJmNsZWFyVGltZW91dCh0aGlzLm5lZ29UaW1lcik7dmFyIGE9IVs0LDgsMTAsMTEsMTIsMTQsMjQsMjYsMjcsMjhdLmluY2x1ZGVzKG4pJiYhWzIsNSw2XS5pbmNsdWRlcyhvKTtpZihbOCwxMF0uaW5jbHVkZXMobil8fFsxOCwxNV0uaW5jbHVkZXMobikmJjI9PT1vJiZbMzAwMSwzMDAyXS5pbmNsdWRlcyhpLmVycikpe3RoaXMuc3RyZWFtQ2VudGVyLnVkcEZhaWxOdW0rKzt2YXIgYz10aGlzLnN0cmVhbUNlbnRlcjtjLmF1dG9Td2l0Y2hQcm90b2NvbCYmYy51ZHBGYWlsTnVtPj1jLm1heFVkcEZhaWxOdW0mJih0aGlzLmlzUGVlcj0hMSx0aGlzLnN0cmVhbUNlbnRlci5zZXRJc1BlZXIoITEpKX1lbHNlIHRoaXMuX3R1cm5Ub1RjcHx8KHRoaXMuc3RyZWFtQ2VudGVyLnVkcEZhaWxOdW09MCk7dGhpcy5wbGF5U3RhdGVVcGRhdGVFcnJvcihzLGEpfSxlLnByb3RvdHlwZS5vblJlY3ZTdHJlYW1TdGF0dXM9ZnVuY3Rpb24oZSl7aWYodGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fUkVDVl9TVFJFQU1fU1RBVFVTK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbFwiKSx0aGlzLmxvZ2dlci5pbmZvKFwiXCIuY29uY2F0KGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9SRUNWX1NUUkVBTV9TVEFUVVMsXCIgXCIpLmNvbmNhdCh0aGlzLnN0cmVhbUlkLFwiIHN0YXR1cyBjYW1lcmFfc3RhdHVzOiBcIikuY29uY2F0KGUuY2FtZXJhX3N0YXR1cyxcIiBtaWNfc3RhdHVzOiBcIikuY29uY2F0KGUubWljX3N0YXR1cykpLCghdGhpcy5oYXNTZW50U3RyZWFtU3RhdHVzfHx0aGlzLmNhbWVyYVN0YXR1cyE9PWUuY2FtZXJhX3N0YXR1cykmJnRoaXMub25SZW1vdGVDYW1lcmFTdGF0dXNVcGRhdGUodGhpcy5zdHJlYW1JZCx0aGlzLmdldENhbWVyYU1pY1N0YXR1cyhlLmNhbWVyYV9zdGF0dXMpLGUuY2FtZXJhX3N0YXR1cyksKCF0aGlzLmhhc1NlbnRTdHJlYW1TdGF0dXN8fHRoaXMubWljU3RhdHVzIT09ZS5taWNfc3RhdHVzKSYmdGhpcy5vblJlbW90ZU1pY1N0YXR1c1VwZGF0ZSh0aGlzLnN0cmVhbUlkLHRoaXMuZ2V0Q2FtZXJhTWljU3RhdHVzKGUubWljX3N0YXR1cyksZS5taWNfc3RhdHVzKSx0aGlzLmhhc1NlbnRTdHJlYW1TdGF0dXM9ITAsdGhpcy5jYW1lcmFTdGF0dXM9ZS5jYW1lcmFfc3RhdHVzLHRoaXMubWljU3RhdHVzPWUubWljX3N0YXR1cyx0aGlzLnZpZGVvTXV0ZVN0YXRlPTA9PT1lLmNhbWVyYV9zdGF0dXM/XCIwXCI6XCIxXCIsdGhpcy5hdWRpb011dGVTdGF0ZT0wPT09ZS5taWNfc3RhdHVzP1wiMFwiOlwiMVwiLFwiYm9vbGVhblwiPT10eXBlb2YgdGhpcy5wbGF5T3B0aW9uLnZpZGVvKXRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfU1RSRUFNX1NUQVRVUytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGhhcyBzZXQgdmlkZW8gb3B0aW9uLCBpZ25vcmUgc3RyZWFtIHN0YXR1c1wiKTtlbHNle3ZhciB0PXRoaXMucGxheVN0cmVhbSxyPXRoaXMucnRjVmlld2VyO2lmKDAhPT1lLmNhbWVyYV9zdGF0dXMmJjIwIT09ZS5jYW1lcmFfc3RhdHVzKXQuZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmVuYWJsZWQ9ITEsZS5zdG9wKCksdC5yZW1vdmVUcmFjayhlKSxyJiZyLnNldFZpZGVvKG51bGwpfSkpO2Vsc2UgaWYoMD09PXQuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpe3ZhciBpPXRoaXMucmVtb3RlU3RyZWFtLmNsb25lKCkuZ2V0VmlkZW9UcmFja3MoKVswXTt0LmFkZFRyYWNrKGkpLHImJnIuc2V0VmlkZW8oaSxcInNhZmFyaVwiPT09dGhpcy5zdGF0ZUNlbnRlci5icm93c2VyKX1pZihcInNhZmFyaVwiPT09dGhpcy5zdGF0ZUNlbnRlci5icm93c2VyKWZvcih2YXIgbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidmlkZW8sIGF1ZGlvXCIpLG49MDtuPG8ubGVuZ3RoO24rKyl7dmFyIHM9b1tuXTtzLnNyY09iamVjdD09PXRoaXMucGxheVN0cmVhbSYmITA9PT1zLnBhdXNlZCYmKHMuc3JjT2JqZWN0PXRoaXMucGxheVN0cmVhbSl9fXRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX1JFQ1ZfU1RSRUFNX1NUQVRVUytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNhbGwgc3VjY2Vzc1wiKX0sZS5wcm90b3R5cGUub25Hb3RSZW1vdGVTdHJlYW09ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX09OX0dPVF9SRU1PVEVfU1RSRUFNK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbGVkIFwiK2UpLGUpe2lmKHRoaXMuc2lkZU1lZGlhQ29uZmlnLmlzU0VJU3RhcnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY3JlYXRlRW5jb2RlZFN0cmVhbXMmJihcInZpZGVvXCI9PT10LnRyYWNrLmtpbmQ/dGhpcy5jcmVhdGVWaWRlb1JlY2VpdmVyVHJhbnNmb3JtKHQpOlwiYXVkaW9cIj09PXQudHJhY2sua2luZCYmdGhpcy5jcmVhdGVBdWRpb1JlY2VpdmVyVHJhbnNmb3JtKHQpKSx0aGlzLnBsYXlTdHJlYW0pe3RoaXMucGxheVN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gci5wbGF5U3RyZWFtLnJlbW92ZVRyYWNrKGUpfSkpO3ZhciBpPXRoaXMucnRjVmlld2VyO2UuY2xvbmUoKS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbyhyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGxheVN0cmVhbS5hZGRUcmFjayhlKSxpJiZpLnNldFRyYWNrKFwidmlkZW9cIj09PWUua2luZCxlLFwic2FmYXJpXCI9PT10aGlzLnN0YXRlQ2VudGVyLmJyb3dzZXIpLFsyXX0pKX0pKX0pKX1lbHNlIHRoaXMucGxheVN0cmVhbT1lLmNsb25lKCk7dGhpcy5hdWRpb011dGVTdGF0ZT10aGlzLnBsYXlTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGg+MD9cIjBcIjpcIjFcIix0aGlzLnZpZGVvTXV0ZVN0YXRlPXRoaXMucGxheVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aD4wP1wiMFwiOlwiMVwiLHRoaXMucmVtb3RlU3RyZWFtPWUsdGhpcy5nZXRWaWRlb0NvZGVjKCksdGhpcy5nb3RTdHJlYW1TdGF0dXMmJnRoaXMub25SZWN2U3RyZWFtU3RhdHVzKHRoaXMuc3RyZWFtU3RhdHVzKSx0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5yZXBvcnRTZXEsXCJHZXRSZW1vdGVTdHJlYW1cIiksdGhpcy5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiYhdGhpcy5pc1Byb2JlJiZ0aGlzLnN0YXJ0U291bmRMZXZlbCgpfWVsc2UgdGhpcy5sb2dnZXIud2FybihkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfT05fR09UX1JFTU9URV9TVFJFQU0rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZW1vdGUgc3RyZWFtIGlzIGVtcHR5XCIpfSxlLnByb3RvdHlwZS5jcmVhdGVWaWRlb1JlY2VpdmVyVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKSxyPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybTp0aGlzLmRlY29kZVZpZGVvRnJhbWV9KTt0aGlzLnJlY2VpdmVyU3RyZWFtcz10LHQucmVhZGFibGUucGlwZVRocm91Z2gocikucGlwZVRvKHQud3JpdGFibGUpfSxlLnByb3RvdHlwZS5jcmVhdGVBdWRpb1JlY2VpdmVyVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKSxyPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybTp0aGlzLmRlY29kZUF1ZGlvRnJhbWV9KTt0LnJlYWRhYmxlLnBpcGVUaHJvdWdoKHIpLnBpcGVUbyh0LndyaXRhYmxlKX0sZS5wcm90b3R5cGUuc2VuZENhbmRpZGF0ZUluZm89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TRU5EX0NBTkRJREFURV9JTkZPK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbGVkXCIpLCEoZT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIShlLmNhbmRpZGF0ZS5pbmRleE9mKFwidGNwXCIpPjApJiYoISFlLmNhbmRpZGF0ZXx8dm9pZCAwKX0pKSl8fGUubGVuZ3RoPDE/dGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfU0VORF9DQU5ESURBVEVfSU5GTytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNhbmNlbGxlZFwiKToodGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5yZXBvcnRTZXEsXCJTZW5kSWNlQ2FuZGlkYXRlXCIpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMuc3RyZWFtUmVwb3J0U2VxLFwiU2VuZEljZUNhbmRpZGF0ZVwiKSx0aGlzLnN0YXRlTmVnbyE9PXMuRU5VTV9QTEFZX1NUQVRFX05FR08uaWNlQ29ubmVjdGVkJiYodGhpcy5zdGF0ZU5lZ289cy5FTlVNX1BMQVlfU1RBVEVfTkVHTy5zZW5kQ2FuZGlkYXRlKSx0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TRU5EX0NBTkRJREFURV9JTkZPK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgc3RhdGVOZWdvOnNlbmRDYW5kaWRhdGVcIiksdGhpcy5zaWduYWwuc2VuZENhbmRpZGF0ZUluZm8oKDAscy5nZXRTZXEpKCksdGhpcy5zZXNzaW9uSWQsZSwoZnVuY3Rpb24oZSxyLGkpe3QubG9nZ2VyLmRlYnVnKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TRU5EX0NBTkRJREFURV9JTkZPK1wiIFwiK3Quc3RyZWFtSWQrXCIgc2VuZCBzdWNjZXNzXCIpLHQuZGF0YVJlcG9ydC5ldmVudEVuZCh0LnJlcG9ydFNlcSxcIlNlbmRJY2VDYW5kaWRhdGVcIiksdC5kYXRhUmVwb3J0LmV2ZW50RW5kKHQuc3RyZWFtUmVwb3J0U2VxLFwiU2VuZEljZUNhbmRpZGF0ZVwiKX0pLChmdW5jdGlvbihlLHIpe3QubG9nZ2VyLmVycm9yKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TRU5EX0NBTkRJREFURV9JTkZPK1wiIFwiK3Quc3RyZWFtSWQrXCIgZmFpbGVkIHRvIHNlbmQ6IFwiK2UudG9TdHJpbmcoKSksdC5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyh0LnJlcG9ydFNlcSxcIlNlbmRJY2VDYW5kaWRhdGVcIix7ZXJyb3I6ZX0pLHQuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codC5zdHJlYW1SZXBvcnRTZXEsXCJTZW5kSWNlQ2FuZGlkYXRlXCIse2Vycm9yOmV9KSx0LnBsYXlTdGF0ZVVwZGF0ZUVycm9yKG0uZXJyb3Iua0NhbmRpZGF0ZUVycm9yKX0pKSl9LGUucHJvdG90eXBlLnNob3VsZFNlbmRDbG9zZVNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZSE9cy5FTlVNX1BMQVlfU1RBVEVfVVBEQVRFLnN0b3AmJnRoaXMuc3RhdGUhPXMuRU5VTV9QTEFZX1NUQVRFLndhaXRpbmdTZXNzaW9uUnNwfSxlLnByb3RvdHlwZS5wbGF5U3RhdGVVcGRhdGVFcnJvcj1mdW5jdGlvbihlLHQpe3RoaXMubG9nZ2VyLmVycm9yKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TVEFURV9FUlJPUitcIiBjYWxsIFwiLHRoaXMuc3RyZWFtSWQsSlNPTi5zdHJpbmdpZnkoZSkpLHRoaXMuaXNQcm9iZT90aGlzLm9uQ2FsTmV0UXVhbGl0eVJlc3VsdCgxKTp0aGlzLnN0cmVhbUlkJiZ0aGlzLm9uUGxheVN0YXRlVXBkYXRlKHMuRU5VTV9QTEFZX1NUQVRFX1VQREFURS5lcnJvcix0aGlzLnN0cmVhbUlkLGUsdCksdGhpcy5sb2dnZXIuaW5mbyhkLlpFR09fV0VCUlRDX0FDVElPTi5QTEFZRVJfU1RBVEVfRVJST1IrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBlbmRlZFwiKX0sZS5wcm90b3R5cGUuZ2V0Q2FtZXJhTWljU3RhdHVzPWZ1bmN0aW9uKGUpe3JldHVybiAwPT1lP1wiT1BFTlwiOlwiTVVURVwifSxlLnByb3RvdHlwZS5vblBsYXlTdGF0ZVVwZGF0ZT1mdW5jdGlvbihlLHQscixpKXt9LGUucHJvdG90eXBlLm9uUGxheVF1YWxpdHlVcGRhdGU9ZnVuY3Rpb24oZSx0KXt9LGUucHJvdG90eXBlLm9uUmVtb3RlQ2FtZXJhU3RhdHVzVXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXt9LGUucHJvdG90eXBlLm9uUmVtb3RlTWljU3RhdHVzVXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXt9LGUucHJvdG90eXBlLnN0b3BQbGF5PWZ1bmN0aW9uKCl7dmFyIGU7Zm9yKHZhciB0IGluIHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NUT1BfUExBWStcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNhbGxlZFwiKSx0aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0KXtpZih0aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3RdLnB1Ymxpc2hlci5zdGF0ZT09cy5FTlVNX1BVQkxJU0hfU1RBVEUucHVibGlzaGluZyYmdGhpcy5icm9hZGNhc3RlclN0YXR1cz09cy5FTlVNX0JST0FEQ0FTVEVSX1NUQVRVUy5zdGFydCl7dGhpcy5zaWduYWwmJnRoaXMuc2lnbmFsLnNlbmRCcm9hZGNhc3RlclN0YXR1cygoMCxzLmdldFNlcSkoKSx0aGlzLnNlc3Npb25JZCwwKSx0aGlzLmJyb2FkY2FzdGVyU3RhdHVzPXMuRU5VTV9CUk9BRENBU1RFUl9TVEFUVVMuc3RvcDticmVha319dGhpcy5zZXNzaW9uSWQmJiF0aGlzLmNsb3NlU2Vzc2lvblNpZ25hbCYmdGhpcy5zaWduYWwuc2VuZENsb3NlU2Vzc2lvbigoMCxzLmdldFNlcSkoKSx0aGlzLnNlc3Npb25JZCwwKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHRoaXMuc3RyZWFtUmVwb3J0U2VxLFwiUGxheVN0YXRlXCIse3N0YXRlOnRoaXMuc3RhdGUrXCJcIn0pLHRoaXMuZGF0YVJlcG9ydC5hZGRFdmVudCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIlN0b3BQbGF5XCIpLHRoaXMuZGF0YVJlcG9ydC5hZGRNc2dFeHQodGhpcy5zdHJlYW1SZXBvcnRTZXEse3N0cmVhbTp0aGlzLnN0cmVhbUlkLHNlc3Npb25JZDp0aGlzLnNlc3Npb25JZH0pLHRoaXMucmVzZXRQbGF5KCk7dmFyIHI9dGhpcy5xdWFsaXR5SGFuZGxlcixvPXIudmlkZW9CcmVhayxuPXIuYXVkaW9CcmVhayxhPTI9PT10aGlzLnJlc291cmNlTW9kZT9cImwzXCI6XCJydGNcIixjPSgoZT17fSlbXCJcIi5jb25jYXQoYSxcIl9hX2JyZWFrX3RpbWVcIildPW4uY3VtdWxhdGl2ZUJyZWFrRHVyYXRpb24sZVtcIlwiLmNvbmNhdChhLFwiX2FfZGVjb2RlX3RpbWVcIildPW4uY3VtdWxhdGl2ZURlY29kZUR1cmF0aW9uLGVbXCJcIi5jb25jYXQoYSxcIl92X2JyZWFrX3RpbWVcIildPW8uY3VtdWxhdGl2ZUJyZWFrRHVyYXRpb24sZVtcIlwiLmNvbmNhdChhLFwiX3ZfZGVjb2RlX3RpbWVcIildPW8uY3VtdWxhdGl2ZURlY29kZUR1cmF0aW9uLGUpO3RoaXMuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHRoaXMuc3RyZWFtUmVwb3J0U2VxLGkoe2l0ZW10eXBlOlwiUlRDUGxheVN0cmVhbVwiLHVzZV9uYTp0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50PzE6MCxjZG5fYV9icmVha190aW1lOjAsY2RuX2FfZGVjb2RlX3RpbWU6MCxjZG5fdl9icmVha190aW1lOjAsY2RuX3ZfZGVjb2RlX3RpbWU6MCxsM19hX2JyZWFrX3RpbWU6MCxsM19hX2RlY29kZV90aW1lOjAsbDNfdl9icmVha190aW1lOjAsbDNfdl9kZWNvZGVfdGltZTowLHJ0Y19hX2JyZWFrX3RpbWU6MCxydGNfYV9kZWNvZGVfdGltZTowLHJ0Y192X2JyZWFrX3RpbWU6MCxydGNfdl9kZWNvZGVfdGltZTowfSxjKSk7dmFyIHU9dGhpcy5ydGNWaWV3ZXI7dSYmdS5zdG9wKCksIXRoaXMuaXNQcm9iZSYmdGhpcy5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIlJUQ1BsYXlTdHJlYW1cIil9LGUucHJvdG90eXBlLm9uRGlzY29ubmVjdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9PTl9ESVNDT05ORUNUK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbFwiKSx0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5yZXBvcnRTZXEsXCJPbkRpc2Nvbm5lY3RcIiksdGhpcy5wbGF5U3RhdGVVcGRhdGVFcnJvcihlfHxtLmVycm9yLmtXZWJzb2NrZXREaXNjb25uZWN0ZWRFcnJvciwhIWUpfSxlLnByb3RvdHlwZS5zdGFydFNvdW5kTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NUQVJUX1NPVU5EX0xFVkVMK1wiIGNhbGwgc3RyZWFtSUQ6IFwiK3RoaXMuc3RyZWFtSWQpLCF0aGlzLmlzUHJvYmUpaWYodGhpcy5yZW1vdGVTdHJlYW0mJjAhPXRoaXMucmVtb3RlU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoKXt0aGlzLnNjcmlwdCYmdGhpcy5zY3JpcHQuZGlzY29ubmVjdCgpJiYodGhpcy5zY3JpcHQ9bnVsbCksdGhpcy5taWMmJnRoaXMubWljLmRpc2Nvbm5lY3QoKSYmKHRoaXMubWljPW51bGwpO3RyeXt0aGlzLm1pYz10aGlzLmFjLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHRoaXMucmVtb3RlU3RyZWFtKSx0aGlzLnNjcmlwdD10aGlzLmFjLmNyZWF0ZVNjcmlwdFByb2Nlc3Nvcig0MDk2LDEsMSksdGhpcy5taWMuY29ubmVjdCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQuY29ubmVjdCh0aGlzLmFjLmRlc3RpbmF0aW9uKSx0aGlzLnNjcmlwdC5vbmF1ZGlvcHJvY2Vzcz1mdW5jdGlvbih0KXtmb3IodmFyIHI9dC5pbnB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKSxpPTAsbz0wO288ci5sZW5ndGg7bysrKWk8cltvXSYmKGk9cltvXSk7ZS5zb3VuZExldmVsPTEwMCppfSx0aGlzLmFjLnJlc3VtZSgpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmVycm9yKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TVEFSVF9TT1VORF9MRVZFTCtcIiBnZXQgc291bmQgbGV2ZWwgZmFpbGVkIFwiK2UpfX1lbHNlIHRoaXMubG9nZ2VyLmluZm8oZC5aRUdPX1dFQlJUQ19BQ1RJT04uUExBWUVSX1NUQVJUX1NPVU5EX0xFVkVMK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgcmVtb3RlIHN0cmVhbSBubyBmb3VuZFwiKX0sZS5wcm90b3R5cGUuc3RvcFNvdW5kTGV2ZWw9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5pbmZvKGQuWkVHT19XRUJSVENfQUNUSU9OLlBMQVlFUl9TVE9QX1NPVU5EX0xFVkVMK1wiIGNhbGwgc3RyZWFtSUQ6IFwiK3RoaXMuc3RyZWFtSWQpLHRoaXMuc2NyaXB0JiZ0aGlzLnNjcmlwdC5kaXNjb25uZWN0KCksdGhpcy5taWMmJnRoaXMubWljLmRpc2Nvbm5lY3QoKSx0aGlzLnNjcmlwdD1udWxsLHRoaXMubWljPW51bGx9LGUucHJvdG90eXBlLm9uQ2FsTmV0UXVhbGl0eVJlc3VsdD1mdW5jdGlvbihlLHQpe30sZS5wcm90b3R5cGUub25SZWNlaXZlZERhdGFDaGFubmVsPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaT10aGlzLG89bmV3IFVpbnQ4QXJyYXkoZS5kYXRhLDAsMTApLG49ZS5kYXRhLmJ5dGVMZW5ndGgtMTAscz1uZXcgVWludDhBcnJheShlLmRhdGEsMTAsbik7aWYoMT09b1swXSl7dmFyIGE9b1sxXSxjPW9bMl08PDh8b1szXSx1PW9bNF08PDh8b1s1XSxkPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKHRoaXMuZmlyc3RfcGt0JiYodGhpcy5uZXh0X3NuWzBdPWM9PXU/Yzp1LHRoaXMuZmlyc3RfcGt0PSExKSx0aGlzLnBrdF9saXN0LnB1c2goe3NuOmMsc24wOnUscmVjdl90czpkLGZsYWdzOmEscGF5bG9hZF9sZW46bixwYXlsb2FkQXJyYXk6c30pLHRoaXMucGt0X2xpc3Quc29ydCh0aGlzLmNvbXBhcmVTaG9ydCksYz09dGhpcy5uZXh0X3NuWzBdKXt2YXIgbD10aGlzLnBrdF9saXN0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc24wPT11fSkpO2lmKGwuc29ydCh0aGlzLmNvbXBhcmVTaG9ydCksbnVsbCE9bC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmZsYWdzfSkpJiZsLmxlbmd0aD09dGhpcy5jb21wYXJlU2hvcnQoYyx1KSsxKXtmb3IodmFyIGg9MCxwPW5ldyBBcnJheUJ1ZmZlcig2NTUzNiksZz0wO2c8bC5sZW5ndGg7ZysrKXtuZXcgVWludDhBcnJheShwKS5zZXQobFtnXS5wYXlsb2FkQXJyYXksaCksaCs9bFtnXS5wYXlsb2FkX2xlbn1udWxsPT09KHQ9dGhpcy5vbkRhdGFDaGFubmVsTGlzdCl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZShwLGgsaS5zdHJlYW1JZCl9KSksdGhpcy5wa3RfbGlzdD1bXSx0aGlzLmZpcnN0X3BrdD0hMH10aGlzLm5leHRfc25bMF0rK31lbHNlIGZvcih2YXIgZj1mdW5jdGlvbigpe3ZhciBlPW0ucGt0X2xpc3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zbjA9PWkucGt0X2xpc3RbMF0uc24wfSkpO2lmKGUuc29ydChtLmNvbXBhcmVTaG9ydCksbnVsbCE9ZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmZsYWdzfSkpJiZlLmxlbmd0aD09bS5jb21wYXJlU2hvcnQoZVtlLmxlbmd0aC0xXS5zbixlWzBdLnNuMCkrMSl7Zm9yKHZhciB0PTAsbz1uZXcgQXJyYXlCdWZmZXIoNjU1MzYpLG49MDtuPGUubGVuZ3RoO24rKyl7bmV3IFVpbnQ4QXJyYXkobykuc2V0KGVbbl0ucGF5bG9hZEFycmF5LHQpLHQrPWVbbl0ucGF5bG9hZF9sZW59bS5uZXh0X3NuWzBdPWVbMF0uc24wK2UubGVuZ3RoLG51bGw9PT0ocj1tLm9uRGF0YUNoYW5uZWxMaXN0KXx8dm9pZCAwPT09cnx8ci5mb3JFYWNoKChmdW5jdGlvbihlKXtlKG8sdCxpLnN0cmVhbUlkKX0pKSxtLnBrdF9saXN0PVtdLG0uZmlyc3RfcGt0PSEwfWVsc2UgaWYoZC1lWzBdLnRzPDRlMyl7dmFyIHM9ZVswXS5zbjA7Zm9yKG49MDtuPGUubGVuZ3RoJiZzPT1lW25dLnNuO24rKylzKys7cmV0dXJuIG0ubmV4dF9zblswXT1zLFwiYnJlYWtcIn1mb3Iobj0wO248ZS5sZW5ndGg7bisrKW0ucGt0X2xpc3Quc2hpZnQoKX0sbT10aGlzO3RoaXMucGt0X2xpc3QubGVuZ3RoPjA7KXtpZihcImJyZWFrXCI9PT1mKCkpYnJlYWt9fX0sZS5wcm90b3R5cGUuY29tcGFyZVNob3J0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFVpbnQxNkFycmF5KDEpO3JbMF09ZS10O3ZhciBpPW5ldyBJbnQxNkFycmF5KDEpO3JldHVybiBpWzBdPXJbMF0saVswXX0sZS5wcm90b3R5cGUuZ2V0VmlkZW9Db2RlYz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wZWVyQ29ubmVjdGlvbiYmKHRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKFwiaW5ib3VuZC1ydHBcIj09PXIudHlwZSYmXCJ2aWRlb1wiPT09ci5raW5kJiZyLmNvZGVjSWQpe3ZhciBpPXQuZ2V0KHIuY29kZWNJZCkubWltZVR5cGUudG9Mb3dlckNhc2UoKTtpLmluZGV4T2YoXCJoMjY0XCIpPi0xP2UudmlkZW9Db2RlYz1cIkgyNjRcIjppLmluZGV4T2YoXCJ2cDhcIik+LTEmJihlLnZpZGVvQ29kZWM9XCJWUDhcIixlLnNpZGVNZWRpYUNvbmZpZy5pc1NFSVN0YXJ0JiZlLmxvZ2dlci5lcnJvcihkLlpFR09fV0VCUlRDX0FDVElPTi5QQVlFUl9HRVRfVklERU9fQ09ERUMrXCIgdmlkZW8gY29kZSBWUDggaXMgbm90IHN1cHBvcnQgU0VJXCIpKX19KSl9KSksdGhpcy52aWRlb0NvZGVjVGltZXMrKyx0aGlzLnZpZGVvQ29kZWN8fHRoaXMudmlkZW9Db2RlY1RpbWVzPj01KT90aGlzLnN0b3BWaWRlb2NUaW1lcigpOnRoaXMudmlkZW9Db2RlY1RpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5nZXRWaWRlb0NvZGVjKCl9KSwxMDApfSxlLnByb3RvdHlwZS5zdG9wVmlkZW9jVGltZXI9ZnVuY3Rpb24oKXt0aGlzLnZpZGVvQ29kZWNUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLnZpZGVvQ29kZWNUaW1lciksdGhpcy52aWRlb0NvZGVjVGltZXI9bnVsbCl9LGUucHJvdG90eXBlLmdldFZpZXdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXlTdHJlYW0mJiF0aGlzLnJ0Y1ZpZXdlciYmKHRoaXMucnRjVmlld2VyPW5ldyBnLlN0cmVhbVZpZXcodGhpcy5wbGF5U3RyZWFtLHRoaXMpKSx0aGlzLnJ0Y1ZpZXdlcn0sZX0oKTt0LlplZ29QbGF5V2ViPV99LDI5ODE6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxpPWFyZ3VtZW50cy5sZW5ndGg7cjxpO3IrKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QdWJsaXNoTW9kdWxlPXZvaWQgMDt2YXIgbz1yKDYyNjIpLG49cig5ODg3KSxzPXIoODMzNSksYT1yKDM2MDgpLGM9cig3NzE2KSx1PXIoOTMzNCksZD1yKDg0NjYpLGw9cigzMzY0KSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpLG8pe3RoaXMubG9nZ2VyPWUsdGhpcy5kYXRhUmVwb3J0PXQsdGhpcy5zdGF0ZUNlbnRlcj1yLHRoaXMuc3RyZWFtQ2VudGVyPWksdGhpcy5ydG09byx0aGlzLnJlY29yZERldmljZXMoKX1yZXR1cm4gZS5wcm90b3R5cGUuY3JlYXRlU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oby5aRUdPX1dFQlJUQ19BQ1RJT04uQ1JFQVRFX1NUUkVBTStcIiBjYWxsXCIpLGUmJmUuY2FtZXJhJiZlLmNhbWVyYS5hdWRpb0JpdFJhdGUmJihlLmNhbWVyYS5hdWRpb0JpdHJhdGU9ZS5jYW1lcmEuYXVkaW9CaXRSYXRlKSxlJiZlLmNhbWVyYSYmZS5jYW1lcmEuYml0cmF0ZSYmKGUuY2FtZXJhLmJpdFJhdGU9ZS5jYW1lcmEuYml0cmF0ZSksZSYmZS5zY3JlZW4mJlwib2JqZWN0XCI9PXR5cGVvZiBlLnNjcmVlbiYmZS5zY3JlZW4uYml0cmF0ZSYmKGUuc2NyZWVuLmJpdFJhdGU9ZS5zY3JlZW4uYml0cmF0ZSksZSYmZS5jdXN0b20mJmUuY3VzdG9tLmJpdHJhdGUmJihlLmN1c3RvbS5iaXRSYXRlPWUuY3VzdG9tLmJpdHJhdGUpLG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGMpe3ZhciB1PVwiY2FtZXJhXCIsaD0oMCxuLmdldFJlcG9ydFNlcSkoKTt0LmRhdGFSZXBvcnQubmV3UmVwb3J0KGgscy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmV2ZW50KTt2YXIgcD1mdW5jdGlvbihlKXt2YXIgaT10LnN0cmVhbUNlbnRlci5jaGVja1ByZXZpZXcoZSksbz1lO2lmKGkmJm5hdmlnYXRvci51c2VyQWdlbnQpe3ZhciBuPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvY3B1IGlwaG9uZSBvcyAoLio/KSBsaWtlIG1hYyBvcy8pO24mJm5bMV0mJm5bMV0uaW5jbHVkZXMoXCIxNV8xXCIpJiYobz10LmdldFN0cmVhbVRocm91Z2hDYW52YXMoZSksaS5sb2NhbFN0cmVhbT1vKX1pZigwPT1vLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoKXt2YXIgcz10LnN0cmVhbUNlbnRlci5hYy5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCksYT1zP3Muc3RyZWFtOm51bGwsYz1hP2EuZ2V0QXVkaW9UcmFja3MoKVswXTpudWxsO2MmJihjLmVuYWJsZWQ9ITEsby5hZGRUcmFjayhjKSxpJiYoaS5oYXNFbXB0eUF1ZGlvVHJhY2s9ITApKX10LmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KGgpLCF0LnN0YXRlQ2VudGVyLmRldmljZUluZm9zJiZ0LnJlY29yZERldmljZXMoKSxyKG8pLHQuc3RyZWFtQ2VudGVyLmFjdGl2ZVNvdW5kTGV2ZWwoKX0sZz1mdW5jdGlvbihlLHIpe3ZvaWQgMD09PXImJihyPVwiXCIpLHQuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKGgse2Vycm9yOmUuY29kZSxtZXNzYWdlOmUubWVzc2FnZStyfSksdC5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChoKSxjKHtjb2RlOmUuY29kZSxtc2c6ZS5tZXNzYWdlK3J9KX07aWYoXCJodHRwczpcIiE9PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmXCJmaWxlOlwiIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiYtMT09d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluZGV4T2YoXCIxMjcuMC4wLjFcIikmJi0xPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5kZXhPZihcImxvY2FsaG9zdFwiKSlyZXR1cm4gdC5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uQ1JFQVRFX1NUUkVBTStcIiBodHRwcyBvciBsb2NhbGhvc3QgcmVxdWlyZWQgXCIpLHZvaWQgZyh7Y29kZTpzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua0Jyb3dzZXJOb3RTdXBwb3J0RXJyb3IuY29kZSxtZXNzYWdlOnMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rQnJvd3Nlck5vdFN1cHBvcnRFcnJvci5tZXNzYWdlK1wiIGh0dHBzIG9yIGxvY2FsaG9zdCByZXF1aXJlZFwifSk7aWYoZSYmZS5zY3JlZW4pe2lmKHU9XCJzY3JlZW5cIiwhbC5XZWJSVENVdGlsLmNoZWNrU2NyZWVuUGFyYW1zKGUuc2NyZWVuLGcpKXJldHVybjt2YXIgZj10LnN0YXRlQ2VudGVyLmJyb3dzZXIsbT10LnN0cmVhbUNlbnRlci5nZXRTY3JlZW5Db25zdHJhaW5zKGUuc2NyZWVuKTt0LmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhoLHtzdHJlYW1fdHlwZTpzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uc3RyZWFtX3R5cGUoXCJzY3JlZW5cIiksc2NyZWVuOnMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5zY3JlZW4obSl9KTt2YXIgXz1mdW5jdGlvbihlKXt0LnN0cmVhbUNlbnRlci5jcmVhdGVTY3JlZW5QcmV2aWV3ZXIoZSxtKSYmcChlKSxlLmdldFZpZGVvVHJhY2tzKClbMF0ub25lbmRlZD1mdW5jdGlvbigpe3ZhciByPSgwLG4uZ2V0UmVwb3J0U2VxKSgpO3QuZGF0YVJlcG9ydC5uZXdSZXBvcnQociksdC5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChyLHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1NjcmVlblNoYXJpbmdFbmRlZCksZSYmdC5zdG9wUHJldmlldyhlKSx0LnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwic2NyZWVuU2hhcmluZ0VuZGVkXCIsZSl9fTtcImZpcmVmb3hcIj09Znx8XCJvYmplY3RcIj09dHlwZW9mIGUuc2NyZWVuJiZcImZpcmVmb3hcIj09ZS5zY3JlZW4udHlwZT90LnN0YXJ0U2NyZWVuU2hvdEZpckZveChcInNjcmVlblwiLG0sKGZ1bmN0aW9uKGUsdCxyKXtlP3QmJl8odCk6ciYmZyhyKX0pKTpcImNocm9tZVwiPT1mJiZkLlplZ29XZWJSVEMuc2NyZWVuU2hvdFJlYWR5fHxcIm9iamVjdFwiPT10eXBlb2YgZS5zY3JlZW4mJlwic2hvdFwiPT1lLnNjcmVlbi50eXBlP3Quc3RhcnRTY3JlZW5TaG90Q2hyb21lKChmdW5jdGlvbihyLGksbil7cj8odC5sb2dnZXIuaW5mbyhvLlpFR09fV0VCUlRDX0FDVElPTi5DUkVBVEVfU1RSRUFNK1wiIHVzaW5nIGV4dGVuc2lvblwiKSxpJiZfKGkpKToobiYmdC5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uQ1JFQVRFX1NUUkVBTStcIiBleHRlbnNpb24gXCIrbiksXCJTU19ESUFMT0dfQ0FOQ0VMXCI9PT1ufHxcIm9iamVjdFwiPT10eXBlb2YgZS5zY3JlZW4mJlwic2hvdFwiPT1lLnNjcmVlbi50eXBlP24mJmcocy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtTY3JlZW5DYW5jZWxFcnJvcik6dC5zdGFydFNjcmVlblNoYXJpbmcobSwoZnVuY3Rpb24oZSxyLGkpe2U/ciYmXyhyKToodC5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uQ1JFQVRFX1NUUkVBTStcIiBcIitpKSxpJiZnKGkpKX0pKSl9KSk6XCJFbGVjdHJvblwiPT1mfHxcIm9iamVjdFwiPT10eXBlb2YgZS5zY3JlZW4mJlwiRWxlY3Ryb25cIj09ZS5zY3JlZW4udHlwZT90LnN0YXJ0U2NyZWVuU2hvdEVsZWN0cm9uKG0sKGZ1bmN0aW9uKGUsdCxyKXtlP3QmJl8odCk6ciYmZyhyKX0pKTp0LnN0YXJ0U2NyZWVuU2hhcmluZyhtLChmdW5jdGlvbihlLHQscil7ZT90JiZfKHQpOnImJmcocil9KSl9ZWxzZXtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5jYW1lcmEmJnZvaWQgMCE9PWUuY2FtZXJhLnZpZGVvUXVhbGl0eSYmIWEuQ2xpZW50VXRpbC5jaGVja0ludGVnZXIoZS5jYW1lcmEudmlkZW9RdWFsaXR5KSlyZXR1cm4gdC5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uQ1JFQVRFX1NUUkVBTStcIiB2aWRlb1F1YWxpdHkgbXVzdCBiZSBpbnRlZ2VyIG51bWJlclwiKSx2b2lkIGcocy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtQYXJhbUVycm9yLFwiIHZpZGVvUXVhbGl0eSBtdXN0IGJlIGludGVnZXIgbnVtYmVyXCIpO2lmKGUmJmUuY2FtZXJhJiZlLmNhbWVyYS5hdWRpb0JpdHJhdGUpe2lmKCFhLkNsaWVudFV0aWwuY2hlY2tJbnRlZ2VyKGUuY2FtZXJhLmF1ZGlvQml0cmF0ZSkpcmV0dXJuIHQubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLkNSRUFURV9TVFJFQU0rXCIgYXVkaW9CaXRyYXRlIG11c3QgYmUgaW50ZWdlciBudW1iZXJcIiksdm9pZCBnKHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixcIiBhdWRpb0JpdHJhdGUgbXVzdCBiZSBpbnRlZ2VyIG51bWJlclwiKTtpZihlLmNhbWVyYS5hdWRpb0JpdHJhdGU8NilyZXR1cm4gdC5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uQ1JFQVRFX1NUUkVBTStcIiBhdWRpb0JpdHJhdGUgY2Fubm90IGxlc3MgNiBrYnBzXCIpLHZvaWQgZyhzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgYXVkaW9CaXRyYXRlIGNhbm5vdCBsZXNzIDYga2Jwc1wiKTtpZihlLmNhbWVyYS5hdWRpb0JpdHJhdGU+NTEwKXJldHVybiB0LmxvZ2dlci5lcnJvcihvLlpFR09fV0VCUlRDX0FDVElPTi5DUkVBVEVfU1RSRUFNK1wiIGF1ZGlvQml0cmF0ZSBjYW5ub3QgZ3JlYXRlciB0aGFuIDUxMCBrYnBzXCIpLHZvaWQgZyhzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgYXVkaW9CaXRyYXRlIGNhbm5vdCBncmVhdGVyIHRoYW4gNTEwIGticHNcIik7dC5zdGF0ZUNlbnRlci5hdWRpb0JpdFJhdGU9MWUzKmUuY2FtZXJhLmF1ZGlvQml0cmF0ZX1pZihlJiZlLmNhbWVyYSYmZS5jYW1lcmEuYml0UmF0ZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUuY2FtZXJhLmJpdFJhdGUpcmV0dXJuIHQubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLkNSRUFURV9TVFJFQU0rXCIgYml0cmF0ZSBtdXN0IGJlIGludGVnZXIgbnVtYmVyXCIpLHZvaWQgZyhzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgYml0cmF0ZSBtdXN0IGJlIGludGVnZXIgbnVtYmVyXCIpO2lmKGUuY2FtZXJhLmJpdFJhdGU+MTAyNDApcmV0dXJuIHQubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLkNSRUFURV9TVFJFQU0rXCIgYml0cmF0ZSBjYW5ub3QgZ3JlYXRlciB0aGFuIDEwIE1icHNcIiksdm9pZCBnKHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixcIiBiaXRyYXRlIGNhbm5vdCBncmVhdGVyIHRoYW4gMTAgTWJwc1wiKX1pZihlJiZlLmNhbWVyYSYmdm9pZCAwIT09ZS5jYW1lcmEuY2hhbm5lbENvdW50JiYhYS5DbGllbnRVdGlsLmNoZWNrSW50ZWdlcihlLmNhbWVyYS5jaGFubmVsQ291bnQpKXJldHVybiB0LmxvZ2dlci5lcnJvcihvLlpFR09fV0VCUlRDX0FDVElPTi5DUkVBVEVfU1RSRUFNK1wiIGNoYW5uZWxDb3VudCBtdXN0IGJlIGludGVnZXIgbnVtYmVyXCIpLHZvaWQgZyhzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgY2hhbm5lbENvdW50IG11c3QgYmUgaW50ZWdlciBudW1iZXJcIik7aWYoZSYmZS5jYW1lcmEmJjQ9PT1lLmNhbWVyYS52aWRlb1F1YWxpdHkmJiFsLldlYlJUQ1V0aWwuY2hlY2tDYW1lcmFQYXJhbXMoZS5jYW1lcmEsZykpcmV0dXJuO2lmKGUmJmUuY3VzdG9tJiZlLmN1c3RvbS5iaXRSYXRlKXtpZighYS5DbGllbnRVdGlsLmNoZWNrSW50ZWdlcihlLmN1c3RvbS5iaXRSYXRlKSlyZXR1cm4gdC5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uQ1JFQVRFX1NUUkVBTStcIiBiaXRyYXRlIG11c3QgYmUgaW50ZWdlciBudW1iZXJcIiksdm9pZCBnKHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixcIiBiaXRyYXRlIG11c3QgYmUgaW50ZWdlciBudW1iZXJcIik7aWYoZS5jdXN0b20uYml0UmF0ZT4xMDI0MClyZXR1cm4gdC5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uQ1JFQVRFX1NUUkVBTStcIiBiaXRyYXRlIGNhbm5vdCBncmVhdGVyIHRoYW4gMTAgTWJwc1wiKSx2b2lkIGcocy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtQYXJhbUVycm9yLFwiIGJpdHJhdGUgY2Fubm90IGdyZWF0ZXIgdGhhbiAxMCBNYnBzXCIpfWlmKGUmJmUuY3VzdG9tJiZlLmN1c3RvbS5hdWRpb0JpdHJhdGUpe2lmKCFhLkNsaWVudFV0aWwuY2hlY2tJbnRlZ2VyKGUuY3VzdG9tLmF1ZGlvQml0cmF0ZSkpcmV0dXJuIHQubG9nZ2VyLmVycm9yKFwiemUuY3MuMCBhdWRpb0JpdHJhdGUgbXVzdCBiZSBpbnRlZ2VyIG51bWJlclwiKSx2b2lkIGcocy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtQYXJhbUVycm9yLFwiIGF1ZGlvQml0cmF0ZSBtdXN0IGJlIGludGVnZXIgbnVtYmVyXCIpO2lmKGUuY3VzdG9tLmF1ZGlvQml0cmF0ZTw2KXJldHVybiB0LmxvZ2dlci5lcnJvcihcInplLmNzLjAgYXVkaW9CaXRyYXRlIGNhbm5vdCBsZXNzIDYga2Jwc1wiKSx2b2lkIGcocy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtQYXJhbUVycm9yLFwiIGF1ZGlvQml0cmF0ZSBjYW5ub3QgbGVzcyA2IGticHNcIik7aWYoZS5jdXN0b20uYXVkaW9CaXRyYXRlPjUxMClyZXR1cm4gdC5sb2dnZXIuZXJyb3IoXCJ6ZS5jcy4wIGF1ZGlvQml0cmF0ZSBjYW5ub3QgZ3JlYXRlciB0aGFuIDUxMCBrYnBzXCIpLHZvaWQgZyhzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1BhcmFtRXJyb3IsXCIgYXVkaW9CaXRyYXRlIGNhbm5vdCBncmVhdGVyIHRoYW4gNTEwIGticHNcIil9aWYoZSYmZS5jdXN0b20mJnZvaWQgMCE9PWUuY3VzdG9tLmNoYW5uZWxDb3VudCYmMSE9PWUuY3VzdG9tLmNoYW5uZWxDb3VudCYmMiE9PWUuY3VzdG9tLmNoYW5uZWxDb3VudClyZXR1cm4gdC5sb2dnZXIuZXJyb3IoXCJ6ZS5jcy4wIGNoYW5uZWxDb3VudCBtdXN0IG51bWJlciAxIG9yIDJcIiksdm9pZCBnKHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rUGFyYW1FcnJvcixcIiBjaGFubmVsQ291bnQgbXVzdCBudW1iZXIgMSBvciAyXCIpO3ZhciB2PXt9O2lmKGUmJmUuY2FtZXJhKXU9XCJjYW1lcmFcIix2PWUuY2FtZXJhLHQuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKGgse3N0cmVhbV90eXBlOnMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5zdHJlYW1fdHlwZShcImNhbWVyYVwiKSxjYW1lcmE6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmNhbWVyYShlLmNhbWVyYSl9KSxcImJvb2xlYW5cIiE9dHlwZW9mIHYudmlkZW8mJih2LnZpZGVvPSEwKSxcImJvb2xlYW5cIiE9dHlwZW9mIHYuYXVkaW8mJih2LmF1ZGlvPSEwKTtlbHNlIGlmKGUmJmUuY3VzdG9tKXt1PVwiY3VzdG9tXCIsdj1lLmN1c3RvbTt2YXIgRT1lLmN1c3RvbS5zb3VyY2UgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbT9cIk1lZGlhU3RyZWFtXCI6XCJIVE1MRWxlbWVudFwiO3QuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKGgse3N0cmVhbV90eXBlOnMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5zdHJlYW1fdHlwZShcImN1c3RvbVwiKSxjdXN0b206cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmN1c3RvbShpKGkoe30sZS5jdXN0b20pLHtzb3VyY2U6RX0pKX0pfXQuc3RhcnRQcmV2aWV3KHYsdSxwLGcpfX0pKX0sZS5wcm90b3R5cGUuZGVzdHJveVN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKG8uWkVHT19XRUJSVENfQUNUSU9OLkRFU1RST1lfU1RSRUFNK1wiIGNhbGxcIik7dmFyIHQ9KDAsbi5nZXRSZXBvcnRTZXEpKCk7aWYodGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydCh0KSwhKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSkpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLkRFU1RST1lfU1RSRUFNK1wiIGxvY2FsU3RyZWFtIGlzIG5vdCBtZWRpYVN0cmVhbSBvciB0cmFja3MgaXMgbnVsbFwiKSx0aGlzLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyh0LHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0Rlc3Ryb3lTdHJlYW0uZXJyb3Iua0xvY2FsU3RyZWFtRXJyb3IpLHZvaWQgdGhpcy5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydCh0LHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0Rlc3Ryb3lTdHJlYW0uZXZlbnQpO2UgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSYmMD09ZS5nZXRUcmFja3MoKS5sZW5ndGgmJnRoaXMubG9nZ2VyLmluZm8oby5aRUdPX1dFQlJUQ19BQ1RJT04uREVTVFJPWV9TVFJFQU0rXCIgdHJhY2tzIGlzIG51bGxcIiksdGhpcy5zdG9wUHJldmlldyhlKSx0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHQscy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrRGVzdHJveVN0cmVhbS5ldmVudCl9LGUucHJvdG90eXBlLnN0YXJ0UHVibGlzaGluZ1N0cmVhbT1mdW5jdGlvbihlLHQscixpKXt0aGlzLmxvZ2dlci5pbmZvKG8uWkVHT19XRUJSVENfQUNUSU9OLlNUQVJUX1BVQkxJU0hJTkdfU1RSRUFNK1wiIGNhbGwgXCIsZSk7dmFyIGMsdT0hMCxkPVwiXCIsbD0oMCxuLmdldFJlcG9ydFNlcSkoKTt0aGlzLnN0YXRlQ2VudGVyLnJlcG9ydFNlcUxpc3Quc3RhcnRQdWJsaXNoW2VdPWwsdGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChsLHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5ldmVudCk7dmFyIGg9cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLHA9aC5rUHVibGlzaFBhcmFtRXJyb3I7dSYmdm9pZCAwPT09ZSYmKHRoaXMubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLlNUQVJUX1BVQkxJU0hJTkdfU1RSRUFNKyhkPVwic3RyZWFtIGlkIHJlcXVpcmVkXCIpKSx1PSExLGM9cCksIXV8fGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlfHwodGhpcy5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfUFVCTElTSElOR19TVFJFQU0rXCIgXCIrKGQ9XCJzdHJlYW0gaWQgdHlwZSB3cm9uZ1wiKSksdT0hMSxjPXApLHUmJmUubGVuZ3RoPm4uTUFYX1NUUkVBTV9JRF9MRU5HVEgmJih0aGlzLmxvZ2dlci5lcnJvcihvLlpFR09fV0VCUlRDX0FDVElPTi5TVEFSVF9QVUJMSVNISU5HX1NUUkVBTStcIiBcIisoZD1cInN0cmVhbSBpZCBsZW5ndGggbGltaXRcIikpLHU9ITEsYz1wKSx1JiYhYS5DbGllbnRVdGlsLmNoZWNrSWxsZWdhbENoYXJhY3RlcnMoZSkmJih0aGlzLmxvZ2dlci5lcnJvcihvLlpFR09fV0VCUlRDX0FDVElPTi5TVEFSVF9QVUJMSVNISU5HX1NUUkVBTStcIiBcIisoZD1cInN0cmVhbSBJRCBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnNcIikpLHU9ITEsYz1wKSx1JiYoIXR8fHQgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSYmMD09dC5nZXRUcmFja3MoKS5sZW5ndGgpJiYodGhpcy5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfUFVCTElTSElOR19TVFJFQU0rXCIgXCIrKGQ9XCJsb2NhbFN0cmVhbSB3cm9uZ1wiKSksdT0hMSxjPXApO3ZhciBnPXRoaXMuc3RyZWFtQ2VudGVyLmNoZWNrUHJldmlldyh0KTtpZih1JiYhZyYmKHRoaXMubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLlNUQVJUX1BVQkxJU0hJTkdfU1RSRUFNK1wiIFwiKyhkPVwic3RyZWFtIGlzIG5vdCBmcm9tIHplZ29cIikpLHU9ITEsYz1oLmtQdWJsaXNoTm9QcmV2aWV3RXJyb3IpLChudWxsPT1nP3ZvaWQgMDpnLmlzVmlkZW9FZmZlY3RTdGFydGluZykmJih0aGlzLmxvZ2dlci5lcnJvcihvLlpFR09fV0VCUlRDX0FDVElPTi5TVEFSVF9QVUJMSVNISU5HX1NUUkVBTStcIiBcIisoZD0oYz1oLmtQdWJsaXNoRWZmZWN0SXNTdGFydGluZykubWVzc2FnZSkpLHU9ITEpLHUmJnZvaWQgMCE9PXImJlwib2JqZWN0XCIhPXR5cGVvZiByJiYodT0hMSxjPXAsZD1cInB1Ymxpc2hPcHRpb24gbXVzdCBiZSBvYmplY3RcIiksdSYmdm9pZCAwIT09ciYmdm9pZCAwIT09ci5zdHJlYW1QYXJhbXMmJlwic3RyaW5nXCIhPXR5cGVvZiByLnN0cmVhbVBhcmFtcyYmKHRoaXMubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLlNUQVJUX1BVQkxJU0hJTkdfU1RSRUFNK1wiIHB1Ymxpc2hPcHRpb24gc3RyZWFtUGFyYW1zIG11c3QgYmUgc3RyaW5nXCIpLHU9ITEsYz1wLGQ9XCIgcHVibGlzaE9wdGlvbiBzdHJlYW1QYXJhbXMgbXVzdCBiZSBzdHJpbmdcIiksdSYmdm9pZCAwIT09ciYmdm9pZCAwIT09ci5leHRyYUluZm8mJlwic3RyaW5nXCIhPXR5cGVvZiByLmV4dHJhSW5mbyYmKHRoaXMubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLlNUQVJUX1BVQkxJU0hJTkdfU1RSRUFNK1wiIHB1Ymxpc2hPcHRpb24gZXh0cmFJbmZvIG11c3QgYmUgc3RyaW5nXCIpLHU9ITEsYz1wLGQ9XCIgcHVibGlzaE9wdGlvbiBleHRyYUluZm8gbXVzdCBiZSBzdHJpbmdcIiksdSYmdm9pZCAwIT09ciYmdm9pZCAwIT09ci52aWRlb0NvZGVjJiZcInN0cmluZ1wiIT10eXBlb2Ygci52aWRlb0NvZGVjJiYodGhpcy5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfUFVCTElTSElOR19TVFJFQU0rXCIgcHVibGlzaE9wdGlvbiB2aWRlb0NvZGVjIG11c3QgYmUgc3RyaW5nXCIpLHU9ITEsYz1wLGQ9XCIgcHVibGlzaE9wdGlvbiB2aWRlb0NvZGVjIG11c3QgYmUgc3RyaW5nXCIpLCF1fHwhdGhpcy5zdGF0ZUNlbnRlci5pc011bHRpUm9vbXx8ciYmXCJzdHJpbmdcIj09dHlwZW9mIHIucm9vbUlEJiZcIlwiIT1yLnJvb21JRHx8KHU9ITEsYz1wLGQ9XCIgcm9vbUlEIGlzIG5lZWQgaWYgc2V0IG11bHRpIHJvb21cIiksciYmci52aWRlb0NvZGVjJiYoci52aWRlb0NvZGVjPXIudmlkZW9Db2RlYy50b1VwcGVyQ2FzZSgpKSx1JiYodGhpcy5zdGF0ZUNlbnRlci53YWl0UHVibGlzaFN0cmVhbUxpc3RbZV09e3JldHJ5U3RhcnQ6ITEsbG9jYWxTdHJlYW06dCxwdWJsaXNoT3B0aW9uOnIsaXNEYXRhQ2hhbm5lbDppfSksdSYmdGhpcy5ydG0uaXNEaXNDb25uZWN0KCkpe2lmKHRoaXMuc3RhdGVDZW50ZXIuY29ubmVjdENoYW5nZWQpcmV0dXJuIHRoaXMuc3RhdGVDZW50ZXIud2FpdFB1Ymxpc2hTdHJlYW1MaXN0W2VdLnJldHJ5U3RhcnQ9ITAsdGhpcy5sb2dnZXIuaW5mbyhvLlpFR09fV0VCUlRDX0FDVElPTi5TVEFSVF9QVUJMSVNISU5HX1NUUkVBTStcIiBjb25uZWN0IGNoYW5nZWRcIiksITE7dGhpcy5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uU1RBUlRfUFVCTElTSElOR19TVFJFQU0rXCIgbm90IGxvZ2luXCIpLHU9ITEsYz1oLmtQdWJsaXNoTm9Mb2dpbkVycm9yfWlmKCF1KXRocm93IHRoaXMubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLlNUQVJUX1BVQkxJU0hJTkdfU1RSRUFNK1wiIFwiK2QpLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobCx2b2lkIDAsYyxkKSxkZWxldGUgdGhpcy5zdGF0ZUNlbnRlci5yZXBvcnRTZXFMaXN0LnN0YXJ0UHVibGlzaFtlXSx7ZXJyb3JDb2RlOm51bGw9PWM/dm9pZCAwOmMuY29kZSxleHRlbmRlZERhdGE6ZH07cnx8KHI9e30pLHRoaXMuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKGwse3N0cmVhbTpzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuc3RyZWFtKGUpLHB1Ymxpc2hPcHRpb246cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LnB1Ymxpc2hPcHRpb24ociksdXNlX25hOnRoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQ/MTowfSksci5hdWRpb0JpdFJhdGU9dGhpcy5zdGF0ZUNlbnRlci5hdWRpb0JpdFJhdGU7dmFyIGYsbT1yLnJvb21JRD9yLnJvb21JRDp0aGlzLnN0YXRlQ2VudGVyLnJvb21MaXN0WzBdP3RoaXMuc3RhdGVDZW50ZXIucm9vbUxpc3RbMF0ucm9vbUlEOlwiXCIsXz10aGlzLnN0YXRlQ2VudGVyLmdldFJvb21CeVJvb21JRChtKTtpZighXylyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5wLnNwcy4xIHJvb20gbm8gZm91bmRcIiksITE7aWYodGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obCx7cHVibGlzaF9yb29tX2lkOm0saXNNdWx0aTp0aGlzLnN0YXRlQ2VudGVyLmlzTXVsdGlSb29tfSksdGhpcy5zdGF0ZUNlbnRlci5jdXN0b21VcmwmJjAhPXRoaXMuc3RhdGVDZW50ZXIuY3VzdG9tVXJsLmxlbmd0aCl0aGlzLmxvZ2dlci5pbmZvKFwiemMucC5zcHMuMSBjdXN0b21VcmwgXCIrSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZUNlbnRlci5jdXN0b21VcmwpKSxmPXRoaXMuc3RhdGVDZW50ZXIuY3VzdG9tVXJsO2Vsc2V7dmFyIHY9dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJzaWduYWxfbm9kZXNcIiwhMCk7diYmdiBpbnN0YW5jZW9mIEFycmF5JiZ2Lmxlbmd0aD4wJiYoZj12LHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy5wLnNwcy4xIHNldHRpbmcgY29uZmlnIHNpZ25hbF9ub2RlcyBcIitKU09OLnN0cmluZ2lmeSh2KSkpfWlmKGYpcmV0dXJuIHRoaXMuc3RhdGVDZW50ZXIucHVibGlzaFN0cmVhbUxpc3RbZV09e3N0YXRlOm4uRU5VTV9QVUJMSVNIX1NUUkVBTV9TVEFURS50cnlQdWJsaXNoLGV4dHJhX2luZm86ci5leHRyYUluZm99LHRoaXMuc3RyZWFtQ2VudGVyLnNldFB1Ymxpc2hTdGF0ZVN0YXJ0KF8sZSx0LHIsaSk/KF8uc3RyZWFtSGFuZGxlci5vblB1Ymxpc2hTdGF0ZVVwZGF0ZShuLkVOVU1fUFVCTElTSF9TVEFURV9VUERBVEUucmV0cnksZSx7Y29kZTowLG1lc3NhZ2U6XCJcIn0pLHRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbZV0uc2VydmVyVXJscz1mLHRoaXMuc3RyZWFtQ2VudGVyLnN0YXJ0UHVibGlzaGluZ1N0cmVhbShlKSk6KHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy5wLnNwcy4xIGNhbm5vdCBzdGFydCBwdWJsaXNoXCIpLCExKTtpZighdGhpcy5zdHJlYW1DZW50ZXIuc2V0UHVibGlzaFN0YXRlU3RhcnQoXyxlLHQscixpKSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5wLnNwcy4xIGNhbm5vdCBzdGFydCBwdWJsaXNoXCIpLCExO3RoaXMuc3RhdGVDZW50ZXIucHVibGlzaFN0cmVhbUxpc3RbZV09e3N0YXRlOm4uRU5VTV9QVUJMSVNIX1NUUkVBTV9TVEFURS50cnlQdWJsaXNoLGV4dHJhX2luZm86ci5leHRyYUluZm99LHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy5wLnNwcy4xIHN0YXJ0IHB1Ymxpc2hcIiksXy5zdHJlYW1IYW5kbGVyLm9uUHVibGlzaFN0YXRlVXBkYXRlKG4uRU5VTV9QVUJMSVNIX1NUQVRFX1VQREFURS5yZXRyeSxlLHtjb2RlOjAsbWVzc2FnZTpcIlwifSk7dmFyIEU9dGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudCxTPXRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbZV07aWYoRSlyZXR1cm4gdGhpcy5zdGF0ZUNlbnRlci5hcHBDb25maWc/KHRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbZV0uc2VydmVyVXJscz1bXCJ1bmlmaWVkX3J0Y1wiXSx0aGlzLnN0cmVhbUNlbnRlci5zdGFydFB1Ymxpc2hpbmdTdHJlYW0oZSxFKSwhMCk6KHRoaXMuc3RyZWFtQ2VudGVyLndhaXRQdWJsaXNoTGlzdC5wdXNoKGUpLCEwKTt2YXIgVD1TLnJldHJ5RGlzcGF0Y2hIYW5kbGVyO3JldHVybiBULnN0b3BNYXhUaW1lKCksVC5pbnZhbGlkKCksVC5pbml0U3RyZWFtKGUsciwhMCksVC5zdGFydE1heFRpbWUoKSxULmFjdGl2ZSgwKX0sZS5wcm90b3R5cGUuYWN0aXZhdGVTRUlJbnNlcnQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0wKSwhMX0sZS5wcm90b3R5cGUuc2VuZFNFST1mdW5jdGlvbihlLHQpe2lmKCFhLkNsaWVudFV0aWwuaXNTdXBwb3J0RW5jb2RlZFRyYW5zZm9ybXMoKSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihvLlpFR09fV0VCUlRDX0FDVElPTi5TRU5EX01FRElBX1NJREVfSU5GTytcIiBicm93c2VyIG5vdCBzdXBwb3J0IFwiKSwhMTtpZighKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3Ioby5aRUdPX1dFQlJUQ19BQ1RJT04uU0VORF9NRURJQV9TSURFX0lORk8rXCIgaW5EYXRhIHJlcXVpcmVkIFVpbnQ4QXJyYXlcIiksITE7aWYodC5ieXRlTGVuZ3RoPjQwOTYpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLlNFTkRfTUVESUFfU0lERV9JTkZPK1wiIGluRGF0YSBsZW5ndGggbGltaXRcIiksITE7dmFyIHI9dGhpcy5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdFtlXTtyZXR1cm4gciYmci5wdWJsaXNoZXI/ci5wdWJsaXNoZXIuc2VuZFNFSSh0KToodGhpcy5sb2dnZXIud2FybihvLlpFR09fV0VCUlRDX0FDVElPTi5TRU5EX01FRElBX1NJREVfSU5GTytcIiBwdWJsaXNoIG5vdCBleGlzdFwiKSwhMSl9LGUucHJvdG90eXBlLnN0b3BQdWJsaXNoaW5nU3RyZWFtPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxhO3RoaXMubG9nZ2VyLmluZm8oby5aRUdPX1dFQlJUQ19BQ1RJT04uU1RPUF9QVUJMSVNISU5HX1NUUkVBTStcIiBjYWxsIFwiLGUrKHQ/dC50b1N0cmluZygpOlwiXCIpK1wiIFwiK3IpO3ZhciBjPSgwLG4uZ2V0UmVwb3J0U2VxKSgpO2lmKHRoaXMuc3RhdGVDZW50ZXIucmVwb3J0U2VxTGlzdC5zdG9wUHVibGlzaFtlXT1jLHRoaXMuZGF0YVJlcG9ydC5uZXdSZXBvcnQoYyxzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RvcC5ldmVudCksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8oYyx7c3RyZWFtSUQ6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0b3Auc3RyZWFtKGUpfSksXCJzdHJpbmdcIiE9dHlwZW9mIGV8fFwiXCI9PWUpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLlNUT1BfUFVCTElTSElOR19TVFJFQU0rXCIgc3RyZWFtSUQgbXVzdCBiZSBzdHJpbmcgYW5kIG5vdCBlbXB0eVwiKSx0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KGMsdm9pZCAwLHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdG9wLmVycm9yLmtQYXJhbUVycm9yLFwic3RyZWFtIGlkIHR5cGUgZXJyb3JcIiksZGVsZXRlIHRoaXMuc3RhdGVDZW50ZXIucmVwb3J0U2VxTGlzdC5zdG9wUHVibGlzaFtlXSwhMTt2YXIgdT10aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W2VdLGQ9dGhpcy5zdHJlYW1DZW50ZXIuZ2V0Um9vbUJ5U3RyZWFtSUQoZSksbD11JiZ1LnB1Ymxpc2hlciYmdS5wdWJsaXNoZXIuc3RhdGUhPT1uLkVOVU1fUFVCTElTSF9TVEFURS5zdG9wfHwobnVsbD09PShpPW51bGw9PXU/dm9pZCAwOnUucmV0cnlTdHJlYW1IYW5kbGVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pc1JldHJ5aW5nKCkpO2lmKHRoaXMuc3RyZWFtQ2VudGVyLnN0b3BQdWJsaXNoaW5nU3RyZWFtKGUpLHImJmRlbGV0ZSB0aGlzLnN0YXRlQ2VudGVyLndhaXRQdWJsaXNoU3RyZWFtTGlzdFtlXSx0aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W2VdKXtpZih0aGlzLnN0YXRlQ2VudGVyLnB1Ymxpc2hTdHJlYW1MaXN0W2VdLnN0YXRlPj1uLkVOVU1fUFVCTElTSF9TVFJFQU1fU1RBVEUudXBkYXRlX2luZm8mJmQpe2lmKCF0fHwxMTAyMDE4IT09dC5jb2RlKWQuc3RyZWFtSGFuZGxlci51cGRhdGVTdHJlYW1JbmZvKGUsbi5FTlVNX1NUUkVBTV9TVUJfQ01ELmxpdmVFbmQpO2Zvcih2YXIgaD0wO2g8ZC5zdHJlYW1MaXN0Lmxlbmd0aDtoKyspaWYoZC5zdHJlYW1MaXN0W2hdLnN0cmVhbV9pZD09ZSl7IXRoaXMuc3RhdGVDZW50ZXIuY29ubmVjdENoYW5nZWQmJmQuc3RyZWFtTGlzdC5zcGxpY2UoaC0tLDEpO2JyZWFrfX1kZWxldGUgdGhpcy5zdGF0ZUNlbnRlci5wdWJsaXNoU3RyZWFtTGlzdFtlXX1yZXR1cm4gdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8oYyx7c2Vzc2lvbl9pZDpudWxsPT09KGE9bnVsbD09dT92b2lkIDA6dS5wdWJsaXNoZXIpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnNlc3Npb25JZH0pLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoYyksZCYmbCYmZC5zdHJlYW1IYW5kbGVyLm9uUHVibGlzaFN0YXRlVXBkYXRlKG4uRU5VTV9QVUJMSVNIX1NUQVRFX1VQREFURS5lcnJvcixlLHR8fHtjb2RlOjAsbWVzc2FnZTpcIlwifSksITB9LGUucHJvdG90eXBlLnNldENhcHR1cmVWb2x1bWU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSl7dmFyIG47ci5sb2dnZXIuaW5mbyhvLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIX1NFVF9DQVBUVVJFX1ZPTFVNRStcIiBjYWxsXCIpO3ZhciBhPWZ1bmN0aW9uKGUpe3IubG9nZ2VyLmVycm9yKG8uWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hfU0VUX0NBUFRVUkVfVk9MVU1FK1wiIFwiK2UpLGkoe2Vycm9yQ29kZTpzLlplZ29SVENMb2dFdmVudC5rWmVnb1NldENhcHR1cmVWb2x1bWUuZXJyb3Iua1BhcmFtRXJyb3IuY29kZSxleHRlbmRlZERhdGE6SlNPTi5zdHJpbmdpZnkoe2ZhaWxfcmVhc29uOnMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvU2V0Q2FwdHVyZVZvbHVtZS5lcnJvci5rUGFyYW1FcnJvci5tZXNzYWdlK1wiIFwiK2V9KX0pfSxjPXIuc3RyZWFtQ2VudGVyLmFjLHU9ci5zdHJlYW1DZW50ZXIuY2hlY2tQcmV2aWV3KGUpO2lmKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSYmdSlpZigwIT1lLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoKWlmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDB8fHQ+MjAwKWEoXCIgdm9sdW1lIG11c3QgYmUgbnVtYmVyIGJldHdlZW4gMCB0byAyMDBcIik7ZWxzZXtpZih1LmdhaW5Ob2RlKXUuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT10LzEwMDtlbHNle3UuYXVkaW9Ob2RlUXVldWV8fHUuaW5pdEF1ZGlvTm9kZVF1ZXVlKCk7dmFyIGQ9Yy5jcmVhdGVHYWluKCk7bnVsbD09PShuPXUuYXVkaW9Ob2RlUXVldWUpfHx2b2lkIDA9PT1ufHxuLnB1c2hGcm9udChkKSx1LmdhaW5Ob2RlPWQsdS5nYWluTm9kZS5nYWluLnZhbHVlPXQvMTAwfWMucmVzdW1lKCksaSh7ZXJyb3JDb2RlOjAsZXh0ZW5kZWREYXRhOlwiXCJ9KSxyLmxvZ2dlci5pbmZvKG8uWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hfU0VUX0NBUFRVUkVfVk9MVU1FK1wiIGNhbGwgc3VjY2Vzc1wiKX1lbHNlIGEoXCIgc3RyZWFtIGF1ZGlvVHJhY2sgbm8gZm91bmRcIik7ZWxzZSBhKFwiIHN0cmVhbSBtdXN0IGJlIGNyZWF0ZWQgYnkgemVnb1wiKX0pKX0sZS5wcm90b3R5cGUuZ2V0RWxlY3Ryb25TY3JlZW5Tb3VyY2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQscil7dmFyIGk9d2luZG93LnJlcXVpcmUoXCJlbGVjdHJvblwiKTtpfHwoZS5sb2dnZXIuZXJyb3IoXCJ6Yy5nZXNzLjAgRWxlY3Ryb24gaXMgbm90IGV4aXN0XCIpLHIoe21lc3NhZ2U6XCJFbGVjdHJvbiBpcyBub3QgZXhpc3RcIn0pKSxpLmRlc2t0b3BDYXB0dXJlci5nZXRTb3VyY2VzKHt0eXBlczpbXCJ3aW5kb3dcIixcInNjcmVlblwiXX0pLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciByPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm57aWQ6ZS5pZCxuYW1lOmUubmFtZSx0aHVtYm5haWw6ZS50aHVtYm5haWx9fSkpO3Qocil9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2UubG9nZ2VyLmVycm9yKFwiemMuZ2Vzcy4wIFwiK3QpLHIodCl9KSl9KSl9LGUucHJvdG90eXBlLnN0YXJ0U2NyZWVuU2hvdENocm9tZT1mdW5jdGlvbihlKXtpZihkLlplZ29XZWJSVEMuc2NyZWVuU2hvdFJlYWR5KXdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZTpcIlNTX1VJX1JFUVVFU1RcIix0ZXh0Olwic3RhcnRcIn0sXCIqXCIpLGEuQ2xpZW50VXRpbC5yZWdpc3RlckNhbGxiYWNrKFwic2NyZWVuU2hhcmVcIix7c3VjY2VzczplfSx0aGlzLnN0YXRlQ2VudGVyLmNhbGxiYWNrTGlzdCk7ZWxzZXt2YXIgdD0nemMuYi5zcyBQbGVhc2UgaW5zdGFsbCB0aGUgZXh0ZW5zaW9uOjEuIEdvIHRvIGNocm9tZTovL2V4dGVuc2lvbnMgIDIuIENoZWNrOiBcIkVuYWJsZSBEZXZlbG9wZXIgbW9kZSAgIDMuIENsaWNrOiBcIkxvYWQgdGhlIHVucGFja2VkIGV4dGVuc2lvbi4uLiA0LiBDaG9vc2UgXCJleHRlbnNpb25cIiBmb2xkZXIgZnJvbSB0aGUgcmVwb3NpdG9yeSA1LiBSZWxvYWQgdGhpcyBwYWdlJzt0aGlzLmxvZ2dlci5lcnJvcih0KSxlKCExLG51bGwse2NvZGU6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtTY3JlZW5GYWlsZWRFcnJvci5jb2RlLG1lc3NhZ2U6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtTY3JlZW5GYWlsZWRFcnJvci5tZXNzYWdlK1wiIFwiK3R9KX19LGUucHJvdG90eXBlLnN0YXJ0U2NyZWVuU2hhcmluZz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7XCJnZXREaXNwbGF5TWVkaWFcImluIG5hdmlnYXRvci5tZWRpYURldmljZXM/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoe2F1ZGlvOmUuYXVkaW8sdmlkZW86ZS52aWRlb30pLnRoZW4oKGZ1bmN0aW9uKGUpe3QoITAsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IubG9nZ2VyLmVycm9yKFwiemMuYi5zc3MgXCIrZSksZS5tZXNzYWdlJiZcInBlcm1pc3Npb24gZGVuaWVkXCI9PWUubWVzc2FnZS50b0xvd2VyQ2FzZSgpP3QoITEsbnVsbCxzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1NjcmVlbkNhbmNlbEVycm9yKTp0KCExLG51bGwse2NvZGU6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtTY3JlZW5GYWlsZWRFcnJvci5jb2RlLG1lc3NhZ2U6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtTY3JlZW5GYWlsZWRFcnJvci5tZXNzYWdlK1wiIFwiK2V9KX0pKToodGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yy5iLnNzcyBicm93ZXIgZG9lcyBub3Qgc3VwcG9ydCBnZXREaXNwbGF5TWVkaWFcIiksdCghMSxudWxsLHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rQnJvd3Nlck5vdFN1cHBvcnRFcnJvcikpfSxlLnByb3RvdHlwZS5zdGFydFNjcmVlblNob3RGaXJGb3g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXMsbj17dmlkZW86aShpKHt9LHQudmlkZW8pLHttZWRpYVNvdXJjZTplfSksYXVkaW86dC5hdWRpb307bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEobikudGhlbigoZnVuY3Rpb24oZSl7cighMCxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7by5sb2dnZXIuZXJyb3IoXCJ6ZS5zc2YuMSBcIitlKSxyKCExLG51bGwse2NvZGU6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtTY3JlZW5GYWlsZWRFcnJvci5jb2RlLG1lc3NhZ2U6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtTY3JlZW5GYWlsZWRFcnJvci5tZXNzYWdlK1wiIFwiK2V9KX0pKX0sZS5wcm90b3R5cGUuc3RhcnRTY3JlZW5TaG90RWxlY3Ryb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCF3aW5kb3cucmVxdWlyZShcImVsZWN0cm9uXCIpKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInplLnNzZS4xIEVsZWN0cm9uIGlzIG5vdCBleGlzdFwiKSx2b2lkIHQoITEsbnVsbCx7Y29kZTpzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1NjcmVlbkZhaWxlZEVycm9yLmNvZGUsbWVzc2FnZTpzLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua1NjcmVlbkZhaWxlZEVycm9yLm1lc3NhZ2UrXCIgRWxlY3Ryb24gaXMgbm90IGV4aXN0XCJ9KTt2YXIgaT17dmlkZW86e21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsY2hyb21lTWVkaWFTb3VyY2VJZDplLnNvdXJjZUlELG1heFdpZHRoOndpbmRvdy5zY3JlZW4ud2lkdGgsbWF4SGVpZ2h0OndpbmRvdy5zY3JlZW4uaGVpZ2h0fX0sYXVkaW86ITF9O25hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGkpLnRoZW4oKGZ1bmN0aW9uKGUpe3QoITAsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IubG9nZ2VyLmVycm9yKFwiemUuc3NlLjEgXCIrZSksdCghMSxudWxsLHtjb2RlOnMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rU2NyZWVuRmFpbGVkRXJyb3IuY29kZSxtZXNzYWdlOnMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rU2NyZWVuRmFpbGVkRXJyb3IubWVzc2FnZStcIiBcIitlfSl9KSl9LGUucHJvdG90eXBlLnN0YXJ0UHJldmlldz1mdW5jdGlvbihlLHQscixpKXt2YXIgbz10aGlzLG49bnVsbDtyZXR1cm4gbj1uZXcgdS5aZWdvUHJldmlldyh0aGlzLmxvZ2dlcix0aGlzLnN0cmVhbUNlbnRlci5hYyx0aGlzLnN0YXRlQ2VudGVyLHRoaXMuc3RyZWFtQ2VudGVyLHQpLHRoaXMuc3RyZWFtQ2VudGVyLnByZXZpZXdTdHJlYW1MaXN0LnB1c2gobiksbi5zdGFydFByZXZpZXcoZSwoZnVuY3Rpb24oaSl7by5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiYobnVsbD09bnx8bi5zdGFydFNvdW5kTGV2ZWwoKSksXCJjYW1lcmFcIj09PXQmJighMT09PShudWxsPT1lP3ZvaWQgMDplLmF1ZGlvKSYmbiYmKG4uaGFzTWljVHJhY2s9ITEpLChudWxsPT1uP3ZvaWQgMDpuLm1pY1RyYWNrKSYmKG4ubWljVHJhY2suZW5hYmxlZD1vLnN0cmVhbUNlbnRlci5pc01pY0VuYWJsZWQpKSwobnVsbD09ZT92b2lkIDA6ZS52aWRlb09wdGltaXphdGlvbk1vZGUpJiZvLnN0cmVhbUNlbnRlci5zZXRWaWRlb1RyYWNrQ29udGVudEhpbnQoaSxudWxsPT1lP3ZvaWQgMDplLnZpZGVvT3B0aW1pemF0aW9uTW9kZSksby5sb2dnZXIuZGVidWcoXCJ6c2Muc3AuMCBjYWxsIHN1Y2Nlc3NcIiksIW8uc3RhdGVDZW50ZXIuZGV2aWNlSW5mb3MmJm8ucmVjb3JkRGV2aWNlcygpLHImJnIoaSl9KSwoZnVuY3Rpb24oZSl7by5zdHJlYW1DZW50ZXIucHJldmlld1N0cmVhbUxpc3Q9by5zdHJlYW1DZW50ZXIucHJldmlld1N0cmVhbUxpc3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW59KSksaSYmaShlKX0pKSwhMH0sZS5wcm90b3R5cGUuc3RvcFByZXZpZXc9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oXCJ6c2Muc3AuMCBsb2NhbFN0cmVhbSBudWxsXCIpLCExO2Zvcih2YXIgdCBpbiB0aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0KXRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdF0ubG9jYWxTdHJlYW09PT1lJiYodGhpcy5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdFt0XS5sb2NhbFN0cmVhbT1udWxsKTt2YXIgcj10aGlzLnN0cmVhbUNlbnRlci5jaGVja1ByZXZpZXcoZSk7cmV0dXJuIHI/KHIucHJldmlld1N1YyYmKHIuc3RvcFByZXZpZXcoKSx0aGlzLnN0cmVhbUNlbnRlci5yZW1vdmVQcmV2aWV3KHIpKSwhMCk6KHRoaXMubG9nZ2VyLndhcm4oXCJ6c2Muc3AuMCBubyBwcmV2aWV3XCIpLCExKX0sZS5wcm90b3R5cGUucmVjb3JkRGV2aWNlcz1mdW5jdGlvbihlLHQpe3ZhciByLGk9dGhpczt0aGlzLmxvZ2dlci5pbmZvKFwienNjLnJkLjAgY2FsbFwiKSxhLkNsaWVudFV0aWwuZ2V0RGV2aWNlcygoZnVuY3Rpb24odCl7aS5zdGF0ZUNlbnRlci5kZXZpY2VJbmZvcz17bWljcm9waG9uZXM6dC5taWNyb3Bob25lcyxzcGVha2Vyczp0LnNwZWFrZXJzLGNhbWVyYXM6dC5jYW1lcmFzfSxlJiZlKHQpfSksKGZ1bmN0aW9uKGUpe2kubG9nZ2VyLndhcm4oXCJ6c2MucmQuMCBnZXREZXZpY2VzIGVycjpcIixlKSx0JiZ0KGUpfSkpLHZvaWQgMCE9PShudWxsPT09KHI9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyl8fHZvaWQgMD09PXI/dm9pZCAwOnIub25kZXZpY2VjaGFuZ2UpJiYobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5vbmRldmljZWNoYW5nZT1udWxsLG5hdmlnYXRvci5tZWRpYURldmljZXMub25kZXZpY2VjaGFuZ2U9ZnVuY3Rpb24oZSl7aS5sb2dnZXIuaW5mbyhcInpzYy5yZC4wIGRldmljZWNoYW5nZVwiKSxpLnN0YXRlQ2VudGVyLmRldmljZUNoYW5nZVRpbWVyJiYoY2xlYXJUaW1lb3V0KGkuc3RhdGVDZW50ZXIuZGV2aWNlQ2hhbmdlVGltZXIpLGkuc3RhdGVDZW50ZXIuZGV2aWNlQ2hhbmdlVGltZXI9bnVsbCksaS5zdGF0ZUNlbnRlci5kZXZpY2VDaGFuZ2VUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2EuQ2xpZW50VXRpbC5nZXREZXZpY2VzKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj1mdW5jdGlvbihyKXt2YXIgbz1pLnN0YXRlQ2VudGVyLmRldmljZUluZm9zLmNhbWVyYXNbcl07ZS5jYW1lcmFzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRldmljZUlEPT09by5kZXZpY2VJRH0pKXx8dC5wdXNoKG8pfSxvPTA7bzxpLnN0YXRlQ2VudGVyLmRldmljZUluZm9zLmNhbWVyYXMubGVuZ3RoO28rKylyKG8pO2kuc3RhdGVDZW50ZXIuZGV2aWNlU3RhdGVPdXQ9ITE7dmFyIGE9ITE7dC5sZW5ndGg+MCYmKGE9ITApLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGkuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3Qpe3ZhciByPWkuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdF0sbz1yLnB1Ymxpc2hlcjtyLmxvY2FsU3RyZWFtJiZcIlwiIT09ci5jYW1lcmFMYWJlbCYmci5jYW1lcmFMYWJlbD09PWUuZGV2aWNlTmFtZSYmKGE9ITEsby5zZW5kU3RyZWFtU3RhdHVzKC02LG8ubWljX3N0YXR1cyksaS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcIl9kZXZpY2VFcnJvclwiLGMuZXJyb3JDb2RlTGlzdC5ERVZJQ0VfRVJST1JfVFlQRV9VTlBMVUdHRUQuY29kZSxlLmRldmljZU5hbWUsXCJjYW1lcmFcIiksaS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcImRldmljZUVycm9yXCIsYy5lcnJvckNvZGVMaXN0LkRFVklDRV9FUlJPUl9UWVBFX1VOUExVR0dFRC5jb2RlLGUuZGV2aWNlTmFtZSkpLHIubG9jYWxTdHJlYW0mJjA9PT1yLmxvY2FsU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoJiYoYT0hMSl9dmFyIHU9KDAsbi5nZXRSZXBvcnRTZXEpKCk7aS5kYXRhUmVwb3J0Lm5ld1JlcG9ydCh1LHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0RldmljZUludGVycnVwdC5ldmVudCksaS5kYXRhUmVwb3J0LmFkZE1zZ0luZm8odSx7aW50ZXJydXB0OjB9KSxpLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHUpLGkuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJ2aWRlb0RldmljZVN0YXRlQ2hhbmdlZFwiLFwiREVMRVRFXCIsZSl9KSksYSYmKGkuc3RhdGVDZW50ZXIuZGV2aWNlU3RhdGVPdXQ9ITApLGkuc3RhdGVDZW50ZXIuZGV2aWNlSW5mb3MubWljcm9waG9uZXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hZS5taWNyb3Bob25lcy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXZpY2VJRD09PXQuZGV2aWNlSUR9KSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGkuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3Qpe3ZhciByPWkuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdF0sbz1yLnB1Ymxpc2hlcjtyLmxvY2FsU3RyZWFtJiZcIlwiIT09ci5taWNyb0xhYmVsJiYoci5taWNyb0xhYmVsPT09ZS5kZXZpY2VOYW1lfHxcIlwiIT09ci5taWNyb0xhYmVsJiZyLm1pY3JvTGFiZWwuaW5jbHVkZXMoZS5kZXZpY2VOYW1lKSkmJihvLnNlbmRTdHJlYW1TdGF0dXMoby5jYW1lcmFfc3RhdHVzLC02KSxpLnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwiX2RldmljZUVycm9yXCIsYy5lcnJvckNvZGVMaXN0LkRFVklDRV9FUlJPUl9UWVBFX1VOUExVR0dFRC5jb2RlLGkuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbdF0ubWljcm9MYWJlbCxcIm1pY3JvXCIpLGkuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJkZXZpY2VFcnJvclwiLGMuZXJyb3JDb2RlTGlzdC5ERVZJQ0VfRVJST1JfVFlQRV9VTlBMVUdHRUQuY29kZSxpLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W3RdLm1pY3JvTGFiZWwpKX12YXIgYT0oMCxuLmdldFJlcG9ydFNlcSkoKTtpLmRhdGFSZXBvcnQubmV3UmVwb3J0KGEscy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrRGV2aWNlSW50ZXJydXB0LmV2ZW50KSxpLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhhLHtpbnRlcnJ1cHQ6MH0pLGkuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQoYSksaS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcImF1ZGlvRGV2aWNlU3RhdGVDaGFuZ2VkXCIsXCJERUxFVEVcIixcIklucHV0XCIsZSl9KSk7dmFyIHU9aS5zdGF0ZUNlbnRlci5kZXZpY2VJbmZvcy5zcGVha2Vycy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFlLnNwZWFrZXJzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRldmljZUlEPT09dC5kZXZpY2VJRH0pKX0pKSxkPWUuY2FtZXJhcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFpLnN0YXRlQ2VudGVyLmRldmljZUluZm9zLmNhbWVyYXMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGV2aWNlSUQ9PT1lLmRldmljZUlEfSkpfSkpLGw9ZS5taWNyb3Bob25lcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFpLnN0YXRlQ2VudGVyLmRldmljZUluZm9zLm1pY3JvcGhvbmVzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRldmljZUlEPT09ZS5kZXZpY2VJRH0pKX0pKSxoPWUuc3BlYWtlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4haS5zdGF0ZUNlbnRlci5kZXZpY2VJbmZvcy5zcGVha2Vycy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZXZpY2VJRD09PWUuZGV2aWNlSUR9KSl9KSk7dS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD0oMCxuLmdldFJlcG9ydFNlcSkoKTtpLmRhdGFSZXBvcnQubmV3UmVwb3J0KHQscy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQXVkaW9PdXRwdXRDaGFuZ2VkLmV2ZW50KSxpLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyh0LHtyZWFzb246cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQXVkaW9PdXRwdXRDaGFuZ2VkLnJlYXNvbihcImRlbGV0ZVwiKSxkZXZpY2U6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQXVkaW9PdXRwdXRDaGFuZ2VkLmRldmljZShlKX0pLGkuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQodCksaS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcImF1ZGlvRGV2aWNlU3RhdGVDaGFuZ2VkXCIsXCJERUxFVEVcIixcIk91dHB1dFwiLGUpfSkpLGQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9KDAsbi5nZXRSZXBvcnRTZXEpKCk7aS5kYXRhUmVwb3J0Lm5ld1JlcG9ydCh0LHMuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0RldmljZUludGVycnVwdC5ldmVudCksaS5kYXRhUmVwb3J0LmFkZE1zZ0luZm8odCx7aW50ZXJydXB0OjF9KSxpLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHQpLGkuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJ2aWRlb0RldmljZVN0YXRlQ2hhbmdlZFwiLFwiQUREXCIsZSl9KSksbC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD0oMCxuLmdldFJlcG9ydFNlcSkoKTtpLmRhdGFSZXBvcnQubmV3UmVwb3J0KHQscy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrRGV2aWNlSW50ZXJydXB0LmV2ZW50KSxpLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyh0LHtpbnRlcnJ1cHQ6MX0pLGkuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQodCksaS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcImF1ZGlvRGV2aWNlU3RhdGVDaGFuZ2VkXCIsXCJBRERcIixcIklucHV0XCIsZSl9KSksaC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD0oMCxuLmdldFJlcG9ydFNlcSkoKTtpLmRhdGFSZXBvcnQubmV3UmVwb3J0KHQscy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQXVkaW9PdXRwdXRDaGFuZ2VkLmV2ZW50KSxpLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyh0LHtyZWFzb246cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQXVkaW9PdXRwdXRDaGFuZ2VkLnJlYXNvbihcImFkZFwiKSxkZXZpY2U6cy5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQXVkaW9PdXRwdXRDaGFuZ2VkLmRldmljZShlKX0pLGkuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQodCksaS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcImF1ZGlvRGV2aWNlU3RhdGVDaGFuZ2VkXCIsXCJBRERcIixcIk91dHB1dFwiLGUpfSkpLGkuc3RhdGVDZW50ZXIuZGV2aWNlSW5mb3M9e21pY3JvcGhvbmVzOmUubWljcm9waG9uZXMsc3BlYWtlcnM6ZS5zcGVha2VycyxjYW1lcmFzOmUuY2FtZXJhc319KSwoZnVuY3Rpb24oZSl7aS5sb2dnZXIud2FybihcInpzYy5yZC4wIGdldERldmljZXMgZXJyOlwiLGUpfSkpfSksNTAwKX0pfSxlLnByb3RvdHlwZS5nZXRTdHJlYW1UaHJvdWdoQ2FudmFzPWZ1bmN0aW9uKGUpe2lmKDA9PWUuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpcmV0dXJuIGU7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpPXIuZ2V0Q29udGV4dChcIjJkXCIpO3Quc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZVwiKSxyLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmVcIiksdC5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLHQubXV0ZWQ9ITAsdC5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLFwiXCIpLHQuYXV0b3BsYXk9ITAsdC5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kKHQpLGRvY3VtZW50LmJvZHkuYXBwZW5kKHIpLHQuc3JjT2JqZWN0PWU7dmFyIG89ZnVuY3Rpb24oKXtudWxsPT1pfHxpLmRyYXdJbWFnZSh0LDAsMCxyLndpZHRoLHIuaGVpZ2h0KSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG8pLHQuc3JjT2JqZWN0PWV9O3Qub25jYW5wbGF5PWZ1bmN0aW9uKCl7ci53aWR0aD10LnZpZGVvV2lkdGgsci5oZWlnaHQ9dC52aWRlb0hlaWdodCx0LnBsYXkoKSxvKCl9O3ZhciBuPXIuY2FwdHVyZVN0cmVhbSgxNSkscz1uLmdldFZpZGVvVHJhY2tzKClbMF0sYT1zLnN0b3A7aWYocy5zdG9wPWZ1bmN0aW9uKCl7YS5jYWxsKHMpLG8oKSx0LnJlbW92ZSgpLHIud2lkdGg9MCxyLnJlbW92ZSgpfSxlIGluc3RhbmNlb2YgTWVkaWFTdHJlYW0mJmUuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgpe3ZhciBjPWUuZ2V0QXVkaW9UcmFja3MoKVswXTtuLmFkZFRyYWNrKGMpfXJldHVybiBufSxlLnByb3RvdHlwZS5nZXRTdHJlYW1TdGF0cz1mdW5jdGlvbihlKXt2YXIgdCxyLGk7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oby5aRUdPX1dFQlJUQ19BQ1RJT04uREVTVFJPWV9TVFJFQU0rXCIgY2FsbFwiKSxlIGluc3RhbmNlb2YgTWVkaWFTdHJlYW0mJmUuZ2V0VHJhY2tzKCkubGVuZ3RoPjA/aT1udWxsPT09KHQ9dGhpcy5zdHJlYW1DZW50ZXIuY2hlY2tQdWJsaXNoKGUpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wdWJsaXNoZXI6XCJzdHJpbmdcIj09dHlwZW9mIGUmJihpPW51bGw9PT0ocj10aGlzLnN0cmVhbUNlbnRlci5wdWJsaXNoZXJMaXN0W2VdKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wdWJsaXNoZXIpLGk/KG51bGw9PWk/dm9pZCAwOmkuY3VycmVudFF1YWxpdHkpfHxudWxsOih0aGlzLmxvZ2dlci5lcnJvcihcInpzYy5zcC4wIHN0cmVhbSBpcyBub3QgcHVibGlzaGluZ1wiKSxudWxsKX0sZS5wcm90b3R5cGUuc3RhcnRXYWl0UHVibGlzaD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zdHJlYW1DZW50ZXIud2FpdFB1Ymxpc2hMaXN0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2Uuc3RyZWFtQ2VudGVyLnN0YXJ0UHVibGlzaGluZ1N0cmVhbSh0LGUuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQpfSkpLHRoaXMuc3RyZWFtQ2VudGVyLndhaXRQdWJsaXNoTGlzdD1bXX0sZX0oKTt0LlB1Ymxpc2hNb2R1bGU9aH0sOTMzNDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlplZ29QcmV2aWV3PXZvaWQgMDt2YXIgcz1yKDk4ODcpLGE9cig4MzM1KSxjPXIoNjI2MiksdT1yKDI4NDQpLGQ9cig2OTIwKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpLG8pe3ZhciBuPXRoaXM7dGhpcy5sb2dnZXI9ZSx0aGlzLmFjPXQsdGhpcy5zdGF0ZUNlbnRlcj1yLHRoaXMuc3RyZWFtQ2VudGVyPWksdGhpcy5wcmV2aWV3VHlwZT1vLHRoaXMubG9jYWxTdHJlYW09bnVsbCx0aGlzLnZpZGVvSW5mbz17fSx0aGlzLnJ0Y1ZpZXdlcj1udWxsLHRoaXMucHJldmlld1N1Yz0hMSx0aGlzLnNvdW5kTGV2ZWw9MCx0aGlzLmhhc0VtcHR5QXVkaW9UcmFjaz0hMSx0aGlzLnNjcmlwdD1udWxsLHRoaXMubWljPW51bGwsdGhpcy5fYXVkaW9UcmFjaz1udWxsLHRoaXMuX3ZpZGVvVHJhY2s9bnVsbCx0aGlzLmNsb25lVmlkZW9UcmFjaz1udWxsLHRoaXMub3JpZ2luVmlkZW9UcmFjaz1udWxsLHRoaXMuYWN0aXZhdGVTRUlDb25maWc9bnVsbCx0aGlzLmlzQXVkaW9FbmFibGVkPSEwLHRoaXMuaXNWaWRlb0VuYWJsZWQ9ITAsdGhpcy5nYWluTm9kZT1udWxsLHRoaXMuY2FtZXJhTWF4UmVzb2x1dGlvbj17fSx0aGlzLmVuYWJsZUR1YWxTdHJlYW09ITEsdGhpcy5sb3dTdHJlYW1Db25maWc9e3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lUmF0ZToxNSxiaXRSYXRlOjUwfSx0aGlzLm11dGVJbWFnZT1udWxsLHRoaXMuaGFzTWljVHJhY2s9ITAsdGhpcy5lbmFibGVNaWNyb3Bob25lT25seT1mdW5jdGlvbihlLHQpe2lmKCFuLmxvY2FsU3RyZWFtKXJldHVybiBuLmxvZ2dlci5lcnJvcihcInpwLmVtLjIgbm8gbG9jYWxTdHJlYW1cIiksITE7dmFyIHI9dC5nZXRQdWJsaXNoTGlzdChuLmxvY2FsU3RyZWFtKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnB1Ymxpc2hlcn0pKTtyZXR1cm4gci5sZW5ndGgmJnIuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5zZW5kU3RyZWFtU3RhdHVzKHQuY2FtZXJhX3N0YXR1cyxuLmlzQXVkaW9FbmFibGVkJiZlPzA6Mil9KSksbi5taWNUcmFjaz8obi5taWNUcmFjay5lbmFibGVkPW4uaXNBdWRpb0VuYWJsZWQmJmUsbi5sb2dnZXIuZGVidWcoXCJ6cC5lbW8uMiBjYWxsIHN1Y2Nlc3NcIiksITApOihuLmxvZ2dlci5pbmZvKFwienAuZW1vLjIgbm8gbWljVHJhY2tcIiksITApfSx0aGlzLmF1ZGlvTWl4TWFuYWdlcj1udWxsfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhdWRpb1RyYWNrXCIse2dldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybiB0aGlzLl9hdWRpb1RyYWNrfHwobnVsbD09PShlPXRoaXMubG9jYWxTdHJlYW0pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldEF1ZGlvVHJhY2tzKClbMF0pfHxudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYXVkaW9UcmFjaz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZpZGVvVHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuX3ZpZGVvVHJhY2t8fChudWxsPT09KGU9dGhpcy5sb2NhbFN0cmVhbSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0VmlkZW9UcmFja3MoKVswXSl8fG51bGx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl92aWRlb1RyYWNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWljVHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzTWljVHJhY2smJlwiY2FtZXJhXCI9PT10aGlzLnByZXZpZXdUeXBlJiZ0aGlzLmF1ZGlvVHJhY2t8fG51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNWaWRlb0VmZmVjdFN0YXJ0aW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy52aWRlb0VmZmVjdCYmdGhpcy52aWRlb0VmZmVjdC5pc1N0YXJ0aW5nfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldE1lZGlhU3RyZWFtQ29uc3RyYWludHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj17YXVkaW86bnVsbCx2aWRlbzpudWxsfTtpZihyLmF1ZGlvPSEwLHIudmlkZW89e3dpZHRoOjY0MCxoZWlnaHQ6NDgwLGZyYW1lUmF0ZToxNSxiaXRSYXRlOnRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiY2FtZXJhX3ZpZGVvX2JpdHJhdGVcIil9LGUuYXVkaW8/dm9pZCAwPT09ZS5hdWRpb0lucHV0JiZ2b2lkIDA9PT1lLkFOUyYmdm9pZCAwPT09ZS5BR0MmJnZvaWQgMD09PWUuQUVDJiZ2b2lkIDA9PT1lLmNoYW5uZWxDb3VudD8oci5hdWRpbz17fSxyLmF1ZGlvLm5vaXNlU3VwcHJlc3Npb249dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJBTlNcIiksci5hdWRpby5hdXRvR2FpbkNvbnRyb2w9dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJBR0NcIiksci5hdWRpby5lY2hvQ2FuY2VsbGF0aW9uPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiQUVDXCIpLHIuYXVkaW8uY2hhbm5lbENvdW50PTEpOihyLmF1ZGlvPXt9LG51bGwhPWUuYXVkaW9JbnB1dCYmKHIuYXVkaW8uZGV2aWNlSWQ9e2V4YWN0OmUuYXVkaW9JbnB1dH0pLHZvaWQgMCE9PWUuQU5TJiYoci5hdWRpby5ub2lzZVN1cHByZXNzaW9uPWUuQU5TKSx2b2lkIDAhPT1lLkFHQyYmKHIuYXVkaW8uYXV0b0dhaW5Db250cm9sPWUuQUdDKSx2b2lkIDAhPT1lLkFFQyYmKHIuYXVkaW8uZWNob0NhbmNlbGxhdGlvbj1lLkFFQyksdm9pZCAwIT09ZS5jaGFubmVsQ291bnQmJihyLmF1ZGlvLmNoYW5uZWxDb3VudD1lLmNoYW5uZWxDb3VudCkpOiExPT09ZS5hdWRpbyYmKHIuYXVkaW89ITEpLGUudmlkZW8pe3ZhciBpPTY0MCxvPTQ4MCxuPTE1LGE9dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJjYW1lcmFfdmlkZW9fYml0cmF0ZVwiKTtpZigxPT09ZS52aWRlb1F1YWxpdHk/KGk9cy5FTlVNX1JFU09MVVRJT05fVFlQRS5MT1cud2lkdGgsbz1zLkVOVU1fUkVTT0xVVElPTl9UWVBFLkxPVy5oZWlnaHQsbj1zLkVOVU1fUkVTT0xVVElPTl9UWVBFLkxPVy5mcmFtZVJhdGUsYT1zLkVOVU1fUkVTT0xVVElPTl9UWVBFLkxPVy5iaXRSYXRlKToyPT09ZS52aWRlb1F1YWxpdHk/KGk9cy5FTlVNX1JFU09MVVRJT05fVFlQRS5NRURJVU0ud2lkdGgsbz1zLkVOVU1fUkVTT0xVVElPTl9UWVBFLk1FRElVTS5oZWlnaHQsbj1zLkVOVU1fUkVTT0xVVElPTl9UWVBFLk1FRElVTS5mcmFtZVJhdGUsYT1zLkVOVU1fUkVTT0xVVElPTl9UWVBFLk1FRElVTS5iaXRSYXRlKTozPT09ZS52aWRlb1F1YWxpdHk/KGk9cy5FTlVNX1JFU09MVVRJT05fVFlQRS5ISUdILndpZHRoLG89cy5FTlVNX1JFU09MVVRJT05fVFlQRS5ISUdILmhlaWdodCxuPXMuRU5VTV9SRVNPTFVUSU9OX1RZUEUuSElHSC5mcmFtZVJhdGUsYT1zLkVOVU1fUkVTT0xVVElPTl9UWVBFLkhJR0guYml0UmF0ZSk6ND09PWUudmlkZW9RdWFsaXR5PyhpPWUud2lkdGgsbz1lLmhlaWdodCxuPWUuZnJhbWVSYXRlLGE9ZS5iaXRSYXRlfHx0aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcImNhbWVyYV92aWRlb19iaXRyYXRlXCIpKTp0aGlzLmxvZ2dlci5pbmZvKFwienAuZ21zYy4yIHVzZSBkZWZhdWx0XCIpLHQmJiFlLnZpZGVvUXVhbGl0eSYmKGUud2lkdGgmJihpPWUud2lkdGgpLGUuaGVpZ2h0JiYobz1lLmhlaWdodCksZS5mcmFtZVJhdGUmJihuPWUuZnJhbWVSYXRlKSxlLmJpdFJhdGUmJihhPWUuYml0UmF0ZSkpLCExPT09ZS5ob3Jpem9udGFsKXt2YXIgYz1vO289aSxpPWN9aWYoITA9PT1lLmlzU3dpdGNoKXtjPW87bz1pLGk9Y31yLnZpZGVvPXt3aWR0aDppLGhlaWdodDpvLGZyYW1lUmF0ZTpuLGJpdFJhdGU6YX0sbnVsbCE9ZS5mYWNpbmdNb2RlP3IudmlkZW8uZmFjaW5nTW9kZT1lLmZhY2luZ01vZGU6bnVsbCE9ZS52aWRlb0lucHV0JiZudWxsIT1lLnZpZGVvSW5wdXQmJlwiXCIhPWUudmlkZW9JbnB1dCYmKHIudmlkZW8uZGV2aWNlSWQ9e2V4YWN0OmUudmlkZW9JbnB1dH0pLHRoaXMubG9nZ2VyLmluZm8oXCJ6cC5nbXNjLjIgd2lkdGg6IFwiK2krXCIgaGVpZ2h0OiBcIitvK1wiIHJhdGU6IFwiK24pfWVsc2UhMT09PWUudmlkZW8mJihlLmF1ZGlvQml0cmF0ZSYmKHIudmlkZW89e30pLHIudmlkZW89ITEpO3JldHVybiByfSxlLnByb3RvdHlwZS5zdGFydFByZXZpZXc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxzLGMsdSxkLGwsaCxwLGc9dGhpcztyZXR1cm4gbih0aGlzLChmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJ6cC5zdi4yIGNhbGxlZFwiKSx0aGlzLm1lZGlhU3RyZWFtQ29uZmlnPWUsdm9pZCAwPT09bmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8bnVsbD09bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE/KHImJnIoYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtCcm93c2VyTm90U3VwcG9ydEVycm9yKSxbMl0pOihvPWZ1bmN0aW9uKGUpe3QoZSl9LGUuc291cmNlIGluc3RhbmNlb2YgTWVkaWFTdHJlYW0/KHM9ZS5zb3VyY2UuZ2V0VmlkZW9UcmFja3MoKSxjPXMubGVuZ3RoPjA/c1swXS5nZXRTZXR0aW5ncygpOnt3aWR0aDowLGhlaWdodDowLGZyYW1lUmF0ZTowfSx0aGlzLmxvZ2dlci5kZWJ1ZyhcInpwLnN2LjIgdXNlIGV4dGVybmFsIG1lZGlhIHN0cmVhbVwiKSx0aGlzLnByZXZpZXdTdWM9ITAsdGhpcy5sb2NhbFN0cmVhbT1lLnNvdXJjZSx0aGlzLmluaXRNZWRpYVRyYWNrKGUuc291cmNlKSx0aGlzLnZpZGVvSW5mbz17d2lkdGg6Yy53aWR0aCxoZWlnaHQ6Yy5oZWlnaHQsZnJhbWVSYXRlOmMuZnJhbWVSYXRlLGJpdFJhdGU6ZS5iaXRSYXRlfHx0aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcImN1c3RvbV92aWRlb19iaXRyYXRlXCIpLHN0YXJ0Qml0cmF0ZTplLnN0YXJ0Qml0cmF0ZXx8dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJiaXRyYXRlX21vZGVcIiksY2hhbm5lbENvdW50OmUuY2hhbm5lbENvdW50fHwodGhpcy5hdWRpb1RyYWNrJiZ0aGlzLmF1ZGlvVHJhY2suZ2V0U2V0dGluZ3M/dGhpcy5hdWRpb1RyYWNrLmdldFNldHRpbmdzKCkuY2hhbm5lbENvdW50OjEpLGF1ZGlvQml0cmF0ZToxZTMqZS5hdWRpb0JpdHJhdGV8fDQ4ZTN9LG8mJm8odGhpcy5sb2NhbFN0cmVhbSksWzJdKTplLnNvdXJjZSBpbnN0YW5jZW9mIEhUTUxNZWRpYUVsZW1lbnQ/KCh1PXRoaXMuY2FwdHVyZVN0cmVhbShlLnNvdXJjZSxlKSk/KHRoaXMudmlkZW9JbmZvLmJpdFJhdGU9ZS5iaXRSYXRlfHx0aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcImN1c3RvbV92aWRlb19iaXRyYXRlXCIpLHRoaXMucHJldmlld1N1Yz0hMCx0aGlzLmluaXRNZWRpYVRyYWNrKHUpLG8mJm8odSkpOnImJnIoYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtCcm93c2VyTm90U3VwcG9ydEVycm9yKSxbMl0pOigoZD10aGlzLmdldE1lZGlhU3RyZWFtQ29uc3RyYWludHMoZSkpLmF1ZGlvJiYobD10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcIkFFQ1wiLCEwKSxoPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiQUdDXCIsITApLHA9dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJBTlNcIiwhMCksXCJib29sZWFuXCI9PXR5cGVvZiBsJiYodGhpcy5sb2dnZXIuaW5mbyhcInpwLnN2LjIgc2V0dGluZyBBRUMgXCIrbCksZC5hdWRpby5lY2hvQ2FuY2VsbGF0aW9uPWwpLFwiYm9vbGVhblwiPT10eXBlb2YgaCYmKHRoaXMubG9nZ2VyLmluZm8oXCJ6cC5zdi4yIHNldHRpbmcgQUdDIFwiK2gpLGQuYXVkaW8uYXV0b0dhaW5Db250cm9sPWgpLFwiYm9vbGVhblwiPT10eXBlb2YgcCYmKHRoaXMubG9nZ2VyLmluZm8oXCJ6cC5zdi4yIHNldHRpbmcgQU5TIFwiK3ApLGQuYXVkaW8ubm9pc2VTdXBwcmVzc2lvbj1wKSksdGhpcy52aWRlb0luZm89aSh7fSxkLnZpZGVvKSx0aGlzLnZpZGVvSW5mbz8odGhpcy52aWRlb0luZm8uYXVkaW9CaXRyYXRlPTFlMyplLmF1ZGlvQml0cmF0ZXx8NDhlMyx0aGlzLnZpZGVvSW5mby5zdGFydEJpdHJhdGU9ZS5zdGFydEJpdHJhdGV8fHRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiYml0cmF0ZV9tb2RlXCIpKTplLmF1ZGlvQml0cmF0ZSYmKHRoaXMudmlkZW9JbmZvPXthdWRpb0JpdHJhdGU6MWUzKmUuYXVkaW9CaXRyYXRlfHw0OGUzfSksdGhpcy5tZWRpYVN0cmVhbUNvbmZpZy52aWRlbz0hIWQudmlkZW8sdGhpcy5tZWRpYVN0cmVhbUNvbmZpZy5hdWRpbz0hIWQuYXVkaW8sdGhpcy5sb2dnZXIuaW5mbyhcInpwLnN2LjIgXCIsSlNPTi5zdHJpbmdpZnkoZCkpLGUudW5saW1pdGVkQ2FwdHVyZVJlc29sdXRpb24mJmQudmlkZW8ud2lkdGgmJihkLnZpZGVvLndpZHRoPXtpZGVhbDo0MDk2fSxkLnZpZGVvLmhlaWdodD17aWRlYWw6MjE2MH0sdGhpcy5sb2dnZXIuaW5mbyhcInpwLnN2LjIgXCIsXCJjYXB0dXJlIG1heCByZXNvbHV0aW9uIG9mIGNhbWVyYVwiKSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZCkudGhlbigoZnVuY3Rpb24odCl7Zy5sb2dnZXIuaW5mbyhcInpwLnN2LjIgc3VjY2Vzc1wiKSxnLmxvY2FsU3RyZWFtPXQsZy5wcmV2aWV3U3VjPSEwLGcuaW5pdE1lZGlhVHJhY2sodCksZy52aWRlb0luZm8mJihnLnZpZGVvSW5mby5jaGFubmVsQ291bnQ9ZS5jaGFubmVsQ291bnR8fChnLmF1ZGlvVHJhY2smJmcuYXVkaW9UcmFjay5nZXRTZXR0aW5ncz9nLmF1ZGlvVHJhY2suZ2V0U2V0dGluZ3MoKS5jaGFubmVsQ291bnQ6MSkpLG8mJm8odCl9KSwoZnVuY3Rpb24oZSl7aWYoZy5sb2dnZXIuaW5mbyhcInpwLnN2LjIgZmFpbGVkIFwiLGUubmFtZSxcIiBcIixlLm1lc3NhZ2UpLHIpe3ZhciB0PWEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza0NyZWF0ZVN0cmVhbS5lcnJvci5rR2V0VXNlck1lZGlhRXJyb3I7dC5tZXNzYWdlPXQubWVzc2FnZStcIiBcIitlLm5hbWUrXCIgXCIrZS5tZXNzYWdlLFwiTm90QWxsb3dlZEVycm9yXCI9PT1lLm5hbWV8fFwiU2VjdXJpdHlFcnJvclwiPT09ZS5uYW1lPyh0PWkoe30sYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrQ3JlYXRlU3RyZWFtLmVycm9yLmtEZXZpY2VOb0FsbG93ZWRFcnJvcikpLm1lc3NhZ2U9ZS5uYW1lK1wiOiBcIit0Lm1lc3NhZ2U6XCJOb3RSZWFkYWJsZUVycm9yXCI9PT1lLm5hbWU/KHQ9aSh7fSxhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua0RldmljZU5vUmVhZGFibGVFcnJvcikpLm1lc3NhZ2U9ZS5uYW1lK1wiOiBcIit0Lm1lc3NhZ2U6XCJPdmVyY29uc3RyYWluZWRFcnJvclwiPT09ZS5uYW1lJiYoKHQ9aSh7fSxhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tDcmVhdGVTdHJlYW0uZXJyb3Iua0RldmljZU92ZXJDb25zdHJhaW5lZEVycm9yKSkubWVzc2FnZT1lLm5hbWUrXCI6IFwiK3QubWVzc2FnZSsoZS5jb25zdHJhaW50P1wiLiBzdWNoIGFzIFwiK2UuY29uc3RyYWludDpcIlwiKSkscih0KX19KSksWzJdKSl9KSl9KSl9LGUucHJvdG90eXBlLmNhcHR1cmVTdHJlYW09ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gdGhpcy5sb2dnZXIuaW5mbyhcInpwLmNzLjIgbm8gbG9jYWwgdmlkZW9cIiksbnVsbDt2YXIgcjtpZihlLmNhcHR1cmVTdHJlYW0pcj1lLmNhcHR1cmVTdHJlYW0oKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcInpwLmNzLjIgY2FwdHVyZVN0cmVhbVwiKTtlbHNle2lmKCFlLm1vekNhcHR1cmVTdHJlYW0pcmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJ6cC5jcy4yIGRvbid0IHN1cHBvcnRcIiksbnVsbDtyPWUubW96Q2FwdHVyZVN0cmVhbSgpLHRoaXMubG9nZ2VyLmRlYnVnKFwienAuY3MuMiBtb3pDYXB0dXJlU3RyZWFtXCIpfXJldHVybiAwPT1yLmdldFRyYWNrcygpLmxlbmd0aD8odGhpcy5sb2dnZXIuZXJyb3IoXCJ6cC5jcy4yIGV4dGVybmFsIGNhcHR1cmUgdHJhY2tzIG5vIGZvdW5kXCIpLG51bGwpOih0aGlzLmxvY2FsU3RyZWFtPXIsdGhpcy52aWRlb0luZm89e3dpZHRoOmUudmlkZW9XaWR0aCxoZWlnaHQ6ZS52aWRlb0hlaWdodCxmcmFtZVJhdGU6MCxiaXRSYXRlOnQuYml0UmF0ZXx8dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJjdXN0b21fdmlkZW9fYml0cmF0ZVwiKSxjaGFubmVsQ291bnQ6dC5jaGFubmVsQ291bnR8fCh0aGlzLmF1ZGlvVHJhY2smJnRoaXMuYXVkaW9UcmFjay5nZXRTZXR0aW5ncz90aGlzLmF1ZGlvVHJhY2suZ2V0U2V0dGluZ3MoKS5jaGFubmVsQ291bnQ6MSksYXVkaW9CaXRyYXRlOjFlMyp0LmF1ZGlvQml0cmF0ZXx8NDhlMyxzdGFydEJpdHJhdGU6dC5zdGFydEJpdHJhdGV8fHRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiYml0cmF0ZV9tb2RlXCIpfSx0aGlzLmxvZ2dlci5kZWJ1ZyhcInpwLmNzLjIgY2FsbGVkIHN1Y2Nlc3NcIiksdGhpcy5sb2NhbFN0cmVhbSl9LGUucHJvdG90eXBlLnN0b3BQcmV2aWV3PWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGksbyxuO2lmKHRoaXMubG9nZ2VyLmluZm8oXCJ6cC5zdi4yLjEgY2FsbGVkXCIpLHRoaXMubG9jYWxTdHJlYW0pe3ZhciBzPXRoaXMucnRjVmlld2VyO3MmJnMuc3RvcCgpLHRoaXMudmlkZW9FZmZlY3QmJih0aGlzLnZpZGVvRWZmZWN0LnNldEJlYXV0eUVmZmVjdE9wdGlvbnMoITEpLHRoaXMudmlkZW9FZmZlY3QuZGVzdHJveSgpKSxudWxsPT09KGU9dGhpcy5jbG9uZVZpZGVvVHJhY2spfHx2b2lkIDA9PT1lfHxlLnN0b3AoKSx0aGlzLm11dGVJbWFnZUFuSUQmJmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMubXV0ZUltYWdlQW5JRCksbnVsbD09PSh0PXRoaXMub3JpZ2luVmlkZW9UcmFjayl8fHZvaWQgMD09PXR8fHQuc3RvcCgpLG51bGw9PT0ocj10aGlzLnZpZGVvVHJhY2spfHx2b2lkIDA9PT1yfHxyLnN0b3AoKSxudWxsPT09KGk9dGhpcy5hdWRpb1RyYWNrKXx8dm9pZCAwPT09aXx8aS5zdG9wKCksbnVsbD09PShvPXRoaXMuYXVkaW9NaXhNYW5hZ2VyKXx8dm9pZCAwPT09b3x8by5zdG9wQXVkaW9NYW5hZ2VyKCksdGhpcy5sb2NhbFN0cmVhbS5nZXRUcmFja3MoKS5yZXZlcnNlKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RvcCgpfSkpLHRoaXMubG9jYWxTdHJlYW09bnVsbCxudWxsPT09KG49dGhpcy5sb3dTdHJlYW0pfHx2b2lkIDA9PT1ufHxuLmdldFRyYWNrcygpLnJldmVyc2UoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdG9wKCl9KSksdGhpcy5sb3dTdHJlYW09dm9pZCAwLHRoaXMudmlkZW9JbmZvPXt9fX0sZS5wcm90b3R5cGUuZW5hYmxlTWljcm9waG9uZT1mdW5jdGlvbihlLHQpe3JldHVybiExfSxlLnByb3RvdHlwZS5lbmFibGVDYW1lcmE9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiExfSxlLnByb3RvdHlwZS5lbmFibGVDYW1lcmFDYXB0dXJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyLCExXX0pKX0pKX0sZS5wcm90b3R5cGUuc3RhcnRTb3VuZExldmVsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmxvY2FsU3RyZWFtJiYwIT10aGlzLmxvY2FsU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoKXt0aGlzLnNjcmlwdCYmdGhpcy5zY3JpcHQuZGlzY29ubmVjdCgpLHRoaXMubWljJiZ0aGlzLm1pYy5kaXNjb25uZWN0KCk7dHJ5e3RoaXMubWljPXRoaXMuYWMuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodGhpcy5sb2NhbFN0cmVhbSksdGhpcy5zY3JpcHQ9dGhpcy5hYy5jcmVhdGVTY3JpcHRQcm9jZXNzb3IoNDA5NiwxLDEpLHRoaXMubWljLmNvbm5lY3QodGhpcy5zY3JpcHQpLHRoaXMuc2NyaXB0LmNvbm5lY3QodGhpcy5hYy5kZXN0aW5hdGlvbiksdGhpcy5zY3JpcHQub25hdWRpb3Byb2Nlc3M9ZnVuY3Rpb24odCl7Zm9yKHZhciByPXQuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCksaT0wLG89MDtvPHIubGVuZ3RoO28rKylpPHJbb10mJihpPXJbb10pO2Uuc291bmRMZXZlbD0xMDAqaX0sdGhpcy5hYy5yZXN1bWUoKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfU09VTkRfTEVWRUwrXCIgZ2V0IHNvdW5kIGxldmVsIGZhaWxlZCBcIitlKX19fSxlLnByb3RvdHlwZS5zdG9wU291bmRMZXZlbD1mdW5jdGlvbigpe3RoaXMuc291bmRMZXZlbD0wLHRoaXMuc2NyaXB0JiZ0aGlzLnNjcmlwdC5kaXNjb25uZWN0KCksdGhpcy5taWMmJnRoaXMubWljLmRpc2Nvbm5lY3QoKSx0aGlzLnNjcmlwdD1udWxsLHRoaXMubWljPW51bGx9LGUucHJvdG90eXBlLnJlc3RhcnRTb3VuZExldmVsPWZ1bmN0aW9uKCl7dGhpcy5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlPyh0aGlzLnN0b3BTb3VuZExldmVsKCksdGhpcy5zdGFydFNvdW5kTGV2ZWwoKSk6dGhpcy5zdG9wU291bmRMZXZlbCgpfSxlLnByb3RvdHlwZS5zZXRCZWF1dHlFZmZlY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSkpfSkpfSxlLnByb3RvdHlwZS5yZXBsYWNlUHJldmlld1RyYWNrPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT10JiYodD0hMSl9LGUucHJvdG90eXBlLmNyZWF0ZUxvd1N0cmVhbT1mdW5jdGlvbigpe3ZhciBlLHQscixpPW51bGw9PT0oZT10aGlzLmxvY2FsU3RyZWFtKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRWaWRlb1RyYWNrcygpWzBdO2lmKGkpe3ZhciBvPWkuZ2V0U2V0dGluZ3MoKS5oZWlnaHQsbj1pLmdldFNldHRpbmdzKCkud2lkdGgscz1vJiZuP28vbjoxO3RyeXt0aGlzLmxvd1N0cmVhbT1udWxsPT09KHQ9dGhpcy5sb2NhbFN0cmVhbSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2xvbmUoKTt2YXIgYSxjPW51bGw9PT0ocj10aGlzLmxvd1N0cmVhbSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0VmlkZW9UcmFja3MoKVswXSx1PXRoaXMubG93U3RyZWFtQ29uZmlnLGQ9dS53aWR0aCxsPXUuZnJhbWVSYXRlO2E9TWF0aC5yb3VuZChzKnRoaXMubG93U3RyZWFtQ29uZmlnLndpZHRoKSxudWxsPT1jfHxjLmFwcGx5Q29uc3RyYWludHMoe3dpZHRoOmQsaGVpZ2h0OmEsZnJhbWVSYXRlOmx9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcihcInpwLmNscyBcIitlKX19fSxlLnByb3RvdHlwZS5pbml0QXVkaW9Ob2RlUXVldWU9ZnVuY3Rpb24oZSl7dmFyIHQscjtpZighdGhpcy5hdWRpb1RyYWNrfHwhdGhpcy5sb2NhbFN0cmVhbSlyZXR1cm4hMTt2YXIgaT1uZXcgTWVkaWFTdHJlYW07aS5hZGRUcmFjayh0aGlzLmF1ZGlvVHJhY2spO3ZhciBvPXRoaXMuYWMuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoaSksbj10aGlzLmFjLmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTt0aGlzLmF1ZGlvTm9kZVF1ZXVlPW5ldyBkLkF1ZGlvTm9kZVF1ZXVlKG8sbik7dmFyIHM9bi5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtpZih0aGlzLmF1ZGlvTWl4TWFuYWdlciYmKG51bGw9PT0odD10aGlzLmF1ZGlvTWl4TWFuYWdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYXVkaW9EZXN0Tm9kZSkmJmUpcmV0dXJuITA7dmFyIGE9dGhpcy5ydGNWaWV3ZXI7Zm9yKHZhciBjIGluIHRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3Qpe3ZhciB1PXRoaXMuc3RyZWFtQ2VudGVyLnB1Ymxpc2hlckxpc3RbY107aWYodS5sb2NhbFN0cmVhbT09dGhpcy5sb2NhbFN0cmVhbSl7dmFyIGw9bnVsbD09PShyPXUucHVibGlzaGVyLnBlZXJDb25uZWN0aW9uKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2smJlwiYXVkaW9cIj09PWUudHJhY2sua2luZH0pKTtsJiZsLnJlcGxhY2VUcmFjayhzKTticmVha319dmFyIGg9dGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO3JldHVybiBoJiYocy5lbmFibGVkPWguZW5hYmxlZCx0aGlzLmxvY2FsU3RyZWFtLnJlbW92ZVRyYWNrKGgpKSx0aGlzLmxvY2FsU3RyZWFtLmFkZFRyYWNrKHMpLGEmJmEuc2V0QXVkaW8ocyksITB9LGUucHJvdG90eXBlLmluaXRNZWRpYVRyYWNrPWZ1bmN0aW9uKGUpe2UuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGg+MCYmKHRoaXMudmlkZW9UcmFjaz1lLmdldFZpZGVvVHJhY2tzKClbMF0sdGhpcy5vcmlnaW5WaWRlb1RyYWNrPXRoaXMudmlkZW9UcmFjayksZS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aD4wJiYodGhpcy5hdWRpb1RyYWNrPWUuZ2V0QXVkaW9UcmFja3MoKVswXSl9LGUucHJvdG90eXBlLm9uQXVkaW9UcmFja0NoYW5nZT1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmdldFZpZXdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsU3RyZWFtJiYhdGhpcy5ydGNWaWV3ZXImJih0aGlzLnJ0Y1ZpZXdlcj1uZXcgdS5TdHJlYW1WaWV3KHRoaXMubG9jYWxTdHJlYW0sdGhpcykpLHRoaXMucnRjVmlld2VyfSxlfSgpO3QuWmVnb1ByZXZpZXc9bH0sNTY2NDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlplZ29QdWJsaXNoPXZvaWQgMDt2YXIgbz1yKDk4ODcpLG49cigzMTExKSxzPXIoMzYwOCksYT1yKDgzMzUpLGM9cig2MjYyKSx1PXIoNDg2NCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxuLHMsYSl7dmFyIGM9dGhpczt0aGlzLnN0YXRlPW8uRU5VTV9QVUJMSVNIX1NUQVRFLnN0b3AsdGhpcy5zZXNzaW9uSWQ9MCx0aGlzLnNlc3Npb25Ub2tlbj1cIlwiLHRoaXMuY2FuZGlkYXRlSW5mbz1bXSx0aGlzLnF1YWxpdHlUaW1lcj1udWxsLHRoaXMucHVibGlzaFF1YWxpdHlMaXN0PVtdLHRoaXMubWF4UXVhbGl0eUxpc3RDb3VudD0xMCx0aGlzLmxhc3RQdWJsaXNoU3RhdHM9e30sdGhpcy5jdXJyZW50UXVhbGl0eT17dmlkZW86e3ZpZGVvQml0cmF0ZTowLHZpZGVvRlBTOjAsdmlkZW9UcmFuc2ZlckZQUzowLGZyYW1lSGVpZ2h0OjAsZnJhbWVXaWR0aDowLG11dGVTdGF0ZTpcIjFcIix2aWRlb1F1YWxpdHk6LTEsdmlkZW9QYWNrZXRzTG9zdDowLHZpZGVvUGFja2V0c0xvc3RSYXRlOjAsZ29vZ0NvZGVjTmFtZTpcIlwifSxhdWRpbzp7YXVkaW9CaXRyYXRlOjAsYXVkaW9Db2RlYzpcIm9wdXNcIixtdXRlU3RhdGU6XCIxXCIsYXVkaW9RdWFsaXR5Oi0xLGF1ZGlvRlBTOjAsYXVkaW9QYWNrZXRzTG9zdDowLGF1ZGlvUGFja2V0c0xvc3RSYXRlOjAsZ29vZ0NvZGVjTmFtZTpcIlwifX0sdGhpcy5jYW52YXNUaW1lcj1udWxsLHRoaXMucmVwb3J0U2VxPU5hTix0aGlzLnN0cmVhbVJlcG9ydFNlcT0oMCxvLmdldFNlcSkoKSx0aGlzLnF1YWxpdHlVcGxvYWQ9ITEsdGhpcy5xdWFsaXR5VXBsb2FkSW50ZXJ2YWw9M2U0LHRoaXMucXVhbGl0eVVwbG9hZExhc3RUaW1lPTAsdGhpcy5xdWFsaXR5U2VxPTAsdGhpcy52aWRlb0luZm89e3dpZHRoOjAsaGVpZ2h0OjAsZnJhbWVSYXRlOjAsYml0UmF0ZTowLGNoYW5uZWxDb3VudDoxLGF1ZGlvQml0cmF0ZTo0OGUzfSx0aGlzLm1lZGlhU3RyZWFtQ29uZmlnPW51bGwsdGhpcy5vZmZlclNlcT0wLHRoaXMucGVlckNvbm5lY3Rpb249bnVsbCx0aGlzLnF1YWxpdHlDb3VudD0wLHRoaXMuY2xvc2VTZXNzaW9uU2lnbmFsPSExLHRoaXMuY2hhbm5lbENvdW50PTEsdGhpcy5sb2NhbFNkcE9yZGVyPVtdLHRoaXMucmVtb3RlU2RwT3JkZXI9W10sdGhpcy52aWRlb0NvZGVjPVwiSDI2NFwiLHRoaXMuc3RhdGVOZWdvPW8uRU5VTV9QVUJMSVNIX1NUQVRFX05FR08uc3RvcCx0aGlzLm5lZ29JbnRlcnZhbD0yNWUzLHRoaXMucHVibGlzaEV2ZW50PSExLHRoaXMuY2FtZXJhU3RhdGU9XCJvblwiLHRoaXMubWljcm9TdGF0ZT1cIm9uXCIsdGhpcy5nd05vZGU9XCJcIix0aGlzLmd3Tm9kZUxpc3Q9W10sdGhpcy5nd05vZGVUVEw9MCx0aGlzLm5lZWRJbmNNYXg9ITEsdGhpcy5wcm9iZUNvdW50PTAsdGhpcy5nb3RNYXg9ITEsdGhpcy5pbml0Rml0Q250PTAsdGhpcy50YXJnZXRSYXRlPTAsdGhpcy50b3RhbEJpdHJhdGVBcnJheT1bXSx0aGlzLnRvdGFsVGFyZ2V0UmF0ZUFycmF5PVtdLHRoaXMudG90YWxSZXRyYW5zUmF0ZUFycmF5PVtdLHRoaXMuaXNQZWVyPSExLHRoaXMucGVlckZhaWxDb3VudD0wLHRoaXMucGVlcklEPTAsdGhpcy5uZXRRdWFsaXR5PTAsdGhpcy5wcm9iZVRpbWU9MCx0aGlzLnByb2JlSW50ZXJ2YWw9NmU0LHRoaXMucHJvYmVTdGF0ZT1vLkVOVU1fUFJPQkVfU1RBVEUucHJvYmVkLHRoaXMuaWNlRGlzY29ubmVjdGVkTWF4VGltZT0xNWUzLHRoaXMuaXNVcGRhdGVTRFA9ITEsdGhpcy5pc1VkcFN1Y2Nlc3M9ITEsdGhpcy50b0JlUmVwbGFjZWRUcmFja3M9e30sdGhpcy5zZW5kX3NlcT0wLHRoaXMuZGF0YUNoYW5uZWxTdGF0ZT0wLHRoaXMuZmlyc3RfcGt0PSEwLHRoaXMubmV4dF9zbj1bXSx0aGlzLnBrdF9saXN0PVtdLHRoaXMuYW5zd2VyU2RwVGltZT0wLHRoaXMubWVkaWFTaWRlSW5mb3M9W10sdGhpcy5sb3dNZWRpYVNpZGVJbmZvcz1bXSx0aGlzLnNpZGVNZWRpYUNvbmZpZz17aXNTRUlTdGFydDohMSxTRUlUeXBlOm8uWmVnb1NFSVR5cGUuWmVnb0RlZmluZWQsdW5yZWdpc3RlclNlaUZpbHRlcjpcIlwiLHV1aWRTZW5kOiExfSx0aGlzLnBvb3JRdWFsaXR5TnVtPTAsdGhpcy5fdHVyblRvVGNwPSExLHRoaXMuZW5jb2RlTG93VmlkZW9GcmFtZT1mdW5jdGlvbihlLHQpe2MuZW5jb2RlRnJhbWUoZSx0LCEwKX0sdGhpcy5lbmNvZGVWaWRlb0ZyYW1lPWZ1bmN0aW9uKGUsdCl7Yy5lbmNvZGVGcmFtZShlLHQsITEpfSx0aGlzLmNhbWVyYV9zdGF0dXM9Mix0aGlzLm1pY19zdGF0dXM9Mix0aGlzLnN0cmVhbUlkPWUsdGhpcy5sb2dnZXI9dCx0aGlzLmRhdGFSZXBvcnQ9cix0aGlzLnF1YWxpdHlUaW1lSW50ZXJ2YWw9aSx0aGlzLnN0cmVhbUNlbnRlcj1uLHRoaXMuc3RhdGVDZW50ZXI9cyx0aGlzLmRhdGFSZXBvcnQubmV3UmVwb3J0KHRoaXMuc3RyZWFtUmVwb3J0U2VxKSx0aGlzLnZpZGVvQ29kZWM9dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJwdWJsaXNoX3ZpZGVvX2NvZGVjXCIpLHRoaXMucHJldmlld2VyPWEsdGhpcy5sb2NhbFN0cmVhbT1hLmxvY2FsU3RyZWFtLGEub25BdWRpb1RyYWNrQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWMucGVlckNvbm5lY3Rpb24mJmMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKHQpe3ZhciByO3JldHVybihudWxsPT09KHI9dC50cmFjayl8fHZvaWQgMD09PXI/dm9pZCAwOnIua2luZCk9PT1lLmtpbmR9KSk7dD8odC5yZXBsYWNlVHJhY2soZSksYy5sb2dnZXIuaW5mbyhcInpjLm9hdGMgcmVtb3RlIGF1ZGlvIHRyYWNrIGNoYW5nZSBzdWNjZXNzXCIpKTpjLmxvZ2dlci53YXJuKFwiemMub2F0YyBzdHJlYW0gaGFzIG5vdCBzZW5kZXJcIil9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsb3dTdHJlYW1cIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnByZXZpZXdlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUubG93U3RyZWFtfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnB1Ymxpc2hTdGF0ZVVwZGF0ZUVycm9yPWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXIuZXJyb3IoYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVRFX0VSUk9SK1wiICBjYWxsIFwiLHRoaXMuc3RyZWFtSWQsSlNPTi5zdHJpbmdpZnkoZSkpLHRoaXMuc3RyZWFtSWQmJnRoaXMub25QdWJsaXNoU3RhdGVVcGRhdGUoby5FTlVNX1BVQkxJU0hfU1RBVEVfVVBEQVRFLmVycm9yLHRoaXMuc3RyZWFtSWQsZSx0KSx0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFURV9FUlJPUitcIiAgZW5kZWRcIil9LGUucHJvdG90eXBlLnJlc2V0UHVibGlzaD1mdW5jdGlvbigpe3RoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1JFU0VUX1BVQkxJU0grXCIgICBcIit0aGlzLnN0cmVhbUlkK1wiIGNhbGxcIiksdGhpcy5zdGF0ZT1vLkVOVU1fUFVCTElTSF9TVEFURS5zdG9wLHRoaXMucHVibGlzaEV2ZW50PSExLG51bGw9PXRoaXMucGVlckNvbm5lY3Rpb24mJm51bGw9PXRoaXMucGVlckNvbm5lY3Rpb258fCh0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy5wZWVyQ29ubmVjdGlvbj1udWxsKSxudWxsIT10aGlzLm5lZ29UaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLm5lZ29UaW1lciksdGhpcy5uZWdvVGltZXI9bnVsbCksbnVsbCE9dGhpcy5pY2VEaXNjb25uZWN0ZWRUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLmljZURpc2Nvbm5lY3RlZFRpbWVyKSx0aGlzLmljZURpc2Nvbm5lY3RlZFRpbWVyPW51bGwpLHRoaXMuY2xlYXJQdWJsaXNoUXVhbGl0eVRpbWVyKCksdGhpcy5jbGVhckNhbnZhc1RpbWVyKCksdGhpcy5zaWduYWwmJih0aGlzLnNpZ25hbC51bnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiQ2FuZGlkYXRlSW5mb1B1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIk1lZGlhRGVzY1B1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIkNsb3NlU2Vzc2lvblB1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIlNlc3Npb25SZXNldFB1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIlB1Ymxpc2hFdmVudFB1c2hcIix0aGlzLnNlc3Npb25JZCksdGhpcy5zaWduYWwudW5yZWdpc3RlclB1c2hDYWxsYmFjayhcIkNsaWVudEluZm9QdXNoXCIsdGhpcy5zZXNzaW9uSWQpKSx0aGlzLnNlc3Npb25TZXE9MCx0aGlzLm9mZmVyU2VxPTAsdGhpcy5jYW5kaWRhdGVJbmZvPVtdLHRoaXMucHVibGlzaFF1YWxpdHlMaXN0PVtdLHRoaXMucXVhbGl0eVVwbG9hZExhc3RUaW1lPTAsdGhpcy5yZXNldEVuY0JpdHJhdGUoKSx0aGlzLmlzVXBkYXRlU0RQPSExfSxlLnByb3RvdHlwZS5jbGVhclB1Ymxpc2hRdWFsaXR5VGltZXI9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnF1YWxpdHlUaW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy5xdWFsaXR5VGltZXIpLHRoaXMucXVhbGl0eVRpbWVyPW51bGwpLHRoaXMubGFzdFB1Ymxpc2hTdGF0cz17fSx0aGlzLnF1YWxpdHlDb3VudD0wLHRoaXMucG9vclF1YWxpdHlOdW09MH0sZS5wcm90b3R5cGUuY2xlYXJDYW52YXNUaW1lcj1mdW5jdGlvbigpe251bGwhPXRoaXMuY2FudmFzVGltZXImJihjbGVhckludGVydmFsKHRoaXMuY2FudmFzVGltZXIpLHRoaXMuY2FudmFzVGltZXI9bnVsbCl9LGUucHJvdG90eXBlLnNob3VsZFNlbmRDbG9zZVNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZSE9by5FTlVNX1BVQkxJU0hfU1RBVEUuc3RvcCYmdGhpcy5zdGF0ZSE9by5FTlVNX1BVQkxJU0hfU1RBVEUud2FpdGluZ1Nlc3Npb25Sc3B9LGUucHJvdG90eXBlLnN0YXJ0UHVibGlzaD1mdW5jdGlvbihlLHQscixpLG8pe3ZhciBuLHUsZCxsLGgscD10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgXCIrZStcIiBjYWxsZWRcIiksdGhpcy5zaWduYWwmJnRoaXMuc2lnbmFsLm5lZ29JbnRlcnZhbCYmKHRoaXMubmVnb0ludGVydmFsPXRoaXMuc2lnbmFsLm5lZ29JbnRlcnZhbCksZSl7dmFyIGc7dGhpcy5sb2NhbFN0cmVhbT10LHRoaXMubWVkaWFTdHJlYW1Db25maWc9aSx0aGlzLmNoYW5uZWxDb3VudD1pLmNoYW5uZWxDb3VudCx0aGlzLnB1Ymxpc2hPcHRpb249b3x8e30sKG51bGw9PW8/dm9pZCAwOm8uU0VJVHlwZSkmJih0aGlzLnNpZGVNZWRpYUNvbmZpZy5TRUlUeXBlPW8uU0VJVHlwZSksdGhpcy5jdXJyZW50UXVhbGl0eS52aWRlby5tdXRlU3RhdGU9KG51bGw9PT0odT1udWxsPT09KG49dGhpcy5wcmV2aWV3ZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZpZGVvVHJhY2spfHx2b2lkIDA9PT11P3ZvaWQgMDp1LmVuYWJsZWQpP1wiMFwiOlwiMVwiLHRoaXMuY3VycmVudFF1YWxpdHkuYXVkaW8ubXV0ZVN0YXRlPXRoaXMubG9jYWxTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGg+MCYmdGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLmVuYWJsZWQ/XCIwXCI6XCIxXCIsbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpPi0xJiZpJiYoaS5leHRlcm5hbENhcHR1cmV8fGkuZXh0ZXJuYWxNZWRpYVN0cmVhbSkmJih0aGlzLmxvY2FsU3RyZWFtLm9uYWRkdHJhY2s9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaTtwLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIFwiK3Auc3RyZWFtSWQrXCIgVHJhY2sgYWRkZWRcIik7dmFyIG89W107KG51bGw9PT0oZT1wLnByZXZpZXdlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUudmlkZW9UcmFjaykmJm8ucHVzaChudWxsPT09KHQ9cC5wcmV2aWV3ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnZpZGVvVHJhY2spO3ZhciBuPXAubG9jYWxTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtpZihvLmxlbmd0aD4xKXt2YXIgcz1udWxsPT09KHI9cC5wZWVyQ29ubmVjdGlvbil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybihudWxsPT09KHQ9ZS50cmFjayl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaWQpPT09cC5sb2NhbFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLmlkfSkpO251bGw9PXN8fHMucmVwbGFjZVRyYWNrKG9bMV0pLHAubG9jYWxTdHJlYW0ucmVtb3ZlVHJhY2sob1swXSl9ZWxzZSBpZihuLmxlbmd0aD4xKXtzPW51bGw9PT0oaT1wLnBlZXJDb25uZWN0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKG51bGw9PT0odD1lLnRyYWNrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5raW5kKT09PW5bMV0ua2luZH0pKTtudWxsPT1zfHxzLnJlcGxhY2VUcmFjayhuWzFdKSxwLmxvY2FsU3RyZWFtLnJlbW92ZVRyYWNrKG5bMF0pfX0pLHImJih0aGlzLnZpZGVvSW5mbz1yKSxvJiZvLnZpZGVvQ29kZWMmJih0aGlzLnZpZGVvQ29kZWM9by52aWRlb0NvZGVjKTt2YXIgZj1udWxsPT09KGQ9dGhpcy5wcmV2aWV3ZXIpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLnByZXZpZXdUeXBlO3N3aXRjaChmKXtjYXNlXCJjYW1lcmFcIjpnPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiY2FtZXJhX3ZpZGVvX2JpdHJhdGVcIiwhMCk7YnJlYWs7Y2FzZVwic2NyZWVuXCI6Zz10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInNjcmVlbl92aWRlb19iaXRyYXRlXCIsITApO2JyZWFrO2Nhc2VcImN1c3RvbVwiOmc9dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJjdXN0b21fdmlkZW9fYml0cmF0ZVwiLCEwKX12b2lkIDAhPT1nJiYodGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfUFVCTElTSCtcIiBzZXR0aW5nIFwiK2YrXCIgXCIrZyksdGhpcy52aWRlb0luZm8uYml0UmF0ZT1nKTt2YXIgbT10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcImJpdHJhdGVfbW9kZVwiLCEwKTttJiYodGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfUFVCTElTSCtcIiBzZXR0aW5nIGJpdHJhdGVfbW9kZSBcIittKSx0aGlzLnZpZGVvSW5mby5zdGFydEJpdHJhdGU9bSk7dmFyIF89dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJwdWJsaXNoX3ZpZGVvX2NvZGVjXCIsITApO2lmKF8mJih0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIHNldHRpbmcgcHVibGlzaF92aWRlb19jb2RlYyBcIitfKSx0aGlzLnZpZGVvQ29kZWM9XyksXCJib29sZWFuXCI9PXR5cGVvZihudWxsPT1vP3ZvaWQgMDpvLmlzU0VJU3RhcnQpJiYodGhpcy5zaWRlTWVkaWFDb25maWcuaXNTRUlTdGFydD1udWxsPT1vP3ZvaWQgMDpvLmlzU0VJU3RhcnQpLHRoaXMuc2lkZU1lZGlhQ29uZmlnLmlzU0VJU3RhcnQpe3ZhciB2PXMuQ2xpZW50VXRpbC5pc1N1cHBvcnRFbmNvZGVkVHJhbnNmb3JtcygpO1wiSDI2NFwiPT09dGhpcy52aWRlb0NvZGVjJiZ2fHwodGhpcy5zaWRlTWVkaWFDb25maWcuaXNTRUlTdGFydD0hMSl9KG51bGw9PT0obD10aGlzLnN0YXRlQ2VudGVyLnNlaUNvbmZpZyl8fHZvaWQgMD09PWw/dm9pZCAwOmwudW5yZWdpc3RlclNFSUZpbHRlcikmJih0aGlzLnNpZGVNZWRpYUNvbmZpZy51bnJlZ2lzdGVyU2VpRmlsdGVyPW51bGw9PT0oaD10aGlzLnN0YXRlQ2VudGVyLnNlaUNvbmZpZyl8fHZvaWQgMD09PWg/dm9pZCAwOmgudW5yZWdpc3RlclNFSUZpbHRlciksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8odGhpcy5yZXBvcnRTZXEse3ZpZGVvX2VuX2NvZGVjX2lkOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC52aWRlb19lbl9jb2RlY19pZChcIlZQOFwiPT10aGlzLnZpZGVvQ29kZWM/MjowKSxhdWRpb19jX2NoYW5uZWxfY291bnQ6YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmF1ZGlvX2NfY2hhbm5lbF9jb3VudCgyPT10aGlzLmNoYW5uZWxDb3VudD8yOjEpLGF1ZGlvX2VuX2JwczphLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuYXVkaW9fZW5fYnBzKHRoaXMudmlkZW9JbmZvLmF1ZGlvQml0cmF0ZSksYWVjX2xldmVsOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5hZWNfbGV2ZWwoMT09aS5BRUM/MjowPT1pLkFFQz8wOjIpLGFuc19sZXZlbDphLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuYW5zX2xldmVsKDE9PWkuQU5TPzI6MD09aS5BTlM/MDoyKSxhZ2M6YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmFnYygxPT1pLkFHQz8yOjA9PWkuQUdDPzA6MiksdHJhZmZpY19jb250cm9sX21pbl92aWRlb19iaXRyYXRlOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC50cmFmZmljX2NvbnRyb2xfbWluX3ZpZGVvX2JpdHJhdGUodGhpcy52aWRlb0luZm8uYml0UmF0ZSl9KSx0aGlzLmlzUGVlcj90aGlzLmNyZWF0ZU9mZmVyKHtlbmNvZGVkSW5zZXJ0YWJsZVN0cmVhbXM6dGhpcy5zaWRlTWVkaWFDb25maWcuaXNTRUlTdGFydH0pOnRoaXMuY3JlYXRlU2Vzc2lvbigpLHRoaXMubmVnb1RpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cC5sb2dnZXIuZXJyb3IoYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgd2FpdGluZyB0aW1lb3V0XCIpLHAucHVibGlzaFN0YXRlVXBkYXRlRXJyb3IoYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtQdWJsaXNoTmVnb1RpbWVvdXRFcnJvcil9KSx0aGlzLm5lZ29JbnRlcnZhbCl9ZWxzZSB0aGlzLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfUFVCTElTSCtcIiBcIitlK1wiIHN0cmVhbUlkIGlzIG51bGxcIil9LGUucHJvdG90eXBlLmFjdGl2YXRlU0VJSW5zZXJ0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2UoITEpfSkpfSxlLnByb3RvdHlwZS5jcmVhdGVTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLnNlc3Npb25TZXE9KDAsby5nZXRTZXEpKCk7dmFyIGk9dGhpcy5zdHJlYW1JZDsxPT10aGlzLnN0cmVhbUNlbnRlci50ZXN0RW52aXJvbm1lbnQmJihpPVwiemVnb3Rlc3QtXCIrdGhpcy5zdHJlYW1DZW50ZXIuYXBwaWQrXCItXCIrdGhpcy5zdHJlYW1JZCksdGhpcy5zdHJlYW1DZW50ZXIuZ3dOb2RlJiYodGhpcy5nd05vZGU9dGhpcy5zdHJlYW1DZW50ZXIuZ3dOb2RlKTt2YXIgbj10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcImd3X25vZGVzXCIpO24mJm4gaW5zdGFuY2VvZiBBcnJheSYmbi5sZW5ndGg+MCYmKHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgc2V0dGluZyBcIitKU09OLnN0cmluZ2lmeShuKSksdGhpcy5nd05vZGVMaXN0PW4sdGhpcy5nd05vZGU9dGhpcy5nd05vZGVMaXN0WzBdfHx0aGlzLmd3Tm9kZSk7dmFyIHM9dGhpcy5zdGF0ZUNlbnRlci50dXJuT3ZlclRjcE9ubHksdT10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInVkcF9vcl90Y3BcIiwhMCk7aWYodSYmKHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgc2V0dGluZyB1ZHBfb3JfdGNwIFwiK3UpLHM9XCJ0Y3BcIj09PXUpLHMmJih0aGlzLmlzUGVlcj0hMSksdGhpcy5pc1BlZXIpe3RoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMucmVwb3J0U2VxLFwiQ3JlYXRlU2Vzc2lvbldpdGhTZHBcIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uV2l0aFNkcFwiKTt2YXIgZD0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLnNpZ25hbC5jcmVhdGVTZXNzaW9uV2l0aFNkcCh7c2VxOnRoaXMuc2Vzc2lvblNlcSx0eXBlOjAsbW9kZTowLHN0cmVhbUlkOmksdmlkZW9JbmZvOnRoaXMudmlkZW9JbmZvLHN0ckF1dGhQYXJhbTp0aGlzLnB1Ymxpc2hPcHRpb24mJnRoaXMucHVibGlzaE9wdGlvbi5zdHJlYW1QYXJhbXN8fFwiXCIsc2RwOnR8fGUuc2RwLHNlcnZlckhvc3Q6dGhpcy5nd05vZGV9LChmdW5jdGlvbihlLHQsaSl7dmFyIG89KG5ldyBEYXRlKS5nZXRUaW1lKCk7ci5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfUFVCTElTSCtcIiBjcmVhdGUgc2Vzc2lvbiB0aW1lIFwiKyhvLWQpKSxyLmhhbmRsZUNyZWF0ZVNlc3Npb25XaXRoU2RwUmVzcChlLHQsaSl9KSwoZnVuY3Rpb24oZSx0KXtyLnNlc3Npb25TZXE9PXQ/KHIuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2coci5yZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uXCIse2Vycm9yOmV9KSxyLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHIuc3RyZWFtUmVwb3J0U2VxLFwiQ3JlYXRlU2Vzc2lvblwiLHtlcnJvcjplfSksci5wdWJsaXNoU3RhdGVVcGRhdGVFcnJvcihlPT1vLlNFTkRfTVNHX1RJTUVPVVQ/YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtTZXNzaW9uVGltZW91dEVycm9yOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rU2Vzc2lvblJlcXVlc3RFcnJvcikpOnIubG9nZ2VyLndhcm4oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgc2VxIGlzIG5vdCBtYXRjaC5cIil9KSl9ZWxzZSB0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25cIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uXCIpLHRoaXMuc2lnbmFsLmNyZWF0ZVNlc3Npb24odGhpcy5zZXNzaW9uU2VxLDAsMCxpLHRoaXMucHVibGlzaE9wdGlvbiYmdGhpcy5wdWJsaXNoT3B0aW9uLnN0cmVhbVBhcmFtcyx0aGlzLmd3Tm9kZSwoZnVuY3Rpb24oZSx0LGkpe3IuaGFuZGxlQ3JlYXRlU2Vzc2lvblJlc3AoZSx0LGkpfSksKGZ1bmN0aW9uKGUsdCl7ci5zZXNzaW9uU2VxPT10PyhyLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHIucmVwb3J0U2VxLFwiQ3JlYXRlU2Vzc2lvblwiLHtlcnJvcjplfSksci5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyhyLnN0cmVhbVJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25cIix7ZXJyb3I6ZX0pLHIucHVibGlzaFN0YXRlVXBkYXRlRXJyb3IoZT09by5TRU5EX01TR19USU1FT1VUP2EuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rU2Vzc2lvblRpbWVvdXRFcnJvcjphLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua1Nlc3Npb25SZXF1ZXN0RXJyb3IpKTpyLmxvZ2dlci53YXJuKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIHNlcSBpcyBub3QgbWF0Y2guXCIpfSkpO3RoaXMuc3RhdGU9by5FTlVNX1BVQkxJU0hfU1RBVEUud2FpdGluZ1Nlc3Npb25Sc3AsdGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfUFVCTElTSCtcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNhbGxlZCBzdWNjZXNzXCIpLHRoaXMuc3RhdGVOZWdvPW8uRU5VTV9QVUJMSVNIX1NUQVRFX05FR08uc3RhcnR9LGUucHJvdG90eXBlLmhhbmRsZUNyZWF0ZVNlc3Npb25SZXNwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yLnR1cm5fc2VydmVyLG89aS5zcGxpdChcIj9cIilbMF0mJmkuc3BsaXQoXCI/XCIpWzBdLnNsaWNlKDUpLG49dGhpcy5zdHJlYW1DZW50ZXIuc2VydmVyLnNwbGl0KFwiP1wiKSxzPW5bMV0mJm5bMV0uc2xpY2UoMiksdT1cIndlYnJ0YzovL1wiLmNvbmNhdChvLFwiL1wiKS5jb25jYXQocyxcIi9cIikuY29uY2F0KHRoaXMuc3RyZWFtSWQpO3RoaXMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uXCIse3Nlc3Npb25JZDpyLnNlc3Npb25faWQsdXJsOnV9KSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHRoaXMucmVwb3J0U2VxLFwiQ3JlYXRlU2Vzc2lvblwiLHtzZXNzaW9uSWQ6ci5zZXNzaW9uX2lkLHVybDp1fSksdGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfUFVCTElTSCtcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHNlc3Npb25JZDpcIityLnNlc3Npb25faWQpLHRoaXMuc2Vzc2lvblNlcT09ZT8odGhpcy5nd05vZGVMaXN0PXIuZ3dfbm9kZXMmJnIuZ3dfbm9kZXMubGVuZ3RoPjA/ci5nd19ub2Rlczp0aGlzLmd3Tm9kZUxpc3QsdGhpcy5nd05vZGU9ci5nd19ub2RlcyYmci5nd19ub2Rlcy5sZW5ndGg+MD90aGlzLmd3Tm9kZUxpc3RbMF06dGhpcy5nd05vZGUsdGhpcy5nd05vZGVUVEw9ci5nd19ub2Rlc190dGw/KG5ldyBEYXRlKS5nZXRUaW1lKCkrMWUzKnIuZ3dfbm9kZXNfdHRsOnRoaXMuZ3dOb2RlVFRMLHRoaXMuc3RhdGVDZW50ZXIuY2xpZW50SVA9ci5jbGllbnRpcD9yLmNsaWVudGlwOnRoaXMuc3RhdGVDZW50ZXIuY2xpZW50SVAsMCE9PXIucmVzdWx0Pyh0aGlzLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfUFVCTElTSCtcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNyZWF0ZSBzZXNzaW9uIGZhaWxlZCBcIityLnJlc3VsdCksdGhpcy5wdWJsaXNoU3RhdGVVcGRhdGVFcnJvcihhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua1Nlc3Npb25SZXF1ZXN0RXJyb3IpKToodGhpcy5zZXNzaW9uSWQ9ci5zZXNzaW9uX2lkLHRoaXMuc2Vzc2lvblRva2VuPXIuc2Vzc2lvbl90b2tlbix0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY3JlYXRlIHNlc3Npb24gc3VjY2VzcyBcIit0aGlzLnNlc3Npb25JZCksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8odGhpcy5yZXBvcnRTZXEse3Nlc3Npb25faWQ6YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LnNlc3Npb25faWQodGhpcy5zZXNzaW9uSWQpfSksdGhpcy5vbkNyZWF0ZVB1Ymxpc2hTZXNzaW9uU3VjY2VzcyhyKSkpOnRoaXMubG9nZ2VyLmVycm9yKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgc2VxIGlzIG5vdCBtYXRjaC5cIil9LGUucHJvdG90eXBlLmhhbmRsZUNyZWF0ZVNlc3Npb25XaXRoU2RwUmVzcD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcztpZih0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIHNlc3Npb25JZDpcIit0KSx0aGlzLnNlc3Npb25TZXE9PWUpe3RoaXMuZ3dOb2RlTGlzdD1yLmd3X25vZGVzJiZyLmd3X25vZGVzLmxlbmd0aD4wP3IuZ3dfbm9kZXM6dGhpcy5nd05vZGVMaXN0LHRoaXMuZ3dOb2RlPXIuZ3dfbm9kZXMmJnIuZ3dfbm9kZXMubGVuZ3RoPjA/dGhpcy5nd05vZGVMaXN0WzBdOnRoaXMuZ3dOb2RlLHRoaXMuZ3dOb2RlVFRMPXIuZ3dfbm9kZXNfdHRsPyhuZXcgRGF0ZSkuZ2V0VGltZSgpKzFlMypyLmd3X25vZGVzX3R0bDp0aGlzLmd3Tm9kZVRUTCx0aGlzLnN0YXRlQ2VudGVyLmNsaWVudElQPXIuY2xpZW50aXA/ci5jbGllbnRpcDp0aGlzLnN0YXRlQ2VudGVyLmNsaWVudElQLHRoaXMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJDcmVhdGVTZXNzaW9uV2l0aFNkcFwiLHtzZXNzaW9uSWQ6dH0pO3ZhciBvPTAsbj0obmV3IERhdGUpLmdldFRpbWUoKTtpZih0aGlzLmRhdGFSZXBvcnQuZGF0YVN0YXRpc3RpY3NbdGhpcy5yZXBvcnRTZXFdJiZ0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY3JlYXRlIHNkcCB0aW1lIFwiKyhvPW4tdGhpcy5kYXRhUmVwb3J0LmRhdGFTdGF0aXN0aWNzW3RoaXMucmVwb3J0U2VxXS5ldmVudF90aW1lKSksdGhpcy5hbnN3ZXJTZHBUaW1lPW4sdGhpcy5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyh0aGlzLnJlcG9ydFNlcSxcIkNyZWF0ZVNlc3Npb25XaXRoU2RwXCIse3Nlc3Npb25JZDp0LHNlc3Npb25UaW1lOm99KSwwIT09ci5yZXN1bHQpdGhpcy5sb2dnZXIuZXJyb3IoYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgY3JlYXRlIHNlc3Npb24gZmFpbGVkIFwiK3IucmVzdWx0KSx0aGlzLnB1Ymxpc2hTdGF0ZVVwZGF0ZUVycm9yKHtjb2RlOmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rU2Vzc2lvblJlcXVlc3RFcnJvci5jb2RlLG1lc3NhZ2U6YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtTZXNzaW9uUmVxdWVzdEVycm9yLm1lc3NhZ2UrXCIgcmVzdWx0OlwiK3IucmVzdWx0fSk7ZWxzZXt0aGlzLnNlc3Npb25JZD10LHRoaXMuc2Vzc2lvblRva2VuPXIuc2Vzc2lvbl90b2tlbix0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TVEFSVF9QVUJMSVNIK1wiIGdldCByZW1vdGUgc2Vzc2lvbiBzdWNjZXNzIFwiK3RoaXMuc3RyZWFtSWQpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMucmVwb3J0U2VxLFwiSWNlQ29ubmVjdGVkXCIpO3ZhciBzPXBlcmZvcm1hbmNlLm5vdygpO3RoaXMuc2lnbmFsLnJlZ2lzdGVyUHVzaENhbGxiYWNrKFwiQ2xvc2VTZXNzaW9uUHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLHQscil7aWYocyl7dmFyIG89KHBlcmZvcm1hbmNlLm5vdygpLXMpLnRvRml4ZWQoMCk7cz12b2lkIDAsaS5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfUFVCTElTSCtcIiBcIi5jb25jYXQoaS5zdHJlYW1JZCxcIiwgY21kOiBDbG9zZVNlc3Npb25QdXNoLCBjb3N0X3RpbWU6IFwiKS5jb25jYXQobykpfWkub25SZWN2Q2xvc2VTZXNzaW9uKGUsdCxyKX0pKSx0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIlNlc3Npb25SZXNldFB1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSx0LHIpe2kub25SZWN2UmVzZXRTZXNzaW9uKGUsdCxyKX0pKSx0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIlB1Ymxpc2hFdmVudFB1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSx0LHIpe2lmKHMpe3ZhciBvPShwZXJmb3JtYW5jZS5ub3coKS1zKS50b0ZpeGVkKDApO3M9dm9pZCAwLGkubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgXCIuY29uY2F0KGkuc3RyZWFtSWQsXCIsIGNtZDogUHVibGlzaEV2ZW50UHVzaCwgY29zdF90aW1lOiBcIikuY29uY2F0KG8pKX1pLm9uUmVjdlB1Ymxpc2hFdmVudChlLHQscil9KSksdGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJDbGllbnRJbmZvUHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLHQscil7aS5vblJlY3ZDbGllbnRJbmZvKGUsdCxyKX0pKSx0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIk1lZGlhRGVzY1VwZGF0ZVB1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSx0LHIpe2kub25SZWN2VXBkYXRlTWVkaWFEZXNjcmlwdGlvbihlLHQscil9KSksdGhpcy5vbkdldFJlbW90ZU9mZmVyU3VjY2VzcyhyLnNkcCl9fWVsc2UgdGhpcy5sb2dnZXIuZXJyb3IoYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUQVJUX1BVQkxJU0grXCIgc2VxIGlzIG5vdCBtYXRjaC5cIil9LGUucHJvdG90eXBlLm9uQ3JlYXRlUHVibGlzaFNlc3Npb25TdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1jLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fQ1JFQVRFX1BVQkxJU0hfU0VTU0lPTl9TVUNDRVNTO3RoaXMubG9nZ2VyLmluZm8ocitcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNhbGxlZFwiKTt2YXIgaT1bXTtpZihlLnR1cm5fc2VydmVyKXt2YXIgbz1lLnR1cm5fc2VydmVyO3RoaXMuX3R1cm5Ub1RjcD10aGlzLnN0YXRlQ2VudGVyLnR1cm5PdmVyVGNwT25seSx0aGlzLnN0cmVhbUNlbnRlci5hdXRvU3dpdGNoUHJvdG9jb2w9dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJhdXRvX3RvX3RjcFwiKXx8ITE7dmFyIG49dGhpcy5zdGF0ZUNlbnRlci5zZXR0aW5nQ29uZmlnLmdldFNldHRpbmcoXCJ1ZHBfbWF4X2ZhaWxfbnVtXCIpOyFpc05hTihuKSYmKHRoaXMuc3RyZWFtQ2VudGVyLm1heFVkcEZhaWxOdW09bik7dmFyIHM9dGhpcy5zdHJlYW1DZW50ZXIsYT1zLmF1dG9Td2l0Y2hQcm90b2NvbCx1PXMubWF4VWRwRmFpbE51bSxkPXMudWRwRmFpbE51bTt0aGlzLmxvZ2dlci5pbmZvKHIrXCIgIGF1dG9Ub1RjcDogXCIuY29uY2F0KGEsXCIsIHVkcEZhaWxOdW06IFwiKS5jb25jYXQoZCxcIiwgbWF4VWRwRmFpbE51bTogXCIpLmNvbmNhdCh1LFwiLlwiKSksYSYmIXRoaXMuX3R1cm5Ub1RjcCYmZD49dSYmKHRoaXMubG9nZ2VyLmluZm8ocitcIiBzd2l0Y2ggdG8gdGNwLiBcIiksdGhpcy5fdHVyblRvVGNwPSEwKTt2YXIgbD10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInVkcF9vcl90Y3BcIiwhMCk7bCYmKHRoaXMubG9nZ2VyLmluZm8ocitcIiBzZXR0aW5nIHVkcF9vcl90Y3AgXCIrbCksdGhpcy5fdHVyblRvVGNwPVwidGNwXCI9PT1sKSx0aGlzLl90dXJuVG9UY3AmJihvPW8ucmVwbGFjZShcInVkcFwiLFwidGNwXCIpKSx0aGlzLmxvZ2dlci5pbmZvKHIrXCIgb3ZlciB0Y3AgXCIrbyksaS5wdXNoKG8pfWUuc3R1bl9zZXJ2ZXImJmkucHVzaChlLnN0dW5fc2VydmVyKTt2YXIgaD17aWNlVHJhbnNwb3J0UG9saWN5OlwicmVsYXlcIixpY2VTZXJ2ZXJzOlt7dXJsczppLHVzZXJuYW1lOmUudHVybl91c2VybmFtZSxjcmVkZW50aWFsOmUudHVybl9hdXRoX2tleX1dLGVuY29kZWRJbnNlcnRhYmxlU3RyZWFtczp0aGlzLnNpZGVNZWRpYUNvbmZpZy5pc1NFSVN0YXJ0fTt0aGlzLmxvZ2dlci5pbmZvKHIrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiB1c2VybmFtZTogXCIrZS50dXJuX3VzZXJuYW1lKSx0aGlzLmxvZ2dlci5pbmZvKHIrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBjcmVkZW50aWFsOiBcIitlLnR1cm5fYXV0aF9rZXkpLHRoaXMuY3JlYXRlT2ZmZXIoaCk7dmFyIHA9cGVyZm9ybWFuY2Uubm93KCk7dGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJDYW5kaWRhdGVJbmZvUHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLHIsaSl7dC5vblJlY3ZDYW5kaWRhdGVJbmZvKGUscixpKX0pKSx0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIkNsb3NlU2Vzc2lvblB1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSxpLG8pe2lmKHApe3ZhciBuPShwZXJmb3JtYW5jZS5ub3coKS1wKS50b0ZpeGVkKDApO3A9dm9pZCAwLHQubG9nZ2VyLmluZm8ocitcIiBcIi5jb25jYXQodC5zdHJlYW1JZCxcIiwgY21kOiBDbG9zZVNlc3Npb25QdXNoLCBjb3N0X3RpbWU6IFwiKS5jb25jYXQobikpfXQub25SZWN2Q2xvc2VTZXNzaW9uKGUsaSxvKX0pKSx0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIk1lZGlhRGVzY1B1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSxyLGkpe3Qub25SZWN2TWVkaWFEZXNjcmlwdGlvbihlLHIsaSl9KSksdGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJTZXNzaW9uUmVzZXRQdXNoXCIsdGhpcy5zZXNzaW9uSWQsKGZ1bmN0aW9uKGUscixpKXt0Lm9uUmVjdlJlc2V0U2Vzc2lvbihlLHIsaSl9KSksdGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJQdWJsaXNoRXZlbnRQdXNoXCIsdGhpcy5zZXNzaW9uSWQsKGZ1bmN0aW9uKGUsaSxvKXtpZihwKXt2YXIgbj0ocGVyZm9ybWFuY2Uubm93KCktcCkudG9GaXhlZCgwKTtwPXZvaWQgMCx0LmxvZ2dlci5pbmZvKHIrXCIgXCIuY29uY2F0KHQuc3RyZWFtSWQsXCIsIGNtZDogUHVibGlzaEV2ZW50UHVzaCwgY29zdF90aW1lOiBcIikuY29uY2F0KG4pKX10Lm9uUmVjdlB1Ymxpc2hFdmVudChlLGksbyl9KSksdGhpcy5zaWduYWwucmVnaXN0ZXJQdXNoQ2FsbGJhY2soXCJDbGllbnRJbmZvUHVzaFwiLHRoaXMuc2Vzc2lvbklkLChmdW5jdGlvbihlLHIsaSl7dC5vblJlY3ZDbGllbnRJbmZvKGUscixpKX0pKSx0aGlzLnNpZ25hbC5yZWdpc3RlclB1c2hDYWxsYmFjayhcIk1lZGlhRGVzY1VwZGF0ZVB1c2hcIix0aGlzLnNlc3Npb25JZCwoZnVuY3Rpb24oZSxyLGkpe3Qub25SZWN2VXBkYXRlTWVkaWFEZXNjcmlwdGlvbihlLHIsaSl9KSksdGhpcy5sb2dnZXIuaW5mbyhyK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbCBzdWNjZXNzXCIpfSxlLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbihlKXt2YXIgdCxyLGksbz10aGlzLG49Yy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX0NSRUFURV9QVUJMSVNIX1NFU1NJT05fU1VDQ0VTUzt0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihlKSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGUpe28ub25JY2VDYW5kaWRhdGUoZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtvLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUpe28ub25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoZSl9LHRoaXMuc3RyZWFtQ2VudGVyLmlzRGF0YUNoYW5uZWxFbmFibGVkJiYodGhpcy5kYXRhQ2hhbm5lbD10aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKHRoaXMuc3RyZWFtSWQpLHRoaXMuZGF0YUNoYW5uZWwuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdGhpcy5kYXRhQ2hhbm5lbC5vbm9wZW49ZnVuY3Rpb24oZSl7by5sb2dnZXIuaW5mbyhuK1wiIFwiK28uc3RyZWFtSWQrXCIgZGF0YSBjaGFubmVsIG9wZW5cIiksby5kYXRhQ2hhbm5lbFN0YXRlPTF9LHRoaXMuZGF0YUNoYW5uZWwub25jbG9zZT1mdW5jdGlvbihlKXtvLmxvZ2dlci5lcnJvcihuK1wiIFwiK28uc3RyZWFtSWQrXCIgZGF0YSBjaGFubmVsIGNsb3NlIFwiKX0pO3ZhciBzPVtdLHU9W107aWYodGhpcy5sb3dTdHJlYW0mJnRoaXMubG93U3RyZWFtLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQscj1udWxsPT09KHQ9by5wZWVyQ29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYWRkVHJhY2soZSxvLmxvd1N0cmVhbSk7by5zaWRlTWVkaWFDb25maWcuaXNTRUlTdGFydCYmciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5jcmVhdGVFbmNvZGVkU3RyZWFtcyYmby5jcmVhdGVWaWRlb1NlbmRlclRyYW5zZm9ybShyLCEwKX0pKSx0aGlzLmxvY2FsU3RyZWFtKXtpZih0aGlzLmxvY2FsU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0LHI9bnVsbD09PSh0PW8ucGVlckNvbm5lY3Rpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFkZFRyYWNrKGUsby5sb2NhbFN0cmVhbSk7by5zaWRlTWVkaWFDb25maWcuaXNTRUlTdGFydCYmciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5jcmVhdGVFbmNvZGVkU3RyZWFtcyYmKFwidmlkZW9cIj09PWUua2luZD9vLmNyZWF0ZVZpZGVvU2VuZGVyVHJhbnNmb3JtKHIpOlwiYXVkaW9cIj09PWUua2luZCYmby5jcmVhdGVBdWRpb1NlbmRlclRyYW5zZm9ybShyKSl9KSksIShudWxsPT09KHQ9dGhpcy5wcmV2aWV3ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnZpZGVvVHJhY2spJiZ0aGlzLnNpZGVNZWRpYUNvbmZpZy5pc1NFSVN0YXJ0KXt0aGlzLnZpZGVvSW5mby5iaXRSYXRlfHwodGhpcy52aWRlb0luZm8uYml0UmF0ZT01MCk7dmFyIGQ9dGhpcy5hZGRDYW52YXNTdHJlYW1WaWRlb1RyYWNrKCksbD10aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKGQsdGhpcy5sb2NhbFN0cmVhbSk7bCYmXCJ2aWRlb1wiPT1kLmtpbmQmJnRoaXMuY3JlYXRlVmlkZW9TZW5kZXJUcmFuc2Zvcm0obCl9KG51bGw9PT0ocj10aGlzLnByZXZpZXdlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIudmlkZW9UcmFjaykmJihzPVtudWxsPT09KGk9dGhpcy5wcmV2aWV3ZXIpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnZpZGVvVHJhY2tdKSx1PXRoaXMubG9jYWxTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKSxzLmxlbmd0aD4wJiZ0aGlzLmxvZ2dlci5pbmZvKG4rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiB2aWRlbyBkZXZpY2U6IFwiK3NbMF0ubGFiZWwpLHUubGVuZ3RoPjAmJnRoaXMubG9nZ2VyLmluZm8obitcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGF1ZGlvIGRldmljZTogXCIrdVswXS5sYWJlbCl9dmFyIGg9e29mZmVyVG9SZWNlaXZlQXVkaW86dS5sZW5ndGg+MD8xOjAsb2ZmZXJUb1JlY2VpdmVWaWRlbzpzLmxlbmd0aD4wPzE6MH07dGhpcy5sb2dnZXIuaW5mbyhuK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY3JlYXRlT2ZmZXI6IFwiK0pTT04uc3RyaW5naWZ5KGgpKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIkNyZWF0ZU9mZmVyXCIpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMuc3RyZWFtUmVwb3J0U2VxLFwiQ3JlYXRlT2ZmZXJcIiksdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcihoKS50aGVuKChmdW5jdGlvbihlKXtvLmRhdGFSZXBvcnQuZXZlbnRFbmQoby5yZXBvcnRTZXEsXCJDcmVhdGVPZmZlclwiKSxvLmRhdGFSZXBvcnQuZXZlbnRFbmQoby5zdHJlYW1SZXBvcnRTZXEsXCJDcmVhdGVPZmZlclwiKSxvLm9uQ3JlYXRlT2ZmZXJTdWNjZXNzKGUpfSksKGZ1bmN0aW9uKGUpe28uZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2coby5yZXBvcnRTZXEsXCJDcmVhdGVPZmZlclwiLHtlcnJvcjplLnRvU3RyaW5nKCl9KSxvLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKG8uc3RyZWFtUmVwb3J0U2VxLFwiQ3JlYXRlT2ZmZXJcIix7ZXJyb3I6ZS50b1N0cmluZygpfSksby5sb2dnZXIuZXJyb3IobitcIiBcIitvLnN0cmVhbUlkK1wiIGNyZWF0ZSBvZmZlciBlcnJvciBcIitlLnRvU3RyaW5nKCkpLG8ucHVibGlzaFN0YXRlVXBkYXRlRXJyb3IoYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtDcmVhdGVPZmZlckVycm9yLCEwKX0pKX0sZS5wcm90b3R5cGUuc2VuZFNFST1mdW5jdGlvbihlKXt2YXIgdCxyO2lmKFwiSDI2NFwiIT09dGhpcy52aWRlb0NvZGVjKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU0VORF9TRUkrXCIgY29kZSBub3Qgc3VwcG9ydFwiKSwhMTtpZighdGhpcy5zaWRlTWVkaWFDb25maWcuaXNTRUlTdGFydClyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NFTkRfU0VJK1wiIG5vdCBlbmFibGUgdG8gc2VuZCBzZWlcIiksITE7dmFyIGk9bnVsbD09PSh0PXRoaXMucGVlckNvbm5lY3Rpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFNlbmRlcnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrJiZcInZpZGVvXCI9PT1lLnRyYWNrLmtpbmR9KSk7cmV0dXJuIGkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mKG51bGw9PT0ocj1pWzBdKXx8dm9pZCAwPT09cj92b2lkIDA6ci5jcmVhdGVFbmNvZGVkU3RyZWFtcyk/KHRoaXMubG9nZ2VyLmVycm9yKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TRU5EX1NFSStcIiBicm93c2VyIG5vdCBzdXBwb3J0XCIpLCExKTp0aGlzLnNpZGVNZWRpYUNvbmZpZy5TRUlUeXBlPT1vLlplZ29TRUlUeXBlLlVzZXJVbnJlZ2lzdGVyJiZlLmJ5dGVMZW5ndGg8PTE2Pyh0aGlzLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU0VORF9TRUkrXCIgaW5EYXRhIHNpemUgc2hvdWxkIGdyZWF0ZXIgdGhhbiAxNlwiKSwhMSk6dGhpcy5tZWRpYVNpZGVJbmZvcy5sZW5ndGg+PTEwPyh0aGlzLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU0VORF9TRUkrXCIgc2lkZSBpbmZvIGNvdW50IGxpbWl0XCIpLCExKToodGhpcy5tZWRpYVNpZGVJbmZvcy5wdXNoKGUuYnVmZmVyKSx0aGlzLmxvd1N0cmVhbSYmdGhpcy5sb3dNZWRpYVNpZGVJbmZvcy5wdXNoKGUuYnVmZmVyKSwhMCl9LGUucHJvdG90eXBlLmNyZWF0ZUF1ZGlvU2VuZGVyVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKSxyPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybTp0aGlzLmVuY29kZUF1ZGlvRnJhbWV9KTt0LnJlYWRhYmxlLnBpcGVUaHJvdWdoKHIpLnBpcGVUbyh0LndyaXRhYmxlKX0sZS5wcm90b3R5cGUuZW5jb2RlQXVkaW9GcmFtZT1mdW5jdGlvbihlLHQpe3QuZW5xdWV1ZShlKX0sZS5wcm90b3R5cGUuY3JlYXRlVmlkZW9TZW5kZXJUcmFuc2Zvcm09ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIHI9ZS5jcmVhdGVFbmNvZGVkU3RyZWFtcygpLGk9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtOnQ/dGhpcy5lbmNvZGVMb3dWaWRlb0ZyYW1lOnRoaXMuZW5jb2RlVmlkZW9GcmFtZX0pO3IucmVhZGFibGUucGlwZVRocm91Z2goaSkucGlwZVRvKHIud3JpdGFibGUpfSxlLnByb3RvdHlwZS5lbmNvZGVTRUlOYWx1PWZ1bmN0aW9uKGUpe3ZhciB0PWUuYnl0ZUxlbmd0aCxyPXBhcnNlSW50KHQvMjU1KSxpPXQlMjU1LG49MSsocisxKSt0KzEscz1uZXcgQXJyYXlCdWZmZXIobiksYT1uZXcgRGF0YVZpZXcocyksYz0wO2Euc2V0VWludDgoYysrLHRoaXMuc2lkZU1lZGlhQ29uZmlnLlNFSVR5cGU9PT1vLlplZ29TRUlUeXBlLlVzZXJVbnJlZ2lzdGVyPzU6MjQzKTtmb3IodmFyIHU9MDt1PHI7dSsrKWEuc2V0VWludDgoYysrLDI1NSk7YS5zZXRVaW50OChjKyssaSk7dmFyIGQ9bmV3IERhdGFWaWV3KGUpO2Zvcih1PTA7dTwobnVsbD09ZT92b2lkIDA6ZS5ieXRlTGVuZ3RoKTt1KyspYS5zZXRJbnQ4KGMrKyxkLmdldEludDgodSkpO2Euc2V0SW50OChjKyssMTI4KTt2YXIgbD1bXTtyZXR1cm57cmJzcFZpZXc6YSxlYnNwTGVuZ3RoOm4rbC5sZW5ndGgsZWJzcFByZXZlbnRQcm9jZXNzUG9zOmwubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9KSl9fSxlLnByb3RvdHlwZS5lbmNvZGVGcmFtZT1mdW5jdGlvbihlLHQscil7dmFyIGk9cj90aGlzLmxvd01lZGlhU2lkZUluZm9zOnRoaXMubWVkaWFTaWRlSW5mb3M7aWYoaS5sZW5ndGg+MCl7Zm9yKHZhciBvPW5ldyBEYXRhVmlldyhlLmRhdGEpLG49W10scz0wLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIGM9dGhpcy5lbmNvZGVTRUlOYWx1KGlbYV0pO3MrPTUrKFQ9Yy5lYnNwTGVuZ3RoKSxuLnB1c2goYyl9cj90aGlzLmxvd01lZGlhU2lkZUluZm9zPVtdOnRoaXMubWVkaWFTaWRlSW5mb3M9W107Zm9yKHZhciBkPW5ldyBBcnJheUJ1ZmZlcihzK2UuZGF0YS5ieXRlTGVuZ3RoKSxsPW5ldyBEYXRhVmlldyhkKSxoPTAscD1uZXcgdS5IMjY0UGFyc2VyKG8pLGc9MCxmPSExLG09ITE7cC5OZXh0TmFsdSgpOyl7dmFyIF89MzEmby5nZXRVaW50OChwLm5hbHVfc3RhcnQrcC5zdGFydF9jb2RlX3NpemUpO2lmKDc9PV8pZj0hMCxnKz1wLm5hbHVfc2l6ZTtlbHNlIGlmKDg9PV8pbT0hMCxnKz1wLm5hbHVfc2l6ZTtlbHNlIGlmKDk9PV8pY29udGludWU7aWYoZiYmbSlicmVha31mb3IodmFyIHY9MDt2PGc7disrKWwuc2V0SW50OChoKyssby5nZXRJbnQ4KHYpKTtmb3IoYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgRT1uW2FdLFM9RS5yYnNwVmlldyxUPUUuZWJzcExlbmd0aCxDPUUuZWJzcFByZXZlbnRQcm9jZXNzUG9zO2wuc2V0VWludDgoaCsrLDApLGwuc2V0VWludDgoaCsrLDApLGwuc2V0VWludDgoaCsrLDApLGwuc2V0VWludDgoaCsrLDEpLGwuc2V0VWludDgoaCsrLDYpO2Zvcih2YXIgeT0wLFI9MDtSPFQ7UisrKUMuaW5kZXhPZihSKT4tMT8obC5zZXRJbnQ4KGgrKywzKSx5KyspOmwuc2V0SW50OChoKyssUy5nZXRJbnQ4KFIteSkpfWZvcih2PWc7djxlLmRhdGEuYnl0ZUxlbmd0aDt2KyspbC5zZXRJbnQ4KGgrKyxvLmdldEludDgodikpO2UuZGF0YT1kfXQuZW5xdWV1ZShlKX0sZS5wcm90b3R5cGUub25DcmVhdGVPZmZlclN1Y2Nlc3M9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG8scz10aGlzO3QmJih0aGlzLmlzVXBkYXRlU0RQPSEwLGkmJih0aGlzLnVwZGF0ZVNEUENhbGxCYWNrPWkpKSx0aGlzLnZpZGVvSW5mby5iaXRSYXRlPjAmJihlLnNkcD10aGlzLnVwZGF0ZUJhbmR3aWR0aFJlc3RyaWN0aW9uKGUuc2RwLHRoaXMudmlkZW9JbmZvLmJpdFJhdGUpKSxlLnNkcD1lLnNkcC5yZXBsYWNlKC9zZW5kcmVjdi9nLFwic2VuZG9ubHlcIik7dmFyIHU9ZS5zZHAubWF0Y2goL209YXBwbGljYXRpb25bXFxzXFxTXStkYXRhY2hhbm5lbFtcXHNcXFNdKy8pP2Uuc2RwLm1hdGNoKC9tPWFwcGxpY2F0aW9uW1xcc1xcU10rZGF0YWNoYW5uZWxbXFxzXFxTXSsvKVswXTpudWxsO2lmKHUpe3ZhciBkPXUucmVwbGFjZSgvc2VuZG9ubHkvLFwic2VuZHJlY3ZcIik7ZS5zZHA9ZS5zZHAucmVwbGFjZSh1LGQpfWUuc2RwPWUuc2RwLnJlcGxhY2UoL3VzZWluYmFuZGZlYz1cXGQrLywodGhpcy52aWRlb0luZm8uYXVkaW9CaXRyYXRlP1wibWF4YXZlcmFnZWJpdHJhdGU9XCIrdGhpcy52aWRlb0luZm8uYXVkaW9CaXRyYXRlOlwiXCIpKygyPT09dGhpcy52aWRlb0luZm8uY2hhbm5lbENvdW50P1wiO3N0ZXJlbz0xXCI6XCJcIikpLHRoaXMubG9jYWxTZHBPcmRlcj1lLnNkcC5tYXRjaCgvbT0oLlxcdyopXFxzL2cpfHxbXSx0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9DUkVBVEVfT0ZGRVJfU1VDQ0VTUytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGxvY2FsIHNkcCByZXZlcnQgXCIrdGhpcy5sb2NhbFNkcE9yZGVyLmpvaW4oXCJcIikpLGUuc2RwPW4uU2RwVXRpbC5nZXRTRFBCeVZpZGVEZWNvZGVUeXBlKGUuc2RwLHRoaXMudmlkZW9Db2RlYyksdGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fQ1JFQVRFX09GRkVSX1NVQ0NFU1MrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBsb2NhbFNkcDEgXCIrZS5zZHAuc3Vic3RyKDAsZS5zZHAubGVuZ3RoLzIpKSx0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9DUkVBVEVfT0ZGRVJfU1VDQ0VTUytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGxvY2FsU2RwMiBcIitlLnNkcC5zdWJzdHIoZS5zZHAubGVuZ3RoLzIpKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIlNldExvY2FsRGVzY3JpcHRpb25cIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJTZXRMb2NhbERlc2NyaXB0aW9uXCIpLG51bGw9PT0obz10aGlzLnBlZXJDb25uZWN0aW9uKXx8dm9pZCAwPT09b3x8by5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLnRoZW4oKGZ1bmN0aW9uKCl7cy5kYXRhUmVwb3J0LmV2ZW50RW5kKHMucmVwb3J0U2VxLFwiU2V0TG9jYWxEZXNjcmlwdGlvblwiKSxzLmRhdGFSZXBvcnQuZXZlbnRFbmQocy5zdHJlYW1SZXBvcnRTZXEsXCJTZXRMb2NhbERlc2NyaXB0aW9uXCIpLHMub25TZXRMb2NhbERlc2NyaXB0aW9uU3VjY2VzcyhlLHIpfSksKGZ1bmN0aW9uKGUpe3MuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2cocy5yZXBvcnRTZXEsXCJTZXRMb2NhbERlc2NyaXB0aW9uXCIse2Vycm9yOmUudG9TdHJpbmcoKX0pLHMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2cocy5zdHJlYW1SZXBvcnRTZXEsXCJTZXRMb2NhbERlc2NyaXB0aW9uXCIse2Vycm9yOmUudG9TdHJpbmcoKX0pLHMubG9nZ2VyLmVycm9yKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9DUkVBVEVfT0ZGRVJfU1VDQ0VTUytcIiBcIitzLnN0cmVhbUlkK1wiIGVycm9yIFwiK2UudG9TdHJpbmcoKSkscy5wdWJsaXNoU3RhdGVVcGRhdGVFcnJvcihhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua1NldExvY2FsRGVzY0Vycm9yLCEwKX0pKX0sZS5wcm90b3R5cGUudXBkYXRlQmFuZHdpZHRoUmVzdHJpY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1cIkFTXCI7cmV0dXJuXCJmaXJlZm94XCI9PT10aGlzLnN0YXRlQ2VudGVyLmJyb3dzZXImJih0PTFlMyoodD4+PjApLHI9XCJUSUFTXCIpLGU9LTE9PT1lLmluZGV4T2YoXCJiPVwiK3IrXCI6XCIpP2UucmVwbGFjZSgvKG09dmlkZW8uKlxcclxcbmM9SU4uKlxcclxcbikvZyxcIiQxYj1cIityK1wiOlwiK3QrXCJcXHJcXG5cIik6KGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJiPVwiK3IrXCI6LipcXHJcXG5cIixcImdcIiksXCJiPVwiK3IrXCI6XCIrdCtcIlxcclxcblwiKSkucmVwbGFjZShcImI9XCIrcitcIjpcIit0K1wiXFxyXFxuXCIsXCJcIil9LGUucHJvdG90eXBlLm9uU2V0TG9jYWxEZXNjcmlwdGlvblN1Y2Nlc3M9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPXRoaXM7dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fU0VUX0xPQ0FMX0RFU0NSSVBUSU9OX1NVQ0NFU1MrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBzdWNjZXNzXCIpLCF0aGlzLmlzVXBkYXRlU0RQJiYodGhpcy5zdGF0ZT1vLkVOVU1fUFVCTElTSF9TVEFURS53YWl0aW5nT2ZmZXJSc3ApLHQmJih0aGlzLnZpZGVvSW5mbz1pKGkoe30sdGhpcy52aWRlb0luZm8pLHQpKTt2YXIgdT1uLlNkcFV0aWwuZ2V0U0RQQnlWaWRlRGVjb2RlVHlwZShlLnNkcCx0aGlzLnZpZGVvQ29kZWMsXCJzY3JlZW5cIj09KG51bGw9PT0ocj10aGlzLnByZXZpZXdlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIucHJldmlld1R5cGUpPyF0aGlzLnN0YXRlQ2VudGVyLnNjcmVlbkhhcmR3YXJlRW5jb2RlcjohdGhpcy5zdGF0ZUNlbnRlci5oYXJkd2FyZUVuY29kZXIpLGQ9e3NkcDp1LHdpZHRoOnRoaXMudmlkZW9JbmZvLndpZHRoLGhlaWdodDp0aGlzLnZpZGVvSW5mby5oZWlnaHQsZnJhbWVSYXRlOnRoaXMudmlkZW9JbmZvLmZyYW1lUmF0ZSx2aWRlb19taW5fa3Biczp0aGlzLnZpZGVvSW5mby5iaXRSYXRlLHZpZGVvX21heF9rcGJzOnRoaXMudmlkZW9JbmZvLmJpdFJhdGUsYXVkaW9fa3Biczo0OCxrZXlmcmFtZV9pbnR2OjJ9O2lmKHRoaXMub2ZmZXJTZXE9KDAsby5nZXRTZXEpKCksdGhpcy5pc1VwZGF0ZVNEUCl7dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fU0VUX0xPQ0FMX0RFU0NSSVBUSU9OX1NVQ0NFU1MrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiB1cGRhdGUgc2RwXCIpO3ZhciBsPWkoaSh7fSxkKSx7c2VxOnRoaXMuc2Vzc2lvblNlcSxwZWVySUQ6dGhpcy5wZWVySUQsdHlwZTowfSk7cmV0dXJuIHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMucmVwb3J0U2VxLFwiU2VuZE1lZGlhRGVzY1VwZGF0ZVwiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIlNlbmRNZWRpYURlc2NVcGRhdGVcIiksdm9pZCB0aGlzLnNpZ25hbC5zZW5kTWVkaWFEZXNjVXBkYXRlUmVxKHRoaXMub2ZmZXJTZXEsdGhpcy5zZXNzaW9uSWQsbCwoZnVuY3Rpb24oZSx0LHIpe30pLChmdW5jdGlvbihlLHQpe3MuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2cocy5yZXBvcnRTZXEsXCJTZW5kTWVkaWFEZXNjVXBkYXRlXCIse2Vycm9yOmV9KSxzLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHMuc3RyZWFtUmVwb3J0U2VxLFwiU2VuZE1lZGlhRGVzY1VwZGF0ZVwiLHtlcnJvcjplfSkscy51cGRhdGVTRFBDYWxsQmFjayYmcy51cGRhdGVTRFBDYWxsQmFjaygtMSkscy5wdWJsaXNoU3RhdGVVcGRhdGVFcnJvcihlPT1vLlNFTkRfTVNHX1RJTUVPVVQ/YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtVcGRhdGVNZWRpYURlc2NyaXB0aW9uVGltZU91dDphLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua1VwZGF0ZU1lZGlhRGVzY3JpcHRpb25FcnJvcil9KSl9dGhpcy5pc1BlZXI/dGhpcy5jcmVhdGVTZXNzaW9uKGUsdSk6KHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMucmVwb3J0U2VxLFwiU2VuZE1lZGlhRGVzY1wiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIlNlbmRNZWRpYURlc2NcIiksdGhpcy5zaWduYWwuc2VuZE1lZGlhRGVzYyh0aGlzLm9mZmVyU2VxLHRoaXMuc2Vzc2lvbklkLDAsZCwoZnVuY3Rpb24oZSx0LHIpe3Mub2ZmZXJTZXE9PWUmJnMuc2Vzc2lvbklkPT10PyhzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9TRVRfTE9DQUxfREVTQ1JJUFRJT05fU1VDQ0VTUytcIiBcIitzLnN0cmVhbUlkK1wiIHNlbmQgc3VjY2Vzc1wiKSxzLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHMucmVwb3J0U2VxLFwiU2VuZE1lZGlhRGVzY1wiLHttZWRpYURlc2NyaXB0aW9uOnt3aWR0aDpkLndpZHRoLGhlaWdodDpkLmhlaWdodCxmcmFtZVJhdGU6ZC5mcmFtZVJhdGUsdmlkZW9fbWluX2twYnM6ZC52aWRlb19taW5fa3Bicyx2aWRlb19tYXhfa3BiczpkLnZpZGVvX21heF9rcGJzLGF1ZGlvX2twYnM6ZC5hdWRpb19rcGJzLGtleWZyYW1lX2ludHY6ZC5rZXlmcmFtZV9pbnR2fX0pLHMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2cocy5zdHJlYW1SZXBvcnRTZXEsXCJTZW5kTWVkaWFEZXNjXCIse21lZGlhRGVzY3JpcHRpb246e3dpZHRoOmQud2lkdGgsaGVpZ2h0OmQuaGVpZ2h0LGZyYW1lUmF0ZTpkLmZyYW1lUmF0ZSx2aWRlb19taW5fa3BiczpkLnZpZGVvX21pbl9rcGJzLHZpZGVvX21heF9rcGJzOmQudmlkZW9fbWF4X2twYnMsYXVkaW9fa3BiczpkLmF1ZGlvX2twYnMsa2V5ZnJhbWVfaW50djpkLmtleWZyYW1lX2ludHZ9fSkscy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fU0VUX0xPQ0FMX0RFU0NSSVBUSU9OX1NVQ0NFU1MrXCIgXCIrcy5zdHJlYW1JZCtcIiBzZW5kIHN1Y2Nlc3Mgc3RhdGVOZWdvOndhaXRlckFuc3dlclwiKSxzLnN0YXRlTmVnbz1vLkVOVU1fUFVCTElTSF9TVEFURV9ORUdPLndhaXRlckFuc3dlcixzLnN0YXRlPW8uRU5VTV9QVUJMSVNIX1NUQVRFLndhaXRpbmdTZXJ2ZXJBbnN3ZXIpOnMubG9nZ2VyLmVycm9yKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9TRVRfTE9DQUxfREVTQ1JJUFRJT05fU1VDQ0VTUytcIiBcIitzLnN0cmVhbUlkK1wiIHNlcSBvciBzZXNzaW9uSWQgaXMgbm90IGVxdWFsXCIpfSksKGZ1bmN0aW9uKGUsdCl7cy5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyhzLnJlcG9ydFNlcSxcIlNlbmRNZWRpYURlc2NcIix7ZXJyb3I6ZX0pLHMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2cocy5zdHJlYW1SZXBvcnRTZXEsXCJTZW5kTWVkaWFEZXNjXCIse2Vycm9yOmV9KSxzLnB1Ymxpc2hTdGF0ZVVwZGF0ZUVycm9yKGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rTWVkaWFEZXNjRXJyb3IpfSkpLHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX1NFVF9MT0NBTF9ERVNDUklQVElPTl9TVUNDRVNTK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbCBzdWNjZXNzXCIpKX0sZS5wcm90b3R5cGUub25SZWN2VXBkYXRlTWVkaWFEZXNjcmlwdGlvbj1mdW5jdGlvbihlLHQscil7dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fUkVDVl9VUERBVEVfTUVESUFfREVTQytcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHJlY2VpdmVkXCIpLHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX1JFQ1ZfVVBEQVRFX01FRElBX0RFU0MrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZWNlaXZlZCBzdGF0ZU5lZ286d2FpdGluZ0NhbmRpZGF0ZVwiKSx0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5yZXBvcnRTZXEsXCJSZWN2VXBkYXRlTWVkaWFEZXNjXCIpLHRoaXMuZGF0YVJlcG9ydC5hZGRFdmVudCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIlJlY3ZVcGRhdGVNZWRpYURlc2NcIiksdGhpcy5zaWduYWwuc2VuZFVwZGF0ZU1lZGlhRGVzY0FjayhlLHRoaXMuc2Vzc2lvbklkLDAsdGhpcy5wZWVySUQpLDE9PXIudHlwZT90aGlzLm9uR2V0UmVtb3RlT2ZmZXJTdWNjZXNzKHIuc2RwKTp0aGlzLnB1Ymxpc2hTdGF0ZVVwZGF0ZUVycm9yKGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rTWVkaWFEZXNjRXJyb3IpfSxlLnByb3RvdHlwZS5vblJlY3ZNZWRpYURlc2NyaXB0aW9uPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9SRUNWX01FRElBX0RFU0MrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZWNlaXZlZFwiKSx0aGlzLnN0YXRlPT1vLkVOVU1fUFVCTElTSF9TVEFURS53YWl0aW5nU2VydmVyQW5zd2VyPyh0aGlzLnN0YXRlTmVnbz1vLkVOVU1fUFVCTElTSF9TVEFURV9ORUdPLndhaXRpbmdDYW5kaWRhdGUsdGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fUkVDVl9NRURJQV9ERVNDK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgcmVjZWl2ZWQgc3RhdGVOZWdvOndhaXRpbmdDYW5kaWRhdGVcIiksdGhpcy5kYXRhUmVwb3J0LmFkZEV2ZW50KHRoaXMucmVwb3J0U2VxLFwiUmVjdk1lZGlhRGVzY1wiKSx0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJSZWN2TWVkaWFEZXNjXCIpLHRoaXMuc2lnbmFsLnNlbmRNZWRpYURlc2NBY2soZSx0aGlzLnNlc3Npb25JZCwwKSwxPT1yLnR5cGU/dGhpcy5vbkdldFJlbW90ZU9mZmVyU3VjY2VzcyhyLnNkcCk6dGhpcy5wdWJsaXNoU3RhdGVVcGRhdGVFcnJvcihhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua01lZGlhRGVzY0Vycm9yKSk6dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fUkVDVl9NRURJQV9ERVNDK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY3VycmVudCBzdGF0ZSBcIit0aGlzLnN0YXRlK1wiIG5vdCBhbGxvd2VkXCIpfSxlLnByb3RvdHlwZS5vbkdldFJlbW90ZU9mZmVyU3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgdCxyLGksbj10aGlzO3RoaXMudmlkZW9JbmZvLmF1ZGlvQml0cmF0ZSYmNDhlMyE9PXRoaXMudmlkZW9JbmZvLmF1ZGlvQml0cmF0ZSYmKGU9ZS5yZXBsYWNlKC9tYXhhdmVyYWdlYml0cmF0ZT0oXFxkKykvLFwibWF4YXZlcmFnZWJpdHJhdGU9XCIrdGhpcy52aWRlb0luZm8uYXVkaW9CaXRyYXRlKSksdGhpcy5yZW1vdGVTZHBPcmRlcj1lLm1hdGNoKC9tPSguXFx3KilcXHMvZyl8fFtdLHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX0dFVF9SRU1PVEVfREVTQ1JJUFRJT04rXCIgXCIrdGhpcy5zdHJlYW1JZCtOYU4rdGhpcy5yZW1vdGVTZHBPcmRlci5qb2luKFwiXCIpKSx0aGlzLl90dXJuVG9UY3A9dGhpcy5zdGF0ZUNlbnRlci50dXJuT3ZlclRjcE9ubHksdGhpcy5zdHJlYW1DZW50ZXIuYXV0b1N3aXRjaFByb3RvY29sPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiYXV0b190b190Y3BcIil8fCExO3ZhciBzPXRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwidWRwX21heF9mYWlsX251bVwiKTshaXNOYU4ocykmJih0aGlzLnN0cmVhbUNlbnRlci5tYXhVZHBGYWlsTnVtPXMpO3ZhciB1PXRoaXMuc3RyZWFtQ2VudGVyLGQ9dS5hdXRvU3dpdGNoUHJvdG9jb2wsbD11Lm1heFVkcEZhaWxOdW0saD11LnVkcEZhaWxOdW07dGhpcy5sb2dnZXIuaW5mbyhcInpwLm9yby4wICBhdXRvVG9UY3A6IFwiLmNvbmNhdChkLFwiLCB1ZHBGYWlsTnVtOiBcIikuY29uY2F0KGgsXCIsIG1heFVkcEZhaWxOdW06IFwiKS5jb25jYXQobCxcIi5cIikpLGQmJiF0aGlzLl90dXJuVG9UY3AmJmg+PWwmJih0aGlzLmxvZ2dlci5pbmZvKFwienAub3JvLjAgc3dpdGNoIHRvIHRjcC5cIiksdGhpcy5fdHVyblRvVGNwPSEwKTt2YXIgcD10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInVkcF9vcl90Y3BcIiwhMCk7aWYocCYmKHRoaXMubG9nZ2VyLmluZm8oXCJ6cC5vcm8uMCBzZXR0aW5nIHVkcF9vcl90Y3AgXCIrcCksdGhpcy5fdHVyblRvVGNwPVwidGNwXCI9PT1wKSx0aGlzLl90dXJuVG9UY3AmJihudWxsPT09KHQ9ZS5tYXRjaCgvY2FuZGlkYXRlLiovZykpfHx2b2lkIDA9PT10fHx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQucmVwbGFjZSgvdWRwLyxcInRjcFwiKTtyLmluY2x1ZGVzKFwiIHRjcHR5cGUgXCIpfHwocj1yLnJlcGxhY2UoXCIgdHlwIGhvc3QgXCIsXCIgdHlwIGhvc3QgdGNwdHlwZSBwYXNzaXZlIFwiKSksZT1lLnJlcGxhY2UodCxyKX0pKSksdGhpcy5sb2dnZXIuaW5mbyhcInpwLm9yby4wIFwiK3RoaXMuc3RyZWFtSWQrXCIgc2RwIHJldmVydCBcIit0aGlzLmxvY2FsU2RwT3JkZXIuam9pbihcIlwiKStcIiBcIit0aGlzLnJlbW90ZVNkcE9yZGVyLmpvaW4oXCJcIikpLHRoaXMubG9jYWxTZHBPcmRlci5qb2luKCkhPT10aGlzLnJlbW90ZVNkcE9yZGVyLmpvaW4oKSYmdGhpcy5sb2NhbFNkcE9yZGVyLmxlbmd0aD09dGhpcy5yZW1vdGVTZHBPcmRlci5sZW5ndGgpe3ZhciBnPW5ldyBSZWdFeHAoXCJbXFxcXHNcXFxcU10qXCIrdGhpcy5yZW1vdGVTZHBPcmRlclswXSkuZXhlYyhlKVswXS5yZXBsYWNlKHRoaXMucmVtb3RlU2RwT3JkZXJbMF0sXCJcIiksZj1bXSxtPVwiXCI7dGhpcy5sb2NhbFNkcE9yZGVyLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPW4ucmVtb3RlU2RwT3JkZXIuZmluZEluZGV4KChmdW5jdGlvbihlKXtyZXR1cm4gZT09dH0pKSxpPW5ldyBSZWdFeHAodCtcIltcXFxcc1xcXFxTXSpcIisobi5yZW1vdGVTZHBPcmRlcltyKzFdfHxcIlwiKSkuZXhlYyhlKVswXS5yZXBsYWNlKG4ucmVtb3RlU2RwT3JkZXJbcisxXSxcIlwiKSxvPS9hPW1pZDooXFx3KS8uZXhlYyhpKVsxXTtmLnB1c2gobyksbSs9aXx8XCJcIn0pKSxlPWcucmVwbGFjZSgvYT1ncm91cDpCVU5ETEUuKi8sXCJhPWdyb3VwOkJVTkRMRSBcIitmLmpvaW4oXCIgXCIpKSttLHRoaXMubG9jYWxTZHBPcmRlcj1bXSx0aGlzLnJlbW90ZVNkcE9yZGVyPVtdfXZhciBfPWUubWF0Y2goL209dmlkZW8oLnxcXHJ8XFxuKSphPXJ0cG1hcCgufFxccnxcXG4pKihhPWZtdHA6KFxcZCspLiopLyk7aWYoXCJjaHJvbWVcIj09dGhpcy5zdGF0ZUNlbnRlci5icm93c2VyKXt2YXIgdj0wO2lmKHRoaXMudmlkZW9JbmZvLmJpdFJhdGUmJlwidGFyZ2V0XCI9PT10aGlzLnZpZGVvSW5mby5zdGFydEJpdHJhdGUmJih2PXRoaXMudmlkZW9JbmZvLmJpdFJhdGUpLG51bGwhPT1fJiZ2KXt2YXIgRT1fWzNdO2U9LTEhPT1FLmluZGV4T2YoXCJhcHQ9XCIpP2UucmVwbGFjZShFLFwiYT1mbXRwOjk2IHgtZ29vZ2xlLXN0YXJ0LWJpdHJhdGU9XCIrditcIlxcblwiK0UpOmUucmVwbGFjZShFLEUrXCI7eC1nb29nbGUtc3RhcnQtYml0cmF0ZT1cIit2KX19aWYodGhpcy52aWRlb0luZm8uYml0UmF0ZT4wKXt2YXIgUz0vYj1BUy4qKFxcclxcbnxcXG4pLy50ZXN0KGUpO2U9Uz9lLnJlcGxhY2UoL0FTOihcXGQrKS8sXCJBUzpcIit0aGlzLnZpZGVvSW5mby5iaXRSYXRlKTplLnJlcGxhY2UoL209dmlkZW8uKihcXHJcXG58XFxuKWM9LiooXFxyXFxufFxcbikvLFwiJCZiPUFTOlwiLmNvbmNhdCh0aGlzLnZpZGVvSW5mby5iaXRSYXRlLFwiXFxuXCIpKTt2YXIgVD1udWxsPT09KHI9dGhpcy5wZWVyQ29ubmVjdGlvbil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0U2VuZGVycygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2smJlwidmlkZW9cIj09PWUudHJhY2sua2luZH0pKTtudWxsPT1UfHxULmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxvLHMsYTtpZihlJiZlLmdldFBhcmFtZXRlcnMmJmUuc2V0UGFyYW1ldGVycyl7dmFyIGM9ZS5nZXRQYXJhbWV0ZXJzKCk7aWYoYy5lbmNvZGluZ3MmJjAhPWMuZW5jb2RpbmdzLmxlbmd0aHx8KGMuZW5jb2RpbmdzPVt7fV0pLChudWxsPT09KHQ9ZS50cmFjayl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaWQpPT0obnVsbD09PShyPW4ubG93U3RyZWFtKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRWaWRlb1RyYWNrcygpWzBdLmlkKSl7dmFyIHU9bnVsbD09PShpPW4ucHJldmlld2VyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5sb3dTdHJlYW1Db25maWcuYml0UmF0ZTt1JiYoYy5lbmNvZGluZ3NbMF0ubWF4Qml0cmF0ZT0xZTMqdSl9ZWxzZXtjLmVuY29kaW5nc1swXS5tYXhCaXRyYXRlPTFlMypuLnZpZGVvSW5mby5iaXRSYXRlO3ZhciBkPW4ubGFzdFB1Ymxpc2hTdGF0cy5mcmFtZVdpZHRoLGw9KG51bGw9PT0ocz1udWxsPT09KG89bi5wcmV2aWV3ZXIpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmNhbWVyYU1heFJlc29sdXRpb24pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm1heFdpZHRoKXx8MCxoPW51bGw9PT0oYT1uLnByZXZpZXdlci52aWRlb1RyYWNrKXx8dm9pZCAwPT09YT92b2lkIDA6YS5nZXRTZXR0aW5ncygpLndpZHRoLHA9ZD9NYXRoLm1pbihsLGQpOmw7aWYobCYmaCl7dmFyIGc9TWF0aC5tYXgocC9oLDEpO2MuZW5jb2RpbmdzWzBdLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1nfX1lLnNldFBhcmFtZXRlcnMoYyl9fSkpfXRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX0dFVF9SRU1PVEVfREVTQ1JJUFRJT04rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZW1vdGVTZHA6XCIsZSk7dmFyIEM9e3R5cGU6XCJhbnN3ZXJcIixzZHA6ZSx0b0pTT046ZnVuY3Rpb24oKXt9fTt0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIlNldFJlbW90ZURlc2NyaXB0aW9uXCIpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMuc3RyZWFtUmVwb3J0U2VxLFwiU2V0UmVtb3RlRGVzY3JpcHRpb25cIiksbnVsbD09PShpPXRoaXMucGVlckNvbm5lY3Rpb24pfHx2b2lkIDA9PT1pfHxpLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oQykpLnRoZW4oKGZ1bmN0aW9uKCl7bi5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fR0VUX1JFTU9URV9ERVNDUklQVElPTitcIiBcIituLnN0cmVhbUlkK1wiIHNldCBzdWNjZXNzXCIpLG4uZGF0YVJlcG9ydC5ldmVudEVuZChuLnJlcG9ydFNlcSxcIlNldFJlbW90ZURlc2NyaXB0aW9uXCIpLG4uZGF0YVJlcG9ydC5ldmVudEVuZChuLnN0cmVhbVJlcG9ydFNlcSxcIlNldFJlbW90ZURlc2NyaXB0aW9uXCIpLG4uc3RhdGVOZWdvPT1vLkVOVU1fUFVCTElTSF9TVEFURV9ORUdPLmljZUNvbm5lY3RlZCYmbi51cGRhdGVTRFBDYWxsQmFjayYmKG4ubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX0dFVF9SRU1PVEVfREVTQ1JJUFRJT04rXCIgXCIrbi5zdHJlYW1JZCtcIiB1cGRhdGUgc2RwIHN1Y2Nlc3NcIiksbi51cGRhdGVTRFBDYWxsQmFjaygwKSxuLnVwZGF0ZVNEUENhbGxCYWNrPXZvaWQgMCxuLmlzVXBkYXRlU0RQPSExKX0pLChmdW5jdGlvbihlKXtuLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fR0VUX1JFTU9URV9ERVNDUklQVElPTitcIiBcIituLnN0cmVhbUlkK1wiIGZhaWxlZDogXCIrZS50b1N0cmluZygpKSxuLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKG4ucmVwb3J0U2VxLFwiU2V0UmVtb3RlRGVzY3JpcHRpb25cIix7ZXJyb3I6ZS50b1N0cmluZygpfSksbi5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyhuLnN0cmVhbVJlcG9ydFNlcSxcIlNldFJlbW90ZURlc2NyaXB0aW9uXCIse2Vycm9yOmUudG9TdHJpbmcoKX0pLG4ucHVibGlzaFN0YXRlVXBkYXRlRXJyb3IoYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtTZXRSZW1vdGVEZXNjRXJyb3IsITApfSkpLHRoaXMuc3RhdGU9by5FTlVNX1BVQkxJU0hfU1RBVEUud2FpdGluZ1NlcnZlcklDRSx0aGlzLmxvZ2dlci5kZWJ1ZyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fR0VUX1JFTU9URV9ERVNDUklQVElPTitcIiBcIit0aGlzLnN0cmVhbUlkK1wiIGNhbGwgc3VjY2Vzc1wiKX0sZS5wcm90b3R5cGUub25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnN0YXRlIT1vLkVOVU1fUFVCTElTSF9TVEFURS5zdG9wJiZudWxsIT10aGlzLnBlZXJDb25uZWN0aW9uKWlmKHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX0lDRV9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRStcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHN0YXRlQ2hhbmdlZCBcIit0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSksXCJjb25uZWN0ZWRcIj09PXRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKXtpZih0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9JQ0VfQ09OTkVDVElPTl9TVEFURV9DSEFOR0UrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBjb25uZWN0ZWQgc3RhdGUgXCIrdGhpcy5zdGF0ZSksdGhpcy5kYXRhUmVwb3J0LmV2ZW50RW5kKHRoaXMucmVwb3J0U2VxLFwiSWNlQ29ubmVjdGVkXCIpLHRoaXMuZGF0YVJlcG9ydC5ldmVudEVuZCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIkljZUNvbm5lY3RlZFwiKSx0aGlzLnN0YXRlTmVnbz1vLkVOVU1fUFVCTElTSF9TVEFURV9ORUdPLmljZUNvbm5lY3RlZCx0aGlzLmFuc3dlclNkcFRpbWUpe3ZhciByPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuYW5zd2VyU2RwVGltZTt0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9JQ0VfQ09OTkVDVElPTl9TVEFURV9DSEFOR0UrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBpY2UgdGltZSBcIityKX10aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9JQ0VfQ09OTkVDVElPTl9TVEFURV9DSEFOR0UrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBzdGF0ZU5lZ286aWNlQ29ubmVjdGVkXCIpLHRoaXMubmVnb1RpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMubmVnb1RpbWVyKSx0aGlzLm5lZ29UaW1lcj1udWxsKSxudWxsIT10aGlzLmljZURpc2Nvbm5lY3RlZFRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuaWNlRGlzY29ubmVjdGVkVGltZXIpLHRoaXMuaWNlRGlzY29ubmVjdGVkVGltZXI9bnVsbCksdGhpcy5wdWJsaXNoRXZlbnQ/dGhpcy5wdWJsaXNoU3VjY2VzcygpOih0aGlzLmZpcnN0R2V0U3RhdHNUaW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuZmlyc3RHZXRTdGF0c1RpbWVyKSx0aGlzLmZpcnN0R2V0U3RhdHNUaW1lcj1udWxsLHRoaXMuZmlyc3RHZXRTdGF0c1RpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU7dC5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFK1wiIGdldCBmaXJzdCBzdGF0cyBzdGF0ZSBcIit0LnN0YXRlKSx0LnN0YXRlIT09by5FTlVNX1BVQkxJU0hfU1RBVEUucHVibGlzaGluZyYmKG51bGw9PT0oZT10LnBlZXJDb25uZWN0aW9uKXx8dm9pZCAwPT09ZXx8ZS5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX0lDRV9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRStcIiBnZXQgZmlyc3Qgc3RhdHMgc3VjXCIpLGUuc2l6ZT4wJiZ0LnB1Ymxpc2hTdWNjZXNzKCl9KSkpfSksMWUzKSl9ZWxzZVwiY2xvc2VkXCI9PT10aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZT8odGhpcy5kYXRhUmVwb3J0LmFkZEV2ZW50KHRoaXMucmVwb3J0U2VxLFwiSWNlQ2xvc2VkXCIpLHRoaXMuc3RhdGVOZWdvPW8uRU5VTV9QVUJMSVNIX1NUQVRFX05FR08uaWNlQ2xvc2VkLHRoaXMuY2hlY2tQdWJsaXNoQ29ubmVjdGlvbkZhaWxlZFN0YXRlKHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKSk6XCJmYWlsZWRcIj09PXRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlPyh0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5yZXBvcnRTZXEsXCJJY2VGYWlsZWRcIiksdGhpcy5zdGF0ZU5lZ289by5FTlVNX1BVQkxJU0hfU1RBVEVfTkVHTy5pY2VGYWlsZWQsdGhpcy5jaGVja1B1Ymxpc2hDb25uZWN0aW9uRmFpbGVkU3RhdGUodGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpKTpcImRpc2Nvbm5lY3RlZFwiPT09dGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUmJih0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5yZXBvcnRTZXEsXCJJY2VEaXNjb25uZWN0ZWRcIiksdGhpcy5sb2dnZXIud2FybihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFK1wiIGljZSBkaXNjb25uZWN0ZWQgXCIpLHRoaXMuc3RhdGVOZWdvPW8uRU5VTV9QVUJMSVNIX1NUQVRFX05FR08uaWNlRGlzY29ubmVjdGVkLHRoaXMuaWNlRGlzY29ubmVjdGVkVGltZXJ8fCh0aGlzLmljZURpc2Nvbm5lY3RlZFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5jaGVja1B1Ymxpc2hDb25uZWN0aW9uRmFpbGVkU3RhdGUoXCJkaXNjb25uZWN0ZWRcIil9KSx0aGlzLmljZURpc2Nvbm5lY3RlZE1heFRpbWUpKSl9LGUucHJvdG90eXBlLm9uSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKGUpeyh0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9JQ0VfQ0FORElEQVRFK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FuZGlkYXRlXCIrZS5jYW5kaWRhdGUpLGUuY2FuZGlkYXRlKSYmKHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX0lDRV9DQU5ESURBVEUrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBjYW5kaWRhdGVcIitlLmNhbmRpZGF0ZS5jYW5kaWRhdGUpLHRoaXMuc3RhdGU8by5FTlVNX1BVQkxJU0hfU1RBVEUuY29ubmVjdGluZ3x8dGhpcy5zdGF0ZT09by5FTlVNX1BVQkxJU0hfU1RBVEUuc3RvcD90aGlzLmNhbmRpZGF0ZUluZm8ucHVzaCh7Y2FuZGlkYXRlOmUuY2FuZGlkYXRlLmNhbmRpZGF0ZSxzZHBNaWQ6ZS5jYW5kaWRhdGUuc2RwTWlkLHNkcE1MaW5lSW5kZXg6ZS5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleH0pOnRoaXMuc2VuZENhbmRpZGF0ZUluZm8oW3tjYW5kaWRhdGU6ZS5jYW5kaWRhdGUuY2FuZGlkYXRlLHNkcE1pZDplLmNhbmRpZGF0ZS5zZHBNaWQsc2RwTUxpbmVJbmRleDplLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4fV0pKX0sZS5wcm90b3R5cGUuc2VuZENhbmRpZGF0ZUluZm89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TRU5EX0NBTkRJREFURV9JTkZPK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbGVkXCIpLCEoZT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2FuZGlkYXRlLmluZGV4T2YoXCJyZWxheVwiKT4wfSkpKXx8ZS5sZW5ndGg8MT90aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TRU5EX0NBTkRJREFURV9JTkZPK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FuY2VsbGVkXCIpOih0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIlNlbmRJY2VDYW5kaWRhdGVcIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJTZW5kSWNlQ2FuZGlkYXRlXCIpLHRoaXMuc3RhdGVOZWdvIT09by5FTlVNX1BVQkxJU0hfU1RBVEVfTkVHTy5pY2VDb25uZWN0ZWQmJih0aGlzLnN0YXRlTmVnbz1vLkVOVU1fUFVCTElTSF9TVEFURV9ORUdPLnNlbmRDYW5kaWRhdGUpLHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NFTkRfQ0FORElEQVRFX0lORk8rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBzdGF0ZU5lZ286c2VuZENhbmRpZGF0ZVwiKSx0aGlzLnNpZ25hbC5zZW5kQ2FuZGlkYXRlSW5mbygoMCxvLmdldFNlcSkoKSx0aGlzLnNlc3Npb25JZCxlLChmdW5jdGlvbihlLHIsaSl7dC5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU0VORF9DQU5ESURBVEVfSU5GTytcIiBcIit0LnN0cmVhbUlkK1wiIHNlbmQgc3VjY2Vzc1wiKSx0LmRhdGFSZXBvcnQuZXZlbnRFbmQodC5yZXBvcnRTZXEsXCJTZW5kSWNlQ2FuZGlkYXRlXCIpLHQuZGF0YVJlcG9ydC5ldmVudEVuZCh0LnN0cmVhbVJlcG9ydFNlcSxcIlNlbmRJY2VDYW5kaWRhdGVcIil9KSwoZnVuY3Rpb24oZSxyKXt0LmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU0VORF9DQU5ESURBVEVfSU5GTytcIiBcIit0LnN0cmVhbUlkK1wiIGZhaWxlZCB0byBzZW5kOiBcIitlLnRvU3RyaW5nKCkpLHQuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codC5yZXBvcnRTZXEsXCJTZW5kSWNlQ2FuZGlkYXRlXCIse2Vycm9yOmV9KSx0LmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKHQuc3RyZWFtUmVwb3J0U2VxLFwiU2VuZEljZUNhbmRpZGF0ZVwiLHtlcnJvcjplfSksdC5wdWJsaXNoU3RhdGVVcGRhdGVFcnJvcihhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua0NhbmRpZGF0ZUVycm9yKX0pKSl9LGUucHJvdG90eXBlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbGVkIFwiK2UudGFyZ2V0LnNpZ25hbGluZ1N0YXRlKX0sZS5wcm90b3R5cGUub25SZWN2Q2FuZGlkYXRlSW5mbz1mdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX1JFQ1ZfQ0FORElEQVRFX0lORk8rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZWNlaXZlZCBcIitKU09OLnN0cmluZ2lmeShyLmluZm9zKSksdGhpcy5zdGF0ZT09by5FTlVNX1BVQkxJU0hfU1RBVEUud2FpdGluZ1NlcnZlcklDRSl7dGhpcy5kYXRhUmVwb3J0LmFkZEV2ZW50KHRoaXMucmVwb3J0U2VxLFwiUmVjdkljZUNhbmRpZGF0ZVwiKSx0aGlzLmRhdGFSZXBvcnQuYWRkRXZlbnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJSZWN2SWNlQ2FuZGlkYXRlXCIpLHRoaXMuc2lnbmFsLnNlbmRDYW5kaWRhdGVJbmZvQWNrKGUsdGhpcy5zZXNzaW9uSWQsMCksdGhpcy5zZW5kQ2FuZGlkYXRlSW5mbyh0aGlzLmNhbmRpZGF0ZUluZm8pLHRoaXMuY2FuZGlkYXRlSW5mbz1bXTtmb3IodmFyIHM9MDtzPHIuaW5mb3MubGVuZ3RoO3MrKyl7dmFyIHU9e3NkcE1pZDpyLmluZm9zW3NdLnNkcE1pZCxzZHBNTGluZUluZGV4OnIuaW5mb3Nbc10uc2RwTUxpbmVJbmRleCxjYW5kaWRhdGU6ci5pbmZvc1tzXS5jYW5kaWRhdGV9O3RoaXMubG9nZ2VyLmRlYnVnKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9SRUNWX0NBTkRJREFURV9JTkZPK1wiXCIrdGhpcy5zdHJlYW1JZCtcIiBjYW5kaWRhdGUgXCIrdS5jYW5kaWRhdGUpLG51bGw9PT0oaT10aGlzLnBlZXJDb25uZWN0aW9uKXx8dm9pZCAwPT09aXx8aS5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZSh1KSkudGhlbigoZnVuY3Rpb24oKXtuLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9SRUNWX0NBTkRJREFURV9JTkZPK1wiIFwiK24uc3RyZWFtSWQrXCIgYWRkIHN1Y2Nlc3NcIil9KSwoZnVuY3Rpb24oZSl7bi5sb2dnZXIuZXJyb3IoYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX1JFQ1ZfQ0FORElEQVRFX0lORk8rXCIgXCIrbi5zdHJlYW1JZCtcIiBhZGQgZXJyb3IgXCIrZS50b1N0cmluZygpKSxuLnB1Ymxpc2hTdGF0ZVVwZGF0ZUVycm9yKGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rQ2FuZGlkYXRlRXJyb3IsITApfSkpfXRoaXMuc3RhdGU9by5FTlVNX1BVQkxJU0hfU1RBVEUuY29ubmVjdGluZyx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnJlcG9ydFNlcSxcIkljZUNvbm5lY3RlZFwiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydCh0aGlzLnN0cmVhbVJlcG9ydFNlcSxcIkljZUNvbm5lY3RlZFwiKX1lbHNlIHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX09OX1JFQ1ZfQ0FORElEQVRFX0lORk8rXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBjdXJyZW50IHN0YXRlIFwiK3RoaXMuc3RhdGUrXCIgbm90IGFsbG93ZWRcIil9LGUucHJvdG90eXBlLm9uUmVjdkNsb3NlU2Vzc2lvbj1mdW5jdGlvbihlLHQscil7dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fUkVDVl9DTE9TRV9TRVNTSU9OK1wiXCIrdGhpcy5zdHJlYW1JZCtcIiBcIitKU09OLnN0cmluZ2lmeShyKSksdGhpcy5kYXRhUmVwb3J0LmFkZEV2ZW50KHRoaXMucmVwb3J0U2VxLFwiUmVjdkNsb3NlU2Vzc2lvblwiKSx0aGlzLnNpZ25hbC5zZW5kQ2xvc2VTZXNzaW9uQWNrKGUsdGhpcy5zZXNzaW9uSWQsMCk7dmFyIGk9ci5lcnJfaW5mbz9KU09OLnBhcnNlKHIuZXJyX2luZm8udG9Mb3dlckNhc2UoKSk6e30sbz1pLmFjdGlvbj9pLmFjdGlvbjpudWxsLG49MSpyLnJlYXNvbixzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtQdWJsaXNoU2Vzc2lvbkNsb3NlZEVycm9yKSk7cy5tZXNzYWdlKz1cIiByZWFzb246XCIuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChvP1wiIGFjdGlvbjpcIitvOlwiXCIsXCIgXCIpLmNvbmNhdCgobnVsbD09aT92b2lkIDA6aS5lcnIpP1wiIGVycjpcIisobnVsbD09aT92b2lkIDA6aS5lcnIpOlwiXCIpLDEwMTE9PT1pLmVyciYmKHM9YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtNZWRpYVNlcnZlckZvcmJpZEVycm9yKSwxMDE0PT09aS5lcnImJihzPWEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5lcnJvci5rUHVibGlzaFRva2VuRXhwaXJlZEVycm9yKSx0aGlzLm5lZ29UaW1lciYmY2xlYXJUaW1lb3V0KHRoaXMubmVnb1RpbWVyKTt2YXIgdT0hWzQsOCwxMCwxMSwxMiwxNCwxOCwyNCwyNiwyNywyOF0uaW5jbHVkZXMobikmJiFbMiw1LDZdLmluY2x1ZGVzKG8pO2lmKFs4LDEwXS5pbmNsdWRlcyhuKXx8WzE4LDE1XS5pbmNsdWRlcyhuKSYmMj09PW8mJlszMDAxLDMwMDJdLmluY2x1ZGVzKGkuZXJyKSl7dGhpcy5zdHJlYW1DZW50ZXIudWRwRmFpbE51bSsrO3ZhciBkPXRoaXMuc3RyZWFtQ2VudGVyO2QuYXV0b1N3aXRjaFByb3RvY29sJiZkLnVkcEZhaWxOdW0+PWQubWF4VWRwRmFpbE51bSYmKHRoaXMuaXNQZWVyPSExLHRoaXMuc3RyZWFtQ2VudGVyLnNldElzUGVlcighMSkpfWVsc2UgdGhpcy5fdHVyblRvVGNwfHwodGhpcy5zdHJlYW1DZW50ZXIudWRwRmFpbE51bT0wKTt0aGlzLnB1Ymxpc2hTdGF0ZVVwZGF0ZUVycm9yKHMsdSl9LGUucHJvdG90eXBlLm9uUmVjdlJlc2V0U2Vzc2lvbj1mdW5jdGlvbihlLHQscil7aWYodGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fUkVDVl9SRVNFVF9TRVNTSU9OK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgcmVjZWl2ZWQgXCIpLHQ9PXRoaXMuc2Vzc2lvbklkKXt0aGlzLnNpZ25hbC5zZW5kQ2xvc2VTZXNzaW9uQWNrKGUsdGhpcy5zZXNzaW9uSWQsMCk7dmFyIGk9YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtQdWJsaXNoU2Vzc2lvbkNsb3NlZEVycm9yO3RoaXMubmVnb1RpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5uZWdvVGltZXIpLHRoaXMucHVibGlzaFN0YXRlVXBkYXRlRXJyb3IoaSl9ZWxzZSB0aGlzLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fUkVDVl9SRVNFVF9TRVNTSU9OK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2Fubm90IGZpbmQgc2Vzc2lvblwiKX0sZS5wcm90b3R5cGUub25SZWN2UHVibGlzaEV2ZW50PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9SRUNWX1BVQkxJU0hfRVZFTlQrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiByZWNlaXZlZFwiKSx0aGlzLnB1Ymxpc2hFdmVudD0hMCx0aGlzLmZpcnN0R2V0U3RhdHNUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLmZpcnN0R2V0U3RhdHNUaW1lciksdGhpcy5maXJzdEdldFN0YXRzVGltZXI9bnVsbCksdGhpcy5zdGF0ZU5lZ289PT1vLkVOVU1fUFVCTElTSF9TVEFURV9ORUdPLmljZUNvbm5lY3RlZCYmMD09ci5ldmVudCYmdGhpcy5wdWJsaXNoU3VjY2VzcygpfSxlLnByb3RvdHlwZS5vblJlY3ZDbGllbnRJbmZvPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnN0YXRlQ2VudGVyLmNsaWVudElQIT09ci5jbGllbnRpcCYmdGhpcy5sb2dnZXIud2FybihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fUkVDVl9DTElFTlRfSU5GTytcIiBjbGllbnQgaXAgY2hhbmdlZCBcIit0aGlzLnN0YXRlQ2VudGVyLmNsaWVudElQK1wiIFwiK3IuY2xpZW50aXApLHRoaXMuc3RhdGVDZW50ZXIuY2xpZW50SVA9ci5jbGllbnRpcCx0aGlzLnBlZXJJRD1yLnBlZXJfaWQsdGhpcy5zaWRlTWVkaWFDb25maWcuaXNTRUlTdGFydCYmdGhpcy5zaWRlTWVkaWFDb25maWcuU0VJVHlwZT09by5aZWdvU0VJVHlwZS5Vc2VyVW5yZWdpc3RlciYmdGhpcy5zZW5kU0VJVVVJRCgpO3ZhciBpPXRoaXMucHJldmlld2VyO2lmKGkmJm51bGwhPT1pLmFjdGl2YXRlU0VJQ29uZmlnKXt2YXIgbj1udWxsPT1pP3ZvaWQgMDppLmFjdGl2YXRlU0VJQ29uZmlnO3RoaXMuYWN0aXZhdGVTRUlJbnNlcnQobi5hY3Rpb24sbi5pbmZvVHlwZSl9fSxlLnByb3RvdHlwZS5zZW5kU0VJVVVJRD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zaWduYWwuZ3cubWVkaWFTdHJlYW1TRUlVVUlEUmVxKCgwLG8uZ2V0U2VxKSgpLHRoaXMuc2Vzc2lvbklkLHRoaXMucGVlcklELHRoaXMuc2lkZU1lZGlhQ29uZmlnLnVucmVnaXN0ZXJTZWlGaWx0ZXIpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciByOzA9PShudWxsPT09KHI9bnVsbD09dD92b2lkIDA6dC51c3Jfc2VpX2ZpbHRlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIucmVzdWx0KSYmKGUuc2lkZU1lZGlhQ29uZmlnLnV1aWRTZW5kPSEwKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcigpfSkpfSxlLnByb3RvdHlwZS5jaGVja1B1Ymxpc2hDb25uZWN0aW9uRmFpbGVkU3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfT05fSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFK1wiIHN0cmVhbUlEIFwiK3RoaXMuc3RyZWFtSWQsXCIgc3RhdGUgXCIrdGhpcy5zdGF0ZStcIiBjb25uZWN0aW9uU3RhdGUgXCIrZSksdGhpcy5wdWJsaXNoU3RhdGVVcGRhdGVFcnJvcihhLlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua01lZGlhQ29ubmVjdGlvbkVycm9yKX0sZS5wcm90b3R5cGUuc2V0UHVibGlzaFF1YWxpdHlUaW1lcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7bnVsbD09dGhpcy5xdWFsaXR5VGltZXImJih0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TRVRfUExBWUVSX1FVQUxJVFlfVElNRVIrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBjYWxsZWRcIiksdGhpcy5jbGVhclB1Ymxpc2hRdWFsaXR5VGltZXIoKSx0aGlzLnF1YWxpdHlUaW1lcj1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtlLnBlZXJDb25uZWN0aW9uR2V0U3RhdHMoKX0pLHRoaXMucXVhbGl0eVRpbWVJbnRlcnZhbCksdGhpcy5sYXN0UHVibGlzaFN0YXRzPXthdWRpb1BhY2tldHNMb3N0OjAsdmlkZW9QYWNrZXRzTG9zdDowLHZpZGVvUGFja2V0c1NlbnQ6MCxhdWRpb1BhY2tldHNTZW50OjAsYXVkaW9SZXRyYW5zbWl0dGVkUGFja2V0c1NlbnQ6MCx2aWRlb1RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksYXVkaW9UaW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLHRpbWU6MCxhdWRpb0J5dGVzU2VudDowLHZpZGVvQnl0ZXNTZW50OjAsZnJhbWVzRW5jb2RlZDowLGZyYW1lc1NlbnQ6MCx2aWRlb1JldHJhbnNtaXR0ZWRQYWNrZXRzU2VudDowfSx0aGlzLnF1YWxpdHlTZXE9KDAsby5nZXRTZXEpKCksdGhpcy5xdWFsaXR5Q291bnQ9MCl9LGUucHJvdG90eXBlLnBlZXJDb25uZWN0aW9uR2V0U3RhdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnBlZXJDb25uZWN0aW9uKXt2YXIgcj1bdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cyhudWxsKV07XCJjaHJvbWVcIj09dGhpcy5zdGF0ZUNlbnRlci5icm93c2VyJiZyLnB1c2gobmV3IFByb21pc2UoKGZ1bmN0aW9uKGUscil7dmFyIGk7bnVsbD09PShpPXQucGVlckNvbm5lY3Rpb24pfHx2b2lkIDA9PT1pfHxpLmdldFN0YXRzKChmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pLChmdW5jdGlvbihlKXtyZXR1cm4gcihlKX0pKX0pKSksUHJvbWlzZS5hbGwocikudGhlbigoZnVuY3Rpb24ocil7dmFyIGk9dC5nZXRQdWJsaXNoU3RhdHMoclswXSxyWzFdKTtlJiZlKGksclswXSxyWzFdKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU0VUX1BMQVlFUl9RVUFMSVRZX1RJTUVSK1wiIFwiK3Quc3RyZWFtSWQrXCIgZ2V0U3RhdHMgZXJyb3IgXCIrZS50b1N0cmluZygpKX0pKX19LGUucHJvdG90eXBlLmdldFB1Ymxpc2hTdGF0cz1mdW5jdGlvbihlLHQpe3ZhciByLGksbj10aGlzO2lmKGUpe2Zvcih2YXIgdSxkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ2aWRlbywgYXVkaW9cIiksbD0wO2w8ZC5sZW5ndGg7bCsrKWRbbF0uc3JjT2JqZWN0PT09dGhpcy5sb2NhbFN0cmVhbSYmKHU9ZFtsXSk7dmFyIGg9dGhpcy5zdHJlYW1DZW50ZXIuY2hlY2tQcmV2aWV3KHRoaXMubG9jYWxTdHJlYW0pLHA9e3NhbXBsZVRpbWVXaW5kb3c6dGhpcy5xdWFsaXR5VGltZUludGVydmFsLGF1ZGlvQ29kZWM6XCJvcHVzXCIsYXVkaW9UYXJnZXRCaXRyYXRlOnRoaXMudmlkZW9JbmZvLmF1ZGlvQml0cmF0ZS8xZTN8fDAsYXVkaW9CaXRyYXRlOjAsdmlkZW9UYXJnZXRCaXRyYXRlOnRoaXMudmlkZW9JbmZvLmJpdFJhdGV8fDAsdmlkZW9UYXJnZXRGUFM6dGhpcy52aWRlb0luZm8uZnJhbWVSYXRlfHwwLHZpZGVvQml0cmF0ZTowLGF1ZGlvRlBTOjAsYXVkaW9MZXZlbDowLGF1ZGlvSW5wdXRMZXZlbDowLGF1ZGlvUGFja2V0c0xvc3Q6MCxhdWRpb1BhY2tldHNMb3N0UmF0ZTowLHNlbmRMZXZlbDowLHNhbXBsaW5nUmF0ZTowLHZpZGVvRlBTOjAsbmFja0NvdW50OjAscGxpQ291bnQ6MCxhdWRpb1F1YWxpdHk6MCx2aWRlb1F1YWxpdHk6MCxmcmFtZUhlaWdodDowLGZyYW1lV2lkdGg6MCx2aWRlb1RyYW5zZmVyRlBTOjAsdmlkZW9QYWNrZXRzTG9zdDowLHZpZGVvUGFja2V0c0xvc3RSYXRlOjAsdG90YWxSb3VuZFRyaXBUaW1lOjAsY3VycmVudFJvdW5kVHJpcFRpbWU6MCxnb29nQmFuZHdpZHRoTGltaXRlZFJlc29sdXRpb246dm9pZCAwLHZpZGVvQ29kZWNOYW1lOlwiXCIsYXVkaW9Db2RlY05hbWU6XCJcIixnb29nQ3B1TGltaXRlZFJlc29sdXRpb246dm9pZCAwLGdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoOjAsZ29vZ0FjdHVhbEVuY0JpdHJhdGU6MCxnb29nVGFyZ2V0RW5jQml0cmF0ZTowLGdvb2dGcmFtZVdpZHRoSW5wdXQ6MCxnb29nRnJhbWVIZWlnaHRJbnB1dDowLGdvb2dGcmFtZVJhdGVJbnB1dDowLGNvZGVjSW1wbGVtZW50YXRpb25OYW1lOlwiXCIsdmlkZW9NdXRlU3RhdGU6KG51bGw9PT0ocj1udWxsPT1oP3ZvaWQgMDpoLnZpZGVvVHJhY2spfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmVuYWJsZWQpP1wiMFwiOlwiMVwiLGF1ZGlvTXV0ZVN0YXRlOnRoaXMubG9jYWxTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGg+MCYmdGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLmVuYWJsZWQ/XCIwXCI6XCIxXCIsbXV0ZWQ6dT91Lm11dGVkOnZvaWQgMCxwYXVzZWQ6dT91LnBhdXNlZDp2b2lkIDAsdm9sdW1lOnU/dS52b2x1bWU6dm9pZCAwLHNpbmtJZDp1P3Uuc2lua0lkOnZvaWQgMH0sZz10aGlzLmxhc3RQdWJsaXNoU3RhdHMudGltZSxmPTAsbT0wLF89MCx2PTAsRT0wLFM9MDtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKChcIm91dGJvdW5kLXJ0cFwiPT1lLnR5cGV8fFwic3NyY1wiPT1lLnR5cGUmJm51bGwhPWUuYnl0ZXNTZW50KSYmXCJhdWRpb1wiPT1lLm1lZGlhVHlwZSkwIT1nJiYocC5hdWRpb0JpdHJhdGU9OCooZS5ieXRlc1NlbnQtbi5sYXN0UHVibGlzaFN0YXRzLmF1ZGlvQnl0ZXNTZW50KS8oZS50aW1lc3RhbXAtZyksZS5yZXRyYW5zbWl0dGVkUGFja2V0c1NlbnQ9ZS5yZXRyYW5zbWl0dGVkUGFja2V0c1NlbnR8fDAsZS5wYWNrZXRzU2VudD1lLnBhY2tldHNTZW50fHwwLHAuYXVkaW9GUFM9KGUucGFja2V0c1NlbnQtKGUucmV0cmFuc21pdHRlZFBhY2tldHNTZW50LW4ubGFzdFB1Ymxpc2hTdGF0cy5hdWRpb1JldHJhbnNtaXR0ZWRQYWNrZXRzU2VudCktbi5sYXN0UHVibGlzaFN0YXRzLmF1ZGlvUGFja2V0c1NlbnQpLyhlLnRpbWVzdGFtcC1nKSoxZTN8fDAsXz0oZS5yZXRyYW5zbWl0dGVkUGFja2V0c1NlbnQtbi5sYXN0UHVibGlzaFN0YXRzLmF1ZGlvUmV0cmFuc21pdHRlZFBhY2tldHNTZW50KS8oZS5wYWNrZXRzU2VudC1uLmxhc3RQdWJsaXNoU3RhdHMuYXVkaW9QYWNrZXRzU2VudCkpLHAuYXVkaW9CaXRyYXRlPDAmJihwLmF1ZGlvQml0cmF0ZT0wKSxuLmxhc3RQdWJsaXNoU3RhdHMuYXVkaW9CeXRlc1NlbnQ9ZS5ieXRlc1NlbnQsbi5sYXN0UHVibGlzaFN0YXRzLnRpbWU9ZS50aW1lc3RhbXAsbi5sYXN0UHVibGlzaFN0YXRzLmF1ZGlvUGFja2V0c1NlbnRUaW1lU3RhbXA9ZS5wYWNrZXRzU2VudC1uLmxhc3RQdWJsaXNoU3RhdHMuYXVkaW9QYWNrZXRzU2VudCxuLmxhc3RQdWJsaXNoU3RhdHMuYXVkaW9QYWNrZXRzU2VudD1lLnBhY2tldHNTZW50LG4ubGFzdFB1Ymxpc2hTdGF0cy5hdWRpb1JldHJhbnNtaXR0ZWRQYWNrZXRzU2VudD1lLnJldHJhbnNtaXR0ZWRQYWNrZXRzU2VudDtlbHNlIGlmKChcIm91dGJvdW5kLXJ0cFwiPT1lLnR5cGV8fFwic3NyY1wiPT1lLnR5cGUmJm51bGwhPWUuYnl0ZXNTZW50KSYmXCJ2aWRlb1wiPT1lLm1lZGlhVHlwZSkwIT1nJiYocC52aWRlb0JpdHJhdGU9OCooZS5ieXRlc1NlbnQtbi5sYXN0UHVibGlzaFN0YXRzLnZpZGVvQnl0ZXNTZW50KS8oZS50aW1lc3RhbXAtZykscC52aWRlb0ZQUz0xZTMqKGUuZnJhbWVzRW5jb2RlZC1uLmxhc3RQdWJsaXNoU3RhdHMuZnJhbWVzRW5jb2RlZCkvKGUudGltZXN0YW1wLWcpLHY9KGUucmV0cmFuc21pdHRlZFBhY2tldHNTZW50LW4ubGFzdFB1Ymxpc2hTdGF0cy52aWRlb1JldHJhbnNtaXR0ZWRQYWNrZXRzU2VudCkvKGUucGFja2V0c1NlbnQtbi5sYXN0UHVibGlzaFN0YXRzLnZpZGVvUGFja2V0c1NlbnQpKSxwLnZpZGVvQml0cmF0ZTwwJiYocC52aWRlb0JpdHJhdGU9MCkscC52aWRlb0ZQUzwwJiYocC52aWRlb0ZQUz0wKSxwLm5hY2tDb3VudD1lLm5hY2tDb3VudCxwLnBsaUNvdW50PWUucGxpQ291bnQsbi5sYXN0UHVibGlzaFN0YXRzLnZpZGVvQnl0ZXNTZW50PWUuYnl0ZXNTZW50LG4ubGFzdFB1Ymxpc2hTdGF0cy5mcmFtZXNFbmNvZGVkPWUuZnJhbWVzRW5jb2RlZCxuLmxhc3RQdWJsaXNoU3RhdHMudGltZT1lLnRpbWVzdGFtcCxuLmxhc3RQdWJsaXNoU3RhdHMudmlkZW9QYWNrZXRzU2VudFRpbWVTdGFtcD1lLnBhY2tldHNTZW50LW4ubGFzdFB1Ymxpc2hTdGF0cy52aWRlb1BhY2tldHNTZW50LG4ubGFzdFB1Ymxpc2hTdGF0cy52aWRlb1BhY2tldHNTZW50PWUucGFja2V0c1NlbnQsbi5sYXN0UHVibGlzaFN0YXRzLnZpZGVvUmV0cmFuc21pdHRlZFBhY2tldHNTZW50PWUucmV0cmFuc21pdHRlZFBhY2tldHNTZW50O2Vsc2UgaWYoXCJyZW1vdGUtaW5ib3VuZC1ydHBcIj09ZS50eXBlJiZcInZpZGVvXCI9PWUua2luZCl7ZS5wYWNrZXRzTG9zdD4wJiYocC52aWRlb1BhY2tldHNMb3N0PWUucGFja2V0c0xvc3QpO3ZhciB0PWUucGFja2V0c0xvc3Qtbi5sYXN0UHVibGlzaFN0YXRzLnZpZGVvUGFja2V0c0xvc3Q7cC52aWRlb1BhY2tldHNMb3N0UmF0ZT10PjA/dC9uLmxhc3RQdWJsaXNoU3RhdHMudmlkZW9QYWNrZXRzU2VudFRpbWVTdGFtcDowLGUucGFja2V0c0xvc3Q+MCYmKG4ubGFzdFB1Ymxpc2hTdGF0cy52aWRlb1BhY2tldHNMb3N0PWUucGFja2V0c0xvc3QpLG4ubGFzdFB1Ymxpc2hTdGF0cy52aWRlb1RpbWU9ZS50aW1lc3RhbXAsbT0xZTMqZS5yb3VuZFRyaXBUaW1lLFM9ZS5qaXR0ZXJ9ZWxzZSBpZihcInJlbW90ZS1pbmJvdW5kLXJ0cFwiPT1lLnR5cGUmJlwiYXVkaW9cIj09ZS5raW5kKXtlLnBhY2tldHNMb3N0PjAmJihwLmF1ZGlvUGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCk7dmFyIHI9ZS5wYWNrZXRzTG9zdC1uLmxhc3RQdWJsaXNoU3RhdHMuYXVkaW9QYWNrZXRzTG9zdDtwLmF1ZGlvUGFja2V0c0xvc3RSYXRlPXI+MD9yL24ubGFzdFB1Ymxpc2hTdGF0cy5hdWRpb1BhY2tldHNTZW50VGltZVN0YW1wOjAsZS5wYWNrZXRzTG9zdD4wJiYobi5sYXN0UHVibGlzaFN0YXRzLmF1ZGlvUGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCksbi5sYXN0UHVibGlzaFN0YXRzLmF1ZGlvVGltZT1lLnRpbWVzdGFtcCxmPTFlMyplLnJvdW5kVHJpcFRpbWUsRT1lLmppdHRlcn1lbHNlIGlmKFwibWVkaWEtc291cmNlXCI9PWUudHlwZSYmKFwiYXVkaW9cIj09ZS5raW5kfHxlLmlkLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImF1ZGlvXCIpPj0wKSlwLmF1ZGlvTGV2ZWw9ZS5hdWRpb0xldmVsfHwwLHAuc2VuZExldmVsPWUudG90YWxBdWRpb0VuZXJneSxwLmF1ZGlvSW5wdXRMZXZlbD0zMjc2NyplLnRvdGFsQXVkaW9FbmVyZ3kscC5zYW1wbGluZ1JhdGU9ZS50b3RhbFNhbXBsZXNEdXJhdGlvbjtlbHNlIGlmKFwidHJhY2tcIj09ZS50eXBlJiYoXCJ2aWRlb1wiPT1lLmtpbmR8fGUuaWQuaW5kZXhPZihcInZpZGVvXCIpPj0wfHxlLmZyYW1lV2lkdGgpKXtpZihwLmZyYW1lSGVpZ2h0PWUuZnJhbWVIZWlnaHQscC5mcmFtZVdpZHRoPWUuZnJhbWVXaWR0aCwwPT09Z3x8bi5sYXN0UHVibGlzaFN0YXRzLmZyYW1lSGVpZ2h0PT09ZS5mcmFtZUhlaWdodCYmbi5sYXN0UHVibGlzaFN0YXRzLmZyYW1lV2lkdGg9PT1lLmZyYW1lV2lkdGgpMD09PWcmJihuLmxhc3RQdWJsaXNoU3RhdHMuZnJhbWVIZWlnaHQ9ZS5mcmFtZUhlaWdodCxuLmxhc3RQdWJsaXNoU3RhdHMuZnJhbWVXaWR0aD1lLmZyYW1lV2lkdGgpO2Vsc2V7dmFyIGk9KDAsby5nZXRSZXBvcnRTZXEpKCk7bi5kYXRhUmVwb3J0Lm5ld1JlcG9ydChpLGEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1ZpZGVvQ2FwdHVyZVNpemUuZXZlbnQpLG4uZGF0YVJlcG9ydC5hZGRNc2dJbmZvKGkse3Nlc3Npb25faWQ6YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVmlkZW9DYXB0dXJlU2l6ZS5zZXNzaW9uX2lkKG4uc2Vzc2lvbklkKSx3OmEuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1ZpZGVvQ2FwdHVyZVNpemUudyhlLmZyYW1lV2lkdGgpLGg6YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrVmlkZW9DYXB0dXJlU2l6ZS5oKGUuZnJhbWVIZWlnaHQpfSksbi5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChpKSxuLmxhc3RQdWJsaXNoU3RhdHMuZnJhbWVIZWlnaHQ9ZS5mcmFtZUhlaWdodCxuLmxhc3RQdWJsaXNoU3RhdHMuZnJhbWVXaWR0aD1lLmZyYW1lV2lkdGh9MCE9ZyYmKHAudmlkZW9UcmFuc2ZlckZQUz0xZTMqKGUuZnJhbWVzU2VudC1uLmxhc3RQdWJsaXNoU3RhdHMuZnJhbWVzU2VudCkvKGUudGltZXN0YW1wLWcpKSxwLnZpZGVvVHJhbnNmZXJGUFM8MCYmKHAudmlkZW9UcmFuc2ZlckZQUz0wKSxuLmxhc3RQdWJsaXNoU3RhdHMuZnJhbWVzU2VudD1lLmZyYW1lc1NlbnR9ZWxzZVwiY2FuZGlkYXRlLXBhaXJcIj09ZS50eXBlJiYobnVsbCE9ZS50b3RhbFJvdW5kVHJpcFRpbWUmJihwLnRvdGFsUm91bmRUcmlwVGltZT1lLnRvdGFsUm91bmRUcmlwVGltZSksbnVsbCE9ZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHAuY3VycmVudFJvdW5kVHJpcFRpbWU9ZS5jdXJyZW50Um91bmRUcmlwVGltZSkpfSkpLHQmJnQucmVzdWx0KCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJzc3JjXCI9PWUudHlwZSYmZS5uYW1lcygpLmluZGV4T2YoXCJnb29nQmFuZHdpZHRoTGltaXRlZFJlc29sdXRpb25cIik+PTAmJihwLmdvb2dCYW5kd2lkdGhMaW1pdGVkUmVzb2x1dGlvbj1lLnN0YXQoXCJnb29nQmFuZHdpZHRoTGltaXRlZFJlc29sdXRpb25cIikpLFwic3NyY1wiPT1lLnR5cGUmJlwidmlkZW9cIj09ZS5zdGF0KFwibWVkaWFUeXBlXCIpJiZlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dDb2RlY05hbWVcIik+PTAmJihwLnZpZGVvQ29kZWNOYW1lPWUuc3RhdChcImdvb2dDb2RlY05hbWVcIikpLFwic3NyY1wiPT1lLnR5cGUmJlwiYXVkaW9cIj09ZS5zdGF0KFwibWVkaWFUeXBlXCIpJiZlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dDb2RlY05hbWVcIik+PTAmJihwLmF1ZGlvQ29kZWNOYW1lPWUuc3RhdChcImdvb2dDb2RlY05hbWVcIikpLFwic3NyY1wiPT1lLnR5cGUmJmUubmFtZXMoKS5pbmRleE9mKFwiZ29vZ0NwdUxpbWl0ZWRSZXNvbHV0aW9uXCIpPj0wJiYocC5nb29nQ3B1TGltaXRlZFJlc29sdXRpb249ZS5zdGF0KFwiZ29vZ0NwdUxpbWl0ZWRSZXNvbHV0aW9uXCIpKSxcInNzcmNcIj09ZS50eXBlJiZlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dGcmFtZVdpZHRoSW5wdXRcIik+PTAmJihwLmdvb2dGcmFtZVdpZHRoSW5wdXQ9ZS5zdGF0KFwiZ29vZ0ZyYW1lV2lkdGhJbnB1dFwiKSksXCJzc3JjXCI9PWUudHlwZSYmZS5uYW1lcygpLmluZGV4T2YoXCJnb29nRnJhbWVIZWlnaHRJbnB1dFwiKT49MCYmKHAuZ29vZ0ZyYW1lSGVpZ2h0SW5wdXQ9ZS5zdGF0KFwiZ29vZ0ZyYW1lSGVpZ2h0SW5wdXRcIikpLFwic3NyY1wiPT1lLnR5cGUmJmUubmFtZXMoKS5pbmRleE9mKFwiZ29vZ0ZyYW1lUmF0ZUlucHV0XCIpPj0wJiYocC5nb29nRnJhbWVSYXRlSW5wdXQ9ZS5zdGF0KFwiZ29vZ0ZyYW1lUmF0ZUlucHV0XCIpKSxcInNzcmNcIj09ZS50eXBlJiZlLm5hbWVzKCkuaW5kZXhPZihcImNvZGVjSW1wbGVtZW50YXRpb25OYW1lXCIpPj0wJiYocC5jb2RlY0ltcGxlbWVudGF0aW9uTmFtZT1lLnN0YXQoXCJjb2RlY0ltcGxlbWVudGF0aW9uTmFtZVwiKSksXCJWaWRlb0J3ZVwiPT1lLnR5cGUmJmUubmFtZXMoKS5pbmRleE9mKFwiZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGhcIik+PTAmJihwLmdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoPWUuc3RhdChcImdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoXCIpKSxcIlZpZGVvQndlXCI9PWUudHlwZSYmZS5uYW1lcygpLmluZGV4T2YoXCJnb29nQWN0dWFsRW5jQml0cmF0ZVwiKT49MCYmKHAuZ29vZ0FjdHVhbEVuY0JpdHJhdGU9ZS5zdGF0KFwiZ29vZ0FjdHVhbEVuY0JpdHJhdGVcIikpLFwiVmlkZW9Cd2VcIj09ZS50eXBlJiZlLm5hbWVzKCkuaW5kZXhPZihcImdvb2dUYXJnZXRFbmNCaXRyYXRlXCIpPj0wJiYocC5nb29nVGFyZ2V0RW5jQml0cmF0ZT1lLnN0YXQoXCJnb29nVGFyZ2V0RW5jQml0cmF0ZVwiKSksXCJWaWRlb0J3ZVwiPT1lLnR5cGUmJmUubmFtZXMoKS5pbmRleE9mKFwiZ29vZ1JldHJhbnNtaXRCaXRyYXRlXCIpPj0wJiYocC5nb29nUmV0cmFuc21pdEJpdHJhdGU9ZS5zdGF0KFwiZ29vZ1JldHJhbnNtaXRCaXRyYXRlXCIpKX0pKSxcImNocm9tZVwiPT09dGhpcy5zdGF0ZUNlbnRlci5icm93c2VyJiZ0aGlzLmhhbmRsZUVuY0JpdHJhdGUoTnVtYmVyLnBhcnNlSW50KHAuZ29vZ1RhcmdldEVuY0JpdHJhdGUpLE51bWJlci5wYXJzZUludChwLmdvb2dBY3R1YWxFbmNCaXRyYXRlKSxOdW1iZXIucGFyc2VJbnQocC5nb29nUmV0cmFuc21pdEJpdHJhdGUpKSxtPWlzTmFOKG0pfHxtPDA/MDptLHY9aXNOYU4odil8fHY8MD8wOnYsUz1pc05hTihTKXx8UzwwPzA6UyxmPWlzTmFOKGYpfHxmPDA/MDpmLF89aXNOYU4oXyl8fF88MD8wOl8sRT1pc05hTihFKXx8RTwwPzA6RTt2YXIgVD1zLkNsaWVudFV0aWwuZ2V0TmV0UXVhbGl0eShtLHYsUyksQz1zLkNsaWVudFV0aWwuZ2V0TmV0UXVhbGl0eShmLF8sRSk7aWYocC52aWRlb1F1YWxpdHk9Zz4wP3MuQ2xpZW50VXRpbC5xdWFsaXR5MlF1YWxpdHlHcmFkZShUKTowLHAuYXVkaW9RdWFsaXR5PWc+MD9zLkNsaWVudFV0aWwucXVhbGl0eTJRdWFsaXR5R3JhZGUoQyk6MCx0aGlzLnN0YXRlQ2VudGVyLm5ldHdvcmtTdGF0ZSE9PW8uRU5VTV9ORVRXT1JLX1NUQVRFLm9mZmxpbmUmJlwiZGlzY29ubmVjdGVkXCIhPT0obnVsbD09PShpPXRoaXMucGVlckNvbm5lY3Rpb24pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNvbm5lY3Rpb25TdGF0ZSl8fChwLnZpZGVvUXVhbGl0eT1vLlF1YWxpdHlHcmFkZS5EaWUscC5hdWRpb1F1YWxpdHk9by5RdWFsaXR5R3JhZGUuRGllKSwhcC5mcmFtZUhlaWdodHx8IXAuZnJhbWVXaWR0aCl7dmFyIHk9dGhpcy5sb2NhbFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO3kmJihwLmZyYW1lSGVpZ2h0PXkuZ2V0U2V0dGluZ3MoKS5oZWlnaHR8fDAscC5mcmFtZVdpZHRoPXkuZ2V0U2V0dGluZ3MoKS53aWR0aHx8MCl9dmFyIFI9TWF0aC5taW4oVCxDKTt0aGlzLm5ldFF1YWxpdHk9UixSPD1vLlFVQUxJVFlfQ09OU1RBTlQuTWlkZGxlTWluUXVhbGl0eT90aGlzLnBvb3JRdWFsaXR5TnVtKys6dGhpcy5wb29yUXVhbGl0eU51bT0wLGc+MCYmdGhpcy5wb29yUXVhbGl0eU51bT49dGhpcy5zdHJlYW1DZW50ZXIucHJvYmVTdGFydGVkTnVtJiYobmV3IERhdGUpLmdldFRpbWUoKT50aGlzLnByb2JlVGltZSt0aGlzLnByb2JlSW50ZXJ2YWwmJih0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9TRVRfUExBWUVSX1FVQUxJVFlfVElNRVIrXCIgbmV0UXVhbGl0eSBcIitSK1wiIHN0YXJ0IG5ldCBwcm9iZVwiKSx0aGlzLnByb2JlU3RhdGU9by5FTlVNX1BST0JFX1NUQVRFLnRyeVByb2JlLHRoaXMuc3RyZWFtQ2VudGVyLnN0YXJ0TmV0UHJvYmUoITAsdGhpcyx0aGlzLmd3Tm9kZUxpc3QpLHRoaXMucHJvYmVUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSx0aGlzLnVwZGF0ZUN1cnJlbnRRdWFsaXR5U3RhdHMocCksMCE9PWcmJih0aGlzLnVwbG9hZFB1Ymxpc2hRdWFsaXR5KHApLHRoaXMub25QdWJsaXNoUXVhbGl0eVVwZGF0ZSh0aGlzLnN0cmVhbUlkLHRoaXMuY3VycmVudFF1YWxpdHksZSx0KSl9fSxlLnByb3RvdHlwZS51cGRhdGVDdXJyZW50UXVhbGl0eVN0YXRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudmlkZW9CaXRyYXRlLHI9ZS52aWRlb0ZQUyxvPWUudmlkZW9UcmFuc2ZlckZQUyxuPWUuZnJhbWVIZWlnaHQscz1lLmZyYW1lV2lkdGgsYT1lLnZpZGVvTXV0ZVN0YXRlLGM9ZS52aWRlb1F1YWxpdHksdT1lLmF1ZGlvQml0cmF0ZSxkPWUuYXVkaW9Db2RlYyxsPWUuYXVkaW9NdXRlU3RhdGUsaD1lLmF1ZGlvUXVhbGl0eSxwPWUuYXVkaW9GUFMsZz17dmlkZW86aShpKHt9LHRoaXMuY3VycmVudFF1YWxpdHkudmlkZW8pLHt2aWRlb0JpdHJhdGU6dCx2aWRlb0ZQUzpyLHZpZGVvVHJhbnNmZXJGUFM6byxmcmFtZUhlaWdodDpuLGZyYW1lV2lkdGg6cyxtdXRlU3RhdGU6YSx2aWRlb1F1YWxpdHk6Y30pLGF1ZGlvOmkoaSh7fSx0aGlzLmN1cnJlbnRRdWFsaXR5LmF1ZGlvKSx7YXVkaW9CaXRyYXRlOnUsYXVkaW9Db2RlYzpkLG11dGVTdGF0ZTpsLGF1ZGlvUXVhbGl0eTpoLGF1ZGlvRlBTOnB9KSxuYWNrQ291bnQ6ZS5uYWNrQ291bnQscGxpQ291bnQ6ZS5wbGlDb3VudCx0b3RhbFJvdW5kVHJpcFRpbWU6ZS50b3RhbFJvdW5kVHJpcFRpbWUsY3VycmVudFJvdW5kVHJpcFRpbWU6ZS5jdXJyZW50Um91bmRUcmlwVGltZX07aWYodm9pZCAwIT09ZS52aWRlb1BhY2tldHNMb3N0KXt2YXIgZj1lLnZpZGVvUGFja2V0c0xvc3RSYXRlO2cudmlkZW8udmlkZW9QYWNrZXRzTG9zdD1lLnZpZGVvUGFja2V0c0xvc3QsZy52aWRlby52aWRlb1BhY2tldHNMb3N0UmF0ZT1mfWlmKHZvaWQgMCE9PWUuYXVkaW9QYWNrZXRzTG9zdCl7dmFyIG09ZS5hdWRpb1BhY2tldHNMb3N0UmF0ZTtnLmF1ZGlvLmF1ZGlvUGFja2V0c0xvc3Q9ZS5hdWRpb1BhY2tldHNMb3N0LGcuYXVkaW8uYXVkaW9QYWNrZXRzTG9zdFJhdGU9bX1pZih2b2lkIDAhPT1lLm11dGVkJiYoZy5tdXRlZD1lLm11dGVkLGcucGF1c2VkPWUucGF1c2VkLGcudm9sdW1lPWUudm9sdW1lLGcuc2lua0lkPWUuc2lua0lkKSx2b2lkIDAhPT1lLmdvb2dCYW5kd2lkdGhMaW1pdGVkUmVzb2x1dGlvbil7dmFyIF89ZS52aWRlb0NvZGVjTmFtZSx2PWUuYXVkaW9Db2RlY05hbWUsRT1lLmdvb2dGcmFtZVdpZHRoSW5wdXQsUz1lLmdvb2dGcmFtZUhlaWdodElucHV0LFQ9ZS5nb29nQ3B1TGltaXRlZFJlc29sdXRpb24sQz1lLmdvb2dGcmFtZVJhdGVJbnB1dCx5PWUuY29kZWNJbXBsZW1lbnRhdGlvbk5hbWUsUj1lLmdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoLGI9ZS5nb29nQWN0dWFsRW5jQml0cmF0ZSxJPWUuZ29vZ1RhcmdldEVuY0JpdHJhdGU7Zy5nb29nQmFuZHdpZHRoTGltaXRlZFJlc29sdXRpb249ZS5nb29nQmFuZHdpZHRoTGltaXRlZFJlc29sdXRpb24sZy52aWRlby5nb29nQ29kZWNOYW1lPV8sZy5hdWRpby5nb29nQ29kZWNOYW1lPXYsZy5nb29nQ3B1TGltaXRlZFJlc29sdXRpb249VCxnLmdvb2dGcmFtZVdpZHRoSW5wdXQ9RSxnLmdvb2dGcmFtZUhlaWdodElucHV0PVMsZy5nb29nRnJhbWVSYXRlSW5wdXQ9QyxnLmNvZGVjSW1wbGVtZW50YXRpb25OYW1lPXksZy5nb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aD1SLGcuZ29vZ0FjdHVhbEVuY0JpdHJhdGU9YixnLmdvb2dUYXJnZXRFbmNCaXRyYXRlPUl9dGhpcy5jdXJyZW50UXVhbGl0eT1nfSxlLnByb3RvdHlwZS51cGxvYWRQdWJsaXNoUXVhbGl0eT1mdW5jdGlvbihlKXtpZih0aGlzLnF1YWxpdHlVcGxvYWQmJnRoaXMuc2lnbmFsLmlzU2VydmVyQ29ubmVjdGVkKXt2YXIgdD0obmV3IERhdGUpLmdldFRpbWUoKTsoMD09dGhpcy5xdWFsaXR5VXBsb2FkTGFzdFRpbWV8fHQtdGhpcy5xdWFsaXR5VXBsb2FkTGFzdFRpbWU+PTJlMykmJihlLnN0cmVhbV90eXBlPVwicHVibGlzaFwiLGUuc3RyZWFtX2lkPXRoaXMuc3RyZWFtSWQsZS50aW1lU3RhbXA9TWF0aC5yb3VuZCh0LzFlMyksdGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfVVBMT0FEX1BVQkxJU0hfUVVBTElUWStcIiBcIit0aGlzLnN0cmVhbUlkK1wiIHVwbG9hZFwiK0pTT04uc3RyaW5naWZ5KGUpKSx0aGlzLnN0cmVhbUNlbnRlci51cGRhdGVRdWFsaXR5KDAsZSksdGhpcy5xdWFsaXR5VXBsb2FkTGFzdFRpbWU9dCl9fSxlLnByb3RvdHlwZS5zdG9wUHVibGlzaD1mdW5jdGlvbigpe2lmKHRoaXMubG9nZ2VyLmluZm8oYy5aRUdPX1dFQlJUQ19BQ1RJT04uUFVCTElTSEVSX1NUT1BfUFVCTElTSCtcIiAgLjEgXCIrdGhpcy5zdHJlYW1JZCtcIiBjYWxsZWRcIiksT2JqZWN0LmtleXModGhpcy5zdHJlYW1DZW50ZXIucHVibGlzaGVyTGlzdCkubGVuZ3RoPTEpZm9yKHZhciBlIGluIHRoaXMuc3RyZWFtQ2VudGVyLnBsYXllckxpc3Qpe3ZhciB0PXRoaXMuc3RyZWFtQ2VudGVyLnBsYXllckxpc3RbZV0ucGxheWVyO3Quc3RhdGU9PW8uRU5VTV9QTEFZX1NUQVRFLnBsYXlpbmcmJnQuYnJvYWRjYXN0ZXJTdGF0dXM9PW8uRU5VTV9CUk9BRENBU1RFUl9TVEFUVVMuc3RhcnQmJih0aGlzLnNpZ25hbCYmdGhpcy5zaWduYWwuc2VuZEJyb2FkY2FzdGVyU3RhdHVzKCgwLG8uZ2V0U2VxKSgpLHQuc2Vzc2lvbklkLDApLHQuYnJvYWRjYXN0ZXJTdGF0dXM9by5FTlVNX0JST0FEQ0FTVEVSX1NUQVRVUy5zdG9wKX10aGlzLnNlc3Npb25JZCYmIXRoaXMuY2xvc2VTZXNzaW9uU2lnbmFsJiZ0aGlzLnNpZ25hbC5zZW5kQ2xvc2VTZXNzaW9uKCgwLG8uZ2V0U2VxKSgpLHRoaXMuc2Vzc2lvbklkLDApLHRoaXMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2codGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJQdWJsaXNoU3RhdGVcIix7c3RhdGU6dGhpcy5zdGF0ZStcIlwifSksdGhpcy5kYXRhUmVwb3J0LmFkZEV2ZW50KHRoaXMuc3RyZWFtUmVwb3J0U2VxLFwiU3RvcFB1Ymxpc2hcIiksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0V4dCh0aGlzLnN0cmVhbVJlcG9ydFNlcSx7c3RyZWFtOnRoaXMuc3RyZWFtSWQsc2Vzc2lvbklkOnRoaXMuc2Vzc2lvbklkfSksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8odGhpcy5zdHJlYW1SZXBvcnRTZXEse2l0ZW10eXBlOlwiUlRDUHVibGlzaFN0cmVhbVwiLHVzZV9uYTp0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50PzE6MH0pLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQodGhpcy5zdHJlYW1SZXBvcnRTZXEsXCJSVENQdWJsaXNoU3RyZWFtXCIpLHRoaXMucmVzZXRQdWJsaXNoKCl9LGUucHJvdG90eXBlLm9uUHVibGlzaFN0YXRlVXBkYXRlPWZ1bmN0aW9uKGUsdCxyLGkpe30sZS5wcm90b3R5cGUub25QdWJsaXNoUXVhbGl0eVVwZGF0ZT1mdW5jdGlvbihlLHQscixpKXt9LGUucHJvdG90eXBlLm9uRGlzY29ubmVjdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9ESVNDT05ORUNUK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgY2FsbFwiKSx0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9PTl9ESVNDT05ORUNUK1wiIFwiK3RoaXMuc3RyZWFtSWQrXCIgd2Vic29ja2V0IGRpc2Nvbm5lY3RcIiksdGhpcy5kYXRhUmVwb3J0LmFkZEV2ZW50KHRoaXMucmVwb3J0U2VxLFwiT25EaXNjb25uZWN0XCIpLHRoaXMucHVibGlzaFN0YXRlVXBkYXRlRXJyb3IoZXx8YS5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtXZWJzb2NrZXREaXNjb25uZWN0ZWRFcnJvciwhIWUpfSxlLnByb3RvdHlwZS5wdWJsaXNoU3VjY2Vzcz1mdW5jdGlvbigpe3ZhciBlLHQ7aWYodGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfUFVCTElTSF9TVUNDRVNTK1wiIGNhbGxcIiksdGhpcy5fdHVyblRvVGNwfHwodGhpcy5zdHJlYW1DZW50ZXIudWRwRmFpbE51bT0wKSx0aGlzLmlzVXBkYXRlU0RQJiZ0aGlzLnVwZGF0ZVNEUENhbGxCYWNrKXJldHVybiB0aGlzLmxvZ2dlci5pbmZvKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9QVUJMSVNIX1NVQ0NFU1MrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiB1cGRhdGUgc2RwIHN1Y2Nlc3NcIiksdGhpcy51cGRhdGVTRFBDYWxsQmFjaygwKSx0aGlzLnVwZGF0ZVNEUENhbGxCYWNrPXZvaWQgMCx2b2lkKHRoaXMuaXNVcGRhdGVTRFA9ITEpO2Zvcih2YXIgciBpbiB0aGlzLnN0YXRlIT1vLkVOVU1fUFVCTElTSF9TVEFURS5wdWJsaXNoaW5nJiZ0aGlzLm9uUHVibGlzaFN0YXRlVXBkYXRlKG8uRU5VTV9QVUJMSVNIX1NUQVRFX1VQREFURS5zdGFydCx0aGlzLnN0cmVhbUlkLHtjb2RlOjAsbWVzc2FnZTpcIlwifSwhMCksdGhpcy5pc1BlZXImJih0aGlzLnBlZXJGYWlsQ291bnQ9MCksdGhpcy5zdGF0ZT1vLkVOVU1fUFVCTElTSF9TVEFURS5wdWJsaXNoaW5nLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMucmVwb3J0U2VxLFwiUHVibGlzaFN0YXRlXCIpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KHRoaXMuc3RyZWFtUmVwb3J0U2VxLFwiUHVibGlzaFN0YXRlXCIpLHRoaXMuc3RyZWFtQ2VudGVyLnBsYXllckxpc3Qpe3ZhciBpPXRoaXMuc3RyZWFtQ2VudGVyLnBsYXllckxpc3Rbcl0ucGxheWVyO2kuc3RhdGU9PW8uRU5VTV9QTEFZX1NUQVRFLnBsYXlpbmcmJmkuYnJvYWRjYXN0ZXJTdGF0dXM9PW8uRU5VTV9CUk9BRENBU1RFUl9TVEFUVVMuc3RvcCYmKHRoaXMuc2lnbmFsJiZ0aGlzLnNpZ25hbC5zZW5kQnJvYWRjYXN0ZXJTdGF0dXMoKDAsby5nZXRTZXEpKCksaS5zZXNzaW9uSWQsMSksaS5icm9hZGNhc3RlclN0YXR1cz1vLkVOVU1fQlJPQURDQVNURVJfU1RBVFVTLnN0YXJ0KX12YXIgbj10aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInByb2JlX3N0YXJ0ZWRfbnVtXCIpOyFpc05hTihuKSYmKHRoaXMuc3RyZWFtQ2VudGVyLnByb2JlU3RhcnRlZE51bT1uKSx0aGlzLnNldFB1Ymxpc2hRdWFsaXR5VGltZXIoKTt2YXIgcz0yLGE9Mix1PW51bGw9PT0oZT10aGlzLnByZXZpZXdlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUudmlkZW9UcmFjayxkPTAhPT10aGlzLmxvY2FsU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoJiZ0aGlzLmxvY2FsU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07KHUmJlwibGl2ZVwiPT09dS5yZWFkeVN0YXRlJiYhMD09PXUuZW5hYmxlZHx8KG51bGw9PT0odD10aGlzLnByZXZpZXdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQubXV0ZUltYWdlKSkmJihzPTApLGQmJlwibGl2ZVwiPT09ZC5yZWFkeVN0YXRlJiYhMD09PWQuZW5hYmxlZCYmKGE9MCksdGhpcy5zZW5kU3RyZWFtU3RhdHVzKHMsYSwhMCksdGhpcy5zdHJlYW1DZW50ZXIuc291bmRMZXZlbERlbGVnYXRlJiZ0aGlzLnByZXZpZXdlciYmdGhpcy5wcmV2aWV3ZXIuc3RhcnRTb3VuZExldmVsKCksdGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfUFVCTElTSF9TVUNDRVNTK1wiIGNhbGwgc3VjY2Vzc1wiKX0sZS5wcm90b3R5cGUuc3RhcnRTb3VuZExldmVsPWZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfU09VTkRfTEVWRUwrXCIgY2FsbCBzdHJlYW1JRDogXCIrdGhpcy5zdHJlYW1JZCksdGhpcy5sb2NhbFN0cmVhbSYmMCE9dGhpcy5sb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCl0cnl7bnVsbD09PShlPXRoaXMucHJldmlld2VyKXx8dm9pZCAwPT09ZXx8ZS5zdGFydFNvdW5kTGV2ZWwoKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcihjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfU09VTkRfTEVWRUwrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBnZXQgc291bmQgbGV2ZWwgZmFpbGVkIFwiK2UpfWVsc2UgdGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RBUlRfU09VTkRfTEVWRUwrXCIgXCIrdGhpcy5zdHJlYW1JZCtcIiBsb2NhbCBzdHJlYW0gbm8gZm91bmRcIil9LGUucHJvdG90eXBlLnN0b3BTb3VuZExldmVsPWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5sb2dnZXIuaW5mbyhjLlpFR09fV0VCUlRDX0FDVElPTi5QVUJMSVNIRVJfU1RPUF9TT1VORF9MRVZFTCtcIiBjYWxsIHN0cmVhbUlEOiBcIit0aGlzLnN0cmVhbUlkKSxudWxsPT09KGU9dGhpcy5wcmV2aWV3ZXIpfHx2b2lkIDA9PT1lfHxlLnN0b3BTb3VuZExldmVsKCl9LGUucHJvdG90eXBlLmhhbmRsZUVuY0JpdHJhdGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG89dGhpcyxuPTFlMyp0aGlzLnZpZGVvSW5mby5iaXRSYXRlLGE9MDtpZih0PjApe3RoaXMubmVlZEluY01heHx8dGhpcy5nb3RNYXh8fCh0aGlzLnByb2JlQ291bnQrKyx0Pj0uNzUqZT8odGhpcy5wcm9iZUNvdW50Pj0xMCYmdGhpcy5pbml0Rml0Q250Pj0uNip0aGlzLnByb2JlQ291bnQmJih0aGlzLmdvdE1heD0hMCx0aGlzLnRhcmdldFJhdGU9biksdGhpcy5pbml0Rml0Q250KyspOnRoaXMucHJvYmVDb3VudD49MTAmJnRoaXMuaW5pdEZpdENudC90aGlzLnByb2JlQ291bnQ8LjMmJih0aGlzLm5lZWRJbmNNYXg9ITApKTt2YXIgdT1zLkNsaWVudFV0aWwuYXJyQXZnKHRoaXMudG90YWxCaXRyYXRlQXJyYXksdCwxMCk7aWYodGhpcy5uZWVkSW5jTWF4KWlmKHU+PTEuMDUqbil7aWYodGhpcy50YXJnZXRSYXRlPm4pe3RoaXMudGFyZ2V0UmF0ZS09dT5lP3UtZTp1LW4sdGhpcy50YXJnZXRSYXRlPU1hdGgubWF4KHRoaXMudGFyZ2V0UmF0ZSxuKSx0aGlzLnRhcmdldFJhdGU9TWF0aC5taW4odGhpcy50YXJnZXRSYXRlLDIqbiksYT10aGlzLnRhcmdldFJhdGV9fWVsc2UgdTwuOCpuJiYoMD09PXRoaXMudGFyZ2V0UmF0ZSYmKHRoaXMudGFyZ2V0UmF0ZT1lKSx0aGlzLnRhcmdldFJhdGU9dGhpcy50YXJnZXRSYXRlPj1uP3RoaXMudGFyZ2V0UmF0ZSsuMDgqbjoxLjA1KnRoaXMudGFyZ2V0UmF0ZSx0aGlzLnRhcmdldFJhdGU9TWF0aC5taW4odGhpcy50YXJnZXRSYXRlLDIqbiksYT10aGlzLnRhcmdldFJhdGUpfWlmKHI+MCYmcjxuKXt2YXIgZD1zLkNsaWVudFV0aWwuYXJyQXZnKHRoaXMudG90YWxSZXRyYW5zUmF0ZUFycmF5LHIsNSk7aWYodGhpcy5uZWVkSW5jTWF4KXtpZihkK3Q+MS4wNSpuKXRoaXMudGFyZ2V0UmF0ZS09ZCt0LW4sdGhpcy50YXJnZXRSYXRlPU1hdGgubWF4KHRoaXMudGFyZ2V0UmF0ZSxuLWQpLGE9dGhpcy50YXJnZXRSYXRlfWVsc2UgYT10aGlzLnRhcmdldFJhdGUtZH1lbHNlIHRoaXMudGFyZ2V0UmF0ZTxuJiYodGhpcy50YXJnZXRSYXRlPW4sYT10aGlzLnRhcmdldFJhdGUpO2lmKGE+MCl7YT1zLkNsaWVudFV0aWwuYXJyQXZnKHRoaXMudG90YWxUYXJnZXRSYXRlQXJyYXksYSw1KTt2YXIgbD1udWxsPT09KGk9dGhpcy5wZWVyQ29ubmVjdGlvbil8fHZvaWQgMD09PWk/dm9pZCAwOmkuZ2V0U2VuZGVycygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2smJlwidmlkZW9cIj09PWUudHJhY2sua2luZH0pKTtpZighbClyZXR1cm47dmFyIGg9bC5sZW5ndGg+MT9sWzFdOmxbMF0/bFswXTpudWxsO2lmKCFoKXJldHVybjt2YXIgcD1oLmdldFBhcmFtZXRlcnMoKTtwLmVuY29kaW5nc3x8KHAuZW5jb2RpbmdzPVt7fV0pLHAuZW5jb2RpbmdzWzBdLm1heEJpdHJhdGU9YSxoLnNldFBhcmFtZXRlcnMocCkuY2F0Y2goKGZ1bmN0aW9uKGUpe28ubG9nZ2VyLmVycm9yKGMuWkVHT19XRUJSVENfQUNUSU9OLlBVQkxJU0hFUl9IQU5ETEVfRU5DX0JJVFJBVEUrXCIgXCIrZSl9KSl9fSxlLnByb3RvdHlwZS5yZXNldEVuY0JpdHJhdGU9ZnVuY3Rpb24oKXt0aGlzLm5lZWRJbmNNYXg9ITEsdGhpcy5wcm9iZUNvdW50PTAsdGhpcy5nb3RNYXg9ITEsdGhpcy5pbml0Rml0Q250PTAsdGhpcy50YXJnZXRSYXRlPTAsdGhpcy50b3RhbEJpdHJhdGVBcnJheT1bXSx0aGlzLnRvdGFsVGFyZ2V0UmF0ZUFycmF5PVtdLHRoaXMudG90YWxSZXRyYW5zUmF0ZUFycmF5PVtdfSxlLnByb3RvdHlwZS5yZXBsYWNlUHVibGlzaGVkVHJhY2s9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSkse2Vycm9yQ29kZTotMSxleHRlbmRlZERhdGE6XCJzaG91bGQgaW5zdGFsbCBhZHZhbmNlZCBtb2R1bGUgZmlyc3RcIn19LGUucHJvdG90eXBlLnNlbmRTdHJlYW1TdGF0dXM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpczt2b2lkIDA9PT1yJiYocj0hMSksdm9pZCAwPT09aSYmKGk9MCksKHJ8fHRoaXMuY2FtZXJhX3N0YXR1cyE9PWV8fHRoaXMubWljX3N0YXR1cyE9PXQpJiZ0aGlzLnNpZ25hbCYmKHRoaXMuY2FtZXJhX3N0YXR1cz1lLHRoaXMubWljX3N0YXR1cz10LGkrKyx0aGlzLnNpZ25hbC5zZW5kU3RyZWFtU3RhdHVzKCgwLG8uZ2V0U2VxKSgpLHRoaXMuc2Vzc2lvbklkLGUsdCx0aGlzLnN0cmVhbUlkLChmdW5jdGlvbigpe24uY2FtZXJhX3N0YXR1cz09PWUmJm4ubWljX3N0YXR1cz09PXQmJmk8PTEmJm4uc2VuZFN0cmVhbVN0YXR1cyhlLHQsITAsaSl9KSkpfSxlLnByb3RvdHlwZS5hZGRDYW52YXNTdHJlYW1WaWRlb1RyYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikscj1uZXcgSW1hZ2U7cmV0dXJuIHIuc3JjPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQUFYTlNSMElBcnM0YzZRQUFBRkZKUkVGVU9FOWpaR0JnYUdCZ1lMQm5ZR0J3WUNBTkhHQmdZRGpJeU1EQWNJV0JnVUdiTkwxdzFWZEJCdnduVXpOWTI2Z0JvMkV3ak5MQmZqSnlJaXo3SEFEbEJWQjJEaUVqUjE1bFlHQllBd0F5cFJTWTUzU1lvQUFBQUFCSlJVNUVya0pnZ2c9PVwiLHQud2lkdGg9ODAsdC5oZWlnaHQ9ODAsdGhpcy5jYW52YXNUaW1lcj1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt2YXIgZTsoZT10LmdldENvbnRleHQoXCIyZFwiKSkmJmUuZHJhd0ltYWdlKHIsMCwwLDE2LDE2KX0pLDIwMCksdC5jYXB0dXJlU3RyZWFtKCkuZ2V0VmlkZW9UcmFja3MoKVswXX0sZX0oKTt0LlplZ29QdWJsaXNoPWR9LDQ4MjU6ZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXl8fGZ1bmN0aW9uKGUsdCxyKXtpZihyfHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGksbz0wLG49dC5sZW5ndGg7bzxuO28rKykhaSYmbyBpbiB0fHwoaXx8KGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwLG8pKSxpW29dPXRbb10pO3JldHVybiBlLmNvbmNhdChpfHxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuYWRkUlJUUkxpbmU9dC5hZGRTUFNEZXNjcmlwdGlvbj12b2lkIDAsdC5hZGRTUFNEZXNjcmlwdGlvbj1mdW5jdGlvbihlKXt2YXIgdCxyPWUsaT1mdW5jdGlvbihlKXt2YXIgdD17bTpbe3JlZzovXihcXHcqKSAoXFxkKikgKFtcXHcvXSopKD86ICguKikpPy8sbmFtZXM6W1widHlwZVwiLFwicG9ydFwiLFwicHJvdG9jb2xcIixcInBheWxvYWRzXCJdLGZvcm1hdDpcIiVzICVkICVzICVzXCJ9XSxhOlt7cHVzaDpcImZtdHBcIixyZWc6L15mbXRwOihcXGQqKSAoW1xcU3wgXSopLyxuYW1lczpbXCJwYXlsb2FkXCIsXCJjb25maWdcIl0sZm9ybWF0OlwiZm10cDolZCAlc1wifV19O2Z1bmN0aW9uIHIoZSx0LHIpe3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoTnVtYmVyKGUpKT09PWU/TnVtYmVyKGUpOmV9LG89ZS5uYW1lJiZlLm5hbWVzO2UucHVzaCYmIXRbZS5wdXNoXT90W2UucHVzaF09W106byYmIXRbZS5uYW1lXSYmKHRbZS5uYW1lXT17fSk7dmFyIG49ZS5wdXNoP3t9Om8/dFtlLm5hbWVdOnQ7KGZ1bmN0aW9uKGUsdCxyLG8pe2lmKG8mJiFyKXRbb109aShlWzFdKTtlbHNlIGZvcih2YXIgbj0wO248ci5sZW5ndGg7bis9MSludWxsIT1lW24rMV0mJih0W3Jbbl1dPWkoZVtuKzFdKSl9KShyLm1hdGNoKGUucmVnKSxuLGUubmFtZXMsZS5uYW1lKSxlLnB1c2gmJnRbZS5wdXNoXS5wdXNoKG4pfXZhciBpPVJlZ0V4cC5wcm90b3R5cGUudGVzdC5iaW5kKC9eKFthLXpdKT0oLiopLyksbz1bXSxuPXt9LHM9bjtyZXR1cm4gZS5zcGxpdCgvKFxcclxcbnxcXHJ8XFxuKS8pLmZpbHRlcihpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1lWzBdLG49ZS5zbGljZSgyKTtcIm1cIj09PWkmJihvLnB1c2goe3J0cDpbXSxmbXRwOltdfSkscz1vW28ubGVuZ3RoLTFdKTtmb3IodmFyIGE9MDthPCh0W2ldfHxbXSkubGVuZ3RoO2ErPTEpe3ZhciBjPXRbaV1bYV07aWYoYy5yZWcmJmMucmVnLnRlc3QobikpcmV0dXJuIHIoYyxzLG4pfX0pKSxuLm1lZGlhPW8sbn0oZSksbz1bXTtyZXR1cm4gaS5tZWRpYS5mb3JFYWNoKChmdW5jdGlvbihlKXtcInZpZGVvXCI9PT1lLnR5cGUmJmUuZm10cC5mb3JFYWNoKChmdW5jdGlvbihlKXt0PVwiYT1mbXRwOlwiK2UucGF5bG9hZCtcIiBcIitlLmNvbmZpZywtMT09PWUuY29uZmlnLmluZGV4T2YoXCJzcHMtcHBzLWlkci1pbi1rZXlmcmFtZVwiKSYmLTE9PT1vLmluZGV4T2YodCkmJm8ucHVzaCh0KX0pKX0pKSxvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3I9ci5yZXBsYWNlKG5ldyBSZWdFeHAoZSxcImdcIiksZStcIjtzcHMtcHBzLWlkci1pbi1rZXlmcmFtZT0xXCIpfSkpLHJ9LHQuYWRkUlJUUkxpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIlxcclxcblwiKSxpPW5ldyBNYXA7dC5mb3JFYWNoKChmdW5jdGlvbihlLHIpe2lmKC9eYT1ydGNwLWZiOi8udGVzdChlKSYmdFtyKzFdJiYhL15hPXJ0Y3AtZmI6Ly50ZXN0KHRbcisxXSkpe3ZhciBvPWUubWF0Y2goL15hPXJ0Y3AtZmI6XFxkKy8pO28mJmkuc2V0KHIrMSxvWzBdK1wiIHJydHJcIil9fSkpO2Zvcih2YXIgbz1BcnJheS5mcm9tKGkpLG49MDtuPG8ubGVuZ3RoO24rKyl7dmFyIHM9cihbXSxvW25dLCEwKTt0LnNwbGljZShzWzBdK24sMCxzWzFdKX1yZXR1cm4gZT10LmpvaW4oXCJcXHJcXG5cIil9fSw1NzQ5OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsaT1hcmd1bWVudHMubGVuZ3RoO3I8aTtyKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0saS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuWmVnb1NpZ25hbD12b2lkIDA7dmFyIG89cig5ODg3KSxuPXIoNjI2Mikscz1yKDc3MTYpLGE9cig4NjE1KSxjPXIoMjQyNCksdT1bXCJMb2dpblJlcVwiLFwiQ3JlYXRlU2Vzc2lvbldpdGhTZHBSZXFcIixcIkNyZWF0ZVNlc3Npb25SZXFcIl0sZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dm9pZCAwPT09aSYmKGk9ITEpLHRoaXMubmV0QWdlbnQ9cix0aGlzLnVzZU5ldEFnZW50PWksdGhpcy5zZW5kRGF0YU1hcD17fSx0aGlzLnNlbmREYXRhTGlzdD1uZXcgby5MaW5rZWRMaXN0LHRoaXMuc2VuZERhdGFDaGVja09uY2VDb3VudD0xMDAsdGhpcy5zaWduYWxTZXE9MCx0aGlzLnB1c2hDYWxsYmFjaz17fSx0aGlzLnNlc3Npb25JbmZvcz17fSx0aGlzLnRyeUhlYXJ0YmVhdENvdW50PTAsdGhpcy5oZWFydGJlYXRJbnRlcnZhbD0xZTQsdGhpcy5zZW5kRGF0YVRpbWVvdXQ9NWUzLHRoaXMuc2VuZERhdGFEcm9wVGltZW91dD0xZTQsdGhpcy5zZW5kRGF0YUNoZWNrVGltZXI9bnVsbCx0aGlzLnNlbmREYXRhQ2hlY2tJbnRlcnZhbD0yZTMsdGhpcy5jaGVja01lc3NhZ2VMaXN0PVtcIkFjdGl2YXRlVmlkZW9QbGF5U3RyZWFtUmVxXCIsXCJBY3RpdmF0ZUF1ZGlvUGxheVN0cmVhbVJlcVwiLFwiQ3JlYXRlU2Vzc2lvblJlcVwiLFwiQ3JlYXRlU2Vzc2lvbldpdGhTZHBSZXFcIixcIkFjdGl2YXRlU0VJSW5zZXJ0UmVxXCIsXCJTdHJlYW1TdGF0dXNOb3RpZnlcIixcIk1lZGlhRGVzY1VwZGF0ZVJlcVwiXSx0aGlzLnRyeUNvbm5lY3RDb3VudD0xLHRoaXMudHJ5Q29ubmVjdFRpbWVyPW51bGwsdGhpcy50cnlDb25uZWN0SW50ZXJ2YWw9M2UzLHRoaXMuc3RhdGU9by5FTlVNX0NPTk5FQ1RfU1RBVEUuZGlzY29ubmVjdCx0aGlzLnRva2VuVHlwZT0wLHRoaXMuYnJvd3Nlcj10aGlzLmdldEJyb3dzZXJBbmRWZXJzaW9uKCksdGhpcy5wbGF0Zm9ybT1uYXZpZ2F0b3IucGxhdGZvcm0sdGhpcy5fd2Vic29ja2V0PW51bGwsdGhpcy5uZWdvSW50ZXJ2YWw9MjVlMyx0aGlzLm5lZ29UcnlDb3VudD0xLHRoaXMubmVnb1RyeU1heENvdW50PTIsdGhpcy5sb2dnZXI9ZSx0aGlzLnN0YXRlQ2VudGVyPXQsdGhpcy5zdGF0ZUNlbnRlci5zdHJlYW1Db25uZWN0VGltZSYmKHRoaXMudHJ5Q29ubmVjdEludGVydmFsPXRoaXMuc3RhdGVDZW50ZXIuc3RyZWFtQ29ubmVjdFRpbWUpLHRoaXMuZ3c9bmV3IGEuR2F0ZXdheVNpZ25hbCh0aGlzKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwid3NSZWFkeVN0YXRlXCIse2dldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy53ZWJzb2NrZXQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnJlYWR5U3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwid2Vic29ja2V0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJzb2NrZXR9LHNldDpmdW5jdGlvbihlKXtudWxsPT09ZSYmdGhpcy51c2VOZXRBZ2VudHx8KHRoaXMuX3dlYnNvY2tldD1lKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRCcm93c2VyQW5kVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlLHQ9bmF2aWdhdG9yLnVzZXJBZ2VudCxyPXQubWF0Y2goLyhvcGVyYXxjaHJvbWV8c2FmYXJpfGZpcmVmb3h8bXNpZXx0cmlkZW50KD89XFwvKSlcXC8/XFxzKihbXFxkXFwuXSspL2kpfHxbXTtyZXR1cm4vdHJpZGVudC9pLnRlc3QoclsxXSk/e25hbWU6XCJJRVwiLHZlcnNpb246KGU9L1xcYnJ2WyA6XSsoW1xcZFxcLl0rKS9nLmV4ZWModCl8fFtdKVsxXXx8XCJcIn06XCJDaHJvbWVcIj09PXJbMV0mJm51bGwhPShlPXQubWF0Y2goL1xcYk9QUnxFZGdlXFwvKFtcXGRcXC5dKykvKSk/e25hbWU6XCJPcGVyYVwiLHZlcnNpb246ZVsxXX06KHI9clsyXT9bclsxXSxyWzJdXTpbbmF2aWdhdG9yLmFwcE5hbWUsbmF2aWdhdG9yLmFwcFZlcnNpb24sXCItP1wiXSxudWxsIT0oZT10Lm1hdGNoKC92ZXJzaW9uXFwvKFtcXGQrXFwuXSspL2kpKSYmci5zcGxpY2UoMSwxLGVbMV0pLHtuYW1lOnJbMF0sdmVyc2lvbjpyWzFdfSl9LGUucHJvdG90eXBlLnNldFNlc3Npb25JbmZvPWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXIuZGVidWcobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFVF9TRVNTSU9OX0lORk8rXCIgY2FsbFwiKSx0aGlzLmFwcGlkPWUrXCJcIix0aGlzLnVzZXJpZD10fSxlLnByb3RvdHlwZS5vbkRpc2Nvbm5lY3Q9ZnVuY3Rpb24oZSx0KXt9LGUucHJvdG90eXBlLm9uVXBkYXRlSGVhcnRCZWF0SW50ZXJ2YWw9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5yZXNldENvbm5lY3RUaW1lcj1mdW5jdGlvbigpe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1JFU0VUX0NPTk5FQ1RfVElNRVIrXCIgY2FsbFwiKSxjbGVhclRpbWVvdXQodGhpcy50cnlDb25uZWN0VGltZXIpLHRoaXMudHJ5Q29ubmVjdFRpbWVyPW51bGwsdGhpcy50cnlDb25uZWN0Q291bnQ9MH0sZS5wcm90b3R5cGUuaGFuZGxlV3NNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UoZS5kYXRhKTt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9CSU5EX1dFQlNPQ0tFVF9IQU5ETEUrXCIgc2lnbm1zZz0gXCIsdC5oZWFkZXIuY21kKSx0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9CSU5EX1dFQlNPQ0tFVF9IQU5ETEUrXCIgc2lnbm1zZz0gXCIrSlNPTi5zdHJpbmdpZnkodCkpLHQuaGVhZGVyLmFwcGlkPT10aGlzLmFwcGlkJiZ0LmhlYWRlci51c2VyX2lkPT09dGhpcy51c2VyaWQ/dGhpcy5oYW5kbGVTZXJ2ZXJQdXNoKHQpOnRoaXMubG9nZ2VyLndhcm4obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0JJTkRfV0VCU09DS0VUX0hBTkRMRStcIiBjaGVjayBoZWFkZXIgZmFpbGVkXCIpfSxlLnByb3RvdHlwZS5iaW5kV2ViU29ja2V0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnRyeUhlYXJ0YmVhdENvdW50PTAsdGhpcy50cnlDb25uZWN0SW50ZXJ2YWw9dGhpcy5zdGF0ZUNlbnRlci5zdHJlYW1Db25uZWN0VGltZT90aGlzLnN0YXRlQ2VudGVyLnN0cmVhbUNvbm5lY3RUaW1lOjNlMyx0aGlzLndlYnNvY2tldCYmKHRoaXMud2Vic29ja2V0Lm9uY2xvc2U9ZnVuY3Rpb24odCl7aWYoZS5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfQklORF9XRUJTT0NLRVRfSEFORExFK1wiIGNsb3NlIG1zZyA9IFwiK0pTT04uc3RyaW5naWZ5KChudWxsPT10P3ZvaWQgMDp0LmNvZGUpP251bGw9PXQ/dm9pZCAwOnQuY29kZTp0KSksZS5zdGF0ZSE9by5FTlVNX0NPTk5FQ1RfU1RBVEUuZGlzY29ubmVjdCl7aWYoZS51c2VOZXRBZ2VudClyZXR1cm4gdm9pZCBlLmRpc2Nvbm5lY3RDYWxsYmFjaygpO2UucmVzZXRDb25uZWN0VGltZXIoKSxlLnN0YXJ0Q29ubmVjdFRpbWVyKChmdW5jdGlvbih0KXsxMDA4PT09dCYmZS5kaXNjb25uZWN0Q2FsbGJhY2socy5lcnJvckNvZGVMaXN0LlRPS0VOX0VYUElSRUQpfSkpLGUucmVzZXRDaGVja01lc3NhZ2UoKX19LHRoaXMud2Vic29ja2V0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7ZS5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0JJTkRfV0VCU09DS0VUX0hBTkRMRStcIiBtc2cgPSBcIitKU09OLnN0cmluZ2lmeSh0KSl9KX0sZS5wcm90b3R5cGUucmVzZXRDaGVja01lc3NhZ2U9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5kZWJ1ZyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfUkVTRVRfQ0hFQ0tfTUVTU0FHRStcIiBjYWxsXCIpLGNsZWFyVGltZW91dCh0aGlzLnNlbmREYXRhQ2hlY2tUaW1lciksdGhpcy5zZW5kRGF0YUNoZWNrVGltZXI9bnVsbDtmb3IodmFyIGU9dGhpcy5zZW5kRGF0YUxpc3QuZ2V0Rmlyc3QoKTtudWxsIT1lOyl0aGlzLnNlbmREYXRhTGlzdC5yZW1vdmUoZSksZS5fZGF0YS5lcnJvciYmZS5fZGF0YS5lcnJvcihvLlNFTkRfTVNHX1JFU0VULGUuX2RhdGEuc2VxKSxlPXRoaXMuc2VuZERhdGFMaXN0LmdldEZpcnN0KCk7dGhpcy5zZW5kRGF0YU1hcD17fX0sZS5wcm90b3R5cGUuaGFuZGxlU2VydmVyUHVzaD1mdW5jdGlvbihlKXtzd2l0Y2goZS5oZWFkZXIuY21kKXtjYXNlXCJMb2dpblJzcFwiOnRoaXMuaGFuZGxlUmVzcG9uZERhdGEoXCJMb2dpblJlcVwiLGUpO2JyZWFrO2Nhc2VcIkNyZWF0ZVNlc3Npb25Sc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiQ3JlYXRlU2Vzc2lvblJlcVwiLGUpLDA9PT1lLmJvZHkucmVzdWx0JiZ0aGlzLmFkZFNlc3Npb24oZS5oZWFkZXIuc2Vzc2lvbl9pZCxlLmJvZHkuc2Vzc2lvbl90b2tlbik7YnJlYWs7Y2FzZVwiQ3JlYXRlU2Vzc2lvbldpdGhTZHBSc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiQ3JlYXRlU2Vzc2lvbldpdGhTZHBSZXFcIixlKSwwPT09ZS5ib2R5LnJlc3VsdCYmdGhpcy5hZGRTZXNzaW9uKGUuaGVhZGVyLnNlc3Npb25faWQsZS5ib2R5LnNlc3Npb25fdG9rZW4pO2JyZWFrO2Nhc2VcIk1lZGlhRGVzY1JzcFwiOnRoaXMuaGFuZGxlUmVzcG9uZERhdGEoXCJNZWRpYURlc2NSZXFcIixlKTticmVhaztjYXNlXCJDYW5kaWRhdGVJbmZvUnNwXCI6dGhpcy5oYW5kbGVSZXNwb25kRGF0YShcIkNhbmRpZGF0ZUluZm9SZXFcIixlKTticmVhaztjYXNlXCJDbG9zZVNlc3Npb25Sc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiQ2xvc2VTZXNzaW9uUmVxXCIsZSksdGhpcy5yZW1vdmVTZXNzaW9uKGUuaGVhZGVyLnNlc3Npb25faWQpO2JyZWFrO2Nhc2VcIkNsaWVudEhCUnNwXCI6dGhpcy5oYW5kbGVSZXNwb25kRGF0YShcIkNsaWVudEhCUmVxXCIsZSk7YnJlYWs7Y2FzZVwiTWVkaWFEZXNjUHVzaFwiOmNhc2VcIkNhbmRpZGF0ZUluZm9QdXNoXCI6Y2FzZVwiU3RyZWFtU3RhdHVzTm90aWZ5UHVzaFwiOmNhc2VcIlB1Ymxpc2hFdmVudFB1c2hcIjpjYXNlXCJQbGF5RXZlbnRQdXNoXCI6Y2FzZVwiQ2xpZW50SW5mb1B1c2hcIjpjYXNlXCJOZXRRdWFsaXR5SW5mb1B1c2hcIjpjYXNlXCJNZWRpYURlc2NVcGRhdGVQdXNoXCI6Y2FzZVwiQ21kUHVzaFwiOnRoaXMuaGFuZGxlUHVzaERhdGEoZSk7YnJlYWs7Y2FzZVwiQ2xvc2VTZXNzaW9uUHVzaFwiOnRoaXMuaGFuZGxlUHVzaERhdGEoZSksdGhpcy5yZW1vdmVTZXNzaW9uKGUuaGVhZGVyLnNlc3Npb25faWQpO2JyZWFrO2Nhc2VcIlF1YWxpdHlSZXBvcnRSc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiUXVhbGl0eVJlcG9ydFJlcVwiLGUpO2JyZWFrO2Nhc2VcIlNlc3Npb25SZXNldFB1c2hcIjp0aGlzLmhhbmRsZVB1c2hSZXNldFNlc3Npb25EYXRhKGUpO2JyZWFrO2Nhc2VcIkFjdGl2YXRlVmlkZW9QbGF5U3RyZWFtUnNwXCI6dGhpcy5oYW5kbGVSZXNwb25kRGF0YShcIkFjdGl2YXRlVmlkZW9QbGF5U3RyZWFtUmVxXCIsZSk7YnJlYWs7Y2FzZVwiQWN0aXZhdGVBdWRpb1BsYXlTdHJlYW1Sc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiQWN0aXZhdGVBdWRpb1BsYXlTdHJlYW1SZXFcIixlKTticmVhaztjYXNlXCJOZXRRdWFsaXR5UHJvYmVSc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiTmV0UXVhbGl0eVByb2JlUmVxXCIsZSk7YnJlYWs7Y2FzZVwiQWN0aXZhdGVTRUlJbnNlcnRSc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiQWN0aXZhdGVTRUlJbnNlcnRSZXFcIixlKTticmVhaztjYXNlXCJTdHJlYW1TdGF0dXNOb3RpZnlBY2tcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiU3RyZWFtU3RhdHVzTm90aWZ5XCIsZSk7YnJlYWs7Y2FzZVwiUGVlcjJQZWVyTmV0U3RhdHNHZXRSc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiUGVlcjJQZWVyTmV0U3RhdHNHZXRSZXFcIixlKTticmVhaztjYXNlXCJNZWRpYURlc2NVcGRhdGVSc3BcIjp0aGlzLmhhbmRsZVJlc3BvbmREYXRhKFwiTWVkaWFEZXNjVXBkYXRlUmVxXCIsZSk7YnJlYWs7Y2FzZVwiQ21kUnNwXCI6dGhpcy5oYW5kbGVSZXNwb25kRGF0YShcIkNtZFJlcVwiLGUpfX0sZS5wcm90b3R5cGUuZGlzY29ubmVjdENhbGxiYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb25uZWN0Q2FsbGJhY2smJih0aGlzLmNvbm5lY3RDYWxsYmFjayh0fHwtMSx0aGlzLnNlcnZlcix2b2lkIDApLHRoaXMuY29ubmVjdENhbGxiYWNrPW51bGwpO3ZhciByPXRoaXMuc2VydmVyO3RoaXMuZGlzY29ubmVjdFNlcnZlcigpLHRoaXMub25EaXNjb25uZWN0KHIsZSl9LGUucHJvdG90eXBlLnVwZGF0ZVRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9VUERBVEVfVE9LRU4rXCIgY2FsbFwiKTt2YXIgdD17dG9rZW46dGhpcy50b2tlbix0b2tlblR5cGU6dGhpcy50b2tlblR5cGUscm9vbWlkOnRoaXMucm9vbUlELGFuY2hvcm5hbWU6dGhpcy5zdGF0ZUNlbnRlci5hbmNob3JfaW5mby5hbmNob3JfaWQsc2RrdmVyc2lvbjpvLlBST1RPX1ZFUlNJT04sb3NpbmZvOm5hdmlnYXRvci5hcHBWZXJzaW9ufTtpZigwIT1PYmplY3Qua2V5cyh0aGlzLnNlc3Npb25JbmZvcykubGVuZ3RoKXt2YXIgcj1bXTtmb3IodmFyIGkgaW4gdGhpcy5zZXNzaW9uSW5mb3Mpe3ZhciBzPXBhcnNlSW50KGkpO3IucHVzaCh7c2Vzc2lvbl9pZDpzLHNlc3Npb25fdG9rZW46dGhpcy5zZXNzaW9uSW5mb3Nbc10udG9rZW59KX10LnNlc3Npb25zPXJ9dGhpcy5zZW5kTWVzc2FnZVdpdGhDYWxsYmFjayhcIkxvZ2luUmVxXCIsdGhpcy5zdGF0ZUNlbnRlci5nZXRTZXEoKSwwLHQsKGZ1bmN0aW9uKHQscixpKXtpZigwPT1pLnJlc3VsdCl7ZS50b2tlbj1pLnRva2VuLGUudG9rZW5UeXBlPWkudG9rZW5UeXBlO3ZhciBvPXtyZXBvcnQ6aS5yZXBvcnQscmVwb3J0X2ludGVydmFsOmkucmVwb3J0X2ludGVydmFsX21zfTtpLm5lZ29JbnRlcnZhbCYmKGUubmVnb0ludGVydmFsPWkubmVnb0ludGVydmFsKSxpLm5lZ29UcnlDb3VudCYmKGUubmVnb1RyeUNvdW50PWkubmVnb1RyeUNvdW50KSxpLm5lZ29UcnlNYXhDb3VudCYmKGUubmVnb1RyeU1heENvdW50PWkubmVnb1RyeU1heENvdW50KSxudWxsIT1lLmNvbm5lY3RDYWxsYmFjayYmKGUuY29ubmVjdENhbGxiYWNrKDAsZS5zZXJ2ZXIsbyksZS5jb25uZWN0Q2FsbGJhY2s9bnVsbCksZS5jaGVja01lc3NhZ2VUaW1lb3V0KCl9ZWxzZXtudWxsIT1lLmNvbm5lY3RDYWxsYmFjayYmKGUuY29ubmVjdENhbGxiYWNrKGkucmVzdWx0LGUuc2VydmVyLHtlcnJvcjppLnN0ckVycm9yfSksZS5jb25uZWN0Q2FsbGJhY2s9bnVsbCl9fSksKGZ1bmN0aW9uKCl7bnVsbCE9ZS5jb25uZWN0Q2FsbGJhY2smJihlLmNvbm5lY3RDYWxsYmFjaygtMSxlLnNlcnZlcix2b2lkIDApLGUuY29ubmVjdENhbGxiYWNrPW51bGwpfSkpfSxlLnByb3RvdHlwZS5zZW5kTWVzc2FnZVdpdGhDYWxsYmFjaz1mdW5jdGlvbihlLHQscixpLHMsYSl7dmFyIGMsZD10aGlzO3ZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PWEmJihhPW51bGwpLHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfTUVTU0FHRV9XSVRIX0NBTExCQUNLK1wiIGNhbGwgXCIrZStcIiBcIit0K1wiIFwiKyhudWxsPT09KGM9dGhpcy53ZWJzb2NrZXQpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnJlYWR5U3RhdGUpKTt2YXIgbD1wZXJmb3JtYW5jZS5ub3coKTtpZighdGhpcy53ZWJzb2NrZXR8fFwiTG9naW5SZXFcIiE9PWUmJnRoaXMud2Vic29ja2V0LnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTilyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfTUVTU0FHRV9XSVRIX0NBTExCQUNLK1wiIGNvbm5lY3Qgbm90IGVzdGFibGlzaFwiKSx2b2lkKGEmJmEoby5TRU5EX01TR19USU1FT1VULHQpKTt2YXIgaD17aGVhZGVyOnRoaXMuZ2V0SGVhZGVyKGUsdCxyKSxib2R5Oml9LHA9e3NlcTp0LGRlbGV0ZWQ6ITEsY21kOmUsdGltZToobmV3IERhdGUpLmdldFRpbWUoKSxzdWNjZXNzOmZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaV09YXJndW1lbnRzW2ldO2lmKHUuaW5jbHVkZXMoZSkpe3ZhciBvPShwZXJmb3JtYW5jZS5ub3coKS1sKS50b0ZpeGVkKDApO2QubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfTUVTU0FHRV9XSVRIX0NBTExCQUNLK1wiIHNlcTogXCIuY29uY2F0KHQsXCIsIGNtZDogXCIpLmNvbmNhdChlLFwiLCBjb3N0X3RpbWU6IFwiKS5jb25jYXQobykpfXMmJnMuYXBwbHkodm9pZCAwLHIpfSxlcnJvcjphfSxnPXRoaXMuc2VuZERhdGFMaXN0LnB1c2gocCk7dGhpcy5zZW5kRGF0YU1hcFtwLnNlcV09Zzt2YXIgZj1KU09OLnN0cmluZ2lmeShoKTt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9TRU5EX01FU1NBR0VfV0lUSF9DQUxMQkFDSytcIiBcIitmKSx0aGlzLnVzZU5ldEFnZW50JiZcIkxvZ2luUmVxXCI9PT1lP3RoaXMud2Vic29ja2V0LnNlbmQoZix2b2lkIDAsITApOnRoaXMud2Vic29ja2V0LnNlbmQoZiksdGhpcy5sb2dnZXIuZGVidWcobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfTUVTU0FHRV9XSVRIX0NBTExCQUNLK1wiIHN1Y2Nlc3NcIil9LGUucHJvdG90eXBlLmdldEhlYWRlcj1mdW5jdGlvbihlLHQscil7cmV0dXJue3ZlcnNpb246XCIxLjAuMVwiLGNtZDplLGFwcGlkOnRoaXMuYXBwaWQrXCJcIixzZXE6dCx1c2VyX2lkOnRoaXMudXNlcmlkLHNlc3Npb25faWQ6cn19LGUucHJvdG90eXBlLmNvbm5lY3RTZXJ2ZXI9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGEsdT10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0NPTk5FQ1RfU0VSVkVSK1wiIFwiK3IpLHRoaXMucm9vbUlEPWUsdGhpcy50b2tlbj10LHRoaXMuc2VydmVyPXIsdGhpcy5zdGF0ZT1vLkVOVU1fQ09OTkVDVF9TVEFURS5jb25uZWN0aW5nLHRoaXMuY29ubmVjdENhbGxiYWNrPWksdGhpcy5pc1NlcnZlckNvbm5lY3RlZCl0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9DT05ORUNUX1NFUlZFUitcIiB3ZWJzb2NrZXQgaXMgY29ubmVjdGVkXCIpLHRoaXMucmVzZXRDb25uZWN0VGltZXIoKSx0aGlzLnN0YXRlPW8uRU5VTV9DT05ORUNUX1NUQVRFLmNvbm5lY3RlZDtlbHNlIHRyeXtpZih0aGlzLnVzZU5ldEFnZW50KXtpZighdGhpcy5zdGF0ZUNlbnRlci5hcHBDb25maWcpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfQ09OTkVDVF9TRVJWRVIrXCIgbm8gYXBwIGNvbmZpZyBcIik7dmFyIGQ9dGhpcy5zdGF0ZUNlbnRlci5hcHBDb25maWcubWVkaWFfY29uZmlnLnB1Ymxpc2hfY29uZmlnLnJlc291cmNlX2luZm8uZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVzb3VyY2VfdHlwZT09PW8uU2lnbmFsUmVzb3VyY2VUeXBlLlJUQ30pKTtpZighZClyZXR1cm4gdm9pZChpJiZpKHMuZXJyb3JDb2RlTGlzdC5HRVRfQ09ORklHX0ZBSUwpKTt2YXIgbD1udWxsPT09KGE9bnVsbD09ZD92b2lkIDA6ZC5zZXJ2aWNlX2luZm8pfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnByb3RvY29sPT09by5Qcm90b2NvbFR5cGUuV0VCUlRDfSkpO2lmKCFsKXJldHVybiB2b2lkKGkmJmkocy5lcnJvckNvZGVMaXN0LkdFVF9DT05GSUdfRkFJTCkpO3ZhciBoPWwudXJsX3RlbXBsYXRlLnNwbGl0KFwie0lQfVwiKVsxXS5zcGxpdChcIj9cIikscD1oWzBdLGc9aFsxXSxmPXtwYXRoOnAscXVlcnk6Z307dGhpcy5zdGF0ZUNlbnRlci5pc1Rlc3RNb2RlJiYoZj17cGF0aDpwKzIscXVlcnk6Z30pLHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0NPTk5FQ1RfU0VSVkVSK1wiIHNpZ25hbCBcIitKU09OLnN0cmluZ2lmeShmKSksdGhpcy53ZWJzb2NrZXQgaW5zdGFuY2VvZiBXZWJTb2NrZXQmJih0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQub25lcnJvcj1udWxsLHRoaXMud2Vic29ja2V0LmNsb3NlKCksdGhpcy53ZWJzb2NrZXQ9bnVsbCksIXRoaXMud2Vic29ja2V0JiYodGhpcy53ZWJzb2NrZXQ9bmV3IGMuQW5hbG9nU29ja2V0KHRoaXMuc2VydmVyLHRoaXMubmV0QWdlbnQsZix0aGlzLmxvZ2dlcikpLHRoaXMud2Vic29ja2V0Lm9wZW4oKX1lbHNlIHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0NPTk5FQ1RfU0VSVkVSK1wiIG5lZWQgbmV3IHdlYnNvY2tldFwiKSx0aGlzLndlYnNvY2tldCYmKHRoaXMubG9nZ2VyLndhcm4obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0NPTk5FQ1RfU0VSVkVSK1wiIGNsb3NlIGVycm9yIHdlYnNvY2tldFwiKSx0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQub25lcnJvcj1udWxsLHRoaXMud2Vic29ja2V0LmNsb3NlKCkpLHRoaXMud2Vic29ja2V0PW5ldyBXZWJTb2NrZXQodGhpcy5zZXJ2ZXIpO3RoaXMud2Vic29ja2V0Lm9uY2xvc2U9ZnVuY3Rpb24oZSl7dS5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfQ09OTkVDVF9TRVJWRVIrXCIgd2Vic29ja2V0IGNsb3NlIGNhbGwgIFwiK0pTT04uc3RyaW5naWZ5KGUpKSx1LnVzZU5ldEFnZW50JiZ1LnN0YXRlIT1vLkVOVU1fQ09OTkVDVF9TVEFURS5kaXNjb25uZWN0JiYodS5yZXNldENvbm5lY3RUaW1lcigpLHUuc3RhcnRDb25uZWN0VGltZXIoKGZ1bmN0aW9uKGUpezEwMDg9PT1lJiZ1LmRpc2Nvbm5lY3RDYWxsYmFjayhzLmVycm9yQ29kZUxpc3QuVE9LRU5fRVhQSVJFRCl9KSkpfSx0aGlzLndlYnNvY2tldC5vbmVycm9yPWZ1bmN0aW9uKGUpe3UubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0NPTk5FQ1RfU0VSVkVSK1wiIHdlYnNvY2tldCBvbmVycm9yIGNhbGwgIFwiK0pTT04uc3RyaW5naWZ5KGUpKSx1LnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50JiYobnVsbD09ZT92b2lkIDA6ZS5jb2RlKSYmdS5kaXNjb25uZWN0Q2FsbGJhY2sodm9pZCAwLG51bGw9PWU/dm9pZCAwOmUuY29kZSl9LHRoaXMudXNlTmV0QWdlbnQmJnRoaXMud2Vic29ja2V0IGluc3RhbmNlb2YgYy5BbmFsb2dTb2NrZXQ/KHRoaXMud2Vic29ja2V0Lm9ub3Blbj1mdW5jdGlvbigpe3UubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0NPTk5FQ1RfU0VSVkVSK1wiIHdlYnNvY2tldCBvcGVuIGNhbGxcIiksdS5iaW5kV2ViU29ja2V0RXZlbnRzKCksdS5zdGF0ZT1vLkVOVU1fQ09OTkVDVF9TVEFURS5jb25uZWN0ZWQsdS53ZWJzb2NrZXQmJih1LndlYnNvY2tldC5vbm1lc3NhZ2U9dS5oYW5kbGVXc01lc3NhZ2UuYmluZCh1KSl9LHRoaXMud2Vic29ja2V0Lm9ucmVjb25ubmVjdGluZz1mdW5jdGlvbigpe3UubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0NPTk5FQ1RfU0VSVkVSK1wiIHdlYnNvY2tldCByZWNvbm5lY3RpbmdcIiksdS51cGRhdGVUb2tlbigpfSx0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9dGhpcy5oYW5kbGVXc01lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVRva2VuKCkpOnRoaXMud2Vic29ja2V0Lm9ub3Blbj1mdW5jdGlvbigpe3UucmVzZXRDb25uZWN0VGltZXIoKSx1LmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9DT05ORUNUX1NFUlZFUitcIiB3ZWJzb2NrZXQgb3BlbiBjYWxsXCIpLHUud2Vic29ja2V0JiYodS53ZWJzb2NrZXQub25tZXNzYWdlPXUuaGFuZGxlV3NNZXNzYWdlLmJpbmQodSkpLHUuYmluZFdlYlNvY2tldEV2ZW50cygpLHUudXBkYXRlVG9rZW4oKSx1LnN0YXRlPW8uRU5VTV9DT05ORUNUX1NUQVRFLmNvbm5lY3RlZH19Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0NPTk5FQ1RfU0VSVkVSK1wiIHdlYnNvY2tldCBlcnJvciBcIitlKX10aGlzLnVzZU5ldEFnZW50fHwodGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfQ09OTkVDVF9TRVJWRVIrXCIgXCIrdGhpcy50cnlDb25uZWN0SW50ZXJ2YWwpLHRoaXMudHJ5Q29ubmVjdFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dS5zdGFydENvbm5lY3RUaW1lcihpKX0pLHRoaXMudHJ5Q29ubmVjdEludGVydmFsKSl9LGUucHJvdG90eXBlLnN0YXJ0Q29ubmVjdFRpbWVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NUQVJUX0NPTk5FQ1RfVElNRVIrXCIgY2FsbFwiKSx0aGlzLnRyeUNvbm5lY3RDb3VudD49by5NQVhfVFJZX0NPTk5FQ1RfQ09VTlQpcmV0dXJuIHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NUQVJUX0NPTk5FQ1RfVElNRVIrXCIgYmV5b25kIFwiK3RoaXMuc2VydmVyK1wibWF4IGxpbWl0XCIpLHZvaWQgdGhpcy5kaXNjb25uZWN0Q2FsbGJhY2soKTt0aGlzLndlYnNvY2tldCYmdGhpcy53ZWJzb2NrZXQucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5PUEVOPyh0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9TVEFSVF9DT05ORUNUX1RJTUVSK1wiIHdlYnNvY2tldCBpcyBjb25uZWN0ZWRcIiksdGhpcy5yZXNldENvbm5lY3RUaW1lcigpKToodGhpcy50cnlDb25uZWN0Q291bnQrPTEsdGhpcy5jb25uZWN0U2VydmVyKHRoaXMucm9vbUlELHRoaXMudG9rZW4sdGhpcy5zZXJ2ZXIsZSkpfSxlLnByb3RvdHlwZS5kaXNjb25uZWN0U2VydmVyPWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfRElTQ09OTkVDVF9TRVJWRVIrXCIgY2FsbFwiKSx0aGlzLmNvbm5lY3RDYWxsYmFjaz1udWxsLHRoaXMucmVzZXRDaGVja01lc3NhZ2UoKSx0aGlzLnJlc2V0Q29ubmVjdFRpbWVyKCksdGhpcy53ZWJzb2NrZXQmJih0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQub25lcnJvcj1udWxsLHRoaXMud2Vic29ja2V0LmNsb3NlKCksdGhpcy53ZWJzb2NrZXQ9bnVsbCksdGhpcy50b2tlbj1cIlwiLHRoaXMuc2Vzc2lvbkluZm9zPXt9LHRoaXMudG9rZW5UeXBlPTAsdGhpcy50cnlIZWFydGJlYXRDb3VudD0wLHRoaXMudHJ5Q29ubmVjdENvdW50PTAsdGhpcy5zdGF0ZT1vLkVOVU1fQ09OTkVDVF9TVEFURS5kaXNjb25uZWN0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc1NlcnZlckNvbm5lY3RlZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4obnVsbD09PShlPXRoaXMud2Vic29ja2V0KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5yZWFkeVN0YXRlKT09PVdlYlNvY2tldC5PUEVOfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNyZWF0ZVNlc3Npb249ZnVuY3Rpb24oZSx0LHIsaSxzLGEsYyx1KXt2b2lkIDA9PT1zJiYocz1cIlwiKSx2b2lkIDA9PT1hJiYoYT1cIlwiKSx0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9DUkVBVEVfU0VTU0lPTitcIiBjYWxsOiBcIitpKTt2YXIgZD1cIlwiO28uUFJPVE9fVkVSU0lPTi5zcGxpdChcIi5cIikuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZCs9MT09ZS5sZW5ndGgmJjE9PXQ/XCIwXCIrZTplfSkpO3RoaXMuc2VuZE1lc3NhZ2VXaXRoQ2FsbGJhY2soXCJDcmVhdGVTZXNzaW9uUmVxXCIsZSwwLHt0eXBlOnQsc3RyZWFtX2lkOmkscGxhdGZvcm06dGhpcy5wbGF0Zm9ybSxicm93c2VyOnRoaXMuYnJvd3Nlci5uYW1lLHZlcnNpb246dGhpcy5icm93c2VyLnZlcnNpb24sYXBwX2lkOnRoaXMuYXBwaWQsbmVnb3RpYXRlX21vZGU6cixzdHJBdXRoUGFyYW06cyxzZGtfdmVyc2lvbjoxKmQsdHVybl9zZXJ2ZXJfaG9zdDpcInN0cmluZ1wiPT10eXBlb2YgYT9hOlwiXCJ9LGMsdSl9LGUucHJvdG90eXBlLmNyZWF0ZVNlc3Npb25XaXRoU2RwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lLnNlcSxzPWUudHlwZSxhPWUuc3RyZWFtSWQsYz1lLnN0ckF1dGhQYXJhbSx1PWUuc2RwLGQ9ZS5zZXJ2ZXJIb3N0LGw9ZS5wbGF5QnVmTGV2ZWwsaD1lLnBhcmFtczt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9DUkVBVEVfU0VTU0lPTitcIiBjYWxsOiBcIithKTt2YXIgcD1cIlwiO28uUFJPVE9fVkVSU0lPTi5zcGxpdChcIi5cIikuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gcCs9MT09ZS5sZW5ndGgmJjE9PXQ/XCIwXCIrZTplfSkpO3ZhciBnPXt0eXBlOnMsYXBwX2lkOnRoaXMuYXBwaWQsc3RyZWFtX2lkOmEsc2RwOnUsdXNlcl9pZDp0aGlzLnVzZXJpZCxwbGF0Zm9ybTp0aGlzLnBsYXRmb3JtLGJyb3dzZXI6dGhpcy5icm93c2VyLm5hbWUsc2RrX3ZlcnM6cGFyc2VJbnQocCksY2xpZW50SXA6XCJcIixtZWRpYV9zZXJ2ZXJfaG9zdDpcInN0cmluZ1wiPT10eXBlb2YgZD9kOlwiXCIsc3RyQXV0aFBhcmFtOmMscGFyYW1zOmh9O2wmJihnLm1pbl9wbGF5X2J1Zl9sZXZlbF9tcz1sKSx0aGlzLnNlbmRNZXNzYWdlV2l0aENhbGxiYWNrKFwiQ3JlYXRlU2Vzc2lvbldpdGhTZHBSZXFcIixpLDAsZyx0LHIpfSxlLnByb3RvdHlwZS5zZW5kTWVkaWFEZXNjVXBkYXRlUmVxPWZ1bmN0aW9uKGUsdCxyLGksbyl7dGhpcy5zZW5kTWVzc2FnZVdpdGhDYWxsYmFjayhcIk1lZGlhRGVzY1VwZGF0ZVJlcVwiLGUsdCx7cGVlcl9pZDpyLnBlZXJJRCx0eXBlOnIudHlwZSxzZHA6ci5zZHAsd2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHQsZnJhbWVyYXRlOnIuZnJhbWVSYXRlLHZpZGVvX21pbl9rcGJzOnIudmlkZW9fbWluX2twYnMsdmlkZW9fbWF4X2twYnM6ci52aWRlb19tYXhfa3BicyxhdWRpb19rcGJzOnIuYXVkaW9fa3BicyxrZXlmcmFtZV9pbnR2OnIua2V5ZnJhbWVfaW50dn0saSxvKX0sZS5wcm90b3R5cGUucmVtb3ZlU2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9SRU1PVkVfU0VTU0lPTitcIiBjYWxsXCIrZSksdGhpcy5zZXNzaW9uSW5mb3NbZV0mJmRlbGV0ZSB0aGlzLnNlc3Npb25JbmZvc1tlXX0sZS5wcm90b3R5cGUuc2VuZENsb3NlU2Vzc2lvbj1mdW5jdGlvbihlLHQscixpLG8pe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfUkVNT1ZFX1NFU1NJT04rXCIgY2FsbDogXCIrdCk7dmFyIHM9e3JlYXNvbjpyfTt0aGlzLnJlbW92ZVNlc3Npb24odCksdGhpcy5zZW5kTWVzc2FnZVdpdGhDYWxsYmFjayhcIkNsb3NlU2Vzc2lvblJlcVwiLGUsdCxzLGksbyl9LGUucHJvdG90eXBlLnNlbmRNZXNzYWdlPWZ1bmN0aW9uKGUsdCxyLGkpe2lmKHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfTUVTU0FHRStcIiBjYWxsIFwiK2UpLHRoaXMud2Vic29ja2V0JiZ0aGlzLndlYnNvY2tldC5yZWFkeVN0YXRlPT09V2ViU29ja2V0Lk9QRU4pe3ZhciBvPXRoaXMuZ2V0SGVhZGVyKGUsdCxyKSxzPUpTT04uc3RyaW5naWZ5KHtoZWFkZXI6byxib2R5Oml9KTt0aGlzLndlYnNvY2tldC5zZW5kKHMpLHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfTUVTU0FHRStcIiBzdWNjZXNzXCIpfWVsc2UgdGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfTUVTU0FHRStcIiBjb25uZWN0IG5vdCBlc3RhYmxpc2hcIil9LGUucHJvdG90eXBlLmhhbmRsZVJlc3BvbmREYXRhPWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXIuZGVidWcobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0hBTkRMRV9SRVNQT05EX0RBVEErXCIgY2FsbFwiKTt2YXIgcj10aGlzLnNlbmREYXRhTWFwW3QuaGVhZGVyLnNlcV07aWYobnVsbCE9cil7ZGVsZXRlIHRoaXMuc2VuZERhdGFNYXBbdC5oZWFkZXIuc2VxXSx0aGlzLnNlbmREYXRhTGlzdC5yZW1vdmUocik7dmFyIGk9ci5fZGF0YTtpLmNtZCE9PWU/dGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0hBTkRMRV9SRVNQT05EX0RBVEErXCIgY29tbWFuZCBpcyBub3QgbWF0Y2hcIik6aS5zdWNjZXNzJiZpLnN1Y2Nlc3ModC5oZWFkZXIuc2VxLHQuaGVhZGVyLnNlc3Npb25faWQsdC5ib2R5KX1lbHNle2lmKFwiQ2xvc2VTZXNzaW9uUnNwXCI9PXQuaGVhZGVyLmNtZClyZXR1cm47dGhpcy5sb2dnZXIuZXJyb3Iobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0hBTkRMRV9SRVNQT05EX0RBVEErXCIgY2Fubm90IGZpbmQgZGF0YSBcIitlKX19LGUucHJvdG90eXBlLmFkZFNlc3Npb249ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9BRERfU0VTU0lPTitcIiBjYWxsXCIrZSksdGhpcy5zZXNzaW9uSW5mb3NbZV09e3Rva2VuOnR9fSxlLnByb3RvdHlwZS5oYW5kbGVQdXNoRGF0YT1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9IQU5ETEVfUFVTSF9EQVRBK1wiIGNhbGwgXCIrZS5oZWFkZXIuY21kK1wiIHNlc3Npb24gXCIrZS5oZWFkZXIuc2Vzc2lvbl9pZCk7dmFyIHQ9dGhpcy5wdXNoQ2FsbGJhY2tbZS5oZWFkZXIuY21kK2UuaGVhZGVyLnNlc3Npb25faWRdO3Q/dC5jYWxsYmFjayYmdC5jYWxsYmFjayhlLmhlYWRlci5zZXEsZS5oZWFkZXIuc2Vzc2lvbl9pZCxlLmJvZHkpOnRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0hBTkRMRV9QVVNIX0RBVEErXCIgbm8gY2FsbGJhY2tEYXRhIFwiK2UuaGVhZGVyLmNtZCtcIiBzZXNzaW9uOiBcIitlLmhlYWRlci5zZXNzaW9uX2lkKX0sZS5wcm90b3R5cGUuaGFuZGxlUHVzaFJlc2V0U2Vzc2lvbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuZGVidWcobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0hBTkRMRV9QVVNIX1JFU0VUX1NFU1NJT05fREFUQStcIiBjYWxsIFwiKTt2YXIgdD1bXTtpZigwPT1lLmJvZHkuY1Jlc2V0VHlwZSl0PU9iamVjdC5rZXlzKHRoaXMuc2Vzc2lvbkluZm9zKTtlbHNlIGlmKDE9PWUuYm9keS5jUmVzZXRUeXBlKWZvcih2YXIgcj0wO3I8ZS5ib2R5LnNlc3Npb25faWRzLmxlbmd0aDtyKyspdC5wdXNoKGUuYm9keS5zZXNzaW9uX2lkc1tyXSk7aWYodGhpcy5zZW5kUmVzZXRTZXNzaW9uQWNrKGUuaGVhZGVyLnNlcSwwLDApLDAhPXQubGVuZ3RoKWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbz10aGlzLnB1c2hDYWxsYmFja1tlLmhlYWRlci5jbWQrdFtpXV07bnVsbD09bz90aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9IQU5ETEVfUFVTSF9SRVNFVF9TRVNTSU9OX0RBVEErXCIgbm8gY2FsbGJhY2tEYXRhIFwiK3RbaV0pOm8uY2FsbGJhY2smJm8uY2FsbGJhY2soZS5oZWFkZXIuc2VxLHRbaV0sZS5ib2R5KX1lbHNlIHRoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0hBTkRMRV9QVVNIX1JFU0VUX1NFU1NJT05fREFUQStcIiBubyBzZXNzaW9uIHRvIGNhbGxiYWNrXCIpfSxlLnByb3RvdHlwZS5zZW5kTWVkaWFEZXNjPWZ1bmN0aW9uKGUsdCxyLGksbyxzKXt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9TRU5EX01FRElBX0RFU0MrXCIgY2FsbDogXCIrdCk7dmFyIGE9e3R5cGU6cixzZHA6aS5zZHB9O251bGwhPWkud2lkdGgmJihhLndpZHRoPWkud2lkdGgpLG51bGwhPWkuaGVpZ2h0JiYoYS5oZWlnaHQ9aS5oZWlnaHQpLG51bGwhPWkuZnJhbWVSYXRlJiYoYS5mcmFtZXJhdGU9aS5mcmFtZVJhdGUpLG51bGwhPWkudmlkZW9fbWluX2twYnMmJihhLnZpZGVvX21pbl9rcGJzPWkudmlkZW9fbWluX2twYnMpLG51bGwhPWkudmlkZW9fbWF4X2twYnMmJihhLnZpZGVvX21heF9rcGJzPWkudmlkZW9fbWF4X2twYnMpLG51bGwhPWkuYXVkaW9fa3BicyYmKGEuYXVkaW9fa3Bicz1pLmF1ZGlvX2twYnMpLG51bGwhPWkua2V5ZnJhbWVfaW50diYmKGEua2V5ZnJhbWVfaW50dj1pLmtleWZyYW1lX2ludHYpLG51bGwhPWkubWluX3BsYXlfYnVmX2xldmVsX21zJiYoYS5taW5fcGxheV9idWZfbGV2ZWxfbXM9aS5taW5fcGxheV9idWZfbGV2ZWxfbXMpLHRoaXMuc2VuZE1lc3NhZ2VXaXRoQ2FsbGJhY2soXCJNZWRpYURlc2NSZXFcIixlLHQsYSxvLHMpfSxlLnByb3RvdHlwZS5zZW5kQ2FuZGlkYXRlSW5mbz1mdW5jdGlvbihlLHQscixpLG8pe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfQ0FORElEQVRFX0lORk8rXCIgY2FsbDogXCIrdCk7Zm9yKHZhciBzPVtdLGE9MDthPHIubGVuZ3RoO2ErKyl7cy5wdXNoKHtjYW5kaWRhdGU6clthXS5jYW5kaWRhdGUsc2RwTWlkOnJbYV0uc2RwTWlkLHNkcE1MaW5lSW5kZXg6clthXS5zZHBNTGluZUluZGV4fSl9dGhpcy5zZW5kTWVzc2FnZVdpdGhDYWxsYmFjayhcIkNhbmRpZGF0ZUluZm9SZXFcIixlLHQse2luZm9zOnN9LGksbyl9LGUucHJvdG90eXBlLnNlbmRNZWRpYURlc2NBY2s9ZnVuY3Rpb24oZSx0LHIpe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfTUVESUFfREVTQ19BQ0srXCIgY2FsbDogXCIrdCk7dGhpcy5zZW5kTWVzc2FnZShcIk1lZGlhRGVzY0Fja1wiLGUsdCx7cmVzdWx0OnJ9KX0sZS5wcm90b3R5cGUuc2VuZFVwZGF0ZU1lZGlhRGVzY0Fjaz1mdW5jdGlvbihlLHQscixpKXt0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9TRU5EX01FRElBX0RFU0NfQUNLK1wiIGNhbGw6IFwiK3QpO3RoaXMuc2VuZE1lc3NhZ2UoXCJNZWRpYURlc2NVcGRhdGVBY2tcIixlLHQse3BlZXJfaWQ6aSxyZXN1bHQ6cn0pfSxlLnByb3RvdHlwZS5zZW5kQ2FuZGlkYXRlSW5mb0Fjaz1mdW5jdGlvbihlLHQscil7dGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfU0VORF9DQU5ESURBVEVfSU5GT19BQ0srXCIgY2FsbDogXCIrdCk7dGhpcy5zZW5kTWVzc2FnZShcIkNhbmRpZGF0ZUluZm9BY2tcIixlLHQse3Jlc3VsdDpyfSl9LGUucHJvdG90eXBlLnNlbmRDbG9zZVNlc3Npb25BY2s9ZnVuY3Rpb24oZSx0LHIpe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfQ0xPU0VfU0VTU0lPTl9BQ0srXCIgY2FsbDogXCIrdCk7dGhpcy5zZW5kTWVzc2FnZShcIkNsb3NlU2Vzc2lvbkFja1wiLGUsdCx7cmVzdWx0OnJ9KX0sZS5wcm90b3R5cGUuc2VuZFJlc2V0U2Vzc2lvbkFjaz1mdW5jdGlvbihlLHQscil7dGhpcy5sb2dnZXIuZGVidWcobi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfUkVTRVRfU0VTU0lPTl9BQ0srXCIgY2FsbDogXCIrdCk7dGhpcy5zZW5kTWVzc2FnZShcIlNlc3Npb25SZXNldEFja1wiLGUsdCx7cmVzdWx0OnJ9KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJQdXNoQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0LHIpe3ImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHImJih0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9SRUdJU1RFUl9QVVNIX0NBTExCQUNLK1wiIHNldCBjYWxsYmFjayBcIit0KSx0aGlzLnB1c2hDYWxsYmFja1tlK3RdPXtjYWxsYmFjazpyfSl9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJQdXNoQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5wdXNoQ2FsbGJhY2tbZSt0XX0sZS5wcm90b3R5cGUuY2hlY2tNZXNzYWdlVGltZW91dD1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMscj10aGlzLnNlbmREYXRhTGlzdC5nZXRGaXJzdCgpLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCkscz0wLGE9MCxjPTA7bnVsbCE9ciYmIShyLl9kYXRhLnRpbWUrdGhpcy5zZW5kRGF0YVRpbWVvdXQ+aSk7KWlmKGRlbGV0ZSB0aGlzLnNlbmREYXRhTWFwW3IuX2RhdGEuc2VxXSx0aGlzLnNlbmREYXRhTGlzdC5yZW1vdmUociksKythLC0xIT10aGlzLmNoZWNrTWVzc2FnZUxpc3QuaW5kZXhPZihyLl9kYXRhLmNtZCkpe2lmKG51bGw9PXIuX2RhdGEuZXJyb3J8fHRoaXMuc2VuZERhdGFEcm9wVGltZW91dD4wJiZyLl9kYXRhLnRpbWUrdGhpcy5zZW5kRGF0YURyb3BUaW1lb3V0PGk/KytjOih0aGlzLmxvZ2dlci53YXJuKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9DSEVDS19NRVNTQUdFX1RJTUVPVVQrXCIgZXJyb3IgY21kID0gXCIrci5fZGF0YS5jbWQrXCIgc2VxID1cIisobnVsbD09PShlPXIuX2RhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnNlcSkpLHIuX2RhdGEuZXJyb3ImJnIuX2RhdGEuZXJyb3Ioby5TRU5EX01TR19USU1FT1VULHIuX2RhdGEuc2VxKSksKytzPj10aGlzLnNlbmREYXRhQ2hlY2tPbmNlQ291bnQpYnJlYWs7cj10aGlzLnNlbmREYXRhTGlzdC5nZXRGaXJzdCgpfWVsc2Ugcj10aGlzLnNlbmREYXRhTGlzdC5nZXRGaXJzdCgpO3RoaXMuc2VuZERhdGFDaGVja1RpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5jaGVja01lc3NhZ2VUaW1lb3V0KCl9KSx0aGlzLnNlbmREYXRhQ2hlY2tJbnRlcnZhbCksMD09YSYmMD09Y3x8dGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfQ0hFQ0tfTUVTU0FHRV9USU1FT1VUK1wiIGNhbGwgc3VjY2Vzcywgc3RhdGU6IHRpbWVvdXQ9XCIrYStcIiBkcm9wPVwiK2MpfSxlLnByb3RvdHlwZS5zZW5kSGVhcnRiZWF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmxvZ2dlci5kZWJ1ZyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfU0VORF9IRUFSVEJFQVQrXCJjYWxsIHRyeUhlYXJ0YmVhdENvdW50OlwiK3RoaXMudHJ5SGVhcnRiZWF0Q291bnQpLDAhPU9iamVjdC5rZXlzKHRoaXMuc2Vzc2lvbkluZm9zKS5sZW5ndGgpaWYodGhpcy5zdGF0ZT09PW8uRU5VTV9DT05ORUNUX1NUQVRFLmNvbm5lY3RlZCl7aWYoKyt0aGlzLnRyeUhlYXJ0YmVhdENvdW50Pm8uTUFYX1RSWV9IRUFSVEJFQVRfQ09VTlQpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9TRU5EX0hFQVJUQkVBVCtcIiBoZWFydGJlYXQgdHJ5IGxpbWl0XCIpLHZvaWQgdGhpcy5kaXNjb25uZWN0Q2FsbGJhY2soKTt2YXIgdD1bXTtmb3IodmFyIHIgaW4gdGhpcy5zZXNzaW9uSW5mb3MpdC5wdXNoKHBhcnNlSW50KHIpKTt2YXIgaT17c2Vzc2lvbl9pZHM6dH0scz0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLnNlbmRNZXNzYWdlV2l0aENhbGxiYWNrKFwiQ2xpZW50SEJSZXFcIix0aGlzLnN0YXRlQ2VudGVyLmdldFNlcSgpLDAsaSwoZnVuY3Rpb24odCxyLGkpe2UubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfSEVBUlRCRUFUK1wiIGhiIHRpbWUgXCIrKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXMpKSxlLmhlYXJ0YmVhdEludGVydmFsIT1pLmhiX2ludGVydmFsJiYoZS5oZWFydGJlYXRJbnRlcnZhbD1pLmhiX2ludGVydmFsLGUub25VcGRhdGVIZWFydEJlYXRJbnRlcnZhbChpLmhiX2ludGVydmFsKSksZS50cnlIZWFydGJlYXRDb3VudD0wfSksKGZ1bmN0aW9uKGUsdCl7fSkpfWVsc2UgdGhpcy5sb2dnZXIud2FybihuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfU0VORF9IRUFSVEJFQVQrXCIgc3RhdGUgZXJyb3JcIik7ZWxzZSB0aGlzLmxvZ2dlci5pbmZvKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9TRU5EX0hFQVJUQkVBVCtcIiBubyBuZWVkIHRvIGhlYXJ0YmVhdFwiKX0sZS5wcm90b3R5cGUuUXVhbGl0eVJlcG9ydD1mdW5jdGlvbihlLHQscixvLHMpe3RoaXMubG9nZ2VyLmRlYnVnKG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9RVUFMSVRZX1JFUE9SVCtcIiBjYWxsXCIpO3ZhciBhPXtzdHJlYW1zOltpKGkoe30scikse2FpZDp0fSldfTt0aGlzLnNlbmRNZXNzYWdlV2l0aENhbGxiYWNrKFwiUXVhbGl0eVJlcG9ydFJlcVwiLGUsdCxhLG8scyl9LGUucHJvdG90eXBlLnNlbmRTdHJlYW1TdGF0dXM9ZnVuY3Rpb24oZSx0LHIsaSxzLGEpe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfU1RSRUFNX1NUQVRVUytcIiBjYWxsIFwiK3QpO3ZhciBjPXttaWNfc3RhdHVzOmksY2FtZXJhX3N0YXR1czpyfTt0aGlzLmxvZ2dlci5pbmZvKFwiXCIuY29uY2F0KG4uWkVHT19XRUJSVENfQUNUSU9OLlNJR05BTF9TRU5EX1NUUkVBTV9TVEFUVVMsXCIgc3RyZWFtIFwiKS5jb25jYXQoc3x8XCJcIixcIiBzdGF0dXMgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShjKSkpLHRoaXMuc2VuZE1lc3NhZ2VXaXRoQ2FsbGJhY2soXCJTdHJlYW1TdGF0dXNOb3RpZnlcIixlLHQsYywoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oZSl7ZT09PW8uU0VORF9NU0dfVElNRU9VVCYmYSYmYSgpfSkpfSxlLnByb3RvdHlwZS5BY3RpdmF0ZVBsYXlWaWRlb1N0cmVhbT1mdW5jdGlvbihlLHQscixpLG8pe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0FDVElWRV9QTEFZX1ZJREVPX1NUUkVBTStcIiBjYWxsXCIpO3ZhciBzPXthY3RpdmU6cj8wOjEsbGF5ZXI6MH07dGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfQUNUSVZFX1BMQVlfVklERU9fU1RSRUFNK1wiIGFjdGl2YXRlIHZpZGVvIFwiK0pTT04uc3RyaW5naWZ5KHMpKSx0aGlzLnNlbmRNZXNzYWdlV2l0aENhbGxiYWNrKFwiQWN0aXZhdGVWaWRlb1BsYXlTdHJlYW1SZXFcIixlLHQscyxpLG8pfSxlLnByb3RvdHlwZS5BY3RpdmF0ZVBsYXlBdWRpb1N0cmVhbT1mdW5jdGlvbihlLHQscixpLG8pe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX0FDVElWRV9QTEFZX0FVRElPX1NUUkVBTStcIiBjYWxsXCIpO3ZhciBzPXthY3RpdmU6cj8wOjEsbGF5ZXI6MH07dGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfQUNUSVZFX1BMQVlfQVVESU9fU1RSRUFNK1wiIGFjdGl2YXRlIGF1ZGlvIFwiK0pTT04uc3RyaW5naWZ5KHMpKSx0aGlzLnNlbmRNZXNzYWdlV2l0aENhbGxiYWNrKFwiQWN0aXZhdGVBdWRpb1BsYXlTdHJlYW1SZXFcIixlLHQscyxpLG8pfSxlLnByb3RvdHlwZS5zZW5kQnJvYWRjYXN0ZXJTdGF0dXM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMubG9nZ2VyLmluZm8obi5aRUdPX1dFQlJUQ19BQ1RJT04uU0lHTkFMX1NFTkRfQlJPQURDQVNUX1NUQVRVUytcIiBjYWxsIFwiK3QpO3RoaXMuc2VuZE1lc3NhZ2UoXCJCcm9hZGNhc3RlclN0YXR1c05vdGlmeVwiLGUsdCx7c3RhdHVzOnJ9KX0sZS5wcm90b3R5cGUuc2VuZE5ldFByb2JlPWZ1bmN0aW9uKGUsdCxyLGksbyl7dGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfU0VORF9ORVRfUFJPQkUrXCIgY2FsbCBcIit0KTt0aGlzLnNlbmRNZXNzYWdlV2l0aENhbGxiYWNrKFwiTmV0UXVhbGl0eVByb2JlUmVxXCIsZSx0LHtwZWVyX2lkOnIsYWN0aW9uOjF9LGksbyl9LGUucHJvdG90eXBlLnNlbmROZXRRdWFsaXR5SW5mb1B1c2hBY2s9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5sb2dnZXIuaW5mbyhuLlpFR09fV0VCUlRDX0FDVElPTi5TSUdOQUxfU0VORF9ORVRfUFJPQkUrXCIgY2FsbCBcIit0KTt0aGlzLnNlbmRNZXNzYWdlKFwiTmV0UXVhbGl0eUluZm9BY2tcIixlLHQse3BlZXJfaWQ6cixyZXN1bHQ6aX0pfSxlLnByb3RvdHlwZS5hY3RpdmF0ZVNFSUluc2VydD1mdW5jdGlvbihlLHQscixpLG8sbixzKXt9LGUucHJvdG90eXBlLmdldFAyUE5ldFN0YXRzPWZ1bmN0aW9uKGUsdCxyLGksbyl7dGhpcy5zZW5kTWVzc2FnZVdpdGhDYWxsYmFjayhcIlBlZXIyUGVlck5ldFN0YXRzR2V0UmVxXCIsZSx0LHtwZWVyX2lkOnJ9LGksbyl9LGUucHJvdG90eXBlLnNlbmRHV0NtZD1mdW5jdGlvbihlLHQscixpLG8pe3RoaXMuc2VuZE1lc3NhZ2VXaXRoQ2FsbGJhY2soXCJDbWRSZXFcIixlLHQscixpLG8pfSxlLnByb3RvdHlwZS5zZW5kR1dBY2s9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuc2VuZE1lc3NhZ2UoXCJDbWRBY2tcIixlLHQscil9LGV9KCk7dC5aZWdvU2lnbmFsPWR9LDcwMzY6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQXV0b3BsYXlEaWFsb2c9dm9pZCAwO3ZhciBvPWkocig2NTEpKSxuPVwiemdfYXV0b3BsYXlfd3JhcHBlclwiO2Z1bmN0aW9uIHMoKXtyZXR1cm4gbmF2aWdhdG9yLmxhbmd1YWdlLmluY2x1ZGVzKFwiemhcIil9dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5jb250ZW50PSdNZWRpYSBwbGF5IGZhaWxlZC4gQ2xpY2sgdGhlIFwiUmVzdW1lXCJ0byByZXN1bWUuJyx0aGlzLmRpYWxvZ05vZGU9bnVsbCx0aGlzLmJvZHlQb3NpdGlvbj1cInN0YXRpY1wiO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtlLmlubmVySFRNTD1cIi56Z19hdXRvcGxheV9tYXNre3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO3dpZHRoOjEwMHZ3O2hlaWdodDoxMDB2aDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNSk7ei1pbmRleDoxNTAwO30uemdfYXV0b3BsYXlfbWFzayBkaXY6bm90KC56Z19hdXRvcGxheV9hY3Rpb25fd3JhcHBlcil7ZGlzcGxheTpibG9jayAhaW1wb3J0YW50O30uXCIuY29uY2F0KG4sXCJ7cGFkZGluZzoxNHB4O2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93OjFweCAxcHggMTBweCAjOTg4ZThkO2JvcmRlcjoxcHggc29saWQgI2QxY2ZjZjttYXgtd2lkdGg6NTAwcHg7fS5cIikuY29uY2F0KG4sXCIgYXtjb2xvcjojMjQ3M0U4O30uemdfYXV0b3BsYXlfaGVhZGVye292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO2ZvbnQtc2l6ZToxNnB4O2ZvbnQtd2VpZ2h0OjYwMDt9LnpnX2F1dG9wbGF5X2NvbnRlbnR7bWFyZ2luOjhweCAwO30uemdfYXV0b3BsYXlfYWN0aW9uX3dyYXBwZXJ7d2lkdGg6MTAwJTtkaXNwbGF5OmZsZXggIWltcG9ydGFudDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnJpZ2h0O2Zsb2F0OnJpZ2h0O30uemdfYXV0b3BsYXlfY29sbGFwc2V7bWFyZ2luLXJpZ2h0OmF1dG87Y3Vyc29yOnBvaW50ZXJ9LnpnX2F1dG9wbGF5X3F1ZXN0aW9ue2hlaWdodDoxMDAlO2xpbmUtaGVpZ2h0OjE2cHg7Y3Vyc29yOnBvaW50ZXI7fS56Z19hdXRvcGxheV9hY3Rpb25fY29uZmlybXttYXJnaW4tbGVmdDo4cHg7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOiMwMDcyZmY7cGFkZGluZzo0cHggMTJweDtvdXRsaW5lOm5vbmU7Ym9yZGVyOjFweCBzb2xpZDtib3JkZXItcmFkaXVzOjNweDtmb250LXdlaWdodDpib2xkO30uemdfYXV0b3BsYXlfYWN0aW9uX2NvbmZpcm06aG92ZXJ7b3BhY2l0eTowLjk7fS56Z19hdXRvcGxheV9jb2xsYXBzZSwuemdfYXV0b3BsYXlfYWN0aW9uX2NvbmZpcm0sLnpnX2F1dG9wbGF5X2NvbnRlbnQsLnpnX2F1dG9wbGF5X3F1ZXN0aW9ue2ZvbnQtc2l6ZToxNHB4O31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc1MHB4KXsuXCIpLmNvbmNhdChuLFwie3dpZHRoOjgwdnc7fX1cIiksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKSxzKCkmJih0aGlzLmNvbnRlbnQ9XCLmtY/op4jlmajpmLvmraLpn7Pop4bpopHmkq3mlL7vvIzor7fngrnlh7vigJzmgaLlpI3mkq3mlL7igJ3jgIJcIiksdGhpcy5lTWFuYWdlcj1uZXcgby5kZWZhdWx0fXJldHVybiBlLmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuaW5zdGFuY2V8fChlLmluc3RhbmNlPW5ldyBlKSxlLmluc3RhbmNlfSxlLnByb3RvdHlwZS5jcmVhdGVEaWFsb2c9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7ZS5pbm5lckhUTUw9XCI8ZGl2IGNsYXNzPSd6Z19hdXRvcGxheV9tYXNrJz48ZGl2IGNsYXNzPSdcIi5jb25jYXQobixcIic+PGRpdiBjbGFzcz0nemdfYXV0b3BsYXlfaGVhZGVyJz5cIikuY29uY2F0KGxvY2F0aW9uLmhvc3QsXCI8L2Rpdj48ZGl2IGNsYXNzPSd6Z19hdXRvcGxheV9jb250ZW50Jz5cIikuY29uY2F0KHRoaXMuY29udGVudCxcIjwvZGl2PjxkaXYgY2xhc3M9J3pnX2F1dG9wbGF5X2FjdGlvbl93cmFwcGVyJz48L2Rpdj48L2Rpdj48L2Rpdj5cIikudHJpbSgpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7dC5jbGFzc05hbWU9XCJ6Z19hdXRvcGxheV9hY3Rpb25fY29uZmlybVwiLHQuaW5uZXJUZXh0PXMoKT9cIuaBouWkjeaSreaUvlwiOlwiUmVzdW1lXCIsdC5vbmNsaWNrPXRoaXMub25Db25maXJtLmJpbmQodGhpcyk7dmFyIHI9ZS5jb250ZW50LmZpcnN0Q2hpbGQsaT1yLnF1ZXJ5U2VsZWN0b3IoXCIuemdfYXV0b3BsYXlfYWN0aW9uX3dyYXBwZXJcIik7cmV0dXJuIGkmJmkuYXBwZW5kQ2hpbGQodCkscn0sZS5wcm90b3R5cGUub25Db25maXJtPWZ1bmN0aW9uKGUpe2UmJmUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5lTWFuYWdlci5lbWl0KFwiYWxsb3dQbGF5XCIpLHRoaXMuZGVsZXRlRGlhTG9nKCl9LGUucHJvdG90eXBlLmRlbGV0ZURpYUxvZz1mdW5jdGlvbigpe3RoaXMuZGlhbG9nTm9kZSYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kaWFsb2dOb2RlKSx0aGlzLmRpYWxvZ05vZGU9bnVsbCl9LGUucHJvdG90eXBlLmFkZERpYUxvZz1mdW5jdGlvbigpe3RoaXMuZGlhbG9nTm9kZT10aGlzLmRpYWxvZ05vZGV8fHRoaXMuY3JlYXRlRGlhbG9nKCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRpYWxvZ05vZGUpLHRoaXMuZGlhbG9nTm9kZS5vbmNsaWNrPXRoaXMub25Db25maXJtLmJpbmQodGhpcyl9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZU1hbmFnZXIuYWRkRXZlbnRIYW5kbGVyKGUsdCl9LGUuaW5zdGFuY2U9bnVsbCxlfSgpO3QuQXV0b3BsYXlEaWFsb2c9YX0sMjg0NDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fSxzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU3RyZWFtVmlldz12b2lkIDA7dmFyIGE9cyhyKDY1MSkpLGM9cig5MzM0KSx1PXIoNzAzNikuQXV0b3BsYXlEaWFsb2cuZ2V0SW5zdGFuY2UoKTt2YXIgZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgcixpLG8sbj10aGlzO3RoaXMucHJldmlld2VyPXQsdGhpcy52aWRlbz1udWxsLHRoaXMuYXVkaW89bnVsbCx0aGlzLm9wdGlvbnM9e2VuYWJsZUF1dG9wbGF5RGlhbG9nOiEwfSx0aGlzLmVtaXRQbGF5RmFpbGVkPShyPWZ1bmN0aW9uKCl7bi5ldmVudE1hbmFnZXIuZW1pdChcImF1dG9wbGF5RmFpbGVkXCIpLG4ub3B0aW9ucy5lbmFibGVBdXRvcGxheURpYWxvZyYmdS5hZGREaWFMb2coKX0sdm9pZCAwPT09KGk9NjAwKSYmKGk9MTAwKSxmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgbj10aGlzO2NsZWFyVGltZW91dChvKSxvPXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3IuYXBwbHkobixlKX0pLGkpfSk7dmFyIHM9dGhpcy5pZD1cIlwiLmNvbmNhdChlLmlkKSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5pZD1cInpnLXJ0Yy1wbGF5ZXJfXCIuY29uY2F0KHMpLGMuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZC1jb2xvcjpibGFjaztvdmVyZmxvdzpoaWRkZW47XCIpO3ZhciBkPWUuZ2V0VmlkZW9UcmFja3MoKVswXSxsPWUuZ2V0QXVkaW9UcmFja3MoKVswXSxoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtoLmlkPVwiemctcnRjLXZpZGVvX1wiLmNvbmNhdChzKSxoLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlO29iamVjdC1maXQ6Y29udGFpbjtcIiksaC5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLFwiYXV0b3BsYXlcIiksaC5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwicGxheXNpbmxpbmVcIiksaC5tdXRlZD0hMCxoLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0sZCYmaC5zcmNPYmplY3QuYWRkVHJhY2soZCk7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO3AuaWQ9XCJ6Zy1ydGMtYXVkaW9fXCIuY29uY2F0KHMpLHAuc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcImF1dG9wbGF5XCIpLHAuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcInBsYXlzaW5saW5lXCIpLHAuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbSxsJiZwLnNyY09iamVjdC5hZGRUcmFjayhsKSx0aGlzLndyYXBwZXI9Yyx0aGlzLnZpZGVvPWgsdGhpcy5hdWRpbz1wLHRoaXMuZXZlbnRNYW5hZ2VyPW5ldyBhLmRlZmF1bHQsdS5vbihcImFsbG93UGxheVwiLChmdW5jdGlvbigpe24ucmVzdW1lKCl9KSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzTG9jYWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldmlld2VyIGluc3RhbmNlb2YgYy5aZWdvUHJldmlld30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc01vdW50ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLndyYXBwZXIucGFyZW50Tm9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYXNBdWRpb1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0LHI7cmV0dXJuISEobnVsbD09PShlPXRoaXMuYXVkaW8pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBhcmVudE5vZGUpJiZcImxpdmVcIj09PShudWxsPT09KHI9bnVsbD09PSh0PXRoaXMuYXVkaW8uc3JjT2JqZWN0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRUcmFja3MoKVswXSl8fHZvaWQgMD09PXI/dm9pZCAwOnIucmVhZHlTdGF0ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaGFzVmlkZW9cIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdCxyO3JldHVybiEhKG51bGw9PT0oZT10aGlzLnZpZGVvKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wYXJlbnROb2RlKSYmXCJsaXZlXCI9PT0obnVsbD09PShyPW51bGw9PT0odD10aGlzLnZpZGVvLnNyY09iamVjdCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0VHJhY2tzKClbMF0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnJlYWR5U3RhdGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbih0aGlzLChmdW5jdGlvbihyKXtyZXR1cm5bXCJhdWRpb1wiLFwidmlkZW9cIl0uZm9yRWFjaCgoZnVuY3Rpb24ocil7cmV0dXJuIG8odCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9XCJhdWRpb1wiPT09cj90aGlzLmF1ZGlvOnRoaXMudmlkZW8sKFwiYXVkaW9cIj09PXI/dGhpcy5oYXNBdWRpbzp0aGlzLmhhc1ZpZGVvKT8oZSYmdCYmKHQuc3JjT2JqZWN0PXQuc3JjT2JqZWN0KSxbNCxudWxsPT10P3ZvaWQgMDp0LnBsYXkoKV0pOlszLDJdO2Nhc2UgMTppLnNlbnQoKSxpLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KSl9KSl9KSksWzJdfSkpfSkpfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciByPW51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGU/cj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTplIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJihyPWUpLCFyKXRocm93XCJFeGVjdXRlIGBwbGF5YCBmYWlsZWQsIGNvbnRhaW5lciBub3QgZXhpc3RcIjt0aGlzLm9wdGlvbnM9aShpKHt9LHRoaXMub3B0aW9ucyksdCk7dmFyIG89dGhpcy5vcHRpb25zLG49by5vYmplY3RGaXQscz1vLm11dGVkLGE9by5taXJyb3IsYz0hdGhpcy5pc0xvY2FsO3RoaXMuYXVkaW8mJlwiYm9vbGVhblwiPT10eXBlb2YgcyYmKGM9IXMpLHRoaXMudmlkZW8mJih2b2lkIDAhPT1uJiYodGhpcy52aWRlby5zdHlsZS5vYmplY3RGaXQ9biksXCJib29sZWFuXCI9PXR5cGVvZiBhJiYodGhpcy52aWRlby5zdHlsZS50cmFuc2Zvcm09YT9cInJvdGF0ZVkoMTgwZGVnKVwiOlwiXCIpKSwhci5jb250YWlucyh0aGlzLndyYXBwZXIpJiZyLmFwcGVuZENoaWxkKHRoaXMud3JhcHBlciksdGhpcy5tb3VudFBsYXllcih0aGlzLnZpZGVvLCEwKSx0aGlzLm1vdW50UGxheWVyKHRoaXMuYXVkaW8sYyl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgZSx0PW51bGw9PT0oZT10aGlzLndyYXBwZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBhcmVudE5vZGU7dCYmdC5yZW1vdmVDaGlsZCh0aGlzLndyYXBwZXIpfSxlLnByb3RvdHlwZS5zZXRWaWRlbz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSksbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnNldFRyYWNrKCEwLGUsdCldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0QXVkaW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zZXRUcmFjayghMSxlLHQpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyXX19KSl9KSl9LGUucHJvdG90eXBlLnNldFRyYWNrPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITEpLG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG8scyxhPXRoaXM7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4oaT1lP3RoaXMudmlkZW86dGhpcy5hdWRpbykmJihvPWkuc3JjT2JqZWN0KT90P1szLDFdOigocz1vLmdldFRyYWNrcygpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtudWxsPT1vfHxvLnJlbW92ZVRyYWNrKGUpfSkpLFszLDhdKTpbMl07Y2FzZSAxOmlmKCEodCBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spKXJldHVyblszLDhdO2lmKChzPW8uZ2V0VHJhY2tzKCkpLmluY2x1ZGVzKHQpKXJldHVyblszLDhdO2lmKHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bnVsbD09b3x8by5yZW1vdmVUcmFjayhlKX0pKSxvLmFkZFRyYWNrKHQpLCFyKXJldHVyblszLDZdO24ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIG4udHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCx0aGlzLnJlc3VtZSghMCldO2Nhc2UgMzpyZXR1cm4gbi5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBuLnNlbnQoKSxbMyw1XTtjYXNlIDU6cmV0dXJuWzMsOF07Y2FzZSA2OnJldHVybls0LGkucGxheSgpLmNhdGNoKChmdW5jdGlvbih0KXsoZT9hLmhhc1ZpZGVvOmEuaGFzQXVkaW8pJiZpLnBhdXNlZCYmYS5lbWl0UGxheUZhaWxlZCh0KX0pKV07Y2FzZSA3Om4uc2VudCgpLG4ubGFiZWw9ODtjYXNlIDg6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0TWlycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucy5taXJyb3I9ISFlO3RoaXMudmlkZW8mJih0aGlzLnZpZGVvLnN0eWxlLnRyYW5zZm9ybT10P1wicm90YXRlWSgxODBkZWcpXCI6XCJcIil9LGUucHJvdG90eXBlLnNldFZpZGVvTXV0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubW91bnRQbGF5ZXIodGhpcy52aWRlbywhZSl9LGUucHJvdG90eXBlLnNldEF1ZGlvTXV0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubW91bnRQbGF5ZXIodGhpcy5hdWRpbywhZSl9LGUucHJvdG90eXBlLnNldFZvbHVtZT1mdW5jdGlvbihlKXtpZih0aGlzLmF1ZGlvKXt2YXIgdD1lPjEwMD8xOmUvMTAwO3JldHVybiB0aGlzLmF1ZGlvLnZvbHVtZT10LHRoaXMuYXVkaW8udm9sdW1lPT10fXJldHVybiExfSxlLnByb3RvdHlwZS50YWtlU3RyZWFtU25hcHNob3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy52aWRlbztpZighdClyZXR1cm5cIlwiO2lmKCF0LnNyY09iamVjdClyZXR1cm5cIlwiO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ci53aWR0aD10aGlzLnZpZGVvLnZpZGVvV2lkdGgsci5oZWlnaHQ9dGhpcy52aWRlby52aWRlb0hlaWdodDt2YXIgaT1yLmdldENvbnRleHQoXCIyZFwiKTtpJiZpLmRyYXdJbWFnZSh0aGlzLnZpZGVvLDAsMCxyLndpZHRoLHIuaGVpZ2h0KTt2YXIgbz1yLnRvRGF0YVVSTChcImltYWdlL1wiKyhudWxsPT1lP3ZvaWQgMDplLmltYWdlVHlwZSl8fDAsbnVsbD09ZT92b2lkIDA6ZS5xdWFsaXR5KSxuPVwicG5nXCI7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUuaW1hZ2VUeXBlKSYmKG49W1wicG5nXCIsXCJqcGVnXCJdLmluY2x1ZGVzKG51bGw9PWU/dm9pZCAwOmUuaW1hZ2VUeXBlKT9udWxsPT1lP3ZvaWQgMDplLmltYWdlVHlwZTpcInBuZ1wiKSwobnVsbD09ZT92b2lkIDA6ZS5zYXZlKSYmci50b0Jsb2IoKGZ1bmN0aW9uKHQpe3ZhciByPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHQpLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7aS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGkuaHJlZj1yO3ZhciBvPShudWxsPT1lP3ZvaWQgMDplLmZpbGVOYW1lKXx8XCJzbmFwc2hvdFwiK0RhdGUubm93KCk7aS5kb3dubG9hZD1vK1wiLlwiK24sZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKSxpLmNsaWNrKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGkpLHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHIpfSksMTAwKX0pKSxvfSxlLnByb3RvdHlwZS5tb3VudFBsYXllcj1mdW5jdGlvbihlLHQpe3ZhciByLGksbz10aGlzO2lmKCFlfHwhdGhpcy53cmFwcGVyKXJldHVybiExO3ZhciBuPVwiVklERU9cIj09PWUudGFnTmFtZTtpZih0KXtpZih0JiZcImxpdmVcIj09PShudWxsPT09KGk9bnVsbD09PShyPW51bGw9PWU/dm9pZCAwOmUuc3JjT2JqZWN0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRUcmFja3MoKVswXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucmVhZHlTdGF0ZSkpe3ZhciBzPW51bGwsYT1mdW5jdGlvbigpe2Uub25jYW5wbGF5PW51bGwscyYmKGNsZWFyVGltZW91dChzKSxzPW51bGwpLGUucGxheSgpLmNhdGNoKChmdW5jdGlvbigpe28uaXNNb3VudGVkJiYobiYmby5oYXNWaWRlb3x8IW4mJm8uaGFzQXVkaW8pJiZvLmVtaXRQbGF5RmFpbGVkKCl9KSl9O2UubXV0ZWQ9ITEsZS5wbGF5KCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpLHM9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YSgpfSksMWUzKSxlLm9uY2FucGxheT1mdW5jdGlvbigpe2EoKX0sIWUucGFyZW50Tm9kZSYmdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKGUpfX1lbHNle2UubXV0ZWQ9ITA7dmFyIGM9ZS5wYXJlbnROb2RlO2MmJmMucmVtb3ZlQ2hpbGQoZSl9cmV0dXJuITB9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISF0JiZ0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudEhhbmRsZXIoZSx0KX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZXZlbnRNYW5hZ2VyLnJlbW92ZUV2ZW50SGFuZGxlcihlLHQpfSxlLnByb3RvdHlwZS51c2VBdWRpb091dD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj1udWxsPT09KHQ9dGhpcy5hdWRpbyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2V0U2lua0lkLHI/WzQsci5jYWxsKHRoaXMuYXVkaW8sZSldOlszLDJdO2Nhc2UgMTppLnNlbnQoKSxpLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKSx0aGlzLmF1ZGlvPW51bGwsdGhpcy52aWRlbz1udWxsfSxlfSgpO3QuU3RyZWFtVmlldz1kfSw2NTYyOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxvPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG49dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9LG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKSgoZnVuY3Rpb24obyxuKXtmdW5jdGlvbiBzKGUpe3RyeXtjKGkubmV4dChlKSl9Y2F0Y2goZSl7bihlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhpLnRocm93KGUpKX1jYXRjaChlKXtuKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIHI/dDpuZXcgcigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sYT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLGksbyxuLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG49e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG47ZnVuY3Rpb24gYShuKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLGkmJihvPTImblswXT9pLnJldHVybjpuWzBdP2kudGhyb3d8fCgobz1pLnJldHVybikmJm8uY2FsbChpKSwwKTppLm5leHQpJiYhKG89by5jYWxsKGksblsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKGk9MCxvJiYobj1bMiZuWzBdLG8udmFsdWVdKSxuWzBdKXtjYXNlIDA6Y2FzZSAxOm89bjticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6blsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLGk9blsxXSxuPVswXTtjb250aW51ZTtjYXNlIDc6bj1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89cy50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09blswXSYmMiE9PW5bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW5bMF0mJighb3x8blsxXT5vWzBdJiZuWzFdPG9bM10pKXtzLmxhYmVsPW5bMV07YnJlYWt9aWYoNj09PW5bMF0mJnMubGFiZWw8b1sxXSl7cy5sYWJlbD1vWzFdLG89bjticmVha31pZihvJiZzLmxhYmVsPG9bMl0pe3MubGFiZWw9b1syXSxzLm9wcy5wdXNoKG4pO2JyZWFrfW9bMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1uPXQuY2FsbChlLHMpfWNhdGNoKGUpe249WzYsZV0saT0wfWZpbmFsbHl7cj1vPTB9aWYoNSZuWzBdKXRocm93IG5bMV07cmV0dXJue3ZhbHVlOm5bMF0/blsxXTp2b2lkIDAsZG9uZTohMH19KFtuLGFdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlplZ29TdHJlYW1DZW50ZXJXZWI9dm9pZCAwO3ZhciBjPXIoOTg4NyksdT1yKDkzMzQpLGQ9cig1NjY0KSxsPXIoMTM5MCksaD1yKDk4ODcpLHA9cig1NzQ5KSxnPXIoOTQwNCksZj1yKDQ2NjEpLG09cigxNDY2KSxfPXIoNzcxNiksdj1yKDgzMzUpLEU9cigyOTkwKSxTPXIoNjI2MiksVD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG8sbixzKXt2YXIgYT1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGEubG9nZ2VyPXQsYS5zdGF0ZUNlbnRlcj1yLGEuZGF0YVJlcG9ydD1pLGEucnRtPW8sYS5hYz1uLGEubWVkaWFFbGVTb3VyY2VzPXMsYS50ZXN0RW52aXJvbm1lbnQ9ITEsYS5oZWFydGJlYXRUaW1lcj1udWxsLGEuaGVhcnRiZWF0SW50ZXJ2YWw9MWU0LGEucXVhbGl0eVRpbWVySW50ZXJ2YWw9M2UzLGEucHJldmlld1N0cmVhbUxpc3Q9W10sYS5zaWduYWxMaXN0PXt9LGEuY2hhcmdlSW5mb3M9e2l0ZW10eXBlOlwiQ2hhcmdlSW5mb3NcIix0aW1lc3RhbXBfYmVnaW46MCx0aW1lc3RhbXBfZW5kOjAsdGltZXN0YW1wX2RpZmZfZmxhZzowLHRpbWVzdGFtcF9kaWZmOjAsaW5mb3M6W119LGEuY2hhcmdlSW5mb3NUaW1lcj1udWxsLGEuY2hhcmdlSW5mb3NJbnRlcnZhbD02ZTQsYS5jaGFyZ2VJbmZvU2VxPTAsYS5zb3VuZExldmVsRGVsZWdhdGU9ITEsYS5zb3VuZExldmVsSW50ZXJ2YWw9MWUzLGEuZW5hYmxlSW5CYWNrZ3JvdW5kPSExLGEuaXNQZWVyPSEwLGEucHJvYmVMaXN0PXt9LGEuaXNNaWNFbmFibGVkPSEwLGEuaXNEYXRhQ2hhbm5lbEVuYWJsZWQ9ITEsYS5wdWJsaXNoUXVhbGl0eUluZm9zPVtdLGEucGxheVF1YWxpdHlJbmZvcz1bXSxhLnF1YWxpdHlVcGxvYWRUaW1lc3RhbXA9MCxhLnF1YWxpdHlIZWFkVGltZXN0YW1wPTAsYS5nd05vZGU9XCJcIixhLnBsYXllckxpc3Q9e30sYS5zdG9wZWRQbGF5ZXJMaXN0PXt9LGEucHVibGlzaGVyTGlzdD17fSxhLnBsYXlTdWNjZXNzQ2FsbEJhY2tMaXN0PXt9LGEucGxheUVycm9yQ2FsbEJhY2tMaXN0PXt9LGEud2FpdFB1Ymxpc2hMaXN0PVtdLGEud2FpdFBsYXlMaXN0PVtdLGEuYXV0b1N3aXRjaFByb3RvY29sPSEwLGEudWRwRmFpbE51bT0wLGEubWF4VWRwRmFpbE51bT0yLGEucHJvYmVTdGFydGVkTnVtPTMsYS50cnlDb3VudENvbm5lY3RJbnRlcnZhbD0zZTMsYS5jaGVja01lc3NhZ2VUaW1lb3V0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGEuc2lnbmFsTGlzdClhLnNpZ25hbExpc3RbZV0uc2lnbmFsJiZhLnNpZ25hbExpc3RbZV0uc2lnbmFsLmNoZWNrTWVzc2FnZVRpbWVvdXQoKX0sYS5nZXRBbGxJblVzZVVybD1mdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiBhLnNpZ25hbExpc3QpZS5wdXNoKHQpO3JldHVybiBlfSxhLm9uRGlzY29ubmVjdEhhbmRsZT1mdW5jdGlvbihlLHQpe2lmKGEubG9nZ2VyLmluZm8oXCJ6c2Mub2QuMCBjYWxsXCIpLGEuc2lnbmFsTGlzdFtlXSl7Zm9yKHZhciByPWEuc2lnbmFsTGlzdFtlXSxpPTA7aTxyLnB1Ymxpc2hDb25uZWN0ZWRMaXN0Lmxlbmd0aDtpKyspe3ZhciBvPWEucHVibGlzaGVyTGlzdFtyLnB1Ymxpc2hDb25uZWN0ZWRMaXN0W2ldXTtvJiZvLnB1Ymxpc2hlciYmby5wdWJsaXNoZXIub25EaXNjb25uZWN0KHQpfWZvcihpPTA7aTxyLnBsYXlDb25uZWN0ZWRMaXN0Lmxlbmd0aDtpKyspe3ZhciBuPWEucGxheWVyTGlzdFtyLnBsYXlDb25uZWN0ZWRMaXN0W2ldXTtuJiZuLnBsYXllciYmbi5wbGF5ZXIub25EaXNjb25uZWN0KHQpfWRlbGV0ZSBhLnNpZ25hbExpc3RbZV0sYS5zdG9wU2lnbmFsSGVhcnRiZWF0KCksYS5zdG9wQ2hhcmdlSW5mb3NVcGxvYWQoKSxhLnN0b3BTb3VuZExldmVsKCl9fSxhLmV2ZW50SGFuZGxlcj17dmlzaWJpbGl0eWNoYW5nZTpmdW5jdGlvbigpe3ZhciBlPSFkb2N1bWVudC5oaWRkZW47IWEuZW5hYmxlSW5CYWNrZ3JvdW5kJiZhLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmKGU/KGEuZW5hYmxlU291bmRMZXZlbFByb2Nlc3NvcighMCksYS5hY3RpdmVTb3VuZExldmVsKCkpOihhLnNvdW5kTGV2ZWxUaW1lciYmY2xlYXJUaW1lb3V0KGEuc291bmRMZXZlbFRpbWVyKSxhLnNvdW5kTGV2ZWxUaW1lcj1udWxsLGEuZW5hYmxlU291bmRMZXZlbFByb2Nlc3NvcighMSkpKX19LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsYS5ldmVudEhhbmRsZXIudmlzaWJpbGl0eWNoYW5nZSksYX1yZXR1cm4gbyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNhbWVyYVByZXZpZXdTdHJlYW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldmlld1N0cmVhbUxpc3QuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJjYW1lcmFcIj09PWUucHJldmlld1R5cGV9KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibWljcm9waG9uZVByZXZpZXdTdHJlYW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldmlld1N0cmVhbUxpc3QuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJjYW1lcmFcIj09PWUucHJldmlld1R5cGUmJmUubWljVHJhY2t9KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUub25TaWduYWxEaXNjb25uZWN0ZWQ9ZnVuY3Rpb24oZSl7fSx0LnByb3RvdHlwZS5zZXRRdWFsaXR5TW9uaXRvckN5Y2xlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwienNjLnFtYy4wIHRpbWVJbnRlcnZhbCBcIitlKSwwPT1PYmplY3Qua2V5cyh0aGlzLnB1Ymxpc2hlckxpc3QpLmxlbmd0aD90aGlzLnF1YWxpdHlUaW1lckludGVydmFsPWU6T2JqZWN0LmtleXModGhpcy5wdWJsaXNoZXJMaXN0KS5mb3JFYWNoKChmdW5jdGlvbihyKXt0LnB1Ymxpc2hlckxpc3Rbcl0ucHVibGlzaGVyLnF1YWxpdHlUaW1lSW50ZXJ2YWw9ZSx0LnB1Ymxpc2hlckxpc3Rbcl0ucHVibGlzaGVyLnNldFB1Ymxpc2hRdWFsaXR5VGltZXIoKX0pKSwhMH0sdC5wcm90b3R5cGUuc2V0U2Vzc2lvbkluZm89ZnVuY3Rpb24oZSx0LHIpe3RoaXMubG9nZ2VyLmRlYnVnKFwienNjLnNzaS4wIGNhbGxlZFwiKSx0aGlzLmFwcGlkPWUsdGhpcy51c2VyaWQ9dCx0aGlzLnRlc3RFbnZpcm9ubWVudD1yfSx0LnByb3RvdHlwZS5vblBsYXlTdGF0ZVVwZGF0ZT1mdW5jdGlvbihlLHQscil7fSx0LnByb3RvdHlwZS5vblBsYXlRdWFsaXR5VXBkYXRlPWZ1bmN0aW9uKGUsdCl7fSx0LnByb3RvdHlwZS5vblB1Ymxpc2hTdGF0ZVVwZGF0ZT1mdW5jdGlvbihlLHQscil7fSx0LnByb3RvdHlwZS5vblB1Ymxpc2hRdWFsaXR5VXBkYXRlPWZ1bmN0aW9uKGUsdCl7fSx0LnByb3RvdHlwZS5vblVwZGF0ZUhlYXJ0QmVhdEludGVydmFsSGFuZGxlPWZ1bmN0aW9uKGUpe2UhPXRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwmJih0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy51aGIuMCB1cGRhdGUgXCIrZSksdGhpcy5oZWFydGJlYXRUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLmhlYXJ0YmVhdFRpbWVyKSx0aGlzLmhlYXJ0YmVhdFRpbWVyPW51bGwpLHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWw9ZSx0aGlzLnN0YXJ0U2lnbmFsSGVhcnRiZWF0KCkpfSx0LnByb3RvdHlwZS5zZXRQdWJsaXNoU3RhdGVTdGFydD1mdW5jdGlvbihlLHQscixpLG8pe3ZhciBuLHMsYT10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oXCJ6c2MucHNzLjAgY2FsbCBcIit0KSx0aGlzLnN0YXRlQ2VudGVyLm5ldHdvcmtTdGF0ZT09Yy5FTlVNX05FVFdPUktfU1RBVEUub2ZmbGluZSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2MucHNzLjAgbmV0d29yayBvZmZsaW5lXCIpLCExO3ZhciB1PXRoaXMuY2hlY2tQcmV2aWV3KHIpO2lmKCF1KXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpzYy5wc3MuMCBzdHJlYW0gbm90IGZvdW5kXCIpLCExO3ZhciBsPXRoaXMucHVibGlzaGVyTGlzdFt0XSxwPXRoaXMuc3RhdGVDZW50ZXIucmVwb3J0U2VxTGlzdC5zdGFydFB1Ymxpc2hbdF07aWYodGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQocCxcInNldFB1Ymxpc2hTdGF0ZVwiKSxsKXJldHVybiB0aGlzLmxvZ2dlci5lcnJvcihcInpzYy5wc3MuMCBwdWJsaXNoZXIgYWxyZWFkeSBleGlzdFwiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnSW5mbyhwLFwic2V0UHVibGlzaFN0YXRlXCIse21lc3NhZ2U6XCJwdWJsaXNoZXIgYWxyZWFkeSBleGlzdFwifSksdGhpcy5kYXRhUmVwb3J0LnVwbG9hZFJlcG9ydChwLHZvaWQgMCx2LlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuZXJyb3Iua0lzUHVibGlzaGluZyksZGVsZXRlIHRoaXMuc3RhdGVDZW50ZXIucmVwb3J0U2VxTGlzdC5zdGFydFB1Ymxpc2hbdF0sITE7dmFyIGc9bmV3IGQuWmVnb1B1Ymxpc2godCx0aGlzLmxvZ2dlcix0aGlzLmRhdGFSZXBvcnQsdGhpcy5xdWFsaXR5VGltZXJJbnRlcnZhbCx0aGlzLHRoaXMuc3RhdGVDZW50ZXIsdSk7Zy5zdGF0ZT1oLkVOVU1fUFVCTElTSF9TVEFURS5zdGFydCxnLmlzUGVlcj10aGlzLmlzUGVlcixnLnJlcG9ydFNlcT10aGlzLnN0YXRlQ2VudGVyLnJlcG9ydFNlcUxpc3Quc3RhcnRQdWJsaXNoW3RdO3ZhciBfPW51bGw9PT0obj1udWxsPT11P3ZvaWQgMDp1LnZpZGVvVHJhY2spfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmxhYmVsLEU9ci5nZXRBdWRpb1RyYWNrcygpWzBdJiZyLmdldEF1ZGlvVHJhY2tzKClbMF0ubGFiZWwsUz1udWxsPT09KHM9bnVsbD09dT92b2lkIDA6dS52aWRlb1RyYWNrKXx8dm9pZCAwPT09cz92b2lkIDA6cy5nZXRTZXR0aW5ncygpLmRldmljZUlkLFQ9ci5nZXRBdWRpb1RyYWNrcygpWzBdJiZyLmdldEF1ZGlvVHJhY2tzKClbMF0uZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZCxDPW5ldyBmLlJldHJ5U3RyZWFtSGFuZGxlcih0aGlzLmxvZ2dlcix0aGlzLnN0YXRlQ2VudGVyLHRoaXMsITApO3JldHVybiB0aGlzLnB1Ymxpc2hlckxpc3RbdF09e3NlcTowLHJvb206ZSxsb2NhbFN0cmVhbTpyLHB1Ymxpc2hlcjpnLHNlcnZlclVybHM6W10sdHRsOjAsaXNDZW50ZXJOb2RlOiEwLHN0cmVhbUlEOnQscHVibGlzaE9wdGlvbjppLGNhbWVyYUxhYmVsOl98fFwiXCIsbWljcm9MYWJlbDpFfHxcIlwiLGNhbWVyYURldmljZUlkOlN8fFwiXCIsbWljcm9EZXZpY2VJZDpUfHxcIlwiLGRldmljZVN0YXRlQ291bnQ6MCxyZXRyeVN0cmVhbUhhbmRsZXI6QyxyZXRyeURpc3BhdGNoSGFuZGxlcjpuZXcgbS5SZXRyeURpc3BhdGNoSGFuZGxlcih0aGlzLmxvZ2dlcix0aGlzLnN0YXRlQ2VudGVyLHRoaXMucnRtLHRoaXMpLGlzRGF0YUNoYW5uZWw6b30sZy5vblB1Ymxpc2hTdGF0ZVVwZGF0ZT1mdW5jdGlvbihlLHIsaSxvKXt2YXIgbj1hLnB1Ymxpc2hlckxpc3Rbcl07bj9DLnB1Ymxpc2hTdGF0ZUhhbmRsZShlLG4uc3RyZWFtSUQsaSxvKTphLmxvZ2dlci5lcnJvcihcInpzYy5wc3VoLjAgY2Fubm90IGZpbmQgcHVibGlzaCBcIit0KX0sZy5vblB1Ymxpc2hRdWFsaXR5VXBkYXRlPWZ1bmN0aW9uKGUscil7dmFyIGk9YS5wdWJsaXNoZXJMaXN0W2VdO2k/KGEuc3RhdGVDZW50ZXIuZGV2aWNlU3RhdGVPdXQmJjA9PT1yLmF1ZGlvLmF1ZGlvQml0cmF0ZT8oaS5kZXZpY2VTdGF0ZUNvdW50KyssaS5kZXZpY2VTdGF0ZUNvdW50Pj0yJiYoaS5kZXZpY2VTdGF0ZUNvdW50PTAsYS5zdGF0ZUNlbnRlci5kZXZpY2VTdGF0ZU91dD0hMSxhLmxvZ2dlci53YXJuKFwienNjLnBzcy4wIHB1Ymxpc2ggYXVkaW8gZXJyb3IgYnkgZGV2aWNlXCIpKSk6aS5kZXZpY2VTdGF0ZUNvdW50PTAsYS5vblB1Ymxpc2hRdWFsaXR5VXBkYXRlKGkuc3RyZWFtSUQscikpOmEubG9nZ2VyLmVycm9yKFwienNjLnBzdWguMCBjYW5ub3QgZmluZCBwdWJsaXNoIFwiK3QpfSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydChnLnJlcG9ydFNlcSxcIkdldFNpZ25hbFVybFwiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydChnLnN0cmVhbVJlcG9ydFNlcSxcIkdldFNpZ25hbFVybFwiKSwhMH0sdC5wcm90b3R5cGUuc3RhcnRQdWJsaXNoaW5nU3RyZWFtPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ITEpLHRoaXMubG9nZ2VyLmluZm8oXCJ6c2Muc3BzLjAgY2FsbFwiKTt2YXIgcj10aGlzLnB1Ymxpc2hlckxpc3RbZV07aWYoIXIpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwienNjLnNwcy4wIHB1Ymxpc2hlciBkb24ndCBleGlzdFwiKSwhMTt2YXIgaT1yLnB1Ymxpc2hlcjtpZighdCl7aWYodGhpcy5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyhpLnJlcG9ydFNlcSxcIkdldFNpZ25hbFVybFwiLHt1cmxzOnIuc2VydmVyVXJscyxpc19jZW50ZXI6ci5pc0NlbnRlck5vZGV9KSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKGkuc3RyZWFtUmVwb3J0U2VxLFwiR2V0U2lnbmFsVXJsXCIse3VybHM6ci5zZXJ2ZXJVcmxzLGlzX2NlbnRlcjpyLmlzQ2VudGVyTm9kZX0pLCFyLnNlcnZlclVybHN8fDA9PT1yLnNlcnZlclVybHMubGVuZ3RoKXJldHVybiByLnJldHJ5U3RyZWFtSGFuZGxlci5wdWJsaXNoU3RhdGVIYW5kbGUoaC5FTlVNX1BVQkxJU0hfU1RBVEVfVVBEQVRFLmVycm9yLGUsXy5lcnJvckNvZGVMaXN0LkRJU1BBVENIX0VSUk9SKSx0aGlzLmxvZ2dlci5pbmZvKFwienNjLnNwcy4wIHNlcnZlciBkb24ndCBoYXZlIHNpZ25hbCB1cmxcIiksITA7dmFyIG89ci5zZXJ2ZXJVcmxzLmluZGV4T2YodGhpcy5zZXJ2ZXIpOy0xIT09byYmKHIuc2VydmVyVXJscy5zcGxpY2UobywxKSxyLnNlcnZlclVybHMudW5zaGlmdCh0aGlzLnNlcnZlcikpfXZhciBuPXIucmV0cnlTdHJlYW1IYW5kbGVyO3JldHVybiBuLmludmFsaWQoKSxuLmluaXQodGhpcy5zdGF0ZUNlbnRlci5zdHJlYW1SZXRyeVRpbWUpLG4uaW5pdFN0cmVhbShlLHIuc2VydmVyVXJscyksbi5zdGFydE1heFRpbWUoKSxuLmFjdGl2ZVB1Ymxpc2goMCl9LHQucHJvdG90eXBlLnVwZGF0ZVdhaXRpbmdMaXN0PWZ1bmN0aW9uKGUsdCxyLGksbyl7dmFyIG49e3N0cmVhbUlEOnIsc3VjY2VzczppLGVycm9yOm99O3Q/ZS5wdWJsaXNoV2FpdGluZ0xpc3QucHVzaChuKTplLnBsYXlXYWl0aW5nTGlzdC5wdXNoKG4pfSx0LnByb3RvdHlwZS5wdWJsaXNoU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHVibGlzaGVyTGlzdFtlXS5wdWJsaXNoZXI7aWYodCl7dmFyIHI9bnVsbCxpPW51bGwsbz10aGlzLnB1Ymxpc2hlckxpc3RbZV0ucHVibGlzaE9wdGlvbixuPXRoaXMuY2hlY2tQcmV2aWV3KHRoaXMucHVibGlzaGVyTGlzdFtlXS5sb2NhbFN0cmVhbSk7aWYobilyPW4ubG9jYWxTdHJlYW0saT1uLnZpZGVvSW5mbyx0aGlzLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyh0aGlzLnN0YXRlQ2VudGVyLnJlcG9ydFNlcUxpc3Quc3RhcnRQdWJsaXNoW2VdLHtjYXBfdzp2LlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQuY2FwX3cobi52aWRlb0luZm8ud2lkdGgpLGNhcF9oOnYuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1B1Ymxpc2hTdGFydC5jYXBfaChuLnZpZGVvSW5mby5oZWlnaHQpLHc6di5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0Lncobi52aWRlb0luZm8ud2lkdGgpLGg6di5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0Lmgobi52aWRlb0luZm8uaGVpZ2h0KSx2aWRlb19lbl9mcHM6di5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LnZpZGVvX2VuX2ZwcyhuLnZpZGVvSW5mby5mcmFtZVJhdGUpLHZpZGVvX2VuX2Jwczp2LlplZ29SVENMb2dFdmVudC5rWmVnb1Rhc2tQdWJsaXNoU3RhcnQudmlkZW9fZW5fYnBzKG4udmlkZW9JbmZvLmJpdFJhdGUpfSkscj8odGhpcy5sb2dnZXIuaW5mbyhcInpzYy5wcy4wIGNhbGwgc3VjY2Vzc1wiKSx0Lmd3Tm9kZVRUTDwobmV3IERhdGUpLmdldFRpbWUoKSYmIXRoaXMuZ3dOb2RlPyh0Lmd3Tm9kZT1cIlwiLHQuZ3dOb2RlTGlzdD1bXSx0Lmd3Tm9kZVRUTD0wKTp0aGlzLmd3Tm9kZSYmKHQuZ3dOb2RlPXRoaXMuZ3dOb2RlKSx0LnN0YXJ0UHVibGlzaChlLHIsaSxuLm1lZGlhU3RyZWFtQ29uZmlnLG8pKTp0aGlzLmxvZ2dlci5lcnJvcihcInpzYy5wcy4wIG5vIGxvY2FsU3RyZWFtIGZvdW5kXCIpO2Vsc2UgdGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2MucHMuMCBubyBwcmV2aWV3IGZvdW5kXCIpfWVsc2UgdGhpcy5sb2dnZXIuaW5mbyhcInpzYy5wcy4wIHB1Ymxpc2hlciBkb24ndCBleGlzdFwiKX0sdC5wcm90b3R5cGUuY29ubmVjdFB1Ymxpc2hTZXJ2ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5wdWJsaXNoZXJMaXN0W2VdO3JldHVybiBpPyh0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydChpLnB1Ymxpc2hlci5yZXBvcnRTZXEsXCJDb25uZWN0U2VydmVyXCIpLHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KGkucHVibGlzaGVyLnN0cmVhbVJlcG9ydFNlcSxcIkNvbm5lY3RTZXJ2ZXJcIiksdGhpcy5jb25uZWN0V2l0aFJldXNlU2lnbmFsU2VydmVyKGUsITAsdCwoZnVuY3Rpb24oZSx0LGkpe3ZhciBvPXIucHVibGlzaGVyTGlzdFtlXTtpZihvKXt2YXIgbj1vLnB1Ymxpc2hlcjtpZihuKXtyLmRhdGFSZXBvcnQuZXZlbnRFbmRXaXRoTXNnKG4ucmVwb3J0U2VxLFwiQ29ubmVjdFNlcnZlclwiLHtyZXN1bHQ6MCxzZXJ2ZXI6aX0pLHIuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2cobi5zdHJlYW1SZXBvcnRTZXEsXCJDb25uZWN0U2VydmVyXCIse3Jlc3VsdDowLHNlcnZlcjppfSk7dmFyIHM9dC50b2tlbkluZm87ci5sb2dnZXIuaW5mbyhcInpzYy5jcHMuMCB1cGRhdGUgdG9rZW4gc3VjY2Vzc1wiKSxzJiZzLnJlcG9ydCYmKG4ucXVhbGl0eVVwbG9hZD1zLnJlcG9ydCxuLnF1YWxpdHlVcGxvYWRJbnRlcnZhbD1zLnJlcG9ydF9pbnRlcnZhbCksbi5zaWduYWw9dC5zaWduYWwsci5zZXJ2ZXI9aSxyLnB1Ymxpc2hTdHJlYW0oZSksci5nZXRUb2tlblN1Y2Nlc3MoKX1lbHNlIHIubG9nZ2VyLmluZm8oXCJ6c2MuY3BzLjEgY2hlY2sgcHVibGlzaGVyIGRvbid0IGV4aXN0XCIpfWVsc2Ugci5sb2dnZXIuaW5mbyhcInpzYy5jcHMuMCBhZnRlciBjb25uZWN0IHB1Ymxpc2hlciBkb24ndCBleGlzdFwiKX0pLChmdW5jdGlvbihlLHQpe3IubG9nZ2VyLmVycm9yKFwienNjLmNwcy4wIFwiK2UrXCIgY29ubmVjdCBmYWlsIFwiK0pTT04uc3RyaW5naWZ5KHQpKTt2YXIgaT1yLnB1Ymxpc2hlckxpc3RbZV07aWYoaSl7dmFyIG89aS5wdWJsaXNoZXI7aWYobyl7dmFyIHM7ci5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyhvLnJlcG9ydFNlcSxcIkNvbm5lY3RTZXJ2ZXJcIix7cmVzdWx0OnR9KSxyLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8ucmVwb3J0U2VxKSxkZWxldGUgci5zdGF0ZUNlbnRlci5yZXBvcnRTZXFMaXN0LnN0YXJ0UHVibGlzaFtlXTt2YXIgYT0hMTt0JiZ0LmNvZGU9PT1fLmVycm9yQ29kZUxpc3QuR0VUX0NPTkZJR19GQUlMLmNvZGU/KHM9bih7fSxfLmVycm9yQ29kZUxpc3QuR0VUX0NPTkZJR19GQUlMKSxhPSEwKTooKHM9bih7fSxfLmVycm9yQ29kZUxpc3QuQ09OTkVDVF9GQUlMRUQpKS5tZXNzYWdlPXMubWVzc2FnZStcIiBcIit0LDEwMDg9PT10JiYocz1fLmVycm9yQ29kZUxpc3QuVE9LRU5fRVhQSVJFRCxhPSEwKSwyMDAxMD09PXQmJihhPSEwLHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfLmVycm9yQ29kZUxpc3QuUFVCTElTSEVSX1NFU1NJT05fUkVRVUVTVF9GQUlMKSkpKSxpLnJldHJ5U3RyZWFtSGFuZGxlci5wdWJsaXNoU3RhdGVIYW5kbGUoaC5FTlVNX1BVQkxJU0hfU1RBVEVfVVBEQVRFLmVycm9yLGUscyxhKX1lbHNlIHIubG9nZ2VyLmluZm8oXCJ6c2MuY3BzLjEgY2hlY2sgcHVibGlzaGVyIGRvbid0IGV4aXN0XCIpfWVsc2Ugci5sb2dnZXIuaW5mbyhcInpzYy5jcHMuMCBhZnRlciBjb25uZWN0IHB1Ymxpc2hlciBkb24ndCBleGlzdFwiKX0pKSwhMCk6KHRoaXMubG9nZ2VyLmVycm9yKFwienNjLmNwcy4wIHB1Ymxpc2hlciBkb24ndCBleGlzdFwiKSwhMSl9LHQucHJvdG90eXBlLmdldFRva2VuU3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMubG9nZ2VyLmRlYnVnKFwienNjLmd0cy4wIGNhbGxcIil9LHQucHJvdG90eXBlLnN0b3BQdWJsaXNoaW5nU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHVibGlzaGVyTGlzdFtlXTtpZih0KXt2YXIgcj10LnJldHJ5U3RyZWFtSGFuZGxlcjtmb3IodmFyIGkgaW4gciYmKHIuc3RvcE1heFRpbWUoKSxyLmludmFsaWQoKSksdGhpcy5zaWduYWxMaXN0KXRoaXMuc2lnbmFsTGlzdFtpXS5wdWJsaXNoV2FpdGluZ0xpc3Q9dGhpcy5zaWduYWxMaXN0W2ldLnB1Ymxpc2hXYWl0aW5nTGlzdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0cmVhbUlEIT09ZX0pKTtkZWxldGUgdGhpcy5wdWJsaXNoZXJMaXN0W2VdLHQucHVibGlzaGVyJiYodC5wdWJsaXNoZXIuc3RvcFB1Ymxpc2goKSxkZWxldGUgdC5wdWJsaXNoZXIpLHRoaXMucmVtb3ZlU3RyZWFtRnJvbVNpZ25hbCghMCxlKSx0aGlzLnN0b3BTaWduYWxIZWFydGJlYXQoKSx0aGlzLnN0b3BDaGFyZ2VJbmZvc1VwbG9hZCgpLHRoaXMuc3RvcFNvdW5kTGV2ZWwoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5zcHMuMC4xIGNhbGwgc3VjY2Vzc1wiKX1lbHNlIHRoaXMubG9nZ2VyLndhcm4oXCJ6c2Muc3BzLjAuMSBwdWJsaXNoZXIgZG9uJ3QgZXhpc3RcIil9LHQucHJvdG90eXBlLmNvbm5lY3RXaXRoUmV1c2VTaWduYWxTZXJ2ZXI9ZnVuY3Rpb24oZSx0LHIsaSxvKXt2YXIgbj10aGlzO3RoaXMubG9nZ2VyLmluZm8oXCJ6c2MuY3Jzcy4wIGJlZ2luIFwiK3IpO3ZhciBzPW51bGw7aWYodGhpcy5zaWduYWxMaXN0W3JdKShzPXRoaXMuc2lnbmFsTGlzdFtyXSkuc3RhdGU9PWguRU5VTV9TSUdOQUxfU1RBVEUuY29ubmVjdGVkPyh0aGlzLmxvZ2dlci5pbmZvKFwienNjLmNyc3MuMCBhbHJlYWR5IGNvbm5lY3RlZCBcIityK1wiIHN0cmVhbUlkOiBcIitlKSx0P3MucHVibGlzaENvbm5lY3RlZExpc3QucHVzaChlKTpzLnBsYXlDb25uZWN0ZWRMaXN0LnB1c2goZSksaShlLHMscikpOnMuc3RhdGU9PWguRU5VTV9TSUdOQUxfU1RBVEUuY29ubmVjdGluZyYmKHRoaXMubG9nZ2VyLmluZm8oXCJ6c2MuY3Jzcy4wIHNpZ25hbCBpcyBjb25uZWN0aW5nIFwiK3IrXCIgc3RyZWFtSWQ6IFwiK2UpLHRoaXMudXBkYXRlV2FpdGluZ0xpc3Qocyx0LGUsaSxvKSk7ZWxzZXt0aGlzLmxvZ2dlci5pbmZvKFwienNjLmNyc3MuMCBuZXcgc2lnbmFsIFwiK3IrXCIsIHN0cmVhbUlkOiBcIitlKTt2YXIgYT1bXCJ1bmlmaWVkX3J0Y1wiLFwidW5pZmllZF9sM1wiXS5pbmNsdWRlcyhyKSxjPW5ldyBwLlplZ29TaWduYWwodGhpcy5sb2dnZXIsdGhpcy5zdGF0ZUNlbnRlcix0aGlzLnJ0bS5uZXRBZ2VudCxhKTtjLnNldFNlc3Npb25JbmZvKHRoaXMuYXBwaWQsdGhpcy51c2VyaWQpLGF8fChjLm9uVXBkYXRlSGVhcnRCZWF0SW50ZXJ2YWw9dGhpcy5vblVwZGF0ZUhlYXJ0QmVhdEludGVydmFsSGFuZGxlLmJpbmQodGhpcykpLGMub25EaXNjb25uZWN0PXRoaXMub25EaXNjb25uZWN0SGFuZGxlO3ZhciB1PXRoaXMucHVibGlzaGVyTGlzdFtlXXx8dGhpcy5wbGF5ZXJMaXN0W2VdfHxudWxsLGQ9bnVsbD09dT92b2lkIDA6dS5yZXRyeVN0cmVhbUhhbmRsZXI7aWYodGhpcy5zdGF0ZUNlbnRlci5zdHJlYW1Db25uZWN0VGltZSljLnRyeUNvbm5lY3RJbnRlcnZhbD10aGlzLnN0YXRlQ2VudGVyLnN0cmVhbUNvbm5lY3RUaW1lO2Vsc2UgaWYoZCYmZC5yZXRyeUFjdGl2ZUNvdW50KXt2YXIgbD1kLnJldHJ5QWN0aXZlQ291bnQqKGQucmV0cnlBY3RpdmVDb3VudC0xKS8yKzI7Yy50cnlDb25uZWN0SW50ZXJ2YWw9MWUzKihsPWw+aC5NQVhfUkVUUllfQ09OTkVDVF9JTlRFUlZBTD9oLk1BWF9SRVRSWV9DT05ORUNUX0lOVEVSVkFMOmwpfXRoaXMuc2lnbmFsTGlzdFtyXT17c2lnbmFsOmMsc3RhdGU6aC5FTlVNX1NJR05BTF9TVEFURS5jb25uZWN0aW5nLHB1Ymxpc2hXYWl0aW5nTGlzdDpbXSxwbGF5V2FpdGluZ0xpc3Q6W10scHVibGlzaENvbm5lY3RlZExpc3Q6W10scGxheUNvbm5lY3RlZExpc3Q6W10sdG9rZW5JbmZvOm51bGx9LHRoaXMudXBkYXRlV2FpdGluZ0xpc3QodGhpcy5zaWduYWxMaXN0W3JdLHQsZSxpLG8pO3ZhciBnPW51bGw9PXU/dm9pZCAwOnUucm9vbS50b2tlbixmPW51bGw9PXU/dm9pZCAwOnUucm9vbS5yb29tSUQ7dGhpcy5sb2dnZXIuaW5mbyhcInpzYy5jcnNzLjAgXCIrZyksYy5jb25uZWN0U2VydmVyKGZ8fHRoaXMuc3RhdGVDZW50ZXIucm9vbUxpc3RbMF0ucm9vbUlELGd8fHRoaXMuc3RhdGVDZW50ZXIucm9vbUxpc3RbMF0udG9rZW4sciwoZnVuY3Rpb24oZSx0LGkpe2lmKHM9bi5zaWduYWxMaXN0W3JdLDAhPWUpe24ubG9nZ2VyLmluZm8oXCJ6c2MuY3Jzcy4wIGNvbm5lY3QgZmFpbGVkIFwiK3QpO2Zvcih2YXIgbz1zLnB1Ymxpc2hXYWl0aW5nTGlzdCxjPW8ubGVuZ3RoLTE7Yz49MDtjLS0peyhkPW9bY10pLmVycm9yJiZkLmVycm9yKGQuc3RyZWFtSUQsZSl9dmFyIHU9cy5wbGF5V2FpdGluZ0xpc3Q7Zm9yKGM9dS5sZW5ndGgtMTtjPj0wO2MtLSl7dmFyIGQ7KGQ9dVtjXSkuZXJyb3ImJmQuZXJyb3IoZC5zdHJlYW1JRCxlKX1kZWxldGUgbi5zaWduYWxMaXN0W3JdfWVsc2Ugbi5sb2dnZXIuaW5mbyhcInpzYy5jcnNzLjAgY29ubmVjdGVkIHN1Y2Nlc3MgXCIrdCkscy5zdGF0ZT1oLkVOVU1fU0lHTkFMX1NUQVRFLmNvbm5lY3RlZCxzLnRva2VuSW5mbz1pLHMucHVibGlzaFdhaXRpbmdMaXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3VjY2VzcyYmZS5zdWNjZXNzKGUuc3RyZWFtSUQscyx0KSxzJiZzLnB1Ymxpc2hDb25uZWN0ZWRMaXN0LnB1c2goZS5zdHJlYW1JRCl9KSkscy5wbGF5V2FpdGluZ0xpc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdWNjZXNzJiZlLnN1Y2Nlc3MoZS5zdHJlYW1JRCxzLHQpLHMmJnMucGxheUNvbm5lY3RlZExpc3QucHVzaChlLnN0cmVhbUlEKX0pKSxzLnB1Ymxpc2hXYWl0aW5nTGlzdD1bXSxzLnBsYXlXYWl0aW5nTGlzdD1bXSxhfHxudWxsIT1uLmhlYXJ0YmVhdFRpbWVyfHxuLnN0YXJ0U2lnbmFsSGVhcnRiZWF0KCksbnVsbD09bi5jaGFyZ2VJbmZvc1RpbWVyJiZuLnN0YXJ0Q2hhcmdlSW5mb3NVcGxvYWQoKSxuLmFjdGl2ZVNvdW5kTGV2ZWwoKX0pKX19LHQucHJvdG90eXBlLnNldFBsYXlTdGF0ZVN0YXJ0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO2lmKHRoaXMubG9nZ2VyLmluZm8oXCJ6c2MucHNzLjEgY2FsbCBcIitlKSx0aGlzLnJ0bS5pc0Rpc0Nvbm5lY3QoKSYmdGhpcy5zdGF0ZUNlbnRlci5uZXR3b3JrU3RhdGU9PWMuRU5VTV9ORVRXT1JLX1NUQVRFLm9mZmxpbmUpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwienNjLnBzcy4xIG5ldHdvcmsgb2ZmbGluZVwiKSwhMTt2YXIgbz10aGlzLnBsYXllckxpc3RbZV0sbj10aGlzLnN0YXRlQ2VudGVyLnJlcG9ydFNlcUxpc3Quc3RhcnRQbGF5W2VdO2lmKHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KG4sXCJzZXRQbGF5U3RhdGVcIiksbylyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3IoXCJ6c2MucHNzLjEgcGxheWVyIGFscmVhZHkgZXhpc3RcIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZ0luZm8obixcInNldFBsYXlTdGF0ZVwiLHttZXNzYWdlOlwicGxheWVyIGFscmVhZHkgZXhpc3RcIn0pLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobix2b2lkIDAsdi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtJc1BsYXlpbmcpLGRlbGV0ZSB0aGlzLnN0YXRlQ2VudGVyLnJlcG9ydFNlcUxpc3Quc3RhcnRQbGF5W2VdLHYuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdGFydC5lcnJvci5rUGxheVJlcGVhdGVkUHVsbEVycm9yO3ZhciBzPXRoaXMuZ2V0UGxheVJvb20oZSl8fHRoaXMuc3RhdGVDZW50ZXIucm9vbUxpc3RbMF07aWYoIXMpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwienNjLnBzcy4xIG5vdCBsb2dpbiByb29tXCIpLHRoaXMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2dJbmZvKG4sXCJzZXRQbGF5U3RhdGVcIix7bWVzc2FnZTpcIm5vdCBsb2dpbiByb29tXCJ9KSx0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG4sdm9pZCAwLHYuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdGFydC5lcnJvci5rUGxheU5vTG9naW5FcnJvciksdi5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUGxheVN0YXJ0LmVycm9yLmtQbGF5Tm9Mb2dpbkVycm9yO3ZhciBhPW5ldyBnLlplZ29QbGF5V2ViKHRoaXMubG9nZ2VyLG51bGwsdGhpcy5kYXRhUmVwb3J0LHRoaXMucXVhbGl0eVRpbWVySW50ZXJ2YWwsdGhpcyx0aGlzLmFjLHRoaXMuc3RhdGVDZW50ZXIpO3QmJlswLDIsM10uaW5jbHVkZXModC5yZXNvdXJjZU1vZGUpJiYoYS5yZXNvdXJjZU1vZGU9dC5yZXNvdXJjZU1vZGUpLHRoaXMuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKG4se3Jlc291cmNlTW9kZTphLnJlc291cmNlTW9kZSxwbGF5X3Jvb21faWQ6bnVsbD09cz92b2lkIDA6cy5yb29tSUQsaXNNdWx0aTp0aGlzLnN0YXRlQ2VudGVyLmlzTXVsdGlSb29tfSksYS5zdGF0ZT1oLkVOVU1fUExBWV9TVEFURS5zdGFydCxhLmlzUGVlcj10aGlzLmlzUGVlcixhLnJlcG9ydFNlcT10aGlzLnN0YXRlQ2VudGVyLnJlcG9ydFNlcUxpc3Quc3RhcnRQbGF5W2VdLGEuYmVnaW5UaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciB1PW5ldyBmLlJldHJ5U3RyZWFtSGFuZGxlcih0aGlzLmxvZ2dlcix0aGlzLnN0YXRlQ2VudGVyLHRoaXMsITEpO3JldHVybiB0aGlzLnBsYXllckxpc3RbZV09e3NlcTowLHJvb206cyxwbGF5ZXI6YSxzaWduYWw6bnVsbCxzZXJ2ZXJVcmxzOltdLHR0bDowLGlzQ2VudGVyTm9kZTohMCxzdHJlYW1JRDplLHBsYXlPcHRpb246dCxyZXRyeVN0cmVhbUhhbmRsZXI6dSxyZXRyeURpc3BhdGNoSGFuZGxlcjpuZXcgbS5SZXRyeURpc3BhdGNoSGFuZGxlcih0aGlzLmxvZ2dlcix0aGlzLnN0YXRlQ2VudGVyLHRoaXMucnRtLHRoaXMpLGlzRGF0YUNoYW5uZWw6cn0sYS5vblBsYXlTdGF0ZVVwZGF0ZT1mdW5jdGlvbihlLHQscixvKXt2YXIgbj1pLnBsYXllckxpc3RbdF07bj91LnBsYXlTdGF0ZUhhbmRsZShlLG4uc3RyZWFtSUQscixvKTppLmxvZ2dlci5lcnJvcihcInpzYy5wc3MuMSBjYW5ub3QgZmluZCBwbGF5IFwiK3QpfSxhLm9uUGxheVF1YWxpdHlVcGRhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLnBsYXllckxpc3RbZV07cj9pLm9uUGxheVF1YWxpdHlVcGRhdGUoci5zdHJlYW1JRCx0KTppLmxvZ2dlci5lcnJvcihcInpzYy5wc3MuMSBjYW5ub3QgZmluZCBwbGF5IFwiK2UpfSxhLm9uUmVtb3RlQ2FtZXJhU3RhdHVzVXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1pLnBsYXllckxpc3RbZV07bz9pLm9uUmVtb3RlQ2FtZXJhU3RhdHVzVXBkYXRlKG8uc3RyZWFtSUQsdCxyKTppLmxvZ2dlci5lcnJvcihcInpzYy5wc3MuMSBjYW5ub3QgZmluZCBwbGF5IFwiK2UpfSxhLm9uUmVtb3RlTWljU3RhdHVzVXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1pLnBsYXllckxpc3RbZV07bz9pLm9uUmVtb3RlTWljU3RhdHVzVXBkYXRlKG8uc3RyZWFtSUQsdCxyKTppLmxvZ2dlci5lcnJvcihcInpzYy5wc3MuMSBjYW5ub3QgZmluZCBwbGF5IFwiK2UpfSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydChhLnJlcG9ydFNlcSxcIkdldFNpZ25hbFVybFwiKSx0aGlzLmRhdGFSZXBvcnQuZXZlbnRTdGFydChhLnN0cmVhbVJlcG9ydFNlcSxcIkdldFNpZ25hbFVybFwiKSwhMH0sdC5wcm90b3R5cGUub25SZW1vdGVNaWNTdGF0dXNVcGRhdGU9ZnVuY3Rpb24oZSx0LHIpe30sdC5wcm90b3R5cGUub25SZW1vdGVDYW1lcmFTdGF0dXNVcGRhdGU9ZnVuY3Rpb24oZSx0LHIpe30sdC5wcm90b3R5cGUuc3RhcnRQbGF5aW5nU3RyZWFtPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT10JiYodD0hMSksdGhpcy5sb2dnZXIuaW5mbyhcInpzYy5zcHMuMSBzdGFydCBwbGF5IGNhbGxlZFwiKTt2YXIgaT10aGlzLnBsYXllckxpc3RbZV07aWYoIWkpcmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKFwienNjLnNwcy4xIHBsYXllciBkb24ndCBleGlzdFwiKSwhMTt2YXIgbz1pLnBsYXllcjtpZighdCl7aWYodGhpcy5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyhvLnJlcG9ydFNlcSxcIkdldFNpZ25hbFVybFwiLHt1cmxzOmkuc2VydmVyVXJsc30pLHRoaXMuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2coby5zdHJlYW1SZXBvcnRTZXEsXCJHZXRTaWduYWxVcmxcIix7dXJsczppLnNlcnZlclVybHN9KSwwPT1pLnNlcnZlclVybHMubGVuZ3RoKXJldHVybiBpLnJldHJ5U3RyZWFtSGFuZGxlci5wbGF5U3RhdGVIYW5kbGUoaC5FTlVNX1BMQVlfU1RBVEVfVVBEQVRFLmVycm9yLGUsXy5lcnJvckNvZGVMaXN0LkRJU1BBVENIX0VSUk9SKSx0aGlzLmxvZ2dlci5pbmZvKFwienNjLnNwcy4xIHNlcnZlciBkb24ndCBoYXZlIHNpZ25hbCB1cmxcIiksITE7dmFyIG49aS5zZXJ2ZXJVcmxzLmluZGV4T2YodGhpcy5zZXJ2ZXIpOy0xIT09biYmKGkuc2VydmVyVXJscy5zcGxpY2UobiwxKSxpLnNlcnZlclVybHMudW5zaGlmdCh0aGlzLnNlcnZlcikpfXZhciBzPWkucmV0cnlTdHJlYW1IYW5kbGVyO3JldHVybiBzLmludmFsaWQoKSxzLmluaXQodGhpcy5zdGF0ZUNlbnRlci5zdHJlYW1SZXRyeVRpbWUpLHMuaW5pdFN0cmVhbShlLGkuc2VydmVyVXJscykscy5zdGFydE1heFRpbWUoKSxzLmFjdGl2ZVB1bGwoMCxyKX0sdC5wcm90b3R5cGUuY29ubmVjdFBsYXlTZXJ2ZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMsbz10aGlzLnBsYXllckxpc3RbZV07cmV0dXJuIG8/KHRoaXMuZGF0YVJlcG9ydC5ldmVudFN0YXJ0KG8ucGxheWVyLnJlcG9ydFNlcSxcIkNvbm5lY3RTZXJ2ZXJcIiksdGhpcy5kYXRhUmVwb3J0LmV2ZW50U3RhcnQoby5wbGF5ZXIuc3RyZWFtUmVwb3J0U2VxLFwiQ29ubmVjdFNlcnZlclwiKSx0aGlzLmNvbm5lY3RXaXRoUmV1c2VTaWduYWxTZXJ2ZXIoZSwhMSxyLChmdW5jdGlvbihlLHIsbyl7dmFyIG49aS5wbGF5ZXJMaXN0W2VdO2lmKG4pe3ZhciBzPW4ucGxheWVyO2lmKHMpe2kuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2cocy5yZXBvcnRTZXEsXCJDb25uZWN0U2VydmVyXCIse3Jlc3VsdDowLHNlcnZlcjpvfSksaS5kYXRhUmVwb3J0LmV2ZW50RW5kV2l0aE1zZyhzLnN0cmVhbVJlcG9ydFNlcSxcIkNvbm5lY3RTZXJ2ZXJcIix7cmVzdWx0OjAsc2VydmVyOm99KTt2YXIgYT1yLnRva2VuSW5mbztpLmxvZ2dlci5pbmZvKFwienNjLmNwcy4xIHVwZGF0ZSB0b2tlbiBzdWNjZXNzXCIpLGEmJmEucmVwb3J0JiYocy5xdWFsaXR5SGFuZGxlci5xdWFsaXR5VXBsb2FkPWEucmVwb3J0LHMucXVhbGl0eUhhbmRsZXIucXVhbGl0eVVwbG9hZEludGVydmFsPWEucmVwb3J0X2ludGVydmFsKSxzLnNpZ25hbD1yLnNpZ25hbCxpLnNlcnZlcj1vLGkucGxheVN0cmVhbShlLHQpLGkuZ2V0VG9rZW5TdWNjZXNzKCl9ZWxzZSBpLmxvZ2dlci5lcnJvcihcInpzYy5jcHMuMSBjaGVja3BsYXllciBkb24ndCBleGlzdFwiKX1lbHNlIGkubG9nZ2VyLmVycm9yKFwienNjLmNwcy4xIGFmdGVyIGNvbm5lY3QgcGxheWVyIGRvbid0IGV4aXN0XCIpfSksKGZ1bmN0aW9uKHQsbyl7dmFyIHM9aS5wbGF5ZXJMaXN0W3RdO2lmKHMpe2kuZGF0YVJlcG9ydC5ldmVudEVuZFdpdGhNc2cocy5wbGF5ZXIucmVwb3J0U2VxLFwiQ29ubmVjdFNlcnZlclwiLHtyZXN1bHQ6b30pLCFzLnBsYXllci5pc1Byb2JlJiZpLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHMucGxheWVyLnJlcG9ydFNlcSksZGVsZXRlIGkuc3RhdGVDZW50ZXIucmVwb3J0U2VxTGlzdC5zdGFydFBsYXlbZV07dmFyIGE9bih7fSxfLmVycm9yQ29kZUxpc3QuQ09OTkVDVF9GQUlMRUQpO2EubWVzc2FnZT1hLm1lc3NhZ2UrXCIgXCIrbywxMDA4PT09byYmKGE9Xy5lcnJvckNvZGVMaXN0LlRPS0VOX0VYUElSRUQpO3ZhciBjPTEwMDg9PW87MjAwMTA9PT1vJiYoYz0hMCxhPVwidW5pZmllZF9sM1wiPT09cj9fLmVycm9yQ29kZUxpc3QuUExBWUVSX1VOU1VQUE9SVEVEX1BST1RPQ09MOl8uZXJyb3JDb2RlTGlzdC5QTEFZRVJfU0VTU0lPTl9SRVFVRVNUX0ZBSUwpLHMucmV0cnlTdHJlYW1IYW5kbGVyLnBsYXlTdGF0ZUhhbmRsZShoLkVOVU1fUExBWV9TVEFURV9VUERBVEUuZXJyb3IsdCxhLGMpfWVsc2UgaS5sb2dnZXIuZXJyb3IoXCJ6c2MuY3BzLjEgYWZ0ZXIgY29ubmVjdCBwbGF5ZXIgZG9uJ3QgZXhpc3RcIil9KSksITApOih0aGlzLmxvZ2dlci5lcnJvcihcInpzYy5jcHMuMSBwbGF5ZXIgZG9uJ3QgZXhpc3RcIiksITEpfSx0LnByb3RvdHlwZS5wbGF5U3RyZWFtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5wbGF5ZXJMaXN0W2VdLnBsYXllcjtyPyh0aGlzLmxvZ2dlci5pbmZvKFwienNjLnBzLjEgY2FsbCBzdWNjZXNzXCIpLHIuZ3dOb2RlVFRMPChuZXcgRGF0ZSkuZ2V0VGltZSgpJiYhdGhpcy5nd05vZGU/KHIuZ3dOb2RlPVwiXCIsci5nd05vZGVMaXN0PVtdLHIuZ3dOb2RlVFRMPTApOnRoaXMuZ3dOb2RlJiYoci5nd05vZGU9dGhpcy5nd05vZGUpLHIuc3RhcnRQbGF5KGUsdCx0aGlzLnBsYXllckxpc3RbZV0ucGxheU9wdGlvbikpOnRoaXMubG9nZ2VyLndhcm4oXCJ6c2MucHMuMSBwbGF5ZXIgZG9uJ3QgZXhpc3RcIil9LHQucHJvdG90eXBlLnN0b3BTaWduYWxIZWFydGJlYXQ9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5zc2guMSBjYWxsXCIpO3ZhciBlPTA7Zm9yKHZhciB0IGluIHRoaXMuc2lnbmFsTGlzdCllKz0xO3RoaXMuaGVhcnRiZWF0VGltZXImJjA9PWUmJih0aGlzLmxvZ2dlci5pbmZvKFwienNjLnNzaC4xIHN0b3BcIiksY2xlYXJUaW1lb3V0KHRoaXMuaGVhcnRiZWF0VGltZXIpLHRoaXMuaGVhcnRiZWF0VGltZXI9bnVsbCl9LHQucHJvdG90eXBlLnJlbW92ZVN0cmVhbUZyb21TaWduYWw9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlci5pbmZvKFwienNjLnJzZnMuMCBjYWxsIFwiK2UrXCIgXCIrdCk7dmFyIHI9W107Zm9yKHZhciBpIGluIHRoaXMuc2lnbmFsTGlzdCl7dmFyIG89dGhpcy5zaWduYWxMaXN0W2ldO2lmKGUpe2Zvcih2YXIgbj0wO248by5wdWJsaXNoQ29ubmVjdGVkTGlzdC5sZW5ndGg7bisrKWlmKG8ucHVibGlzaENvbm5lY3RlZExpc3Rbbl09PT10KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5yc2ZzLjAgZm91bmQgZnJvbSBwdWJsaXNoXCIpLG8ucHVibGlzaENvbm5lY3RlZExpc3Quc3BsaWNlKG4sMSk7YnJlYWt9Zm9yKG49MDtuPG8ucHVibGlzaFdhaXRpbmdMaXN0Lmxlbmd0aDtuKyspaWYoby5wdWJsaXNoV2FpdGluZ0xpc3Rbbl0uc3RyZWFtSUQ9PT10KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5yc2ZzLjAgZm91bmQgZnJvbSBwdWJsaXNoXCIpLG8ucHVibGlzaFdhaXRpbmdMaXN0LnNwbGljZShuLDEpO2JyZWFrfX1lbHNle2Zvcih2YXIgcz0wO3M8by5wbGF5Q29ubmVjdGVkTGlzdC5sZW5ndGg7cysrKWlmKG8ucGxheUNvbm5lY3RlZExpc3Rbc109PT10KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5yc2ZzLjAgZm91bmQgZnJvbSBwbGF5XCIpLG8ucGxheUNvbm5lY3RlZExpc3Quc3BsaWNlKHMsMSk7YnJlYWt9Zm9yKHM9MDtzPG8ucGxheVdhaXRpbmdMaXN0Lmxlbmd0aDtzKyspaWYoby5wbGF5V2FpdGluZ0xpc3Rbc10uc3RyZWFtSUQ9PT10KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5yc2ZzLjAgZm91bmQgZnJvbSBwbGF5XCIpLG8ucGxheVdhaXRpbmdMaXN0LnNwbGljZShzLDEpO2JyZWFrfX0wPT1vLnB1Ymxpc2hDb25uZWN0ZWRMaXN0Lmxlbmd0aCYmMD09by5wbGF5Q29ubmVjdGVkTGlzdC5sZW5ndGgmJjA9PW8ucHVibGlzaFdhaXRpbmdMaXN0Lmxlbmd0aCYmMD09by5wbGF5V2FpdGluZ0xpc3QubGVuZ3RoJiYoby5zaWduYWwuZGlzY29ubmVjdFNlcnZlcigpLHIucHVzaChpKSl9Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspZGVsZXRlIHRoaXMuc2lnbmFsTGlzdFtyW2FdXSx0aGlzLnNlcnZlcj09clthXSYmKHRoaXMuc2VydmVyPVwiXCIpfSx0LnByb3RvdHlwZS5zdG9wUGxheWluZ1N0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBsYXllckxpc3RbZV07aWYodCl7dmFyIHI9dC5yZXRyeVN0cmVhbUhhbmRsZXI7Zm9yKHZhciBpIGluIHImJihyLnN0b3BNYXhUaW1lKCksci5pbnZhbGlkKCkpLHRoaXMuc2lnbmFsTGlzdCl0aGlzLnNpZ25hbExpc3RbaV0ucGxheVdhaXRpbmdMaXN0PXRoaXMuc2lnbmFsTGlzdFtpXS5wbGF5V2FpdGluZ0xpc3QuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdHJlYW1JRCE9PWV9KSk7aWYoZGVsZXRlIHRoaXMucGxheWVyTGlzdFtlXSx0LnBsYXllcil7dC5wbGF5ZXIuc3RvcFBsYXkoKTt2YXIgbz10LnBsYXllci5ydGNWaWV3ZXI7byYmby5zdG9wKCksZGVsZXRlIHQucGxheWVyfXRoaXMucmVtb3ZlU3RyZWFtRnJvbVNpZ25hbCghMSxlKSx0aGlzLnN0b3BTaWduYWxIZWFydGJlYXQoKSx0aGlzLnN0b3BDaGFyZ2VJbmZvc1VwbG9hZCgpLHRoaXMuc3RvcFNvdW5kTGV2ZWwoKSxkZWxldGUgdGhpcy5wbGF5U3VjY2Vzc0NhbGxCYWNrTGlzdFtlXSxkZWxldGUgdGhpcy5wbGF5RXJyb3JDYWxsQmFja0xpc3RbZV0sdGhpcy5sb2dnZXIuZGVidWcoXCJ6c2Muc3BzLjEuMSBjYWxsIHN1Y2Nlc3NcIil9ZWxzZSB0aGlzLmxvZ2dlci5pbmZvKFwienNjLnNwcy4xLjEgcGxheWVyIGRvbid0IGV4aXN0XCIpfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihlLHQscil7dmFyIGksbyxuLHM7Zm9yKHZhciBhIGluIHRoaXMubG9nZ2VyLmluZm8oXCJ6c2MucnMgY2FsbCBcIitlK1wiIFwiK3QrXCIgXCIrciksdGhpcy5wdWJsaXNoZXJMaXN0KXRoaXMucHVibGlzaGVyTGlzdFthXS5yb29tLnJvb21JRCE9ZSYmZXx8KG51bGw9PT0obz1udWxsPT09KGk9dGhpcy5wdWJsaXNoZXJMaXN0W2FdLnJvb20pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnN0cmVhbUhhbmRsZXIpfHx2b2lkIDA9PT1vfHxvLm9uUHVibGlzaFN0YXRlVXBkYXRlKGguRU5VTV9QVUJMSVNIX1NUQVRFX1VQREFURS5lcnJvcixhLDEwMDIwMzE9PXQ/di5aZWdvUlRDTG9nRXZlbnQua1plZ29UYXNrUHVibGlzaFN0YXJ0LmVycm9yLmtQdWJsaXNoUmV0cnlUaW1lb3V0RXJyb3I6e2NvZGU6MCxtZXNzYWdlOlwiXCJ9KSxyJiZ0aGlzLnN0YXRlQ2VudGVyLndhaXRQdWJsaXNoU3RyZWFtTGlzdFthXT90aGlzLnN0YXRlQ2VudGVyLndhaXRQdWJsaXNoU3RyZWFtTGlzdFthXS5yZXRyeVN0YXJ0PSEwOnJ8fGRlbGV0ZSB0aGlzLnN0YXRlQ2VudGVyLndhaXRQdWJsaXNoU3RyZWFtTGlzdFthXSx0aGlzLnN0b3BQdWJsaXNoaW5nU3RyZWFtKGEpKTt2YXIgYz1mdW5jdGlvbihpKXt2YXIgbz11LnBsYXllckxpc3RbaV0ucm9vbTtpZihyJiYobnVsbD09PShzPW51bGw9PT0obj11LnBsYXllckxpc3RbaV0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnBsYXllcil8fHZvaWQgMD09PXM/dm9pZCAwOnMuc3RhdGUpPD1oLkVOVU1fUExBWV9TVEFURS5wbGF5aW5nKXt2YXIgYT11LnBsYXllckxpc3RbaV0sYz1udWxsPT1hP3ZvaWQgMDphLnBsYXllcjt1LnN0b3BlZFBsYXllckxpc3RbaV09e3N0cmVhbUlEOmkscGxheVN0cmVhbTpjLnBsYXlTdHJlYW0scm9vbUlEOmEucm9vbS5yb29tSUQscGxheU9wdGlvbjphLnBsYXlPcHRpb24sc3RhdGU6Yy5zdGF0ZSxzdWNDYWxsQmFjazoobnVsbD09Yz92b2lkIDA6Yy5zdGF0ZSkhPT1oLkVOVU1fUExBWV9TVEFURS5wbGF5aW5nP3UucGxheVN1Y2Nlc3NDYWxsQmFja0xpc3RbaV06dm9pZCAwLGVyckNhbGxCYWNrOihudWxsPT1jP3ZvaWQgMDpjLnN0YXRlKSE9PWguRU5VTV9QTEFZX1NUQVRFLnBsYXlpbmc/dS5wbGF5RXJyb3JDYWxsQmFja0xpc3RbaV06dm9pZCAwfX1pZihvLnJvb21JRCE9ZXx8IW8uc3RyZWFtTGlzdC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdHJlYW1faWQ9PWl9KSkmJjEhPXUuc3RhdGVDZW50ZXIucm9vbUxpc3QubGVuZ3RoKXtpZihvLnJvb21JRD09ZSYmdS5zdGF0ZUNlbnRlci5yb29tTGlzdC5sZW5ndGg+MSl7dmFyIGQ9dS5zdGF0ZUNlbnRlci5yb29tTGlzdC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yb29tSUQhPT1lfSkpO2Q/dS5wbGF5ZXJMaXN0W2ldLnJvb209ZDoodS5zdG9wUGxheWluZ1N0cmVhbShpKSx1Lm9uUGxheVN0YXRlVXBkYXRlKGguRU5VTV9QTEFZX1NUQVRFX1VQREFURS5lcnJvcixpLHYuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdGFydC5lcnJvci5rUGxheVJldHJ5VGltZW91dEVycm9yKSl9fWVsc2UgdS5vblBsYXlTdGF0ZVVwZGF0ZShoLkVOVU1fUExBWV9TVEFURV9VUERBVEUuZXJyb3IsaSwxMDAyMDMxPT10P3YuWmVnb1JUQ0xvZ0V2ZW50LmtaZWdvVGFza1BsYXlTdGFydC5lcnJvci5rUGxheVJldHJ5VGltZW91dEVycm9yOntjb2RlOjAsbWVzc2FnZTpcIlwifSksdS5zdG9wUGxheWluZ1N0cmVhbShpKX0sdT10aGlzO2Zvcih2YXIgZCBpbiB0aGlzLnBsYXllckxpc3QpYyhkKTswPT1PYmplY3Qua2V5cyh0aGlzLnB1Ymxpc2hlckxpc3QpLmxlbmd0aCYmMD09T2JqZWN0LmtleXModGhpcy5wbGF5ZXJMaXN0KS5sZW5ndGgmJih0aGlzLnByb2JlTGlzdD17fSksdGhpcy53YWl0UHVibGlzaExpc3Q9W10sdGhpcy53YWl0UGxheUxpc3Q9W10sdGhpcy5wdWJsaXNoUXVhbGl0eUluZm9zPVtdLHRoaXMucGxheVF1YWxpdHlJbmZvcz1bXSx0aGlzLnF1YWxpdHlIZWFkVGltZXN0YW1wPTAsdGhpcy5xdWFsaXR5VXBsb2FkVGltZXN0YW1wPTAsdGhpcy5xdWFsaXR5V2Vic29ja2V0JiYodGhpcy5xdWFsaXR5V2Vic29ja2V0LmNsb3NlKCksdGhpcy5xdWFsaXR5V2Vic29ja2V0PXZvaWQgMCksdGhpcy5sb2dnZXIuaW5mbyhcInpzYy5ycyBjYWxsIHN1Y2Nlc3NcIil9LHQucHJvdG90eXBlLnN0YXJ0U2lnbmFsSGVhcnRiZWF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5zc2guMCBjYWxsXCIpLHRoaXMuaGVhcnRiZWF0VGltZXImJihjbGVhclRpbWVvdXQodGhpcy5oZWFydGJlYXRUaW1lciksdGhpcy5oZWFydGJlYXRUaW1lcj1udWxsKSx0aGlzLmhlYXJ0YmVhdFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5jaGVja1NpZ25hbEhlYXJ0YmVhdCgpfSksdGhpcy5oZWFydGJlYXRJbnRlcnZhbCl9LHQucHJvdG90eXBlLnN0YXJ0Q2hhcmdlSW5mb3NVcGxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubG9nZ2VyLmRlYnVnKFwienNjLnNjaXUuMCBjYWxsXCIpLHRoaXMuY2hhcmdlSW5mb3NUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLmNoYXJnZUluZm9zVGltZXIpLHRoaXMuY2hhcmdlSW5mb3NUaW1lcj1udWxsKSx0aGlzLmNoYXJnZUluZm9zVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLmNoZWNrQ2hhcmdlSW5mb3MoKX0pLHRoaXMuY2hhcmdlSW5mb3NJbnRlcnZhbCl9LHQucHJvdG90eXBlLmNoZWNrQ2hhcmdlSW5mb3M9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5jY2kuMCBjYWxsXCIpO3ZhciBlPXtpc19wdWJsaXNoaW5nOjAscGxheV9tYXhfYXVkaW9fYml0cmF0ZTowLHBsYXlfc3RyZWFtX3Jlc29sdXRpb25faW5mb3M6W119O2Zvcih2YXIgdCBpbiB0aGlzLmNoYXJnZUluZm9zLnRpbWVzdGFtcF9iZWdpbj0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLnB1Ymxpc2hlckxpc3Qpe3RoaXMucHVibGlzaGVyTGlzdFt0XS5wdWJsaXNoZXIuc3RhdGU9PT1oLkVOVU1fUFVCTElTSF9TVEFURS5wdWJsaXNoaW5nJiYoZS5pc19wdWJsaXNoaW5nPTEpO2JyZWFrfWUucGxheV9tYXhfYXVkaW9fYml0cmF0ZT0wO3ZhciByPWZ1bmN0aW9uKHQpe3ZhciByPWkucGxheWVyTGlzdFt0XS5wbGF5ZXIucGxheVN0cmVhbSxvPXImJjAhPT1yLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoP3IuZ2V0VmlkZW9UcmFja3MoKVswXS5nZXRTZXR0aW5ncygpOnZvaWQgMCxuPXt2aWRlb193aWR0aDpvJiZvLndpZHRoP28ud2lkdGg6MCx2aWRlb19oZWlnaHQ6byYmby5oZWlnaHQ/by5oZWlnaHQ6MCxjb3VudDoxfTtpZighZS5wbGF5X3N0cmVhbV9yZXNvbHV0aW9uX2luZm9zLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZpZGVvX3dpZHRoPT1uLnZpZGVvX3dpZHRoJiZlLnZpZGVvX2hlaWdodD09bi52aWRlb19oZWlnaHQmJihlLmNvdW50KyssITApfSkpJiZlLnBsYXlfc3RyZWFtX3Jlc29sdXRpb25faW5mb3MucHVzaChuKSwwPT1uLnZpZGVvX3dpZHRoJiYwPT1uLnZpZGVvX2hlaWdodCl7dmFyIHM9MWUzKmkucGxheWVyTGlzdFt0XS5wbGF5ZXIucXVhbGl0eUhhbmRsZXIubGFzdFBsYXlTdGF0cy5hdWRpb0JpdHJhdGU7cz5lLnBsYXlfbWF4X2F1ZGlvX2JpdHJhdGUmJihlLnBsYXlfbWF4X2F1ZGlvX2JpdHJhdGU9cyl9fSxpPXRoaXM7Zm9yKHZhciBvIGluIHRoaXMucGxheWVyTGlzdClyKG8pOzAhPT10aGlzLmNoYXJnZUluZm9zLnRpbWVzdGFtcF9lbmQ/KHRoaXMuY2hhcmdlSW5mb3MudGltZXN0YW1wX2RpZmY9dGhpcy5jaGFyZ2VJbmZvcy50aW1lc3RhbXBfYmVnaW4tdGhpcy5jaGFyZ2VJbmZvcy50aW1lc3RhbXBfZW5kLHRoaXMuY2hhcmdlSW5mb3MudGltZXN0YW1wX2RpZmZfZmxhZz0xKToodGhpcy5jaGFyZ2VJbmZvcy50aW1lc3RhbXBfZGlmZj0wLHRoaXMuY2hhcmdlSW5mb3MudGltZXN0YW1wX2RpZmZfZmxhZz0wKSx0aGlzLmNoYXJnZUluZm9zLnRpbWVzdGFtcF9lbmQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5jaGFyZ2VJbmZvcy5pbmZvcz1bZV0sMCE9PWUucGxheV9zdHJlYW1fcmVzb2x1dGlvbl9pbmZvcy5sZW5ndGgmJnRoaXMubG9nZ2VyLnJlcG9ydCh0aGlzLmNoYXJnZUluZm9zKSx0aGlzLmNoYXJnZUluZm9zVGltZXImJnRoaXMuc3RhcnRDaGFyZ2VJbmZvc1VwbG9hZCgpfSx0LnByb3RvdHlwZS5jaGVja1NpZ25hbEhlYXJ0YmVhdD1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5jc2guMCBjYWxsXCIpLHRoaXMuc2lnbmFsTGlzdCl0aGlzLnNpZ25hbExpc3RbZV0uc2lnbmFsJiZ0aGlzLnNpZ25hbExpc3RbZV0uc2lnbmFsLnNlbmRIZWFydGJlYXQoKTt0aGlzLmhlYXJ0YmVhdFRpbWVyJiZ0aGlzLnN0YXJ0U2lnbmFsSGVhcnRiZWF0KCl9LHQucHJvdG90eXBlLnN0b3BDaGFyZ2VJbmZvc1VwbG9hZD1mdW5jdGlvbigpe3RoaXMubG9nZ2VyLmRlYnVnKFwienNjLnNjaXUuMCBjYWxsXCIpO3ZhciBlPTA7Zm9yKHZhciB0IGluIHRoaXMuc2lnbmFsTGlzdCllKz0xO3RoaXMuY2hhcmdlSW5mb3NUaW1lciYmMD09ZSYmKHRoaXMubG9nZ2VyLmluZm8oXCJ6c2Muc2NpdS4wIHN0b3BcIiksY2xlYXJUaW1lb3V0KHRoaXMuY2hhcmdlSW5mb3NUaW1lciksdGhpcy5jaGFyZ2VJbmZvc1RpbWVyPW51bGwpfSx0LnByb3RvdHlwZS5nZXRQdWJsaXNoZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmdGhpcy5wdWJsaXNoZXJMaXN0W2VdJiZ0aGlzLnB1Ymxpc2hlckxpc3RbZV0ucHVibGlzaGVyKXQ9dGhpcy5wdWJsaXNoZXJMaXN0W2VdLnB1Ymxpc2hlcjtlbHNlIGlmKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSl7dmFyIHI9dGhpcy5jaGVja1B1Ymxpc2goZSk7ciYmKHQ9bnVsbD09cj92b2lkIDA6ci5wdWJsaXNoZXIpfXJldHVybiB0fSx0LnByb3RvdHlwZS5nZXRQcmV2aWV3ZXI9ZnVuY3Rpb24oZSl7dmFyIHQscj1udWxsO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZ0aGlzLnB1Ymxpc2hlckxpc3RbZV0mJnRoaXMucHVibGlzaGVyTGlzdFtlXS5wdWJsaXNoZXI/cj1udWxsPT09KHQ9dGhpcy5wdWJsaXNoZXJMaXN0W2VdLnB1Ymxpc2hlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHJldmlld2VyOmUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSYmKHI9dGhpcy5jaGVja1ByZXZpZXcoZSkpLHJ9LHQucHJvdG90eXBlLmNoZWNrUGxheWVyPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC52YWx1ZXModGhpcy5wbGF5ZXJMaXN0KS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wbGF5ZXIucGxheVN0cmVhbT09PWV9KSk7cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnQucGxheWVyKXx8bnVsbH0sdC5wcm90b3R5cGUuY2hlY2tQcmV2aWV3PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5wcmV2aWV3U3RyZWFtTGlzdC5sZW5ndGg7dCsrKWlmKHRoaXMucHJldmlld1N0cmVhbUxpc3RbdF0ubG9jYWxTdHJlYW09PT1lKXJldHVybiB0aGlzLnByZXZpZXdTdHJlYW1MaXN0W3RdO3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5jaGVja1B1Ymxpc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMucHVibGlzaGVyTGlzdClpZih0aGlzLnB1Ymxpc2hlckxpc3RbdF0ubG9jYWxTdHJlYW09PWUpcmV0dXJuIHRoaXMucHVibGlzaGVyTGlzdFt0XTtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0UHVibGlzaExpc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIHRoaXMucHVibGlzaGVyTGlzdCl0aGlzLnB1Ymxpc2hlckxpc3Rbcl0ubG9jYWxTdHJlYW09PWUmJnQucHVzaCh0aGlzLnB1Ymxpc2hlckxpc3Rbcl0pO3JldHVybiB0fSx0LnByb3RvdHlwZS5yZW1vdmVQcmV2aWV3PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5wcmV2aWV3U3RyZWFtTGlzdC5sZW5ndGg7dCsrKWlmKHRoaXMucHJldmlld1N0cmVhbUxpc3RbdF09PT1lKXt0aGlzLnByZXZpZXdTdHJlYW1MaXN0LnNwbGljZSh0LDEpO2JyZWFrfX0sdC5wcm90b3R5cGUub25QbGF5ZXJTdHJlYW1VcmxVcGRhdGU9ZnVuY3Rpb24oZSx0LHIpe30sdC5wcm90b3R5cGUuZ2V0U2NyZWVuQ29uc3RyYWlucz1mdW5jdGlvbihlKXt2YXIgdD17fTtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUmJmUpdD17YXVkaW86ITEsdmlkZW86e2ZyYW1lUmF0ZTpoLkVOVU1fU0NSRUVNX1JFU09MVVRJT05fVFlQRS5NRURJVU0uZnJhbWVSYXRlfSxiaXRSYXRlOnRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwic2NyZWVuX3ZpZGVvX2JpdHJhdGVcIil8fGguRU5VTV9TQ1JFRU1fUkVTT0xVVElPTl9UWVBFLk1FRElVTS5iaXRSYXRlfTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtzd2l0Y2goZS52aWRlb1F1YWxpdHkpe2Nhc2UgMTp0PXt2aWRlbzp7ZnJhbWVSYXRlOmguRU5VTV9TQ1JFRU1fUkVTT0xVVElPTl9UWVBFLkxPVy5mcmFtZVJhdGV9LGJpdFJhdGU6aC5FTlVNX1NDUkVFTV9SRVNPTFVUSU9OX1RZUEUuTE9XLmJpdFJhdGV9O2JyZWFrO2Nhc2UgMzp0PXt2aWRlbzp7ZnJhbWVSYXRlOmguRU5VTV9TQ1JFRU1fUkVTT0xVVElPTl9UWVBFLkhJR0guZnJhbWVSYXRlfSxiaXRSYXRlOmguRU5VTV9TQ1JFRU1fUkVTT0xVVElPTl9UWVBFLkhJR0guYml0UmF0ZX07YnJlYWs7Y2FzZSA0OnQ9e3ZpZGVvOntmcmFtZVJhdGU6ZS5mcmFtZVJhdGUsd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LGJpdFJhdGU6ZS5iaXRSYXRlfTticmVhaztjYXNlIDI6dD17dmlkZW86e2ZyYW1lUmF0ZTpoLkVOVU1fU0NSRUVNX1JFU09MVVRJT05fVFlQRS5NRURJVU0uZnJhbWVSYXRlfSxiaXRSYXRlOmguRU5VTV9TQ1JFRU1fUkVTT0xVVElPTl9UWVBFLk1FRElVTS5iaXRSYXRlfTticmVhaztkZWZhdWx0OnQ9e3ZpZGVvOntmcmFtZVJhdGU6aC5FTlVNX1NDUkVFTV9SRVNPTFVUSU9OX1RZUEUuTUVESVVNLmZyYW1lUmF0ZX0sYml0UmF0ZTp0aGlzLnN0YXRlQ2VudGVyLnNldHRpbmdDb25maWcuZ2V0U2V0dGluZyhcInNjcmVlbl92aWRlb19iaXRyYXRlXCIpfHxoLkVOVU1fU0NSRUVNX1JFU09MVVRJT05fVFlQRS5NRURJVU0uYml0UmF0ZX19dC5hdWRpbz1cImJvb2xlYW5cIj09dHlwZW9mIGUuYXVkaW8mJmUuYXVkaW8sdD1uKG4obih7fSxlKSx0KSx7d2lkdGg6dm9pZCAwLGhlaWdodDp2b2lkIDAsZnJhbWVSYXRlOnZvaWQgMH0pfXJldHVybiB0fSx0LnByb3RvdHlwZS5jcmVhdGVTY3JlZW5QcmV2aWV3ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgdS5aZWdvUHJldmlldyh0aGlzLmxvZ2dlcix0aGlzLmFjLHRoaXMuc3RhdGVDZW50ZXIsdGhpcyxcInNjcmVlblwiKSxpPWUuZ2V0VmlkZW9UcmFja3MoKVswXS5nZXRTZXR0aW5ncygpO3JldHVybiB0aGlzLnByZXZpZXdTdHJlYW1MaXN0LnB1c2gociksci5tZWRpYVN0cmVhbUNvbmZpZz10LGUuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGg+MCYmKHIuYXVkaW9UcmFjaz1lLmdldEF1ZGlvVHJhY2tzKClbMF0pLHIubG9jYWxTdHJlYW09ZSxyLnZpZGVvSW5mbz17d2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHQsZnJhbWVSYXRlOmkuZnJhbWVSYXRlfHwxNSxiaXRSYXRlOihudWxsPT10P3ZvaWQgMDp0LmJpdFJhdGUpfHwxZTMsc3RhcnRCaXRyYXRlOihudWxsPT10P3ZvaWQgMDp0LnN0YXJ0Qml0cmF0ZSl8fHRoaXMuc3RhdGVDZW50ZXIuc2V0dGluZ0NvbmZpZy5nZXRTZXR0aW5nKFwiYml0cmF0ZV9tb2RlXCIpfSxyLnByZXZpZXdTdWM9ITAsci5wcmV2aWV3VHlwZT1cInNjcmVlblwiLChudWxsPT10P3ZvaWQgMDp0LnZpZGVvT3B0aW1pemF0aW9uTW9kZSkmJnRoaXMuc2V0VmlkZW9UcmFja0NvbnRlbnRIaW50KGUsbnVsbD09dD92b2lkIDA6dC52aWRlb09wdGltaXphdGlvbk1vZGUpLHJ9LHQucHJvdG90eXBlLnNldFNvdW5kTGV2ZWxEZWxlZ2F0ZT1mdW5jdGlvbihlLHQscil7dm9pZCAwPT09ciYmKHI9ITEpLHRoaXMubG9nZ2VyLmluZm8oXCJ6c2Muc3NkLjAgY2FsbFwiKSx0JiYodGhpcy5zb3VuZExldmVsSW50ZXJ2YWw9dCksdGhpcy5zb3VuZExldmVsRGVsZWdhdGU9ZSx0aGlzLmVuYWJsZUluQmFja2dyb3VuZD1yLHRoaXMuZW5hYmxlU291bmRMZXZlbFByb2Nlc3NvcihlKSxlPyh0aGlzLmxvZ2dlci5pbmZvKFwienNjLnNzZC4wIHN0YXJ0IGdldHRpbmcgc291bmRcIiksdGhpcy5hY3RpdmVTb3VuZExldmVsKCkpOih0aGlzLmxvZ2dlci5pbmZvKFwienNjLnNzZC4wIHN0b3AgZ2V0dGluZyBzb3VuZFwiKSx0aGlzLnNvdW5kTGV2ZWxUaW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuc291bmRMZXZlbFRpbWVyKSx0aGlzLnNvdW5kTGV2ZWxUaW1lcj1udWxsLHRoaXMuc291bmRMZXZlbEludGVydmFsPTFlMyl9LHQucHJvdG90eXBlLmVuYWJsZVNvdW5kTGV2ZWxQcm9jZXNzb3I9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMucHJldmlld1N0cmVhbUxpc3Qpe3ZhciByPXRoaXMucHJldmlld1N0cmVhbUxpc3RbdF07ZT9yLnN0YXJ0U291bmRMZXZlbCgpOnIuc3RvcFNvdW5kTGV2ZWwoKX1mb3IodmFyIHQgaW4gdGhpcy5wbGF5ZXJMaXN0KXt2YXIgaT10aGlzLnBsYXllckxpc3RbdF0ucGxheWVyO2U/aS5zdGFydFNvdW5kTGV2ZWwoKTppLnN0b3BTb3VuZExldmVsKCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJoYXNSZW1vdGVTdHJlYW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc2lnbmFsTGlzdCkubGVuZ3RoPjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuYWN0aXZlU291bmRMZXZlbD1mdW5jdGlvbigpeyF0aGlzLnNvdW5kTGV2ZWxUaW1lciYmdGhpcy5zb3VuZExldmVsRGVsZWdhdGUmJnRoaXMuc3RhcnRTb3VuZExldmVsKCl9LHQucHJvdG90eXBlLnN0YXJ0U291bmRMZXZlbD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zb3VuZExldmVsVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5zb3VuZExldmVsVGltZXIpLHRoaXMuc291bmRMZXZlbFRpbWVyPW51bGwpLHRoaXMuc291bmRMZXZlbERlbGVnYXRlJiYodGhpcy5oYXNSZW1vdGVTdHJlYW0mJnRoaXMuY2hlY2tTb3VuZExldmVsKCksdGhpcy5jaGVja01pY1NvdW5kTGV2ZWwoKSx0aGlzLnNvdW5kTGV2ZWxUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uuc3RhcnRTb3VuZExldmVsKCl9KSx0aGlzLnNvdW5kTGV2ZWxJbnRlcnZhbCkpfSx0LnByb3RvdHlwZS5jaGVja1NvdW5kTGV2ZWw9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInpzYy5jc2wuMCBjYWxsXCIpO3ZhciBlPVtdO2Zvcih2YXIgdCBpbiB0aGlzLnB1Ymxpc2hlckxpc3Qpe3ZhciByPTAsaT10aGlzLnB1Ymxpc2hlckxpc3RbdF0ucHVibGlzaGVyLG89aS5wcmV2aWV3ZXI7byYmKHI9by5zb3VuZExldmVsKSxlLnB1c2goe3N0cmVhbUlEOnRoaXMuZ2V0QmFja1N0cmVhbUlkKGkuc3RyZWFtSWQpLHNvdW5kTGV2ZWw6cix0eXBlOlwicHVzaFwifSl9Zm9yKHZhciB0IGluIHRoaXMucGxheWVyTGlzdCl7dmFyIG49dGhpcy5wbGF5ZXJMaXN0W3RdLnBsYXllcjtuLnN0cmVhbUlkJiYhbi5pc1Byb2JlJiZlLnB1c2goe3N0cmVhbUlEOnRoaXMuZ2V0QmFja1N0cmVhbUlkKG4uc3RyZWFtSWQpLHNvdW5kTGV2ZWw6bi5zb3VuZExldmVsLHR5cGU6XCJwdWxsXCJ9KX10aGlzLnNvdW5kTGV2ZWxEZWxlZ2F0ZSYmZS5sZW5ndGg+MCYmdGhpcy5vblNvdW5kTGV2ZWxVcGRhdGUoZSl9LHQucHJvdG90eXBlLmNoZWNrTWljU291bmRMZXZlbD1mdW5jdGlvbigpe3RoaXMubWljcm9waG9uZVByZXZpZXdTdHJlYW0mJnRoaXMuc291bmRMZXZlbERlbGVnYXRlJiZ0aGlzLm9uTWljU291bmRMZXZlbFVwZGF0ZSh0aGlzLm1pY3JvcGhvbmVQcmV2aWV3U3RyZWFtLnNvdW5kTGV2ZWwpfSx0LnByb3RvdHlwZS5nZXRCYWNrU3RyZWFtSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGVzdEVudmlyb25tZW50JiZlP2UucmVwbGFjZShcInplZ290ZXN0LVwiK3RoaXMuYXBwaWQrXCItXCIsXCJcIik6ZX0sdC5wcm90b3R5cGUub25Tb3VuZExldmVsVXBkYXRlPWZ1bmN0aW9uKGUpe30sdC5wcm90b3R5cGUub25NaWNTb3VuZExldmVsVXBkYXRlPWZ1bmN0aW9uKGUpe30sdC5wcm90b3R5cGUuc3RvcFNvdW5kTGV2ZWw9ZnVuY3Rpb24oKXt0aGlzLnNvdW5kTGV2ZWxUaW1lciYmIXRoaXMuaGFzUmVtb3RlU3RyZWFtJiYwPT09dGhpcy5wcmV2aWV3U3RyZWFtTGlzdC5sZW5ndGgmJih0aGlzLmxvZ2dlci5pbmZvKFwienNjLnNzbC4wIHN0b3BcIiksY2xlYXJUaW1lb3V0KHRoaXMuc291bmRMZXZlbFRpbWVyKSx0aGlzLnNvdW5kTGV2ZWxUaW1lcj1udWxsKX0sdC5wcm90b3R5cGUuc3RhcnROZXRQcm9iZT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyxvPSgwLGMuZ2V0UmVwb3J0U2VxKSgpO2lmKHRoaXMuZGF0YVJlcG9ydC5uZXdSZXBvcnQobyx2LlplZ29SVENMb2dFdmVudC5rWmVnb05ldFByb2JlLmV2ZW50KSx0aGlzLmlzUGVlcil7dmFyIG49ITA7MD09ci5sZW5ndGgmJihuPSExLHI9ZT90aGlzLnB1Ymxpc2hlckxpc3RbdC5zdHJlYW1JZF0uc2VydmVyVXJsczp0aGlzLnBsYXllckxpc3RbdC5zdHJlYW1JZF0uc2VydmVyVXJscyksci5mb3JFYWNoKChmdW5jdGlvbihyKXtpZighKGkucHJvYmVMaXN0W3JdJiZpLnByb2JlTGlzdFtyXS50aW1lU3RhbXArOWU1PChuZXcgRGF0ZSkuZ2V0VGltZSgpfHx0LnByb2JlU3RhdGU9PWguRU5VTV9QUk9CRV9TVEFURS5wcm9iZWQpKXt2YXIgbz1cInplZ29wcm9iZS1cIisobmV3IERhdGUpLmdldFRpbWUoKTtpLnNldFBsYXlTdGF0ZVN0YXJ0KG8pO3ZhciBzPWkucGxheWVyTGlzdFtvXT9pLnBsYXllckxpc3Rbb10ucGxheWVyOm51bGw7cyYmKHMuaXNQcm9iZT0hMCxuPyhzLmd3Tm9kZT1yLHMuc2lnbmFsPXQuc2lnbmFsLHMuc3RhcnRQbGF5KG8sKGZ1bmN0aW9uKCl7fSkpKTppLmNvbm5lY3RQbGF5U2VydmVyKG8sKGZ1bmN0aW9uKCl7fSkscikscy5vbkNhbE5ldFF1YWxpdHlSZXN1bHQ9ZnVuY3Rpb24obixhKXtpLmxvZ2dlci5pbmZvKFwiemMub2NucXIuMCBcIitzLmd3Tm9kZStcIiBcIituK1wiIFwiK2EpLGkucHJvYmVMaXN0W3JdPXtyZXN1bHQ6bixuZXRRdWFsaXR5OmEsdGltZVN0YW1wOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSx0Lmd3Tm9kZT09cnx8dC5zaWduYWwuc2VydmVyPT1yP3QubmV0UXVhbGl0eT1hOmkuaGFuZGxlQ2FsTmV0UXVhbGl0eVJlc3VsdChlLG4sYSx0LHIpLGkuc3RvcFBsYXlpbmdTdHJlYW0obyl9KX19KSksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyx7bmV0UXVhbGl0eTp0Lm5ldFF1YWxpdHksbm9kZUxpc3Q6cn0pLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyl9ZWxzZSB0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8sdm9pZCAwLHtjb2RlOi0xLG1lc3NhZ2U6XCJub3Qgc3VwcG9ydCBwZWVyXCJ9KX0sdC5wcm90b3R5cGUuaGFuZGxlQ2FsTmV0UXVhbGl0eVJlc3VsdD1mdW5jdGlvbihlLHQscixpLG8pe2lmKHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy5oY3FyLjAgXCIraS5uZXRRdWFsaXR5K1wiIHByb2JlIFwiK3IrXCIgXCIrbyksMD09PXQpe3ZhciBuPSgwLGMuZ2V0UmVwb3J0U2VxKSgpO3RoaXMuZGF0YVJlcG9ydC5uZXdSZXBvcnQobix2LlplZ29SVENMb2dFdmVudC5rWmVnb05ldFByb2JlUmVzdWx0LmV2ZW50KTt2YXIgcz0hMTtpZihyPk1hdGgubWF4KDc1LGkubmV0UXVhbGl0eSsyMCkmJmkucHJvYmVTdGF0ZT09aC5FTlVNX1BST0JFX1NUQVRFLnRyeVByb2JlKWlmKHM9ITAsZSl7dmFyIGE9aSx1PWEuc3RyZWFtSWQsZD1hLmxvY2FsU3RyZWFtLGw9YS52aWRlb0luZm8scD1hLm1lZGlhU3RyZWFtQ29uZmlnLGc9YS5wdWJsaXNoT3B0aW9uOzAhPWEuc2Vzc2lvbklkJiZhLnNpZ25hbCYmYS5zaG91bGRTZW5kQ2xvc2VTZXNzaW9uKCkmJihhLnNpZ25hbC5zZW5kQ2xvc2VTZXNzaW9uKHRoaXMuc3RhdGVDZW50ZXIuZ2V0U2VxKCksYS5zZXNzaW9uSWQsMSksYS5zaWduYWwucmVtb3ZlU2Vzc2lvbihhLnNlc3Npb25JZCksYS5jbG9zZVNlc3Npb25TaWduYWw9ITApLGEucmVzZXRQdWJsaXNoKCksdGhpcy5wdWJsaXNoZXJMaXN0W3VdLmlzQ2VudGVyTm9kZT8oYS5nd05vZGU9byxhLnN0YXJ0UHVibGlzaCh1LGQsbCxwLGcpKTp0aGlzLmNvbm5lY3RQdWJsaXNoU2VydmVyKHUsbyl9ZWxzZXt2YXIgZj1pLG09KHU9Zi5zdHJlYW1JZCxmLmdldFJlbW90ZVN0cmVhbVN1YyksXz1mLnBsYXlPcHRpb247MCE9Zi5zZXNzaW9uSWQmJmYuc2lnbmFsJiZmLnNob3VsZFNlbmRDbG9zZVNlc3Npb24oKSYmKGYuc2lnbmFsLnNlbmRDbG9zZVNlc3Npb24odGhpcy5zdGF0ZUNlbnRlci5nZXRTZXEoKSxmLnNlc3Npb25JZCwxKSxmLnNpZ25hbC5yZW1vdmVTZXNzaW9uKGYuc2Vzc2lvbklkKSxmLmNsb3NlU2Vzc2lvblNpZ25hbD0hMCksZi5yZXNldFBsYXkoKSx0aGlzLnBsYXllckxpc3RbdV0uaXNDZW50ZXJOb2RlPyhmLmd3Tm9kZT1vLGYuc3RhcnRQbGF5KHUsbSxfKSk6dGhpcy5jb25uZWN0UGxheVNlcnZlcih1LG0sbyl9ZWxzZSBzPSExLHRoaXMubG9nZ2VyLndhcm4oXCJ6Yy5oY3FyLjAgXCIraS5uZXRRdWFsaXR5K1wiIHByb2JlIFwiK3IrXCIgXCIrbyk7dGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obix7aXNTd2l0Y2g6cyxpc1B1Ymxpc2g6ZSxzdHJlYW1JRDppLnN0cmVhbUlkLHJlc3VsdDp0LG5vZGU6byxuZXRRdWFsaXR5OmkubmV0UXVhbGl0eSxwcm9iZU5ldFF1YWxpdHk6cn0pLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobiksaS5wcm9iZVN0YXRlPWguRU5VTV9QUk9CRV9TVEFURS5wcm9iZWR9fSx0LnByb3RvdHlwZS5nZXRSb29tQnlTdHJlYW1JRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdWJsaXNoZXJMaXN0W2VdP3RoaXMucHVibGlzaGVyTGlzdFtlXS5yb29tOnRoaXMucGxheWVyTGlzdFtlXT90aGlzLnBsYXllckxpc3RbZV0ucm9vbTp2b2lkIDB9LHQucHJvdG90eXBlLnNldFZpZGVvVHJhY2tDb250ZW50SGludD1mdW5jdGlvbihlLHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgcj10LnRvTG93ZXJDYXNlKCk7aWYoW1wiZGVmYXVsdFwiLFwibW90aW9uXCIsXCJkZXRhaWxcIixcInRleHRcIl0uaW5jbHVkZXMocikpe3ZhciBpPWUuZ2V0VmlkZW9UcmFja3MoKVswXTtpP1wiY29udGVudEhpbnRcImluIGk/KHRoaXMubG9nZ2VyLmluZm8oXCJ6Yy5zdnRjaCBcIityKSxpLmNvbnRlbnRIaW50PVwiZGVmYXVsdFwiPT1yP1wiXCI6cik6dGhpcy5sb2dnZXIud2FybihcInpjLnN2dGNoIG1lZGlhU3RyZWFtVHJhY2sgY29udGVudEhpbnQgYXR0cmlidXRlIG5vdCBzdXBwb3J0ZWRcIik6dGhpcy5sb2dnZXIud2FybihcInpjLnN2dGNoIHZpZGVvIHRyYWNrIG5vIGZvdW5kXCIpfWVsc2UgdGhpcy5sb2dnZXIud2FybihcInpjLnN2dGNoIHZpZGVvT3B0aW1pemF0aW9uTW9kZSB3cm9uZ1wiKX1lbHNlIHRoaXMubG9nZ2VyLndhcm4oXCJ6Yy5zdnRjaCB2aWRlb09wdGltaXphdGlvbk1vZGUgdHlwZSB3cm9uZ1wiKX0sdC5wcm90b3R5cGUuZ2V0UGxheVJvb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhdGVDZW50ZXIucm9vbUxpc3QuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuISF0LnN0cmVhbUxpc3QuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RyZWFtX2lkPT1lfSkpfSkpfSx0LnByb3RvdHlwZS5nZXRRdWFsaXR5SGVhZD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBVaW50OEFycmF5KDEyKTtyWzBdPTAsclsxXT0xMixyWzJdPWUubGVuZ3RoPj44LHJbM109ZS5sZW5ndGgtKHJbMl08PDgpLHJbNF09dC5sZW5ndGg+PjI0LHJbNV09dC5sZW5ndGgtKHJbNF08PDI0KT4+MTYscls2XT10Lmxlbmd0aC0ocls0XTw8MjQpLShyWzVdPDwxNik+Pjgscls3XT10Lmxlbmd0aC0ocls0XTw8MjQpLShyWzVdPDwxNiktKHJbNl08PDgpO3ZhciBpPU1hdGguY2VpbCgobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpO3JldHVybiByWzhdPWk+PjI0LHJbOV09aS0ocls4XTw8MjQpPj4xNixyWzEwXT1pLShyWzhdPDwyNCktKHJbOV08PDE2KT4+OCxyWzExXT1pLShyWzhdPDwyNCktKHJbOV08PDE2KS0oclsxMF08PDgpLHJ9LHQucHJvdG90eXBlLnN0cmVhbVF1YWxpdHlVcGxvYWQ9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXM7aWYoT2JqZWN0LmtleXModGhpcy5wdWJsaXNoZXJMaXN0KS5sZW5ndGg+MHx8T2JqZWN0LmtleXModGhpcy5wbGF5ZXJMaXN0KS5sZW5ndGg+MCl7dmFyIHI9e3B1Ymxpc2hfcXVhbGl0eV9pbmZvczp0aGlzLnB1Ymxpc2hRdWFsaXR5SW5mb3MscGxheV9xdWFsaXR5X2luZm9zOnRoaXMucGxheVF1YWxpdHlJbmZvc30saT1FLmxvZ3JlcG9ydC5TcGVlZExvZ0hlYWQuY3JlYXRlKHt2ZXJzaW9uOjMsdGltZXN0YW1wOnRoaXMucXVhbGl0eUhlYWRUaW1lc3RhbXAsZXZlbnQ6MCxhcHBfaWQ6dGhpcy5zdGF0ZUNlbnRlci5hcHBpZCx1c2VyX2lkOnRoaXMuc3RhdGVDZW50ZXIuaWROYW1lLGJpel90eXBlOjF9KSxvPUUubG9ncmVwb3J0LlF1YWxpdHlFdmVudC5jcmVhdGUociksbj1FLmxvZ3JlcG9ydC5TcGVlZExvZ0hlYWQuZW5jb2RlKGkpLmZpbmlzaCgpLGM9RS5sb2dyZXBvcnQuUXVhbGl0eUV2ZW50LmVuY29kZShvKS5maW5pc2goKSx1PXRoaXMuZ2V0UXVhbGl0eUhlYWQobixjKSxkPW5ldyBVaW50OEFycmF5KDEyK24ubGVuZ3RoK2MubGVuZ3RoKTtkLnNldCh1KSxkLnNldChuLDEyKSxkLnNldChjLDEyK24ubGVuZ3RoKTt2YXIgbD1udWxsPT09KGU9dGhpcy5sb2dnZXIudXJsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zcGxpdChcIi9cIilbMl07aWYoIWwpcmV0dXJuO3ZhciBoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtpZih0LnF1YWxpdHlXZWJzb2NrZXQmJjIhPXQucXVhbGl0eVdlYnNvY2tldC5yZWFkeVN0YXRlJiYzIT10LnF1YWxpdHlXZWJzb2NrZXQucmVhZHlTdGF0ZSkxPT10LnF1YWxpdHlXZWJzb2NrZXQucmVhZHlTdGF0ZSYmZSh0LnF1YWxpdHlXZWJzb2NrZXQpO2Vsc2V7dmFyIHI9dC5zdGF0ZUNlbnRlci5hcHBpZCxpPXQuc3RhdGVDZW50ZXIuaWROYW1lLG89dC5zdGF0ZUNlbnRlci5yb29tTGlzdFswXS50b2tlbixuPVwid3NzOi8vXCIuY29uY2F0KGwsXCIvd3MvcmVwb3J0L3N0cmVhbT9hcHBpZD1cIikuY29uY2F0KHIsXCImcHJvZHVjdD1ydGMmdG9rZW49XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobyksXCImaWRfbmFtZT1cIikuY29uY2F0KGkpO3QucXVhbGl0eVdlYnNvY2tldD1uZXcgV2ViU29ja2V0KG4pLHQucXVhbGl0eVdlYnNvY2tldC5vbm9wZW49ZnVuY3Rpb24oKXt0LnF1YWxpdHlXZWJzb2NrZXQmJmUodC5xdWFsaXR5V2Vic29ja2V0KX0sdC5xdWFsaXR5V2Vic29ja2V0Lm9uY2xvc2U9ZnVuY3Rpb24oKXt0LmxvZ2dlci5pbmZvKFMuWkVHT19XRUJSVENfQUNUSU9OLlVQTE9BRF9TUEVFRF9MT0dfUVVBTElUWStcIiBzcGVlZCBsb2cgc29ja2V0IGNsb3NlXCIpfX19KSl9O2goKS50aGVuKChmdW5jdGlvbihlKXt2YXIgcj1EYXRlLm5vdygpJTFlNCxpPSExO2Uub25tZXNzYWdlPWZ1bmN0aW9uKG8peyhvLmRhdGErXCJcIikuaW5jbHVkZXMoXCJzdWNjZXNzXCIpJiYodC5sb2dnZXIuaW5mbyhTLlpFR09fV0VCUlRDX0FDVElPTi5VUExPQURfU1BFRURfTE9HX1FVQUxJVFkrXCIgcXVhbGl0eSAoXCIuY29uY2F0KHIsXCIpIHVwbG9hZCBzdWNjZXNzXCIpKSxpPSEwKSxlLm9ubWVzc2FnZT1udWxsfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBzKHQsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiBpP1szLDJdOls0LGgoKV07Y2FzZSAxOmUuc2VudCgpLnNlbmQoZCksdGhpcy5sb2dnZXIuaW5mbyhTLlpFR09fV0VCUlRDX0FDVElPTi5VUExPQURfU1BFRURfTE9HX1FVQUxJVFkrXCIgcmV0cnkgdXBsb2FkIHF1YWxpdHkgKFwiLmNvbmNhdChyLFwiKSwgbGVuZ3RoOiBcIikrZC5sZW5ndGgrXCIuXCIpLGUubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pKX0pKX0pLDNlMyksZS5zZW5kKGQpLHQubG9nZ2VyLmluZm8oUy5aRUdPX1dFQlJUQ19BQ1RJT04uVVBMT0FEX1NQRUVEX0xPR19RVUFMSVRZK1wiIHVwbG9hZCBxdWFsaXR5IChcIi5jb25jYXQocixcIiksIGxlbmd0aDogXCIpK2QubGVuZ3RoK1wiLlwiKX0pKX19LHQucHJvdG90eXBlLnVwZGF0ZVF1YWxpdHk9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCksbz1KU09OLnN0cmluZ2lmeSh0aGlzLnB1Ymxpc2hRdWFsaXR5SW5mb3MpLmxlbmd0aCtKU09OLnN0cmluZ2lmeSh0aGlzLnBsYXlRdWFsaXR5SW5mb3MpLmxlbmd0aDswIT09dGhpcy5xdWFsaXR5VXBsb2FkVGltZXN0YW1wJiZpLXRoaXMucXVhbGl0eVVwbG9hZFRpbWVzdGFtcD42ZTR8fG8+OGUzPyh0aGlzLnB1Ymxpc2hRdWFsaXR5SW5mb3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGltZXN0YW1wX29mZnNldF9lbmQ9TWF0aC5yb3VuZChpLzFlMyktci5xdWFsaXR5SGVhZFRpbWVzdGFtcH0pKSx0aGlzLnBsYXlRdWFsaXR5SW5mb3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGltZXN0YW1wX29mZnNldF9lbmQ9TWF0aC5yb3VuZChpLzFlMyktci5xdWFsaXR5SGVhZFRpbWVzdGFtcH0pKSx0aGlzLnN0cmVhbVF1YWxpdHlVcGxvYWQoKSx0aGlzLnB1Ymxpc2hRdWFsaXR5SW5mb3M9W10sdGhpcy5wbGF5UXVhbGl0eUluZm9zPVtdLHRoaXMucXVhbGl0eUhlYWRUaW1lc3RhbXA9TWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpLHRoaXMucXVhbGl0eVVwbG9hZFRpbWVzdGFtcD1pKTowPT10aGlzLnF1YWxpdHlIZWFkVGltZXN0YW1wJiYodGhpcy5xdWFsaXR5SGVhZFRpbWVzdGFtcD1NYXRoLnJvdW5kKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzFlMyksdGhpcy5xdWFsaXR5VXBsb2FkVGltZXN0YW1wPWkpLDA9PWU/dGhpcy5oYW5kbGVQdWJsaXNoUXVhbGl0eURhdGEodCk6dGhpcy5oYW5kbGVQbGF5UXVhbGl0eURhdGEodCl9LHQucHJvdG90eXBlLmhhbmRsZVB1Ymxpc2hRdWFsaXR5RGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnB1Ymxpc2hRdWFsaXR5SW5mb3MuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RyZWFtX2lkPT1lLnN0cmVhbV9pZCYmdC52aWRlb193aWR0aD09ZS5mcmFtZVdpZHRoJiZ0LnZpZGVvX2hlaWdodD09ZS5mcmFtZUhlaWdodH0pKTtpZighdCl7dmFyIHI9dGhpcy5nZXRSb29tQnlTdHJlYW1JRChlLnN0cmVhbV9pZCk7dD17dGltZXN0YW1wX29mZnNldF9iZWdpbjpNYXRoLmFicyhOdW1iZXIoZS50aW1lU3RhbXAtdGhpcy5xdWFsaXR5SGVhZFRpbWVzdGFtcCkpLHRpbWVzdGFtcF9vZmZzZXRfZW5kOjAsc3RyZWFtX2lkOmUuc3RyZWFtX2lkLHNlc3Npb25faWQ6cj9OdW1iZXIoci5zZXNzaW9uSUQpOjAsdmlkZW9fd2lkdGg6ZS5mcmFtZVdpZHRoLHZpZGVvX2hlaWdodDplLmZyYW1lSGVpZ2h0LGluZm9zOltdLHJvb21faWQ6cj9yLnJvb21JRDpcIlwiLGV2bnZpcm9ubWVudDoxLHJvb21fc2Vzc2lvbl9pZDpyP051bWJlcihyLnJvb21TZXNzaW9uSUQpOjAscmVzb3VyY2VfdHlwZToyfSx0aGlzLnB1Ymxpc2hRdWFsaXR5SW5mb3MucHVzaCh0KX10LmluZm9zLnB1c2goe2F1ZGlvX2JpdHJhdGU6TWF0aC5yb3VuZChlLmF1ZGlvQml0cmF0ZSl8fDAsdmlkZW9fYml0cmF0ZTpNYXRoLnJvdW5kKGUudmlkZW9CaXRyYXRlKXx8MCx2aWRlb19jYXB0dXJlX2ZwczpNYXRoLnJvdW5kKDEwKmUudmlkZW9GUFMpfHwwLHZpZGVvX25ldHdvcmtfZnBzOk1hdGgucm91bmQoMTAqZS52aWRlb1RyYW5zZmVyRlBTKXx8MCx1cGxpbmtfcGxyOmUuYXVkaW9QYWNrZXRzTG9zdFJhdGUscnR0Ok1hdGgucm91bmQoMWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpfHwwLGF1ZGlvX25ldHdvcmtfZnBzOk1hdGgucm91bmQoMTAqZS5hdWRpb0ZQUyksY2FwdHVyZWRfc291bmRfbGV2ZWw6TWF0aC5yb3VuZChlLmF1ZGlvTGV2ZWwpLHNhbXBsZV90aW1lX3dpbmRvdzpNYXRoLnJvdW5kKGUuc2FtcGxlVGltZVdpbmRvdy8xMCl9KX0sdC5wcm90b3R5cGUuaGFuZGxlUGxheVF1YWxpdHlEYXRhPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcy5wbGF5UXVhbGl0eUluZm9zLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0cmVhbV9pZD09ZS5zdHJlYW1faWQmJnQudmlkZW9fd2lkdGg9PWUuZnJhbWVXaWR0aCYmdC52aWRlb19oZWlnaHQ9PWUuZnJhbWVIZWlnaHR9KSk7aWYoIXIpe3ZhciBpPXRoaXMuZ2V0Um9vbUJ5U3RyZWFtSUQoZS5zdHJlYW1faWQpLG89bnVsbD09PSh0PXRoaXMucGxheWVyTGlzdFtlLnN0cmVhbV9pZF0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnBsYXllcjtyPXt0aW1lc3RhbXBfb2Zmc2V0X2JlZ2luOk1hdGguYWJzKE51bWJlcihlLnRpbWVTdGFtcC10aGlzLnF1YWxpdHlIZWFkVGltZXN0YW1wKSksdGltZXN0YW1wX29mZnNldF9lbmQ6MCxzdHJlYW1faWQ6ZS5zdHJlYW1faWQsc2Vzc2lvbl9pZDppP051bWJlcihpLnNlc3Npb25JRCk6MCx2aWRlb193aWR0aDplLmZyYW1lV2lkdGgsdmlkZW9faGVpZ2h0OmUuZnJhbWVIZWlnaHQsaW5mb3M6W10scm9vbV9pZDppP2kucm9vbUlEOlwiXCIscm9vbV9zZXNzaW9uX2lkOmk/TnVtYmVyKGkucm9vbVNlc3Npb25JRCk6MCxyZXNvdXJjZV90eXBlOjA9PT0obnVsbD09bz92b2lkIDA6by5yZXNvdXJjZU1vZGUpPzI6M30sdGhpcy5wbGF5UXVhbGl0eUluZm9zLnB1c2gocil9ci5pbmZvcy5wdXNoKHthdWRpb19iaXRyYXRlOk1hdGgucm91bmQoZS5hdWRpb0JpdHJhdGUpfHwwLHZpZGVvX2JpdHJhdGU6TWF0aC5yb3VuZChlLnZpZGVvQml0cmF0ZSl8fDAsdmlkZW9fbmV0d29ya19mcHM6TWF0aC5yb3VuZCgxMCplLnZpZGVvRlBTKXx8MCxkb3dubGlua19wbHI6TWF0aC5yb3VuZChlLmF1ZGlvUGFja2V0c0xvc3RSYXRlKXx8MCxhdWRpb19uZXR3b3JrX2ZwczpNYXRoLnJvdW5kKDEwKmUuYXVkaW9GUFMpfHwwLGF1ZGlvX2JyZWFrX2R1cmF0aW9uOk1hdGgucm91bmQoZS5hdWRpb19icmVha19kdXJhdGlvbi8xMCksdmlkZW9fYnJlYWtfZHVyYXRpb246TWF0aC5yb3VuZChlLnZpZGVvX2JyZWFrX2R1cmF0aW9uLzEwKSxydHQ6TWF0aC5yb3VuZCgxZTMqZS5jdXJyZW50Um91bmRUcmlwVGltZSl8fDAscmVuZGVyZWRfc291bmRfbGV2ZWw6TWF0aC5yb3VuZChlLmF1ZGlvTGV2ZWwpLGF1ZGlvX2JyZWFrX2NhbmNlbF9kdXJhdGlvbjpNYXRoLnJvdW5kKGUuYXVkaW9fYnJlYWtfY2FuY2VsX2R1cmF0aW9uLzEwKSx2aWRlb19icmVha19jYW5jZWxfZHVyYXRpb246TWF0aC5yb3VuZChlLnZpZGVvX2JyZWFrX2NhbmNlbF9kdXJhdGlvbi8xMCksYXVkaW9fZGVjb2RlX3RpbWU6TWF0aC5yb3VuZChlLmF1ZGlvX2RlY29kZV90aW1lLzEwKSx2aWRlb19kZWNvZGVfdGltZTpNYXRoLnJvdW5kKGUudmlkZW9fZGVjb2RlX3RpbWUvMTApLHJlYWxfc2FtcGxpbmdfaW50ZXJ2YWw6TWF0aC5yb3VuZChlLnJlYWxfc2FtcGxpbmdfaW50ZXJ2YWwvMTApLHZpZGVvX2ZyYW1lc19kZWNvZGVkOk1hdGgucm91bmQoZS52aWRlb0ZyYW1lc0RlY29kZWQpfHwwLHZpZGVvX2ZyYW1lc19kcm9wcGVkOk1hdGgucm91bmQoZS52aWRlb0ZyYW1lc0Ryb3BwZWQpfHwwLHNhbXBsZV90aW1lX3dpbmRvdzpNYXRoLnJvdW5kKGUuc2FtcGxlVGltZVdpbmRvdy8xMCkscGVlcl90b19wZWVyX3BscjplLnBlZXJUb1BlZXJQYWNrZXRMb3N0UmF0ZSxwZWVyX3RvX3BlZXJfZGVsYXk6ZS5wZWVyVG9QZWVyRGVsYXl9KX0sdC5wcm90b3R5cGUuc2V0SXNQZWVyPWZ1bmN0aW9uKGUpe3RoaXMuaXNQZWVyPWUsT2JqZWN0LnZhbHVlcyh0aGlzLnB1Ymxpc2hlckxpc3QpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucHVibGlzaGVyLmlzUGVlcj1lfSkpLE9iamVjdC52YWx1ZXModGhpcy5wbGF5ZXJMaXN0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnBsYXllci5pc1BlZXI9ZX0pKX0sdH0obC5aZWdvU3RyZWFtQ2VudGVyKTt0LlplZ29TdHJlYW1DZW50ZXJXZWI9VH0sMjk5MDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbz1yKDQ3OTkpLG49by5Xcml0ZXIscz1vLnV0aWwsYT1vLnJvb3RzLmRlZmF1bHR8fChvLnJvb3RzLmRlZmF1bHQ9e30pO2EubG9ncmVwb3J0PSgoaT17fSkuU3BlZWRMb2dIZWFkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9dmFyIHQscjtyZXR1cm4gZS5wcm90b3R5cGUudmVyc2lvbj0wLGUucHJvdG90eXBlLnNpZ25hdHVyZT1zLm5ld0J1ZmZlcihbXSksZS5wcm90b3R5cGUudGltZXN0YW1wPTAsZS5wcm90b3R5cGUuZXZlbnQ9MCxlLnByb3RvdHlwZS5hcHBfaWQ9MCxlLnByb3RvdHlwZS51c2VyX2lkPVwiXCIsZS5wcm90b3R5cGUuYml6X3R5cGU9MCxlLnByb3RvdHlwZS5kZXZpY2VfaWQ9XCJcIixlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PW4uY3JlYXRlKCkpLG51bGwhPWUudmVyc2lvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInZlcnNpb25cIikmJnQudWludDMyKDgpLnVpbnQzMihlLnZlcnNpb24pLG51bGwhPWUuc2lnbmF0dXJlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2lnbmF0dXJlXCIpJiZ0LnVpbnQzMigxOCkuYnl0ZXMoZS5zaWduYXR1cmUpLG51bGwhPWUudGltZXN0YW1wJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidGltZXN0YW1wXCIpJiZ0LnVpbnQzMigyNCkudWludDMyKGUudGltZXN0YW1wKSxudWxsIT1lLmV2ZW50JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXZlbnRcIikmJnQudWludDMyKDMyKS51aW50MzIoZS5ldmVudCksbnVsbCE9ZS5hcHBfaWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhcHBfaWRcIikmJnQudWludDMyKDQwKS51aW50MzIoZS5hcHBfaWQpLG51bGwhPWUudXNlcl9pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInVzZXJfaWRcIikmJnQudWludDMyKDUwKS5zdHJpbmcoZS51c2VyX2lkKSxudWxsIT1lLmJpel90eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYml6X3R5cGVcIikmJnQudWludDMyKDU2KS51aW50MzIoZS5iaXpfdHlwZSksbnVsbCE9ZS5kZXZpY2VfaWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXZpY2VfaWRcIikmJnQudWludDMyKDY2KS5zdHJpbmcoZS5kZXZpY2VfaWQpLHR9LGUuUHJvdG9WZXJzaW9uPSh0PXt9LChyPU9iamVjdC5jcmVhdGUodCkpW3RbMF09XCJQUk9UT19WRVJTSU9OXCJdPTAsclt0WzFdPVwiUFJPVE9fVkVSU0lPTjFcIl09MSxyW3RbMl09XCJQUk9UT19WRVJTSU9OMlwiXT0yLHJbdFszXT1cIlBST1RPX1ZFUlNJT04zXCJdPTMsclt0WzRdPVwiUFJPVE9fVkVSU0lPTjRcIl09NCxyW3RbNV09XCJQUk9UT19WRVJTSU9ONVwiXT01LHJbdFs2XT1cIlBST1RPX1ZFUlNJT042XCJdPTYsciksZS5FdmVudD1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9T2JqZWN0LmNyZWF0ZShlKTtyZXR1cm4gdFtlWzBdPVwiUVVBTElUWV9FVkVOVFwiXT0wLHRbZVsxMDBdPVwiTk9fQklMTElOR19FVkVOVFwiXT0xMDAsdFtlWzMwMF09XCJERVRFQ1RfUVVBTElUWV9FVkVOVFwiXT0zMDAsdH0oKSxlLkJpelR5cGU9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PU9iamVjdC5jcmVhdGUoZSk7cmV0dXJuIHRbZVswXT1cIlVOS05PV05cIl09MCx0W2VbMV09XCJMSVZFXCJdPTEsdFtlWzJdPVwiUlRWXCJdPTIsdH0oKSxlfSgpLGkuU3BlZWRMb2dSc3A9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLHI9MDtyPHQubGVuZ3RoOysrciludWxsIT1lW3Rbcl1dJiYodGhpc1t0W3JdXT1lW3Rbcl1dKX1yZXR1cm4gZS5wcm90b3R5cGUuY29kZT0wLGUucHJvdG90eXBlLm1lc3NhZ2U9XCJcIixlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PW4uY3JlYXRlKCkpLG51bGwhPWUuY29kZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNvZGVcIikmJnQudWludDMyKDgpLnVpbnQzMihlLmNvZGUpLG51bGwhPWUubWVzc2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1lc3NhZ2VcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5tZXNzYWdlKSx0fSxlfSgpLGkuUXVhbGl0eUV2ZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZih0aGlzLnB1Ymxpc2hfcXVhbGl0eV9pbmZvcz1bXSx0aGlzLnBsYXlfcXVhbGl0eV9pbmZvcz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9dmFyIHQscjtyZXR1cm4gZS5wcm90b3R5cGUuaGFyZHdhcmVfaW5mb3M9bnVsbCxlLnByb3RvdHlwZS5wdWJsaXNoX3F1YWxpdHlfaW5mb3M9cy5lbXB0eUFycmF5LGUucHJvdG90eXBlLnBsYXlfcXVhbGl0eV9pbmZvcz1zLmVtcHR5QXJyYXksZS5wcm90b3R5cGUubmV0d29ya190eXBlPTAsZS5wcm90b3R5cGUuY2hhcmdlX2luZm9zPW51bGwsZS5wcm90b3R5cGUuY2xpZW50X3R5cGU9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9bi5jcmVhdGUoKSksbnVsbCE9ZS5oYXJkd2FyZV9pbmZvcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImhhcmR3YXJlX2luZm9zXCIpJiZhLmxvZ3JlcG9ydC5IYXJkd2FyZUluZm9zLmVuY29kZShlLmhhcmR3YXJlX2luZm9zLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUucHVibGlzaF9xdWFsaXR5X2luZm9zJiZlLnB1Ymxpc2hfcXVhbGl0eV9pbmZvcy5sZW5ndGgpZm9yKHZhciByPTA7cjxlLnB1Ymxpc2hfcXVhbGl0eV9pbmZvcy5sZW5ndGg7KytyKWEubG9ncmVwb3J0LlB1Ymxpc2hRdWFsaXR5SW5mb3MuZW5jb2RlKGUucHVibGlzaF9xdWFsaXR5X2luZm9zW3JdLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUucGxheV9xdWFsaXR5X2luZm9zJiZlLnBsYXlfcXVhbGl0eV9pbmZvcy5sZW5ndGgpZm9yKHI9MDtyPGUucGxheV9xdWFsaXR5X2luZm9zLmxlbmd0aDsrK3IpYS5sb2dyZXBvcnQuUGxheVF1YWxpdHlJbmZvcy5lbmNvZGUoZS5wbGF5X3F1YWxpdHlfaW5mb3Nbcl0sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUubmV0d29ya190eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmV0d29ya190eXBlXCIpJiZ0LnVpbnQzMigzMikudWludDMyKGUubmV0d29ya190eXBlKSxudWxsIT1lLmNoYXJnZV9pbmZvcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNoYXJnZV9pbmZvc1wiKSYmYS5sb2dyZXBvcnQuQ2hhcmdlSW5mb3MuZW5jb2RlKGUuY2hhcmdlX2luZm9zLHQudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUuY2xpZW50X3R5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjbGllbnRfdHlwZVwiKSYmdC51aW50MzIoODAwKS51aW50MzIoZS5jbGllbnRfdHlwZSksdH0sZS5SZXNvdXJjZVR5cGU9KHQ9e30sKHI9T2JqZWN0LmNyZWF0ZSh0KSlbdFswXT1cIlVOS05PV05cIl09MCxyW3RbMV09XCJDRE5cIl09MSxyW3RbMl09XCJSVENcIl09MixyW3RbM109XCJMM1wiXT0zLHIpLGV9KCksaS5IYXJkd2FyZUluZm9zPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZih0aGlzLmluZm9zPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLHI9MDtyPHQubGVuZ3RoOysrciludWxsIT1lW3Rbcl1dJiYodGhpc1t0W3JdXT1lW3Rbcl1dKX1yZXR1cm4gZS5wcm90b3R5cGUudGltZXN0YW1wX29mZnNldF9iZWdpbj0wLGUucHJvdG90eXBlLnRpbWVzdGFtcF9vZmZzZXRfZW5kPTAsZS5wcm90b3R5cGUuaW5mb3M9cy5lbXB0eUFycmF5LGUucHJvdG90eXBlLnN5c19tZW1fdG90YWw9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9bi5jcmVhdGUoKSksbnVsbCE9ZS50aW1lc3RhbXBfb2Zmc2V0X2JlZ2luJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidGltZXN0YW1wX29mZnNldF9iZWdpblwiKSYmdC51aW50MzIoOCkudWludDMyKGUudGltZXN0YW1wX29mZnNldF9iZWdpbiksbnVsbCE9ZS50aW1lc3RhbXBfb2Zmc2V0X2VuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInRpbWVzdGFtcF9vZmZzZXRfZW5kXCIpJiZ0LnVpbnQzMigxNikudWludDMyKGUudGltZXN0YW1wX29mZnNldF9lbmQpLG51bGwhPWUuaW5mb3MmJmUuaW5mb3MubGVuZ3RoKWZvcih2YXIgcj0wO3I8ZS5pbmZvcy5sZW5ndGg7KytyKWEubG9ncmVwb3J0LkhhcmR3YXJlSW5mby5lbmNvZGUoZS5pbmZvc1tyXSx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5zeXNfbWVtX3RvdGFsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3lzX21lbV90b3RhbFwiKSYmdC51aW50MzIoMzIpLnVpbnQzMihlLnN5c19tZW1fdG90YWwpLHR9LGV9KCksaS5QdWJsaXNoUXVhbGl0eUluZm9zPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZih0aGlzLmluZm9zPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLHI9MDtyPHQubGVuZ3RoOysrciludWxsIT1lW3Rbcl1dJiYodGhpc1t0W3JdXT1lW3Rbcl1dKX1yZXR1cm4gZS5wcm90b3R5cGUudGltZXN0YW1wX29mZnNldF9iZWdpbj0wLGUucHJvdG90eXBlLnRpbWVzdGFtcF9vZmZzZXRfZW5kPTAsZS5wcm90b3R5cGUuc3RyZWFtX2lkPVwiXCIsZS5wcm90b3R5cGUuc2Vzc2lvbl9pZD0wLGUucHJvdG90eXBlLnZpZGVvX3dpZHRoPTAsZS5wcm90b3R5cGUudmlkZW9faGVpZ2h0PTAsZS5wcm90b3R5cGUuaXB2ND0wLGUucHJvdG90eXBlLmlwdjY9XCJcIixlLnByb3RvdHlwZS5yZXNvdXJjZV90eXBlPTAsZS5wcm90b3R5cGUuaW5mb3M9cy5lbXB0eUFycmF5LGUucHJvdG90eXBlLnJvb21faWQ9XCJcIixlLnByb3RvdHlwZS5ldm52aXJvbm1lbnQ9MCxlLnByb3RvdHlwZS5hcD1cIlwiLGUucHJvdG90eXBlLnNlc3Npb249XCJcIixlLnByb3RvdHlwZS5yb29tX3Nlc3Npb25faWQ9cy5Mb25nP3MuTG9uZy5mcm9tQml0cygwLDAsITApOjAsZS5wcm90b3R5cGUucHJvdG9jb2xfdHlwZT0wLGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0fHwodD1uLmNyZWF0ZSgpKSxudWxsIT1lLnRpbWVzdGFtcF9vZmZzZXRfYmVnaW4mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0aW1lc3RhbXBfb2Zmc2V0X2JlZ2luXCIpJiZ0LnVpbnQzMig4KS51aW50MzIoZS50aW1lc3RhbXBfb2Zmc2V0X2JlZ2luKSxudWxsIT1lLnRpbWVzdGFtcF9vZmZzZXRfZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidGltZXN0YW1wX29mZnNldF9lbmRcIikmJnQudWludDMyKDE2KS51aW50MzIoZS50aW1lc3RhbXBfb2Zmc2V0X2VuZCksbnVsbCE9ZS5zdHJlYW1faWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdHJlYW1faWRcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5zdHJlYW1faWQpLG51bGwhPWUuc2Vzc2lvbl9pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlc3Npb25faWRcIikmJnQudWludDMyKDMyKS51aW50MzIoZS5zZXNzaW9uX2lkKSxudWxsIT1lLnZpZGVvX3dpZHRoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmlkZW9fd2lkdGhcIikmJnQudWludDMyKDQwKS51aW50MzIoZS52aWRlb193aWR0aCksbnVsbCE9ZS52aWRlb19oZWlnaHQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19oZWlnaHRcIikmJnQudWludDMyKDQ4KS51aW50MzIoZS52aWRlb19oZWlnaHQpLG51bGwhPWUuaXB2NCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlwdjRcIikmJnQudWludDMyKDU2KS51aW50MzIoZS5pcHY0KSxudWxsIT1lLmlwdjYmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpcHY2XCIpJiZ0LnVpbnQzMig2Nikuc3RyaW5nKGUuaXB2NiksbnVsbCE9ZS5yZXNvdXJjZV90eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzb3VyY2VfdHlwZVwiKSYmdC51aW50MzIoNzIpLnVpbnQzMihlLnJlc291cmNlX3R5cGUpLG51bGwhPWUuaW5mb3MmJmUuaW5mb3MubGVuZ3RoKWZvcih2YXIgcj0wO3I8ZS5pbmZvcy5sZW5ndGg7KytyKWEubG9ncmVwb3J0LlB1Ymxpc2hRdWFsaXR5SW5mby5lbmNvZGUoZS5pbmZvc1tyXSx0LnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5yb29tX2lkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicm9vbV9pZFwiKSYmdC51aW50MzIoOTApLnN0cmluZyhlLnJvb21faWQpLG51bGwhPWUuZXZudmlyb25tZW50JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXZudmlyb25tZW50XCIpJiZ0LnVpbnQzMigxMDQpLnVpbnQzMihlLmV2bnZpcm9ubWVudCksbnVsbCE9ZS5hcCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFwXCIpJiZ0LnVpbnQzMigxMTQpLnN0cmluZyhlLmFwKSxudWxsIT1lLnNlc3Npb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZXNzaW9uXCIpJiZ0LnVpbnQzMigxMjIpLnN0cmluZyhlLnNlc3Npb24pLG51bGwhPWUucm9vbV9zZXNzaW9uX2lkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicm9vbV9zZXNzaW9uX2lkXCIpJiZ0LnVpbnQzMigxMjgpLnVpbnQ2NChlLnJvb21fc2Vzc2lvbl9pZCksbnVsbCE9ZS5wcm90b2NvbF90eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHJvdG9jb2xfdHlwZVwiKSYmdC51aW50MzIoMTM2KS51aW50MzIoZS5wcm90b2NvbF90eXBlKSx0fSxlfSgpLGkuUGxheVF1YWxpdHlJbmZvcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYodGhpcy5pbmZvcz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnRpbWVzdGFtcF9vZmZzZXRfYmVnaW49MCxlLnByb3RvdHlwZS50aW1lc3RhbXBfb2Zmc2V0X2VuZD0wLGUucHJvdG90eXBlLnN0cmVhbV9pZD1cIlwiLGUucHJvdG90eXBlLnNlc3Npb25faWQ9MCxlLnByb3RvdHlwZS52aWRlb193aWR0aD0wLGUucHJvdG90eXBlLnZpZGVvX2hlaWdodD0wLGUucHJvdG90eXBlLmlwdjQ9MCxlLnByb3RvdHlwZS5pcHY2PVwiXCIsZS5wcm90b3R5cGUucmVzb3VyY2VfdHlwZT0wLGUucHJvdG90eXBlLmluZm9zPXMuZW1wdHlBcnJheSxlLnByb3RvdHlwZS5yb29tX2lkPVwiXCIsZS5wcm90b3R5cGUuc2Vzc2lvbj1cIlwiLGUucHJvdG90eXBlLnJvb21fc2Vzc2lvbl9pZD1zLkxvbmc/cy5Mb25nLmZyb21CaXRzKDAsMCwhMCk6MCxlLnByb3RvdHlwZS5wcm90b2NvbF90eXBlPTAsZS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHR8fCh0PW4uY3JlYXRlKCkpLG51bGwhPWUudGltZXN0YW1wX29mZnNldF9iZWdpbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInRpbWVzdGFtcF9vZmZzZXRfYmVnaW5cIikmJnQudWludDMyKDgpLnVpbnQzMihlLnRpbWVzdGFtcF9vZmZzZXRfYmVnaW4pLG51bGwhPWUudGltZXN0YW1wX29mZnNldF9lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0aW1lc3RhbXBfb2Zmc2V0X2VuZFwiKSYmdC51aW50MzIoMTYpLnVpbnQzMihlLnRpbWVzdGFtcF9vZmZzZXRfZW5kKSxudWxsIT1lLnN0cmVhbV9pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0cmVhbV9pZFwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLnN0cmVhbV9pZCksbnVsbCE9ZS5zZXNzaW9uX2lkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2Vzc2lvbl9pZFwiKSYmdC51aW50MzIoMzIpLnVpbnQzMihlLnNlc3Npb25faWQpLG51bGwhPWUudmlkZW9fd2lkdGgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb193aWR0aFwiKSYmdC51aW50MzIoNDApLnVpbnQzMihlLnZpZGVvX3dpZHRoKSxudWxsIT1lLnZpZGVvX2hlaWdodCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInZpZGVvX2hlaWdodFwiKSYmdC51aW50MzIoNDgpLnVpbnQzMihlLnZpZGVvX2hlaWdodCksbnVsbCE9ZS5pcHY0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaXB2NFwiKSYmdC51aW50MzIoNTYpLnVpbnQzMihlLmlwdjQpLG51bGwhPWUuaXB2NiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlwdjZcIikmJnQudWludDMyKDY2KS5zdHJpbmcoZS5pcHY2KSxudWxsIT1lLnJlc291cmNlX3R5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyZXNvdXJjZV90eXBlXCIpJiZ0LnVpbnQzMig3MikudWludDMyKGUucmVzb3VyY2VfdHlwZSksbnVsbCE9ZS5pbmZvcyYmZS5pbmZvcy5sZW5ndGgpZm9yKHZhciByPTA7cjxlLmluZm9zLmxlbmd0aDsrK3IpYS5sb2dyZXBvcnQuUGxheVF1YWxpdHlJbmZvLmVuY29kZShlLmluZm9zW3JdLHQudWludDMyKDgyKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLnJvb21faWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyb29tX2lkXCIpJiZ0LnVpbnQzMig5MCkuc3RyaW5nKGUucm9vbV9pZCksbnVsbCE9ZS5zZXNzaW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2Vzc2lvblwiKSYmdC51aW50MzIoMTA2KS5zdHJpbmcoZS5zZXNzaW9uKSxudWxsIT1lLnJvb21fc2Vzc2lvbl9pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJvb21fc2Vzc2lvbl9pZFwiKSYmdC51aW50MzIoMTEyKS51aW50NjQoZS5yb29tX3Nlc3Npb25faWQpLG51bGwhPWUucHJvdG9jb2xfdHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInByb3RvY29sX3R5cGVcIikmJnQudWludDMyKDEyMCkudWludDMyKGUucHJvdG9jb2xfdHlwZSksdH0sZX0oKSxpLkNoYXJnZUluZm9zPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZih0aGlzLmluZm9zPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLHI9MDtyPHQubGVuZ3RoOysrciludWxsIT1lW3Rbcl1dJiYodGhpc1t0W3JdXT1lW3Rbcl1dKX1yZXR1cm4gZS5wcm90b3R5cGUudGltZXN0YW1wX29mZnNldF9iZWdpbj0wLGUucHJvdG90eXBlLnRpbWVzdGFtcF9vZmZzZXRfZW5kPTAsZS5wcm90b3R5cGUudGltZXN0YW1wX2RpZmZfZmxhZz0wLGUucHJvdG90eXBlLnRpbWVzdGFtcF9kaWZmPTAsZS5wcm90b3R5cGUucm9vbV9pZD1cIlwiLGUucHJvdG90eXBlLmluZm9zPXMuZW1wdHlBcnJheSxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9bi5jcmVhdGUoKSksbnVsbCE9ZS50aW1lc3RhbXBfb2Zmc2V0X2JlZ2luJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidGltZXN0YW1wX29mZnNldF9iZWdpblwiKSYmdC51aW50MzIoOCkudWludDMyKGUudGltZXN0YW1wX29mZnNldF9iZWdpbiksbnVsbCE9ZS50aW1lc3RhbXBfb2Zmc2V0X2VuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInRpbWVzdGFtcF9vZmZzZXRfZW5kXCIpJiZ0LnVpbnQzMigxNikudWludDMyKGUudGltZXN0YW1wX29mZnNldF9lbmQpLG51bGwhPWUudGltZXN0YW1wX2RpZmZfZmxhZyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInRpbWVzdGFtcF9kaWZmX2ZsYWdcIikmJnQudWludDMyKDI0KS51aW50MzIoZS50aW1lc3RhbXBfZGlmZl9mbGFnKSxudWxsIT1lLnRpbWVzdGFtcF9kaWZmJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidGltZXN0YW1wX2RpZmZcIikmJnQudWludDMyKDMyKS51aW50MzIoZS50aW1lc3RhbXBfZGlmZiksbnVsbCE9ZS5yb29tX2lkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicm9vbV9pZFwiKSYmdC51aW50MzIoNDIpLnN0cmluZyhlLnJvb21faWQpLG51bGwhPWUuaW5mb3MmJmUuaW5mb3MubGVuZ3RoKWZvcih2YXIgcj0wO3I8ZS5pbmZvcy5sZW5ndGg7KytyKWEubG9ncmVwb3J0LkNoYXJnZUluZm8uZW5jb2RlKGUuaW5mb3Nbcl0sdC51aW50MzIoODAyKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxlfSgpLGkuSGFyZHdhcmVJbmZvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnN5c19jcHVfdXNlZD0wLGUucHJvdG90eXBlLmFwcF9jcHVfdXNlZD0wLGUucHJvdG90eXBlLnN5c19tZW1fdXNlZD0wLGUucHJvdG90eXBlLmFwcF9tZW1fdXNlZD0wLGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9bi5jcmVhdGUoKSksbnVsbCE9ZS5zeXNfY3B1X3VzZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzeXNfY3B1X3VzZWRcIikmJnQudWludDMyKDgpLnVpbnQzMihlLnN5c19jcHVfdXNlZCksbnVsbCE9ZS5hcHBfY3B1X3VzZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhcHBfY3B1X3VzZWRcIikmJnQudWludDMyKDE2KS51aW50MzIoZS5hcHBfY3B1X3VzZWQpLG51bGwhPWUuc3lzX21lbV91c2VkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3lzX21lbV91c2VkXCIpJiZ0LnVpbnQzMigyNCkudWludDMyKGUuc3lzX21lbV91c2VkKSxudWxsIT1lLmFwcF9tZW1fdXNlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFwcF9tZW1fdXNlZFwiKSYmdC51aW50MzIoMzIpLnVpbnQzMihlLmFwcF9tZW1fdXNlZCksdH0sZX0oKSxpLlB1Ymxpc2hRdWFsaXR5SW5mbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS5hdWRpb19iaXRyYXRlPTAsZS5wcm90b3R5cGUudmlkZW9fYml0cmF0ZT0wLGUucHJvdG90eXBlLnZpZGVvX2NhcHR1cmVfZnBzPTAsZS5wcm90b3R5cGUudmlkZW9fbmV0d29ya19mcHM9MCxlLnByb3RvdHlwZS51cGxpbmtfcGxyPTAsZS5wcm90b3R5cGUucnR0PTAsZS5wcm90b3R5cGUuYXVkaW9fbmV0d29ya19mcHM9MCxlLnByb3RvdHlwZS5jYXB0dXJlZF9zb3VuZF9sZXZlbD0wLGUucHJvdG90eXBlLnNhbXBsZV90aW1lX3dpbmRvdz0wLGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9bi5jcmVhdGUoKSksbnVsbCE9ZS5hdWRpb19iaXRyYXRlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYXVkaW9fYml0cmF0ZVwiKSYmdC51aW50MzIoOCkudWludDMyKGUuYXVkaW9fYml0cmF0ZSksbnVsbCE9ZS52aWRlb19iaXRyYXRlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmlkZW9fYml0cmF0ZVwiKSYmdC51aW50MzIoMTYpLnVpbnQzMihlLnZpZGVvX2JpdHJhdGUpLG51bGwhPWUudmlkZW9fY2FwdHVyZV9mcHMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19jYXB0dXJlX2Zwc1wiKSYmdC51aW50MzIoMjQpLnVpbnQzMihlLnZpZGVvX2NhcHR1cmVfZnBzKSxudWxsIT1lLnZpZGVvX25ldHdvcmtfZnBzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmlkZW9fbmV0d29ya19mcHNcIikmJnQudWludDMyKDMyKS51aW50MzIoZS52aWRlb19uZXR3b3JrX2ZwcyksbnVsbCE9ZS51cGxpbmtfcGxyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidXBsaW5rX3BsclwiKSYmdC51aW50MzIoNDApLnVpbnQzMihlLnVwbGlua19wbHIpLG51bGwhPWUucnR0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicnR0XCIpJiZ0LnVpbnQzMig0OCkudWludDMyKGUucnR0KSxudWxsIT1lLmF1ZGlvX25ldHdvcmtfZnBzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYXVkaW9fbmV0d29ya19mcHNcIikmJnQudWludDMyKDU2KS51aW50MzIoZS5hdWRpb19uZXR3b3JrX2ZwcyksbnVsbCE9ZS5jYXB0dXJlZF9zb3VuZF9sZXZlbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNhcHR1cmVkX3NvdW5kX2xldmVsXCIpJiZ0LnVpbnQzMig2NCkudWludDMyKGUuY2FwdHVyZWRfc291bmRfbGV2ZWwpLG51bGwhPWUuc2FtcGxlX3RpbWVfd2luZG93JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2FtcGxlX3RpbWVfd2luZG93XCIpJiZ0LnVpbnQzMig4MDApLnVpbnQzMihlLnNhbXBsZV90aW1lX3dpbmRvdyksdH0sZX0oKSxpLlBsYXlRdWFsaXR5SW5mbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS5hdWRpb19iaXRyYXRlPTAsZS5wcm90b3R5cGUudmlkZW9fYml0cmF0ZT0wLGUucHJvdG90eXBlLnZpZGVvX25ldHdvcmtfZnBzPTAsZS5wcm90b3R5cGUuYXVkaW9fYnJlYWtfY291bnQ9MCxlLnByb3RvdHlwZS52aWRlb19icmVha19jb3VudD0wLGUucHJvdG90eXBlLmRvd25saW5rX3Bscj0wLGUucHJvdG90eXBlLnBlZXJfdG9fcGVlcl9wbHI9MCxlLnByb3RvdHlwZS5wZWVyX3RvX3BlZXJfZGVsYXk9MCxlLnByb3RvdHlwZS5hdWRpb19uZXR3b3JrX2Zwcz0wLGUucHJvdG90eXBlLmF1ZGlvX2JyZWFrX2R1cmF0aW9uPTAsZS5wcm90b3R5cGUudmlkZW9fYnJlYWtfZHVyYXRpb249MCxlLnByb3RvdHlwZS5hdWRpb19icmVha19yYXRlPTAsZS5wcm90b3R5cGUudmlkZW9fYnJlYWtfcmF0ZT0wLGUucHJvdG90eXBlLmF1ZGlvX2JyZWFrX2NhbmNlbD0wLGUucHJvdG90eXBlLnZpZGVvX2JyZWFrX2NhbmNlbD0wLGUucHJvdG90eXBlLnJ0dD0wLGUucHJvdG90eXBlLnJlbmRlcmVkX3NvdW5kX2xldmVsPTAsZS5wcm90b3R5cGUuYXVkaW9fYnJlYWtfY2FuY2VsX2R1cmF0aW9uPTAsZS5wcm90b3R5cGUudmlkZW9fYnJlYWtfY2FuY2VsX2R1cmF0aW9uPTAsZS5wcm90b3R5cGUuYXVkaW9fZGVjb2RlX3RpbWU9MCxlLnByb3RvdHlwZS52aWRlb19kZWNvZGVfdGltZT0wLGUucHJvdG90eXBlLnJlYWxfc2FtcGxpbmdfaW50ZXJ2YWw9MCxlLnByb3RvdHlwZS5tb3M9MCxlLnByb3RvdHlwZS5hdWRpb19kZWNvZGVfZnBzPTAsZS5wcm90b3R5cGUudmlkZW9fZGVjb2RlX2Zwcz0wLGUucHJvdG90eXBlLnZpZGVvX2ZyYW1lc19kZWNvZGVkPTAsZS5wcm90b3R5cGUudmlkZW9fZnJhbWVzX2Ryb3BwZWQ9MCxlLnByb3RvdHlwZS5zYW1wbGVfdGltZV93aW5kb3c9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PW4uY3JlYXRlKCkpLG51bGwhPWUuYXVkaW9fYml0cmF0ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImF1ZGlvX2JpdHJhdGVcIikmJnQudWludDMyKDgpLnVpbnQzMihlLmF1ZGlvX2JpdHJhdGUpLG51bGwhPWUudmlkZW9fYml0cmF0ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInZpZGVvX2JpdHJhdGVcIikmJnQudWludDMyKDE2KS51aW50MzIoZS52aWRlb19iaXRyYXRlKSxudWxsIT1lLnZpZGVvX25ldHdvcmtfZnBzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmlkZW9fbmV0d29ya19mcHNcIikmJnQudWludDMyKDI0KS51aW50MzIoZS52aWRlb19uZXR3b3JrX2ZwcyksbnVsbCE9ZS5hdWRpb19icmVha19jb3VudCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImF1ZGlvX2JyZWFrX2NvdW50XCIpJiZ0LnVpbnQzMigzMikudWludDMyKGUuYXVkaW9fYnJlYWtfY291bnQpLG51bGwhPWUudmlkZW9fYnJlYWtfY291bnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19icmVha19jb3VudFwiKSYmdC51aW50MzIoNDApLnVpbnQzMihlLnZpZGVvX2JyZWFrX2NvdW50KSxudWxsIT1lLmRvd25saW5rX3BsciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRvd25saW5rX3BsclwiKSYmdC51aW50MzIoNDgpLnVpbnQzMihlLmRvd25saW5rX3BsciksbnVsbCE9ZS5wZWVyX3RvX3BlZXJfcGxyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGVlcl90b19wZWVyX3BsclwiKSYmdC51aW50MzIoNTYpLnVpbnQzMihlLnBlZXJfdG9fcGVlcl9wbHIpLG51bGwhPWUucGVlcl90b19wZWVyX2RlbGF5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGVlcl90b19wZWVyX2RlbGF5XCIpJiZ0LnVpbnQzMig2NCkudWludDMyKGUucGVlcl90b19wZWVyX2RlbGF5KSxudWxsIT1lLmF1ZGlvX25ldHdvcmtfZnBzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYXVkaW9fbmV0d29ya19mcHNcIikmJnQudWludDMyKDcyKS51aW50MzIoZS5hdWRpb19uZXR3b3JrX2ZwcyksbnVsbCE9ZS5hdWRpb19icmVha19kdXJhdGlvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImF1ZGlvX2JyZWFrX2R1cmF0aW9uXCIpJiZ0LnVpbnQzMig4MCkudWludDMyKGUuYXVkaW9fYnJlYWtfZHVyYXRpb24pLG51bGwhPWUudmlkZW9fYnJlYWtfZHVyYXRpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19icmVha19kdXJhdGlvblwiKSYmdC51aW50MzIoODgpLnVpbnQzMihlLnZpZGVvX2JyZWFrX2R1cmF0aW9uKSxudWxsIT1lLmF1ZGlvX2JyZWFrX3JhdGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhdWRpb19icmVha19yYXRlXCIpJiZ0LnVpbnQzMig5NikudWludDMyKGUuYXVkaW9fYnJlYWtfcmF0ZSksbnVsbCE9ZS52aWRlb19icmVha19yYXRlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmlkZW9fYnJlYWtfcmF0ZVwiKSYmdC51aW50MzIoMTA0KS51aW50MzIoZS52aWRlb19icmVha19yYXRlKSxudWxsIT1lLmF1ZGlvX2JyZWFrX2NhbmNlbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImF1ZGlvX2JyZWFrX2NhbmNlbFwiKSYmdC51aW50MzIoMTEyKS51aW50MzIoZS5hdWRpb19icmVha19jYW5jZWwpLG51bGwhPWUudmlkZW9fYnJlYWtfY2FuY2VsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmlkZW9fYnJlYWtfY2FuY2VsXCIpJiZ0LnVpbnQzMigxMjApLnVpbnQzMihlLnZpZGVvX2JyZWFrX2NhbmNlbCksbnVsbCE9ZS5ydHQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJydHRcIikmJnQudWludDMyKDEyOCkudWludDMyKGUucnR0KSxudWxsIT1lLnJlbmRlcmVkX3NvdW5kX2xldmVsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVuZGVyZWRfc291bmRfbGV2ZWxcIikmJnQudWludDMyKDEzNikudWludDMyKGUucmVuZGVyZWRfc291bmRfbGV2ZWwpLG51bGwhPWUuYXVkaW9fYnJlYWtfY2FuY2VsX2R1cmF0aW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYXVkaW9fYnJlYWtfY2FuY2VsX2R1cmF0aW9uXCIpJiZ0LnVpbnQzMigxNDQpLnVpbnQzMihlLmF1ZGlvX2JyZWFrX2NhbmNlbF9kdXJhdGlvbiksbnVsbCE9ZS52aWRlb19icmVha19jYW5jZWxfZHVyYXRpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19icmVha19jYW5jZWxfZHVyYXRpb25cIikmJnQudWludDMyKDE1MikudWludDMyKGUudmlkZW9fYnJlYWtfY2FuY2VsX2R1cmF0aW9uKSxudWxsIT1lLmF1ZGlvX2RlY29kZV90aW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYXVkaW9fZGVjb2RlX3RpbWVcIikmJnQudWludDMyKDE2MCkudWludDMyKGUuYXVkaW9fZGVjb2RlX3RpbWUpLG51bGwhPWUudmlkZW9fZGVjb2RlX3RpbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19kZWNvZGVfdGltZVwiKSYmdC51aW50MzIoMTY4KS51aW50MzIoZS52aWRlb19kZWNvZGVfdGltZSksbnVsbCE9ZS5yZWFsX3NhbXBsaW5nX2ludGVydmFsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVhbF9zYW1wbGluZ19pbnRlcnZhbFwiKSYmdC51aW50MzIoMTc2KS51aW50MzIoZS5yZWFsX3NhbXBsaW5nX2ludGVydmFsKSxudWxsIT1lLm1vcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1vc1wiKSYmdC51aW50MzIoMTg0KS5pbnQzMihlLm1vcyksbnVsbCE9ZS5hdWRpb19kZWNvZGVfZnBzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYXVkaW9fZGVjb2RlX2Zwc1wiKSYmdC51aW50MzIoMTkyKS51aW50MzIoZS5hdWRpb19kZWNvZGVfZnBzKSxudWxsIT1lLnZpZGVvX2RlY29kZV9mcHMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19kZWNvZGVfZnBzXCIpJiZ0LnVpbnQzMigyMDApLnVpbnQzMihlLnZpZGVvX2RlY29kZV9mcHMpLG51bGwhPWUudmlkZW9fZnJhbWVzX2RlY29kZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19mcmFtZXNfZGVjb2RlZFwiKSYmdC51aW50MzIoMjA4KS51aW50MzIoZS52aWRlb19mcmFtZXNfZGVjb2RlZCksbnVsbCE9ZS52aWRlb19mcmFtZXNfZHJvcHBlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInZpZGVvX2ZyYW1lc19kcm9wcGVkXCIpJiZ0LnVpbnQzMigyMTYpLnVpbnQzMihlLnZpZGVvX2ZyYW1lc19kcm9wcGVkKSxudWxsIT1lLnNhbXBsZV90aW1lX3dpbmRvdyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNhbXBsZV90aW1lX3dpbmRvd1wiKSYmdC51aW50MzIoODAwKS51aW50MzIoZS5zYW1wbGVfdGltZV93aW5kb3cpLHR9LGV9KCksaS5DaGFyZ2VJbmZvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZih0aGlzLnBsYXlfc3RyZWFtX3Jlc29sdXRpb25faW5mb3M9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS5pc19wdWJsaXNoaW5nPTAsZS5wcm90b3R5cGUucGxheV9zdHJlYW1fcmVzb2x1dGlvbl9pbmZvcz1zLmVtcHR5QXJyYXksZS5wcm90b3R5cGUucGxheV9tYXhfYXVkaW9fYml0cmF0ZT0wLGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0fHwodD1uLmNyZWF0ZSgpKSxudWxsIT1lLmlzX3B1Ymxpc2hpbmcmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpc19wdWJsaXNoaW5nXCIpJiZ0LnVpbnQzMig4KS51aW50MzIoZS5pc19wdWJsaXNoaW5nKSxudWxsIT1lLnBsYXlfc3RyZWFtX3Jlc29sdXRpb25faW5mb3MmJmUucGxheV9zdHJlYW1fcmVzb2x1dGlvbl9pbmZvcy5sZW5ndGgpZm9yKHZhciByPTA7cjxlLnBsYXlfc3RyZWFtX3Jlc29sdXRpb25faW5mb3MubGVuZ3RoOysrcilhLmxvZ3JlcG9ydC5SZXNvbHV0aW9uSW5mby5lbmNvZGUoZS5wbGF5X3N0cmVhbV9yZXNvbHV0aW9uX2luZm9zW3JdLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLnBsYXlfbWF4X2F1ZGlvX2JpdHJhdGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwbGF5X21heF9hdWRpb19iaXRyYXRlXCIpJiZ0LnVpbnQzMigyNCkudWludDMyKGUucGxheV9tYXhfYXVkaW9fYml0cmF0ZSksdH0sZX0oKSxpLlJlc29sdXRpb25JbmZvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnZpZGVvX3dpZHRoPTAsZS5wcm90b3R5cGUudmlkZW9faGVpZ2h0PTAsZS5wcm90b3R5cGUuY291bnQ9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PW4uY3JlYXRlKCkpLG51bGwhPWUudmlkZW9fd2lkdGgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb193aWR0aFwiKSYmdC51aW50MzIoOCkudWludDMyKGUudmlkZW9fd2lkdGgpLG51bGwhPWUudmlkZW9faGVpZ2h0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmlkZW9faGVpZ2h0XCIpJiZ0LnVpbnQzMigxNikudWludDMyKGUudmlkZW9faGVpZ2h0KSxudWxsIT1lLmNvdW50JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY291bnRcIikmJnQudWludDMyKDI0KS51aW50MzIoZS5jb3VudCksdH0sZX0oKSxpLk5vQmlsbGluZ0V2ZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnBsYXRmb3JtX2luZm89XCJcIixlLnByb3RvdHlwZS5yb29tX2lkPVwiXCIsZS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD1uLmNyZWF0ZSgpKSxudWxsIT1lLnBsYXRmb3JtX2luZm8mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwbGF0Zm9ybV9pbmZvXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUucGxhdGZvcm1faW5mbyksbnVsbCE9ZS5yb29tX2lkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicm9vbV9pZFwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnJvb21faWQpLHR9LGV9KCksaS5EeW5RdWFsaXR5RXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKHRoaXMuZHluX3F1YWxpdHlfaW5mb3M9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS5zZXFfbm89XCJcIixlLnByb3RvdHlwZS5udW09MCxlLnByb3RvdHlwZS5keW5fcXVhbGl0eV9pbmZvcz1zLmVtcHR5QXJyYXksZS5wcm90b3R5cGUuZGV2aWNlX2lkPVwiXCIsZS5wcm90b3R5cGUubGF0aXR1ZGU9MCxlLnByb3RvdHlwZS5sb25naXR1ZGU9MCxlLnByb3RvdHlwZS5jb3VudHJ5PVwiXCIsZS5wcm90b3R5cGUucmVnaW9uPVwiXCIsZS5wcm90b3R5cGUuY2l0eT1cIlwiLGUucHJvdG90eXBlLmlzcD1cIlwiLGUucHJvdG90eXBlLnZlX21vZGU9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9bi5jcmVhdGUoKSksbnVsbCE9ZS5zZXFfbm8mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZXFfbm9cIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5zZXFfbm8pLG51bGwhPWUubnVtJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibnVtXCIpJiZ0LnVpbnQzMigxNikudWludDMyKGUubnVtKSxudWxsIT1lLmR5bl9xdWFsaXR5X2luZm9zJiZlLmR5bl9xdWFsaXR5X2luZm9zLmxlbmd0aClmb3IodmFyIHI9MDtyPGUuZHluX3F1YWxpdHlfaW5mb3MubGVuZ3RoOysrcilhLmxvZ3JlcG9ydC5EeW5RdWFsaXR5SW5mb3MuZW5jb2RlKGUuZHluX3F1YWxpdHlfaW5mb3Nbcl0sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUuZGV2aWNlX2lkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGV2aWNlX2lkXCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUuZGV2aWNlX2lkKSxudWxsIT1lLmxhdGl0dWRlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGF0aXR1ZGVcIikmJnQudWludDMyKDQwKS51aW50MzIoZS5sYXRpdHVkZSksbnVsbCE9ZS5sb25naXR1ZGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsb25naXR1ZGVcIikmJnQudWludDMyKDQ4KS51aW50MzIoZS5sb25naXR1ZGUpLG51bGwhPWUuY291bnRyeSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNvdW50cnlcIikmJnQudWludDMyKDU4KS5zdHJpbmcoZS5jb3VudHJ5KSxudWxsIT1lLnJlZ2lvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlZ2lvblwiKSYmdC51aW50MzIoNjYpLnN0cmluZyhlLnJlZ2lvbiksbnVsbCE9ZS5jaXR5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2l0eVwiKSYmdC51aW50MzIoNzQpLnN0cmluZyhlLmNpdHkpLG51bGwhPWUuaXNwJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaXNwXCIpJiZ0LnVpbnQzMig4Mikuc3RyaW5nKGUuaXNwKSxudWxsIT1lLnZlX21vZGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2ZV9tb2RlXCIpJiZ0LnVpbnQzMig4OCkudWludDMyKGUudmVfbW9kZSksdH0sZX0oKSxpLkR5blF1YWxpdHlJbmZvcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYodGhpcy5pbmZvcz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnRpbWVzdGFtcF9vZmZzZXRfYmVnaW49cy5Mb25nP3MuTG9uZy5mcm9tQml0cygwLDAsITApOjAsZS5wcm90b3R5cGUudGltZXN0YW1wX29mZnNldF9lbmQ9cy5Mb25nP3MuTG9uZy5mcm9tQml0cygwLDAsITApOjAsZS5wcm90b3R5cGUuc2VydmVyX2lwPVwiXCIsZS5wcm90b3R5cGUuaW5mb3M9cy5lbXB0eUFycmF5LGUucHJvdG90eXBlLm5ldHdvcmtfdHlwZT0wLGUucHJvdG90eXBlLnN0cmVhbV9pZD1cIlwiLGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0fHwodD1uLmNyZWF0ZSgpKSxudWxsIT1lLnRpbWVzdGFtcF9vZmZzZXRfYmVnaW4mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0aW1lc3RhbXBfb2Zmc2V0X2JlZ2luXCIpJiZ0LnVpbnQzMig4KS51aW50NjQoZS50aW1lc3RhbXBfb2Zmc2V0X2JlZ2luKSxudWxsIT1lLnRpbWVzdGFtcF9vZmZzZXRfZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidGltZXN0YW1wX29mZnNldF9lbmRcIikmJnQudWludDMyKDE2KS51aW50NjQoZS50aW1lc3RhbXBfb2Zmc2V0X2VuZCksbnVsbCE9ZS5zZXJ2ZXJfaXAmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZXJ2ZXJfaXBcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5zZXJ2ZXJfaXApLG51bGwhPWUuaW5mb3MmJmUuaW5mb3MubGVuZ3RoKWZvcih2YXIgcj0wO3I8ZS5pbmZvcy5sZW5ndGg7KytyKWEubG9ncmVwb3J0LkR5blF1YWxpdHlJbmZvLmVuY29kZShlLmluZm9zW3JdLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLm5ldHdvcmtfdHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5ldHdvcmtfdHlwZVwiKSYmdC51aW50MzIoNDApLnVpbnQzMihlLm5ldHdvcmtfdHlwZSksbnVsbCE9ZS5zdHJlYW1faWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdHJlYW1faWRcIikmJnQudWludDMyKDUwKS5zdHJpbmcoZS5zdHJlYW1faWQpLHR9LGV9KCksaS5EeW5RdWFsaXR5SW5mbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS50aW1lPXMuTG9uZz9zLkxvbmcuZnJvbUJpdHMoMCwwLCEwKTowLGUucHJvdG90eXBlLnBscj0wLGUucHJvdG90eXBlLnJ0dD0wLGUucHJvdG90eXBlLnNjb3JlPTAsZS5wcm90b3R5cGUuc2FtcGxlX3RpbWU9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PW4uY3JlYXRlKCkpLG51bGwhPWUudGltZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInRpbWVcIikmJnQudWludDMyKDgpLnVpbnQ2NChlLnRpbWUpLG51bGwhPWUucGxyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGxyXCIpJiZ0LnVpbnQzMigxNikudWludDMyKGUucGxyKSxudWxsIT1lLnJ0dCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJ0dFwiKSYmdC51aW50MzIoMjQpLnVpbnQzMihlLnJ0dCksbnVsbCE9ZS5zY29yZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNjb3JlXCIpJiZ0LnVpbnQzMigzMikudWludDMyKGUuc2NvcmUpLG51bGwhPWUuc2FtcGxlX3RpbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzYW1wbGVfdGltZVwiKSYmdC51aW50MzIoNDApLnVpbnQzMihlLnNhbXBsZV90aW1lKSx0fSxlfSgpLGkpLGUuZXhwb3J0cz1hfSw2MzQ4OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxvPXIoNDc5OSksbj1vLlJlYWRlcixzPW8uV3JpdGVyLGE9by51dGlsLGM9by5yb290cy5kZWZhdWx0fHwoby5yb290cy5kZWZhdWx0PXt9KTtjLndlYnJ0Y19jbWQ9KChpPXt9KS5NZXRhZGF0YVB1c2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLHI9MDtyPHQubGVuZ3RoOysrciludWxsIT1lW3Rbcl1dJiYodGhpc1t0W3JdXT1lW3Rbcl1dKX1yZXR1cm4gZS5wcm90b3R5cGUud2lkdGg9MCxlLnByb3RvdHlwZS5oZWlnaHQ9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUud2lkdGgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ3aWR0aFwiKSYmdC51aW50MzIoOCkudWludDMyKGUud2lkdGgpLG51bGwhPWUuaGVpZ2h0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaGVpZ2h0XCIpJiZ0LnVpbnQzMigxNikudWludDMyKGUuaGVpZ2h0KSx0fSxlLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBufHwoZT1uLmNyZWF0ZShlKSk7Zm9yKHZhciByPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxpPW5ldyBjLndlYnJ0Y19jbWQuTWV0YWRhdGFQdXNoO2UucG9zPHI7KXt2YXIgbz1lLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmkud2lkdGg9ZS51aW50MzIoKTticmVhaztjYXNlIDI6aS5oZWlnaHQ9ZS51aW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGl9LGV9KCksaS5NZXRhZGF0YUFjaz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS5yZXN1bHQ9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUucmVzdWx0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzdWx0XCIpJiZ0LnVpbnQzMig4KS5zaW50MzIoZS5yZXN1bHQpLHR9LGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIG58fChlPW4uY3JlYXRlKGUpKTtmb3IodmFyIHI9dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LGk9bmV3IGMud2VicnRjX2NtZC5NZXRhZGF0YUFjaztlLnBvczxyOyl7dmFyIG89ZS51aW50MzIoKTtvPj4+Mz09MT9pLnJlc3VsdD1lLnNpbnQzMigpOmUuc2tpcFR5cGUoNyZvKX1yZXR1cm4gaX0sZX0oKSxpLlZpZGVvU3RyZWFtU3Vic2NyaWJlUmVxPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnR5cGU9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUudHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInR5cGVcIikmJnQudWludDMyKDgpLnVpbnQzMihlLnR5cGUpLHR9LGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIG58fChlPW4uY3JlYXRlKGUpKTtmb3IodmFyIHI9dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LGk9bmV3IGMud2VicnRjX2NtZC5WaWRlb1N0cmVhbVN1YnNjcmliZVJlcTtlLnBvczxyOyl7dmFyIG89ZS51aW50MzIoKTtvPj4+Mz09MT9pLnR5cGU9ZS51aW50MzIoKTplLnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGV9KCksaS5WaWRlb1N0cmVhbVN1YnNjcmliZVJzcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS5yZXN1bHQ9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUucmVzdWx0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzdWx0XCIpJiZ0LnVpbnQzMig4KS5zaW50MzIoZS5yZXN1bHQpLHR9LGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIG58fChlPW4uY3JlYXRlKGUpKTtmb3IodmFyIHI9dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LGk9bmV3IGMud2VicnRjX2NtZC5WaWRlb1N0cmVhbVN1YnNjcmliZVJzcDtlLnBvczxyOyl7dmFyIG89ZS51aW50MzIoKTtvPj4+Mz09MT9pLnJlc3VsdD1lLnNpbnQzMigpOmUuc2tpcFR5cGUoNyZvKX1yZXR1cm4gaX0sZX0oKSxpLlZpZGVvU3RyZWFtRmFsbGJhY2tUeXBlUmVxPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnR5cGU9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUudHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInR5cGVcIikmJnQudWludDMyKDgpLnVpbnQzMihlLnR5cGUpLHR9LGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIG58fChlPW4uY3JlYXRlKGUpKTtmb3IodmFyIHI9dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LGk9bmV3IGMud2VicnRjX2NtZC5WaWRlb1N0cmVhbUZhbGxiYWNrVHlwZVJlcTtlLnBvczxyOyl7dmFyIG89ZS51aW50MzIoKTtvPj4+Mz09MT9pLnR5cGU9ZS51aW50MzIoKTplLnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGV9KCksaS5WaWRlb1N0cmVhbUZhbGxiYWNrVHlwZVJzcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS5yZXN1bHQ9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUucmVzdWx0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzdWx0XCIpJiZ0LnVpbnQzMig4KS5zaW50MzIoZS5yZXN1bHQpLHR9LGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIG58fChlPW4uY3JlYXRlKGUpKTtmb3IodmFyIHI9dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LGk9bmV3IGMud2VicnRjX2NtZC5WaWRlb1N0cmVhbUZhbGxiYWNrVHlwZVJzcDtlLnBvczxyOyl7dmFyIG89ZS51aW50MzIoKTtvPj4+Mz09MT9pLnJlc3VsdD1lLnNpbnQzMigpOmUuc2tpcFR5cGUoNyZvKX1yZXR1cm4gaX0sZX0oKSxpLlZpZGVvU3RyZWFtQ2hhbmdlUHVzaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXJldHVybiBlLnByb3RvdHlwZS5jaGFuZ2VfdHlwZT0wLGUucHJvdG90eXBlLnZpZGVvX3R5cGU9MCxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUuY2hhbmdlX3R5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjaGFuZ2VfdHlwZVwiKSYmdC51aW50MzIoOCkudWludDMyKGUuY2hhbmdlX3R5cGUpLG51bGwhPWUudmlkZW9fdHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInZpZGVvX3R5cGVcIikmJnQudWludDMyKDE2KS51aW50MzIoZS52aWRlb190eXBlKSx0fSxlLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBufHwoZT1uLmNyZWF0ZShlKSk7Zm9yKHZhciByPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxpPW5ldyBjLndlYnJ0Y19jbWQuVmlkZW9TdHJlYW1DaGFuZ2VQdXNoO2UucG9zPHI7KXt2YXIgbz1lLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmkuY2hhbmdlX3R5cGU9ZS51aW50MzIoKTticmVhaztjYXNlIDI6aS52aWRlb190eXBlPWUudWludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmbyl9fXJldHVybiBpfSxlfSgpLGkuVmlkZW9TdHJlYW1DaGFuZ2VBY2s9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLHI9MDtyPHQubGVuZ3RoOysrciludWxsIT1lW3Rbcl1dJiYodGhpc1t0W3JdXT1lW3Rbcl1dKX1yZXR1cm4gZS5wcm90b3R5cGUucmVzdWx0PTAsZS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD1zLmNyZWF0ZSgpKSxudWxsIT1lLnJlc3VsdCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlc3VsdFwiKSYmdC51aW50MzIoOCkuc2ludDMyKGUucmVzdWx0KSx0fSxlLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBufHwoZT1uLmNyZWF0ZShlKSk7Zm9yKHZhciByPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxpPW5ldyBjLndlYnJ0Y19jbWQuVmlkZW9TdHJlYW1DaGFuZ2VBY2s7ZS5wb3M8cjspe3ZhciBvPWUudWludDMyKCk7bz4+PjM9PTE/aS5yZXN1bHQ9ZS5zaW50MzIoKTplLnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGV9KCksaS5Vc2VyVW5yZWdpc3RlcmVkU0VJRmlsdGVyUmVxPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnNlaV9maWx0ZXI9XCJcIixlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUuc2VpX2ZpbHRlciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlaV9maWx0ZXJcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5zZWlfZmlsdGVyKSx0fSxlLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBufHwoZT1uLmNyZWF0ZShlKSk7Zm9yKHZhciByPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxpPW5ldyBjLndlYnJ0Y19jbWQuVXNlclVucmVnaXN0ZXJlZFNFSUZpbHRlclJlcTtlLnBvczxyOyl7dmFyIG89ZS51aW50MzIoKTtvPj4+Mz09MT9pLnNlaV9maWx0ZXI9ZS5zdHJpbmcoKTplLnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGV9KCksaS5Vc2VyVW5yZWdpc3RlcmVkU0VJRmlsdGVyUnNwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPTA7cjx0Lmxlbmd0aDsrK3IpbnVsbCE9ZVt0W3JdXSYmKHRoaXNbdFtyXV09ZVt0W3JdXSl9cmV0dXJuIGUucHJvdG90eXBlLnJlc3VsdD0wLGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9cy5jcmVhdGUoKSksbnVsbCE9ZS5yZXN1bHQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyZXN1bHRcIikmJnQudWludDMyKDgpLnNpbnQzMihlLnJlc3VsdCksdH0sZS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygbnx8KGU9bi5jcmVhdGUoZSkpO2Zvcih2YXIgcj12b2lkIDA9PT10P2UubGVuOmUucG9zK3QsaT1uZXcgYy53ZWJydGNfY21kLlVzZXJVbnJlZ2lzdGVyZWRTRUlGaWx0ZXJSc3A7ZS5wb3M8cjspe3ZhciBvPWUudWludDMyKCk7bz4+PjM9PTE/aS5yZXN1bHQ9ZS5zaW50MzIoKTplLnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGV9KCksaS5XZWJydGNDbWRSZXFNc2c9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLHI9MDtyPHQubGVuZ3RoOysrciludWxsIT1lW3Rbcl1dJiYodGhpc1t0W3JdXT1lW3Rbcl1dKX12YXIgdDtyZXR1cm4gZS5wcm90b3R5cGUubWV0YV9kYXRhX3B1c2g9bnVsbCxlLnByb3RvdHlwZS52aWRlb19zdHJlYW1fc3ViPW51bGwsZS5wcm90b3R5cGUudmlkZW9fZmFsbGJhY2tfdHlwZT1udWxsLGUucHJvdG90eXBlLnZpZGVvX2NoYW5nZV9wdXNoPW51bGwsZS5wcm90b3R5cGUudXNyX3NlaV9maWx0ZXI9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJib2R5XCIse2dldDphLm9uZU9mR2V0dGVyKHQ9W1wibWV0YV9kYXRhX3B1c2hcIixcInZpZGVvX3N0cmVhbV9zdWJcIixcInZpZGVvX2ZhbGxiYWNrX3R5cGVcIixcInZpZGVvX2NoYW5nZV9wdXNoXCIsXCJ1c3Jfc2VpX2ZpbHRlclwiXSksc2V0OmEub25lT2ZTZXR0ZXIodCl9KSxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PXMuY3JlYXRlKCkpLG51bGwhPWUubWV0YV9kYXRhX3B1c2gmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtZXRhX2RhdGFfcHVzaFwiKSYmYy53ZWJydGNfY21kLk1ldGFkYXRhUHVzaC5lbmNvZGUoZS5tZXRhX2RhdGFfcHVzaCx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnZpZGVvX3N0cmVhbV9zdWImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19zdHJlYW1fc3ViXCIpJiZjLndlYnJ0Y19jbWQuVmlkZW9TdHJlYW1TdWJzY3JpYmVSZXEuZW5jb2RlKGUudmlkZW9fc3RyZWFtX3N1Yix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnZpZGVvX2ZhbGxiYWNrX3R5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19mYWxsYmFja190eXBlXCIpJiZjLndlYnJ0Y19jbWQuVmlkZW9TdHJlYW1GYWxsYmFja1R5cGVSZXEuZW5jb2RlKGUudmlkZW9fZmFsbGJhY2tfdHlwZSx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnZpZGVvX2NoYW5nZV9wdXNoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmlkZW9fY2hhbmdlX3B1c2hcIikmJmMud2VicnRjX2NtZC5WaWRlb1N0cmVhbUNoYW5nZVB1c2guZW5jb2RlKGUudmlkZW9fY2hhbmdlX3B1c2gsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS51c3Jfc2VpX2ZpbHRlciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInVzcl9zZWlfZmlsdGVyXCIpJiZjLndlYnJ0Y19jbWQuVXNlclVucmVnaXN0ZXJlZFNFSUZpbHRlclJlcS5lbmNvZGUoZS51c3Jfc2VpX2ZpbHRlcix0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKSx0fSxlLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBufHwoZT1uLmNyZWF0ZShlKSk7Zm9yKHZhciByPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxpPW5ldyBjLndlYnJ0Y19jbWQuV2VicnRjQ21kUmVxTXNnO2UucG9zPHI7KXt2YXIgbz1lLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmkubWV0YV9kYXRhX3B1c2g9Yy53ZWJydGNfY21kLk1ldGFkYXRhUHVzaC5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDI6aS52aWRlb19zdHJlYW1fc3ViPWMud2VicnRjX2NtZC5WaWRlb1N0cmVhbVN1YnNjcmliZVJlcS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDM6aS52aWRlb19mYWxsYmFja190eXBlPWMud2VicnRjX2NtZC5WaWRlb1N0cmVhbUZhbGxiYWNrVHlwZVJlcS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDQ6aS52aWRlb19jaGFuZ2VfcHVzaD1jLndlYnJ0Y19jbWQuVmlkZW9TdHJlYW1DaGFuZ2VQdXNoLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNTppLnVzcl9zZWlfZmlsdGVyPWMud2VicnRjX2NtZC5Vc2VyVW5yZWdpc3RlcmVkU0VJRmlsdGVyUmVxLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gaX0sZX0oKSxpLldlYnJ0Y0NtZFJzcE1zZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSkscj0wO3I8dC5sZW5ndGg7KytyKW51bGwhPWVbdFtyXV0mJih0aGlzW3Rbcl1dPWVbdFtyXV0pfXZhciB0O3JldHVybiBlLnByb3RvdHlwZS5tZXRhX2RhdGFfYWNrPW51bGwsZS5wcm90b3R5cGUudmlkZW9fc3RyZWFtX3N1Yj1udWxsLGUucHJvdG90eXBlLnZpZGVvX2ZhbGxiYWNrX3R5cGU9bnVsbCxlLnByb3RvdHlwZS52aWRlb19jaGFuZ2VfYWNrPW51bGwsZS5wcm90b3R5cGUudXNyX3NlaV9maWx0ZXI9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJib2R5XCIse2dldDphLm9uZU9mR2V0dGVyKHQ9W1wibWV0YV9kYXRhX2Fja1wiLFwidmlkZW9fc3RyZWFtX3N1YlwiLFwidmlkZW9fZmFsbGJhY2tfdHlwZVwiLFwidmlkZW9fY2hhbmdlX2Fja1wiLFwidXNyX3NlaV9maWx0ZXJcIl0pLHNldDphLm9uZU9mU2V0dGVyKHQpfSksZS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD1zLmNyZWF0ZSgpKSxudWxsIT1lLm1ldGFfZGF0YV9hY2smJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtZXRhX2RhdGFfYWNrXCIpJiZjLndlYnJ0Y19jbWQuTWV0YWRhdGFBY2suZW5jb2RlKGUubWV0YV9kYXRhX2Fjayx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnZpZGVvX3N0cmVhbV9zdWImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19zdHJlYW1fc3ViXCIpJiZjLndlYnJ0Y19jbWQuVmlkZW9TdHJlYW1TdWJzY3JpYmVSc3AuZW5jb2RlKGUudmlkZW9fc3RyZWFtX3N1Yix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnZpZGVvX2ZhbGxiYWNrX3R5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19mYWxsYmFja190eXBlXCIpJiZjLndlYnJ0Y19jbWQuVmlkZW9TdHJlYW1GYWxsYmFja1R5cGVSc3AuZW5jb2RlKGUudmlkZW9fZmFsbGJhY2tfdHlwZSx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnZpZGVvX2NoYW5nZV9hY2smJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2aWRlb19jaGFuZ2VfYWNrXCIpJiZjLndlYnJ0Y19jbWQuVmlkZW9TdHJlYW1DaGFuZ2VBY2suZW5jb2RlKGUudmlkZW9fY2hhbmdlX2Fjayx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnVzcl9zZWlfZmlsdGVyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidXNyX3NlaV9maWx0ZXJcIikmJmMud2VicnRjX2NtZC5Vc2VyVW5yZWdpc3RlcmVkU0VJRmlsdGVyUnNwLmVuY29kZShlLnVzcl9zZWlfZmlsdGVyLHQudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpLHR9LGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIG58fChlPW4uY3JlYXRlKGUpKTtmb3IodmFyIHI9dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LGk9bmV3IGMud2VicnRjX2NtZC5XZWJydGNDbWRSc3BNc2c7ZS5wb3M8cjspe3ZhciBvPWUudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6aS5tZXRhX2RhdGFfYWNrPWMud2VicnRjX2NtZC5NZXRhZGF0YUFjay5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDI6aS52aWRlb19zdHJlYW1fc3ViPWMud2VicnRjX2NtZC5WaWRlb1N0cmVhbVN1YnNjcmliZVJzcC5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDM6aS52aWRlb19mYWxsYmFja190eXBlPWMud2VicnRjX2NtZC5WaWRlb1N0cmVhbUZhbGxiYWNrVHlwZVJzcC5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDQ6aS52aWRlb19jaGFuZ2VfYWNrPWMud2VicnRjX2NtZC5WaWRlb1N0cmVhbUNoYW5nZUFjay5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDU6aS51c3Jfc2VpX2ZpbHRlcj1jLndlYnJ0Y19jbWQuVXNlclVucmVnaXN0ZXJlZFNFSUZpbHRlclJzcC5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGl9LGV9KCksaSksZS5leHBvcnRzPWN9LDU1MTU6ZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsaSl7ZnVuY3Rpb24gbyhzLGEpe2lmKCFyW3NdKXtpZighdFtzXSl7aWYobilyZXR1cm4gbihzLCEwKTt2YXIgYz1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3MrXCInXCIpO3Rocm93IGMuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixjfXZhciB1PXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbCh1LmV4cG9ydHMsKGZ1bmN0aW9uKGUpe3JldHVybiBvKHRbc11bMV1bZV18fGUpfSksdSx1LmV4cG9ydHMsZSx0LHIsaSl9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIG49dm9pZCAwLHM9MDtzPGkubGVuZ3RoO3MrKylvKGlbc10pO3JldHVybiBvfXJldHVybiBlfSgpKHsxOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9KDAsZShcIi4vYWRhcHRlcl9mYWN0b3J5LmpzXCIpLmFkYXB0ZXJGYWN0b3J5KSh7d2luZG93OndpbmRvd30pO3QuZXhwb3J0cz1pfSx7XCIuL2FkYXB0ZXJfZmFjdG9yeS5qc1wiOjJ9XSwyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5hZGFwdGVyRmFjdG9yeT1kO3ZhciBpPXUoZShcIi4vdXRpbHNcIikpLG89dShlKFwiLi9jaHJvbWUvY2hyb21lX3NoaW1cIikpLG49dShlKFwiLi9lZGdlL2VkZ2Vfc2hpbVwiKSkscz11KGUoXCIuL2ZpcmVmb3gvZmlyZWZveF9zaGltXCIpKSxhPXUoZShcIi4vc2FmYXJpL3NhZmFyaV9zaGltXCIpKSxjPXUoZShcIi4vY29tbW9uX3NoaW1cIikpO2Z1bmN0aW9uIHUoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGQoKXt2YXIgZT0oYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9KS53aW5kb3csdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e3NoaW1DaHJvbWU6ITAsc2hpbUZpcmVmb3g6ITAsc2hpbUVkZ2U6ITAsc2hpbVNhZmFyaTohMH0scj1pLmxvZyx1PWkuZGV0ZWN0QnJvd3NlcihlKSxkPXticm93c2VyRGV0YWlsczp1LGNvbW1vblNoaW06YyxleHRyYWN0VmVyc2lvbjppLmV4dHJhY3RWZXJzaW9uLGRpc2FibGVMb2c6aS5kaXNhYmxlTG9nLGRpc2FibGVXYXJuaW5nczppLmRpc2FibGVXYXJuaW5nc307c3dpdGNoKHUuYnJvd3Nlcil7Y2FzZVwiY2hyb21lXCI6aWYoIW98fCFvLnNoaW1QZWVyQ29ubmVjdGlvbnx8IXQuc2hpbUNocm9tZSlyZXR1cm4gcihcIkNocm9tZSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIiksZDtyKFwiYWRhcHRlci5qcyBzaGltbWluZyBjaHJvbWUuXCIpLGQuYnJvd3NlclNoaW09byxvLnNoaW1HZXRVc2VyTWVkaWEoZSksby5zaGltTWVkaWFTdHJlYW0oZSksby5zaGltUGVlckNvbm5lY3Rpb24oZSksby5zaGltT25UcmFjayhlKSxvLnNoaW1BZGRUcmFja1JlbW92ZVRyYWNrKGUpLG8uc2hpbUdldFNlbmRlcnNXaXRoRHRtZihlKSxvLnNoaW1HZXRTdGF0cyhlKSxvLnNoaW1TZW5kZXJSZWNlaXZlckdldFN0YXRzKGUpLG8uZml4TmVnb3RpYXRpb25OZWVkZWQoZSksYy5zaGltUlRDSWNlQ2FuZGlkYXRlKGUpLGMuc2hpbUNvbm5lY3Rpb25TdGF0ZShlKSxjLnNoaW1NYXhNZXNzYWdlU2l6ZShlKSxjLnNoaW1TZW5kVGhyb3dUeXBlRXJyb3IoZSksYy5yZW1vdmVBbGxvd0V4dG1hcE1peGVkKGUpO2JyZWFrO2Nhc2VcImZpcmVmb3hcIjppZighc3x8IXMuc2hpbVBlZXJDb25uZWN0aW9ufHwhdC5zaGltRmlyZWZveClyZXR1cm4gcihcIkZpcmVmb3ggc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLGQ7cihcImFkYXB0ZXIuanMgc2hpbW1pbmcgZmlyZWZveC5cIiksZC5icm93c2VyU2hpbT1zLHMuc2hpbUdldFVzZXJNZWRpYShlKSxzLnNoaW1QZWVyQ29ubmVjdGlvbihlKSxzLnNoaW1PblRyYWNrKGUpLHMuc2hpbVJlbW92ZVN0cmVhbShlKSxzLnNoaW1TZW5kZXJHZXRTdGF0cyhlKSxzLnNoaW1SZWNlaXZlckdldFN0YXRzKGUpLHMuc2hpbVJUQ0RhdGFDaGFubmVsKGUpLGMuc2hpbVJUQ0ljZUNhbmRpZGF0ZShlKSxjLnNoaW1Db25uZWN0aW9uU3RhdGUoZSksYy5zaGltTWF4TWVzc2FnZVNpemUoZSksYy5zaGltU2VuZFRocm93VHlwZUVycm9yKGUpO2JyZWFrO2Nhc2VcImVkZ2VcIjppZighbnx8IW4uc2hpbVBlZXJDb25uZWN0aW9ufHwhdC5zaGltRWRnZSlyZXR1cm4gcihcIk1TIGVkZ2Ugc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLGQ7cihcImFkYXB0ZXIuanMgc2hpbW1pbmcgZWRnZS5cIiksZC5icm93c2VyU2hpbT1uLG4uc2hpbUdldFVzZXJNZWRpYShlKSxuLnNoaW1HZXREaXNwbGF5TWVkaWEoZSksbi5zaGltUGVlckNvbm5lY3Rpb24oZSksbi5zaGltUmVwbGFjZVRyYWNrKGUpLGMuc2hpbU1heE1lc3NhZ2VTaXplKGUpLGMuc2hpbVNlbmRUaHJvd1R5cGVFcnJvcihlKTticmVhaztjYXNlXCJzYWZhcmlcIjppZighYXx8IXQuc2hpbVNhZmFyaSlyZXR1cm4gcihcIlNhZmFyaSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIiksZDtyKFwiYWRhcHRlci5qcyBzaGltbWluZyBzYWZhcmkuXCIpLGQuYnJvd3NlclNoaW09YSxhLnNoaW1SVENJY2VTZXJ2ZXJVcmxzKGUpLGEuc2hpbUNyZWF0ZU9mZmVyTGVnYWN5KGUpLGEuc2hpbUNhbGxiYWNrc0FQSShlKSxhLnNoaW1Mb2NhbFN0cmVhbXNBUEkoZSksYS5zaGltUmVtb3RlU3RyZWFtc0FQSShlKSxhLnNoaW1UcmFja0V2ZW50VHJhbnNjZWl2ZXIoZSksYS5zaGltR2V0VXNlck1lZGlhKGUpLGMuc2hpbVJUQ0ljZUNhbmRpZGF0ZShlKSxjLnNoaW1NYXhNZXNzYWdlU2l6ZShlKSxjLnNoaW1TZW5kVGhyb3dUeXBlRXJyb3IoZSksYy5yZW1vdmVBbGxvd0V4dG1hcE1peGVkKGUpO2JyZWFrO2RlZmF1bHQ6cihcIlVuc3VwcG9ydGVkIGJyb3dzZXIhXCIpfXJldHVybiBkfX0se1wiLi9jaHJvbWUvY2hyb21lX3NoaW1cIjozLFwiLi9jb21tb25fc2hpbVwiOjYsXCIuL2VkZ2UvZWRnZV9zaGltXCI6NyxcIi4vZmlyZWZveC9maXJlZm94X3NoaW1cIjoxMSxcIi4vc2FmYXJpL3NhZmFyaV9zaGltXCI6MTQsXCIuL3V0aWxzXCI6MTV9XSwzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5zaGltR2V0RGlzcGxheU1lZGlhPXIuc2hpbUdldFVzZXJNZWRpYT12b2lkIDA7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sbz1lKFwiLi9nZXR1c2VybWVkaWFcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJzaGltR2V0VXNlck1lZGlhXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uc2hpbUdldFVzZXJNZWRpYX19KTt2YXIgbj1lKFwiLi9nZXRkaXNwbGF5bWVkaWFcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJzaGltR2V0RGlzcGxheU1lZGlhXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2hpbUdldERpc3BsYXlNZWRpYX19KSxyLnNoaW1NZWRpYVN0cmVhbT1jLHIuc2hpbU9uVHJhY2s9dSxyLnNoaW1HZXRTZW5kZXJzV2l0aER0bWY9ZCxyLnNoaW1HZXRTdGF0cz1sLHIuc2hpbVNlbmRlclJlY2VpdmVyR2V0U3RhdHM9aCxyLnNoaW1BZGRUcmFja1JlbW92ZVRyYWNrV2l0aE5hdGl2ZT1wLHIuc2hpbUFkZFRyYWNrUmVtb3ZlVHJhY2s9ZyxyLnNoaW1QZWVyQ29ubmVjdGlvbj1mLHIuZml4TmVnb3RpYXRpb25OZWVkZWQ9bTt2YXIgcz1hKGUoXCIuLi91dGlscy5qc1wiKSk7ZnVuY3Rpb24gYShlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gYyhlKXtlLk1lZGlhU3RyZWFtPWUuTWVkaWFTdHJlYW18fGUud2Via2l0TWVkaWFTdHJlYW19ZnVuY3Rpb24gdShlKXtpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcIm9udHJhY2tcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib250cmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb250cmFja30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29udHJhY2smJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb250cmFjayksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbnRyYWNrPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pO3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5fb250cmFja3BvbHl8fCh0aGlzLl9vbnRyYWNrcG9seT1mdW5jdGlvbih0KXt0LnN0cmVhbS5hZGRFdmVudExpc3RlbmVyKFwiYWRkdHJhY2tcIiwoZnVuY3Rpb24oaSl7dmFyIG89dm9pZCAwO289ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzP3IuZ2V0UmVjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2smJmUudHJhY2suaWQ9PT1pLnRyYWNrLmlkfSkpOnt0cmFjazppLnRyYWNrfTt2YXIgbj1uZXcgRXZlbnQoXCJ0cmFja1wiKTtuLnRyYWNrPWkudHJhY2ssbi5yZWNlaXZlcj1vLG4udHJhbnNjZWl2ZXI9e3JlY2VpdmVyOm99LG4uc3RyZWFtcz1bdC5zdHJlYW1dLHIuZGlzcGF0Y2hFdmVudChuKX0pKSx0LnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihpKXt2YXIgbz12b2lkIDA7bz1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM/ci5nZXRSZWNlaXZlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjayYmZS50cmFjay5pZD09PWkuaWR9KSk6e3RyYWNrOml9O3ZhciBuPW5ldyBFdmVudChcInRyYWNrXCIpO24udHJhY2s9aSxuLnJlY2VpdmVyPW8sbi50cmFuc2NlaXZlcj17cmVjZWl2ZXI6b30sbi5zdHJlYW1zPVt0LnN0cmVhbV0sci5kaXNwYXRjaEV2ZW50KG4pfSkpfSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbnRyYWNrcG9seSkpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1lbHNlIHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQoZSxcInRyYWNrXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zY2VpdmVyfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInRyYW5zY2VpdmVyXCIse3ZhbHVlOntyZWNlaXZlcjplLnJlY2VpdmVyfX0pLGV9KSl9ZnVuY3Rpb24gZChlKXtpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcImdldFNlbmRlcnNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSYmXCJjcmVhdGVEVE1GU2VuZGVyXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHJhY2s6dCxnZXQgZHRtZigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYodGhpcy5fZHRtZj1cImF1ZGlvXCI9PT10LmtpbmQ/ZS5jcmVhdGVEVE1GU2VuZGVyKHQpOm51bGwpLHRoaXMuX2R0bWZ9LF9wYzplfX07aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnMpe2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSx0aGlzLl9zZW5kZXJzLnNsaWNlKCl9O3ZhciByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKGUsaSl7dmFyIG89ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG98fChvPXQodGhpcyxlKSx0aGlzLl9zZW5kZXJzLnB1c2gobykpLG99O3ZhciBvPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe28uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB0PXRoaXMuX3NlbmRlcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX3NlbmRlcnMuc3BsaWNlKHQsMSl9fXZhciBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHI9dGhpczt0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLG4uYXBwbHkodGhpcyxbZV0pLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5fc2VuZGVycy5wdXNoKHQocixlKSl9KSl9O3ZhciBzPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLHMuYXBwbHkodGhpcyxbZV0pLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9dC5fc2VuZGVycy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjaz09PWV9KSk7ciYmdC5fc2VuZGVycy5zcGxpY2UodC5fc2VuZGVycy5pbmRleE9mKHIpLDEpfSkpfX1lbHNlIGlmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiZcImdldFNlbmRlcnNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlJiZcImNyZWF0ZURUTUZTZW5kZXJcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlJiZlLlJUQ1J0cFNlbmRlciYmIShcImR0bWZcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpe3ZhciBhPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hLmFwcGx5KHRoaXMsW10pO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9wYz1lfSkpLHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsXCJkdG1mXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYodGhpcy5fZHRtZj1cImF1ZGlvXCI9PT10aGlzLnRyYWNrLmtpbmQ/dGhpcy5fcGMuY3JlYXRlRFRNRlNlbmRlcih0aGlzLnRyYWNrKTpudWxsKSx0aGlzLl9kdG1mfX0pfX1mdW5jdGlvbiBsKGUpe2lmKGUuUlRDUGVlckNvbm5lY3Rpb24pe3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKGUscixpKXt2YXIgbz10aGlzLG49YXJndW1lbnRzO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoMD09PXQubGVuZ3RoJiYoMD09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFyZ3VtZW50c1swXSkpcmV0dXJuIHQuYXBwbHkodGhpcyxbXSk7dmFyIHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUucmVzdWx0KCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9e2lkOmUuaWQsdGltZXN0YW1wOmUudGltZXN0YW1wLHR5cGU6e2xvY2FsY2FuZGlkYXRlOlwibG9jYWwtY2FuZGlkYXRlXCIscmVtb3RlY2FuZGlkYXRlOlwicmVtb3RlLWNhbmRpZGF0ZVwifVtlLnR5cGVdfHxlLnR5cGV9O2UubmFtZXMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUuc3RhdCh0KX0pKSx0W3IuaWRdPXJ9KSksdH0sYT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE1hcChPYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblt0LGVbdF1dfSkpKX07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTI/dC5hcHBseSh0aGlzLFtmdW5jdGlvbihlKXtuWzFdKGEocyhlKSkpfSxhcmd1bWVudHNbMF1dKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxyKXt0LmFwcGx5KG8sW2Z1bmN0aW9uKHQpe2UoYShzKHQpKSl9LHJdKX0pKS50aGVuKHIsaSl9fX1mdW5jdGlvbiBoKGUpe2lmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiZlLlJUQ1J0cFNlbmRlciYmZS5SVENSdHBSZWNlaXZlcil7aWYoIShcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuX3BjPWV9KSkscn0pO3ZhciByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO3ImJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbigpe3ZhciBlPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLl9wYz10aGlzLGV9KSxlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBzLmZpbHRlclN0YXRzKHQsZS50cmFjaywhMCl9KSl9fWlmKCEoXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUpKXt2YXIgbz1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7byYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1vLmFwcGx5KHRoaXMsW10pO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9wYz1lfSkpLHR9KSxzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KGUsXCJ0cmFja1wiLChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWNlaXZlci5fcGM9ZS5zcmNFbGVtZW50LGV9KSksZS5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBzLmZpbHRlclN0YXRzKHQsZS50cmFjaywhMSl9KSl9fWlmKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSYmXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUpe3ZhciBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGUuTWVkaWFTdHJlYW1UcmFjayl7dmFyIHQ9YXJndW1lbnRzWzBdLHI9dm9pZCAwLGk9dm9pZCAwLG89dm9pZCAwO3JldHVybiB0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnRyYWNrPT09dCYmKHI/bz0hMDpyPWUpfSkpLHRoaXMuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2s9PT10JiYoaT9vPSEwOmk9ZSksZS50cmFjaz09PXR9KSksb3x8ciYmaT9Qcm9taXNlLnJlamVjdChuZXcgRE9NRXhjZXB0aW9uKFwiVGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgc2VuZGVyIG9yIHJlY2VpdmVyIGZvciB0aGUgdHJhY2suXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIikpOnI/ci5nZXRTdGF0cygpOmk/aS5nZXRTdGF0cygpOlByb21pc2UucmVqZWN0KG5ldyBET01FeGNlcHRpb24oXCJUaGVyZSBpcyBubyBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKSl9cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfX19fWZ1bmN0aW9uIHAoZSl7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxPYmplY3Qua2V5cyh0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zaGltbWVkTG9jYWxTdHJlYW1zW3RdWzBdfSkpfTt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihlLHIpe2lmKCFyKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9O3ZhciBpPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3IuaWRdPy0xPT09dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tyLmlkXS5pbmRleE9mKGkpJiZ0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3IuaWRdLnB1c2goaSk6dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tyLmlkXT1bcixpXSxpfTt2YXIgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxlLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHQuZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrPT09ZX0pKSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVHJhY2sgYWxyZWFkeSBleGlzdHMuXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIil9KSk7dmFyIGk9dGhpcy5nZXRTZW5kZXJzKCk7ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG89dGhpcy5nZXRTZW5kZXJzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PWkuaW5kZXhPZihlKX0pKTt0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2UuaWRdPVtlXS5jb25jYXQobyl9O3ZhciBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sZGVsZXRlIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbZS5pZF0saS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBvPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sZSYmT2JqZWN0LmtleXModGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcykuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9dC5fc2hpbW1lZExvY2FsU3RyZWFtc1tyXS5pbmRleE9mKGUpOy0xIT09aSYmdC5fc2hpbW1lZExvY2FsU3RyZWFtc1tyXS5zcGxpY2UoaSwxKSwxPT09dC5fc2hpbW1lZExvY2FsU3RyZWFtc1tyXS5sZW5ndGgmJmRlbGV0ZSB0Ll9zaGltbWVkTG9jYWxTdHJlYW1zW3JdfSkpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBnKGUpe2lmKGUuUlRDUGVlckNvbm5lY3Rpb24pe3ZhciB0PXMuZGV0ZWN0QnJvd3NlcihlKTtpZihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayYmdC52ZXJzaW9uPj02NSlyZXR1cm4gcChlKTt2YXIgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXIuYXBwbHkodGhpcyk7cmV0dXJuIHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSx0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3JldmVyc2VTdHJlYW1zW3QuaWRdfSkpfTt2YXIgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7aWYodGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSx0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e30sdC5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihyLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjaz09PWV9KSkpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpfSkpLCF0aGlzLl9yZXZlcnNlU3RyZWFtc1t0LmlkXSl7dmFyIG89bmV3IGUuTWVkaWFTdHJlYW0odC5nZXRUcmFja3MoKSk7dGhpcy5fc3RyZWFtc1t0LmlkXT1vLHRoaXMuX3JldmVyc2VTdHJlYW1zW28uaWRdPXQsdD1vfWkuYXBwbHkodGhpcyxbdF0pfTt2YXIgbz1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX3N0cmVhbXM9dGhpcy5fc3RyZWFtc3x8e30sdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9LG8uYXBwbHkodGhpcyxbdGhpcy5fc3RyZWFtc1tlLmlkXXx8ZV0pLGRlbGV0ZSB0aGlzLl9yZXZlcnNlU3RyZWFtc1t0aGlzLl9zdHJlYW1zW2UuaWRdP3RoaXMuX3N0cmVhbXNbZS5pZF0uaWQ6ZS5pZF0sZGVsZXRlIHRoaXMuX3N0cmVhbXNbZS5pZF19LGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKHQscil7dmFyIGk9dGhpcztpZihcImNsb3NlZFwiPT09dGhpcy5zaWduYWxpbmdTdGF0ZSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIFJUQ1BlZXJDb25uZWN0aW9uJ3Mgc2lnbmFsaW5nU3RhdGUgaXMgJ2Nsb3NlZCcuXCIsXCJJbnZhbGlkU3RhdGVFcnJvclwiKTt2YXIgbz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZigxIT09by5sZW5ndGh8fCFvWzBdLmdldFRyYWNrcygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIGFkYXB0ZXIuanMgYWRkVHJhY2sgcG9seWZpbGwgb25seSBzdXBwb3J0cyBhIHNpbmdsZSAgc3RyZWFtIHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIHRyYWNrLlwiLFwiTm90U3VwcG9ydGVkRXJyb3JcIik7aWYodGhpcy5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2s9PT10fSkpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fTt2YXIgbj10aGlzLl9zdHJlYW1zW3IuaWRdO2lmKG4pbi5hZGRUcmFjayh0KSxQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2kuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiKSl9KSk7ZWxzZXt2YXIgcz1uZXcgZS5NZWRpYVN0cmVhbShbdF0pO3RoaXMuX3N0cmVhbXNbci5pZF09cyx0aGlzLl9yZXZlcnNlU3RyZWFtc1tzLmlkXT1yLHRoaXMuYWRkU3RyZWFtKHMpfXJldHVybiB0aGlzLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PXR9KSl9LFtcImNyZWF0ZU9mZmVyXCIsXCJjcmVhdGVBbnN3ZXJcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0/ci5hcHBseSh0aGlzLFtmdW5jdGlvbihyKXt2YXIgaT1jKGUscik7dFswXS5hcHBseShudWxsLFtpXSl9LGZ1bmN0aW9uKGUpe3RbMV0mJnRbMV0uYXBwbHkobnVsbCxlKX0sYXJndW1lbnRzWzJdXSk6ci5hcHBseSh0aGlzLGFyZ3VtZW50cykudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGMoZSx0KX0pKX19KSk7dmFyIG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXS50eXBlPyhhcmd1bWVudHNbMF09dSh0aGlzLGFyZ3VtZW50c1swXSksbi5hcHBseSh0aGlzLGFyZ3VtZW50cykpOm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwibG9jYWxEZXNjcmlwdGlvblwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJsb2NhbERlc2NyaXB0aW9uXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPWEuZ2V0LmFwcGx5KHRoaXMpO3JldHVyblwiXCI9PT1lLnR5cGU/ZTpjKHRoaXMsZSl9fSksZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihcImNsb3NlZFwiPT09dGhpcy5zaWduYWxpbmdTdGF0ZSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIFJUQ1BlZXJDb25uZWN0aW9uJ3Mgc2lnbmFsaW5nU3RhdGUgaXMgJ2Nsb3NlZCcuXCIsXCJJbnZhbGlkU3RhdGVFcnJvclwiKTtpZighZS5fcGMpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkFyZ3VtZW50IDEgb2YgUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2sgZG9lcyBub3QgaW1wbGVtZW50IGludGVyZmFjZSBSVENSdHBTZW5kZXIuXCIsXCJUeXBlRXJyb3JcIik7aWYoZS5fcGMhPT10aGlzKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJTZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgY29ubmVjdGlvbi5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9O3ZhciByPXZvaWQgMDtPYmplY3Qua2V5cyh0aGlzLl9zdHJlYW1zKS5mb3JFYWNoKChmdW5jdGlvbihpKXt0Ll9zdHJlYW1zW2ldLmdldFRyYWNrcygpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnRyYWNrPT09dH0pKSYmKHI9dC5fc3RyZWFtc1tpXSl9KSksciYmKDE9PT1yLmdldFRyYWNrcygpLmxlbmd0aD90aGlzLnJlbW92ZVN0cmVhbSh0aGlzLl9yZXZlcnNlU3RyZWFtc1tyLmlkXSk6ci5yZW1vdmVUcmFjayhlLnRyYWNrKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIikpKX19ZnVuY3Rpb24gYyhlLHQpe3ZhciByPXQuc2RwO3JldHVybiBPYmplY3Qua2V5cyhlLl9yZXZlcnNlU3RyZWFtc3x8W10pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPWUuX3JldmVyc2VTdHJlYW1zW3RdO3I9ci5yZXBsYWNlKG5ldyBSZWdFeHAoZS5fc3RyZWFtc1tpLmlkXS5pZCxcImdcIiksaS5pZCl9KSksbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTp0LnR5cGUsc2RwOnJ9KX1mdW5jdGlvbiB1KGUsdCl7dmFyIHI9dC5zZHA7cmV0dXJuIE9iamVjdC5rZXlzKGUuX3JldmVyc2VTdHJlYW1zfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9ZS5fcmV2ZXJzZVN0cmVhbXNbdF0sbz1lLl9zdHJlYW1zW2kuaWRdO3I9ci5yZXBsYWNlKG5ldyBSZWdFeHAoaS5pZCxcImdcIiksby5pZCl9KSksbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTp0LnR5cGUsc2RwOnJ9KX19ZnVuY3Rpb24gZihlKXtpZighZS5SVENQZWVyQ29ubmVjdGlvbiYmZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiYmKGUuUlRDUGVlckNvbm5lY3Rpb249ZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiksZS5SVENQZWVyQ29ubmVjdGlvbil7W1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KFwiYWRkSWNlQ2FuZGlkYXRlXCI9PT10P2UuUlRDSWNlQ2FuZGlkYXRlOmUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKTt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTooYXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0uYXBwbHkobnVsbCksUHJvbWlzZS5yZXNvbHZlKCkpfX19ZnVuY3Rpb24gbShlKXtzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KGUsXCJuZWdvdGlhdGlvbm5lZWRlZFwiLChmdW5jdGlvbihlKXtpZihcInN0YWJsZVwiPT09ZS50YXJnZXQuc2lnbmFsaW5nU3RhdGUpcmV0dXJuIGV9KSl9fSx7XCIuLi91dGlscy5qc1wiOjE1LFwiLi9nZXRkaXNwbGF5bWVkaWFcIjo0LFwiLi9nZXR1c2VybWVkaWFcIjo1fV0sNDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvci5tZWRpYURldmljZXN8fGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1mdW5jdGlvbihyKXtyZXR1cm4gdChyKS50aGVuKChmdW5jdGlvbih0KXt2YXIgaT1yLnZpZGVvJiZyLnZpZGVvLndpZHRoLG89ci52aWRlbyYmci52aWRlby5oZWlnaHQ7cmV0dXJuIHIudmlkZW89e21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsY2hyb21lTWVkaWFTb3VyY2VJZDp0LG1heEZyYW1lUmF0ZTpyLnZpZGVvJiZyLnZpZGVvLmZyYW1lUmF0ZXx8M319LGkmJihyLnZpZGVvLm1hbmRhdG9yeS5tYXhXaWR0aD1pKSxvJiYoci52aWRlby5tYW5kYXRvcnkubWF4SGVpZ2h0PW8pLGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocil9KSl9OmNvbnNvbGUuZXJyb3IoXCJzaGltR2V0RGlzcGxheU1lZGlhOiBnZXRTb3VyY2VJZCBhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvblwiKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5zaGltR2V0RGlzcGxheU1lZGlhPWl9LHt9XSw1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07ci5zaGltR2V0VXNlck1lZGlhPWE7dmFyIG89bihlKFwiLi4vdXRpbHMuanNcIikpO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fXZhciBzPW8ubG9nO2Z1bmN0aW9uIGEoZSl7dmFyIHQ9ZSYmZS5uYXZpZ2F0b3I7aWYodC5tZWRpYURldmljZXMpe3ZhciByPW8uZGV0ZWN0QnJvd3NlcihlKSxuPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpfHxlLm1hbmRhdG9yeXx8ZS5vcHRpb25hbClyZXR1cm4gZTt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYoXCJyZXF1aXJlXCIhPT1yJiZcImFkdmFuY2VkXCIhPT1yJiZcIm1lZGlhU291cmNlXCIhPT1yKXt2YXIgbz1cIm9iamVjdFwiPT09aShlW3JdKT9lW3JdOntpZGVhbDplW3JdfTt2b2lkIDAhPT1vLmV4YWN0JiZcIm51bWJlclwiPT10eXBlb2Ygby5leGFjdCYmKG8ubWluPW8ubWF4PW8uZXhhY3QpO3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ZSt0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk6XCJkZXZpY2VJZFwiPT09dD9cInNvdXJjZUlkXCI6dH07aWYodm9pZCAwIT09by5pZGVhbCl7dC5vcHRpb25hbD10Lm9wdGlvbmFsfHxbXTt2YXIgcz17fTtcIm51bWJlclwiPT10eXBlb2Ygby5pZGVhbD8oc1tuKFwibWluXCIscildPW8uaWRlYWwsdC5vcHRpb25hbC5wdXNoKHMpLChzPXt9KVtuKFwibWF4XCIscildPW8uaWRlYWwsdC5vcHRpb25hbC5wdXNoKHMpKTooc1tuKFwiXCIscildPW8uaWRlYWwsdC5vcHRpb25hbC5wdXNoKHMpKX12b2lkIDAhPT1vLmV4YWN0JiZcIm51bWJlclwiIT10eXBlb2Ygby5leGFjdD8odC5tYW5kYXRvcnk9dC5tYW5kYXRvcnl8fHt9LHQubWFuZGF0b3J5W24oXCJcIixyKV09by5leGFjdCk6W1wibWluXCIsXCJtYXhcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwIT09b1tlXSYmKHQubWFuZGF0b3J5PXQubWFuZGF0b3J5fHx7fSx0Lm1hbmRhdG9yeVtuKGUscildPW9bZV0pfSkpfX0pKSxlLmFkdmFuY2VkJiYodC5vcHRpb25hbD0odC5vcHRpb25hbHx8W10pLmNvbmNhdChlLmFkdmFuY2VkKSksdH0sYT1mdW5jdGlvbihlLG8pe2lmKHIudmVyc2lvbj49NjEpcmV0dXJuIG8oZSk7aWYoKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpJiZcIm9iamVjdFwiPT09aShlLmF1ZGlvKSl7dmFyIGE9ZnVuY3Rpb24oZSx0LHIpe3QgaW4gZSYmIShyIGluIGUpJiYoZVtyXT1lW3RdLGRlbGV0ZSBlW3RdKX07YSgoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcImdvb2dBdXRvR2FpbkNvbnRyb2xcIiksYShlLmF1ZGlvLFwibm9pc2VTdXBwcmVzc2lvblwiLFwiZ29vZ05vaXNlU3VwcHJlc3Npb25cIiksZS5hdWRpbz1uKGUuYXVkaW8pfWlmKGUmJlwib2JqZWN0XCI9PT1pKGUudmlkZW8pKXt2YXIgYz1lLnZpZGVvLmZhY2luZ01vZGU7Yz1jJiYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1jP1widW5kZWZpbmVkXCI6aShjKSk/Yzp7aWRlYWw6Y30pO3ZhciB1PXIudmVyc2lvbjw2NjtpZihjJiYoXCJ1c2VyXCI9PT1jLmV4YWN0fHxcImVudmlyb25tZW50XCI9PT1jLmV4YWN0fHxcInVzZXJcIj09PWMuaWRlYWx8fFwiZW52aXJvbm1lbnRcIj09PWMuaWRlYWwpJiYoIXQubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzfHwhdC5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHMoKS5mYWNpbmdNb2RlfHx1KSl7ZGVsZXRlIGUudmlkZW8uZmFjaW5nTW9kZTt2YXIgZD12b2lkIDA7aWYoXCJlbnZpcm9ubWVudFwiPT09Yy5leGFjdHx8XCJlbnZpcm9ubWVudFwiPT09Yy5pZGVhbD9kPVtcImJhY2tcIixcInJlYXJcIl06XCJ1c2VyXCIhPT1jLmV4YWN0JiZcInVzZXJcIiE9PWMuaWRlYWx8fChkPVtcImZyb250XCJdKSxkKXJldHVybiB0Lm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7dmFyIHI9KHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9pbnB1dFwiPT09ZS5raW5kfSkpKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZC5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gZS5sYWJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHQpfSkpfSkpO3JldHVybiFyJiZ0Lmxlbmd0aCYmZC5pbmNsdWRlcyhcImJhY2tcIikmJihyPXRbdC5sZW5ndGgtMV0pLHImJihlLnZpZGVvLmRldmljZUlkPWMuZXhhY3Q/e2V4YWN0OnIuZGV2aWNlSWR9OntpZGVhbDpyLmRldmljZUlkfSksZS52aWRlbz1uKGUudmlkZW8pLHMoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxvKGUpfSkpfWUudmlkZW89bihlLnZpZGVvKX1yZXR1cm4gcyhcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLG8oZSl9LGM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIudmVyc2lvbj49NjQ/ZTp7bmFtZTp7UGVybWlzc2lvbkRlbmllZEVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsUGVybWlzc2lvbkRpc21pc3NlZEVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsSW52YWxpZFN0YXRlRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixEZXZpY2VzTm90Rm91bmRFcnJvcjpcIk5vdEZvdW5kRXJyb3JcIixDb25zdHJhaW50Tm90U2F0aXNmaWVkRXJyb3I6XCJPdmVyY29uc3RyYWluZWRFcnJvclwiLFRyYWNrU3RhcnRFcnJvcjpcIk5vdFJlYWRhYmxlRXJyb3JcIixNZWRpYURldmljZUZhaWxlZER1ZVRvU2h1dGRvd246XCJOb3RBbGxvd2VkRXJyb3JcIixNZWRpYURldmljZUtpbGxTd2l0Y2hPbjpcIk5vdEFsbG93ZWRFcnJvclwiLFRhYkNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIixTY3JlZW5DYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCIsRGV2aWNlQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwifVtlLm5hbWVdfHxlLm5hbWUsbWVzc2FnZTplLm1lc3NhZ2UsY29uc3RyYWludDplLmNvbnN0cmFpbnR8fGUuY29uc3RyYWludE5hbWUsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lKyh0aGlzLm1lc3NhZ2UmJlwiOiBcIikrdGhpcy5tZXNzYWdlfX19LHU9ZnVuY3Rpb24oZSxyLGkpe2EoZSwoZnVuY3Rpb24oZSl7dC53ZWJraXRHZXRVc2VyTWVkaWEoZSxyLChmdW5jdGlvbihlKXtpJiZpKGMoZSkpfSkpfSkpfTtpZih0LmdldFVzZXJNZWRpYT11LmJpbmQodCksdC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXt2YXIgZD10Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZCh0Lm1lZGlhRGV2aWNlcyk7dC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiBhKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBkKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe2lmKGUuYXVkaW8mJiF0LmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHxlLnZpZGVvJiYhdC5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyB0LmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSkpLG5ldyBET01FeGNlcHRpb24oXCJcIixcIk5vdEZvdW5kRXJyb3JcIik7cmV0dXJuIHR9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGMoZSkpfSkpfSkpfX19fX0se1wiLi4vdXRpbHMuanNcIjoxNX1dLDY6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtyLnNoaW1SVENJY2VDYW5kaWRhdGU9YyxyLnNoaW1NYXhNZXNzYWdlU2l6ZT11LHIuc2hpbVNlbmRUaHJvd1R5cGVFcnJvcj1kLHIuc2hpbUNvbm5lY3Rpb25TdGF0ZT1sLHIucmVtb3ZlQWxsb3dFeHRtYXBNaXhlZD1oO3ZhciBvPWEoZShcInNkcFwiKSksbj1zKGUoXCIuL3V0aWxzXCIpKTtmdW5jdGlvbiBzKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBjKGUpe2lmKCEoIWUuUlRDSWNlQ2FuZGlkYXRlfHxlLlJUQ0ljZUNhbmRpZGF0ZSYmXCJmb3VuZGF0aW9uXCJpbiBlLlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGUpKXt2YXIgdD1lLlJUQ0ljZUNhbmRpZGF0ZTtlLlJUQ0ljZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmZS5jYW5kaWRhdGUmJjA9PT1lLmNhbmRpZGF0ZS5pbmRleE9mKFwiYT1cIikmJigoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuY2FuZGlkYXRlPWUuY2FuZGlkYXRlLnN1YnN0cigyKSksZS5jYW5kaWRhdGUmJmUuY2FuZGlkYXRlLmxlbmd0aCl7dmFyIHI9bmV3IHQoZSksbj1vLmRlZmF1bHQucGFyc2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUpLHM9T2JqZWN0LmFzc2lnbihyLG4pO3JldHVybiBzLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntjYW5kaWRhdGU6cy5jYW5kaWRhdGUsc2RwTWlkOnMuc2RwTWlkLHNkcE1MaW5lSW5kZXg6cy5zZHBNTGluZUluZGV4LHVzZXJuYW1lRnJhZ21lbnQ6cy51c2VybmFtZUZyYWdtZW50fX0sc31yZXR1cm4gbmV3IHQoZSl9LGUuUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZT10LnByb3RvdHlwZSxuLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KGUsXCJpY2VjYW5kaWRhdGVcIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FuZGlkYXRlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNhbmRpZGF0ZVwiLHt2YWx1ZTpuZXcgZS5SVENJY2VDYW5kaWRhdGUodC5jYW5kaWRhdGUpLHdyaXRhYmxlOlwiZmFsc2VcIn0pLHR9KSl9fWZ1bmN0aW9uIHUoZSl7aWYoIWUuUlRDU2N0cFRyYW5zcG9ydCYmZS5SVENQZWVyQ29ubmVjdGlvbil7dmFyIHQ9bi5kZXRlY3RCcm93c2VyKGUpO1wic2N0cFwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcInNjdHBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX3NjdHA/bnVsbDp0aGlzLl9zY3RwfX0pO3ZhciByPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5zZHApcmV0dXJuITE7dmFyIHQ9by5kZWZhdWx0LnNwbGl0U2VjdGlvbnMoZS5zZHApO3JldHVybiB0LnNoaWZ0KCksdC5zb21lKChmdW5jdGlvbihlKXt2YXIgdD1vLmRlZmF1bHQucGFyc2VNTGluZShlKTtyZXR1cm4gdCYmXCJhcHBsaWNhdGlvblwiPT09dC5raW5kJiYtMSE9PXQucHJvdG9jb2wuaW5kZXhPZihcIlNDVFBcIil9KSl9LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZHAubWF0Y2goL21vemlsbGEuLi5USElTX0lTX1NEUEFSVEEtKFxcZCspLyk7aWYobnVsbD09PXR8fHQubGVuZ3RoPDIpcmV0dXJuLTE7dmFyIHI9cGFyc2VJbnQodFsxXSwxMCk7cmV0dXJuIHIhPXI/LTE6cn0scz1mdW5jdGlvbihlKXt2YXIgcj02NTUzNjtyZXR1cm5cImZpcmVmb3hcIj09PXQuYnJvd3NlciYmKHI9dC52ZXJzaW9uPDU3Py0xPT09ZT8xNjM4NDoyMTQ3NDgzNjM3OnQudmVyc2lvbjw2MD81Nz09PXQudmVyc2lvbj82NTUzNTo2NTUzNjoyMTQ3NDgzNjM3KSxyfSxhPWZ1bmN0aW9uKGUscil7dmFyIGk9NjU1MzY7XCJmaXJlZm94XCI9PT10LmJyb3dzZXImJjU3PT09dC52ZXJzaW9uJiYoaT02NTUzNSk7dmFyIG49by5kZWZhdWx0Lm1hdGNoUHJlZml4KGUuc2RwLFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiKTtyZXR1cm4gbi5sZW5ndGg+MD9pPXBhcnNlSW50KG5bMF0uc3Vic3RyKDE5KSwxMCk6XCJmaXJlZm94XCI9PT10LmJyb3dzZXImJi0xIT09ciYmKGk9MjE0NzQ4MzYzNyksaX0sYz1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuX3NjdHA9bnVsbCxyKGFyZ3VtZW50c1swXSkpe3ZhciBlPWkoYXJndW1lbnRzWzBdKSx0PXMoZSksbz1hKGFyZ3VtZW50c1swXSxlKSxuPXZvaWQgMDtuPTA9PT10JiYwPT09bz9OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk6MD09PXR8fDA9PT1vP01hdGgubWF4KHQsbyk6TWF0aC5taW4odCxvKTt2YXIgdT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodSxcIm1heE1lc3NhZ2VTaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBufX0pLHRoaXMuX3NjdHA9dX1yZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiBkKGUpe2lmKGUuUlRDUGVlckNvbm5lY3Rpb24mJlwiY3JlYXRlRGF0YUNoYW5uZWxcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbDtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbD1mdW5jdGlvbigpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiByKGUsdGhpcyksZX0sbi53cmFwUGVlckNvbm5lY3Rpb25FdmVudChlLFwiZGF0YWNoYW5uZWxcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoZS5jaGFubmVsLGUudGFyZ2V0KSxlfSkpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgcj1lLnNlbmQ7ZS5zZW5kPWZ1bmN0aW9uKCl7dmFyIGk9YXJndW1lbnRzWzBdO2lmKFwib3BlblwiPT09ZS5yZWFkeVN0YXRlJiZ0LnNjdHAmJihpLmxlbmd0aHx8aS5zaXplfHxpLmJ5dGVMZW5ndGgpPnQuc2N0cC5tYXhNZXNzYWdlU2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWVzc2FnZSB0b28gbGFyZ2UgKGNhbiBzZW5kIGEgbWF4aW11bSBvZiBcIit0LnNjdHAubWF4TWVzc2FnZVNpemUrXCIgYnl0ZXMpXCIpO3JldHVybiByLmFwcGx5KGUsYXJndW1lbnRzKX19fWZ1bmN0aW9uIGwoZSl7aWYoZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcImNvbm5lY3Rpb25TdGF0ZVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvbm5lY3Rpb25TdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29tcGxldGVkOlwiY29ubmVjdGVkXCIsY2hlY2tpbmc6XCJjb25uZWN0aW5nXCJ9W3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlXXx8dGhpcy5pY2VDb25uZWN0aW9uU3RhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2V8fG51bGx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSxkZWxldGUgdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpLGUmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPXRbZV07dFtlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5fHwodGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seT1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtpZih0Ll9sYXN0Q29ubmVjdGlvblN0YXRlIT09dC5jb25uZWN0aW9uU3RhdGUpe3QuX2xhc3RDb25uZWN0aW9uU3RhdGU9dC5jb25uZWN0aW9uU3RhdGU7dmFyIHI9bmV3IEV2ZW50KFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsZSk7dC5kaXNwYXRjaEV2ZW50KHIpfXJldHVybiBlfSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5KSksci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkpfX1mdW5jdGlvbiBoKGUpe2lmKGUuUlRDUGVlckNvbm5lY3Rpb24pe3ZhciB0PW4uZGV0ZWN0QnJvd3NlcihlKTtpZighKFwiY2hyb21lXCI9PT10LmJyb3dzZXImJnQudmVyc2lvbj49NzEpKXt2YXIgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5zZHAmJi0xIT09ZS5zZHAuaW5kZXhPZihcIlxcbmE9ZXh0bWFwLWFsbG93LW1peGVkXCIpJiYoZS5zZHA9ZS5zZHAuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cImE9ZXh0bWFwLWFsbG93LW1peGVkXCIhPT1lLnRyaW0oKX0pKS5qb2luKFwiXFxuXCIpKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fX19LHtcIi4vdXRpbHNcIjoxNSxzZHA6MTd9XSw3OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5zaGltR2V0RGlzcGxheU1lZGlhPXIuc2hpbUdldFVzZXJNZWRpYT12b2lkIDA7dmFyIGk9ZShcIi4vZ2V0dXNlcm1lZGlhXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwic2hpbUdldFVzZXJNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLnNoaW1HZXRVc2VyTWVkaWF9fSk7dmFyIG89ZShcIi4vZ2V0ZGlzcGxheW1lZGlhXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwic2hpbUdldERpc3BsYXlNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLnNoaW1HZXREaXNwbGF5TWVkaWF9fSksci5zaGltUGVlckNvbm5lY3Rpb249ZCxyLnNoaW1SZXBsYWNlVHJhY2s9bDt2YXIgbj11KGUoXCIuLi91dGlsc1wiKSkscz1lKFwiLi9maWx0ZXJpY2VzZXJ2ZXJzXCIpLGE9YyhlKFwicnRjcGVlcmNvbm5lY3Rpb24tc2hpbVwiKSk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gdShlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gZChlKXt2YXIgdD1uLmRldGVjdEJyb3dzZXIoZSk7aWYoZS5SVENJY2VHYXRoZXJlciYmKGUuUlRDSWNlQ2FuZGlkYXRlfHwoZS5SVENJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSxlLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbnx8KGUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlfSksdC52ZXJzaW9uPDE1MDI1KSl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLk1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLFwiZW5hYmxlZFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5NZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZSxcImVuYWJsZWRcIix7c2V0OmZ1bmN0aW9uKGUpe3Iuc2V0LmNhbGwodGhpcyxlKTt2YXIgdD1uZXcgRXZlbnQoXCJlbmFibGVkXCIpO3QuZW5hYmxlZD1lLHRoaXMuZGlzcGF0Y2hFdmVudCh0KX19KX1lLlJUQ1J0cFNlbmRlciYmIShcImR0bWZcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsXCJkdG1mXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYoXCJhdWRpb1wiPT09dGhpcy50cmFjay5raW5kP3RoaXMuX2R0bWY9bmV3IGUuUlRDRHRtZlNlbmRlcih0aGlzKTpcInZpZGVvXCI9PT10aGlzLnRyYWNrLmtpbmQmJih0aGlzLl9kdG1mPW51bGwpKSx0aGlzLl9kdG1mfX0pLGUuUlRDRHRtZlNlbmRlciYmIWUuUlRDRFRNRlNlbmRlciYmKGUuUlRDRFRNRlNlbmRlcj1lLlJUQ0R0bWZTZW5kZXIpO3ZhciBpPSgwLGEuZGVmYXVsdCkoZSx0LnZlcnNpb24pO2UuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuaWNlU2VydmVycyYmKGUuaWNlU2VydmVycz0oMCxzLmZpbHRlckljZVNlcnZlcnMpKGUuaWNlU2VydmVycyx0LnZlcnNpb24pLG4ubG9nKFwiSUNFIHNlcnZlcnMgYWZ0ZXIgZmlsdGVyaW5nOlwiLGUuaWNlU2VydmVycykpLG5ldyBpKGUpfSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZT1pLnByb3RvdHlwZX1mdW5jdGlvbiBsKGUpe2UuUlRDUnRwU2VuZGVyJiYhKFwicmVwbGFjZVRyYWNrXCJpbiBlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpJiYoZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLnJlcGxhY2VUcmFjaz1lLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuc2V0VHJhY2spfX0se1wiLi4vdXRpbHNcIjoxNSxcIi4vZmlsdGVyaWNlc2VydmVyc1wiOjgsXCIuL2dldGRpc3BsYXltZWRpYVwiOjksXCIuL2dldHVzZXJtZWRpYVwiOjEwLFwicnRjcGVlcmNvbm5lY3Rpb24tc2hpbVwiOjE2fV0sODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuZmlsdGVySWNlU2VydmVycz1uO3ZhciBpPW8oZShcIi4uL3V0aWxzXCIpKTtmdW5jdGlvbiBvKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9ITE7cmV0dXJuKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7aWYoZSYmKGUudXJsc3x8ZS51cmwpKXt2YXIgdD1lLnVybHN8fGUudXJsO2UudXJsJiYhZS51cmxzJiZpLmRlcHJlY2F0ZWQoXCJSVENJY2VTZXJ2ZXIudXJsXCIsXCJSVENJY2VTZXJ2ZXIudXJsc1wiKTt2YXIgbz1cInN0cmluZ1wiPT10eXBlb2YgdDtyZXR1cm4gbyYmKHQ9W3RdKSx0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtpZigwPT09ZS5pbmRleE9mKFwic3R1bjpcIikpcmV0dXJuITE7dmFyIHQ9ZS5zdGFydHNXaXRoKFwidHVyblwiKSYmIWUuc3RhcnRzV2l0aChcInR1cm46W1wiKSYmZS5pbmNsdWRlcyhcInRyYW5zcG9ydD11ZHBcIik7cmV0dXJuIHQmJiFyPyhyPSEwLCEwKTp0JiYhcn0pKSxkZWxldGUgZS51cmwsZS51cmxzPW8/dFswXTp0LCEhdC5sZW5ndGh9fSkpfX0se1wiLi4vdXRpbHNcIjoxNX1dLDk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe1wiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvciYmZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiYoZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZcImdldERpc3BsYXlNZWRpYVwiaW4gZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwoZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1lLm5hdmlnYXRvci5nZXREaXNwbGF5TWVkaWEuYmluZChlLm5hdmlnYXRvcikpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxyLnNoaW1HZXREaXNwbGF5TWVkaWE9aX0se31dLDEwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXt2YXIgdD1lJiZlLm5hdmlnYXRvcixyPWZ1bmN0aW9uKGUpe3JldHVybntuYW1lOntQZXJtaXNzaW9uRGVuaWVkRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIn1bZS5uYW1lXXx8ZS5uYW1lLG1lc3NhZ2U6ZS5tZXNzYWdlLGNvbnN0cmFpbnQ6ZS5jb25zdHJhaW50LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX19fSxpPXQubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKHQubWVkaWFEZXZpY2VzKTt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChyKGUpKX0pKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5zaGltR2V0VXNlck1lZGlhPWl9LHt9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuc2hpbUdldERpc3BsYXlNZWRpYT1yLnNoaW1HZXRVc2VyTWVkaWE9dm9pZCAwO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG89ZShcIi4vZ2V0dXNlcm1lZGlhXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwic2hpbUdldFVzZXJNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLnNoaW1HZXRVc2VyTWVkaWF9fSk7dmFyIG49ZShcIi4vZ2V0ZGlzcGxheW1lZGlhXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwic2hpbUdldERpc3BsYXlNZWRpYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLnNoaW1HZXREaXNwbGF5TWVkaWF9fSksci5zaGltT25UcmFjaz1jLHIuc2hpbVBlZXJDb25uZWN0aW9uPXUsci5zaGltU2VuZGVyR2V0U3RhdHM9ZCxyLnNoaW1SZWNlaXZlckdldFN0YXRzPWwsci5zaGltUmVtb3ZlU3RyZWFtPWgsci5zaGltUlRDRGF0YUNoYW5uZWw9cDt2YXIgcz1hKGUoXCIuLi91dGlsc1wiKSk7ZnVuY3Rpb24gYShlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gYyhlKXtcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmZS5SVENUcmFja0V2ZW50JiZcInJlY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlJiYhKFwidHJhbnNjZWl2ZXJcImluIGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSxcInRyYW5zY2VpdmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybntyZWNlaXZlcjp0aGlzLnJlY2VpdmVyfX19KX1mdW5jdGlvbiB1KGUpe3ZhciB0PXMuZGV0ZWN0QnJvd3NlcihlKTtpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmKGUuUlRDUGVlckNvbm5lY3Rpb258fGUubW96UlRDUGVlckNvbm5lY3Rpb24pKXshZS5SVENQZWVyQ29ubmVjdGlvbiYmZS5tb3pSVENQZWVyQ29ubmVjdGlvbiYmKGUuUlRDUGVlckNvbm5lY3Rpb249ZS5tb3pSVENQZWVyQ29ubmVjdGlvbiksW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KFwiYWRkSWNlQ2FuZGlkYXRlXCI9PT10P2UuUlRDSWNlQ2FuZGlkYXRlOmUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKTt2YXIgcj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooYXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0uYXBwbHkobnVsbCksUHJvbWlzZS5yZXNvbHZlKCkpfTt2YXIgbz17aW5ib3VuZHJ0cDpcImluYm91bmQtcnRwXCIsb3V0Ym91bmRydHA6XCJvdXRib3VuZC1ydHBcIixjYW5kaWRhdGVwYWlyOlwiY2FuZGlkYXRlLXBhaXJcIixsb2NhbGNhbmRpZGF0ZTpcImxvY2FsLWNhbmRpZGF0ZVwiLHJlbW90ZWNhbmRpZGF0ZTpcInJlbW90ZS1jYW5kaWRhdGVcIn0sbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG4uYXBwbHkodGhpcyxbZXx8bnVsbF0pLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKHQudmVyc2lvbjw1MyYmIXIpdHJ5e2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS50eXBlPW9bZS50eXBlXXx8ZS50eXBlfSkpfWNhdGNoKHQpe2lmKFwiVHlwZUVycm9yXCIhPT10Lm5hbWUpdGhyb3cgdDtlLmZvckVhY2goKGZ1bmN0aW9uKHQscil7ZS5zZXQocixPYmplY3QuYXNzaWduKHt9LHQse3R5cGU6b1t0LnR5cGVdfHx0LnR5cGV9KSl9KSl9cmV0dXJuIGV9KSkudGhlbihyLGkpfX19ZnVuY3Rpb24gZChlKXtpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmZS5SVENSdHBTZW5kZXImJighZS5SVENSdHBTZW5kZXJ8fCEoXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBTZW5kZXIucHJvdG90eXBlKSkpe3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHI9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5fcGM9ZX0pKSxyfSk7dmFyIHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7ciYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKCl7dmFyIGU9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUuX3BjPXRoaXMsZX0pLGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWNrP3RoaXMuX3BjLmdldFN0YXRzKHRoaXMudHJhY2spOlByb21pc2UucmVzb2x2ZShuZXcgTWFwKX19fWZ1bmN0aW9uIGwoZSl7aWYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6aShlKSkmJmUuUlRDUGVlckNvbm5lY3Rpb24mJmUuUlRDUnRwU2VuZGVyJiYoIWUuUlRDUnRwU2VuZGVyfHwhKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSkpe3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVyczt0JiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuX3BjPWV9KSkscn0pLHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQoZSxcInRyYWNrXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlY2VpdmVyLl9wYz1lLnNyY0VsZW1lbnQsZX0pKSxlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKX19fWZ1bmN0aW9uIGgoZSl7ZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcInJlbW92ZVN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cy5kZXByZWNhdGVkKFwicmVtb3ZlU3RyZWFtXCIsXCJyZW1vdmVUcmFja1wiKSx0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKChmdW5jdGlvbihyKXtyLnRyYWNrJiZlLmdldFRyYWNrcygpLmluY2x1ZGVzKHIudHJhY2spJiZ0LnJlbW92ZVRyYWNrKHIpfSkpfSl9ZnVuY3Rpb24gcChlKXtlLkRhdGFDaGFubmVsJiYhZS5SVENEYXRhQ2hhbm5lbCYmKGUuUlRDRGF0YUNoYW5uZWw9ZS5EYXRhQ2hhbm5lbCl9fSx7XCIuLi91dGlsc1wiOjE1LFwiLi9nZXRkaXNwbGF5bWVkaWFcIjoxMixcIi4vZ2V0dXNlcm1lZGlhXCI6MTN9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvci5tZWRpYURldmljZXN8fGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE9ZnVuY3Rpb24ocil7aWYoIXJ8fCFyLnZpZGVvKXt2YXIgaT1uZXcgRE9NRXhjZXB0aW9uKFwiZ2V0RGlzcGxheU1lZGlhIHdpdGhvdXQgdmlkZW8gY29uc3RyYWludHMgaXMgdW5kZWZpbmVkXCIpO3JldHVybiBpLm5hbWU9XCJOb3RGb3VuZEVycm9yXCIsaS5jb2RlPTgsUHJvbWlzZS5yZWplY3QoaSl9cmV0dXJuITA9PT1yLnZpZGVvP3IudmlkZW89e21lZGlhU291cmNlOnR9OnIudmlkZW8ubWVkaWFTb3VyY2U9dCxlLm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpfSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5zaGltR2V0RGlzcGxheU1lZGlhPWl9LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3Iuc2hpbUdldFVzZXJNZWRpYT1zO3ZhciBvPW4oZShcIi4uL3V0aWxzXCIpKTtmdW5jdGlvbiBuKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBzKGUpe3ZhciB0PW8uZGV0ZWN0QnJvd3NlcihlKSxyPWUmJmUubmF2aWdhdG9yLG49ZSYmZS5NZWRpYVN0cmVhbVRyYWNrO2lmKHIuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsdCxpKXtvLmRlcHJlY2F0ZWQoXCJuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhXCIsXCJuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiKSxyLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbih0LGkpfSwhKHQudmVyc2lvbj41NSYmXCJhdXRvR2FpbkNvbnRyb2xcImluIHIubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzKCkpKXt2YXIgcz1mdW5jdGlvbihlLHQscil7dCBpbiBlJiYhKHIgaW4gZSkmJihlW3JdPWVbdF0sZGVsZXRlIGVbdF0pfSxhPXIubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKHIubWVkaWFEZXZpY2VzKTtpZihyLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6aShlKSkmJlwib2JqZWN0XCI9PT1pKGUuYXVkaW8pJiYoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSxzKGUuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxzKGUuYXVkaW8sXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSxhKGUpfSxuJiZuLnByb3RvdHlwZS5nZXRTZXR0aW5ncyl7dmFyIGM9bi5wcm90b3R5cGUuZ2V0U2V0dGluZ3M7bi5wcm90b3R5cGUuZ2V0U2V0dGluZ3M9ZnVuY3Rpb24oKXt2YXIgZT1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gcyhlLFwibW96QXV0b0dhaW5Db250cm9sXCIsXCJhdXRvR2FpbkNvbnRyb2xcIikscyhlLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiLFwibm9pc2VTdXBwcmVzc2lvblwiKSxlfX1pZihuJiZuLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzKXt2YXIgdT1uLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzO24ucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb1wiPT09dGhpcy5raW5kJiZcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkscyhlLFwiYXV0b0dhaW5Db250cm9sXCIsXCJtb3pBdXRvR2FpbkNvbnRyb2xcIikscyhlLFwibm9pc2VTdXBwcmVzc2lvblwiLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiKSksdS5hcHBseSh0aGlzLFtlXSl9fX19fSx7XCIuLi91dGlsc1wiOjE1fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtyLnNoaW1Mb2NhbFN0cmVhbXNBUEk9cyxyLnNoaW1SZW1vdGVTdHJlYW1zQVBJPWEsci5zaGltQ2FsbGJhY2tzQVBJPWMsci5zaGltR2V0VXNlck1lZGlhPXUsci5zaGltQ29uc3RyYWludHM9ZCxyLnNoaW1SVENJY2VTZXJ2ZXJVcmxzPWwsci5zaGltVHJhY2tFdmVudFRyYW5zY2VpdmVyPWgsci5zaGltQ3JlYXRlT2ZmZXJMZWdhY3k9cDt2YXIgbz1uKGUoXCIuLi91dGlsc1wiKSk7ZnVuY3Rpb24gbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gcyhlKXtpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmZS5SVENQZWVyQ29ubmVjdGlvbil7aWYoXCJnZXRMb2NhbFN0cmVhbXNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSksdGhpcy5fbG9jYWxTdHJlYW1zfSksIShcImFkZFN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHI9dGhpczt0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLHRoaXMuX2xvY2FsU3RyZWFtcy5pbmNsdWRlcyhlKXx8dGhpcy5fbG9jYWxTdHJlYW1zLnB1c2goZSksZS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihpKXtyZXR1cm4gdC5jYWxsKHIsaSxlKX0pKX0sZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gciYmKHRoaXMuX2xvY2FsU3RyZWFtcz90aGlzLl9sb2NhbFN0cmVhbXMuaW5jbHVkZXMocil8fHRoaXMuX2xvY2FsU3RyZWFtcy5wdXNoKHIpOnRoaXMuX2xvY2FsU3RyZWFtcz1bcl0pLHQuY2FsbCh0aGlzLGUscil9fVwicmVtb3ZlU3RyZWFtXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSk7dmFyIHI9dGhpcy5fbG9jYWxTdHJlYW1zLmluZGV4T2YoZSk7aWYoLTEhPT1yKXt0aGlzLl9sb2NhbFN0cmVhbXMuc3BsaWNlKHIsMSk7dmFyIGk9ZS5nZXRUcmFja3MoKTt0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpLmluY2x1ZGVzKGUudHJhY2spJiZ0LnJlbW92ZVRyYWNrKGUpfSkpfX0pfX1mdW5jdGlvbiBhKGUpe2lmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiYoXCJnZXRSZW1vdGVTdHJlYW1zXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlbW90ZVN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVtb3RlU3RyZWFtcz90aGlzLl9yZW1vdGVTdHJlYW1zOltdfSksIShcIm9uYWRkc3RyZWFtXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJvbmFkZHN0cmVhbVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25hZGRzdHJlYW19LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX29uYWRkc3RyZWFtJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5fb25hZGRzdHJlYW0pLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb25hZGRzdHJlYW1wb2x5KSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5fb25hZGRzdHJlYW09ZSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHk9ZnVuY3Rpb24oZSl7ZS5zdHJlYW1zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHQuX3JlbW90ZVN0cmVhbXN8fCh0Ll9yZW1vdGVTdHJlYW1zPVtdKSwhdC5fcmVtb3RlU3RyZWFtcy5pbmNsdWRlcyhlKSl7dC5fcmVtb3RlU3RyZWFtcy5wdXNoKGUpO3ZhciByPW5ldyBFdmVudChcImFkZHN0cmVhbVwiKTtyLnN0cmVhbT1lLHQuZGlzcGF0Y2hFdmVudChyKX19KSl9KX19KTt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtcG9seXx8dGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHk9ZnVuY3Rpb24odCl7dC5zdHJlYW1zLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKGUuX3JlbW90ZVN0cmVhbXN8fChlLl9yZW1vdGVTdHJlYW1zPVtdKSwhKGUuX3JlbW90ZVN0cmVhbXMuaW5kZXhPZih0KT49MCkpe2UuX3JlbW90ZVN0cmVhbXMucHVzaCh0KTt2YXIgcj1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7ci5zdHJlYW09dCxlLmRpc3BhdGNoRXZlbnQocil9fSkpfSksdC5hcHBseShlLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiBjKGUpe2lmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpJiZlLlJUQ1BlZXJDb25uZWN0aW9uKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxyPXQuY3JlYXRlT2ZmZXIsbz10LmNyZWF0ZUFuc3dlcixuPXQuc2V0TG9jYWxEZXNjcmlwdGlvbixzPXQuc2V0UmVtb3RlRGVzY3JpcHRpb24sYT10LmFkZEljZUNhbmRpZGF0ZTt0LmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ci5hcHBseSh0aGlzLFthcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1syXTphcmd1bWVudHNbMF1dKTtyZXR1cm4gdD8oaS50aGVuKGUsdCksUHJvbWlzZS5yZXNvbHZlKCkpOml9LHQuY3JlYXRlQW5zd2VyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9by5hcHBseSh0aGlzLFthcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1syXTphcmd1bWVudHNbMF1dKTtyZXR1cm4gdD8oci50aGVuKGUsdCksUHJvbWlzZS5yZXNvbHZlKCkpOnJ9O3ZhciBjPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1uLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gcj8oaS50aGVuKHQsciksUHJvbWlzZS5yZXNvbHZlKCkpOml9O3Quc2V0TG9jYWxEZXNjcmlwdGlvbj1jLHQuc2V0UmVtb3RlRGVzY3JpcHRpb249Yz1mdW5jdGlvbihlLHQscil7dmFyIGk9cy5hcHBseSh0aGlzLFtlXSk7cmV0dXJuIHI/KGkudGhlbih0LHIpLFByb21pc2UucmVzb2x2ZSgpKTppfSx0LmFkZEljZUNhbmRpZGF0ZT1jPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1hLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gcj8oaS50aGVuKHQsciksUHJvbWlzZS5yZXNvbHZlKCkpOml9fX1mdW5jdGlvbiB1KGUpe3ZhciB0PWUmJmUubmF2aWdhdG9yO2lmKHQubWVkaWFEZXZpY2VzJiZ0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe3ZhciByPXQubWVkaWFEZXZpY2VzLGk9ci5nZXRVc2VyTWVkaWEuYmluZChyKTt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZChlKSl9fSF0LmdldFVzZXJNZWRpYSYmdC5tZWRpYURldmljZXMmJnQubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmKHQuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUscixpKXt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbihyLGkpfS5iaW5kKHQpKX1mdW5jdGlvbiBkKGUpe3JldHVybiBlJiZ2b2lkIDAhPT1lLnZpZGVvP09iamVjdC5hc3NpZ24oe30sZSx7dmlkZW86by5jb21wYWN0T2JqZWN0KGUudmlkZW8pfSk6ZX1mdW5jdGlvbiBsKGUpe3ZhciB0PWUuUlRDUGVlckNvbm5lY3Rpb247ZS5SVENQZWVyQ29ubmVjdGlvbj1mdW5jdGlvbihlLHIpe2lmKGUmJmUuaWNlU2VydmVycyl7Zm9yKHZhciBpPVtdLG49MDtuPGUuaWNlU2VydmVycy5sZW5ndGg7bisrKXt2YXIgcz1lLmljZVNlcnZlcnNbbl07IXMuaGFzT3duUHJvcGVydHkoXCJ1cmxzXCIpJiZzLmhhc093blByb3BlcnR5KFwidXJsXCIpPyhvLmRlcHJlY2F0ZWQoXCJSVENJY2VTZXJ2ZXIudXJsXCIsXCJSVENJY2VTZXJ2ZXIudXJsc1wiKSwocz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKSkudXJscz1zLnVybCxkZWxldGUgcy51cmwsaS5wdXNoKHMpKTppLnB1c2goZS5pY2VTZXJ2ZXJzW25dKX1lLmljZVNlcnZlcnM9aX1yZXR1cm4gbmV3IHQoZSxyKX0sZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU9dC5wcm90b3R5cGUsXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbixcImdlbmVyYXRlQ2VydGlmaWNhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2VuZXJhdGVDZXJ0aWZpY2F0ZX19KX1mdW5jdGlvbiBoKGUpe1wib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiZcInJlY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlJiYhZS5SVENUcmFuc2NlaXZlciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsXCJ0cmFuc2NlaXZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cmVjZWl2ZXI6dGhpcy5yZWNlaXZlcn19fSl9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbihlKXtpZihlKXt2b2lkIDAhPT1lLm9mZmVyVG9SZWNlaXZlQXVkaW8mJihlLm9mZmVyVG9SZWNlaXZlQXVkaW89ISFlLm9mZmVyVG9SZWNlaXZlQXVkaW8pO3ZhciByPXRoaXMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb1wiPT09ZS5yZWNlaXZlci50cmFjay5raW5kfSkpOyExPT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvJiZyP1wic2VuZHJlY3ZcIj09PXIuZGlyZWN0aW9uP3Iuc2V0RGlyZWN0aW9uP3Iuc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6ci5kaXJlY3Rpb249XCJzZW5kb25seVwiOlwicmVjdm9ubHlcIj09PXIuZGlyZWN0aW9uJiYoci5zZXREaXJlY3Rpb24/ci5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTpyLmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOiEwIT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvfHxyfHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIiksdm9pZCAwIT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvJiYoZS5vZmZlclRvUmVjZWl2ZVZpZGVvPSEhZS5vZmZlclRvUmVjZWl2ZVZpZGVvKTt2YXIgaT10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09PWUucmVjZWl2ZXIudHJhY2sua2luZH0pKTshMT09PWUub2ZmZXJUb1JlY2VpdmVWaWRlbyYmaT9cInNlbmRyZWN2XCI9PT1pLmRpcmVjdGlvbj9pLnNldERpcmVjdGlvbj9pLnNldERpcmVjdGlvbihcInNlbmRvbmx5XCIpOmkuZGlyZWN0aW9uPVwic2VuZG9ubHlcIjpcInJlY3Zvbmx5XCI9PT1pLmRpcmVjdGlvbiYmKGkuc2V0RGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uKFwiaW5hY3RpdmVcIik6aS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiKTohMCE9PWUub2ZmZXJUb1JlY2VpdmVWaWRlb3x8aXx8dGhpcy5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIpfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSx7XCIuLi91dGlsc1wiOjE1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtmdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1yLmV4dHJhY3RWZXJzaW9uPWEsci53cmFwUGVlckNvbm5lY3Rpb25FdmVudD1jLHIuZGlzYWJsZUxvZz11LHIuZGlzYWJsZVdhcm5pbmdzPWQsci5sb2c9bCxyLmRlcHJlY2F0ZWQ9aCxyLmRldGVjdEJyb3dzZXI9cCxyLmNvbXBhY3RPYmplY3Q9ZyxyLndhbGtTdGF0cz1mLHIuZmlsdGVyU3RhdHM9bTt2YXIgbj0hMCxzPSEwO2Z1bmN0aW9uIGEoZSx0LHIpe3ZhciBpPWUubWF0Y2godCk7cmV0dXJuIGkmJmkubGVuZ3RoPj1yJiZwYXJzZUludChpW3JdLDEwKX1mdW5jdGlvbiBjKGUsdCxyKXtpZihlLlJUQ1BlZXJDb25uZWN0aW9uKXt2YXIgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxvPWkuYWRkRXZlbnRMaXN0ZW5lcjtpLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSxpKXtpZihlIT09dClyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9cihlKTt0JiZpKHQpfTtyZXR1cm4gdGhpcy5fZXZlbnRNYXA9dGhpcy5fZXZlbnRNYXB8fHt9LHRoaXMuX2V2ZW50TWFwW2ldPW4sby5hcHBseSh0aGlzLFtlLG5dKX07dmFyIG49aS5yZW1vdmVFdmVudExpc3RlbmVyO2kucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHIpe2lmKGUhPT10fHwhdGhpcy5fZXZlbnRNYXB8fCF0aGlzLl9ldmVudE1hcFtyXSlyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGk9dGhpcy5fZXZlbnRNYXBbcl07cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudE1hcFtyXSxuLmFwcGx5KHRoaXMsW2UsaV0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIm9uXCIrdCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbXCJfb25cIit0XX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXNbXCJfb25cIit0XSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHRoaXNbXCJfb25cIit0XSksZGVsZXRlIHRoaXNbXCJfb25cIit0XSksZSYmdGhpcy5hZGRFdmVudExpc3RlbmVyKHQsdGhpc1tcIl9vblwiK3RdPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX1mdW5jdGlvbiB1KGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZT9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIisodm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpK1wiLiBQbGVhc2UgdXNlIGEgYm9vbGVhbi5cIik6KG49ZSxlP1wiYWRhcHRlci5qcyBsb2dnaW5nIGRpc2FibGVkXCI6XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZW5hYmxlZFwiKX1mdW5jdGlvbiBkKGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZT9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIisodm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpK1wiLiBQbGVhc2UgdXNlIGEgYm9vbGVhbi5cIik6KHM9IWUsXCJhZGFwdGVyLmpzIGRlcHJlY2F0aW9uIHdhcm5pbmdzIFwiKyhlP1wiZGlzYWJsZWRcIjpcImVuYWJsZWRcIikpfWZ1bmN0aW9uIGwoKXtpZihcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/XCJ1bmRlZmluZWRcIjppKHdpbmRvdykpKXtpZihuKXJldHVybjtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5sb2cmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gaChlLHQpe3MmJmNvbnNvbGUud2FybihlK1wiIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgXCIrdCtcIiBpbnN0ZWFkLlwiKX1mdW5jdGlvbiBwKGUpe3ZhciB0PWUubmF2aWdhdG9yLHI9e2Jyb3dzZXI6bnVsbCx2ZXJzaW9uOm51bGx9O2lmKHZvaWQgMD09PWV8fCFlLm5hdmlnYXRvcilyZXR1cm4gci5icm93c2VyPVwiTm90IGEgYnJvd3Nlci5cIixyO2lmKHQubW96R2V0VXNlck1lZGlhKXIuYnJvd3Nlcj1cImZpcmVmb3hcIixyLnZlcnNpb249YSh0LnVzZXJBZ2VudCwvRmlyZWZveFxcLyhcXGQrKVxcLi8sMSk7ZWxzZSBpZih0LndlYmtpdEdldFVzZXJNZWRpYXx8ITE9PT1lLmlzU2VjdXJlQ29udGV4dCYmZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiYmIWUuUlRDSWNlR2F0aGVyZXIpci5icm93c2VyPVwiY2hyb21lXCIsci52ZXJzaW9uPWEodC51c2VyQWdlbnQsL0Nocm9tKGV8aXVtKVxcLyhcXGQrKVxcLi8sMik7ZWxzZSBpZih0Lm1lZGlhRGV2aWNlcyYmdC51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8pKXIuYnJvd3Nlcj1cImVkZ2VcIixyLnZlcnNpb249YSh0LnVzZXJBZ2VudCwvRWRnZVxcLyhcXGQrKS4oXFxkKykkLywyKTtlbHNle2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhdC51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLykpcmV0dXJuIHIuYnJvd3Nlcj1cIk5vdCBhIHN1cHBvcnRlZCBicm93c2VyLlwiLHI7ci5icm93c2VyPVwic2FmYXJpXCIsci52ZXJzaW9uPWEodC51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKX1yZXR1cm4gcn1mdW5jdGlvbiBnKGUpe3JldHVyblwib2JqZWN0XCIhPT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmkoZSkpP2U6T2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3ZhciBuPVwib2JqZWN0XCI9PT1pKGVbcl0pLHM9bj9nKGVbcl0pOmVbcl0sYT1uJiYhT2JqZWN0LmtleXMocykubGVuZ3RoO3JldHVybiB2b2lkIDA9PT1zfHxhP3Q6T2JqZWN0LmFzc2lnbih0LG8oe30scixzKSl9KSx7fSl9ZnVuY3Rpb24gZihlLHQscil7dCYmIXIuaGFzKHQuaWQpJiYoci5zZXQodC5pZCx0KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihpKXtpLmVuZHNXaXRoKFwiSWRcIik/ZihlLGUuZ2V0KHRbaV0pLHIpOmkuZW5kc1dpdGgoXCJJZHNcIikmJnRbaV0uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZihlLGUuZ2V0KHQpLHIpfSkpfSkpKX1mdW5jdGlvbiBtKGUsdCxyKXt2YXIgaT1yP1wib3V0Ym91bmQtcnRwXCI6XCJpbmJvdW5kLXJ0cFwiLG89bmV3IE1hcDtpZihudWxsPT09dClyZXR1cm4gbzt2YXIgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtcInRyYWNrXCI9PT1lLnR5cGUmJmUudHJhY2tJZGVudGlmaWVyPT09dC5pZCYmbi5wdXNoKGUpfSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5mb3JFYWNoKChmdW5jdGlvbihyKXtyLnR5cGU9PT1pJiZyLnRyYWNrSWQ9PT10LmlkJiZmKGUscixvKX0pKX0pKSxvfX0se31dLDE2OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZShcInNkcFwiKTtmdW5jdGlvbiBvKGUpe3JldHVybntpbmJvdW5kcnRwOlwiaW5ib3VuZC1ydHBcIixvdXRib3VuZHJ0cDpcIm91dGJvdW5kLXJ0cFwiLGNhbmRpZGF0ZXBhaXI6XCJjYW5kaWRhdGUtcGFpclwiLGxvY2FsY2FuZGlkYXRlOlwibG9jYWwtY2FuZGlkYXRlXCIscmVtb3RlY2FuZGlkYXRlOlwicmVtb3RlLWNhbmRpZGF0ZVwifVtlLnR5cGVdfHxlLnR5cGV9ZnVuY3Rpb24gbihlLHQscixvLG4pe3ZhciBzPWkud3JpdGVSdHBEZXNjcmlwdGlvbihlLmtpbmQsdCk7aWYocys9aS53cml0ZUljZVBhcmFtZXRlcnMoZS5pY2VHYXRoZXJlci5nZXRMb2NhbFBhcmFtZXRlcnMoKSkscys9aS53cml0ZUR0bHNQYXJhbWV0ZXJzKGUuZHRsc1RyYW5zcG9ydC5nZXRMb2NhbFBhcmFtZXRlcnMoKSxcIm9mZmVyXCI9PT1yP1wiYWN0cGFzc1wiOm58fFwiYWN0aXZlXCIpLHMrPVwiYT1taWQ6XCIrZS5taWQrXCJcXHJcXG5cIixzKz1lLnJ0cFNlbmRlciYmZS5ydHBSZWNlaXZlcj9cImE9c2VuZHJlY3ZcXHJcXG5cIjplLnJ0cFNlbmRlcj9cImE9c2VuZG9ubHlcXHJcXG5cIjplLnJ0cFJlY2VpdmVyP1wiYT1yZWN2b25seVxcclxcblwiOlwiYT1pbmFjdGl2ZVxcclxcblwiLGUucnRwU2VuZGVyKXt2YXIgYT1lLnJ0cFNlbmRlci5faW5pdGlhbFRyYWNrSWR8fGUucnRwU2VuZGVyLnRyYWNrLmlkO2UucnRwU2VuZGVyLl9pbml0aWFsVHJhY2tJZD1hO3ZhciBjPVwibXNpZDpcIisobz9vLmlkOlwiLVwiKStcIiBcIithK1wiXFxyXFxuXCI7cys9XCJhPVwiK2Mscys9XCJhPXNzcmM6XCIrZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMrXCIgXCIrYyxlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4JiYocys9XCJhPXNzcmM6XCIrZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eC5zc3JjK1wiIFwiK2Mscys9XCJhPXNzcmMtZ3JvdXA6RklEIFwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjK1wiIFwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHguc3NyYytcIlxcclxcblwiKX1yZXR1cm4gcys9XCJhPXNzcmM6XCIrZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMrXCIgY25hbWU6XCIraS5sb2NhbENOYW1lK1wiXFxyXFxuXCIsZS5ydHBTZW5kZXImJmUuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgmJihzKz1cImE9c3NyYzpcIitlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LnNzcmMrXCIgY25hbWU6XCIraS5sb2NhbENOYW1lK1wiXFxyXFxuXCIpLHN9ZnVuY3Rpb24gcyhlLHQpe3ZhciByPSExO3JldHVybihlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe2lmKGUmJihlLnVybHN8fGUudXJsKSl7dmFyIGk9ZS51cmxzfHxlLnVybDtlLnVybCYmIWUudXJscyYmY29uc29sZS53YXJuKFwiUlRDSWNlU2VydmVyLnVybCBpcyBkZXByZWNhdGVkISBVc2UgdXJscyBpbnN0ZWFkLlwiKTt2YXIgbz1cInN0cmluZ1wiPT10eXBlb2YgaTtyZXR1cm4gbyYmKGk9W2ldKSxpPWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuaW5kZXhPZihcInR1cm46XCIpfHwtMT09PWUuaW5kZXhPZihcInRyYW5zcG9ydD11ZHBcIil8fC0xIT09ZS5pbmRleE9mKFwidHVybjpbXCIpfHxyPzA9PT1lLmluZGV4T2YoXCJzdHVuOlwiKSYmdD49MTQzOTMmJi0xPT09ZS5pbmRleE9mKFwiP3RyYW5zcG9ydD11ZHBcIik6KHI9ITAsITApfSkpLGRlbGV0ZSBlLnVybCxlLnVybHM9bz9pWzBdOmksISFpLmxlbmd0aH19KSl9ZnVuY3Rpb24gYShlLHQpe3ZhciByPXtjb2RlY3M6W10saGVhZGVyRXh0ZW5zaW9uczpbXSxmZWNNZWNoYW5pc21zOltdfSxpPWZ1bmN0aW9uKGUsdCl7ZT1wYXJzZUludChlLDEwKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdLnBheWxvYWRUeXBlPT09ZXx8dFtyXS5wcmVmZXJyZWRQYXlsb2FkVHlwZT09PWUpcmV0dXJuIHRbcl19LG89ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49aShlLnBhcmFtZXRlcnMuYXB0LHIpLHM9aSh0LnBhcmFtZXRlcnMuYXB0LG8pO3JldHVybiBuJiZzJiZuLm5hbWUudG9Mb3dlckNhc2UoKT09PXMubmFtZS50b0xvd2VyQ2FzZSgpfTtyZXR1cm4gZS5jb2RlY3MuZm9yRWFjaCgoZnVuY3Rpb24oaSl7Zm9yKHZhciBuPTA7bjx0LmNvZGVjcy5sZW5ndGg7bisrKXt2YXIgcz10LmNvZGVjc1tuXTtpZihpLm5hbWUudG9Mb3dlckNhc2UoKT09PXMubmFtZS50b0xvd2VyQ2FzZSgpJiZpLmNsb2NrUmF0ZT09PXMuY2xvY2tSYXRlKXtpZihcInJ0eFwiPT09aS5uYW1lLnRvTG93ZXJDYXNlKCkmJmkucGFyYW1ldGVycyYmcy5wYXJhbWV0ZXJzLmFwdCYmIW8oaSxzLGUuY29kZWNzLHQuY29kZWNzKSljb250aW51ZTsocz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKSkubnVtQ2hhbm5lbHM9TWF0aC5taW4oaS5udW1DaGFubmVscyxzLm51bUNoYW5uZWxzKSxyLmNvZGVjcy5wdXNoKHMpLHMucnRjcEZlZWRiYWNrPXMucnRjcEZlZWRiYWNrLmZpbHRlcigoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxpLnJ0Y3BGZWVkYmFjay5sZW5ndGg7dCsrKWlmKGkucnRjcEZlZWRiYWNrW3RdLnR5cGU9PT1lLnR5cGUmJmkucnRjcEZlZWRiYWNrW3RdLnBhcmFtZXRlcj09PWUucGFyYW1ldGVyKXJldHVybiEwO3JldHVybiExfSkpO2JyZWFrfX19KSksZS5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0wO2k8dC5oZWFkZXJFeHRlbnNpb25zLmxlbmd0aDtpKyspe3ZhciBvPXQuaGVhZGVyRXh0ZW5zaW9uc1tpXTtpZihlLnVyaT09PW8udXJpKXtyLmhlYWRlckV4dGVuc2lvbnMucHVzaChvKTticmVha319fSkpLHJ9ZnVuY3Rpb24gYyhlLHQscil7cmV0dXJuLTEhPT17b2ZmZXI6e3NldExvY2FsRGVzY3JpcHRpb246W1wic3RhYmxlXCIsXCJoYXZlLWxvY2FsLW9mZmVyXCJdLHNldFJlbW90ZURlc2NyaXB0aW9uOltcInN0YWJsZVwiLFwiaGF2ZS1yZW1vdGUtb2ZmZXJcIl19LGFuc3dlcjp7c2V0TG9jYWxEZXNjcmlwdGlvbjpbXCJoYXZlLXJlbW90ZS1vZmZlclwiLFwiaGF2ZS1sb2NhbC1wcmFuc3dlclwiXSxzZXRSZW1vdGVEZXNjcmlwdGlvbjpbXCJoYXZlLWxvY2FsLW9mZmVyXCIsXCJoYXZlLXJlbW90ZS1wcmFuc3dlclwiXX19W3RdW2VdLmluZGV4T2Yocil9ZnVuY3Rpb24gdShlLHQpe3ZhciByPWUuZ2V0UmVtb3RlQ2FuZGlkYXRlcygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZvdW5kYXRpb249PT1lLmZvdW5kYXRpb24mJnQuaXA9PT1lLmlwJiZ0LnBvcnQ9PT1lLnBvcnQmJnQucHJpb3JpdHk9PT1lLnByaW9yaXR5JiZ0LnByb3RvY29sPT09ZS5wcm90b2NvbCYmdC50eXBlPT09ZS50eXBlfSkpO3JldHVybiByfHxlLmFkZFJlbW90ZUNhbmRpZGF0ZSh0KSwhcn1mdW5jdGlvbiBkKGUsdCl7dmFyIHI9bmV3IEVycm9yKHQpO3JldHVybiByLm5hbWU9ZSxyLmNvZGU9e05vdFN1cHBvcnRlZEVycm9yOjksSW52YWxpZFN0YXRlRXJyb3I6MTEsSW52YWxpZEFjY2Vzc0Vycm9yOjE1LFR5cGVFcnJvcjp2b2lkIDAsT3BlcmF0aW9uRXJyb3I6dm9pZCAwfVtlXSxyfXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIodCxyKXtyLmFkZFRyYWNrKHQpLHIuZGlzcGF0Y2hFdmVudChuZXcgZS5NZWRpYVN0cmVhbVRyYWNrRXZlbnQoXCJhZGR0cmFja1wiLHt0cmFjazp0fSkpfWZ1bmN0aW9uIGwodCxyKXtyLnJlbW92ZVRyYWNrKHQpLHIuZGlzcGF0Y2hFdmVudChuZXcgZS5NZWRpYVN0cmVhbVRyYWNrRXZlbnQoXCJyZW1vdmV0cmFja1wiLHt0cmFjazp0fSkpfWZ1bmN0aW9uIGgodCxyLGksbyl7dmFyIG49bmV3IEV2ZW50KFwidHJhY2tcIik7bi50cmFjaz1yLG4ucmVjZWl2ZXI9aSxuLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjppfSxuLnN0cmVhbXM9byxlLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fZGlzcGF0Y2hFdmVudChcInRyYWNrXCIsbil9KSl9dmFyIHA9ZnVuY3Rpb24ocil7dmFyIG89dGhpcyxuPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihbXCJhZGRFdmVudExpc3RlbmVyXCIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsXCJkaXNwYXRjaEV2ZW50XCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe29bZV09bltlXS5iaW5kKG4pfSkpLHRoaXMuY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXM9bnVsbCx0aGlzLm5lZWROZWdvdGlhdGlvbj0hMSx0aGlzLmxvY2FsU3RyZWFtcz1bXSx0aGlzLnJlbW90ZVN0cmVhbXM9W10sdGhpcy5fbG9jYWxEZXNjcmlwdGlvbj1udWxsLHRoaXMuX3JlbW90ZURlc2NyaXB0aW9uPW51bGwsdGhpcy5zaWduYWxpbmdTdGF0ZT1cInN0YWJsZVwiLHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlPVwibmV3XCIsdGhpcy5jb25uZWN0aW9uU3RhdGU9XCJuZXdcIix0aGlzLmljZUdhdGhlcmluZ1N0YXRlPVwibmV3XCIscj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJ8fHt9KSksdGhpcy51c2luZ0J1bmRsZT1cIm1heC1idW5kbGVcIj09PXIuYnVuZGxlUG9saWN5LFwibmVnb3RpYXRlXCI9PT1yLnJ0Y3BNdXhQb2xpY3kpdGhyb3cgZChcIk5vdFN1cHBvcnRlZEVycm9yXCIsXCJydGNwTXV4UG9saWN5ICduZWdvdGlhdGUnIGlzIG5vdCBzdXBwb3J0ZWRcIik7c3dpdGNoKHIucnRjcE11eFBvbGljeXx8KHIucnRjcE11eFBvbGljeT1cInJlcXVpcmVcIiksci5pY2VUcmFuc3BvcnRQb2xpY3kpe2Nhc2VcImFsbFwiOmNhc2VcInJlbGF5XCI6YnJlYWs7ZGVmYXVsdDpyLmljZVRyYW5zcG9ydFBvbGljeT1cImFsbFwifXN3aXRjaChyLmJ1bmRsZVBvbGljeSl7Y2FzZVwiYmFsYW5jZWRcIjpjYXNlXCJtYXgtY29tcGF0XCI6Y2FzZVwibWF4LWJ1bmRsZVwiOmJyZWFrO2RlZmF1bHQ6ci5idW5kbGVQb2xpY3k9XCJiYWxhbmNlZFwifWlmKHIuaWNlU2VydmVycz1zKHIuaWNlU2VydmVyc3x8W10sdCksdGhpcy5faWNlR2F0aGVyZXJzPVtdLHIuaWNlQ2FuZGlkYXRlUG9vbFNpemUpZm9yKHZhciBhPXIuaWNlQ2FuZGlkYXRlUG9vbFNpemU7YT4wO2EtLSl0aGlzLl9pY2VHYXRoZXJlcnMucHVzaChuZXcgZS5SVENJY2VHYXRoZXJlcih7aWNlU2VydmVyczpyLmljZVNlcnZlcnMsZ2F0aGVyUG9saWN5OnIuaWNlVHJhbnNwb3J0UG9saWN5fSkpO2Vsc2Ugci5pY2VDYW5kaWRhdGVQb29sU2l6ZT0wO3RoaXMuX2NvbmZpZz1yLHRoaXMudHJhbnNjZWl2ZXJzPVtdLHRoaXMuX3NkcFNlc3Npb25JZD1pLmdlbmVyYXRlU2Vzc2lvbklkKCksdGhpcy5fc2RwU2Vzc2lvblZlcnNpb249MCx0aGlzLl9kdGxzUm9sZT12b2lkIDAsdGhpcy5faXNDbG9zZWQ9ITF9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShwLnByb3RvdHlwZSxcImxvY2FsRGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbERlc2NyaXB0aW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwLnByb3RvdHlwZSxcInJlbW90ZURlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVtb3RlRGVzY3JpcHRpb259fSkscC5wcm90b3R5cGUub25pY2VjYW5kaWRhdGU9bnVsbCxwLnByb3RvdHlwZS5vbmFkZHN0cmVhbT1udWxsLHAucHJvdG90eXBlLm9udHJhY2s9bnVsbCxwLnByb3RvdHlwZS5vbnJlbW92ZXN0cmVhbT1udWxsLHAucHJvdG90eXBlLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCxwLnByb3RvdHlwZS5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHAucHJvdG90eXBlLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwscC5wcm90b3R5cGUub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZT1udWxsLHAucHJvdG90eXBlLm9ubmVnb3RpYXRpb25uZWVkZWQ9bnVsbCxwLnByb3RvdHlwZS5vbmRhdGFjaGFubmVsPW51bGwscC5wcm90b3R5cGUuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9pc0Nsb3NlZHx8KHRoaXMuZGlzcGF0Y2hFdmVudCh0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW1wib25cIitlXSYmdGhpc1tcIm9uXCIrZV0odCkpfSxwLnByb3RvdHlwZS5fZW1pdEdhdGhlcmluZ1N0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEV2ZW50KFwiaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2VcIik7dGhpcy5fZGlzcGF0Y2hFdmVudChcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIsZSl9LHAucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uZmlnfSxwLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbFN0cmVhbXN9LHAucHJvdG90eXBlLmdldFJlbW90ZVN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1vdGVTdHJlYW1zfSxwLnByb3RvdHlwZS5fY3JlYXRlVHJhbnNjZWl2ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17dHJhY2s6bnVsbCxpY2VHYXRoZXJlcjpudWxsLGljZVRyYW5zcG9ydDpudWxsLGR0bHNUcmFuc3BvcnQ6bnVsbCxsb2NhbENhcGFiaWxpdGllczpudWxsLHJlbW90ZUNhcGFiaWxpdGllczpudWxsLHJ0cFNlbmRlcjpudWxsLHJ0cFJlY2VpdmVyOm51bGwsa2luZDplLG1pZDpudWxsLHNlbmRFbmNvZGluZ1BhcmFtZXRlcnM6bnVsbCxyZWN2RW5jb2RpbmdQYXJhbWV0ZXJzOm51bGwsc3RyZWFtOm51bGwsYXNzb2NpYXRlZFJlbW90ZU1lZGlhU3RyZWFtczpbXSx3YW50UmVjZWl2ZTohMH07aWYodGhpcy51c2luZ0J1bmRsZSYmdGhpcy50cmFuc2NlaXZlcnMubGVuZ3RoPjApci5pY2VUcmFuc3BvcnQ9dGhpcy50cmFuc2NlaXZlcnNbMF0uaWNlVHJhbnNwb3J0LHIuZHRsc1RyYW5zcG9ydD10aGlzLnRyYW5zY2VpdmVyc1swXS5kdGxzVHJhbnNwb3J0O2Vsc2V7dmFyIGk9dGhpcy5fY3JlYXRlSWNlQW5kRHRsc1RyYW5zcG9ydHMoKTtyLmljZVRyYW5zcG9ydD1pLmljZVRyYW5zcG9ydCxyLmR0bHNUcmFuc3BvcnQ9aS5kdGxzVHJhbnNwb3J0fXJldHVybiB0fHx0aGlzLnRyYW5zY2VpdmVycy5wdXNoKHIpLHJ9LHAucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKHQscil7aWYodGhpcy5faXNDbG9zZWQpdGhyb3cgZChcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJBdHRlbXB0ZWQgdG8gY2FsbCBhZGRUcmFjayBvbiBhIGNsb3NlZCBwZWVyY29ubmVjdGlvbi5cIik7dmFyIGk7aWYodGhpcy50cmFuc2NlaXZlcnMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2s9PT10fSkpKXRocm93IGQoXCJJbnZhbGlkQWNjZXNzRXJyb3JcIixcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiKTtmb3IodmFyIG89MDtvPHRoaXMudHJhbnNjZWl2ZXJzLmxlbmd0aDtvKyspdGhpcy50cmFuc2NlaXZlcnNbb10udHJhY2t8fHRoaXMudHJhbnNjZWl2ZXJzW29dLmtpbmQhPT10LmtpbmR8fChpPXRoaXMudHJhbnNjZWl2ZXJzW29dKTtyZXR1cm4gaXx8KGk9dGhpcy5fY3JlYXRlVHJhbnNjZWl2ZXIodC5raW5kKSksdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKSwtMT09PXRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2YocikmJnRoaXMubG9jYWxTdHJlYW1zLnB1c2gociksaS50cmFjaz10LGkuc3RyZWFtPXIsaS5ydHBTZW5kZXI9bmV3IGUuUlRDUnRwU2VuZGVyKHQsaS5kdGxzVHJhbnNwb3J0KSxpLnJ0cFNlbmRlcn0scC5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7aWYodD49MTUwMjUpZS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyLmFkZFRyYWNrKHQsZSl9KSk7ZWxzZXt2YXIgaT1lLmNsb25lKCk7ZS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3ZhciByPWkuZ2V0VHJhY2tzKClbdF07ZS5hZGRFdmVudExpc3RlbmVyKFwiZW5hYmxlZFwiLChmdW5jdGlvbihlKXtyLmVuYWJsZWQ9ZS5lbmFibGVkfSkpfSkpLGkuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5hZGRUcmFjayhlLGkpfSkpfX0scC5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24odCl7aWYodGhpcy5faXNDbG9zZWQpdGhyb3cgZChcIkludmFsaWRTdGF0ZUVycm9yXCIsXCJBdHRlbXB0ZWQgdG8gY2FsbCByZW1vdmVUcmFjayBvbiBhIGNsb3NlZCBwZWVyY29ubmVjdGlvbi5cIik7aWYoISh0IGluc3RhbmNlb2YgZS5SVENSdHBTZW5kZXIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCAxIG9mIFJUQ1BlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrIGRvZXMgbm90IGltcGxlbWVudCBpbnRlcmZhY2UgUlRDUnRwU2VuZGVyLlwiKTt2YXIgcj10aGlzLnRyYW5zY2VpdmVycy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ydHBTZW5kZXI9PT10fSkpO2lmKCFyKXRocm93IGQoXCJJbnZhbGlkQWNjZXNzRXJyb3JcIixcIlNlbmRlciB3YXMgbm90IGNyZWF0ZWQgYnkgdGhpcyBjb25uZWN0aW9uLlwiKTt2YXIgaT1yLnN0cmVhbTtyLnJ0cFNlbmRlci5zdG9wKCksci5ydHBTZW5kZXI9bnVsbCxyLnRyYWNrPW51bGwsci5zdHJlYW09bnVsbCwtMT09PXRoaXMudHJhbnNjZWl2ZXJzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RyZWFtfSkpLmluZGV4T2YoaSkmJnRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2YoaSk+LTEmJnRoaXMubG9jYWxTdHJlYW1zLnNwbGljZSh0aGlzLmxvY2FsU3RyZWFtcy5pbmRleE9mKGkpLDEpLHRoaXMuX21heWJlRmlyZU5lZ290aWF0aW9uTmVlZGVkKCl9LHAucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9dC5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PT1lfSkpO3ImJnQucmVtb3ZlVHJhY2socil9KSl9LHAucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2NlaXZlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWUucnRwU2VuZGVyfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucnRwU2VuZGVyfSkpfSxwLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2NlaXZlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWUucnRwUmVjZWl2ZXJ9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ydHBSZWNlaXZlcn0pKX0scC5wcm90b3R5cGUuX2NyZWF0ZUljZUdhdGhlcmVyPWZ1bmN0aW9uKHQscil7dmFyIGk9dGhpcztpZihyJiZ0PjApcmV0dXJuIHRoaXMudHJhbnNjZWl2ZXJzWzBdLmljZUdhdGhlcmVyO2lmKHRoaXMuX2ljZUdhdGhlcmVycy5sZW5ndGgpcmV0dXJuIHRoaXMuX2ljZUdhdGhlcmVycy5zaGlmdCgpO3ZhciBvPW5ldyBlLlJUQ0ljZUdhdGhlcmVyKHtpY2VTZXJ2ZXJzOnRoaXMuX2NvbmZpZy5pY2VTZXJ2ZXJzLGdhdGhlclBvbGljeTp0aGlzLl9jb25maWcuaWNlVHJhbnNwb3J0UG9saWN5fSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwic3RhdGVcIix7dmFsdWU6XCJuZXdcIix3cml0YWJsZTohMH0pLHRoaXMudHJhbnNjZWl2ZXJzW3RdLmJ1ZmZlcmVkQ2FuZGlkYXRlRXZlbnRzPVtdLHRoaXMudHJhbnNjZWl2ZXJzW3RdLmJ1ZmZlckNhbmRpZGF0ZXM9ZnVuY3Rpb24oZSl7dmFyIHI9IWUuY2FuZGlkYXRlfHwwPT09T2JqZWN0LmtleXMoZS5jYW5kaWRhdGUpLmxlbmd0aDtvLnN0YXRlPXI/XCJjb21wbGV0ZWRcIjpcImdhdGhlcmluZ1wiLG51bGwhPT1pLnRyYW5zY2VpdmVyc1t0XS5idWZmZXJlZENhbmRpZGF0ZUV2ZW50cyYmaS50cmFuc2NlaXZlcnNbdF0uYnVmZmVyZWRDYW5kaWRhdGVFdmVudHMucHVzaChlKX0sby5hZGRFdmVudExpc3RlbmVyKFwibG9jYWxjYW5kaWRhdGVcIix0aGlzLnRyYW5zY2VpdmVyc1t0XS5idWZmZXJDYW5kaWRhdGVzKSxvfSxwLnByb3RvdHlwZS5fZ2F0aGVyPWZ1bmN0aW9uKHQscil7dmFyIG89dGhpcyxuPXRoaXMudHJhbnNjZWl2ZXJzW3JdLmljZUdhdGhlcmVyO2lmKCFuLm9ubG9jYWxjYW5kaWRhdGUpe3ZhciBzPXRoaXMudHJhbnNjZWl2ZXJzW3JdLmJ1ZmZlcmVkQ2FuZGlkYXRlRXZlbnRzO3RoaXMudHJhbnNjZWl2ZXJzW3JdLmJ1ZmZlcmVkQ2FuZGlkYXRlRXZlbnRzPW51bGwsbi5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9jYWxjYW5kaWRhdGVcIix0aGlzLnRyYW5zY2VpdmVyc1tyXS5idWZmZXJDYW5kaWRhdGVzKSxuLm9ubG9jYWxjYW5kaWRhdGU9ZnVuY3Rpb24oZSl7aWYoIShvLnVzaW5nQnVuZGxlJiZyPjApKXt2YXIgcz1uZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIik7cy5jYW5kaWRhdGU9e3NkcE1pZDp0LHNkcE1MaW5lSW5kZXg6cn07dmFyIGE9ZS5jYW5kaWRhdGUsYz0hYXx8MD09PU9iamVjdC5rZXlzKGEpLmxlbmd0aDtpZihjKVwibmV3XCIhPT1uLnN0YXRlJiZcImdhdGhlcmluZ1wiIT09bi5zdGF0ZXx8KG4uc3RhdGU9XCJjb21wbGV0ZWRcIik7ZWxzZXtcIm5ld1wiPT09bi5zdGF0ZSYmKG4uc3RhdGU9XCJnYXRoZXJpbmdcIiksYS5jb21wb25lbnQ9MSxhLnVmcmFnPW4uZ2V0TG9jYWxQYXJhbWV0ZXJzKCkudXNlcm5hbWVGcmFnbWVudDt2YXIgdT1pLndyaXRlQ2FuZGlkYXRlKGEpO3MuY2FuZGlkYXRlPU9iamVjdC5hc3NpZ24ocy5jYW5kaWRhdGUsaS5wYXJzZUNhbmRpZGF0ZSh1KSkscy5jYW5kaWRhdGUuY2FuZGlkYXRlPXUscy5jYW5kaWRhdGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue2NhbmRpZGF0ZTpzLmNhbmRpZGF0ZS5jYW5kaWRhdGUsc2RwTWlkOnMuY2FuZGlkYXRlLnNkcE1pZCxzZHBNTGluZUluZGV4OnMuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgsdXNlcm5hbWVGcmFnbWVudDpzLmNhbmRpZGF0ZS51c2VybmFtZUZyYWdtZW50fX19dmFyIGQ9aS5nZXRNZWRpYVNlY3Rpb25zKG8uX2xvY2FsRGVzY3JpcHRpb24uc2RwKTtkW3MuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXhdKz1jP1wiYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiOlwiYT1cIitzLmNhbmRpZGF0ZS5jYW5kaWRhdGUrXCJcXHJcXG5cIixvLl9sb2NhbERlc2NyaXB0aW9uLnNkcD1pLmdldERlc2NyaXB0aW9uKG8uX2xvY2FsRGVzY3JpcHRpb24uc2RwKStkLmpvaW4oXCJcIik7dmFyIGw9by50cmFuc2NlaXZlcnMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmljZUdhdGhlcmVyJiZcImNvbXBsZXRlZFwiPT09ZS5pY2VHYXRoZXJlci5zdGF0ZX0pKTtcImdhdGhlcmluZ1wiIT09by5pY2VHYXRoZXJpbmdTdGF0ZSYmKG8uaWNlR2F0aGVyaW5nU3RhdGU9XCJnYXRoZXJpbmdcIixvLl9lbWl0R2F0aGVyaW5nU3RhdGVDaGFuZ2UoKSksY3x8by5fZGlzcGF0Y2hFdmVudChcImljZWNhbmRpZGF0ZVwiLHMpLGwmJihvLl9kaXNwYXRjaEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIsbmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpKSxvLmljZUdhdGhlcmluZ1N0YXRlPVwiY29tcGxldGVcIixvLl9lbWl0R2F0aGVyaW5nU3RhdGVDaGFuZ2UoKSl9fSxlLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cy5mb3JFYWNoKChmdW5jdGlvbihlKXtuLm9ubG9jYWxjYW5kaWRhdGUoZSl9KSl9KSwwKX19LHAucHJvdG90eXBlLl9jcmVhdGVJY2VBbmREdGxzVHJhbnNwb3J0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMscj1uZXcgZS5SVENJY2VUcmFuc3BvcnQobnVsbCk7ci5vbmljZXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dC5fdXBkYXRlSWNlQ29ubmVjdGlvblN0YXRlKCksdC5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCl9O3ZhciBpPW5ldyBlLlJUQ0R0bHNUcmFuc3BvcnQocik7cmV0dXJuIGkub25kdGxzc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt0Ll91cGRhdGVDb25uZWN0aW9uU3RhdGUoKX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJzdGF0ZVwiLHt2YWx1ZTpcImZhaWxlZFwiLHdyaXRhYmxlOiEwfSksdC5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCl9LHtpY2VUcmFuc3BvcnQ6cixkdGxzVHJhbnNwb3J0Oml9fSxwLnByb3RvdHlwZS5fZGlzcG9zZUljZUFuZER0bHNUcmFuc3BvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudHJhbnNjZWl2ZXJzW2VdLmljZUdhdGhlcmVyO3QmJihkZWxldGUgdC5vbmxvY2FsY2FuZGlkYXRlLGRlbGV0ZSB0aGlzLnRyYW5zY2VpdmVyc1tlXS5pY2VHYXRoZXJlcik7dmFyIHI9dGhpcy50cmFuc2NlaXZlcnNbZV0uaWNlVHJhbnNwb3J0O3ImJihkZWxldGUgci5vbmljZXN0YXRlY2hhbmdlLGRlbGV0ZSB0aGlzLnRyYW5zY2VpdmVyc1tlXS5pY2VUcmFuc3BvcnQpO3ZhciBpPXRoaXMudHJhbnNjZWl2ZXJzW2VdLmR0bHNUcmFuc3BvcnQ7aSYmKGRlbGV0ZSBpLm9uZHRsc3N0YXRlY2hhbmdlLGRlbGV0ZSBpLm9uZXJyb3IsZGVsZXRlIHRoaXMudHJhbnNjZWl2ZXJzW2VdLmR0bHNUcmFuc3BvcnQpfSxwLnByb3RvdHlwZS5fdHJhbnNjZWl2ZT1mdW5jdGlvbihlLHIsbyl7dmFyIG49YShlLmxvY2FsQ2FwYWJpbGl0aWVzLGUucmVtb3RlQ2FwYWJpbGl0aWVzKTtyJiZlLnJ0cFNlbmRlciYmKG4uZW5jb2RpbmdzPWUuc2VuZEVuY29kaW5nUGFyYW1ldGVycyxuLnJ0Y3A9e2NuYW1lOmkubG9jYWxDTmFtZSxjb21wb3VuZDplLnJ0Y3BQYXJhbWV0ZXJzLmNvbXBvdW5kfSxlLnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnMubGVuZ3RoJiYobi5ydGNwLnNzcmM9ZS5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMpLGUucnRwU2VuZGVyLnNlbmQobikpLG8mJmUucnRwUmVjZWl2ZXImJm4uY29kZWNzLmxlbmd0aD4wJiYoXCJ2aWRlb1wiPT09ZS5raW5kJiZlLnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnMmJnQ8MTUwMTkmJmUucmVjdkVuY29kaW5nUGFyYW1ldGVycy5mb3JFYWNoKChmdW5jdGlvbihlKXtkZWxldGUgZS5ydHh9KSksbi5lbmNvZGluZ3M9ZS5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzLmxlbmd0aD9lLnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnM6W3t9XSxuLnJ0Y3A9e2NvbXBvdW5kOmUucnRjcFBhcmFtZXRlcnMuY29tcG91bmR9LGUucnRjcFBhcmFtZXRlcnMuY25hbWUmJihuLnJ0Y3AuY25hbWU9ZS5ydGNwUGFyYW1ldGVycy5jbmFtZSksZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzLmxlbmd0aCYmKG4ucnRjcC5zc3JjPWUuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjKSxlLnJ0cFJlY2VpdmVyLnJlY2VpdmUobikpfSxwLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbz10aGlzO2lmKC0xPT09W1wib2ZmZXJcIixcImFuc3dlclwiXS5pbmRleE9mKGUudHlwZSkpcmV0dXJuIFByb21pc2UucmVqZWN0KGQoXCJUeXBlRXJyb3JcIiwnVW5zdXBwb3J0ZWQgdHlwZSBcIicrZS50eXBlKydcIicpKTtpZighYyhcInNldExvY2FsRGVzY3JpcHRpb25cIixlLnR5cGUsby5zaWduYWxpbmdTdGF0ZSl8fG8uX2lzQ2xvc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChkKFwiSW52YWxpZFN0YXRlRXJyb3JcIixcIkNhbiBub3Qgc2V0IGxvY2FsIFwiK2UudHlwZStcIiBpbiBzdGF0ZSBcIitvLnNpZ25hbGluZ1N0YXRlKSk7aWYoXCJvZmZlclwiPT09ZS50eXBlKXQ9aS5zcGxpdFNlY3Rpb25zKGUuc2RwKSxyPXQuc2hpZnQoKSx0LmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5wYXJzZVJ0cFBhcmFtZXRlcnMoZSk7by50cmFuc2NlaXZlcnNbdF0ubG9jYWxDYXBhYmlsaXRpZXM9cn0pKSxvLnRyYW5zY2VpdmVycy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe28uX2dhdGhlcihlLm1pZCx0KX0pKTtlbHNlIGlmKFwiYW5zd2VyXCI9PT1lLnR5cGUpe3Q9aS5zcGxpdFNlY3Rpb25zKG8uX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkscj10LnNoaWZ0KCk7dmFyIG49aS5tYXRjaFByZWZpeChyLFwiYT1pY2UtbGl0ZVwiKS5sZW5ndGg+MDt0LmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7dmFyIHM9by50cmFuc2NlaXZlcnNbdF0sYz1zLmljZUdhdGhlcmVyLHU9cy5pY2VUcmFuc3BvcnQsZD1zLmR0bHNUcmFuc3BvcnQsbD1zLmxvY2FsQ2FwYWJpbGl0aWVzLGg9cy5yZW1vdGVDYXBhYmlsaXRpZXM7aWYoIShpLmlzUmVqZWN0ZWQoZSkmJjA9PT1pLm1hdGNoUHJlZml4KGUsXCJhPWJ1bmRsZS1vbmx5XCIpLmxlbmd0aHx8cy5yZWplY3RlZCkpe3ZhciBwPWkuZ2V0SWNlUGFyYW1ldGVycyhlLHIpLGc9aS5nZXREdGxzUGFyYW1ldGVycyhlLHIpO24mJihnLnJvbGU9XCJzZXJ2ZXJcIiksby51c2luZ0J1bmRsZSYmMCE9PXR8fChvLl9nYXRoZXIocy5taWQsdCksXCJuZXdcIj09PXUuc3RhdGUmJnUuc3RhcnQoYyxwLG4/XCJjb250cm9sbGluZ1wiOlwiY29udHJvbGxlZFwiKSxcIm5ld1wiPT09ZC5zdGF0ZSYmZC5zdGFydChnKSk7dmFyIGY9YShsLGgpO28uX3RyYW5zY2VpdmUocyxmLmNvZGVjcy5sZW5ndGg+MCwhMSl9fSkpfXJldHVybiBvLl9sb2NhbERlc2NyaXB0aW9uPXt0eXBlOmUudHlwZSxzZHA6ZS5zZHB9LG8uX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKFwib2ZmZXJcIj09PWUudHlwZT9cImhhdmUtbG9jYWwtb2ZmZXJcIjpcInN0YWJsZVwiKSxQcm9taXNlLnJlc29sdmUoKX0scC5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24obyl7dmFyIG49dGhpcztpZigtMT09PVtcIm9mZmVyXCIsXCJhbnN3ZXJcIl0uaW5kZXhPZihvLnR5cGUpKXJldHVybiBQcm9taXNlLnJlamVjdChkKFwiVHlwZUVycm9yXCIsJ1Vuc3VwcG9ydGVkIHR5cGUgXCInK28udHlwZSsnXCInKSk7aWYoIWMoXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLG8udHlwZSxuLnNpZ25hbGluZ1N0YXRlKXx8bi5faXNDbG9zZWQpcmV0dXJuIFByb21pc2UucmVqZWN0KGQoXCJJbnZhbGlkU3RhdGVFcnJvclwiLFwiQ2FuIG5vdCBzZXQgcmVtb3RlIFwiK28udHlwZStcIiBpbiBzdGF0ZSBcIituLnNpZ25hbGluZ1N0YXRlKSk7dmFyIHM9e307bi5yZW1vdGVTdHJlYW1zLmZvckVhY2goKGZ1bmN0aW9uKGUpe3NbZS5pZF09ZX0pKTt2YXIgcD1bXSxnPWkuc3BsaXRTZWN0aW9ucyhvLnNkcCksZj1nLnNoaWZ0KCksbT1pLm1hdGNoUHJlZml4KGYsXCJhPWljZS1saXRlXCIpLmxlbmd0aD4wLF89aS5tYXRjaFByZWZpeChmLFwiYT1ncm91cDpCVU5ETEUgXCIpLmxlbmd0aD4wO24udXNpbmdCdW5kbGU9Xzt2YXIgdj1pLm1hdGNoUHJlZml4KGYsXCJhPWljZS1vcHRpb25zOlwiKVswXTtyZXR1cm4gbi5jYW5Ucmlja2xlSWNlQ2FuZGlkYXRlcz0hIXYmJnYuc3Vic3RyKDE0KS5zcGxpdChcIiBcIikuaW5kZXhPZihcInRyaWNrbGVcIik+PTAsZy5mb3JFYWNoKChmdW5jdGlvbihjLGQpe3ZhciBoPWkuc3BsaXRMaW5lcyhjKSxnPWkuZ2V0S2luZChjKSx2PWkuaXNSZWplY3RlZChjKSYmMD09PWkubWF0Y2hQcmVmaXgoYyxcImE9YnVuZGxlLW9ubHlcIikubGVuZ3RoLEU9aFswXS5zdWJzdHIoMikuc3BsaXQoXCIgXCIpWzJdLFM9aS5nZXREaXJlY3Rpb24oYyxmKSxUPWkucGFyc2VNc2lkKGMpLEM9aS5nZXRNaWQoYyl8fGkuZ2VuZXJhdGVJZGVudGlmaWVyKCk7aWYodnx8XCJhcHBsaWNhdGlvblwiPT09ZyYmKFwiRFRMUy9TQ1RQXCI9PT1FfHxcIlVEUC9EVExTL1NDVFBcIj09PUUpKW4udHJhbnNjZWl2ZXJzW2RdPXttaWQ6QyxraW5kOmcscHJvdG9jb2w6RSxyZWplY3RlZDohMH07ZWxzZXt2YXIgeSxSLGIsSSxBLGssTCxQLE87IXYmJm4udHJhbnNjZWl2ZXJzW2RdJiZuLnRyYW5zY2VpdmVyc1tkXS5yZWplY3RlZCYmKG4udHJhbnNjZWl2ZXJzW2RdPW4uX2NyZWF0ZVRyYW5zY2VpdmVyKGcsITApKTt2YXIgTixNLEQ9aS5wYXJzZVJ0cFBhcmFtZXRlcnMoYyk7dnx8KE49aS5nZXRJY2VQYXJhbWV0ZXJzKGMsZiksKE09aS5nZXREdGxzUGFyYW1ldGVycyhjLGYpKS5yb2xlPVwiY2xpZW50XCIpLEw9aS5wYXJzZVJ0cEVuY29kaW5nUGFyYW1ldGVycyhjKTt2YXIgdz1pLnBhcnNlUnRjcFBhcmFtZXRlcnMoYyksVT1pLm1hdGNoUHJlZml4KGMsXCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIsZikubGVuZ3RoPjAsQj1pLm1hdGNoUHJlZml4KGMsXCJhPWNhbmRpZGF0ZTpcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wYXJzZUNhbmRpZGF0ZShlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5jb21wb25lbnR9KSk7aWYoKFwib2ZmZXJcIj09PW8udHlwZXx8XCJhbnN3ZXJcIj09PW8udHlwZSkmJiF2JiZfJiZkPjAmJm4udHJhbnNjZWl2ZXJzW2RdJiYobi5fZGlzcG9zZUljZUFuZER0bHNUcmFuc3BvcnRzKGQpLG4udHJhbnNjZWl2ZXJzW2RdLmljZUdhdGhlcmVyPW4udHJhbnNjZWl2ZXJzWzBdLmljZUdhdGhlcmVyLG4udHJhbnNjZWl2ZXJzW2RdLmljZVRyYW5zcG9ydD1uLnRyYW5zY2VpdmVyc1swXS5pY2VUcmFuc3BvcnQsbi50cmFuc2NlaXZlcnNbZF0uZHRsc1RyYW5zcG9ydD1uLnRyYW5zY2VpdmVyc1swXS5kdGxzVHJhbnNwb3J0LG4udHJhbnNjZWl2ZXJzW2RdLnJ0cFNlbmRlciYmbi50cmFuc2NlaXZlcnNbZF0ucnRwU2VuZGVyLnNldFRyYW5zcG9ydChuLnRyYW5zY2VpdmVyc1swXS5kdGxzVHJhbnNwb3J0KSxuLnRyYW5zY2VpdmVyc1tkXS5ydHBSZWNlaXZlciYmbi50cmFuc2NlaXZlcnNbZF0ucnRwUmVjZWl2ZXIuc2V0VHJhbnNwb3J0KG4udHJhbnNjZWl2ZXJzWzBdLmR0bHNUcmFuc3BvcnQpKSxcIm9mZmVyXCIhPT1vLnR5cGV8fHYpXCJhbnN3ZXJcIiE9PW8udHlwZXx8dnx8KFI9KHk9bi50cmFuc2NlaXZlcnNbZF0pLmljZUdhdGhlcmVyLGI9eS5pY2VUcmFuc3BvcnQsST15LmR0bHNUcmFuc3BvcnQsQT15LnJ0cFJlY2VpdmVyLGs9eS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzLFA9eS5sb2NhbENhcGFiaWxpdGllcyxuLnRyYW5zY2VpdmVyc1tkXS5yZWN2RW5jb2RpbmdQYXJhbWV0ZXJzPUwsbi50cmFuc2NlaXZlcnNbZF0ucmVtb3RlQ2FwYWJpbGl0aWVzPUQsbi50cmFuc2NlaXZlcnNbZF0ucnRjcFBhcmFtZXRlcnM9dyxCLmxlbmd0aCYmXCJuZXdcIj09PWIuc3RhdGUmJighbSYmIVV8fF8mJjAhPT1kP0IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dSh5LmljZVRyYW5zcG9ydCxlKX0pKTpiLnNldFJlbW90ZUNhbmRpZGF0ZXMoQikpLF8mJjAhPT1kfHwoXCJuZXdcIj09PWIuc3RhdGUmJmIuc3RhcnQoUixOLFwiY29udHJvbGxpbmdcIiksXCJuZXdcIj09PUkuc3RhdGUmJkkuc3RhcnQoTSkpLCFhKHkubG9jYWxDYXBhYmlsaXRpZXMseS5yZW1vdGVDYXBhYmlsaXRpZXMpLmNvZGVjcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCI9PT1lLm5hbWUudG9Mb3dlckNhc2UoKX0pKS5sZW5ndGgmJnkuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgmJmRlbGV0ZSB5LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LG4uX3RyYW5zY2VpdmUoeSxcInNlbmRyZWN2XCI9PT1TfHxcInJlY3Zvbmx5XCI9PT1TLFwic2VuZHJlY3ZcIj09PVN8fFwic2VuZG9ubHlcIj09PVMpLCFBfHxcInNlbmRyZWN2XCIhPT1TJiZcInNlbmRvbmx5XCIhPT1TP2RlbGV0ZSB5LnJ0cFJlY2VpdmVyOihPPUEudHJhY2ssVD8oc1tULnN0cmVhbV18fChzW1Quc3RyZWFtXT1uZXcgZS5NZWRpYVN0cmVhbSkscihPLHNbVC5zdHJlYW1dKSxwLnB1c2goW08sQSxzW1Quc3RyZWFtXV0pKToocy5kZWZhdWx0fHwocy5kZWZhdWx0PW5ldyBlLk1lZGlhU3RyZWFtKSxyKE8scy5kZWZhdWx0KSxwLnB1c2goW08sQSxzLmRlZmF1bHRdKSkpKTtlbHNleyh5PW4udHJhbnNjZWl2ZXJzW2RdfHxuLl9jcmVhdGVUcmFuc2NlaXZlcihnKSkubWlkPUMseS5pY2VHYXRoZXJlcnx8KHkuaWNlR2F0aGVyZXI9bi5fY3JlYXRlSWNlR2F0aGVyZXIoZCxfKSksQi5sZW5ndGgmJlwibmV3XCI9PT15LmljZVRyYW5zcG9ydC5zdGF0ZSYmKCFVfHxfJiYwIT09ZD9CLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UoeS5pY2VUcmFuc3BvcnQsZSl9KSk6eS5pY2VUcmFuc3BvcnQuc2V0UmVtb3RlQ2FuZGlkYXRlcyhCKSksUD1lLlJUQ1J0cFJlY2VpdmVyLmdldENhcGFiaWxpdGllcyhnKSx0PDE1MDE5JiYoUC5jb2RlY3M9UC5jb2RlY3MuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cInJ0eFwiIT09ZS5uYW1lfSkpKSxrPXkuc2VuZEVuY29kaW5nUGFyYW1ldGVyc3x8W3tzc3JjOjEwMDEqKDIqZCsyKX1dO3ZhciB4LEc9ITE7XCJzZW5kcmVjdlwiPT09U3x8XCJzZW5kb25seVwiPT09Uz8oRz0heS5ydHBSZWNlaXZlcixBPXkucnRwUmVjZWl2ZXJ8fG5ldyBlLlJUQ1J0cFJlY2VpdmVyKHkuZHRsc1RyYW5zcG9ydCxnKSxHJiYoTz1BLnRyYWNrLFQmJlwiLVwiPT09VC5zdHJlYW18fChUPyhzW1Quc3RyZWFtXXx8KHNbVC5zdHJlYW1dPW5ldyBlLk1lZGlhU3RyZWFtLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzW1Quc3RyZWFtXSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBULnN0cmVhbX19KSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVC50cmFja319KSx4PXNbVC5zdHJlYW1dKToocy5kZWZhdWx0fHwocy5kZWZhdWx0PW5ldyBlLk1lZGlhU3RyZWFtKSx4PXMuZGVmYXVsdCkpLHgmJihyKE8seCkseS5hc3NvY2lhdGVkUmVtb3RlTWVkaWFTdHJlYW1zLnB1c2goeCkpLHAucHVzaChbTyxBLHhdKSkpOnkucnRwUmVjZWl2ZXImJnkucnRwUmVjZWl2ZXIudHJhY2smJih5LmFzc29jaWF0ZWRSZW1vdGVNZWRpYVN0cmVhbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRUcmFja3MoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXkucnRwUmVjZWl2ZXIudHJhY2suaWR9KSk7dCYmbCh0LGUpfSkpLHkuYXNzb2NpYXRlZFJlbW90ZU1lZGlhU3RyZWFtcz1bXSkseS5sb2NhbENhcGFiaWxpdGllcz1QLHkucmVtb3RlQ2FwYWJpbGl0aWVzPUQseS5ydHBSZWNlaXZlcj1BLHkucnRjcFBhcmFtZXRlcnM9dyx5LnNlbmRFbmNvZGluZ1BhcmFtZXRlcnM9ayx5LnJlY3ZFbmNvZGluZ1BhcmFtZXRlcnM9TCxuLl90cmFuc2NlaXZlKG4udHJhbnNjZWl2ZXJzW2RdLCExLEcpfX19KSksdm9pZCAwPT09bi5fZHRsc1JvbGUmJihuLl9kdGxzUm9sZT1cIm9mZmVyXCI9PT1vLnR5cGU/XCJhY3RpdmVcIjpcInBhc3NpdmVcIiksbi5fcmVtb3RlRGVzY3JpcHRpb249e3R5cGU6by50eXBlLHNkcDpvLnNkcH0sbi5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoXCJvZmZlclwiPT09by50eXBlP1wiaGF2ZS1yZW1vdGUtb2ZmZXJcIjpcInN0YWJsZVwiKSxPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1zW3RdO2lmKHIuZ2V0VHJhY2tzKCkubGVuZ3RoKXtpZigtMT09PW4ucmVtb3RlU3RyZWFtcy5pbmRleE9mKHIpKXtuLnJlbW90ZVN0cmVhbXMucHVzaChyKTt2YXIgaT1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7aS5zdHJlYW09cixlLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5fZGlzcGF0Y2hFdmVudChcImFkZHN0cmVhbVwiLGkpfSkpfXAuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5pZD09PWVbMl0uaWQmJmgobixlWzBdLGVbMV0sW3JdKX0pKX19KSkscC5mb3JFYWNoKChmdW5jdGlvbihlKXtlWzJdfHxoKG4sZVswXSxlWzFdLFtdKX0pKSxlLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7biYmbi50cmFuc2NlaXZlcnMmJm4udHJhbnNjZWl2ZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuaWNlVHJhbnNwb3J0JiZcIm5ld1wiPT09ZS5pY2VUcmFuc3BvcnQuc3RhdGUmJmUuaWNlVHJhbnNwb3J0LmdldFJlbW90ZUNhbmRpZGF0ZXMoKS5sZW5ndGg+MCYmKGNvbnNvbGUud2FybihcIlRpbWVvdXQgZm9yIGFkZFJlbW90ZUNhbmRpZGF0ZS4gQ29uc2lkZXIgc2VuZGluZyBhbiBlbmQtb2YtY2FuZGlkYXRlcyBub3RpZmljYXRpb25cIiksZS5pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKHt9KSl9KSl9KSw0ZTMpLFByb21pc2UucmVzb2x2ZSgpfSxwLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuaWNlVHJhbnNwb3J0JiZlLmljZVRyYW5zcG9ydC5zdG9wKCksZS5kdGxzVHJhbnNwb3J0JiZlLmR0bHNUcmFuc3BvcnQuc3RvcCgpLGUucnRwU2VuZGVyJiZlLnJ0cFNlbmRlci5zdG9wKCksZS5ydHBSZWNlaXZlciYmZS5ydHBSZWNlaXZlci5zdG9wKCl9KSksdGhpcy5faXNDbG9zZWQ9ITAsdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoXCJjbG9zZWRcIil9LHAucHJvdG90eXBlLl91cGRhdGVTaWduYWxpbmdTdGF0ZT1mdW5jdGlvbihlKXt0aGlzLnNpZ25hbGluZ1N0YXRlPWU7dmFyIHQ9bmV3IEV2ZW50KFwic2lnbmFsaW5nc3RhdGVjaGFuZ2VcIik7dGhpcy5fZGlzcGF0Y2hFdmVudChcInNpZ25hbGluZ3N0YXRlY2hhbmdlXCIsdCl9LHAucHJvdG90eXBlLl9tYXliZUZpcmVOZWdvdGlhdGlvbk5lZWRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7XCJzdGFibGVcIj09PXRoaXMuc2lnbmFsaW5nU3RhdGUmJiEwIT09dGhpcy5uZWVkTmVnb3RpYXRpb24mJih0aGlzLm5lZWROZWdvdGlhdGlvbj0hMCxlLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aWYodC5uZWVkTmVnb3RpYXRpb24pe3QubmVlZE5lZ290aWF0aW9uPSExO3ZhciBlPW5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpO3QuX2Rpc3BhdGNoRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiLGUpfX0pLDApKX0scC5wcm90b3R5cGUuX3VwZGF0ZUljZUNvbm5lY3Rpb25TdGF0ZT1mdW5jdGlvbigpe3ZhciBlLHQ9e25ldzowLGNsb3NlZDowLGNoZWNraW5nOjAsY29ubmVjdGVkOjAsY29tcGxldGVkOjAsZGlzY29ubmVjdGVkOjAsZmFpbGVkOjB9O2lmKHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuaWNlVHJhbnNwb3J0JiYhZS5yZWplY3RlZCYmdFtlLmljZVRyYW5zcG9ydC5zdGF0ZV0rK30pKSxlPVwibmV3XCIsdC5mYWlsZWQ+MD9lPVwiZmFpbGVkXCI6dC5jaGVja2luZz4wP2U9XCJjaGVja2luZ1wiOnQuZGlzY29ubmVjdGVkPjA/ZT1cImRpc2Nvbm5lY3RlZFwiOnQubmV3PjA/ZT1cIm5ld1wiOnQuY29ubmVjdGVkPjA/ZT1cImNvbm5lY3RlZFwiOnQuY29tcGxldGVkPjAmJihlPVwiY29tcGxldGVkXCIpLGUhPT10aGlzLmljZUNvbm5lY3Rpb25TdGF0ZSl7dGhpcy5pY2VDb25uZWN0aW9uU3RhdGU9ZTt2YXIgcj1uZXcgRXZlbnQoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIik7dGhpcy5fZGlzcGF0Y2hFdmVudChcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHIpfX0scC5wcm90b3R5cGUuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZT1mdW5jdGlvbigpe3ZhciBlLHQ9e25ldzowLGNsb3NlZDowLGNvbm5lY3Rpbmc6MCxjb25uZWN0ZWQ6MCxjb21wbGV0ZWQ6MCxkaXNjb25uZWN0ZWQ6MCxmYWlsZWQ6MH07aWYodGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5pY2VUcmFuc3BvcnQmJmUuZHRsc1RyYW5zcG9ydCYmIWUucmVqZWN0ZWQmJih0W2UuaWNlVHJhbnNwb3J0LnN0YXRlXSsrLHRbZS5kdGxzVHJhbnNwb3J0LnN0YXRlXSsrKX0pKSx0LmNvbm5lY3RlZCs9dC5jb21wbGV0ZWQsZT1cIm5ld1wiLHQuZmFpbGVkPjA/ZT1cImZhaWxlZFwiOnQuY29ubmVjdGluZz4wP2U9XCJjb25uZWN0aW5nXCI6dC5kaXNjb25uZWN0ZWQ+MD9lPVwiZGlzY29ubmVjdGVkXCI6dC5uZXc+MD9lPVwibmV3XCI6dC5jb25uZWN0ZWQ+MCYmKGU9XCJjb25uZWN0ZWRcIiksZSE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1lO3ZhciByPW5ldyBFdmVudChcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiKTt0aGlzLl9kaXNwYXRjaEV2ZW50KFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIscil9fSxwLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbigpe3ZhciByPXRoaXM7aWYoci5faXNDbG9zZWQpcmV0dXJuIFByb21pc2UucmVqZWN0KGQoXCJJbnZhbGlkU3RhdGVFcnJvclwiLFwiQ2FuIG5vdCBjYWxsIGNyZWF0ZU9mZmVyIGFmdGVyIGNsb3NlXCIpKTt2YXIgbz1yLnRyYW5zY2VpdmVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiYXVkaW9cIj09PWUua2luZH0pKS5sZW5ndGgscz1yLnRyYW5zY2VpdmVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09PWUua2luZH0pKS5sZW5ndGgsYT1hcmd1bWVudHNbMF07aWYoYSl7aWYoYS5tYW5kYXRvcnl8fGEub3B0aW9uYWwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkxlZ2FjeSBtYW5kYXRvcnkvb3B0aW9uYWwgY29uc3RyYWludHMgbm90IHN1cHBvcnRlZC5cIik7dm9pZCAwIT09YS5vZmZlclRvUmVjZWl2ZUF1ZGlvJiYobz0hMD09PWEub2ZmZXJUb1JlY2VpdmVBdWRpbz8xOiExPT09YS5vZmZlclRvUmVjZWl2ZUF1ZGlvPzA6YS5vZmZlclRvUmVjZWl2ZUF1ZGlvKSx2b2lkIDAhPT1hLm9mZmVyVG9SZWNlaXZlVmlkZW8mJihzPSEwPT09YS5vZmZlclRvUmVjZWl2ZVZpZGVvPzE6ITE9PT1hLm9mZmVyVG9SZWNlaXZlVmlkZW8/MDphLm9mZmVyVG9SZWNlaXZlVmlkZW8pfWZvcihyLnRyYW5zY2VpdmVycy5mb3JFYWNoKChmdW5jdGlvbihlKXtcImF1ZGlvXCI9PT1lLmtpbmQ/LS1vPDAmJihlLndhbnRSZWNlaXZlPSExKTpcInZpZGVvXCI9PT1lLmtpbmQmJi0tczwwJiYoZS53YW50UmVjZWl2ZT0hMSl9KSk7bz4wfHxzPjA7KW8+MCYmKHIuX2NyZWF0ZVRyYW5zY2VpdmVyKFwiYXVkaW9cIiksby0tKSxzPjAmJihyLl9jcmVhdGVUcmFuc2NlaXZlcihcInZpZGVvXCIpLHMtLSk7dmFyIGM9aS53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZShyLl9zZHBTZXNzaW9uSWQsci5fc2RwU2Vzc2lvblZlcnNpb24rKyk7ci50cmFuc2NlaXZlcnMuZm9yRWFjaCgoZnVuY3Rpb24obyxuKXt2YXIgcz1vLnRyYWNrLGE9by5raW5kLGM9by5taWR8fGkuZ2VuZXJhdGVJZGVudGlmaWVyKCk7by5taWQ9YyxvLmljZUdhdGhlcmVyfHwoby5pY2VHYXRoZXJlcj1yLl9jcmVhdGVJY2VHYXRoZXJlcihuLHIudXNpbmdCdW5kbGUpKTt2YXIgdT1lLlJUQ1J0cFNlbmRlci5nZXRDYXBhYmlsaXRpZXMoYSk7dDwxNTAxOSYmKHUuY29kZWNzPXUuY29kZWNzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJydHhcIiE9PWUubmFtZX0pKSksdS5jb2RlY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJIMjY0XCI9PT1lLm5hbWUmJnZvaWQgMD09PWUucGFyYW1ldGVyc1tcImxldmVsLWFzeW1tZXRyeS1hbGxvd2VkXCJdJiYoZS5wYXJhbWV0ZXJzW1wibGV2ZWwtYXN5bW1ldHJ5LWFsbG93ZWRcIl09XCIxXCIpLG8ucmVtb3RlQ2FwYWJpbGl0aWVzJiZvLnJlbW90ZUNhcGFiaWxpdGllcy5jb2RlY3MmJm8ucmVtb3RlQ2FwYWJpbGl0aWVzLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLm5hbWUudG9Mb3dlckNhc2UoKT09PXQubmFtZS50b0xvd2VyQ2FzZSgpJiZlLmNsb2NrUmF0ZT09PXQuY2xvY2tSYXRlJiYoZS5wcmVmZXJyZWRQYXlsb2FkVHlwZT10LnBheWxvYWRUeXBlKX0pKX0pKSx1LmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7KG8ucmVtb3RlQ2FwYWJpbGl0aWVzJiZvLnJlbW90ZUNhcGFiaWxpdGllcy5oZWFkZXJFeHRlbnNpb25zfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS51cmk9PT10LnVyaSYmKGUuaWQ9dC5pZCl9KSl9KSk7dmFyIGQ9by5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzfHxbe3NzcmM6MTAwMSooMipuKzEpfV07cyYmdD49MTUwMTkmJlwidmlkZW9cIj09PWEmJiFkWzBdLnJ0eCYmKGRbMF0ucnR4PXtzc3JjOmRbMF0uc3NyYysxfSksby53YW50UmVjZWl2ZSYmKG8ucnRwUmVjZWl2ZXI9bmV3IGUuUlRDUnRwUmVjZWl2ZXIoby5kdGxzVHJhbnNwb3J0LGEpKSxvLmxvY2FsQ2FwYWJpbGl0aWVzPXUsby5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzPWR9KSksXCJtYXgtY29tcGF0XCIhPT1yLl9jb25maWcuYnVuZGxlUG9saWN5JiYoYys9XCJhPWdyb3VwOkJVTkRMRSBcIityLnRyYW5zY2VpdmVycy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1pZH0pKS5qb2luKFwiIFwiKStcIlxcclxcblwiKSxjKz1cImE9aWNlLW9wdGlvbnM6dHJpY2tsZVxcclxcblwiLHIudHJhbnNjZWl2ZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7Yys9bihlLGUubG9jYWxDYXBhYmlsaXRpZXMsXCJvZmZlclwiLGUuc3RyZWFtLHIuX2R0bHNSb2xlKSxjKz1cImE9cnRjcC1yc2l6ZVxcclxcblwiLCFlLmljZUdhdGhlcmVyfHxcIm5ld1wiPT09ci5pY2VHYXRoZXJpbmdTdGF0ZXx8MCE9PXQmJnIudXNpbmdCdW5kbGV8fChlLmljZUdhdGhlcmVyLmdldExvY2FsQ2FuZGlkYXRlcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY29tcG9uZW50PTEsYys9XCJhPVwiK2kud3JpdGVDYW5kaWRhdGUoZSkrXCJcXHJcXG5cIn0pKSxcImNvbXBsZXRlZFwiPT09ZS5pY2VHYXRoZXJlci5zdGF0ZSYmKGMrPVwiYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiKSl9KSk7dmFyIHU9bmV3IGUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6Y30pO3JldHVybiBQcm9taXNlLnJlc29sdmUodSl9LHAucHJvdG90eXBlLmNyZWF0ZUFuc3dlcj1mdW5jdGlvbigpe3ZhciByPXRoaXM7aWYoci5faXNDbG9zZWQpcmV0dXJuIFByb21pc2UucmVqZWN0KGQoXCJJbnZhbGlkU3RhdGVFcnJvclwiLFwiQ2FuIG5vdCBjYWxsIGNyZWF0ZUFuc3dlciBhZnRlciBjbG9zZVwiKSk7aWYoXCJoYXZlLXJlbW90ZS1vZmZlclwiIT09ci5zaWduYWxpbmdTdGF0ZSYmXCJoYXZlLWxvY2FsLXByYW5zd2VyXCIhPT1yLnNpZ25hbGluZ1N0YXRlKXJldHVybiBQcm9taXNlLnJlamVjdChkKFwiSW52YWxpZFN0YXRlRXJyb3JcIixcIkNhbiBub3QgY2FsbCBjcmVhdGVBbnN3ZXIgaW4gc2lnbmFsaW5nU3RhdGUgXCIrci5zaWduYWxpbmdTdGF0ZSkpO3ZhciBvPWkud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUoci5fc2RwU2Vzc2lvbklkLHIuX3NkcFNlc3Npb25WZXJzaW9uKyspO3IudXNpbmdCdW5kbGUmJihvKz1cImE9Z3JvdXA6QlVORExFIFwiK3IudHJhbnNjZWl2ZXJzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWlkfSkpLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIpLG8rPVwiYT1pY2Utb3B0aW9uczp0cmlja2xlXFxyXFxuXCI7dmFyIHM9aS5nZXRNZWRpYVNlY3Rpb25zKHIuX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkubGVuZ3RoO3IudHJhbnNjZWl2ZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7aWYoIShpKzE+cykpe2lmKGUucmVqZWN0ZWQpcmV0dXJuXCJhcHBsaWNhdGlvblwiPT09ZS5raW5kP28rPVwiRFRMUy9TQ1RQXCI9PT1lLnByb3RvY29sP1wibT1hcHBsaWNhdGlvbiAwIERUTFMvU0NUUCA1MDAwXFxyXFxuXCI6XCJtPWFwcGxpY2F0aW9uIDAgXCIrZS5wcm90b2NvbCtcIiB3ZWJydGMtZGF0YWNoYW5uZWxcXHJcXG5cIjpcImF1ZGlvXCI9PT1lLmtpbmQ/bys9XCJtPWF1ZGlvIDAgVURQL1RMUy9SVFAvU0FWUEYgMFxcclxcbmE9cnRwbWFwOjAgUENNVS84MDAwXFxyXFxuXCI6XCJ2aWRlb1wiPT09ZS5raW5kJiYobys9XCJtPXZpZGVvIDAgVURQL1RMUy9SVFAvU0FWUEYgMTIwXFxyXFxuYT1ydHBtYXA6MTIwIFZQOC85MDAwMFxcclxcblwiKSx2b2lkKG8rPVwiYz1JTiBJUDQgMC4wLjAuMFxcclxcbmE9aW5hY3RpdmVcXHJcXG5hPW1pZDpcIitlLm1pZCtcIlxcclxcblwiKTt2YXIgYztlLnN0cmVhbSYmKFwiYXVkaW9cIj09PWUua2luZD9jPWUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF06XCJ2aWRlb1wiPT09ZS5raW5kJiYoYz1lLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKSxjJiZ0Pj0xNTAxOSYmXCJ2aWRlb1wiPT09ZS5raW5kJiYhZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmKGUuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHg9e3NzcmM6ZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnNzcmMrMX0pKTt2YXIgdT1hKGUubG9jYWxDYXBhYmlsaXRpZXMsZS5yZW1vdGVDYXBhYmlsaXRpZXMpOyF1LmNvZGVjcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCI9PT1lLm5hbWUudG9Mb3dlckNhc2UoKX0pKS5sZW5ndGgmJmUuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHgmJmRlbGV0ZSBlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LG8rPW4oZSx1LFwiYW5zd2VyXCIsZS5zdHJlYW0sci5fZHRsc1JvbGUpLGUucnRjcFBhcmFtZXRlcnMmJmUucnRjcFBhcmFtZXRlcnMucmVkdWNlZFNpemUmJihvKz1cImE9cnRjcC1yc2l6ZVxcclxcblwiKX19KSk7dmFyIGM9bmV3IGUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGMpfSxwLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO3JldHVybiBlJiZ2b2lkIDA9PT1lLnNkcE1MaW5lSW5kZXgmJiFlLnNkcE1pZD9Qcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFwic2RwTUxpbmVJbmRleCBvciBzZHBNaWQgcmVxdWlyZWRcIikpOm5ldyBQcm9taXNlKChmdW5jdGlvbihvLG4pe2lmKCFyLl9yZW1vdGVEZXNjcmlwdGlvbilyZXR1cm4gbihkKFwiSW52YWxpZFN0YXRlRXJyb3JcIixcIkNhbiBub3QgYWRkIElDRSBjYW5kaWRhdGUgd2l0aG91dCBhIHJlbW90ZSBkZXNjcmlwdGlvblwiKSk7aWYoZSYmXCJcIiE9PWUuY2FuZGlkYXRlKXt2YXIgcz1lLnNkcE1MaW5lSW5kZXg7aWYoZS5zZHBNaWQpZm9yKHZhciBhPTA7YTxyLnRyYW5zY2VpdmVycy5sZW5ndGg7YSsrKWlmKHIudHJhbnNjZWl2ZXJzW2FdLm1pZD09PWUuc2RwTWlkKXtzPWE7YnJlYWt9dmFyIGM9ci50cmFuc2NlaXZlcnNbc107aWYoIWMpcmV0dXJuIG4oZChcIk9wZXJhdGlvbkVycm9yXCIsXCJDYW4gbm90IGFkZCBJQ0UgY2FuZGlkYXRlXCIpKTtpZihjLnJlamVjdGVkKXJldHVybiBvKCk7dmFyIGw9T2JqZWN0LmtleXMoZS5jYW5kaWRhdGUpLmxlbmd0aD4wP2kucGFyc2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUpOnt9O2lmKFwidGNwXCI9PT1sLnByb3RvY29sJiYoMD09PWwucG9ydHx8OT09PWwucG9ydCkpcmV0dXJuIG8oKTtpZihsLmNvbXBvbmVudCYmMSE9PWwuY29tcG9uZW50KXJldHVybiBvKCk7aWYoKDA9PT1zfHxzPjAmJmMuaWNlVHJhbnNwb3J0IT09ci50cmFuc2NlaXZlcnNbMF0uaWNlVHJhbnNwb3J0KSYmIXUoYy5pY2VUcmFuc3BvcnQsbCkpcmV0dXJuIG4oZChcIk9wZXJhdGlvbkVycm9yXCIsXCJDYW4gbm90IGFkZCBJQ0UgY2FuZGlkYXRlXCIpKTt2YXIgaD1lLmNhbmRpZGF0ZS50cmltKCk7MD09PWguaW5kZXhPZihcImE9XCIpJiYoaD1oLnN1YnN0cigyKSksKHQ9aS5nZXRNZWRpYVNlY3Rpb25zKHIuX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkpW3NdKz1cImE9XCIrKGwudHlwZT9oOlwiZW5kLW9mLWNhbmRpZGF0ZXNcIikrXCJcXHJcXG5cIixyLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHA9aS5nZXREZXNjcmlwdGlvbihyLl9yZW1vdGVEZXNjcmlwdGlvbi5zZHApK3Quam9pbihcIlwiKX1lbHNlIGZvcih2YXIgcD0wO3A8ci50cmFuc2NlaXZlcnMubGVuZ3RoJiYoci50cmFuc2NlaXZlcnNbcF0ucmVqZWN0ZWR8fChyLnRyYW5zY2VpdmVyc1twXS5pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKHt9KSwodD1pLmdldE1lZGlhU2VjdGlvbnMoci5fcmVtb3RlRGVzY3JpcHRpb24uc2RwKSlbcF0rPVwiYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiLHIuX3JlbW90ZURlc2NyaXB0aW9uLnNkcD1pLmdldERlc2NyaXB0aW9uKHIuX3JlbW90ZURlc2NyaXB0aW9uLnNkcCkrdC5qb2luKFwiXCIpLCFyLnVzaW5nQnVuZGxlKSk7cCsrKTtvKCl9KSl9LHAucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKHQpe2lmKHQmJnQgaW5zdGFuY2VvZiBlLk1lZGlhU3RyZWFtVHJhY2spe3ZhciByPW51bGw7aWYodGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5ydHBTZW5kZXImJmUucnRwU2VuZGVyLnRyYWNrPT09dD9yPWUucnRwU2VuZGVyOmUucnRwUmVjZWl2ZXImJmUucnRwUmVjZWl2ZXIudHJhY2s9PT10JiYocj1lLnJ0cFJlY2VpdmVyKX0pKSwhcil0aHJvdyBkKFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIsXCJJbnZhbGlkIHNlbGVjdG9yLlwiKTtyZXR1cm4gci5nZXRTdGF0cygpfXZhciBpPVtdO3JldHVybiB0aGlzLnRyYW5zY2VpdmVycy5mb3JFYWNoKChmdW5jdGlvbihlKXtbXCJydHBTZW5kZXJcIixcInJ0cFJlY2VpdmVyXCIsXCJpY2VHYXRoZXJlclwiLFwiaWNlVHJhbnNwb3J0XCIsXCJkdGxzVHJhbnNwb3J0XCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF0mJmkucHVzaChlW3RdLmdldFN0YXRzKCkpfSkpfSkpLFByb21pc2UuYWxsKGkpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBNYXA7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnNldChlLmlkLGUpfSkpfSkpLHR9KSl9LFtcIlJUQ1J0cFNlbmRlclwiLFwiUlRDUnRwUmVjZWl2ZXJcIixcIlJUQ0ljZUdhdGhlcmVyXCIsXCJSVENJY2VUcmFuc3BvcnRcIixcIlJUQ0R0bHNUcmFuc3BvcnRcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9ZVt0XTtpZihyJiZyLnByb3RvdHlwZSYmci5wcm90b3R5cGUuZ2V0U3RhdHMpe3ZhciBpPXIucHJvdG90eXBlLmdldFN0YXRzO3IucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7cmV0dXJuIGkuYXBwbHkodGhpcykudGhlbigoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IE1hcDtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZVtyXS50eXBlPW8oZVtyXSksdC5zZXQocixlW3JdKX0pKSx0fSkpfX19KSk7dmFyIGc9W1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXTtyZXR1cm4gZy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1wLnByb3RvdHlwZVtlXTtwLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzBdfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzFdP3QuYXBwbHkodGhpcyxbYXJndW1lbnRzWzJdXSkudGhlbigoZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVswXSYmZVswXS5hcHBseShudWxsLFt0XSl9KSwoZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVsxXSYmZVsxXS5hcHBseShudWxsLFt0XSl9KSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkpLChnPVtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXAucHJvdG90eXBlW2VdO3AucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGVbMV18fFwiZnVuY3Rpb25cIj09dHlwZW9mIGVbMl0/dC5hcHBseSh0aGlzLGFyZ3VtZW50cykudGhlbigoZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzFdJiZlWzFdLmFwcGx5KG51bGwpfSksKGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGVbMl0mJmVbMl0uYXBwbHkobnVsbCxbdF0pfSkpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKSxbXCJnZXRTdGF0c1wiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1wLnByb3RvdHlwZVtlXTtwLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzFdP3QuYXBwbHkodGhpcyxhcmd1bWVudHMpLnRoZW4oKGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZVsxXSYmZVsxXS5hcHBseShudWxsKX0pKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSkscH19LHtzZHA6MTd9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXtnZW5lcmF0ZUlkZW50aWZpZXI6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsMTApfX07aS5sb2NhbENOYW1lPWkuZ2VuZXJhdGVJZGVudGlmaWVyKCksaS5zcGxpdExpbmVzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKS5zcGxpdChcIlxcblwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKX0saS5zcGxpdFNlY3Rpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiXFxubT1cIikubWFwKChmdW5jdGlvbihlLHQpe3JldHVybih0PjA/XCJtPVwiK2U6ZSkudHJpbSgpK1wiXFxyXFxuXCJ9KSl9LGkuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9aS5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiB0JiZ0WzBdfSxpLmdldE1lZGlhU2VjdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiB0LnNoaWZ0KCksdH0saS5tYXRjaFByZWZpeD1mdW5jdGlvbihlLHQpe3JldHVybiBpLnNwbGl0TGluZXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuaW5kZXhPZih0KX0pKX0saS5wYXJzZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj17Zm91bmRhdGlvbjoodD0wPT09ZS5pbmRleE9mKFwiYT1jYW5kaWRhdGU6XCIpP2Uuc3Vic3RyaW5nKDEyKS5zcGxpdChcIiBcIik6ZS5zdWJzdHJpbmcoMTApLnNwbGl0KFwiIFwiKSlbMF0sY29tcG9uZW50OnBhcnNlSW50KHRbMV0sMTApLHByb3RvY29sOnRbMl0udG9Mb3dlckNhc2UoKSxwcmlvcml0eTpwYXJzZUludCh0WzNdLDEwKSxpcDp0WzRdLGFkZHJlc3M6dFs0XSxwb3J0OnBhcnNlSW50KHRbNV0sMTApLHR5cGU6dFs3XX0saT04O2k8dC5sZW5ndGg7aSs9Milzd2l0Y2godFtpXSl7Y2FzZVwicmFkZHJcIjpyLnJlbGF0ZWRBZGRyZXNzPXRbaSsxXTticmVhaztjYXNlXCJycG9ydFwiOnIucmVsYXRlZFBvcnQ9cGFyc2VJbnQodFtpKzFdLDEwKTticmVhaztjYXNlXCJ0Y3B0eXBlXCI6ci50Y3BUeXBlPXRbaSsxXTticmVhaztjYXNlXCJ1ZnJhZ1wiOnIudWZyYWc9dFtpKzFdLHIudXNlcm5hbWVGcmFnbWVudD10W2krMV07YnJlYWs7ZGVmYXVsdDpyW3RbaV1dPXRbaSsxXX1yZXR1cm4gcn0saS53cml0ZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1bXTt0LnB1c2goZS5mb3VuZGF0aW9uKSx0LnB1c2goZS5jb21wb25lbnQpLHQucHVzaChlLnByb3RvY29sLnRvVXBwZXJDYXNlKCkpLHQucHVzaChlLnByaW9yaXR5KSx0LnB1c2goZS5hZGRyZXNzfHxlLmlwKSx0LnB1c2goZS5wb3J0KTt2YXIgcj1lLnR5cGU7cmV0dXJuIHQucHVzaChcInR5cFwiKSx0LnB1c2gociksXCJob3N0XCIhPT1yJiZlLnJlbGF0ZWRBZGRyZXNzJiZlLnJlbGF0ZWRQb3J0JiYodC5wdXNoKFwicmFkZHJcIiksdC5wdXNoKGUucmVsYXRlZEFkZHJlc3MpLHQucHVzaChcInJwb3J0XCIpLHQucHVzaChlLnJlbGF0ZWRQb3J0KSksZS50Y3BUeXBlJiZcInRjcFwiPT09ZS5wcm90b2NvbC50b0xvd2VyQ2FzZSgpJiYodC5wdXNoKFwidGNwdHlwZVwiKSx0LnB1c2goZS50Y3BUeXBlKSksKGUudXNlcm5hbWVGcmFnbWVudHx8ZS51ZnJhZykmJih0LnB1c2goXCJ1ZnJhZ1wiKSx0LnB1c2goZS51c2VybmFtZUZyYWdtZW50fHxlLnVmcmFnKSksXCJjYW5kaWRhdGU6XCIrdC5qb2luKFwiIFwiKX0saS5wYXJzZUljZU9wdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyKDE0KS5zcGxpdChcIiBcIil9LGkucGFyc2VSdHBNYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdWJzdHIoOSkuc3BsaXQoXCIgXCIpLHI9e3BheWxvYWRUeXBlOnBhcnNlSW50KHQuc2hpZnQoKSwxMCl9O3JldHVybiB0PXRbMF0uc3BsaXQoXCIvXCIpLHIubmFtZT10WzBdLHIuY2xvY2tSYXRlPXBhcnNlSW50KHRbMV0sMTApLHIuY2hhbm5lbHM9Mz09PXQubGVuZ3RoP3BhcnNlSW50KHRbMl0sMTApOjEsci5udW1DaGFubmVscz1yLmNoYW5uZWxzLHJ9LGkud3JpdGVSdHBNYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXlsb2FkVHlwZTt2b2lkIDAhPT1lLnByZWZlcnJlZFBheWxvYWRUeXBlJiYodD1lLnByZWZlcnJlZFBheWxvYWRUeXBlKTt2YXIgcj1lLmNoYW5uZWxzfHxlLm51bUNoYW5uZWxzfHwxO3JldHVyblwiYT1ydHBtYXA6XCIrdCtcIiBcIitlLm5hbWUrXCIvXCIrZS5jbG9ja1JhdGUrKDEhPT1yP1wiL1wiK3I6XCJcIikrXCJcXHJcXG5cIn0saS5wYXJzZUV4dG1hcD1mdW5jdGlvbihlKXt2YXIgdD1lLnN1YnN0cig5KS5zcGxpdChcIiBcIik7cmV0dXJue2lkOnBhcnNlSW50KHRbMF0sMTApLGRpcmVjdGlvbjp0WzBdLmluZGV4T2YoXCIvXCIpPjA/dFswXS5zcGxpdChcIi9cIilbMV06XCJzZW5kcmVjdlwiLHVyaTp0WzFdfX0saS53cml0ZUV4dG1hcD1mdW5jdGlvbihlKXtyZXR1cm5cImE9ZXh0bWFwOlwiKyhlLmlkfHxlLnByZWZlcnJlZElkKSsoZS5kaXJlY3Rpb24mJlwic2VuZHJlY3ZcIiE9PWUuZGlyZWN0aW9uP1wiL1wiK2UuZGlyZWN0aW9uOlwiXCIpK1wiIFwiK2UudXJpK1wiXFxyXFxuXCJ9LGkucGFyc2VGbXRwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPXt9LGk9ZS5zdWJzdHIoZS5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIjtcIiksbz0wO288aS5sZW5ndGg7bysrKXJbKHQ9aVtvXS50cmltKCkuc3BsaXQoXCI9XCIpKVswXS50cmltKCldPXRbMV07cmV0dXJuIHJ9LGkud3JpdGVGbXRwPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCIscj1lLnBheWxvYWRUeXBlO2lmKHZvaWQgMCE9PWUucHJlZmVycmVkUGF5bG9hZFR5cGUmJihyPWUucHJlZmVycmVkUGF5bG9hZFR5cGUpLGUucGFyYW1ldGVycyYmT2JqZWN0LmtleXMoZS5wYXJhbWV0ZXJzKS5sZW5ndGgpe3ZhciBpPVtdO09iamVjdC5rZXlzKGUucGFyYW1ldGVycykuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5wdXNoKGUucGFyYW1ldGVyc1t0XT90K1wiPVwiK2UucGFyYW1ldGVyc1t0XTp0KX0pKSx0Kz1cImE9Zm10cDpcIityK1wiIFwiK2kuam9pbihcIjtcIikrXCJcXHJcXG5cIn1yZXR1cm4gdH0saS5wYXJzZVJ0Y3BGYj1mdW5jdGlvbihlKXt2YXIgdD1lLnN1YnN0cihlLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiIFwiKTtyZXR1cm57dHlwZTp0LnNoaWZ0KCkscGFyYW1ldGVyOnQuam9pbihcIiBcIil9fSxpLndyaXRlUnRjcEZiPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCIscj1lLnBheWxvYWRUeXBlO3JldHVybiB2b2lkIDAhPT1lLnByZWZlcnJlZFBheWxvYWRUeXBlJiYocj1lLnByZWZlcnJlZFBheWxvYWRUeXBlKSxlLnJ0Y3BGZWVkYmFjayYmZS5ydGNwRmVlZGJhY2subGVuZ3RoJiZlLnJ0Y3BGZWVkYmFjay5mb3JFYWNoKChmdW5jdGlvbihlKXt0Kz1cImE9cnRjcC1mYjpcIityK1wiIFwiK2UudHlwZSsoZS5wYXJhbWV0ZXImJmUucGFyYW1ldGVyLmxlbmd0aD9cIiBcIitlLnBhcmFtZXRlcjpcIlwiKStcIlxcclxcblwifSkpLHR9LGkucGFyc2VTc3JjTWVkaWE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKFwiIFwiKSxyPXtzc3JjOnBhcnNlSW50KGUuc3Vic3RyKDcsdC03KSwxMCl9LGk9ZS5pbmRleE9mKFwiOlwiLHQpO3JldHVybiBpPi0xPyhyLmF0dHJpYnV0ZT1lLnN1YnN0cih0KzEsaS10LTEpLHIudmFsdWU9ZS5zdWJzdHIoaSsxKSk6ci5hdHRyaWJ1dGU9ZS5zdWJzdHIodCsxKSxyfSxpLnBhcnNlU3NyY0dyb3VwPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyKDEzKS5zcGxpdChcIiBcIik7cmV0dXJue3NlbWFudGljczp0LnNoaWZ0KCksc3NyY3M6dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0pKX19LGkuZ2V0TWlkPWZ1bmN0aW9uKGUpe3ZhciB0PWkubWF0Y2hQcmVmaXgoZSxcImE9bWlkOlwiKVswXTtpZih0KXJldHVybiB0LnN1YnN0cig2KX0saS5wYXJzZUZpbmdlcnByaW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyKDE0KS5zcGxpdChcIiBcIik7cmV0dXJue2FsZ29yaXRobTp0WzBdLnRvTG93ZXJDYXNlKCksdmFsdWU6dFsxXX19LGkuZ2V0RHRsc1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57cm9sZTpcImF1dG9cIixmaW5nZXJwcmludHM6aS5tYXRjaFByZWZpeChlK3QsXCJhPWZpbmdlcnByaW50OlwiKS5tYXAoaS5wYXJzZUZpbmdlcnByaW50KX19LGkud3JpdGVEdGxzUGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe3ZhciByPVwiYT1zZXR1cDpcIit0K1wiXFxyXFxuXCI7cmV0dXJuIGUuZmluZ2VycHJpbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IrPVwiYT1maW5nZXJwcmludDpcIitlLmFsZ29yaXRobStcIiBcIitlLnZhbHVlK1wiXFxyXFxuXCJ9KSkscn0saS5nZXRJY2VQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5zcGxpdExpbmVzKGUpO3JldHVybnt1c2VybmFtZUZyYWdtZW50OihyPXIuY29uY2F0KGkuc3BsaXRMaW5lcyh0KSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YoXCJhPWljZS11ZnJhZzpcIil9KSlbMF0uc3Vic3RyKDEyKSxwYXNzd29yZDpyLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YoXCJhPWljZS1wd2Q6XCIpfSkpWzBdLnN1YnN0cigxMCl9fSxpLndyaXRlSWNlUGFyYW1ldGVycz1mdW5jdGlvbihlKXtyZXR1cm5cImE9aWNlLXVmcmFnOlwiK2UudXNlcm5hbWVGcmFnbWVudCtcIlxcclxcbmE9aWNlLXB3ZDpcIitlLnBhc3N3b3JkK1wiXFxyXFxuXCJ9LGkucGFyc2VSdHBQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17Y29kZWNzOltdLGhlYWRlckV4dGVuc2lvbnM6W10sZmVjTWVjaGFuaXNtczpbXSxydGNwOltdfSxyPWkuc3BsaXRMaW5lcyhlKVswXS5zcGxpdChcIiBcIiksbz0zO288ci5sZW5ndGg7bysrKXt2YXIgbj1yW29dLHM9aS5tYXRjaFByZWZpeChlLFwiYT1ydHBtYXA6XCIrbitcIiBcIilbMF07aWYocyl7dmFyIGE9aS5wYXJzZVJ0cE1hcChzKSxjPWkubWF0Y2hQcmVmaXgoZSxcImE9Zm10cDpcIituK1wiIFwiKTtzd2l0Y2goYS5wYXJhbWV0ZXJzPWMubGVuZ3RoP2kucGFyc2VGbXRwKGNbMF0pOnt9LGEucnRjcEZlZWRiYWNrPWkubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1mYjpcIituK1wiIFwiKS5tYXAoaS5wYXJzZVJ0Y3BGYiksdC5jb2RlY3MucHVzaChhKSxhLm5hbWUudG9VcHBlckNhc2UoKSl7Y2FzZVwiUkVEXCI6Y2FzZVwiVUxQRkVDXCI6dC5mZWNNZWNoYW5pc21zLnB1c2goYS5uYW1lLnRvVXBwZXJDYXNlKCkpfX19cmV0dXJuIGkubWF0Y2hQcmVmaXgoZSxcImE9ZXh0bWFwOlwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmhlYWRlckV4dGVuc2lvbnMucHVzaChpLnBhcnNlRXh0bWFwKGUpKX0pKSx0fSxpLndyaXRlUnRwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1cIlwiO3IrPVwibT1cIitlK1wiIFwiLHIrPXQuY29kZWNzLmxlbmd0aD4wP1wiOVwiOlwiMFwiLHIrPVwiIFVEUC9UTFMvUlRQL1NBVlBGIFwiLHIrPXQuY29kZWNzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUucHJlZmVycmVkUGF5bG9hZFR5cGU/ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZTplLnBheWxvYWRUeXBlfSkpLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIscis9XCJjPUlOIElQNCAwLjAuMC4wXFxyXFxuXCIscis9XCJhPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcclxcblwiLHQuY29kZWNzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IrPWkud3JpdGVSdHBNYXAoZSkscis9aS53cml0ZUZtdHAoZSkscis9aS53cml0ZVJ0Y3BGYihlKX0pKTt2YXIgbz0wO3JldHVybiB0LmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm1heHB0aW1lPm8mJihvPWUubWF4cHRpbWUpfSkpLG8+MCYmKHIrPVwiYT1tYXhwdGltZTpcIitvK1wiXFxyXFxuXCIpLHIrPVwiYT1ydGNwLW11eFxcclxcblwiLHQuaGVhZGVyRXh0ZW5zaW9ucyYmdC5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IrPWkud3JpdGVFeHRtYXAoZSl9KSkscn0saS5wYXJzZVJ0cEVuY29kaW5nUGFyYW1ldGVycz1mdW5jdGlvbihlKXt2YXIgdCxyPVtdLG89aS5wYXJzZVJ0cFBhcmFtZXRlcnMoZSksbj0tMSE9PW8uZmVjTWVjaGFuaXNtcy5pbmRleE9mKFwiUkVEXCIpLHM9LTEhPT1vLmZlY01lY2hhbmlzbXMuaW5kZXhPZihcIlVMUEZFQ1wiKSxhPWkubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wYXJzZVNzcmNNZWRpYShlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiY25hbWVcIj09PWUuYXR0cmlidXRlfSkpLGM9YS5sZW5ndGg+MCYmYVswXS5zc3JjLHU9aS5tYXRjaFByZWZpeChlLFwiYT1zc3JjLWdyb3VwOkZJRFwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cigxNykuc3BsaXQoXCIgXCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSkpfSkpO3UubGVuZ3RoPjAmJnVbMF0ubGVuZ3RoPjEmJnVbMF1bMF09PT1jJiYodD11WzBdWzFdKSxvLmNvZGVjcy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihcIlJUWFwiPT09ZS5uYW1lLnRvVXBwZXJDYXNlKCkmJmUucGFyYW1ldGVycy5hcHQpe3ZhciBpPXtzc3JjOmMsY29kZWNQYXlsb2FkVHlwZTpwYXJzZUludChlLnBhcmFtZXRlcnMuYXB0LDEwKX07YyYmdCYmKGkucnR4PXtzc3JjOnR9KSxyLnB1c2goaSksbiYmKChpPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpKS5mZWM9e3NzcmM6YyxtZWNoYW5pc206cz9cInJlZCt1bHBmZWNcIjpcInJlZFwifSxyLnB1c2goaSkpfX0pKSwwPT09ci5sZW5ndGgmJmMmJnIucHVzaCh7c3NyYzpjfSk7dmFyIGQ9aS5tYXRjaFByZWZpeChlLFwiYj1cIik7cmV0dXJuIGQubGVuZ3RoJiYoZD0wPT09ZFswXS5pbmRleE9mKFwiYj1USUFTOlwiKT9wYXJzZUludChkWzBdLnN1YnN0cig3KSwxMCk6MD09PWRbMF0uaW5kZXhPZihcImI9QVM6XCIpPzFlMypwYXJzZUludChkWzBdLnN1YnN0cig1KSwxMCkqLjk1LTE2ZTM6dm9pZCAwLHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5tYXhCaXRyYXRlPWR9KSkpLHJ9LGkucGFyc2VSdGNwUGFyYW1ldGVycz1mdW5jdGlvbihlKXt2YXIgdD17fSxyPWkubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wYXJzZVNzcmNNZWRpYShlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiY25hbWVcIj09PWUuYXR0cmlidXRlfSkpWzBdO3ImJih0LmNuYW1lPXIudmFsdWUsdC5zc3JjPXIuc3NyYyk7dmFyIG89aS5tYXRjaFByZWZpeChlLFwiYT1ydGNwLXJzaXplXCIpO3QucmVkdWNlZFNpemU9by5sZW5ndGg+MCx0LmNvbXBvdW5kPTA9PT1vLmxlbmd0aDt2YXIgbj1pLm1hdGNoUHJlZml4KGUsXCJhPXJ0Y3AtbXV4XCIpO3JldHVybiB0Lm11eD1uLmxlbmd0aD4wLHR9LGkucGFyc2VNc2lkPWZ1bmN0aW9uKGUpe3ZhciB0LHI9aS5tYXRjaFByZWZpeChlLFwiYT1tc2lkOlwiKTtpZigxPT09ci5sZW5ndGgpcmV0dXJue3N0cmVhbToodD1yWzBdLnN1YnN0cig3KS5zcGxpdChcIiBcIikpWzBdLHRyYWNrOnRbMV19O3ZhciBvPWkubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wYXJzZVNzcmNNZWRpYShlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwibXNpZFwiPT09ZS5hdHRyaWJ1dGV9KSk7cmV0dXJuIG8ubGVuZ3RoPjA/e3N0cmVhbToodD1vWzBdLnZhbHVlLnNwbGl0KFwiIFwiKSlbMF0sdHJhY2s6dFsxXX06dm9pZCAwfSxpLmdlbmVyYXRlU2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHIoMiwyMSl9LGkud3JpdGVTZXNzaW9uQm9pbGVycGxhdGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXZvaWQgMCE9PXQ/dDoyO3JldHVyblwidj0wXFxyXFxubz1cIisocnx8XCJ0aGlzaXNhZGFwdGVyb3J0Y1wiKStcIiBcIisoZXx8aS5nZW5lcmF0ZVNlc3Npb25JZCgpKStcIiBcIitvK1wiIElOIElQNCAxMjcuMC4wLjFcXHJcXG5zPS1cXHJcXG50PTAgMFxcclxcblwifSxpLndyaXRlTWVkaWFTZWN0aW9uPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPWkud3JpdGVSdHBEZXNjcmlwdGlvbihlLmtpbmQsdCk7aWYobis9aS53cml0ZUljZVBhcmFtZXRlcnMoZS5pY2VHYXRoZXJlci5nZXRMb2NhbFBhcmFtZXRlcnMoKSksbis9aS53cml0ZUR0bHNQYXJhbWV0ZXJzKGUuZHRsc1RyYW5zcG9ydC5nZXRMb2NhbFBhcmFtZXRlcnMoKSxcIm9mZmVyXCI9PT1yP1wiYWN0cGFzc1wiOlwiYWN0aXZlXCIpLG4rPVwiYT1taWQ6XCIrZS5taWQrXCJcXHJcXG5cIixuKz1lLmRpcmVjdGlvbj9cImE9XCIrZS5kaXJlY3Rpb24rXCJcXHJcXG5cIjplLnJ0cFNlbmRlciYmZS5ydHBSZWNlaXZlcj9cImE9c2VuZHJlY3ZcXHJcXG5cIjplLnJ0cFNlbmRlcj9cImE9c2VuZG9ubHlcXHJcXG5cIjplLnJ0cFJlY2VpdmVyP1wiYT1yZWN2b25seVxcclxcblwiOlwiYT1pbmFjdGl2ZVxcclxcblwiLGUucnRwU2VuZGVyKXt2YXIgcz1cIm1zaWQ6XCIrby5pZCtcIiBcIitlLnJ0cFNlbmRlci50cmFjay5pZCtcIlxcclxcblwiO24rPVwiYT1cIitzLG4rPVwiYT1zc3JjOlwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjK1wiIFwiK3MsZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eCYmKG4rPVwiYT1zc3JjOlwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5ydHguc3NyYytcIiBcIitzLG4rPVwiYT1zc3JjLWdyb3VwOkZJRCBcIitlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0uc3NyYytcIiBcIitlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4LnNzcmMrXCJcXHJcXG5cIil9cmV0dXJuIG4rPVwiYT1zc3JjOlwiK2Uuc2VuZEVuY29kaW5nUGFyYW1ldGVyc1swXS5zc3JjK1wiIGNuYW1lOlwiK2kubG9jYWxDTmFtZStcIlxcclxcblwiLGUucnRwU2VuZGVyJiZlLnNlbmRFbmNvZGluZ1BhcmFtZXRlcnNbMF0ucnR4JiYobis9XCJhPXNzcmM6XCIrZS5zZW5kRW5jb2RpbmdQYXJhbWV0ZXJzWzBdLnJ0eC5zc3JjK1wiIGNuYW1lOlwiK2kubG9jYWxDTmFtZStcIlxcclxcblwiKSxufSxpLmdldERpcmVjdGlvbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1pLnNwbGl0TGluZXMoZSksbz0wO288ci5sZW5ndGg7bysrKXN3aXRjaChyW29dKXtjYXNlXCJhPXNlbmRyZWN2XCI6Y2FzZVwiYT1zZW5kb25seVwiOmNhc2VcImE9cmVjdm9ubHlcIjpjYXNlXCJhPWluYWN0aXZlXCI6cmV0dXJuIHJbb10uc3Vic3RyKDIpfXJldHVybiB0P2kuZ2V0RGlyZWN0aW9uKHQpOlwic2VuZHJlY3ZcIn0saS5nZXRLaW5kPWZ1bmN0aW9uKGUpe3JldHVybiBpLnNwbGl0TGluZXMoZSlbMF0uc3BsaXQoXCIgXCIpWzBdLnN1YnN0cigyKX0saS5pc1JlamVjdGVkPWZ1bmN0aW9uKGUpe3JldHVyblwiMFwiPT09ZS5zcGxpdChcIiBcIiwyKVsxXX0saS5wYXJzZU1MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PWkuc3BsaXRMaW5lcyhlKVswXS5zdWJzdHIoMikuc3BsaXQoXCIgXCIpO3JldHVybntraW5kOnRbMF0scG9ydDpwYXJzZUludCh0WzFdLDEwKSxwcm90b2NvbDp0WzJdLGZtdDp0LnNsaWNlKDMpLmpvaW4oXCIgXCIpfX0saS5wYXJzZU9MaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PWkubWF0Y2hQcmVmaXgoZSxcIm89XCIpWzBdLnN1YnN0cigyKS5zcGxpdChcIiBcIik7cmV0dXJue3VzZXJuYW1lOnRbMF0sc2Vzc2lvbklkOnRbMV0sc2Vzc2lvblZlcnNpb246cGFyc2VJbnQodFsyXSwxMCksbmV0VHlwZTp0WzNdLGFkZHJlc3NUeXBlOnRbNF0sYWRkcmVzczp0WzVdfX0saS5pc1ZhbGlkU0RQPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciB0PWkuc3BsaXRMaW5lcyhlKSxyPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXS5sZW5ndGg8Mnx8XCI9XCIhPT10W3JdLmNoYXJBdCgxKSlyZXR1cm4hMTtyZXR1cm4hMH0sXCJvYmplY3RcIj09dHlwZW9mIHQmJih0LmV4cG9ydHM9aSl9LHt9XX0se30sWzFdKSgxKX0sOTg2OTpmdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZixlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gdD17MjM6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpO3Iucih0KSwocj1pPWl8fHt9KS5MSVZFX1NFTkRfU0lHTkFMPVwiem0ubHYuc3NnXCIsci5MSVZFX1JFU1BPTkRfSk9JTl9MSVZFPVwiem0ubHYucmpsXCIsci5MSVZFX1BVU0hfU0lHTkFMPVwiem0ubHYucHNzXCIsci5TRVJWSUNFX1BVU0g9XCJ6bS5zdi5wc1wiLHIuU0VSVklDRV9TRU5EPVwiem0uc3Yuc2RcIjt2YXIgbz17Y29kZToxMDAyMDE0LG1zZzpcInJvb20gbm90IGV4aXN0XCJ9LG49e2NvZGU6MTAwMjA5OSxtc2c6XCJyb29tIGlubmVyIGVycm9yXCJ9LHM9KGEucHJvdG90eXBlLnJlc2V0TGl2ZUhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLmpvaW5MaXZlQ2FsbGJhY2tNYXA9e30sdGhpcy5qb2luTGl2ZVJlcXVlc3RNYXA9e319LGEucHJvdG90eXBlLmdldFNpZ25hbENtZENvbnRlbnQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPXtyZXF1ZXN0X2lkOmUscm9vbV9pZDp0aGlzLnJvb20ucm9vbUlELGZyb21fdXNlcmlkOnRoaXMuc3RhdGVDZW50ZXIuaWROYW1lLGZyb21fdXNlcm5hbWU6dGhpcy5zdGF0ZUNlbnRlci5uaWNrTmFtZSx0b191c2VyaWQ6dH0sbnVsbCE9ciYmKGUucmVzdWx0PXIpLEpTT04uc3RyaW5naWZ5KGUpfSxhLnByb3RvdHlwZS5yZXF1ZXN0Sm9pbkxpdmU9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG89dGhpcy5zdGF0ZUNlbnRlci5nZXRSZXF1ZXN0SWQoKSxuPXRoaXMuZ2V0U2lnbmFsQ21kQ29udGVudChvLGUpO3JldHVybiBudWxsIT1pJiYodGhpcy5qb2luTGl2ZUNhbGxiYWNrTWFwW29dPWksdGhpcy5zZW5kU2lnbmFsQ21kKDEwMDEsbixlLHQsciksITApfSxhLnByb3RvdHlwZS5zZW5kU2lnbmFsQ21kPWZ1bmN0aW9uKGUsdCxyLG8scyl7dmFyIGE9dGhpczt0aGlzLnJvb20uaXNMb2dpbigpPygodGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudD90aGlzLmxpdmVSb29tSGFuZGxlcjp0aGlzLnNlcnZpY2UpLnNlbmRTaWduYWxDbWQoe3N1Yl9jbWQ6ZSxzaWduYWxfbXNnOnQsZGVzdF9pZF9uYW1lOltyXX0sKGZ1bmN0aW9uKGUpe28mJm8oZS5oZWFkZXIuc2VxKX0pLChmdW5jdGlvbihlKXt2YXIgdD1uO2lmKCFlLmhlYWRlcnx8IWUuYm9keSlyZXR1cm4gZS5jb2RlJiZlLm1zZyYmKHQ9ZSksdm9pZChzJiZzKHQsMCkpO3MmJnMoYS5ydG0uZ2V0U2VydmVyRXJyb3IoZS5ib2R5LmVycl9jb2RlKSxlLmhlYWRlci5zZXEpfSksdGhpcy5yb29tKSx0aGlzLmxvZ2dlci5pbmZvKGkuTElWRV9TRU5EX1NJR05BTCtcIiBjYWxsIHN1Y2Nlc3NcIitlKSk6dGhpcy5sb2dnZXIuZXJyb3IoaS5MSVZFX1NFTkRfU0lHTkFMK1wiIHN0YXRlIGVycm9yXCIpfSxhLnByb3RvdHlwZS5pbnZpdGVKb2luTGl2ZT1mdW5jdGlvbihlLHQscixpKXt2YXIgbz10aGlzLnN0YXRlQ2VudGVyLmdldFJlcXVlc3RJZCgpLG49dGhpcy5nZXRTaWduYWxDbWRDb250ZW50KG8sZSk7cmV0dXJuIG51bGwhPWkmJih0aGlzLmpvaW5MaXZlQ2FsbGJhY2tNYXBbb109aSx0aGlzLnNlbmRTaWduYWxDbWQoMTAwMyxuLGUsdCxyKSwhMCl9LGEucHJvdG90eXBlLmVuZEpvaW5MaXZlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnN0YXRlQ2VudGVyLmdldFJlcXVlc3RJZCgpO3JldHVybiBpPXRoaXMuZ2V0U2lnbmFsQ21kQ29udGVudChpLGUpLHRoaXMuc2VuZFNpZ25hbENtZCgxMDA0LGksZSx0LHIpLCEwfSxhLnByb3RvdHlwZS5yZXNwb25kSm9pbkxpdmU9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49dGhpcy5qb2luTGl2ZVJlcXVlc3RNYXBbZV07aWYoIW4pcmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oaS5MSVZFX1JFU1BPTkRfSk9JTl9MSVZFK1wiIG5vIGRlc3QgaWQgbmFtZVwiKSwhMTt2YXIgcz0wO3JldHVybiB0PXRoaXMuZ2V0U2lnbmFsQ21kQ29udGVudChlLG4scz0hMD09PXQ/MTpzKSx0aGlzLnNlbmRTaWduYWxDbWQoMTAwMix0LG4scixvKSxkZWxldGUgdGhpcy5qb2luTGl2ZVJlcXVlc3RNYXBbZV0sITB9LGEucHJvdG90eXBlLmhhbmRsZVB1c2hTaWduYWxNc2c9ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlLmJvZHkuc2lnbmFsX21zZyk7c3dpdGNoKHRoaXMubG9nZ2VyLmluZm8oaS5MSVZFX1BVU0hfU0lHTkFMK1wiIGhwc209IFwiLHQpLGUuYm9keS5zdWJfY21kKXtjYXNlIDExMDAxOnRoaXMuaGFuZGxlUHVzaEpvaW5MaXZlUmVxdWVzdE1zZyh0KTticmVhaztjYXNlIDExMDAyOnRoaXMuaGFuZGxlUHVzaEpvaW5MaXZlUmVzdWx0TXNnKHQpO2JyZWFrO2Nhc2UgMTEwMDM6dGhpcy5oYW5kbGVQdXNoSm9pbkxpdmVJbnZpdGVNc2codCk7YnJlYWs7Y2FzZSAxMTAwNDp0aGlzLmhhbmRsZVB1c2hKb2luTGl2ZVN0b3BNc2codCl9fSxhLnByb3RvdHlwZS5oYW5kbGVQdXNoSm9pbkxpdmVSZXF1ZXN0TXNnPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5yZXF1ZXN0X2lkO1wic3RyaW5nXCIhPXR5cGVvZiByP3RoaXMubG9nZ2VyLmVycm9yKGkuTElWRV9QVVNIX1NJR05BTCtcIiBubyByZXF1ZXN0SWRcIik6XCJzdHJpbmdcIiE9dHlwZW9mKHQ9ZS5mcm9tX3VzZXJpZCk/dGhpcy5sb2dnZXIuZXJyb3IoaS5MSVZFX1BVU0hfU0lHTkFMK1wiIG5vIGZyb20gdXNlclwiKToodGhpcy5qb2luTGl2ZVJlcXVlc3RNYXBbcl09dCx0aGlzLm9uUmVjdkpvaW5MaXZlUmVxdWVzdChyLGUuZnJvbV91c2VyaWQsZS5mcm9tX3VzZXJuYW1lLGUucm9vbV9pZCksdGhpcy5sb2dnZXIuaW5mbyhpLkxJVkVfUFVTSF9TSUdOQUwrXCIgb25SZWN2Sm9pbkxpdmVSZXF1ZXN0IFwiK3QpKX0sYS5wcm90b3R5cGUub25SZWN2Sm9pbkxpdmVSZXF1ZXN0PWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJyZWN2Sm9pbkxpdmVSZXF1ZXN0XCIsZSx0LHIsaSl9LGEucHJvdG90eXBlLmhhbmRsZVB1c2hKb2luTGl2ZUludml0ZU1zZz1mdW5jdGlvbihlKXt2YXIgdCxyPWUucmVxdWVzdF9pZDtcInN0cmluZ1wiIT10eXBlb2Ygcj90aGlzLmxvZ2dlci5lcnJvcihpLkxJVkVfUFVTSF9TSUdOQUwrXCJubyByZXF1ZXN0SWRcIik6XCJzdHJpbmdcIiE9dHlwZW9mKHQ9ZS5mcm9tX3VzZXJpZCk/dGhpcy5sb2dnZXIuZXJyb3IoaS5MSVZFX1BVU0hfU0lHTkFMK1wiIG5vIGZyb20gdXNlclwiKToodGhpcy5qb2luTGl2ZVJlcXVlc3RNYXBbcl09dCx0aGlzLm9uUmVjdkludml0ZUpvaW5MaXZlUmVxdWVzdChyLGUuZnJvbV91c2VyaWQsZS5mcm9tX3VzZXJuYW1lLGUucm9vbV9pZCksdGhpcy5sb2dnZXIuaW5mbyhpLkxJVkVfUFVTSF9TSUdOQUwrXCIgb25SZWN2SW52aXRlSm9pbkxpdmVSZXF1ZXN0IFwiK3QpKX0sYS5wcm90b3R5cGUub25SZWN2SW52aXRlSm9pbkxpdmVSZXF1ZXN0PWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJyZWN2SW52aXRlSm9pbkxpdmVSZXF1ZXN0XCIsZSx0LHIsaSl9LGEucHJvdG90eXBlLmhhbmRsZVB1c2hKb2luTGl2ZVJlc3VsdE1zZz1mdW5jdGlvbihlKXt2YXIgdCxyLG89ZS5yZXF1ZXN0X2lkO1wic3RyaW5nXCIhPXR5cGVvZiBvP3RoaXMubG9nZ2VyLmVycm9yKGkuTElWRV9QVVNIX1NJR05BTCtcIiBubyByZXF1ZXN0SWRcIik6bnVsbD09KHQ9ZS5yZXN1bHQpP3RoaXMubG9nZ2VyLmluZm8oaS5MSVZFX1BVU0hfU0lHTkFMK1wiIG5vIHJlc3VsdFwiKToodD0xPT10LHRoaXMuam9pbkxpdmVDYWxsYmFja01hcFtvXSYmKChyPXRoaXMuam9pbkxpdmVDYWxsYmFja01hcFtvXSk/KHRoaXMubG9nZ2VyLmluZm8oaS5MSVZFX1BVU0hfU0lHTkFMK1wiIGpvaW5MaXZlUmVxdWVzdC9pbnZpdGUgcmVzdWx0IFwiK3QpLGRlbGV0ZSB0aGlzLmpvaW5MaXZlQ2FsbGJhY2tNYXBbb10scih0LGUuZnJvbV91c2VyaWQsZS5mcm9tX3VzZXJuYW1lKSk6dGhpcy5sb2dnZXIuaW5mbyhpLkxJVkVfUFVTSF9TSUdOQUwrXCIgbm8gY2FsbGJhY2tcIikpKX0sYS5wcm90b3R5cGUuaGFuZGxlUHVzaEpvaW5MaXZlU3RvcE1zZz1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3RfaWQ7XCJzdHJpbmdcIiE9dHlwZW9mIHQ/dGhpcy5sb2dnZXIuZXJyb3IoaS5MSVZFX1BVU0hfU0lHTkFMK1wiIG5vIHJlcXVlc3RJZFwiKToodGhpcy5sb2dnZXIuaW5mbyhpLkxJVkVfUFVTSF9TSUdOQUwrXCIgb25SZWN2RW5kSm9pbkxpdmVDb21tYW5kIFwiK2UuZnJvbV91c2VyaWQpLHRoaXMub25SZWN2RW5kSm9pbkxpdmVDb21tYW5kKHQsZS5mcm9tX3VzZXJpZCxlLmZyb21fdXNlcm5hbWUsZS5yb29tX2lkKSl9LGEucHJvdG90eXBlLm9uUmVjdkVuZEpvaW5MaXZlQ29tbWFuZD1mdW5jdGlvbihlLHQscixpKXt0aGlzLnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwicmVjdkVuZEpvaW5MaXZlQ29tbWFuZFwiLGUsdCxyLGkpfSxhKTtmdW5jdGlvbiBhKGUsdCxyLGksbyxuKXt0aGlzLmxvZ2dlcj1lLHRoaXMuc3RhdGVDZW50ZXI9dCx0aGlzLnNlcnZpY2U9cix0aGlzLmxpdmVSb29tSGFuZGxlcj1pLHRoaXMucnRtPW8sdGhpcy5yb29tPW4sdGhpcy5qb2luTGl2ZUNhbGxiYWNrTWFwPXt9LHRoaXMuam9pbkxpdmVSZXF1ZXN0TWFwPXt9fXZhciBjPXtyZXF1ZXN0Sm9pbkxpdmU6ZnVuY3Rpb24oZSx0LHIsaSxuKXtyZXR1cm4obj10aGlzLmdldFJvb21Nb2R1bGVzKG4pfHx0aGlzLnN0YXRlQ2VudGVyLnJvb21Nb2R1bGVzTGlzdFswXSk/bi5saXZlSGFuZGxlci5yZXF1ZXN0Sm9pbkxpdmUoZSx0LHIsaSk6KHImJnIobywwKSwhMSl9LGludml0ZUpvaW5MaXZlOmZ1bmN0aW9uKGUsdCxyLGksbil7cmV0dXJuKG49dGhpcy5nZXRSb29tTW9kdWxlcyhuKXx8dGhpcy5zdGF0ZUNlbnRlci5yb29tTW9kdWxlc0xpc3RbMF0pP24ubGl2ZUhhbmRsZXIuaW52aXRlSm9pbkxpdmUoZSx0LHIsaSk6KHImJnIobywwKSwhMSl9LGVuZEpvaW5MaXZlOmZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybihpPXRoaXMuZ2V0Um9vbU1vZHVsZXMoaSl8fHRoaXMuc3RhdGVDZW50ZXIucm9vbU1vZHVsZXNMaXN0WzBdKT9pLmxpdmVIYW5kbGVyLmVuZEpvaW5MaXZlKGUsdCxyKToociYmcihvLDApLCExKX0scmVzcG9uZEpvaW5MaXZlOmZ1bmN0aW9uKGUsdCxyLGksbil7cmV0dXJuKG49dGhpcy5nZXRSb29tTW9kdWxlcyhuKXx8dGhpcy5zdGF0ZUNlbnRlci5yb29tTW9kdWxlc0xpc3RbMF0pP24ubGl2ZUhhbmRsZXIucmVzcG9uZEpvaW5MaXZlKGUsdCxyLGkpOihpJiZpKG8sMCksITEpfX0sdT17aGFuZGxlUHVzaFNpZ25hbE1zZzpmdW5jdGlvbihlKXt2YXIgdD1udWxsPT0ocj1udWxsPT1lP3ZvaWQgMDplLmhlYWRlcik/dm9pZCAwOnIucm9vbV9pZCxyPXRoaXMuc3RhdGVDZW50ZXIucm9vbU1vZHVsZXNMaXN0LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJvb21JRD09dH0pKTtyP3IubGl2ZUhhbmRsZXIuaGFuZGxlUHVzaFNpZ25hbE1zZyhlKTp0aGlzLmxvZ2dlci5lcnJvcihpLlNFUlZJQ0VfUFVTSCtcIiByb29tIG5vIGZvdW5kIGlnbm9yZSBcIitKU09OLnN0cmluZ2lmeShlKSl9fSxkPXtpbml0TGl2ZUhhbmRsZXI6ZnVuY3Rpb24oKXt0aGlzLmxpdmVIYW5kbGVyPW5ldyBzKHRoaXMubG9nZ2VyLHRoaXMuc3RhdGVDZW50ZXIsdGhpcy5zZXJ2aWNlLHRoaXMubGl2ZVJvb21IYW5kbGVyLHRoaXMucnRtLHRoaXMpfX07dC5kZWZhdWx0PXt0eXBlOlwibGl2ZVwiLGluc3RhbGw6ZnVuY3Rpb24oZSx0LHIsaSl7Zm9yKHZhciBvIGluIGMpT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLG8se3ZhbHVlOmNbb10sd3JpdGFibGU6ITF9KTtmb3IodmFyIG8gaW4gdSlPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsbyx7dmFsdWU6dVtvXSx3cml0YWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxvLHt2YWx1ZTp1W29dLHdyaXRhYmxlOiExfSk7Zm9yKHZhciBvIGluIGQpT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLG8se3ZhbHVlOmRbb10sd3JpdGFibGU6ITF9KX19fX0scj17fSxlLm09dCxlLmM9cixlLmQ9ZnVuY3Rpb24odCxyLGkpe2Uubyh0LHIpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LGUucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxlLnQ9ZnVuY3Rpb24odCxyKXtpZigxJnImJih0PWUodCkpLDgmcilyZXR1cm4gdDtpZig0JnImJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihlLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImciYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBvIGluIHQpZS5kKGksbyxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLG8pKTtyZXR1cm4gaX0sZS5uPWZ1bmN0aW9uKHQpe3ZhciByPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBlLmQocixcImFcIixyKSxyfSxlLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LGUucD1cIlwiLGUoZS5zPTIzKTtmdW5jdGlvbiBlKGkpe2lmKHJbaV0pcmV0dXJuIHJbaV0uZXhwb3J0czt2YXIgbz1yW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxlKSxvLmw9ITAsby5leHBvcnRzfXZhciB0LHJ9KCl9LDMxMjY6ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHQ9ezE6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHQ9bnVsbDt0cnl7dD1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSwxMywyLDk2LDAsMSwxMjcsOTYsNCwxMjcsMTI3LDEyNywxMjcsMSwxMjcsMyw3LDYsMCwxLDEsMSwxLDEsNiw2LDEsMTI3LDEsNjUsMCwxMSw3LDUwLDYsMywxMDksMTE3LDEwOCwwLDEsNSwxMDAsMTA1LDExOCw5NSwxMTUsMCwyLDUsMTAwLDEwNSwxMTgsOTUsMTE3LDAsMyw1LDExNCwxMDEsMTA5LDk1LDExNSwwLDQsNSwxMTQsMTAxLDEwOSw5NSwxMTcsMCw1LDgsMTAzLDEwMSwxMTYsOTUsMTA0LDEwNSwxMDMsMTA0LDAsMCwxMCwxOTEsMSw2LDQsMCwzNSwwLDExLDM2LDEsMSwxMjYsMzIsMCwxNzMsMzIsMSwxNzMsNjYsMzIsMTM0LDEzMiwzMiwyLDE3MywzMiwzLDE3Myw2NiwzMiwxMzQsMTMyLDEyNiwzNCw0LDY2LDMyLDEzNSwxNjcsMzYsMCwzMiw0LDE2NywxMSwzNiwxLDEsMTI2LDMyLDAsMTczLDMyLDEsMTczLDY2LDMyLDEzNCwxMzIsMzIsMiwxNzMsMzIsMywxNzMsNjYsMzIsMTM0LDEzMiwxMjcsMzQsNCw2NiwzMiwxMzUsMTY3LDM2LDAsMzIsNCwxNjcsMTEsMzYsMSwxLDEyNiwzMiwwLDE3MywzMiwxLDE3Myw2NiwzMiwxMzQsMTMyLDMyLDIsMTczLDMyLDMsMTczLDY2LDMyLDEzNCwxMzIsMTI4LDM0LDQsNjYsMzIsMTM1LDE2NywzNiwwLDMyLDQsMTY3LDExLDM2LDEsMSwxMjYsMzIsMCwxNzMsMzIsMSwxNzMsNjYsMzIsMTM0LDEzMiwzMiwyLDE3MywzMiwzLDE3Myw2NiwzMiwxMzQsMTMyLDEyOSwzNCw0LDY2LDMyLDEzNSwxNjcsMzYsMCwzMiw0LDE2NywxMSwzNiwxLDEsMTI2LDMyLDAsMTczLDMyLDEsMTczLDY2LDMyLDEzNCwxMzIsMzIsMiwxNzMsMzIsMywxNzMsNjYsMzIsMTM0LDEzMiwxMzAsMzQsNCw2NiwzMiwxMzUsMTY3LDM2LDAsMzIsNCwxNjcsMTFdKSkse30pLmV4cG9ydHN9Y2F0Y2goZSl7fWZ1bmN0aW9uIHIoZSx0LHIpe3RoaXMubG93PTB8ZSx0aGlzLmhpZ2g9MHx0LHRoaXMudW5zaWduZWQ9ISFyfWZ1bmN0aW9uIGkoZSl7cmV0dXJuITA9PT0oZSYmZS5fX2lzTG9uZ19fKX1mdW5jdGlvbiBvKGUpe3ZhciB0PU1hdGguY2x6MzIoZSYtZSk7cmV0dXJuIGU/MzEtdDp0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcIl9faXNMb25nX19cIix7dmFsdWU6ITB9KSxyLmlzTG9uZz1pO3ZhciBuPXt9LHM9e307ZnVuY3Rpb24gYShlLHQpe3ZhciByLGksbztyZXR1cm4gdD8obz0wPD0oZT4+Pj0wKSYmZTwyNTYpJiYoaT1zW2VdKT9pOihyPXUoZSwwLCEwKSxvJiYoc1tlXT1yKSxyKToobz0tMTI4PD0oZXw9MCkmJmU8MTI4KSYmKGk9bltlXSk/aToocj11KGUsZTwwPy0xOjAsITEpLG8mJihuW2VdPXIpLHIpfWZ1bmN0aW9uIGMoZSx0KXtpZihpc05hTihlKSlyZXR1cm4gdD92Ol87aWYodCl7aWYoZTwwKXJldHVybiB2O2lmKGc8PWUpcmV0dXJuIHl9ZWxzZXtpZihlPD0tZilyZXR1cm4gUjtpZihmPD1lKzEpcmV0dXJuIEN9cmV0dXJuIGU8MD9jKC1lLHQpLm5lZygpOnUoZSVwfDAsZS9wfDAsdCl9ZnVuY3Rpb24gdShlLHQsaSl7cmV0dXJuIG5ldyByKGUsdCxpKX1yLmZyb21JbnQ9YSxyLmZyb21OdW1iZXI9YyxyLmZyb21CaXRzPXU7dmFyIGQ9TWF0aC5wb3c7ZnVuY3Rpb24gbChlLHQscil7aWYoMD09PWUubGVuZ3RoKXRocm93IEVycm9yKFwiZW1wdHkgc3RyaW5nXCIpO2lmKHQ9XCJudW1iZXJcIj09dHlwZW9mIHQ/KHI9dCwhMSk6ISF0LFwiTmFOXCI9PT1lfHxcIkluZmluaXR5XCI9PT1lfHxcIitJbmZpbml0eVwiPT09ZXx8XCItSW5maW5pdHlcIj09PWUpcmV0dXJuIHQ/djpfO2lmKChyPXJ8fDEwKTwyfHwzNjxyKXRocm93IFJhbmdlRXJyb3IoXCJyYWRpeFwiKTt2YXIgaTtpZigwPChpPWUuaW5kZXhPZihcIi1cIikpKXRocm93IEVycm9yKFwiaW50ZXJpb3IgaHlwaGVuXCIpO2lmKDA9PT1pKXJldHVybiBsKGUuc3Vic3RyaW5nKDEpLHQscikubmVnKCk7Zm9yKHZhciBvPWMoZChyLDgpKSxuPV8scz0wO3M8ZS5sZW5ndGg7cys9OCl7dmFyIGE9TWF0aC5taW4oOCxlLmxlbmd0aC1zKSx1PXBhcnNlSW50KGUuc3Vic3RyaW5nKHMscythKSxyKTtuPWE8OD8oYT1jKGQocixhKSksbi5tdWwoYSkuYWRkKGModSkpKToobj1uLm11bChvKSkuYWRkKGModSkpfXJldHVybiBuLnVuc2lnbmVkPXQsbn1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/YyhlLHQpOlwic3RyaW5nXCI9PXR5cGVvZiBlP2woZSx0KTp1KGUubG93LGUuaGlnaCxcImJvb2xlYW5cIj09dHlwZW9mIHQ/dDplLnVuc2lnbmVkKX1yLmZyb21TdHJpbmc9bCxyLmZyb21WYWx1ZT1oO3ZhciBwPTQyOTQ5NjcyOTYsZz1wKnAsZj1nLzIsbT1hKDE8PDI0KSxfPWEoMCksdj0oci5aRVJPPV8sYSgwLCEwKSksRT0oci5VWkVSTz12LGEoMSkpLFM9KHIuT05FPUUsYSgxLCEwKSksVD0oci5VT05FPVMsYSgtMSkpLEM9KHIuTkVHX09ORT1ULHUoLTEsMjE0NzQ4MzY0NywhMSkpLHk9KHIuTUFYX1ZBTFVFPUMsdSgtMSwtMSwhMCkpLFI9KHIuTUFYX1VOU0lHTkVEX1ZBTFVFPXksdSgwLC0yMTQ3NDgzNjQ4LCExKSksYj0oci5NSU5fVkFMVUU9UixyLnByb3RvdHlwZSk7cmV0dXJuIGIudG9JbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD90aGlzLmxvdz4+PjA6dGhpcy5sb3d9LGIudG9OdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD8odGhpcy5oaWdoPj4+MCkqcCsodGhpcy5sb3c+Pj4wKTp0aGlzLmhpZ2gqcCsodGhpcy5sb3c+Pj4wKX0sYi50b1N0cmluZz1mdW5jdGlvbihlKXtpZigoZT1lfHwxMCk8Mnx8MzY8ZSl0aHJvdyBSYW5nZUVycm9yKFwicmFkaXhcIik7aWYodGhpcy5pc1plcm8oKSlyZXR1cm5cIjBcIjt2YXIgdCxyO2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLmVxKFIpPyhyPWMoZSkscj0odD10aGlzLmRpdihyKSkubXVsKHIpLnN1Yih0aGlzKSx0LnRvU3RyaW5nKGUpK3IudG9JbnQoKS50b1N0cmluZyhlKSk6XCItXCIrdGhpcy5uZWcoKS50b1N0cmluZyhlKTtmb3IodmFyIGk9YyhkKGUsNiksdGhpcy51bnNpZ25lZCksbz10aGlzLG49XCJcIjs7KXt2YXIgcz1vLmRpdihpKSxhPShvLnN1YihzLm11bChpKSkudG9JbnQoKT4+PjApLnRvU3RyaW5nKGUpO2lmKChvPXMpLmlzWmVybygpKXJldHVybiBhK247Zm9yKDthLmxlbmd0aDw2OylhPVwiMFwiK2E7bj1cIlwiK2Erbn19LGIuZ2V0SGlnaEJpdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdofSxiLmdldEhpZ2hCaXRzVW5zaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdoPj4+MH0sYi5nZXRMb3dCaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93fSxiLmdldExvd0JpdHNVbnNpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvdz4+PjB9LGIuZ2V0TnVtQml0c0Ficz1mdW5jdGlvbigpe2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLmVxKFIpPzY0OnRoaXMubmVnKCkuZ2V0TnVtQml0c0FicygpO2Zvcih2YXIgZT0wIT10aGlzLmhpZ2g/dGhpcy5oaWdoOnRoaXMubG93LHQ9MzE7MDx0JiYwPT0oZSYxPDx0KTt0LS0pO3JldHVybiAwIT10aGlzLmhpZ2g/dCszMzp0KzF9LGIuaXNaZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmhpZ2gmJjA9PT10aGlzLmxvd30sYi5lcXo9Yi5pc1plcm8sYi5pc05lZ2F0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMudW5zaWduZWQmJnRoaXMuaGlnaDwwfSxiLmlzUG9zaXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZHx8MDw9dGhpcy5oaWdofSxiLmlzT2RkPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PSgxJnRoaXMubG93KX0sYi5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KDEmdGhpcy5sb3cpfSxiLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gaShlKXx8KGU9aChlKSksKHRoaXMudW5zaWduZWQ9PT1lLnVuc2lnbmVkfHx0aGlzLmhpZ2g+Pj4zMSE9MXx8ZS5oaWdoPj4+MzEhPTEpJiZ0aGlzLmhpZ2g9PT1lLmhpZ2gmJnRoaXMubG93PT09ZS5sb3d9LGIuZXE9Yi5lcXVhbHMsYi5ub3RFcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuZXEoZSl9LGIubmVxPWIubm90RXF1YWxzLGIubmU9Yi5ub3RFcXVhbHMsYi5sZXNzVGhhbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wKGUpPDB9LGIubHQ9Yi5sZXNzVGhhbixiLmxlc3NUaGFuT3JFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wKGUpPD0wfSxiLmx0ZT1iLmxlc3NUaGFuT3JFcXVhbCxiLmxlPWIubGVzc1RoYW5PckVxdWFsLGIuZ3JlYXRlclRoYW49ZnVuY3Rpb24oZSl7cmV0dXJuIDA8dGhpcy5jb21wKGUpfSxiLmd0PWIuZ3JlYXRlclRoYW4sYi5ncmVhdGVyVGhhbk9yRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIDA8PXRoaXMuY29tcChlKX0sYi5ndGU9Yi5ncmVhdGVyVGhhbk9yRXF1YWwsYi5nZT1iLmdyZWF0ZXJUaGFuT3JFcXVhbCxiLmNvbXBhcmU9ZnVuY3Rpb24oZSl7aWYoaShlKXx8KGU9aChlKSksdGhpcy5lcShlKSlyZXR1cm4gMDt2YXIgdD10aGlzLmlzTmVnYXRpdmUoKSxyPWUuaXNOZWdhdGl2ZSgpO3JldHVybiB0JiYhcj8tMTohdCYmcj8xOnRoaXMudW5zaWduZWQ/ZS5oaWdoPj4+MD50aGlzLmhpZ2g+Pj4wfHxlLmhpZ2g9PT10aGlzLmhpZ2gmJmUubG93Pj4+MD50aGlzLmxvdz4+PjA/LTE6MTp0aGlzLnN1YihlKS5pc05lZ2F0aXZlKCk/LTE6MX0sYi5jb21wPWIuY29tcGFyZSxiLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnVuc2lnbmVkJiZ0aGlzLmVxKFIpP1I6dGhpcy5ub3QoKS5hZGQoRSl9LGIubmVnPWIubmVnYXRlLGIuYWRkPWZ1bmN0aW9uKGUpe2koZSl8fChlPWgoZSkpO3ZhciB0PTAscj0wLG89MCxuPTA7cmV0dXJuIHIrPShvPW8rKChuKz0oNjU1MzUmdGhpcy5sb3cpKyg2NTUzNSZlLmxvdykpPj4+MTYpKygodGhpcy5sb3c+Pj4xNikrKGUubG93Pj4+MTYpKSk+Pj4xNix1KChvJj02NTUzNSk8PDE2fChuJj02NTUzNSksKCh0Kz0ocis9KDY1NTM1JnRoaXMuaGlnaCkrKDY1NTM1JmUuaGlnaCkpPj4+MTYpKygodGhpcy5oaWdoPj4+MTYpKyhlLmhpZ2g+Pj4xNikpJjY1NTM1KTw8MTZ8KHImPTY1NTM1KSx0aGlzLnVuc2lnbmVkKX0sYi5zdWJ0cmFjdD1mdW5jdGlvbihlKXtyZXR1cm4gaShlKXx8KGU9aChlKSksdGhpcy5hZGQoZS5uZWcoKSl9LGIuc3ViPWIuc3VidHJhY3QsYi5tdWx0aXBseT1mdW5jdGlvbihlKXtpZih0aGlzLmlzWmVybygpKXJldHVybiB0aGlzO2lmKGkoZSl8fChlPWgoZSkpLHQpcmV0dXJuIHUodC5tdWwodGhpcy5sb3csdGhpcy5oaWdoLGUubG93LGUuaGlnaCksdC5nZXRfaGlnaCgpLHRoaXMudW5zaWduZWQpO2lmKGUuaXNaZXJvKCkpcmV0dXJuIHRoaXMudW5zaWduZWQ/djpfO2lmKHRoaXMuZXEoUikpcmV0dXJuIGUuaXNPZGQoKT9SOl87aWYoZS5lcShSKSlyZXR1cm4gdGhpcy5pc09kZCgpP1I6XztpZih0aGlzLmlzTmVnYXRpdmUoKSlyZXR1cm4gZS5pc05lZ2F0aXZlKCk/dGhpcy5uZWcoKS5tdWwoZS5uZWcoKSk6dGhpcy5uZWcoKS5tdWwoZSkubmVnKCk7aWYoZS5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMubXVsKGUubmVnKCkpLm5lZygpO2lmKHRoaXMubHQobSkmJmUubHQobSkpcmV0dXJuIGModGhpcy50b051bWJlcigpKmUudG9OdW1iZXIoKSx0aGlzLnVuc2lnbmVkKTt2YXIgcj02NTUzNSZ0aGlzLmhpZ2gsbz10aGlzLmxvdz4+PjE2LG49NjU1MzUmdGhpcy5sb3cscz1lLmhpZ2g+Pj4xNixhPTY1NTM1JmUuaGlnaCxkPWUubG93Pj4+MTYsbD0wLHA9MCxnPTAsZj0oZj0wKSsoKHA9cCsoKGcrPW4qKGU9NjU1MzUmZS5sb3cpKT4+PjE2KStvKmUpPj4+MTYpKygocD0oNjU1MzUmcCkrbipkKT4+PjE2KTtyZXR1cm4gdSgocCY9NjU1MzUpPDwxNnwoZyY9NjU1MzUpLCgobCs9KGYrPXIqZSk+Pj4xNikrKChmPSg2NTUzNSZmKStvKmQpPj4+MTYpKygoZj0oNjU1MzUmZikrbiphKT4+PjE2KSsoKHRoaXMuaGlnaD4+PjE2KSplK3IqZCtvKmErbipzKSY2NTUzNSk8PDE2fChmJj02NTUzNSksdGhpcy51bnNpZ25lZCl9LGIubXVsPWIubXVsdGlwbHksYi5kaXZpZGU9ZnVuY3Rpb24oZSl7aWYoKGU9aShlKT9lOmgoZSkpLmlzWmVybygpKXRocm93IEVycm9yKFwiZGl2aXNpb24gYnkgemVyb1wiKTt2YXIgcixvLG47aWYodClyZXR1cm4gdGhpcy51bnNpZ25lZHx8LTIxNDc0ODM2NDghPT10aGlzLmhpZ2h8fC0xIT09ZS5sb3d8fC0xIT09ZS5oaWdoP3UoKHRoaXMudW5zaWduZWQ/dC5kaXZfdTp0LmRpdl9zKSh0aGlzLmxvdyx0aGlzLmhpZ2gsZS5sb3csZS5oaWdoKSx0LmdldF9oaWdoKCksdGhpcy51bnNpZ25lZCk6dGhpcztpZih0aGlzLmlzWmVybygpKXJldHVybiB0aGlzLnVuc2lnbmVkP3Y6XztpZih0aGlzLnVuc2lnbmVkKXtpZigoZT1lLnVuc2lnbmVkP2U6ZS50b1Vuc2lnbmVkKCkpLmd0KHRoaXMpKXJldHVybiB2O2lmKGUuZ3QodGhpcy5zaHJ1KDEpKSlyZXR1cm4gUztvPXZ9ZWxzZXtpZih0aGlzLmVxKFIpKXJldHVybiBlLmVxKEUpfHxlLmVxKFQpP1I6ZS5lcShSKT9FOihuPXRoaXMuc2hyKDEpLmRpdihlKS5zaGwoMSkpLmVxKF8pP2UuaXNOZWdhdGl2ZSgpP0U6VDoocj10aGlzLnN1YihlLm11bChuKSksbi5hZGQoci5kaXYoZSkpKTtpZihlLmVxKFIpKXJldHVybiB0aGlzLnVuc2lnbmVkP3Y6XztpZih0aGlzLmlzTmVnYXRpdmUoKSlyZXR1cm4gZS5pc05lZ2F0aXZlKCk/dGhpcy5uZWcoKS5kaXYoZS5uZWcoKSk6dGhpcy5uZWcoKS5kaXYoZSkubmVnKCk7aWYoZS5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMuZGl2KGUubmVnKCkpLm5lZygpO289X31mb3Iocj10aGlzO3IuZ3RlKGUpOyl7bj1NYXRoLm1heCgxLE1hdGguZmxvb3Ioci50b051bWJlcigpL2UudG9OdW1iZXIoKSkpO2Zvcih2YXIgcz1NYXRoLmNlaWwoTWF0aC5sb2cobikvTWF0aC5MTjIpLGE9czw9NDg/MTpkKDIscy00OCksbD1jKG4pLHA9bC5tdWwoZSk7cC5pc05lZ2F0aXZlKCl8fHAuZ3Qocik7KXA9KGw9YyhuLT1hLHRoaXMudW5zaWduZWQpKS5tdWwoZSk7bC5pc1plcm8oKSYmKGw9RSksbz1vLmFkZChsKSxyPXIuc3ViKHApfXJldHVybiBvfSxiLmRpdj1iLmRpdmlkZSxiLm1vZHVsbz1mdW5jdGlvbihlKXtyZXR1cm4gaShlKXx8KGU9aChlKSksdD91KCh0aGlzLnVuc2lnbmVkP3QucmVtX3U6dC5yZW1fcykodGhpcy5sb3csdGhpcy5oaWdoLGUubG93LGUuaGlnaCksdC5nZXRfaGlnaCgpLHRoaXMudW5zaWduZWQpOnRoaXMuc3ViKHRoaXMuZGl2KGUpLm11bChlKSl9LGIubW9kPWIubW9kdWxvLGIucmVtPWIubW9kdWxvLGIubm90PWZ1bmN0aW9uKCl7cmV0dXJuIHUofnRoaXMubG93LH50aGlzLmhpZ2gsdGhpcy51bnNpZ25lZCl9LGIuY291bnRMZWFkaW5nWmVyb3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdoP01hdGguY2x6MzIodGhpcy5oaWdoKTpNYXRoLmNsejMyKHRoaXMubG93KSszMn0sYi5jbHo9Yi5jb3VudExlYWRpbmdaZXJvcyxiLmNvdW50VHJhaWxpbmdaZXJvcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvdz9vKHRoaXMubG93KTpvKHRoaXMuaGlnaCkrMzJ9LGIuY3R6PWIuY291bnRUcmFpbGluZ1plcm9zLGIuYW5kPWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfHwoZT1oKGUpKSx1KHRoaXMubG93JmUubG93LHRoaXMuaGlnaCZlLmhpZ2gsdGhpcy51bnNpZ25lZCl9LGIub3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl8fChlPWgoZSkpLHUodGhpcy5sb3d8ZS5sb3csdGhpcy5oaWdofGUuaGlnaCx0aGlzLnVuc2lnbmVkKX0sYi54b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl8fChlPWgoZSkpLHUodGhpcy5sb3deZS5sb3csdGhpcy5oaWdoXmUuaGlnaCx0aGlzLnVuc2lnbmVkKX0sYi5zaGlmdExlZnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSkmJihlPWUudG9JbnQoKSksMD09KGUmPTYzKT90aGlzOmU8MzI/dSh0aGlzLmxvdzw8ZSx0aGlzLmhpZ2g8PGV8dGhpcy5sb3c+Pj4zMi1lLHRoaXMudW5zaWduZWQpOnUoMCx0aGlzLmxvdzw8ZS0zMix0aGlzLnVuc2lnbmVkKX0sYi5zaGw9Yi5zaGlmdExlZnQsYi5zaGlmdFJpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpJiYoZT1lLnRvSW50KCkpLDA9PShlJj02Myk/dGhpczplPDMyP3UodGhpcy5sb3c+Pj5lfHRoaXMuaGlnaDw8MzItZSx0aGlzLmhpZ2g+PmUsdGhpcy51bnNpZ25lZCk6dSh0aGlzLmhpZ2g+PmUtMzIsMDw9dGhpcy5oaWdoPzA6LTEsdGhpcy51bnNpZ25lZCl9LGIuc2hyPWIuc2hpZnRSaWdodCxiLnNoaWZ0UmlnaHRVbnNpZ25lZD1mdW5jdGlvbihlKXtyZXR1cm4gaShlKSYmKGU9ZS50b0ludCgpKSwwPT0oZSY9NjMpP3RoaXM6ZTwzMj91KHRoaXMubG93Pj4+ZXx0aGlzLmhpZ2g8PDMyLWUsdGhpcy5oaWdoPj4+ZSx0aGlzLnVuc2lnbmVkKTp1KDMyPT09ZT90aGlzLmhpZ2g6dGhpcy5oaWdoPj4+ZS0zMiwwLHRoaXMudW5zaWduZWQpfSxiLnNocnU9Yi5zaGlmdFJpZ2h0VW5zaWduZWQsYi5zaHJfdT1iLnNoaWZ0UmlnaHRVbnNpZ25lZCxiLnJvdGF0ZUxlZnQ9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGkoZSkmJihlPWUudG9JbnQoKSksMD09KGUmPTYzKT90aGlzOjMyPT09ZT91KHRoaXMuaGlnaCx0aGlzLmxvdyx0aGlzLnVuc2lnbmVkKTplPDMyP3UodGhpcy5sb3c8PGV8dGhpcy5oaWdoPj4+KHQ9MzItZSksdGhpcy5oaWdoPDxlfHRoaXMubG93Pj4+dCx0aGlzLnVuc2lnbmVkKTp1KHRoaXMuaGlnaDw8KGUtPTMyKXx0aGlzLmxvdz4+Pih0PTMyLWUpLHRoaXMubG93PDxlfHRoaXMuaGlnaD4+PnQsdGhpcy51bnNpZ25lZCl9LGIucm90bD1iLnJvdGF0ZUxlZnQsYi5yb3RhdGVSaWdodD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gaShlKSYmKGU9ZS50b0ludCgpKSwwPT0oZSY9NjMpP3RoaXM6MzI9PT1lP3UodGhpcy5oaWdoLHRoaXMubG93LHRoaXMudW5zaWduZWQpOmU8MzI/dSh0aGlzLmhpZ2g8PCh0PTMyLWUpfHRoaXMubG93Pj4+ZSx0aGlzLmxvdzw8dHx0aGlzLmhpZ2g+Pj5lLHRoaXMudW5zaWduZWQpOnUodGhpcy5sb3c8PCh0PTMyLShlLT0zMikpfHRoaXMuaGlnaD4+PmUsdGhpcy5oaWdoPDx0fHRoaXMubG93Pj4+ZSx0aGlzLnVuc2lnbmVkKX0sYi5yb3RyPWIucm90YXRlUmlnaHQsYi50b1NpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkP3UodGhpcy5sb3csdGhpcy5oaWdoLCExKTp0aGlzfSxiLnRvVW5zaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD90aGlzOnUodGhpcy5sb3csdGhpcy5oaWdoLCEwKX0sYi50b0J5dGVzPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMudG9CeXRlc0xFKCk6dGhpcy50b0J5dGVzQkUoKX0sYi50b0J5dGVzTEU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhpZ2gsdD10aGlzLmxvdztyZXR1cm5bMjU1JnQsdD4+PjgmMjU1LHQ+Pj4xNiYyNTUsdD4+PjI0LDI1NSZlLGU+Pj44JjI1NSxlPj4+MTYmMjU1LGU+Pj4yNF19LGIudG9CeXRlc0JFPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oaWdoLHQ9dGhpcy5sb3c7cmV0dXJuW2U+Pj4yNCxlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZSx0Pj4+MjQsdD4+PjE2JjI1NSx0Pj4+OCYyNTUsMjU1JnRdfSxyLmZyb21CeXRlcz1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGk/ci5mcm9tQnl0ZXNMRShlLHQpOnIuZnJvbUJ5dGVzQkUoZSx0KX0sci5mcm9tQnl0ZXNMRT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcihlWzBdfGVbMV08PDh8ZVsyXTw8MTZ8ZVszXTw8MjQsZVs0XXxlWzVdPDw4fGVbNl08PDE2fGVbN108PDI0LHQpfSxyLmZyb21CeXRlc0JFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyByKGVbNF08PDI0fGVbNV08PDE2fGVbNl08PDh8ZVs3XSxlWzBdPDwyNHxlWzFdPDwxNnxlWzJdPDw4fGVbM10sdCl9LGUuZGVmYXVsdD1yLFwiZGVmYXVsdFwiaW4gZT9lLmRlZmF1bHQ6ZX0oe30pO3ZvaWQgMCE9PSh0PWZ1bmN0aW9uKCl7cmV0dXJuIGl9LmFwcGx5KHQsW10pKSYmKGUuZXhwb3J0cz10KX0sMjI6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGV9ci5yKHQpLChhPW89b3x8e30pLlJUTV9TRU5EX0NVU1RPTT1cInptLnNjY1wiLGEuUlRNX1NFTkRfQkNNPVwiem0uc2JjbVwiLGEuUlRNX1NFTkRfUkxNPVwiem0uc3JsbVwiLGEuUlRNX1NFTkRfQlJNPVwiem0uc2JybVwiLGEuUlRNX1NFTkRfUkFNPVwiem0uc3JhbVwiLGEuTUVTU0FHRV9TRU5EX1JFTElBQkxFPVwiem0ubXNnLnNkclwiLGEuTUVTU0FHRV9GRVRDSF9SRUxJQUJMRT1cInptLm1zZy5mcm1cIixhLk1FU1NBR0VfUkVMSUFCTEVfUlNQPVwiem0ubXNnLnJsclwiLGEuTUVTU0FHRV9SRUxJQUJMRV9QVVNIPVwiem0ubXNnLnJwc1wiLGEuTUVTU0FHRV9TRU5EX1JPT01fTVNHPVwiem0ubXNnLnNybVwiLGEuTUVTU0FHRV9TRU5EX0NVU1RPTV9NU0c9XCJ6bS5tc2cuc2NtXCIsYS5NRVNTQUdFX1NFTkRfQklHX01TRz1cInptLm1zZy5zYm1cIixhLk1FU1NBR0VfQklHX01TR19QVVNIPVwiem0ubXNnLmJwc1wiLGEuTUVTU0FHRV9TRU5EX1JFTEFZX01TRz1cInptLm1zZy5zbG1cIixhLlNFUlZJQ0VfUFVTSD1cInptLnN2LnBzXCI7dmFyIG8sbj17SU5QVVRfUEFSQU06e2NvZGU6MTEwMDAwMSxtc2c6XCJpbnB1dCBwYXJtIGVycm9yLlwifSxUSU1FT1VUOntjb2RlOjExMDAwMDIsbXNnOlwibmV0d29yayB0aW1lb3V0LlwifSxOT1RfTE9HSU46e2NvZGU6MTAwMDAwMixtc2c6XCJub3QgbG9naW5cIn0sSU1fQ09OVEVOVF9OVUxMOntjb2RlOjEwMDkwMDEsbXNnOlwibWVzc2FnZSBjb250ZW50IGlzIGVtcHR5XCJ9LElNX0NPTlRFTlRfVE9PX0xPTkc6e2NvZGU6MTAwOTAwMixtc2c6XCJtZXNzYWdlIGNvbnRlbnQgaXMgdG9vIGxvbmdcIn0sSU1fU0VORF9GQUlMRUQ6e2NvZGU6MTAwOTAxMCxtc2c6XCJmYWlsZWQgdG8gc2VuZCBtZXNzYWdlXCJ9LFJPT01fTk9UX0VYSVNUOntjb2RlOjEwMDIwMTQsbXNnOlwicm9vbSBub3QgZXhpc3RcIn0sUk9PTV9JTk5FUl9FUlJPUjp7Y29kZToxMDAyMDk5LG1zZzpcInJvb20gaW5uZXIgZXJyb3JcIn0sVFJBTlNfRlJFUVVFTlRMWTp7Y29kZToxMTAyMDIyLG1zZzpcInRyYW5zIHNlbmQgZnJlcXVlbnRseVwifSxGUkVRX0xJTUlURUQ6e2NvZGU6MTEwOTAwMSxtc2c6XCJmcmVxdWVuY3kgbGltaXRlZC5cIn19LHM9e2taZWdvVGFza0xpdmVTZW5kUm9vbUJpZ0lNOntldmVudDpcIi9saXZlcm9vbS9zZW5kX2JpZ19yb29tX21lc3NhZ2VcIixyb29tX3NpZDppLGVycm9yOntJTlBVVF9QQVJBTTpuLklOUFVUX1BBUkFNLElNX0NPTlRFTlRfTlVMTDpuLklNX0NPTlRFTlRfTlVMTCxJTV9DT05URU5UX1RPT19MT05HOm4uSU1fQ09OVEVOVF9UT09fTE9ORyxST09NX05PVF9FWElTVDpuLlJPT01fTk9UX0VYSVNUfX0sa1plZ29UYXNrTGl2ZVJvb21TZW5kQ3VzdG9tQ29tbWFuZDp7ZXZlbnQ6XCIvbGl2ZXJvb20vc2VuZF9jdXN0b21fY29tbWFuZFwiLHJvb21fc2lkOmksZXJyb3I6e0lOUFVUX1BBUkFNOm4uSU5QVVRfUEFSQU0sSU1fQ09OVEVOVF9OVUxMOm4uSU1fQ09OVEVOVF9OVUxMLElNX0NPTlRFTlRfVE9PX0xPTkc6bi5JTV9DT05URU5UX1RPT19MT05HLFJPT01fTk9UX0VYSVNUOm4uUk9PTV9OT1RfRVhJU1R9fSxrWmVnb1Rhc2tMaXZlUm9vbVNlbmRSb29tTWVzc2FnZTp7ZXZlbnQ6XCIvbGl2ZXJvb20vc2VuZF9yb29tX21lc3NhZ2VcIixyb29tX3NpZDppLGVycm9yOntJTlBVVF9QQVJBTTpuLklOUFVUX1BBUkFNLElNX0NPTlRFTlRfTlVMTDpuLklNX0NPTlRFTlRfTlVMTCxJTV9DT05URU5UX1RPT19MT05HOm4uSU1fQ09OVEVOVF9UT09fTE9ORyxST09NX05PVF9FWElTVDpuLlJPT01fTk9UX0VYSVNUfX0sa1plZ29UYXNrTGl2ZVJvb21TZW5kUmVsaWFibGVNZXNzYWdlOntldmVudDpcIi9saXZlcm9vbS9zZW5kX3JlbGlhYmxlX21lc3NhZ2VcIixyb29tX3NpZDppLGVycm9yOntJTlBVVF9QQVJBTTpuLklOUFVUX1BBUkFNLFRSQU5TX0ZSRVFVRU5UTFk6bi5UUkFOU19GUkVRVUVOVExZLFJPT01fTk9UX0VYSVNUOm4uUk9PTV9OT1RfRVhJU1R9fSxrWmVnb1Rhc2tMaXZlR2V0Um9vbUJpZ0lNOntldmVudDpcIi9saXZlcm9vbS9nZXRfYmlnX3Jvb21fbWVzc2FnZVwifSxrWmVnb1Rhc2tMaXZlUm9vbUdldFJvb21NZXNzYWdlOntldmVudDpcIi9saXZlcm9vbS9nZXRfcm9vbV9tZXNzYWdlXCIscm9vbV9zaWQ6aX0sa1plZ29UYXNrTGl2ZVJvb21HZXRDdXN0b21Db21tYW5kOntldmVudDpcIi9saXZlcm9vbS9nZXRfY3VzdG9tX2NvbW1hbmRcIn19LGE9cigxKSxjPXIubihhKSx1PShkLnByb3RvdHlwZS5sb2dpblJzcD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYobnVsbCE9ZS5ib2R5LnJldF90aW1lc3RhbXAmJlwic3RyaW5nXCI9PXR5cGVvZiBlLmJvZHkucmV0X3RpbWVzdGFtcCYmKHQ9cGFyc2VGbG9hdChlLmJvZHkucmV0X3RpbWVzdGFtcCksdGhpcy5zZXJ2ZXJUaW1lT2Zmc2V0PTA9PXQ/MDplLmJvZHkucmV0X3RpbWVzdGFtcC0obmV3IERhdGUpLmdldFRpbWUoKSksZS5ib2R5LmJpZ2ltX3RpbWVfd2luZG93JiZcIm51bWJlclwiPT10eXBlb2YgZS5ib2R5LmJpZ2ltX3RpbWVfd2luZG93JiYodGhpcy5iaWdpbVRpbWVXaW5kb3c9ZS5ib2R5LmJpZ2ltX3RpbWVfd2luZG93KSxlLmJvZHkuZGF0aV90aW1lX3dpbmRvdyYmXCJudW1iZXJcIj09dHlwZW9mIGUuYm9keS5kYXRpX3RpbWVfd2luZG93JiYodGhpcy5kYXRpVGltZVdpbmRvdz1lLmJvZHkuZGF0aV90aW1lX3dpbmRvdyksZS5ib2R5LnRyYW5zX3NlcXMpZm9yKHZhciBpPTA7aTxlLmJvZHkudHJhbnNfc2Vxcy5sZW5ndGg7aSsrKXt2YXIgbz1lLmJvZHkudHJhbnNfc2Vxc1tpXS50cmFuc19jaGFubmVsLG49ZS5ib2R5LnRyYW5zX3NlcXNbaV0udHJhbnNfc2VxX2FycmF5OzA8KG49KG49bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudHJhbnNfdHlwZTtyZXR1cm4gZT1lLnRyYW5zX3NlcSwhci50cmFuc1NlcU1hcFt0XXx8ci50cmFuc1NlcU1hcFt0XS5zZXE8ZX0pKSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHJhbnNfdHlwZTplLnRyYW5zX3R5cGUsdHJhbnNfbG9jYWxfc2VxOmUudHJhbnNfc2VxfX0pKSkubGVuZ3RoJiZ0aGlzLmZldGNoUmVsaWFibGVNZXNzYWdlKG8sbil9fSxkLnByb3RvdHlwZS5zZW5kUmVsaWFibGVNZXNzYWdlPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oby5NRVNTQUdFX1NFTkRfUkVMSUFCTEUrXCIgY2FsbFwiKSx0aGlzLnJvb20uaXNMb2dpbigpP3RoaXMuaXNSZWxpYWJsZT8odGhpcy5sb2dnZXIuZXJyb3Ioby5NRVNTQUdFX1NFTkRfUkVMSUFCTEUrXCIgc2VuZCB0b28gb2Z0ZW5cIiksdm9pZCBpKHMua1plZ29UYXNrTGl2ZVJvb21TZW5kUmVsaWFibGVNZXNzYWdlLmVycm9yLlRSQU5TX0ZSRVFVRU5UTFkpKToodGhpcy50cmFuc1NlcU1hcFtlXXx8KHRoaXMudHJhbnNTZXFNYXBbZV09e3NlcTowfSksdD17dHJhbnNfdHlwZTplLHRyYW5zX2RhdGE6dCx0cmFuc19sb2NhbF9zZXE6dGhpcy50cmFuc1NlcU1hcFtlXS5zZXEsdHJhbnNfY2hhbm5lbDpcImNsdFwifSx0aGlzLmlzUmVsaWFibGU9ITAsdm9pZCh0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50P3RoaXMubGl2ZVJvb21IYW5kbGVyOnRoaXMuc2VydmljZSkuc2VuZFJlbGlhYmxlTWVzc2FnZSh0LChmdW5jdGlvbih0KXthLnRyYW5zU2VxTWFwW2VdLnNlcT10LmJvZHkudHJhbnNfc2VxLGEubG9nZ2VyLmluZm8oby5NRVNTQUdFX1NFTkRfUkVMSUFCTEUrXCIgdHJhbnMgXCIrZStcIiBzZXEgXCIrdC5ib2R5LnRyYW5zX3NlcSksYS5pc1JlbGlhYmxlPSExLHIoe3NlcTp0LmhlYWRlci5zZXEsZXJyb3JDb2RlOjB9KX0pLChmdW5jdGlvbihlKXt2YXIgdD1uLlJPT01fSU5ORVJfRVJST1I7ZS5ib2R5JiZlLmJvZHkuZXJyX2NvZGU/KHQ9YS5ydG0uZ2V0U2VydmVyRXJyb3IoZS5ib2R5LmVycl9jb2RlKSxhLmxvZ2dlci5lcnJvcihvLk1FU1NBR0VfU0VORF9ST09NX01TRytcIiAgXCIrdC5tc2cpKTp0PWUsYS5pc1JlbGlhYmxlPSExLGkodCl9KSx0aGlzLnJvb20pKToodGhpcy5sb2dnZXIuZXJyb3Ioby5NRVNTQUdFX1NFTkRfUkVMSUFCTEUrXCIgc3RhdGUgZXJyb3JcIiksdm9pZChpJiZpKG4uTk9UX0xPR0lOKSkpfSxkLnByb3RvdHlwZS5mZXRjaFJlbGlhYmxlTWVzc2FnZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7aS5oYW5kbGVGZXRjaFRyYW5zUnNwKGUpfXZhciBpPXRoaXM7KHRoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQ/dGhpcy5saXZlUm9vbUhhbmRsZXI6dGhpcy5zZXJ2aWNlKS5mZXRjaFJlbGlhYmxlTWVzc2FnZSh7dHJhbnNfY2hhbm5lbDplLGZldGNoX2FycmF5OnR9LHIscix0aGlzLnJvb20pLHRoaXMubG9nZ2VyLmluZm8oby5NRVNTQUdFX0ZFVENIX1JFTElBQkxFK1wiIGNhbGwgc3VjY2Vzc1wiKX0sZC5wcm90b3R5cGUuaGFuZGxlRmV0Y2hUcmFuc1JzcD1mdW5jdGlvbihlKXtpZihlLmJvZHkmJjAhPWUuYm9keS5lcnJfY29kZSl0aGlzLmxvZ2dlci5lcnJvcihvLk1FU1NBR0VfUkVMSUFCTEVfUlNQK1wiIHRyYW5zIHNlbmQgZXJyb3IgXCIrZS5ib2R5LmVycl9jb2RlKTtlbHNlIGlmKGUuaGVhZGVyJiZlLmJvZHkpe3ZhciB0PWUuYm9keS50cmFuc19mZXRjaF9yZXN1bHRzLHI9W107aWYoQXJyYXkuaXNBcnJheSh0KSYmMDx0Lmxlbmd0aCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuLHMsYT10W2ldOzEwMDAwMDExMDk9PT1hLmVycl9jb2RlP3RoaXMubG9nZ2VyLndhcm4oby5NRVNTQUdFX1JFTElBQkxFX1JTUCtcIiBmZXRjaCB0cmFucyB1bmtub3duIHR5cGUgXCIrYS5lcnJfY29kZSk6KG49YS50cmFuc190eXBlLHM9YS50cmFuc19zZXEsMTAwMDAwMTExMD09PWEuZXJyX2NvZGU/KHRoaXMubG9nZ2VyLndhcm4oby5NRVNTQUdFX1JFTElBQkxFX1JTUCtcIiBmZXRjaCB0cmFucyBzZXEgaXMgd3JvbmcgXCIrYS5lcnJfY29kZSksdGhpcy50cmFuc1NlcU1hcFtuXT17c2VxOnN9KTohdGhpcy50cmFuc1NlcU1hcFtuXXx8dGhpcy50cmFuc1NlcU1hcFtuXS5zZXE8cz8odGhpcy50cmFuc1NlcU1hcFtuXT17c2VxOnN9LHIucHVzaChhKSk6dGhpcy5sb2dnZXIud2FybihvLk1FU1NBR0VfUkVMSUFCTEVfUlNQK1wiIGZldGNoIHRyYW5zIHNlcSB3cm9uZ1wiKSl9MDxyLmxlbmd0aCYmdGhpcy5vblJlY3ZSZWxpYWJsZU1lc3NhZ2Uocil9fWVsc2UgdGhpcy5sb2dnZXIuZXJyb3Ioby5NRVNTQUdFX1JFTElBQkxFX1JTUCtcIiB0cmFucyBzZW5kIGVycm9yIFwiK2UpfSxkLnByb3RvdHlwZS5oYW5kbGVQdXNoVHJhbnNNc2c9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LnRyYW5zX3R5cGUscj1lLmJvZHkudHJhbnNfc2VxOyF0aGlzLnRyYW5zU2VxTWFwW3RdfHx0aGlzLnRyYW5zU2VxTWFwW3RdLnNlcTxyPyh0aGlzLnRyYW5zU2VxTWFwW3RdPXtzZXE6cn0sdGhpcy5vblJlY3ZSZWxpYWJsZU1lc3NhZ2UoW2UuYm9keV0pKTp0aGlzLmxvZ2dlci53YXJuKG8uTUVTU0FHRV9SRUxJQUJMRV9QVVNIK1wiIHRyYW5zIHNlcSB3cm9uZ1wiKSx0aGlzLmxvZ2dlci5pbmZvKG8uTUVTU0FHRV9SRUxJQUJMRV9QVVNIK1wiIHRyYW5zIFwiK3QrXCIgc2VxIFwiK3IpfSxkLnByb3RvdHlwZS5zZW5kUm9vbU1zZz1mdW5jdGlvbihlLHQscixpLHMsYSl7dmFyIGM9dGhpcztpZighdGhpcy5yb29tLmlzTG9naW4oKSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3Ioby5NRVNTQUdFX1NFTkRfUk9PTV9NU0crXCIgc3RhdGUgZXJyb3JcIiksYShuLk5PVF9MT0dJTiksITE7dmFyIHU9RGF0ZS5wYXJzZShuZXcgRGF0ZStcIlwiKTtyZXR1cm4gMDx0aGlzLnNlbmRSb29tTXNnVGltZSYmdGhpcy5zZW5kUm9vbU1zZ1RpbWUrdGhpcy5zZW5kUm9vbU1zZ0ludGVydmFsPnU/KHRoaXMubG9nZ2VyLmluZm8oby5NRVNTQUdFX1NFTkRfUk9PTV9NU0crXCIgZnJlcSBlcnJvclwiKSxhJiZhKG4uRlJFUV9MSU1JVEVELDAsZSxpKSwhMSk6KHRoaXMuc2VuZFJvb21Nc2dUaW1lPXUsKHRoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQ/dGhpcy5saXZlUm9vbUhhbmRsZXI6dGhpcy5zZXJ2aWNlKS5zZW5kUm9vbU1zZyh7bXNnX2NhdGVnb3J5OmUsbXNnX3R5cGU6MSxtc2dfcHJpb3JpdHk6MSxtc2dfY29udGVudDppfSwoZnVuY3Rpb24oZSl7cyh7c2VxOmUuaGVhZGVyLnNlcSxlcnJvckNvZGU6MCxtZXNzYWdlSUQ6ZS5ib2R5Lm1zZ19pZH0pfSksKGZ1bmN0aW9uKGUpe3ZhciB0LHIsaT1uLlJPT01fSU5ORVJfRVJST1I7aWYoIWUuaGVhZGVyfHwhZS5ib2R5KXJldHVybiBlLmNvZGUmJmUubXNnJiYoaT1lKSx2b2lkIGEoe3NlcTowLGVycm9yQ29kZTppLmNvZGUsbWVzc2FnZUlEOjB9KTtyPSh0PVtjLnJ0bS5nZXRTZXJ2ZXJFcnJvcihlLmJvZHkuZXJyX2NvZGUpLGUuYm9keS5tc2dfaWRdKVsxXSxjLmxvZ2dlci5lcnJvcihvLk1FU1NBR0VfU0VORF9ST09NX01TRytcIiAgXCIrKGk9dFswXSkubXNnKSxhKHtzZXE6ZS5oZWFkZXIuc2VxLGVycm9yQ29kZTooaT1pPT1uLlRJTUVPVVQ/bi5JTV9TRU5EX0ZBSUxFRDppKS5jb2RlLG1lc3NhZ2VJRDpyfSl9KSx0aGlzLnJvb20pLHRoaXMubG9nZ2VyLmluZm8oby5NRVNTQUdFX1NFTkRfUk9PTV9NU0crXCIgIGNhbGwgc3VjY2Vzc1wiKSwhMCl9LGQucHJvdG90eXBlLmhhbmRsZVB1c2hSb29tTXNnPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcyxpPXRoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQ/dGhpcy5yb29tLnJvb21TZXNzaW9uSUQ6ZS5oZWFkZXIuc2Vzc2lvbl9pZCxvPXRoaXMucnRtLmdldFJlcG9ydFNlcSgpLG49KHRoaXMuZGF0YVJlcG9ydC5uZXdSZXBvcnQobyksdGhpcy5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyx7cm9vbV9zaWQ6cy5rWmVnb1Rhc2tMaXZlUm9vbUdldFJvb21NZXNzYWdlLnJvb21fc2lkKGkpfSksW10pO3RoaXMuc3RhdGVDZW50ZXIudXNlTmV0QWdlbnQ/KHQ9ZS5ib2R5Lm1zZ19kYXRhLGUuYm9keS5tc2dfZGF0YS5mb3JFYWNoKChmdW5jdGlvbihlKXtlPXtmcm9tVXNlcjp7dXNlcklEOmUuaWRfbmFtZSx1c2VyTmFtZTplLm5pY2tfbmFtZX0sbWVzc2FnZTplLm1zZ19jb250ZW50LHNlbmRUaW1lOmUuc2VuZF90aW1lLnRvTnVtYmVyKCksbWVzc2FnZUlEOmUubXNnX2lkLnRvTnVtYmVyKCl9LG4ucHVzaChlKX0pKSxlLmJvZHkuc2VydmVyX21zZ19pZD1lLmJvZHkuc2VydmVyX21zZ19pZC50b051bWJlcigpLGUuYm9keS5yZXRfbXNnX2lkPWUuYm9keS5yZXRfbXNnX2lkLnRvTnVtYmVyKCkpOih0PWUuYm9keS5jaGF0X2RhdGEsZS5ib2R5LmNoYXRfZGF0YS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnB1c2goe2Zyb21Vc2VyOnt1c2VySUQ6ZS5pZF9uYW1lLHVzZXJOYW1lOmUubmlja19uYW1lfSxtZXNzYWdlOmUubXNnX2NvbnRlbnQsc2VuZFRpbWU6ZS5zZW5kX3RpbWUsbWVzc2FnZUlEOmUubXNnX2lkfSksci5kYXRhUmVwb3J0LmFkZE1zZ0luZm8obyx7ZnJvbV9tc2dfaWQ6ZS5pZF9uYW1lfSl9KSkpLHRoaXMuZGF0YVJlcG9ydC51cGxvYWRSZXBvcnQobyxzLmtaZWdvVGFza0xpdmVSb29tR2V0Um9vbU1lc3NhZ2UuZXZlbnQpLHRoaXMuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJJTVJlY3ZCcm9hZGNhc3RNZXNzYWdlXCIsdGhpcy5yb29tLnJvb21JRCxuKSx0aGlzLnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwiX3JlY3ZSb29tTXNnXCIsdCxlLmJvZHkuc2VydmVyX21zZ19pZCxlLmJvZHkucmV0X21zZ19pZCl9LGQucHJvdG90eXBlLnNlbmRDdXN0b21Db21tYW5kPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBzPXRoaXM7cmV0dXJuIHRoaXMucm9vbS5pc0xvZ2luKCk/KHQ9e2Zyb21fdXNlcmlkOnRoaXMuc3RhdGVDZW50ZXIuaWROYW1lLGZyb21fdXNlcm5hbWU6dGhpcy5zdGF0ZUNlbnRlci5uaWNrTmFtZSxyZXF1ZXN0X2lkOnRoaXMuc3RhdGVDZW50ZXIuZ2V0UmVxdWVzdElkKCksY3VzdG9tX2NvbnRlbnQ6dHx8XCJcIixyb29tX2lkOnRoaXMucm9vbS5yb29tSUR9LGU9e2Rlc3RfaWRfbmFtZTplLGN1c3RvbV9tc2c6SlNPTi5zdHJpbmdpZnkodCl9LCh0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50P3RoaXMubGl2ZVJvb21IYW5kbGVyOnRoaXMuc2VydmljZSkuc2VuZEN1c3RvbUNvbW1hbmQoZSwoZnVuY3Rpb24oZSl7cih7c2VxOmUuaGVhZGVyLnNlcSxlcnJvckNvZGU6MH0pfSksKGZ1bmN0aW9uKGUpe3ZhciB0PXMucnRtLmdldFNlcnZlckVycm9yKGUuYm9keS5lcnJfY29kZSk7cy5sb2dnZXIuZXJyb3Ioby5NRVNTQUdFX1NFTkRfQ1VTVE9NX01TRytcIiBcIit0Lm1zZyksaSh7c2VxOmUuaGVhZGVyLnNlcSxlcnJvckNvZGU6KHQ9PW4uVElNRU9VVD9uLklNX1NFTkRfRkFJTEVEOnQpLmNvZGV9KX0pLHRoaXMucm9vbSksdGhpcy5sb2dnZXIuaW5mbyhvLk1FU1NBR0VfU0VORF9DVVNUT01fTVNHK1wiIGNhbGwgc3VjY2Vzc1wiKSwhMCk6KHRoaXMubG9nZ2VyLmVycm9yKG8uTUVTU0FHRV9TRU5EX0NVU1RPTV9NU0crXCIgc3RhdGUgZXJyb3JcIiksaShuLk5PVF9MT0dJTiksITEpfSxkLnByb3RvdHlwZS5oYW5kbGVQdXNoQ3VzdG9tTXNnPWZ1bmN0aW9uKGUpe3ZhciB0PShlPVsoZT1KU09OLnBhcnNlKGUuYm9keS5jdXN0b21tc2cpKS5mcm9tX3VzZXJpZCxlLmZyb21fdXNlcm5hbWUsZS5yb29tX2lkLGUuY3VzdG9tX2NvbnRlbnRdKVswXSxyPWVbMV0saT1lWzJdLG89KGU9ZVszXSx0aGlzLnJ0bS5nZXRSZXBvcnRTZXEoKSk7dGhpcy5kYXRhUmVwb3J0Lm5ld1JlcG9ydChvKSx0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KG8scy5rWmVnb1Rhc2tMaXZlUm9vbUdldEN1c3RvbUNvbW1hbmQuZXZlbnQpLHRoaXMuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJJTVJlY3ZDdXN0b21Db21tYW5kXCIsaSx7dXNlcklEOnQsdXNlck5hbWU6cn0sZSl9LGQucHJvdG90eXBlLnNlbmRCaWdSb29tTWVzc2FnZT1mdW5jdGlvbihlLHQscixpLHMsYSl7dmFyIGM9dGhpcztpZighdGhpcy5yb29tLmlzTG9naW4oKSlyZXR1cm4gdGhpcy5sb2dnZXIuZXJyb3Ioby5NRVNTQUdFX1NFTkRfQklHX01TRytcIiBzdGF0ZSBlcnJvclwiKSx2b2lkKGEmJmEobi5OT1RfTE9HSU4pKTt2YXIgdT10aGlzLmJpZ2ltVGltZVdpbmRvdyxkPXRoaXMuc2VydmVyVGltZU9mZnNldCxsPShuZXcgRGF0ZSkuZ2V0VGltZSgpK2QsaD10aGlzLnJ0bS5nZXRTZXEoKS50b1N0cmluZygpO3RoaXMuYmlnSW1DYWxsYmFja01hcFtoXT17c3VjY2VzczpzLGVycm9yOmF9LDA9PXU/dGhpcy5zZW5kQmlnUm9vbU1lc3NhZ2VJbnRlcm5hbChbe21zZ19jYXRlZ29yeTplLG1zZ190eXBlOjEsbXNnX2NvbnRlbnQ6aSxiaWdtc2dfY2xpZW50X2lkOmh9XSwoZnVuY3Rpb24oZSl7Yy5oYW5kbGVCaWdJbU1zZ1JzcChlKX0pLChmdW5jdGlvbihlKXthJiZhKGUpfSkpOihzPU1hdGguZmxvb3IobC91KSx0aGlzLmJpZ0ltTGFzdFRpbWVJbmRleDxzJiYwPT10aGlzLmJpZ0lNbWVzc2FnZUxpc3QubGVuZ3RoPyh0aGlzLmJpZ0ltTGFzdFRpbWVJbmRleD1zLHRoaXMuc2VuZEJpZ1Jvb21NZXNzYWdlSW50ZXJuYWwoW3ttc2dfY2F0ZWdvcnk6ZSxtc2dfdHlwZToxLG1zZ19jb250ZW50OmksYmlnbXNnX2NsaWVudF9pZDpofV0sKGZ1bmN0aW9uKGUpe2MuaGFuZGxlQmlnSW1Nc2dSc3AoZSl9KSwoZnVuY3Rpb24oZSl7YSYmYShlKX0pKSk6KHRoaXMuYmlnSU1tZXNzYWdlTGlzdC5wdXNoKHttc2dfY2F0ZWdvcnk6ZSxtc2dfdHlwZToxLG1zZ19jb250ZW50OmksYmlnbXNnX2NsaWVudF9pZDpofSksMT09dGhpcy5iaWdJTW1lc3NhZ2VMaXN0Lmxlbmd0aCYmdGhpcy5zZXRCaWdJbVRpbWVyKGQsdSkpKX0sZC5wcm90b3R5cGUuc2VuZEJpZ1Jvb21NZXNzYWdlSW50ZXJuYWw9ZnVuY3Rpb24oZSx0LHIpeyh0aGlzLnN0YXRlQ2VudGVyLnVzZU5ldEFnZW50P3RoaXMubGl2ZVJvb21IYW5kbGVyOnRoaXMuc2VydmljZSkuc2VuZEJpZ1Jvb21NZXNzYWdlKHttc2dzOmV9LChmdW5jdGlvbihlKXt0KGUpfSksKGZ1bmN0aW9uKGUpe3ZhciB0PW4uUk9PTV9JTk5FUl9FUlJPUjtlLmhlYWRlciYmZS5ib2R5fHwoZS5jb2RlJiZlLm1zZyYmKHQ9ZSkscih0KSkscih0KX0pLHRoaXMucm9vbSksdGhpcy5sb2dnZXIuaW5mbyhvLk1FU1NBR0VfU0VORF9CSUdfTVNHK1wiIHNlbmRCaWdSb29tTWVzc2FnZSBjYWxsZWRcIil9LGQucHJvdG90eXBlLmhhbmRsZUJpZ0ltTXNnUnNwPWZ1bmN0aW9uKGUpe3RoaXMuYmlnaW1UaW1lV2luZG93PWUuYm9keS5iaWdpbV90aW1lX3dpbmRvdztmb3IodmFyIHQ9MDt0PGUuYm9keS5tc2dzLmxlbmd0aDt0Kyspe3ZhciByLGk9ZS5ib2R5Lm1zZ3NbdF0uYmlnbXNnX2NsaWVudF9pZDt0aGlzLmJpZ0ltQ2FsbGJhY2tNYXBbaV0mJihudWxsIT0ocj10aGlzLmJpZ0ltQ2FsbGJhY2tNYXBbaV0uc3VjY2VzcykmJnIoe3NlcTplLmhlYWRlci5zZXEsZXJyb3JDb2RlOjAsbWVzc2FnZUlEOmUuYm9keS5tc2dzW3RdLmJpZ21zZ19pZH0pLGRlbGV0ZSB0aGlzLmJpZ0ltQ2FsbGJhY2tNYXBbaV0pfX0sZC5wcm90b3R5cGUuc2V0QmlnSW1UaW1lcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ZT10LSgobmV3IERhdGUpLmdldFRpbWUoKStlKSV0LHQ9dGhpcy5ydG0uZ2VuZXJhdGVSYW5kdW1OdW1iZXIodCkrZSx0aGlzLmJpZ0ltVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLm9uQmlnSW1UaW1lcigpfSksdCl9LGQucHJvdG90eXBlLm9uQmlnSW1UaW1lcj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCkrdGhpcy5zZXJ2ZXJUaW1lT2Zmc2V0LHI9KHRoaXMuYmlnSW1MYXN0VGltZUluZGV4PU1hdGguZmxvb3IodC90aGlzLmJpZ2ltVGltZVdpbmRvdyksW10pLGk9W10sbz0wO288dGhpcy5iaWdJTW1lc3NhZ2VMaXN0Lmxlbmd0aCYmISgyMDw9byk7bysrKXt2YXIgbj10aGlzLmJpZ0lNbWVzc2FnZUxpc3Rbb107ci5wdXNoKHttc2dfY2F0ZWdvcnk6bi5tc2dfY2F0ZWdvcnksbXNnX3R5cGU6bi5tc2dfdHlwZSxtc2dfY29udGVudDpuLm1zZ19jb250ZW50LGJpZ21zZ19jbGllbnRfaWQ6bi5iaWdtc2dfY2xpZW50X2lkfSksaS5wdXNoKG4uYmlnbXNnX2NsaWVudF9pZCl9MjA8dGhpcy5iaWdJTW1lc3NhZ2VMaXN0Lmxlbmd0aD90aGlzLmJpZ0lNbWVzc2FnZUxpc3Quc3BsaWNlKDAsMjApOnRoaXMuYmlnSU1tZXNzYWdlTGlzdD1bXSx0aGlzLnNlbmRCaWdSb29tTWVzc2FnZUludGVybmFsKHIsKGZ1bmN0aW9uKHQpe2UuaGFuZGxlQmlnSW1Nc2dSc3AodCl9KSwoZnVuY3Rpb24odCxyKXtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIG49aVtvXSxzPWUuYmlnSW1DYWxsYmFja01hcFtuXTtzJiYobnVsbCE9cy5lcnJvciYmcy5lcnJvcih0LHIpLGRlbGV0ZSBlLmJpZ0ltQ2FsbGJhY2tNYXBbbl0pfX0pKSx0aGlzLmJpZ0ltVGltZXImJmNsZWFyVGltZW91dCh0aGlzLmJpZ0ltVGltZXIpLHRoaXMuYmlnSW1UaW1lcj1udWxsLDA8dGhpcy5iaWdJTW1lc3NhZ2VMaXN0Lmxlbmd0aCYmdGhpcy5zZXRCaWdJbVRpbWVyKHRoaXMuc2VydmVyVGltZU9mZnNldCx0aGlzLmJpZ2ltVGltZVdpbmRvdyl9LGQucHJvdG90eXBlLmhhbmRsZVB1c2hNZXJnZU1zZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUuYm9keS5tZXNzYWdlcy5sZW5ndGg7dCsrKTE0MDAxIT09ZS5ib2R5Lm1lc3NhZ2VzW3RdLnN1Yl9jbWQmJlwiL2xyL3B1c2gvYmlnaW1fY2hhdFwiIT09ZS5ib2R5Lm1lc3NhZ2VzW3RdLnN1Yl9jbWR8fHRoaXMuaGFuZGxlUHVzaEJpZ1Jvb01zZyhlLmJvZHkubWVzc2FnZXNbdF0ubXNnX2JvZHkpfSxkLnByb3RvdHlwZS5oYW5kbGVQdXNoQmlnUm9vTXNnPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXRyeXt0PUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIud2FybihvLk1FU1NBR0VfQklHX01TR19QVVNIK1wicGFyc2UganNvbiBlcnJvclwiKX1lbHNlIHQ9ZTtpZih0KXtlPXQucm9vbV9pZDtmb3IodmFyIHI9W10saT0wO2k8dC5tc2dfZGF0YS5sZW5ndGg7aSsrKXt2YXIgbj10Lm1zZ19kYXRhW2ldO24uaWRfbmFtZT09dGhpcy5zdGF0ZUNlbnRlci5pZE5hbWU/dGhpcy5sb2dnZXIuaW5mbyhvLk1FU1NBR0VfQklHX01TR19QVVNIK1wiIHNlbGYgbWVzc2FnZVwiKTpyLnB1c2goe2lkTmFtZTpuLmlkX25hbWUsbmlja05hbWU6bi5uaWNrX25hbWUsbWVzc2FnZUlkOm4uYmlnbXNnX2lkLGNhdGVnb3J5Om4ubXNnX2NhdGVnb3J5LHR5cGU6bi5tc2dfdHlwZSxjb250ZW50Om4ubXNnX2NvbnRlbnQsdGltZTpuLnNlbmRfdGltZXx8Yy5hLmlzTG9uZyhuLm1zZ190aW1lc3RhbXApJiZuLm1zZ190aW1lc3RhbXAudG9OdW1iZXIoKX0pfTA9PXIubGVuZ3RoP3RoaXMubG9nZ2VyLmluZm8oby5NRVNTQUdFX0JJR19NU0dfUFVTSCtcIiBubyBvdGhlciBwdXNoRGF0YSBleGNlcHQgc2VsZlwiKTp0aGlzLm9uUmVjdkJpZ1Jvb21NZXNzYWdlKHIsZSksdGhpcy5sb2dnZXIuaW5mbyhvLk1FU1NBR0VfQklHX01TR19QVVNIK1wiY2FsbCBzdWNjZXNzXCIpfWVsc2UgdGhpcy5sb2dnZXIud2FybihvLk1FU1NBR0VfQklHX01TR19QVVNIK1wiIGNhbm4ndCBmaW5kIG1lc3NhZ2UgYm9keVwiKX0sZC5wcm90b3R5cGUub25SZWN2QmlnUm9vbU1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnJ0bS5nZXRSZXBvcnRTZXEoKSxpPSh0aGlzLmRhdGFSZXBvcnQubmV3UmVwb3J0KHIpLFtdKTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kucHVzaChlPXtmcm9tVXNlcjp7dXNlcklEOmUuaWROYW1lLHVzZXJOYW1lOmUubmlja05hbWV9LG1lc3NhZ2U6ZS5jb250ZW50LHNlbmRUaW1lOmUudGltZSxtZXNzYWdlSUQ6ZS5tZXNzYWdlSWR9KX0pKSx0aGlzLmRhdGFSZXBvcnQudXBsb2FkUmVwb3J0KHIscy5rWmVnb1Rhc2tMaXZlR2V0Um9vbUJpZ0lNLmV2ZW50KSx0aGlzLnN0YXRlQ2VudGVyLmFjdGlvbkxpc3RlbmVyKFwiSU1SZWN2QmFycmFnZU1lc3NhZ2VcIix0LGkpLHRoaXMuc3RhdGVDZW50ZXIuYWN0aW9uTGlzdGVuZXIoXCJfcmVjdkJpZ1Jvb21NZXNzYWdlXCIsZSx0KX0sZC5wcm90b3R5cGUucmVzZXRNZXNzYWdlSW5mbz1mdW5jdGlvbigpe3RoaXMudHJhbnNTZXFNYXA9e30sdGhpcy5yZWFseU1lc3NhZ2VMaXN0PVtdLHRoaXMucmVsYXlUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLnJlbGF5VGltZXIpLHRoaXMucmVsYXlUaW1lcj1udWxsKSx0aGlzLmJpZ0ltTGFzdFRpbWVJbmRleD0wLHRoaXMuYmlnSU1tZXNzYWdlTGlzdD1bXSx0aGlzLmJpZ0ltQ2FsbGJhY2tNYXA9e30sdGhpcy5iaWdJbVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuYmlnSW1UaW1lciksdGhpcy5iaWdJbVRpbWVyPW51bGwpLHRoaXMuc2VydmVyVGltZU9mZnNldD0wLHRoaXMuZGF0aVRpbWVXaW5kb3c9MCx0aGlzLmJpZ2ltVGltZVdpbmRvdz0wfSxkLnByb3RvdHlwZS5zZW5kUmVsYXlNZXNzYWdlPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBvPXRoaXMuZGF0aVRpbWVXaW5kb3csbj10aGlzLnNlcnZlclRpbWVPZmZzZXQ7MDxvPyh0aGlzLnJlYWx5TWVzc2FnZUxpc3QucHVzaCh7dHlwZTplLGRhdGE6dCxzdWNjZXNzOnIsZXJyb3I6aX0pLDE9PXRoaXMucmVhbHlNZXNzYWdlTGlzdC5sZW5ndGgmJnRoaXMuc2V0UmVsYXlUaW1lcihuLG8pKTp0aGlzLnNlbmRSZWxheU1lc3NhZ2VJbnRlcm5hbChlLHQscixpKX0sZC5wcm90b3R5cGUuc2VuZFJlbGF5TWVzc2FnZUludGVybmFsPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBzPXRoaXM7dGhpcy5sb2dnZXIuaW5mbyhvLk1FU1NBR0VfU0VORF9SRUxBWV9NU0crXCIgY2FsbFwiKSwodGhpcy5zdGF0ZUNlbnRlci51c2VOZXRBZ2VudD90aGlzLmxpdmVSb29tSGFuZGxlcjp0aGlzLnNlcnZpY2UpLnNlbmRSZWxheU1lc3NhZ2UoZT17cmVsYXlfdHlwZTplLHJlbGF5X2RhdGE6dH0sKGZ1bmN0aW9uKGUpe3ImJnIoZS5oZWFkZXIuc2VxLGUuYm9keS5yZWxheV9yZXN1bHQpfSksKGZ1bmN0aW9uKGUpe3ZhciB0PW4uUk9PTV9JTk5FUl9FUlJPUjtpZighZS5oZWFkZXJ8fCFlLmJvZHkpcmV0dXJuIGUuY29kZSYmZS5tc2cmJih0PWUpLHZvaWQoaSYmaSh0LDApKTtpJiZpKHMucnRtLmdldFNlcnZlckVycm9yKGUuYm9keS5lcnJfY29kZSksZS5oZWFkZXIuc2VxKX0pLHQ9dGhpcy5yb29tKX0sZC5wcm90b3R5cGUuc2V0UmVsYXlUaW1lcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ZT0obmV3IERhdGUpLmdldFRpbWUoKStlLGU9dGhpcy5ydG0uZ2VuZXJhdGVSYW5kdW1OdW1iZXIoMip0LWUldCksdGhpcy5sb2dnZXIuaW5mbyhvLk1FU1NBR0VfU0VORF9SRUxBWV9NU0crXCIgc2V0VGltZXIgXCIrZSksdGhpcy5yZWxheVRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5vblJlbGF5VGltZXIoKX0pLGUpfSxkLnByb3RvdHlwZS5vblJlbGF5VGltZXI9ZnVuY3Rpb24oKXt2YXIgZTswPT10aGlzLnJlYWx5TWVzc2FnZUxpc3QubGVuZ3RoP3RoaXMubG9nZ2VyLmluZm8oby5NRVNTQUdFX1NFTkRfUkVMQVlfTVNHK1wiICBubyByZWxheSBkYXRhXCIpOih0aGlzLnNlbmRSZWxheU1lc3NhZ2VJbnRlcm5hbCgoZT10aGlzLnJlYWx5TWVzc2FnZUxpc3RbMF0pLnR5cGUsZS5kYXRhLGUuc3VjY2VzcyxlLmVycm9yKSx0aGlzLnJlbGF5VGltZXImJmNsZWFyVGltZW91dCh0aGlzLnJlbGF5VGltZXIpLHRoaXMucmVsYXlUaW1lcj1udWxsLHRoaXMucmVhbHlNZXNzYWdlTGlzdC5zcGxpY2UoMCwxKSwwPHRoaXMucmVhbHlNZXNzYWdlTGlzdC5sZW5ndGgmJnRoaXMuc2V0UmVsYXlUaW1lcih0aGlzLnNlcnZlclRpbWVPZmZzZXQsdGhpcy5kYXRpVGltZVdpbmRvdykpfSxkLnByb3RvdHlwZS5nZXRSb29tQ2hhdEluZm89ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5sb2dnZXIuZGVidWcoXCJ6Yi5taC5ncmMgY2FsbFwiKSx0aGlzLnJvb20uaXNMb2dpbigpPyh0aGlzLnNlcnZpY2Uuc2VuZE1lc3NhZ2UoXCJ6ZWdvY2hhdF9qcy5yb29tX2ltX2NoYXRfZmV0Y2hcIixlPXtyb29tX2hlYWRlcjp7cm9vbV9pZDp0aGlzLnJvb20ucm9vbUlELHJvb21fc2lkOnRoaXMucm9vbS5yb29tU2lkfHxcIjBcIixyb29tX3VzZXJfc2Vzc2lvbl9pZDp0aGlzLnJvb20ucm9vbVNlc3Npb25JRHx8XCIwXCJ9LG1zZ19pZDplLG1zZ19jb3VudDp0fSx0PWZ1bmN0aW9uKGUsdCl7MCE9PWUuYm9keS5jb2RlP2koe2Vycm9yQ29kZTplLmJvZHkuY29kZSxleHRlbmREYXRhOmUuYm9keS5tZXNzYWdlfHxcIlwifSk6KGU9ZS5ib2R5Lm1zZ19kYXRhLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2Zyb21Vc2VyOnt1c2VySUQ6ZS51c2VyX2lkLHVzZXJOYW1lOmUudXNlcl9uYW1lfSxtZXNzYWdlOmUubXNnX2NvbnRlbnQsc2VuZFRpbWU6ZS5zZW5kX3RpbWUsbWVzc2FnZUlEOmUubXNnX2lkfX0pKSxyKHtjaGF0RGF0YTplfSkpfSx0KSx0aGlzLmxvZ2dlci5pbmZvKFwiemIubWguZ3JjIGNhbGwgc3VjY2Vzc1wiKSk6dGhpcy5sb2dnZXIuZXJyb3IoXCJ6Yi5taC5zcm0gbm8gZW50ZXIgcm9vbVwiKX0sZCk7ZnVuY3Rpb24gZChlLHQscixpLG8sbixzKXt2YXIgYT10aGlzO3RoaXMubG9nZ2VyPWUsdGhpcy5zdGF0ZUNlbnRlcj10LHRoaXMuZGF0YVJlcG9ydD1yLHRoaXMuc2VydmljZT1pLHRoaXMubGl2ZVJvb21IYW5kbGVyPW8sdGhpcy5ydG09bix0aGlzLnJvb209cyx0aGlzLnNlbmRSb29tTXNnVGltZT0wLHRoaXMuc2VuZFJvb21Nc2dJbnRlcnZhbD01MDAsdGhpcy5iaWdJbUNhbGxiYWNrTWFwPXt9LHRoaXMuYmlnSW1MYXN0VGltZUluZGV4PTAsdGhpcy5iaWdJTW1lc3NhZ2VMaXN0PVtdLHRoaXMuYmlnSW1UaW1lcj1udWxsLHRoaXMucmVsYXlUaW1lcj1udWxsLHRoaXMuc2VydmVyVGltZU9mZnNldD0wLHRoaXMuZGF0aVRpbWVXaW5kb3c9MCx0aGlzLmJpZ2ltVGltZVdpbmRvdz0wLHRoaXMuaXNSZWxpYWJsZT0hMSx0aGlzLnRyYW5zU2VxTWFwPXt9LHRoaXMub25SZWN2UmVsaWFibGVNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PShlPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc19pZG5hbWUhPT1hLnN0YXRlQ2VudGVyLmlkTmFtZX0pKSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57a2V5OmUudHJhbnNfdHlwZSx2YWx1ZTplLnRyYW5zX2RhdGEsdXBkYXRlVXNlcjp7dXNlcklEOmUudHJhbnNfaWRuYW1lLHVzZXJOYW1lOmUudHJhbnNfbmlja25hbWV9LHVwZGF0ZVRpbWU6Yy5hLmlzTG9uZyhlLnRyYW5zX3NlbmRfdGltZSk/ZS50cmFuc19zZW5kX3RpbWUudG9OdW1iZXIoKTplLnRyYW5zX3NlbmRfdGltZX19KSk7MDx0Lmxlbmd0aCYmYS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcInJvb21FeHRyYUluZm9VcGRhdGVcIixhLnJvb20ucm9vbUlELHQpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5zdGF0ZUNlbnRlci5hY3Rpb25MaXN0ZW5lcihcInJlY3ZSZWxpYWJsZU1lc3NhZ2VcIixlLnRyYW5zX3R5cGUsZS50cmFuc19zZXEsZS50cmFuc19kYXRhKX0pKX0sdGhpcy5yZWFseU1lc3NhZ2VMaXN0PVtdfWZ1bmN0aW9uIGwoZSx0LHIsaSl7dmFyIG49dGhpcztyZXR1cm4gdm9pZCAwPT09ciYmKHI9MSksdm9pZCAwPT09aSYmKGk9MSksbmV3IFByb21pc2UoKGZ1bmN0aW9uKGEsYyl7dmFyIHU9bi5nZXRSZXBvcnRTZXEoKTtpZihjPShuLmRhdGFSZXBvcnQubmV3UmVwb3J0KHUscy5rWmVnb1Rhc2tMaXZlUm9vbVNlbmRSb29tTWVzc2FnZS5ldmVudCksYT1uLnByb3h5UmVzKG4uZGF0YVJlcG9ydCx1LGEsYykpLmludGVyUmVzb2x2ZSxhPWEuaW50ZXJSZWplY3QsXCJzdHJpbmdcIiE9dHlwZW9mIGV8fFwiXCI9PWUpcmV0dXJuIG4ubG9nZ2VyLmVycm9yKG8uUlRNX1NFTkRfQkNNK1wiIHJvb21pZCBtdXN0IGJlIHN0cmluZyBhbmQgbm90IGVtcHR5XCIpLHZvaWQgYShzLmtaZWdvVGFza0xpdmVSb29tU2VuZFJvb21NZXNzYWdlLmVycm9yLklOUFVUX1BBUkFNLFwiIHBhcmFtIHJvb21JRCBlcnJvclwiKTtpZih2b2lkIDA9PT10fHxcIlwiPT10KXJldHVybiBuLmxvZ2dlci5lcnJvcihvLlJUTV9TRU5EX0JDTStcIiBtZXNzYWdlIGlzIGVtcHR5XCIpLHZvaWQgYShzLmtaZWdvVGFza0xpdmVSb29tU2VuZFJvb21NZXNzYWdlLmVycm9yLklNX0NPTlRFTlRfTlVMTCk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIG4ubG9nZ2VyLmVycm9yKG8uUlRNX1NFTkRfQkNNK1wiIG1lc3NhZ2UgbXVzdCBiZSBzdHJpbmdcIiksdm9pZCBhKHMua1plZ29UYXNrTGl2ZVJvb21TZW5kUm9vbU1lc3NhZ2UuZXJyb3IuSU5QVVRfUEFSQU0sXCIgcGFyYW0gbWVzc2FnZSBlcnJvclwiKTtpZigxMDI0PHQubGVuZ3RoKXJldHVybiBuLmxvZ2dlci5lcnJvcihvLlJUTV9TRU5EX0JDTStcIiBtZXNzYWdlIHRvbyBsb25nXCIpLHZvaWQgYShzLmtaZWdvVGFza0xpdmVSb29tU2VuZFJvb21NZXNzYWdlLmVycm9yLklNX0NPTlRFTlRfVE9PX0xPTkcpO3ZhciBkPW4uZ2V0Um9vbU1vZHVsZXMoZSk7ZD8obi5kYXRhUmVwb3J0LmFkZE1zZ0luZm8odSx7cm9vbV9zaWQ6cy5rWmVnb1Rhc2tMaXZlUm9vbVNlbmRSb29tTWVzc2FnZS5yb29tX3NpZChkLnNlc3Npb25JRCl9KSxkLm1lc3NhZ2VIYW5kbGVyLnNlbmRSb29tTXNnKHIsaSxlLHQsYyxhKSk6YShzLmtaZWdvVGFza0xpdmVSb29tU2VuZFJvb21NZXNzYWdlLmVycm9yLlJPT01fTk9UX0VYSVNUKX0pKX1mdW5jdGlvbiBoKGUsdCxyKXt2YXIgaT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYSxjKXt2YXIgdT1pLmdldFJlcG9ydFNlcSgpO2lmKGM9KGkuZGF0YVJlcG9ydC5uZXdSZXBvcnQodSxzLmtaZWdvVGFza0xpdmVSb29tU2VuZEN1c3RvbUNvbW1hbmQuZXZlbnQpLGE9aS5wcm94eVJlcyhpLmRhdGFSZXBvcnQsdSxhLGMpKS5pbnRlclJlc29sdmUsYT1hLmludGVyUmVqZWN0LFwic3RyaW5nXCIhPXR5cGVvZiBlfHxcIlwiPT1lKXJldHVybiBpLmxvZ2dlci5lcnJvcihvLlJUTV9TRU5EX0NVU1RPTStcIiByb29taWQgbXVzdCBiZSBzdHJpbmcgYW5kIG5vdCBlbXB0eVwiKSx2b2lkIGEobi5JTlBVVF9QQVJBTSxcIiBwYXJhbSByb29tSUQgZXJyb3JcIik7aWYoIShyIGluc3RhbmNlb2YgQXJyYXkpfHxyLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlfSkpKXJldHVybiBpLmxvZ2dlci5lcnJvcihvLlJUTV9TRU5EX0NVU1RPTStcIiBkc3RNZW1iZXJzIG11c3QgYmUgc3RyaW5nIGFycmF5XCIpLHZvaWQgYShzLmtaZWdvVGFza0xpdmVSb29tU2VuZEN1c3RvbUNvbW1hbmQuZXJyb3IuSU5QVVRfUEFSQU0sXCIgcGFyYW0gdG9Vc2VyTGlzdCBlcnJvclwiKTtpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmXCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuIGkubG9nZ2VyLmVycm9yKG8uUlRNX1NFTkRfQ1VTVE9NK1wiIGN1c3RvbSBjb250ZW50IG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nIG9yIG9iamVjdFwiKSx2b2lkIGEocy5rWmVnb1Rhc2tMaXZlUm9vbVNlbmRDdXN0b21Db21tYW5kLmVycm9yLklOUFVUX1BBUkFNLFwiIHBhcmFtIGNvbW1hbmQgZXJyb3JcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJjEwMjQ8dC5sZW5ndGgpcmV0dXJuIGkubG9nZ2VyLmVycm9yKG8uUlRNX1NFTkRfQ1VTVE9NK1wiIGNvbW1hbmQgdG9vIGxvbmdcIiksdm9pZCBhKHMua1plZ29UYXNrTGl2ZVJvb21TZW5kQ3VzdG9tQ29tbWFuZC5lcnJvci5JTV9DT05URU5UX1RPT19MT05HKTt2YXIgZD1pLmdldFJvb21Nb2R1bGVzKGUpO2Q/KGkuZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHUse3Jvb21fc2lkOnMua1plZ29UYXNrTGl2ZVJvb21TZW5kQ3VzdG9tQ29tbWFuZC5yb29tX3NpZChkLnNlc3Npb25JRCl9KSxkLm1lc3NhZ2VIYW5kbGVyLnNlbmRDdXN0b21Db21tYW5kKHIsdCxjLGEpKTphKHMua1plZ29UYXNrTGl2ZVJvb21TZW5kQ3VzdG9tQ29tbWFuZC5lcnJvci5ST09NX05PVF9FWElTVCl9KSl9ZnVuY3Rpb24gcChlLHQscixpKXt2YXIgbj10aGlzO3JldHVybiB2b2lkIDA9PT1yJiYocj0xKSx2b2lkIDA9PT1pJiYoaT0xKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYSxjKXt2YXIgdT1uLmdldFJlcG9ydFNlcSgpO2lmKGM9KG4uZGF0YVJlcG9ydC5uZXdSZXBvcnQodSxzLmtaZWdvVGFza0xpdmVTZW5kUm9vbUJpZ0lNLmV2ZW50KSxhPW4ucHJveHlSZXMobi5kYXRhUmVwb3J0LHUsYSxjKSkuaW50ZXJSZXNvbHZlLGE9YS5pbnRlclJlamVjdCxcInN0cmluZ1wiIT10eXBlb2YgZXx8XCJcIj09ZSlyZXR1cm4gbi5sb2dnZXIuZXJyb3Ioby5SVE1fU0VORF9CUk0rXCJyb29taWQgbXVzdCBiZSBzdHJpbmcgYW5kIG5vdCBlbXB0eVwiKSx2b2lkIGEocy5rWmVnb1Rhc2tMaXZlU2VuZFJvb21CaWdJTS5lcnJvci5JTlBVVF9QQVJBTSxcIiBwYXJhbSByb29tSUQgZXJyb3JcIik7aWYodm9pZCAwPT09dHx8XCJcIj09dClyZXR1cm4gbi5sb2dnZXIuZXJyb3Ioby5SVE1fU0VORF9CUk0rXCIgbWVzc2FnZSBpcyBlbXB0eVwiKSx2b2lkIGEocy5rWmVnb1Rhc2tMaXZlU2VuZFJvb21CaWdJTS5lcnJvci5JTV9DT05URU5UX05VTEwpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiBuLmxvZ2dlci5lcnJvcihvLlJUTV9TRU5EX0JSTStcIiBtZXNzYWdlIG11c3QgYmUgc3RyaW5nXCIpLHZvaWQgYShzLmtaZWdvVGFza0xpdmVTZW5kUm9vbUJpZ0lNLmVycm9yLklOUFVUX1BBUkFNLFwiIHBhcmFtIG1lc3NhZ2UgZXJyb3JcIik7aWYoMTAyNDx0Lmxlbmd0aClyZXR1cm4gbi5sb2dnZXIuZXJyb3Ioby5SVE1fU0VORF9CUk0rXCIgbWVzc2FnZSB0b28gbG9uZ1wiKSx2b2lkIGEocy5rWmVnb1Rhc2tMaXZlU2VuZFJvb21CaWdJTS5lcnJvci5JTV9DT05URU5UX1RPT19MT05HKTt2YXIgZD1uLmdldFJvb21Nb2R1bGVzKGUpO2Q/KG4uZGF0YVJlcG9ydC5hZGRNc2dJbmZvKHUse3Jvb21fc2lkOnMua1plZ29UYXNrTGl2ZVNlbmRSb29tQmlnSU0ucm9vbV9zaWQoZC5zZXNzaW9uSUQpfSksZC5tZXNzYWdlSGFuZGxlci5zZW5kQmlnUm9vbU1lc3NhZ2UocixpLGUsdCxjLGEpKTphKHMua1plZ29UYXNrTGl2ZVNlbmRSb29tQmlnSU0uZXJyb3IuUk9PTV9OT1RfRVhJU1QpfSkpfWZ1bmN0aW9uIGcoZSx0LHIpe3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGEpe3ZhciBjPWkuZ2V0UmVwb3J0U2VxKCk7aWYoYT0oaS5kYXRhUmVwb3J0Lm5ld1JlcG9ydChjLHMua1plZ29UYXNrTGl2ZVJvb21TZW5kUmVsaWFibGVNZXNzYWdlLmV2ZW50KSxuPWkucHJveHlSZXMoaS5kYXRhUmVwb3J0LGMsbixhKSkuaW50ZXJSZXNvbHZlLG49bi5pbnRlclJlamVjdCxcInN0cmluZ1wiIT10eXBlb2YgZXx8XCJcIj09ZSlyZXR1cm4gaS5sb2dnZXIuZXJyb3Ioby5SVE1fU0VORF9CQ00rXCIgcm9vbWlkIG11c3QgYmUgc3RyaW5nIGFuZCBub3QgZW1wdHlcIiksdm9pZCBuKHMua1plZ29UYXNrTGl2ZVJvb21TZW5kUm9vbU1lc3NhZ2UuZXJyb3IuSU5QVVRfUEFSQU0sXCIgcGFyYW0gcm9vbUlEIGVycm9yXCIpO2lmKCF0fHxcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gaS5sb2dnZXIuZXJyb3Ioby5SVE1fU0VORF9STE0rXCIgdHlwZSBtdXN0IGJlIHN0cmluZ1wiKSx2b2lkIG4oe2Vycm9yQ29kZTpzLmtaZWdvVGFza0xpdmVSb29tU2VuZFJlbGlhYmxlTWVzc2FnZS5lcnJvci5JTlBVVF9QQVJBTS5jb2RlfSk7aWYoMTI4PHQubGVuZ3RoKXJldHVybiBpLmxvZ2dlci5lcnJvcihvLlJUTV9TRU5EX1JMTStcIiB0eXBlIGlzIHRvbyBsb25nXCIpLHZvaWQgbih7ZXJyb3JDb2RlOnMua1plZ29UYXNrTGl2ZVJvb21TZW5kUmVsaWFibGVNZXNzYWdlLmVycm9yLklOUFVUX1BBUkFNLmNvZGV9KTtpZihcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4gaS5sb2dnZXIuZXJyb3Ioby5SVE1fU0VORF9STE0rXCIgZGF0YSBtdXN0IGJlIHN0cmluZ1wiKSx2b2lkIG4oe2Vycm9yQ29kZTpzLmtaZWdvVGFza0xpdmVSb29tU2VuZFJlbGlhYmxlTWVzc2FnZS5lcnJvci5JTlBVVF9QQVJBTS5jb2RlfSk7aWYoNDA5NjxyLmxlbmd0aClyZXR1cm4gaS5sb2dnZXIuZXJyb3Ioby5SVE1fU0VORF9STE0rXCIgdHlwZSBpcyB0b28gbG9uZ1wiKSx2b2lkIG4oe2Vycm9yQ29kZTpzLmtaZWdvVGFza0xpdmVSb29tU2VuZFJlbGlhYmxlTWVzc2FnZS5lcnJvci5JTlBVVF9QQVJBTS5jb2RlfSk7dmFyIHU9aS5nZXRSb29tTW9kdWxlcyhlKTt1PyhpLmRhdGFSZXBvcnQuYWRkTXNnSW5mbyhjLHtyb29tX3NpZDpzLmtaZWdvVGFza0xpdmVSb29tU2VuZFJlbGlhYmxlTWVzc2FnZS5yb29tX3NpZCh1LnNlc3Npb25JRCl9KSx1Lm1lc3NhZ2VIYW5kbGVyLnNlbmRSZWxpYWJsZU1lc3NhZ2UodCxyLGEsbikpOm4ocy5rWmVnb1Rhc2tMaXZlUm9vbVNlbmRSZWxpYWJsZU1lc3NhZ2UuZXJyb3IuUk9PTV9OT1RfRVhJU1QpfSkpfXZhciBmPXtfc2VuZEJyb2FkY2FzdE1lc3NhZ2U6bCxzZW5kQnJvYWRjYXN0TWVzc2FnZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe2wuY2FsbChyLGUsdCkudGhlbigoZnVuY3Rpb24oZSl7aSh7ZXJyb3JDb2RlOmUuZXJyb3JDb2RlLG1lc3NhZ2VJRDplLm1lc3NhZ2VJRCxleHRlbmRlZERhdGE6ZS5leHRlbmRlZERhdGF9KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0sX3NlbmRDdXN0b21Db21tYW5kOmgsc2VuZEN1c3RvbUNvbW1hbmQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLG4pe2guY2FsbChpLGUsdCxyKS50aGVuKChmdW5jdGlvbihlKXtvKHtlcnJvckNvZGU6ZS5lcnJvckNvZGUsZXh0ZW5kZWREYXRhOmUuZXh0ZW5kZWREYXRhfSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe24oZSl9KSl9KSl9LF9zZW5kQmFycmFnZU1lc3NhZ2U6cCxzZW5kQmFycmFnZU1lc3NhZ2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxvKXtwLmNhbGwocixlLHQpLnRoZW4oKGZ1bmN0aW9uKGUpe2koe2Vycm9yQ29kZTplLmVycm9yQ29kZSxtZXNzYWdlSUQ6ZS5tZXNzYWdlSUQsZXh0ZW5kZWREYXRhOmUuZXh0ZW5kZWREYXRhfSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LF9zZXRSb29tRXh0cmFJbmZvOmcsc2V0Um9vbUV4dHJhSW5mbzpmdW5jdGlvbihlLHQscil7cmV0dXJuIGcuY2FsbCh0aGlzLGUsdCxyKX0sc2VuZFJlbGF5TWVzc2FnZTpmdW5jdGlvbihlLHQscixpLG8peyhvPXRoaXMuZ2V0Um9vbU1vZHVsZXMobyl8fHRoaXMuc3RhdGVDZW50ZXIucm9vbU1vZHVsZXNMaXN0WzBdKT9vLm1lc3NhZ2VIYW5kbGVyLnNlbmRSZWxheU1lc3NhZ2UoZSx0LHIsaSk6aSYmaShuLlJPT01fTk9UX0VYSVNULDApfX0sbT17aGFuZGxlUHVzaFJvb21Nc2c6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oYW5kbGVQdXNoTXNnKGUpO3RbMF0ubWVzc2FnZUhhbmRsZXIuaGFuZGxlUHVzaFJvb21Nc2coZT10WzFdKX0saGFuZGxlUHVzaEN1c3RvbU1zZzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmhhbmRsZVB1c2hNc2coZSk7dFswXS5tZXNzYWdlSGFuZGxlci5oYW5kbGVQdXNoQ3VzdG9tTXNnKGU9dFsxXSl9LGhhbmRsZVB1c2hNZXJnZU1zZzpmdW5jdGlvbihlKXt2YXIgdD1udWxsPT0odD1udWxsPT1lP3ZvaWQgMDplLmhlYWRlcik/dm9pZCAwOnQucm9vbV9pZDsodD10aGlzLnJ0bS5nZXRSb29tTW9kdWxlcyh0KSk/dC5tZXNzYWdlSGFuZGxlci5oYW5kbGVQdXNoTWVyZ2VNc2coZSk6dGhpcy5sb2dnZXIuZXJyb3Ioby5TRVJWSUNFX1BVU0grXCIgcm9vbSBubyBmb3VuZCBpZ25vcmUgXCIrSlNPTi5zdHJpbmdpZnkoZSkpfSxoYW5kbGVQdXNoVHJhbnNNc2c6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oYW5kbGVQdXNoTXNnKGUpO3RbMF0ubWVzc2FnZUhhbmRsZXIuaGFuZGxlUHVzaFRyYW5zTXNnKGU9dFsxXSl9LGhhbmRsZUJpZ0ltTXNnUnNwOmZ1bmN0aW9uKGUpe3ZhciB0PW51bGw9PSh0PW51bGw9PWU/dm9pZCAwOmUuaGVhZGVyKT92b2lkIDA6dC5yb29tX2lkOyh0PXRoaXMucnRtLmdldFJvb21Nb2R1bGVzKHQpKT90Lm1lc3NhZ2VIYW5kbGVyLmhhbmRsZUJpZ0ltTXNnUnNwKGUpOnRoaXMubG9nZ2VyLmVycm9yKG8uU0VSVklDRV9QVVNIK1wiIHJvb20gbm8gZm91bmQgaWdub3JlIFwiK0pTT04uc3RyaW5naWZ5KGUpKX0saGFuZGxlUHVzaE1zZzpmdW5jdGlvbihlKXt2YXIgdD1udWxsPT0odD1udWxsPT1lP3ZvaWQgMDplLmhlYWRlcik/dm9pZCAwOnQucm9vbV9pZDtpZih0PXRoaXMucnRtLmdldFJvb21Nb2R1bGVzKHQpKXJldHVyblt0LGVdO3RoaXMubG9nZ2VyLmVycm9yKG8uU0VSVklDRV9QVVNIK1wiIHJvb20gbm8gZm91bmQgaWdub3JlIFwiK0pTT04uc3RyaW5naWZ5KGUpKX19LF89e2luaXRNZXNzYWdlSGFuZGxlcjpmdW5jdGlvbigpe3RoaXMubWVzc2FnZUhhbmRsZXI9bmV3IHUodGhpcy5sb2dnZXIsdGhpcy5zdGF0ZUNlbnRlcix0aGlzLmRhdGFSZXBvcnQsdGhpcy5zZXJ2aWNlLHRoaXMubGl2ZVJvb21IYW5kbGVyLHRoaXMucnRtLHRoaXMpfX07dC5kZWZhdWx0PXt0eXBlOlwibWVzc2FnZVwiLGluc3RhbGw6ZnVuY3Rpb24oZSx0LHIsaSl7Zm9yKHZhciBvIGluIGYpT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLG8se3ZhbHVlOmZbb10sd3JpdGFibGU6ITF9KTtmb3IodmFyIG8gaW4gbSlPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsbyx7dmFsdWU6bVtvXSx3cml0YWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxvLHt2YWx1ZTptW29dLHdyaXRhYmxlOiExfSk7Zm9yKHZhciBvIGluIF8pT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLG8se3ZhbHVlOl9bb10sd3JpdGFibGU6ITF9KX19fX0scj17fSxlLm09dCxlLmM9cixlLmQ9ZnVuY3Rpb24odCxyLGkpe2Uubyh0LHIpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LGUucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxlLnQ9ZnVuY3Rpb24odCxyKXtpZigxJnImJih0PWUodCkpLDgmcilyZXR1cm4gdDtpZig0JnImJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihlLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImciYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBvIGluIHQpZS5kKGksbyxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLG8pKTtyZXR1cm4gaX0sZS5uPWZ1bmN0aW9uKHQpe3ZhciByPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBlLmQocixcImFcIixyKSxyfSxlLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LGUucD1cIlwiLGUoZS5zPTIyKTtmdW5jdGlvbiBlKGkpe2lmKHJbaV0pcmV0dXJuIHJbaV0uZXhwb3J0czt2YXIgbz1yW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxlKSxvLmw9ITAsby5leHBvcnRzfXZhciB0LHJ9KCl9LDQxMTk6ZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPV9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzQxMTlfX319LF9fd2VicGFja19tb2R1bGVfY2FjaGVfXz17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKGUpe3ZhciB0PV9fd2VicGFja19tb2R1bGVfY2FjaGVfX1tlXTtpZih2b2lkIDAhPT10KXJldHVybiB0LmV4cG9ydHM7dmFyIHI9X193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW2VdPXtleHBvcnRzOnt9fTtyZXR1cm4gX193ZWJwYWNrX21vZHVsZXNfX1tlXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxyLmV4cG9ydHN9X193ZWJwYWNrX3JlcXVpcmVfXy5nPWZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvd319KCk7dmFyIF9fd2VicGFja19leHBvcnRzX189X193ZWJwYWNrX3JlcXVpcmVfXyg4MzA3KTtyZXR1cm4gX193ZWJwYWNrX2V4cG9ydHNfX30oKX0pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/zego-express-engine-webrtc/ZegoExpressWebRTC.js\n");

/***/ })

}]);